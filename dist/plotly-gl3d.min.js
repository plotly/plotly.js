/**
* plotly.js (gl3d - minified) v3.4.0
* Copyright 2012-2026, Plotly, Inc.
* All rights reserved.
* Licensed under the MIT license
*/
(
 function(root, factory) {
  if (typeof module === "object" && module.exports) {
   module.exports = factory();
  } else {
   root.moduleName = factory();
  }
} (typeof self !== "undefined" ? self : this, () => {
"use strict";var Plotly=(()=>{var NB=Object.defineProperty,zB=Object.defineProperties;var qB=Object.getOwnPropertyDescriptors;var db=Object.getOwnPropertySymbols;var OB=Object.prototype.hasOwnProperty,BB=Object.prototype.propertyIsEnumerable;var pb=(e,r,t)=>r in e?NB(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Cl=(e,r)=>{for(var t in r||(r={}))OB.call(r,t)&&pb(e,t,r[t]);if(db)for(var t of db(r))BB.call(r,t)&&pb(e,t,r[t]);return e},C0=(e,r)=>zB(e,qB(r));var de=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var E0=de(gb=>{"use strict";gb.version="3.4.0"});var mb=de((yb,L0)=>{(function(r,t,n){t[r]=t[r]||n(),typeof L0!="undefined"&&L0.exports&&(L0.exports=t[r])})("Promise",typeof window!="undefined"?window:yb,function(){"use strict";var r,t,n,a=Object.prototype.toString,o=typeof setImmediate!="undefined"?function(k){return setImmediate(k)}:setTimeout;try{Object.defineProperty({},"x",{}),r=function(k,S,x,M){return Object.defineProperty(k,S,{value:x,writable:!0,configurable:M!==!1})}}catch(m){r=function(S,x,M){return S[x]=M,S}}n=function(){var k,S,x;function M(d,_){this.fn=d,this.self=_,this.next=void 0}return{add:function(_,g){x=new M(_,g),S?S.next=x:k=x,S=x,x=void 0},drain:function(){var _=k;for(k=S=t=void 0;_;)_.fn.call(_.self),_=_.next}}}();function i(m,k){n.add(m,k),t||(t=o(n.drain))}function l(m){var k,S=typeof m;return m!=null&&(S=="object"||S=="function")&&(k=m.then),typeof k=="function"?k:!1}function u(){for(var m=0;m<this.chain.length;m++)s(this,this.state===1?this.chain[m].success:this.chain[m].failure,this.chain[m]);this.chain.length=0}function s(m,k,S){var x,M;try{k===!1?S.reject(m.msg):(k===!0?x=m.msg:x=k.call(void 0,m.msg),x===S.promise?S.reject(TypeError("Promise-chain cycle")):(M=l(x))?M.call(x,S.resolve,S.reject):S.resolve(x))}catch(d){S.reject(d)}}function f(m){var k,S=this;if(!S.triggered){S.triggered=!0,S.def&&(S=S.def);try{(k=l(m))?i(function(){var x=new b(S);try{k.call(m,function(){f.apply(x,arguments)},function(){h.apply(x,arguments)})}catch(M){h.call(x,M)}}):(S.msg=m,S.state=1,S.chain.length>0&&i(u,S))}catch(x){h.call(new b(S),x)}}}function h(m){var k=this;k.triggered||(k.triggered=!0,k.def&&(k=k.def),k.msg=m,k.state=2,k.chain.length>0&&i(u,k))}function p(m,k,S,x){for(var M=0;M<k.length;M++)(function(_){m.resolve(k[_]).then(function(c){S(_,c)},x)})(M)}function b(m){this.def=m,this.triggered=!1}function y(m){this.promise=m,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function w(m){if(typeof m!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var k=new y(this);this.then=function(x,M){var d={success:typeof x=="function"?x:!0,failure:typeof M=="function"?M:!1};return d.promise=new this.constructor(function(g,c){if(typeof g!="function"||typeof c!="function")throw TypeError("Not a function");d.resolve=g,d.reject=c}),k.chain.push(d),k.state!==0&&i(u,k),d.promise},this.catch=function(x){return this.then(void 0,x)};try{m.call(void 0,function(x){f.call(k,x)},function(x){h.call(k,x)})}catch(S){h.call(k,S)}}var T=r({},"constructor",w,!1);return w.prototype=T,r(T,"__NPO__",0,!1),r(w,"resolve",function(k){var S=this;return k&&typeof k=="object"&&k.__NPO__===1?k:new S(function(M,d){if(typeof M!="function"||typeof d!="function")throw TypeError("Not a function");M(k)})}),r(w,"reject",function(k){return new this(function(x,M){if(typeof x!="function"||typeof M!="function")throw TypeError("Not a function");M(k)})}),r(w,"all",function(k){var S=this;return a.call(k)!="[object Array]"?S.reject(TypeError("Not an array")):k.length===0?S.resolve([]):new S(function(M,d){if(typeof M!="function"||typeof d!="function")throw TypeError("Not a function");var _=k.length,g=Array(_),c=0;p(S,k,function(v,D){g[v]=D,++c===_&&M(g)},d)})}),r(w,"race",function(k){var S=this;return a.call(k)!="[object Array]"?S.reject(TypeError("Not an array")):new S(function(M,d){if(typeof M!="function"||typeof d!="function")throw TypeError("Not a function");p(S,k,function(g,c){M(c)},d)})}),w})});var it=de((ffe,D0)=>{(function(){var e={version:"3.8.2"},r=[].slice,t=function(C){return r.call(C)},n=self.document;function a(C){return C&&(C.ownerDocument||C.document||C).documentElement}function o(C){return C&&(C.ownerDocument&&C.ownerDocument.defaultView||C.document&&C||C.defaultView)}if(n)try{t(n.documentElement.childNodes)[0].nodeType}catch(C){t=function(z){for(var B=z.length,G=new Array(B);B--;)G[B]=z[B];return G}}if(Date.now||(Date.now=function(){return+new Date}),n)try{n.createElement("DIV").style.setProperty("opacity",0,"")}catch(C){var i=this.Element.prototype,l=i.setAttribute,u=i.setAttributeNS,s=this.CSSStyleDeclaration.prototype,f=s.setProperty;i.setAttribute=function(z,B){l.call(this,z,B+"")},i.setAttributeNS=function(z,B,G){u.call(this,z,B,G+"")},s.setProperty=function(z,B,G){f.call(this,z,B+"",G)}}e.ascending=h;function h(C,z){return C<z?-1:C>z?1:C>=z?0:NaN}e.descending=function(C,z){return z<C?-1:z>C?1:z>=C?0:NaN},e.min=function(C,z){var B=-1,G=C.length,W,Z;if(arguments.length===1){for(;++B<G;)if((Z=C[B])!=null&&Z>=Z){W=Z;break}for(;++B<G;)(Z=C[B])!=null&&W>Z&&(W=Z)}else{for(;++B<G;)if((Z=z.call(C,C[B],B))!=null&&Z>=Z){W=Z;break}for(;++B<G;)(Z=z.call(C,C[B],B))!=null&&W>Z&&(W=Z)}return W},e.max=function(C,z){var B=-1,G=C.length,W,Z;if(arguments.length===1){for(;++B<G;)if((Z=C[B])!=null&&Z>=Z){W=Z;break}for(;++B<G;)(Z=C[B])!=null&&Z>W&&(W=Z)}else{for(;++B<G;)if((Z=z.call(C,C[B],B))!=null&&Z>=Z){W=Z;break}for(;++B<G;)(Z=z.call(C,C[B],B))!=null&&Z>W&&(W=Z)}return W},e.extent=function(C,z){var B=-1,G=C.length,W,Z,se;if(arguments.length===1){for(;++B<G;)if((Z=C[B])!=null&&Z>=Z){W=se=Z;break}for(;++B<G;)(Z=C[B])!=null&&(W>Z&&(W=Z),se<Z&&(se=Z))}else{for(;++B<G;)if((Z=z.call(C,C[B],B))!=null&&Z>=Z){W=se=Z;break}for(;++B<G;)(Z=z.call(C,C[B],B))!=null&&(W>Z&&(W=Z),se<Z&&(se=Z))}return[W,se]};function p(C){return C===null?NaN:+C}function b(C){return!isNaN(C)}e.sum=function(C,z){var B=0,G=C.length,W,Z=-1;if(arguments.length===1)for(;++Z<G;)b(W=+C[Z])&&(B+=W);else for(;++Z<G;)b(W=+z.call(C,C[Z],Z))&&(B+=W);return B},e.mean=function(C,z){var B=0,G=C.length,W,Z=-1,se=G;if(arguments.length===1)for(;++Z<G;)b(W=p(C[Z]))?B+=W:--se;else for(;++Z<G;)b(W=p(z.call(C,C[Z],Z)))?B+=W:--se;if(se)return B/se},e.quantile=function(C,z){var B=(C.length-1)*z+1,G=Math.floor(B),W=+C[G-1],Z=B-G;return Z?W+Z*(C[G]-W):W},e.median=function(C,z){var B=[],G=C.length,W,Z=-1;if(arguments.length===1)for(;++Z<G;)b(W=p(C[Z]))&&B.push(W);else for(;++Z<G;)b(W=p(z.call(C,C[Z],Z)))&&B.push(W);if(B.length)return e.quantile(B.sort(h),.5)},e.variance=function(C,z){var B=C.length,G=0,W,Z,se=0,ie=-1,fe=0;if(arguments.length===1)for(;++ie<B;)b(W=p(C[ie]))&&(Z=W-G,G+=Z/++fe,se+=Z*(W-G));else for(;++ie<B;)b(W=p(z.call(C,C[ie],ie)))&&(Z=W-G,G+=Z/++fe,se+=Z*(W-G));if(fe>1)return se/(fe-1)},e.deviation=function(){var C=e.variance.apply(this,arguments);return C&&Math.sqrt(C)};function y(C){return{left:function(z,B,G,W){for(arguments.length<3&&(G=0),arguments.length<4&&(W=z.length);G<W;){var Z=G+W>>>1;C(z[Z],B)<0?G=Z+1:W=Z}return G},right:function(z,B,G,W){for(arguments.length<3&&(G=0),arguments.length<4&&(W=z.length);G<W;){var Z=G+W>>>1;C(z[Z],B)>0?W=Z:G=Z+1}return G}}}var w=y(h);e.bisectLeft=w.left,e.bisect=e.bisectRight=w.right,e.bisector=function(C){return y(C.length===1?function(z,B){return h(C(z),B)}:C)},e.shuffle=function(C,z,B){(G=arguments.length)<3&&(B=C.length,G<2&&(z=0));for(var G=B-z,W,Z;G;)Z=Math.random()*G--|0,W=C[G+z],C[G+z]=C[Z+z],C[Z+z]=W;return C},e.permute=function(C,z){for(var B=z.length,G=new Array(B);B--;)G[B]=C[z[B]];return G},e.pairs=function(C){for(var z=0,B=C.length-1,G,W=C[0],Z=new Array(B<0?0:B);z<B;)Z[z]=[G=W,W=C[++z]];return Z},e.transpose=function(C){if(!(Z=C.length))return[];for(var z=-1,B=e.min(C,T),G=new Array(B);++z<B;)for(var W=-1,Z,se=G[z]=new Array(Z);++W<Z;)se[W]=C[W][z];return G};function T(C){return C.length}e.zip=function(){return e.transpose(arguments)},e.keys=function(C){var z=[];for(var B in C)z.push(B);return z},e.values=function(C){var z=[];for(var B in C)z.push(C[B]);return z},e.entries=function(C){var z=[];for(var B in C)z.push({key:B,value:C[B]});return z},e.merge=function(C){for(var z=C.length,B,G=-1,W=0,Z,se;++G<z;)W+=C[G].length;for(Z=new Array(W);--z>=0;)for(se=C[z],B=se.length;--B>=0;)Z[--W]=se[B];return Z};var m=Math.abs;e.range=function(C,z,B){if(arguments.length<3&&(B=1,arguments.length<2&&(z=C,C=0)),(z-C)/B===1/0)throw new Error("infinite range");var G=[],W=k(m(B)),Z=-1,se;if(C*=W,z*=W,B*=W,B<0)for(;(se=C+B*++Z)>z;)G.push(se/W);else for(;(se=C+B*++Z)<z;)G.push(se/W);return G};function k(C){for(var z=1;C*z%1;)z*=10;return z}function S(C,z){for(var B in z)Object.defineProperty(C.prototype,B,{value:z[B],enumerable:!1})}e.map=function(C,z){var B=new x;if(C instanceof x)C.forEach(function(ie,fe){B.set(ie,fe)});else if(Array.isArray(C)){var G=-1,W=C.length,Z;if(arguments.length===1)for(;++G<W;)B.set(G,C[G]);else for(;++G<W;)B.set(z.call(C,Z=C[G],G),Z)}else for(var se in C)B.set(se,C[se]);return B};function x(){this._=Object.create(null)}var M="__proto__",d="\0";S(x,{has:c,get:function(C){return this._[_(C)]},set:function(C,z){return this._[_(C)]=z},remove:A,keys:v,values:function(){var C=[];for(var z in this._)C.push(this._[z]);return C},entries:function(){var C=[];for(var z in this._)C.push({key:g(z),value:this._[z]});return C},size:D,empty:E,forEach:function(C){for(var z in this._)C.call(this,g(z),this._[z])}});function _(C){return(C+="")===M||C[0]===d?d+C:C}function g(C){return(C+="")[0]===d?C.slice(1):C}function c(C){return _(C)in this._}function A(C){return(C=_(C))in this._&&delete this._[C]}function v(){var C=[];for(var z in this._)C.push(g(z));return C}function D(){var C=0;for(var z in this._)++C;return C}function E(){for(var C in this._)return!1;return!0}e.nest=function(){var C={},z=[],B=[],G,W;function Z(ie,fe,be){if(be>=z.length)return W?W.call(C,fe):G?fe.sort(G):fe;for(var _e=-1,Pe=fe.length,Ie=z[be++],Je,rr,Oe,Ge=new x,We;++_e<Pe;)(We=Ge.get(Je=Ie(rr=fe[_e])))?We.push(rr):Ge.set(Je,[rr]);return ie?(rr=ie(),Oe=function(je,tr){rr.set(je,Z(ie,tr,be))}):(rr={},Oe=function(je,tr){rr[je]=Z(ie,tr,be)}),Ge.forEach(Oe),rr}function se(ie,fe){if(fe>=z.length)return ie;var be=[],_e=B[fe++];return ie.forEach(function(Pe,Ie){be.push({key:Pe,values:se(Ie,fe)})}),_e?be.sort(function(Pe,Ie){return _e(Pe.key,Ie.key)}):be}return C.map=function(ie,fe){return Z(fe,ie,0)},C.entries=function(ie){return se(Z(e.map,ie,0),0)},C.key=function(ie){return z.push(ie),C},C.sortKeys=function(ie){return B[z.length-1]=ie,C},C.sortValues=function(ie){return G=ie,C},C.rollup=function(ie){return W=ie,C},C},e.set=function(C){var z=new R;if(C)for(var B=0,G=C.length;B<G;++B)z.add(C[B]);return z};function R(){this._=Object.create(null)}S(R,{has:c,add:function(C){return this._[_(C+="")]=!0,C},remove:A,values:v,size:D,empty:E,forEach:function(C){for(var z in this._)C.call(this,g(z))}}),e.behavior={};function N(C){return C}e.rebind=function(C,z){for(var B=1,G=arguments.length,W;++B<G;)C[W=arguments[B]]=F(C,z,z[W]);return C};function F(C,z,B){return function(){var G=B.apply(z,arguments);return G===z?C:G}}function I(C,z){if(z in C)return z;z=z.charAt(0).toUpperCase()+z.slice(1);for(var B=0,G=L.length;B<G;++B){var W=L[B]+z;if(W in C)return W}}var L=["webkit","ms","moz","Moz","o","O"];function P(){}e.dispatch=function(){for(var C=new O,z=-1,B=arguments.length;++z<B;)C[arguments[z]]=U(C);return C};function O(){}O.prototype.on=function(C,z){var B=C.indexOf("."),G="";if(B>=0&&(G=C.slice(B+1),C=C.slice(0,B)),C)return arguments.length<2?this[C].on(G):this[C].on(G,z);if(arguments.length===2){if(z==null)for(C in this)this.hasOwnProperty(C)&&this[C].on(G,null);return this}};function U(C){var z=[],B=new x;function G(){for(var W=z,Z=-1,se=W.length,ie;++Z<se;)(ie=W[Z].on)&&ie.apply(this,arguments);return C}return G.on=function(W,Z){var se=B.get(W),ie;return arguments.length<2?se&&se.on:(se&&(se.on=null,z=z.slice(0,ie=z.indexOf(se)).concat(z.slice(ie+1)),B.remove(W)),Z&&z.push(B.set(W,{on:Z})),C)},G}e.event=null;function X(){e.event.preventDefault()}function $(){for(var C=e.event,z;z=C.sourceEvent;)C=z;return C}function j(C){for(var z=new O,B=0,G=arguments.length;++B<G;)z[arguments[B]]=U(z);return z.of=function(W,Z){return function(se){try{var ie=se.sourceEvent=e.event;se.target=C,e.event=se,z[se.type].apply(W,Z)}finally{e.event=ie}}},z}e.requote=function(C){return C.replace(Y,"\\$&")};var Y=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,q={}.__proto__?function(C,z){C.__proto__=z}:function(C,z){for(var B in z)C[B]=z[B]};function Q(C){return q(C,re),C}var ae=function(C,z){return z.querySelector(C)},K=function(C,z){return z.querySelectorAll(C)},oe=function(C,z){var B=C.matches||C[I(C,"matchesSelector")];return oe=function(G,W){return B.call(G,W)},oe(C,z)};typeof Sizzle=="function"&&(ae=function(C,z){return Sizzle(C,z)[0]||null},K=Sizzle,oe=Sizzle.matchesSelector),e.selection=function(){return e.select(n.documentElement)};var re=e.selection.prototype=[];re.select=function(C){var z=[],B,G,W,Z;C=V(C);for(var se=-1,ie=this.length;++se<ie;){z.push(B=[]),B.parentNode=(W=this[se]).parentNode;for(var fe=-1,be=W.length;++fe<be;)(Z=W[fe])?(B.push(G=C.call(Z,Z.__data__,fe,se)),G&&"__data__"in Z&&(G.__data__=Z.__data__)):B.push(null)}return Q(z)};function V(C){return typeof C=="function"?C:function(){return ae(C,this)}}re.selectAll=function(C){var z=[],B,G;C=ee(C);for(var W=-1,Z=this.length;++W<Z;)for(var se=this[W],ie=-1,fe=se.length;++ie<fe;)(G=se[ie])&&(z.push(B=t(C.call(G,G.__data__,ie,W))),B.parentNode=G);return Q(z)};function ee(C){return typeof C=="function"?C:function(){return K(C,this)}}var H="http://www.w3.org/1999/xhtml",te={svg:"http://www.w3.org/2000/svg",xhtml:H,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};e.ns={prefix:te,qualify:function(C){var z=C.indexOf(":"),B=C;return z>=0&&(B=C.slice(0,z))!=="xmlns"&&(C=C.slice(z+1)),te.hasOwnProperty(B)?{space:te[B],local:C}:C}},re.attr=function(C,z){if(arguments.length<2){if(typeof C=="string"){var B=this.node();return C=e.ns.qualify(C),C.local?B.getAttributeNS(C.space,C.local):B.getAttribute(C)}for(z in C)this.each(le(z,C[z]));return this}return this.each(le(C,z))};function le(C,z){C=e.ns.qualify(C);function B(){this.removeAttribute(C)}function G(){this.removeAttributeNS(C.space,C.local)}function W(){this.setAttribute(C,z)}function Z(){this.setAttributeNS(C.space,C.local,z)}function se(){var fe=z.apply(this,arguments);fe==null?this.removeAttribute(C):this.setAttribute(C,fe)}function ie(){var fe=z.apply(this,arguments);fe==null?this.removeAttributeNS(C.space,C.local):this.setAttributeNS(C.space,C.local,fe)}return z==null?C.local?G:B:typeof z=="function"?C.local?ie:se:C.local?Z:W}function ve(C){return C.trim().replace(/\s+/g," ")}re.classed=function(C,z){if(arguments.length<2){if(typeof C=="string"){var B=this.node(),G=(C=we(C)).length,W=-1;if(z=B.classList){for(;++W<G;)if(!z.contains(C[W]))return!1}else for(z=B.getAttribute("class");++W<G;)if(!Ae(C[W]).test(z))return!1;return!0}for(z in C)this.each(ce(z,C[z]));return this}return this.each(ce(C,z))};function Ae(C){return new RegExp("(?:^|\\s+)"+e.requote(C)+"(?:\\s+|$)","g")}function we(C){return(C+"").trim().split(/^|\s+/)}function ce(C,z){C=we(C).map(Se);var B=C.length;function G(){for(var Z=-1;++Z<B;)C[Z](this,z)}function W(){for(var Z=-1,se=z.apply(this,arguments);++Z<B;)C[Z](this,se)}return typeof z=="function"?W:G}function Se(C){var z=Ae(C);return function(B,G){if(W=B.classList)return G?W.add(C):W.remove(C);var W=B.getAttribute("class")||"";G?(z.lastIndex=0,z.test(W)||B.setAttribute("class",ve(W+" "+C))):B.setAttribute("class",ve(W.replace(z," ")))}}re.style=function(C,z,B){var G=arguments.length;if(G<3){if(typeof C!="string"){G<2&&(z="");for(B in C)this.each(Ce(B,C[B],z));return this}if(G<2){var W=this.node();return o(W).getComputedStyle(W,null).getPropertyValue(C)}B=""}return this.each(Ce(C,z,B))};function Ce(C,z,B){function G(){this.style.removeProperty(C)}function W(){this.style.setProperty(C,z,B)}function Z(){var se=z.apply(this,arguments);se==null?this.style.removeProperty(C):this.style.setProperty(C,se,B)}return z==null?G:typeof z=="function"?Z:W}re.property=function(C,z){if(arguments.length<2){if(typeof C=="string")return this.node()[C];for(z in C)this.each(Fe(z,C[z]));return this}return this.each(Fe(C,z))};function Fe(C,z){function B(){delete this[C]}function G(){this[C]=z}function W(){var Z=z.apply(this,arguments);Z==null?delete this[C]:this[C]=Z}return z==null?B:typeof z=="function"?W:G}re.text=function(C){return arguments.length?this.each(typeof C=="function"?function(){var z=C.apply(this,arguments);this.textContent=z==null?"":z}:C==null?function(){this.textContent=""}:function(){this.textContent=C}):this.node().textContent},re.html=function(C){return arguments.length?this.each(typeof C=="function"?function(){var z=C.apply(this,arguments);this.innerHTML=z==null?"":z}:C==null?function(){this.innerHTML=""}:function(){this.innerHTML=C}):this.node().innerHTML},re.append=function(C){return C=Ee(C),this.select(function(){return this.appendChild(C.apply(this,arguments))})};function Ee(C){function z(){var G=this.ownerDocument,W=this.namespaceURI;return W===H&&G.documentElement.namespaceURI===H?G.createElement(C):G.createElementNS(W,C)}function B(){return this.ownerDocument.createElementNS(C.space,C.local)}return typeof C=="function"?C:(C=e.ns.qualify(C)).local?B:z}re.insert=function(C,z){return C=Ee(C),z=V(z),this.select(function(){return this.insertBefore(C.apply(this,arguments),z.apply(this,arguments)||null)})},re.remove=function(){return this.each(ze)};function ze(){var C=this.parentNode;C&&C.removeChild(this)}re.data=function(C,z){var B=-1,G=this.length,W,Z;if(!arguments.length){for(C=new Array(G=(W=this[0]).length);++B<G;)(Z=W[B])&&(C[B]=Z.__data__);return C}function se(_e,Pe){var Ie,Je=_e.length,rr=Pe.length,Oe=Math.min(Je,rr),Ge=new Array(rr),We=new Array(rr),je=new Array(Je),tr,Ze;if(z){var lr=new x,pr=new Array(Je),mr;for(Ie=-1;++Ie<Je;)(tr=_e[Ie])&&(lr.has(mr=z.call(tr,tr.__data__,Ie))?je[Ie]=tr:lr.set(mr,tr),pr[Ie]=mr);for(Ie=-1;++Ie<rr;)(tr=lr.get(mr=z.call(Pe,Ze=Pe[Ie],Ie)))?tr!==!0&&(Ge[Ie]=tr,tr.__data__=Ze):We[Ie]=Ue(Ze),lr.set(mr,!0);for(Ie=-1;++Ie<Je;)Ie in pr&&lr.get(pr[Ie])!==!0&&(je[Ie]=_e[Ie])}else{for(Ie=-1;++Ie<Oe;)tr=_e[Ie],Ze=Pe[Ie],tr?(tr.__data__=Ze,Ge[Ie]=tr):We[Ie]=Ue(Ze);for(;Ie<rr;++Ie)We[Ie]=Ue(Pe[Ie]);for(;Ie<Je;++Ie)je[Ie]=_e[Ie]}We.update=Ge,We.parentNode=Ge.parentNode=je.parentNode=_e.parentNode,ie.push(We),fe.push(Ge),be.push(je)}var ie=me([]),fe=Q([]),be=Q([]);if(typeof C=="function")for(;++B<G;)se(W=this[B],C.call(W,W.parentNode.__data__,B));else for(;++B<G;)se(W=this[B],C);return fe.enter=function(){return ie},fe.exit=function(){return be},fe};function Ue(C){return{__data__:C}}re.datum=function(C){return arguments.length?this.property("__data__",C):this.property("__data__")},re.filter=function(C){var z=[],B,G,W;typeof C!="function"&&(C=ge(C));for(var Z=0,se=this.length;Z<se;Z++){z.push(B=[]),B.parentNode=(G=this[Z]).parentNode;for(var ie=0,fe=G.length;ie<fe;ie++)(W=G[ie])&&C.call(W,W.__data__,ie,Z)&&B.push(W)}return Q(z)};function ge(C){return function(){return oe(this,C)}}re.order=function(){for(var C=-1,z=this.length;++C<z;)for(var B=this[C],G=B.length-1,W=B[G],Z;--G>=0;)(Z=B[G])&&(W&&W!==Z.nextSibling&&W.parentNode.insertBefore(Z,W),W=Z);return this},re.sort=function(C){C=Me.apply(this,arguments);for(var z=-1,B=this.length;++z<B;)this[z].sort(C);return this.order()};function Me(C){return arguments.length||(C=h),function(z,B){return z&&B?C(z.__data__,B.__data__):!z-!B}}re.each=function(C){return ke(this,function(z,B,G){C.call(z,z.__data__,B,G)})};function ke(C,z){for(var B=0,G=C.length;B<G;B++)for(var W=C[B],Z=0,se=W.length,ie;Z<se;Z++)(ie=W[Z])&&z(ie,Z,B);return C}re.call=function(C){var z=t(arguments);return C.apply(z[0]=this,z),this},re.empty=function(){return!this.node()},re.node=function(){for(var C=0,z=this.length;C<z;C++)for(var B=this[C],G=0,W=B.length;G<W;G++){var Z=B[G];if(Z)return Z}return null},re.size=function(){var C=0;return ke(this,function(){++C}),C};function me(C){return q(C,ye),C}var ye=[];e.selection.enter=me,e.selection.enter.prototype=ye,ye.append=re.append,ye.empty=re.empty,ye.node=re.node,ye.call=re.call,ye.size=re.size,ye.select=function(C){for(var z=[],B,G,W,Z,se,ie=-1,fe=this.length;++ie<fe;){W=(Z=this[ie]).update,z.push(B=[]),B.parentNode=Z.parentNode;for(var be=-1,_e=Z.length;++be<_e;)(se=Z[be])?(B.push(W[be]=G=C.call(Z.parentNode,se.__data__,be,ie)),G.__data__=se.__data__):B.push(null)}return Q(z)},ye.insert=function(C,z){return arguments.length<2&&(z=pe(this)),re.insert.call(this,C,z)};function pe(C){var z,B;return function(G,W,Z){var se=C[Z].update,ie=se.length,fe;for(Z!=B&&(B=Z,z=0),W>=z&&(z=W+1);!(fe=se[z])&&++z<ie;);return fe}}e.select=function(C){var z;return typeof C=="string"?(z=[ae(C,n)],z.parentNode=n.documentElement):(z=[C],z.parentNode=a(C)),Q([z])},e.selectAll=function(C){var z;return typeof C=="string"?(z=t(K(C,n)),z.parentNode=n.documentElement):(z=t(C),z.parentNode=null),Q([z])},re.on=function(C,z,B){var G=arguments.length;if(G<3){if(typeof C!="string"){G<2&&(z=!1);for(B in C)this.each(he(B,C[B],z));return this}if(G<2)return(G=this.node()["__on"+C])&&G._;B=!1}return this.each(he(C,z,B))};function he(C,z,B){var G="__on"+C,W=C.indexOf("."),Z=Le;W>0&&(C=C.slice(0,W));var se=xe.get(C);se&&(C=se,Z=qe);function ie(){var _e=this[G];_e&&(this.removeEventListener(C,_e,_e.$),delete this[G])}function fe(){var _e=Z(z,t(arguments));ie.call(this),this.addEventListener(C,this[G]=_e,_e.$=B),_e._=z}function be(){var _e=new RegExp("^__on([^.]+)"+e.requote(C)+"$"),Pe;for(var Ie in this)if(Pe=Ie.match(_e)){var Je=this[Ie];this.removeEventListener(Pe[1],Je,Je.$),delete this[Ie]}}return W?z?fe:ie:z?P:be}var xe=e.map({mouseenter:"mouseover",mouseleave:"mouseout"});n&&xe.forEach(function(C){"on"+C in n&&xe.remove(C)});function Le(C,z){return function(B){var G=e.event;e.event=B,z[0]=this.__data__;try{C.apply(this,z)}finally{e.event=G}}}function qe(C,z){var B=Le(C,z);return function(G){var W=this,Z=G.relatedTarget;(!Z||Z!==W&&!(Z.compareDocumentPosition(W)&8))&&B.call(W,G)}}var Ne,$e=0;function Ve(C){var z=".dragsuppress-"+ ++$e,B="click"+z,G=e.select(o(C)).on("touchmove"+z,X).on("dragstart"+z,X).on("selectstart"+z,X);if(Ne==null&&(Ne="onselectstart"in C?!1:I(C.style,"userSelect")),Ne){var W=a(C).style,Z=W[Ne];W[Ne]="none"}return function(se){if(G.on(z,null),Ne&&(W[Ne]=Z),se){var ie=function(){G.on(B,null)};G.on(B,function(){X(),ie()},!0),setTimeout(ie,0)}}}e.mouse=function(C){return Ye(C,$())};var Be=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Ye(C,z){z.changedTouches&&(z=z.changedTouches[0]);var B=C.ownerSVGElement||C;if(B.createSVGPoint){var G=B.createSVGPoint();if(Be<0){var W=o(C);if(W.scrollX||W.scrollY){B=e.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var Z=B[0][0].getScreenCTM();Be=!(Z.f||Z.e),B.remove()}}return Be?(G.x=z.pageX,G.y=z.pageY):(G.x=z.clientX,G.y=z.clientY),G=G.matrixTransform(C.getScreenCTM().inverse()),[G.x,G.y]}var se=C.getBoundingClientRect();return[z.clientX-se.left-C.clientLeft,z.clientY-se.top-C.clientTop]}e.touch=function(C,z,B){if(arguments.length<3&&(B=z,z=$().changedTouches),z){for(var G=0,W=z.length,Z;G<W;++G)if((Z=z[G]).identifier===B)return Ye(C,Z)}},e.behavior.drag=function(){var C=j(W,"drag","dragstart","dragend"),z=null,B=Z(P,e.mouse,o,"mousemove","mouseup"),G=Z(Te,e.touch,N,"touchmove","touchend");function W(){this.on("mousedown.drag",B).on("touchstart.drag",G)}function Z(se,ie,fe,be,_e){return function(){var Pe=this,Ie=e.event.target.correspondingElement||e.event.target,Je=Pe.parentNode,rr=C.of(Pe,arguments),Oe=0,Ge=se(),We=".drag"+(Ge==null?"":"-"+Ge),je,tr=e.select(fe(Ie)).on(be+We,pr).on(_e+We,mr),Ze=Ve(Ie),lr=ie(Je,Ge);z?(je=z.apply(Pe,arguments),je=[je.x-lr[0],je.y-lr[1]]):je=[0,0],rr({type:"dragstart"});function pr(){var gr=ie(Je,Ge),_r,wr;gr&&(_r=gr[0]-lr[0],wr=gr[1]-lr[1],Oe|=_r|wr,lr=gr,rr({type:"drag",x:gr[0]+je[0],y:gr[1]+je[1],dx:_r,dy:wr}))}function mr(){ie(Je,Ge)&&(tr.on(be+We,null).on(_e+We,null),Ze(Oe),rr({type:"dragend"}))}}}return W.origin=function(se){return arguments.length?(z=se,W):z},e.rebind(W,C,"on")};function Te(){return e.event.changedTouches[0].identifier}e.touches=function(C,z){return arguments.length<2&&(z=$().touches),z?t(z).map(function(B){var G=Ye(C,B);return G.identifier=B.identifier,G}):[]};var Re=1e-6,Qe=Re*Re,Ke=Math.PI,ar=2*Ke,ue=ar-Re,J=Ke/2,ne=Ke/180,De=180/Ke;function He(C){return C>0?1:C<0?-1:0}function er(C,z,B){return(z[0]-C[0])*(B[1]-C[1])-(z[1]-C[1])*(B[0]-C[0])}function nr(C){return C>1?0:C<-1?Ke:Math.acos(C)}function fr(C){return C>1?J:C<-1?-J:Math.asin(C)}function br(C){return((C=Math.exp(C))-1/C)/2}function Sr(C){return((C=Math.exp(C))+1/C)/2}function Mr(C){return((C=Math.exp(2*C))-1)/(C+1)}function Ar(C){return(C=Math.sin(C/2))*C}var ft=Math.SQRT2,sr=2,Pr=4;e.interpolateZoom=function(C,z){var B=C[0],G=C[1],W=C[2],Z=z[0],se=z[1],ie=z[2],fe=Z-B,be=se-G,_e=fe*fe+be*be,Pe,Ie;if(_e<Qe)Ie=Math.log(ie/W)/ft,Pe=function(je){return[B+je*fe,G+je*be,W*Math.exp(ft*je*Ie)]};else{var Je=Math.sqrt(_e),rr=(ie*ie-W*W+Pr*_e)/(2*W*sr*Je),Oe=(ie*ie-W*W-Pr*_e)/(2*ie*sr*Je),Ge=Math.log(Math.sqrt(rr*rr+1)-rr),We=Math.log(Math.sqrt(Oe*Oe+1)-Oe);Ie=(We-Ge)/ft,Pe=function(je){var tr=je*Ie,Ze=Sr(Ge),lr=W/(sr*Je)*(Ze*Mr(ft*tr+Ge)-br(Ge));return[B+lr*fe,G+lr*be,W*Ze/Sr(ft*tr+Ge)]}}return Pe.duration=Ie*1e3,Pe},e.behavior.zoom=function(){var C={x:0,y:0,k:1},z,B,G,W=[960,500],Z=$r,se=250,ie=0,fe="mousedown.zoom",be="mousemove.zoom",_e="mouseup.zoom",Pe,Ie="touchstart.zoom",Je,rr=j(tr,"zoomstart","zoom","zoomend"),Oe,Ge,We,je;Gr||(Gr="onwheel"in n?(Fr=function(){return-e.event.deltaY*(e.event.deltaMode?120:1)},"wheel"):"onmousewheel"in n?(Fr=function(){return e.event.wheelDelta},"mousewheel"):(Fr=function(){return-e.event.detail},"MozMousePixelScroll"));function tr(vr){vr.on(fe,Ir).on(Gr+".zoom",Bt).on("dblclick.zoom",vt).on(Ie,st)}tr.event=function(vr){vr.each(function(){var Br=rr.of(this,arguments),Hr=C;Al?e.select(this).transition().each("start.zoom",function(){C=this.__chart__||{x:0,y:0,k:1},wr(Br)}).tween("zoom:zoom",function(){var ut=W[0],Pt=W[1],$t=B?B[0]:ut/2,xn=B?B[1]:Pt/2,Nn=e.interpolateZoom([($t-C.x)/C.k,(xn-C.y)/C.k,ut/C.k],[($t-Hr.x)/Hr.k,(xn-Hr.y)/Hr.k,ut/Hr.k]);return function(Wn){var zn=Nn(Wn),jn=ut/zn[2];this.__chart__=C={x:$t-zn[0]*jn,y:xn-zn[1]*jn,k:jn},Or(Br)}}).each("interrupt.zoom",function(){Tr(Br)}).each("end.zoom",function(){Tr(Br)}):(this.__chart__=C,wr(Br),Or(Br),Tr(Br))})},tr.translate=function(vr){return arguments.length?(C={x:+vr[0],y:+vr[1],k:C.k},_r(),tr):[C.x,C.y]},tr.scale=function(vr){return arguments.length?(C={x:C.x,y:C.y,k:null},pr(+vr),_r(),tr):C.k},tr.scaleExtent=function(vr){return arguments.length?(Z=vr==null?$r:[+vr[0],+vr[1]],tr):Z},tr.center=function(vr){return arguments.length?(G=vr&&[+vr[0],+vr[1]],tr):G},tr.size=function(vr){return arguments.length?(W=vr&&[+vr[0],+vr[1]],tr):W},tr.duration=function(vr){return arguments.length?(se=+vr,tr):se},tr.x=function(vr){return arguments.length?(Ge=vr,Oe=vr.copy(),C={x:0,y:0,k:1},tr):Ge},tr.y=function(vr){return arguments.length?(je=vr,We=vr.copy(),C={x:0,y:0,k:1},tr):je};function Ze(vr){return[(vr[0]-C.x)/C.k,(vr[1]-C.y)/C.k]}function lr(vr){return[vr[0]*C.k+C.x,vr[1]*C.k+C.y]}function pr(vr){C.k=Math.max(Z[0],Math.min(Z[1],vr))}function mr(vr,Br){Br=lr(Br),C.x+=vr[0]-Br[0],C.y+=vr[1]-Br[1]}function gr(vr,Br,Hr,ut){vr.__chart__={x:C.x,y:C.y,k:C.k},pr(Math.pow(2,ut)),mr(B=Br,Hr),vr=e.select(vr),se>0&&(vr=vr.transition().duration(se)),vr.call(tr.event)}function _r(){Ge&&Ge.domain(Oe.range().map(function(vr){return(vr-C.x)/C.k}).map(Oe.invert)),je&&je.domain(We.range().map(function(vr){return(vr-C.y)/C.k}).map(We.invert))}function wr(vr){ie++||vr({type:"zoomstart"})}function Or(vr){_r(),vr({type:"zoom",scale:C.k,translate:[C.x,C.y]})}function Tr(vr){--ie||(vr({type:"zoomend"}),B=null)}function Ir(){var vr=this,Br=rr.of(vr,arguments),Hr=0,ut=e.select(o(vr)).on(be,xn).on(_e,Nn),Pt=Ze(e.mouse(vr)),$t=Ve(vr);T0.call(vr),wr(Br);function xn(){Hr=1,mr(e.mouse(vr),Pt),Or(Br)}function Nn(){ut.on(be,null).on(_e,null),$t(Hr),Tr(Br)}}function st(){var vr=this,Br=rr.of(vr,arguments),Hr={},ut=0,Pt,$t=".zoom-"+e.event.changedTouches[0].identifier,xn="touchmove"+$t,Nn="touchend"+$t,Wn=[],zn=e.select(vr),jn=Ve(vr);ea(),wr(Br),zn.on(fe,null).on(Ie,ea);function An(){var Ka=e.touches(vr);return Pt=C.k,Ka.forEach(function(bn){bn.identifier in Hr&&(Hr[bn.identifier]=Ze(bn))}),Ka}function ea(){var Ka=e.event.target;e.select(Ka).on(xn,kl).on(Nn,FB),Wn.push(Ka);for(var bn=e.event.changedTouches,Aa=0,ki=bn.length;Aa<ki;++Aa)Hr[bn[Aa].identifier]=null;var ka=An(),Fs=Date.now();if(ka.length===1){if(Fs-Je<500){var Sl=ka[0];gr(vr,Sl,Hr[Sl.identifier],Math.floor(Math.log(C.k)/Math.LN2)+1),X()}Je=Fs}else if(ka.length>1){var Sl=ka[0],Co=ka[1],S0=Sl[0]-Co[0],vb=Sl[1]-Co[1];ut=S0*S0+vb*vb}}function kl(){var Ka=e.touches(vr),bn,Aa,ki,ka;T0.call(vr);for(var Fs=0,Sl=Ka.length;Fs<Sl;++Fs,ka=null)if(ki=Ka[Fs],ka=Hr[ki.identifier]){if(Aa)break;bn=ki,Aa=ka}if(ka){var Co=(Co=ki[0]-bn[0])*Co+(Co=ki[1]-bn[1])*Co,S0=ut&&Math.sqrt(Co/ut);bn=[(bn[0]+ki[0])/2,(bn[1]+ki[1])/2],Aa=[(Aa[0]+ka[0])/2,(Aa[1]+ka[1])/2],pr(S0*Pt)}Je=null,mr(bn,Aa),Or(Br)}function FB(){if(e.event.touches.length){for(var Ka=e.event.changedTouches,bn=0,Aa=Ka.length;bn<Aa;++bn)delete Hr[Ka[bn].identifier];for(var ki in Hr)return void An()}e.selectAll(Wn).on($t,null),zn.on(fe,Ir).on(Ie,st),jn(),Tr(Br)}}function Bt(){var vr=rr.of(this,arguments);Pe?clearTimeout(Pe):(T0.call(this),z=Ze(B=G||e.mouse(this)),wr(vr)),Pe=setTimeout(function(){Pe=null,Tr(vr)},50),X(),pr(Math.pow(2,Fr()*.002)*C.k),mr(B,z),Or(vr)}function vt(){var vr=e.mouse(this),Br=Math.log(C.k)/Math.LN2;gr(this,vr,Ze(vr),e.event.shiftKey?Math.ceil(Br)-1:Math.floor(Br)+1)}return e.rebind(tr,rr,"on")};var $r=[0,1/0],Fr,Gr;e.color=pt;function pt(){}pt.prototype.toString=function(){return this.rgb()+""},e.hsl=Rr;function Rr(C,z,B){return this instanceof Rr?(this.h=+C,this.s=+z,void(this.l=+B)):arguments.length<2?C instanceof Rr?new Rr(C.h,C.s,C.l):at(""+C,ct,Rr):new Rr(C,z,B)}var jr=Rr.prototype=new pt;jr.brighter=function(C){return C=Math.pow(.7,arguments.length?C:1),new Rr(this.h,this.s,this.l/C)},jr.darker=function(C){return C=Math.pow(.7,arguments.length?C:1),new Rr(this.h,this.s,C*this.l)},jr.rgb=function(){return vn(this.h,this.s,this.l)};function vn(C,z,B){var G,W;C=isNaN(C)?0:(C%=360)<0?C+360:C,z=isNaN(z)||z<0?0:z>1?1:z,B=B<0?0:B>1?1:B,W=B<=.5?B*(1+z):B+z-B*z,G=2*B-W;function Z(ie){return ie>360?ie-=360:ie<0&&(ie+=360),ie<60?G+(W-G)*ie/60:ie<180?W:ie<240?G+(W-G)*(240-ie)/60:G}function se(ie){return Math.round(Z(ie)*255)}return new tn(se(C+120),se(C),se(C-120))}e.hcl=Et;function Et(C,z,B){return this instanceof Et?(this.h=+C,this.c=+z,void(this.l=+B)):arguments.length<2?C instanceof Et?new Et(C.h,C.c,C.l):C instanceof bt?wi(C.l,C.a,C.b):wi((C=yr((C=e.rgb(C)).r,C.g,C.b)).l,C.a,C.b):new Et(C,z,B)}var Tn=Et.prototype=new pt;Tn.brighter=function(C){return new Et(this.h,this.c,Math.min(100,this.l+gt*(arguments.length?C:1)))},Tn.darker=function(C){return new Et(this.h,this.c,Math.max(0,this.l-gt*(arguments.length?C:1)))},Tn.rgb=function(){return Ot(this.h,this.c,this.l).rgb()};function Ot(C,z,B){return isNaN(C)&&(C=0),isNaN(z)&&(z=0),new bt(B,Math.cos(C*=ne)*z,Math.sin(C)*z)}e.lab=bt;function bt(C,z,B){return this instanceof bt?(this.l=+C,this.a=+z,void(this.b=+B)):arguments.length<2?C instanceof bt?new bt(C.l,C.a,C.b):C instanceof Et?Ot(C.h,C.c,C.l):yr((C=tn(C)).r,C.g,C.b):new bt(C,z,B)}var gt=18,Nt=.95047,ha=1,$n=1.08883,Fn=bt.prototype=new pt;Fn.brighter=function(C){return new bt(Math.min(100,this.l+gt*(arguments.length?C:1)),this.a,this.b)},Fn.darker=function(C){return new bt(Math.max(0,this.l-gt*(arguments.length?C:1)),this.a,this.b)},Fn.rgb=function(){return Ma(this.l,this.a,this.b)};function Ma(C,z,B){var G=(C+16)/116,W=G+z/500,Z=G-B/200;return W=Ki(W)*Nt,G=Ki(G)*ha,Z=Ki(Z)*$n,new tn($i(3.2404542*W-1.5371385*G-.4985314*Z),$i(-.969266*W+1.8760108*G+.041556*Z),$i(.0556434*W-.2040259*G+1.0572252*Z))}function wi(C,z,B){return C>0?new Et(Math.atan2(B,z)*De,Math.sqrt(z*z+B*B),C):new Et(NaN,NaN,C)}function Ki(C){return C>.206893034?C*C*C:(C-4/29)/7.787037}function Qi(C){return C>.008856?Math.pow(C,1/3):7.787037*C+4/29}function $i(C){return Math.round(255*(C<=.00304?12.92*C:1.055*Math.pow(C,1/2.4)-.055))}e.rgb=tn;function tn(C,z,B){return this instanceof tn?(this.r=~~C,this.g=~~z,void(this.b=~~B)):arguments.length<2?C instanceof tn?new tn(C.r,C.g,C.b):at(""+C,tn,vn):new tn(C,z,B)}function ko(C){return new tn(C>>16,C>>8&255,C&255)}function Mi(C){return ko(C)+""}var Ti=tn.prototype=new pt;Ti.brighter=function(C){C=Math.pow(.7,arguments.length?C:1);var z=this.r,B=this.g,G=this.b,W=30;return!z&&!B&&!G?new tn(W,W,W):(z&&z<W&&(z=W),B&&B<W&&(B=W),G&&G<W&&(G=W),new tn(Math.min(255,z/C),Math.min(255,B/C),Math.min(255,G/C)))},Ti.darker=function(C){return C=Math.pow(.7,arguments.length?C:1),new tn(C*this.r,C*this.g,C*this.b)},Ti.hsl=function(){return ct(this.r,this.g,this.b)},Ti.toString=function(){return"#"+kr(this.r)+kr(this.g)+kr(this.b)};function kr(C){return C<16?"0"+Math.max(0,C).toString(16):Math.min(255,C).toString(16)}function at(C,z,B){var G=0,W=0,Z=0,se,ie,fe;if(se=/([a-z]+)\((.*)\)/.exec(C=C.toLowerCase()),se)switch(ie=se[2].split(","),se[1]){case"hsl":return B(parseFloat(ie[0]),parseFloat(ie[1])/100,parseFloat(ie[2])/100);case"rgb":return z(_t(ie[0]),_t(ie[1]),_t(ie[2]))}return(fe=mn.get(C))?z(fe.r,fe.g,fe.b):(C!=null&&C.charAt(0)==="#"&&!isNaN(fe=parseInt(C.slice(1),16))&&(C.length===4?(G=(fe&3840)>>4,G=G>>4|G,W=fe&240,W=W>>4|W,Z=fe&15,Z=Z<<4|Z):C.length===7&&(G=(fe&16711680)>>16,W=(fe&65280)>>8,Z=fe&255)),z(G,W,Z))}function ct(C,z,B){var G=Math.min(C/=255,z/=255,B/=255),W=Math.max(C,z,B),Z=W-G,se,ie,fe=(W+G)/2;return Z?(ie=fe<.5?Z/(W+G):Z/(2-W-G),C==W?se=(z-B)/Z+(z<B?6:0):z==W?se=(B-C)/Z+2:se=(C-z)/Z+4,se*=60):(se=NaN,ie=fe>0&&fe<1?0:se),new Rr(se,ie,fe)}function yr(C,z,B){C=yn(C),z=yn(z),B=yn(B);var G=Qi((.4124564*C+.3575761*z+.1804375*B)/Nt),W=Qi((.2126729*C+.7151522*z+.072175*B)/ha),Z=Qi((.0193339*C+.119192*z+.9503041*B)/$n);return bt(116*W-16,500*(G-W),200*(W-Z))}function yn(C){return(C/=255)<=.04045?C/12.92:Math.pow((C+.055)/1.055,2.4)}function _t(C){var z=parseFloat(C);return C.charAt(C.length-1)==="%"?Math.round(z*2.55):z}var mn=e.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});mn.forEach(function(C,z){mn.set(C,ko(z))});function Wr(C){return typeof C=="function"?C:function(){return C}}e.functor=Wr,e.xhr=Za(N);function Za(C){return function(z,B,G){return arguments.length===2&&typeof B=="function"&&(G=B,B=null),wl(z,B,C,G)}}function wl(C,z,B,G){var W={},Z=e.dispatch("beforesend","progress","load","error"),se={},ie=new XMLHttpRequest,fe=null;self.XDomainRequest&&!("withCredentials"in ie)&&/^(http(s)?:)?\/\//.test(C)&&(ie=new XDomainRequest),"onload"in ie?ie.onload=ie.onerror=be:ie.onreadystatechange=function(){ie.readyState>3&&be()};function be(){var _e=ie.status,Pe;if(!_e&&zq(ie)||_e>=200&&_e<300||_e===304){try{Pe=B.call(W,ie)}catch(Ie){Z.error.call(W,Ie);return}Z.load.call(W,Pe)}else Z.error.call(W,ie)}return ie.onprogress=function(_e){var Pe=e.event;e.event=_e;try{Z.progress.call(W,ie)}finally{e.event=Pe}},W.header=function(_e,Pe){return _e=(_e+"").toLowerCase(),arguments.length<2?se[_e]:(Pe==null?delete se[_e]:se[_e]=Pe+"",W)},W.mimeType=function(_e){return arguments.length?(z=_e==null?null:_e+"",W):z},W.responseType=function(_e){return arguments.length?(fe=_e,W):fe},W.response=function(_e){return B=_e,W},["get","post"].forEach(function(_e){W[_e]=function(){return W.send.apply(W,[_e].concat(t(arguments)))}}),W.send=function(_e,Pe,Ie){if(arguments.length===2&&typeof Pe=="function"&&(Ie=Pe,Pe=null),ie.open(_e,C,!0),z!=null&&!("accept"in se)&&(se.accept=z+",*/*"),ie.setRequestHeader)for(var Je in se)ie.setRequestHeader(Je,se[Je]);return z!=null&&ie.overrideMimeType&&ie.overrideMimeType(z),fe!=null&&(ie.responseType=fe),Ie!=null&&W.on("error",Ie).on("load",function(rr){Ie(null,rr)}),Z.beforesend.call(W,ie),ie.send(Pe==null?null:Pe),W},W.abort=function(){return ie.abort(),W},e.rebind(W,Z,"on"),G==null?W:W.get(Nq(G))}function Nq(C){return C.length===1?function(z,B){C(z==null?B:null)}:C}function zq(C){var z=C.responseType;return z&&z!=="text"?C.response:C.responseText}e.dsv=function(C,z){var B=new RegExp('["'+C+`
]`),G=C.charCodeAt(0);function W(be,_e,Pe){arguments.length<3&&(Pe=_e,_e=null);var Ie=wl(be,z,_e==null?Z:se(_e),Pe);return Ie.row=function(Je){return arguments.length?Ie.response((_e=Je)==null?Z:se(Je)):_e},Ie}function Z(be){return W.parse(be.responseText)}function se(be){return function(_e){return W.parse(_e.responseText,be)}}W.parse=function(be,_e){var Pe;return W.parseRows(be,function(Ie,Je){if(Pe)return Pe(Ie,Je-1);var rr=function(Oe){for(var Ge={},We=Ie.length,je=0;je<We;++je)Ge[Ie[je]]=Oe[je];return Ge};Pe=_e?function(Oe,Ge){return _e(rr(Oe),Ge)}:rr})},W.parseRows=function(be,_e){var Pe={},Ie={},Je=[],rr=be.length,Oe=0,Ge=0,We,je;function tr(){if(Oe>=rr)return Ie;if(je)return je=!1,Pe;var lr=Oe;if(be.charCodeAt(lr)===34){for(var pr=lr;pr++<rr;)if(be.charCodeAt(pr)===34){if(be.charCodeAt(pr+1)!==34)break;++pr}Oe=pr+2;var mr=be.charCodeAt(pr+1);return mr===13?(je=!0,be.charCodeAt(pr+2)===10&&++Oe):mr===10&&(je=!0),be.slice(lr+1,pr).replace(/""/g,'"')}for(;Oe<rr;){var mr=be.charCodeAt(Oe++),gr=1;if(mr===10)je=!0;else if(mr===13)je=!0,be.charCodeAt(Oe)===10&&(++Oe,++gr);else if(mr!==G)continue;return be.slice(lr,Oe-gr)}return be.slice(lr)}for(;(We=tr())!==Ie;){for(var Ze=[];We!==Pe&&We!==Ie;)Ze.push(We),We=tr();_e&&(Ze=_e(Ze,Ge++))==null||Je.push(Ze)}return Je},W.format=function(be){if(Array.isArray(be[0]))return W.formatRows(be);var _e=new R,Pe=[];return be.forEach(function(Ie){for(var Je in Ie)_e.has(Je)||Pe.push(_e.add(Je))}),[Pe.map(fe).join(C)].concat(be.map(function(Ie){return Pe.map(function(Je){return fe(Ie[Je])}).join(C)})).join(`
`)},W.formatRows=function(be){return be.map(ie).join(`
`)};function ie(be){return be.map(fe).join(C)}function fe(be){return B.test(be)?'"'+be.replace(/\"/g,'""')+'"':be}return W},e.csv=e.dsv(",","text/csv"),e.tsv=e.dsv("	","text/tab-separated-values");var i0,o0,l0,s0,j5=this[I(this,"requestAnimationFrame")]||function(C){setTimeout(C,17)};e.timer=function(){u0.apply(this,arguments)};function u0(C,z,B){var G=arguments.length;G<2&&(z=0),G<3&&(B=Date.now());var W=B+z,Z={c:C,t:W,n:null};return o0?o0.n=Z:i0=Z,o0=Z,l0||(s0=clearTimeout(s0),l0=1,j5(Od)),Z}function Od(){var C=ex(),z=rx()-C;z>24?(isFinite(z)&&(clearTimeout(s0),s0=setTimeout(Od,z)),l0=0):(l0=1,j5(Od))}e.timer.flush=function(){ex(),rx()};function ex(){for(var C=Date.now(),z=i0;z;)C>=z.t&&z.c(C-z.t)&&(z.c=null),z=z.n;return C}function rx(){for(var C,z=i0,B=1/0;z;)z.c?(z.t<B&&(B=z.t),z=(C=z).n):z=C?C.n=z.n:i0=z.n;return o0=C,B}e.round=function(C,z){return z?Math.round(C*(z=Math.pow(10,z)))/z:Math.round(C)},e.geom={};function Es(C){return C[0]}function rf(C){return C[1]}e.geom.hull=function(C){var z=Es,B=rf;if(arguments.length)return G(C);function G(W){if(W.length<3)return[];var Z=Wr(z),se=Wr(B),ie,fe=W.length,be=[],_e=[];for(ie=0;ie<fe;ie++)be.push([+Z.call(this,W[ie],ie),+se.call(this,W[ie],ie),ie]);for(be.sort(qq),ie=0;ie<fe;ie++)_e.push([be[ie][0],-be[ie][1]]);var Pe=tx(be),Ie=tx(_e),Je=Ie[0]===Pe[0],rr=Ie[Ie.length-1]===Pe[Pe.length-1],Oe=[];for(ie=Pe.length-1;ie>=0;--ie)Oe.push(W[be[Pe[ie]][2]]);for(ie=+Je;ie<Ie.length-rr;++ie)Oe.push(W[be[Ie[ie]][2]]);return Oe}return G.x=function(W){return arguments.length?(z=W,G):z},G.y=function(W){return arguments.length?(B=W,G):B},G};function tx(C){for(var z=C.length,B=[0,1],G=2,W=2;W<z;W++){for(;G>1&&er(C[B[G-2]],C[B[G-1]],C[W])<=0;)--G;B[G++]=W}return B.slice(0,G)}function qq(C,z){return C[0]-z[0]||C[1]-z[1]}e.geom.polygon=function(C){return q(C,f0),C};var f0=e.geom.polygon.prototype=[];f0.area=function(){for(var C=-1,z=this.length,B,G=this[z-1],W=0;++C<z;)B=G,G=this[C],W+=B[1]*G[0]-B[0]*G[1];return W*.5},f0.centroid=function(C){var z=-1,B=this.length,G=0,W=0,Z,se=this[B-1],ie;for(arguments.length||(C=-1/(6*this.area()));++z<B;)Z=se,se=this[z],ie=Z[0]*se[1]-se[0]*Z[1],G+=(Z[0]+se[0])*ie,W+=(Z[1]+se[1])*ie;return[G*C,W*C]},f0.clip=function(C){for(var z,B=nx(C),G=-1,W=this.length-nx(this),Z,se,ie=this[W-1],fe,be,_e;++G<W;){for(z=C.slice(),C.length=0,fe=this[G],be=z[(se=z.length-B)-1],Z=-1;++Z<se;)_e=z[Z],Bd(_e,ie,fe)?(Bd(be,ie,fe)||C.push(Ud(be,_e,ie,fe)),C.push(_e)):Bd(be,ie,fe)&&C.push(Ud(be,_e,ie,fe)),be=_e;B&&C.push(C[0]),ie=fe}return C};function Bd(C,z,B){return(B[0]-z[0])*(C[1]-z[1])<(B[1]-z[1])*(C[0]-z[0])}function Ud(C,z,B,G){var W=C[0],Z=B[0],se=z[0]-W,ie=G[0]-Z,fe=C[1],be=B[1],_e=z[1]-fe,Pe=G[1]-be,Ie=(ie*(fe-be)-Pe*(W-Z))/(Pe*se-ie*_e);return[W+Ie*se,fe+Ie*_e]}function nx(C){var z=C[0],B=C[C.length-1];return!(z[0]-B[0]||z[1]-B[1])}var Ls,Ml,Ds,ax=[],Hd,tf,ix=[];function Oq(){v0(this),this.edge=this.site=this.circle=null}function ox(C){var z=ax.pop()||new Oq;return z.site=C,z}function Vd(C){Ps(C),Ds.remove(C),ax.push(C),v0(C)}function Bq(C){var z=C.circle,B=z.x,G=z.cy,W={x:B,y:G},Z=C.P,se=C.N,ie=[C];Vd(C);for(var fe=Z;fe.circle&&m(B-fe.circle.x)<Re&&m(G-fe.circle.cy)<Re;)Z=fe.P,ie.unshift(fe),Vd(fe),fe=Z;ie.unshift(fe),Ps(fe);for(var be=se;be.circle&&m(B-be.circle.x)<Re&&m(G-be.circle.cy)<Re;)se=be.N,ie.push(be),Vd(be),be=se;ie.push(be),Ps(be);var _e=ie.length,Pe;for(Pe=1;Pe<_e;++Pe)be=ie[Pe],fe=ie[Pe-1],c0(be.edge,fe.site,be.site,W);fe=ie[0],be=ie[_e-1],be.edge=nf(fe.site,be.site,null,W),Rs(fe),Rs(be)}function Uq(C){for(var z=C.x,B=C.y,G,W,Z,se,ie=Ds._;ie;)if(Z=lx(ie,B)-z,Z>Re)ie=ie.L;else if(se=z-Hq(ie,B),se>Re){if(!ie.R){G=ie;break}ie=ie.R}else{Z>-Re?(G=ie.P,W=ie):se>-Re?(G=ie,W=ie.N):G=W=ie;break}var fe=ox(C);if(Ds.insert(G,fe),!(!G&&!W)){if(G===W){Ps(G),W=ox(G.site),Ds.insert(fe,W),fe.edge=W.edge=nf(G.site,fe.site),Rs(G),Rs(W);return}if(!W){fe.edge=nf(G.site,fe.site);return}Ps(G),Ps(W);var be=G.site,_e=be.x,Pe=be.y,Ie=C.x-_e,Je=C.y-Pe,rr=W.site,Oe=rr.x-_e,Ge=rr.y-Pe,We=2*(Ie*Ge-Je*Oe),je=Ie*Ie+Je*Je,tr=Oe*Oe+Ge*Ge,Ze={x:(Ge*je-Je*tr)/We+_e,y:(Ie*tr-Oe*je)/We+Pe};c0(W.edge,be,rr,Ze),fe.edge=nf(be,C,null,Ze),W.edge=nf(C,rr,null,Ze),Rs(G),Rs(W)}}function lx(C,z){var B=C.site,G=B.x,W=B.y,Z=W-z;if(!Z)return G;var se=C.P;if(!se)return-1/0;B=se.site;var ie=B.x,fe=B.y,be=fe-z;if(!be)return ie;var _e=ie-G,Pe=1/Z-1/be,Ie=_e/be;return Pe?(-Ie+Math.sqrt(Ie*Ie-2*Pe*(_e*_e/(-2*be)-fe+be/2+W-Z/2)))/Pe+G:(G+ie)/2}function Hq(C,z){var B=C.N;if(B)return lx(B,z);var G=C.site;return G.y===z?G.x:1/0}function sx(C){this.site=C,this.edges=[]}sx.prototype.prepare=function(){for(var C=this.edges,z=C.length,B;z--;)B=C[z].edge,(!B.b||!B.a)&&C.splice(z,1);return C.sort(ux),C.length};function Vq(C){for(var z=C[0][0],B=C[1][0],G=C[0][1],W=C[1][1],Z,se,ie,fe,be=Ml,_e=be.length,Pe,Ie,Je,rr,Oe,Ge;_e--;)if(Pe=be[_e],!(!Pe||!Pe.prepare()))for(Je=Pe.edges,rr=Je.length,Ie=0;Ie<rr;)Ge=Je[Ie].end(),ie=Ge.x,fe=Ge.y,Oe=Je[++Ie%rr].start(),Z=Oe.x,se=Oe.y,(m(ie-Z)>Re||m(fe-se)>Re)&&(Je.splice(Ie,0,new h0(Zq(Pe.site,Ge,m(ie-z)<Re&&W-fe>Re?{x:z,y:m(Z-z)<Re?se:W}:m(fe-W)<Re&&B-ie>Re?{x:m(se-W)<Re?Z:B,y:W}:m(ie-B)<Re&&fe-G>Re?{x:B,y:m(Z-B)<Re?se:G}:m(fe-G)<Re&&ie-z>Re?{x:m(se-G)<Re?Z:z,y:G}:null),Pe.site,null)),++rr)}function ux(C,z){return z.angle-C.angle}function Gq(){v0(this),this.x=this.y=this.arc=this.site=this.cy=null}function Rs(C){var z=C.P,B=C.N;if(!(!z||!B)){var G=z.site,W=C.site,Z=B.site;if(G!==Z){var se=W.x,ie=W.y,fe=G.x-se,be=G.y-ie,_e=Z.x-se,Ge=Z.y-ie,Pe=2*(fe*Ge-be*_e);if(!(Pe>=-Qe)){var Ie=fe*fe+be*be,Je=_e*_e+Ge*Ge,rr=(Ge*Ie-be*Je)/Pe,Oe=(fe*Je-_e*Ie)/Pe,Ge=Oe+ie,We=ix.pop()||new Gq;We.arc=C,We.site=W,We.x=rr+se,We.y=Ge+Math.sqrt(rr*rr+Oe*Oe),We.cy=Ge,C.circle=We;for(var je=null,tr=tf._;tr;)if(We.y<tr.y||We.y===tr.y&&We.x<=tr.x)if(tr.L)tr=tr.L;else{je=tr.P;break}else if(tr.R)tr=tr.R;else{je=tr;break}tf.insert(je,We),je||(Hd=We)}}}}function Ps(C){var z=C.circle;z&&(z.P||(Hd=z.N),tf.remove(z),ix.push(z),v0(z),C.circle=null)}function Yq(C,z,B,G){return function(W){var Z=W.a,se=W.b,ie=Z.x,fe=Z.y,be=se.x,_e=se.y,Pe=0,Ie=1,Je=be-ie,rr=_e-fe,Oe;if(Oe=C-ie,!(!Je&&Oe>0)){if(Oe/=Je,Je<0){if(Oe<Pe)return;Oe<Ie&&(Ie=Oe)}else if(Je>0){if(Oe>Ie)return;Oe>Pe&&(Pe=Oe)}if(Oe=B-ie,!(!Je&&Oe<0)){if(Oe/=Je,Je<0){if(Oe>Ie)return;Oe>Pe&&(Pe=Oe)}else if(Je>0){if(Oe<Pe)return;Oe<Ie&&(Ie=Oe)}if(Oe=z-fe,!(!rr&&Oe>0)){if(Oe/=rr,rr<0){if(Oe<Pe)return;Oe<Ie&&(Ie=Oe)}else if(rr>0){if(Oe>Ie)return;Oe>Pe&&(Pe=Oe)}if(Oe=G-fe,!(!rr&&Oe<0)){if(Oe/=rr,rr<0){if(Oe>Ie)return;Oe>Pe&&(Pe=Oe)}else if(rr>0){if(Oe<Pe)return;Oe<Ie&&(Ie=Oe)}return Pe>0&&(W.a={x:ie+Pe*Je,y:fe+Pe*rr}),Ie<1&&(W.b={x:ie+Ie*Je,y:fe+Ie*rr}),W}}}}}}function Wq(C){for(var z=Ls,B=Yq(C[0][0],C[0][1],C[1][0],C[1][1]),G=z.length,W;G--;)W=z[G],(!Xq(W,C)||!B(W)||m(W.a.x-W.b.x)<Re&&m(W.a.y-W.b.y)<Re)&&(W.a=W.b=null,z.splice(G,1))}function Xq(C,z){var B=C.b;if(B)return!0;var G=C.a,W=z[0][0],Z=z[1][0],se=z[0][1],ie=z[1][1],fe=C.l,be=C.r,_e=fe.x,Pe=fe.y,Ie=be.x,Je=be.y,rr=(_e+Ie)/2,Oe=(Pe+Je)/2,Ge,We;if(Je===Pe){if(rr<W||rr>=Z)return;if(_e>Ie){if(!G)G={x:rr,y:se};else if(G.y>=ie)return;B={x:rr,y:ie}}else{if(!G)G={x:rr,y:ie};else if(G.y<se)return;B={x:rr,y:se}}}else if(Ge=(_e-Ie)/(Je-Pe),We=Oe-Ge*rr,Ge<-1||Ge>1)if(_e>Ie){if(!G)G={x:(se-We)/Ge,y:se};else if(G.y>=ie)return;B={x:(ie-We)/Ge,y:ie}}else{if(!G)G={x:(ie-We)/Ge,y:ie};else if(G.y<se)return;B={x:(se-We)/Ge,y:se}}else if(Pe<Je){if(!G)G={x:W,y:Ge*W+We};else if(G.x>=Z)return;B={x:Z,y:Ge*Z+We}}else{if(!G)G={x:Z,y:Ge*Z+We};else if(G.x<W)return;B={x:W,y:Ge*W+We}}return C.a=G,C.b=B,!0}function fx(C,z){this.l=C,this.r=z,this.a=this.b=null}function nf(C,z,B,G){var W=new fx(C,z);return Ls.push(W),B&&c0(W,C,z,B),G&&c0(W,z,C,G),Ml[C.i].edges.push(new h0(W,C,z)),Ml[z.i].edges.push(new h0(W,z,C)),W}function Zq(C,z,B){var G=new fx(C,null);return G.a=z,G.b=B,Ls.push(G),G}function c0(C,z,B,G){!C.a&&!C.b?(C.a=G,C.l=z,C.r=B):C.l===B?C.b=G:C.a=G}function h0(C,z,B){var G=C.a,W=C.b;this.edge=C,this.site=z,this.angle=B?Math.atan2(B.y-z.y,B.x-z.x):C.l===z?Math.atan2(W.x-G.x,G.y-W.y):Math.atan2(G.x-W.x,W.y-G.y)}h0.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Gd(){this._=null}function v0(C){C.U=C.C=C.L=C.R=C.P=C.N=null}Gd.prototype={insert:function(C,z){var B,G,W;if(C){if(z.P=C,z.N=C.N,C.N&&(C.N.P=z),C.N=z,C.R){for(C=C.R;C.L;)C=C.L;C.L=z}else C.R=z;B=C}else this._?(C=cx(this._),z.P=null,z.N=C,C.P=C.L=z,B=C):(z.P=z.N=null,this._=z,B=null);for(z.L=z.R=null,z.U=B,z.C=!0,C=z;B&&B.C;)G=B.U,B===G.L?(W=G.R,W&&W.C?(B.C=W.C=!1,G.C=!0,C=G):(C===B.R&&(af(this,B),C=B,B=C.U),B.C=!1,G.C=!0,of(this,G))):(W=G.L,W&&W.C?(B.C=W.C=!1,G.C=!0,C=G):(C===B.L&&(of(this,B),C=B,B=C.U),B.C=!1,G.C=!0,af(this,G))),B=C.U;this._.C=!1},remove:function(C){C.N&&(C.N.P=C.P),C.P&&(C.P.N=C.N),C.N=C.P=null;var z=C.U,B,G=C.L,W=C.R,Z,se;if(G?W?Z=cx(W):Z=G:Z=W,z?z.L===C?z.L=Z:z.R=Z:this._=Z,G&&W?(se=Z.C,Z.C=C.C,Z.L=G,G.U=Z,Z!==W?(z=Z.U,Z.U=C.U,C=Z.R,z.L=C,Z.R=W,W.U=Z):(Z.U=z,z=Z,C=Z.R)):(se=C.C,C=Z),C&&(C.U=z),!se){if(C&&C.C){C.C=!1;return}do{if(C===this._)break;if(C===z.L){if(B=z.R,B.C&&(B.C=!1,z.C=!0,af(this,z),B=z.R),B.L&&B.L.C||B.R&&B.R.C){(!B.R||!B.R.C)&&(B.L.C=!1,B.C=!0,of(this,B),B=z.R),B.C=z.C,z.C=B.R.C=!1,af(this,z),C=this._;break}}else if(B=z.L,B.C&&(B.C=!1,z.C=!0,of(this,z),B=z.L),B.L&&B.L.C||B.R&&B.R.C){(!B.L||!B.L.C)&&(B.R.C=!1,B.C=!0,af(this,B),B=z.L),B.C=z.C,z.C=B.L.C=!1,of(this,z),C=this._;break}B.C=!0,C=z,z=z.U}while(!C.C);C&&(C.C=!1)}}};function af(C,z){var B=z,G=z.R,W=B.U;W?W.L===B?W.L=G:W.R=G:C._=G,G.U=W,B.U=G,B.R=G.L,B.R&&(B.R.U=B),G.L=B}function of(C,z){var B=z,G=z.L,W=B.U;W?W.L===B?W.L=G:W.R=G:C._=G,G.U=W,B.U=G,B.L=G.R,B.L&&(B.L.U=B),G.R=B}function cx(C){for(;C.L;)C=C.L;return C}function Yd(C,z){var B=C.sort(Jq).pop(),G,W,Z;for(Ls=[],Ml=new Array(C.length),Ds=new Gd,tf=new Gd;;)if(Z=Hd,B&&(!Z||B.y<Z.y||B.y===Z.y&&B.x<Z.x))(B.x!==G||B.y!==W)&&(Ml[B.i]=new sx(B),Uq(B),G=B.x,W=B.y),B=C.pop();else if(Z)Bq(Z.arc);else break;z&&(Wq(z),Vq(z));var se={cells:Ml,edges:Ls};return Ds=tf=Ls=Ml=null,se}function Jq(C,z){return z.y-C.y||z.x-C.x}e.geom.voronoi=function(C){var z=Es,B=rf,G=z,W=B,Z=d0;if(C)return se(C);function se(fe){var be=new Array(fe.length),_e=Z[0][0],Pe=Z[0][1],Ie=Z[1][0],Je=Z[1][1];return Yd(ie(fe),Z).cells.forEach(function(rr,Oe){var Ge=rr.edges,We=rr.site,je=be[Oe]=Ge.length?Ge.map(function(tr){var Ze=tr.start();return[Ze.x,Ze.y]}):We.x>=_e&&We.x<=Ie&&We.y>=Pe&&We.y<=Je?[[_e,Je],[Ie,Je],[Ie,Pe],[_e,Pe]]:[];je.point=fe[Oe]}),be}function ie(fe){return fe.map(function(be,_e){return{x:Math.round(G(be,_e)/Re)*Re,y:Math.round(W(be,_e)/Re)*Re,i:_e}})}return se.links=function(fe){return Yd(ie(fe)).edges.filter(function(be){return be.l&&be.r}).map(function(be){return{source:fe[be.l.i],target:fe[be.r.i]}})},se.triangles=function(fe){var be=[];return Yd(ie(fe)).cells.forEach(function(_e,Pe){for(var Ie=_e.site,Je=_e.edges.sort(ux),rr=-1,Oe=Je.length,Ge,We,je=Je[Oe-1].edge,tr=je.l===Ie?je.r:je.l;++rr<Oe;)Ge=je,We=tr,je=Je[rr].edge,tr=je.l===Ie?je.r:je.l,Pe<We.i&&Pe<tr.i&&Kq(Ie,We,tr)<0&&be.push([fe[Pe],fe[We.i],fe[tr.i]])}),be},se.x=function(fe){return arguments.length?(G=Wr(z=fe),se):z},se.y=function(fe){return arguments.length?(W=Wr(B=fe),se):B},se.clipExtent=function(fe){return arguments.length?(Z=fe==null?d0:fe,se):Z===d0?null:Z},se.size=function(fe){return arguments.length?se.clipExtent(fe&&[[0,0],fe]):Z===d0?null:Z&&Z[1]},se};var d0=[[-1e6,-1e6],[1e6,1e6]];function Kq(C,z,B){return(C.x-B.x)*(z.y-C.y)-(C.x-z.x)*(B.y-C.y)}e.geom.delaunay=function(C){return e.geom.voronoi().triangles(C)},e.geom.quadtree=function(C,z,B,G,W){var Z=Es,se=rf,ie;if(ie=arguments.length)return Z=Qq,se=$q,ie===3&&(W=B,G=z,B=z=0),fe(C);function fe(be){var _e,Pe=Wr(Z),Ie=Wr(se),Je,rr,Oe,Ge,We,je,tr,Ze;if(z!=null)We=z,je=B,tr=G,Ze=W;else if(tr=Ze=-(We=je=1/0),Je=[],rr=[],Ge=be.length,ie)for(Oe=0;Oe<Ge;++Oe)_e=be[Oe],_e.x<We&&(We=_e.x),_e.y<je&&(je=_e.y),_e.x>tr&&(tr=_e.x),_e.y>Ze&&(Ze=_e.y),Je.push(_e.x),rr.push(_e.y);else for(Oe=0;Oe<Ge;++Oe){var lr=+Pe(_e=be[Oe],Oe),pr=+Ie(_e,Oe);lr<We&&(We=lr),pr<je&&(je=pr),lr>tr&&(tr=lr),pr>Ze&&(Ze=pr),Je.push(lr),rr.push(pr)}var mr=tr-We,gr=Ze-je;mr>gr?Ze=je+mr:tr=We+gr;function _r(Tr,Ir,st,Bt,vt,vr,Br,Hr){if(!(isNaN(st)||isNaN(Bt)))if(Tr.leaf){var ut=Tr.x,Pt=Tr.y;if(ut!=null)if(m(ut-st)+m(Pt-Bt)<.01)wr(Tr,Ir,st,Bt,vt,vr,Br,Hr);else{var $t=Tr.point;Tr.x=Tr.y=Tr.point=null,wr(Tr,$t,ut,Pt,vt,vr,Br,Hr),wr(Tr,Ir,st,Bt,vt,vr,Br,Hr)}else Tr.x=st,Tr.y=Bt,Tr.point=Ir}else wr(Tr,Ir,st,Bt,vt,vr,Br,Hr)}function wr(Tr,Ir,st,Bt,vt,vr,Br,Hr){var ut=(vt+Br)*.5,Pt=(vr+Hr)*.5,$t=st>=ut,xn=Bt>=Pt,Nn=xn<<1|$t;Tr.leaf=!1,Tr=Tr.nodes[Nn]||(Tr.nodes[Nn]=hx()),$t?vt=ut:Br=ut,xn?vr=Pt:Hr=Pt,_r(Tr,Ir,st,Bt,vt,vr,Br,Hr)}var Or=hx();if(Or.add=function(Tr){_r(Or,Tr,+Pe(Tr,++Oe),+Ie(Tr,Oe),We,je,tr,Ze)},Or.visit=function(Tr){lf(Tr,Or,We,je,tr,Ze)},Or.find=function(Tr){return jq(Or,Tr[0],Tr[1],We,je,tr,Ze)},Oe=-1,z==null){for(;++Oe<Ge;)_r(Or,be[Oe],Je[Oe],rr[Oe],We,je,tr,Ze);--Oe}else be.forEach(Or.add);return Je=rr=be=_e=null,Or}return fe.x=function(be){return arguments.length?(Z=be,fe):Z},fe.y=function(be){return arguments.length?(se=be,fe):se},fe.extent=function(be){return arguments.length?(be==null?z=B=G=W=null:(z=+be[0][0],B=+be[0][1],G=+be[1][0],W=+be[1][1]),fe):z==null?null:[[z,B],[G,W]]},fe.size=function(be){return arguments.length?(be==null?z=B=G=W=null:(z=B=0,G=+be[0],W=+be[1]),fe):z==null?null:[G-z,W-B]},fe};function Qq(C){return C.x}function $q(C){return C.y}function hx(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function lf(C,z,B,G,W,Z){if(!C(z,B,G,W,Z)){var se=(B+W)*.5,ie=(G+Z)*.5,fe=z.nodes;fe[0]&&lf(C,fe[0],B,G,se,ie),fe[1]&&lf(C,fe[1],se,G,W,ie),fe[2]&&lf(C,fe[2],B,ie,se,Z),fe[3]&&lf(C,fe[3],se,ie,W,Z)}}function jq(C,z,B,G,W,Z,se){var ie=1/0,fe;return function be(_e,Pe,Ie,Je,rr){if(!(Pe>Z||Ie>se||Je<G||rr<W)){if(Oe=_e.point){var Oe,Ge=z-_e.x,We=B-_e.y,je=Ge*Ge+We*We;if(je<ie){var tr=Math.sqrt(ie=je);G=z-tr,W=B-tr,Z=z+tr,se=B+tr,fe=Oe}}for(var Ze=_e.nodes,lr=(Pe+Je)*.5,pr=(Ie+rr)*.5,mr=z>=lr,gr=B>=pr,_r=gr<<1|mr,wr=_r+4;_r<wr;++_r)if(_e=Ze[_r&3])switch(_r&3){case 0:be(_e,Pe,Ie,lr,pr);break;case 1:be(_e,lr,Ie,Je,pr);break;case 2:be(_e,Pe,pr,lr,rr);break;case 3:be(_e,lr,pr,Je,rr);break}}}(C,G,W,Z,se),fe}e.interpolateRgb=Wd;function Wd(C,z){C=e.rgb(C),z=e.rgb(z);var B=C.r,G=C.g,W=C.b,Z=z.r-B,se=z.g-G,ie=z.b-W;return function(fe){return"#"+kr(Math.round(B+Z*fe))+kr(Math.round(G+se*fe))+kr(Math.round(W+ie*fe))}}e.interpolateObject=vx;function vx(C,z){var B={},G={},W;for(W in C)W in z?B[W]=Tl(C[W],z[W]):G[W]=C[W];for(W in z)W in C||(G[W]=z[W]);return function(Z){for(W in B)G[W]=B[W](Z);return G}}e.interpolateNumber=ji;function ji(C,z){return C=+C,z=+z,function(B){return C*(1-B)+z*B}}e.interpolateString=dx;function dx(C,z){var B=Xd.lastIndex=Zd.lastIndex=0,G,W,Z,se=-1,ie=[],fe=[];for(C=C+"",z=z+"";(G=Xd.exec(C))&&(W=Zd.exec(z));)(Z=W.index)>B&&(Z=z.slice(B,Z),ie[se]?ie[se]+=Z:ie[++se]=Z),(G=G[0])===(W=W[0])?ie[se]?ie[se]+=W:ie[++se]=W:(ie[++se]=null,fe.push({i:se,x:ji(G,W)})),B=Zd.lastIndex;return B<z.length&&(Z=z.slice(B),ie[se]?ie[se]+=Z:ie[++se]=Z),ie.length<2?fe[0]?(z=fe[0].x,function(be){return z(be)+""}):function(){return z}:(z=fe.length,function(be){for(var _e=0,Pe;_e<z;++_e)ie[(Pe=fe[_e]).i]=Pe.x(be);return ie.join("")})}var Xd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zd=new RegExp(Xd.source,"g");e.interpolate=Tl;function Tl(C,z){for(var B=e.interpolators.length,G;--B>=0&&!(G=e.interpolators[B](C,z)););return G}e.interpolators=[function(C,z){var B=typeof z;return(B==="string"?mn.has(z.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(z)?Wd:dx:z instanceof pt?Wd:Array.isArray(z)?p0:B==="object"&&isNaN(z)?vx:ji)(C,z)}],e.interpolateArray=p0;function p0(C,z){var B=[],G=[],W=C.length,Z=z.length,se=Math.min(C.length,z.length),ie;for(ie=0;ie<se;++ie)B.push(Tl(C[ie],z[ie]));for(;ie<W;++ie)G[ie]=C[ie];for(;ie<Z;++ie)G[ie]=z[ie];return function(fe){for(ie=0;ie<se;++ie)G[ie]=B[ie](fe);return G}}var px=function(){return N},eO=e.map({linear:px,poly:oO,quad:function(){return nO},cubic:function(){return aO},sin:function(){return lO},exp:function(){return sO},circle:function(){return uO},elastic:fO,back:cO,bounce:function(){return hO}}),rO=e.map({in:N,out:gx,"in-out":yx,"out-in":function(C){return yx(gx(C))}});e.ease=function(C){var z=C.indexOf("-"),B=z>=0?C.slice(0,z):C,G=z>=0?C.slice(z+1):"in";return B=eO.get(B)||px,G=rO.get(G)||N,tO(G(B.apply(null,r.call(arguments,1))))};function tO(C){return function(z){return z<=0?0:z>=1?1:C(z)}}function gx(C){return function(z){return 1-C(1-z)}}function yx(C){return function(z){return .5*(z<.5?C(2*z):2-C(2-2*z))}}function nO(C){return C*C}function aO(C){return C*C*C}function iO(C){if(C<=0)return 0;if(C>=1)return 1;var z=C*C,B=z*C;return 4*(C<.5?B:3*(C-z)+B-.75)}function oO(C){return function(z){return Math.pow(z,C)}}function lO(C){return 1-Math.cos(C*J)}function sO(C){return Math.pow(2,10*(C-1))}function uO(C){return 1-Math.sqrt(1-C*C)}function fO(C,z){var B;return arguments.length<2&&(z=.45),arguments.length?B=z/ar*Math.asin(1/C):(C=1,B=z/4),function(G){return 1+C*Math.pow(2,-10*G)*Math.sin((G-B)*ar/z)}}function cO(C){return C||(C=1.70158),function(z){return z*z*((C+1)*z-C)}}function hO(C){return C<1/2.75?7.5625*C*C:C<2/2.75?7.5625*(C-=1.5/2.75)*C+.75:C<2.5/2.75?7.5625*(C-=2.25/2.75)*C+.9375:7.5625*(C-=2.625/2.75)*C+.984375}e.interpolateHcl=vO;function vO(C,z){C=e.hcl(C),z=e.hcl(z);var B=C.h,G=C.c,W=C.l,Z=z.h-B,se=z.c-G,ie=z.l-W;return isNaN(se)&&(se=0,G=isNaN(G)?z.c:G),isNaN(Z)?(Z=0,B=isNaN(B)?z.h:B):Z>180?Z-=360:Z<-180&&(Z+=360),function(fe){return Ot(B+Z*fe,G+se*fe,W+ie*fe)+""}}e.interpolateHsl=dO;function dO(C,z){C=e.hsl(C),z=e.hsl(z);var B=C.h,G=C.s,W=C.l,Z=z.h-B,se=z.s-G,ie=z.l-W;return isNaN(se)&&(se=0,G=isNaN(G)?z.s:G),isNaN(Z)?(Z=0,B=isNaN(B)?z.h:B):Z>180?Z-=360:Z<-180&&(Z+=360),function(fe){return vn(B+Z*fe,G+se*fe,W+ie*fe)+""}}e.interpolateLab=pO;function pO(C,z){C=e.lab(C),z=e.lab(z);var B=C.l,G=C.a,W=C.b,Z=z.l-B,se=z.a-G,ie=z.b-W;return function(fe){return Ma(B+Z*fe,G+se*fe,W+ie*fe)+""}}e.interpolateRound=mx;function mx(C,z){return z-=C,function(B){return Math.round(C+z*B)}}e.transform=function(C){var z=n.createElementNS(e.ns.prefix.svg,"g");return(e.transform=function(B){if(B!=null){z.setAttribute("transform",B);var G=z.transform.baseVal.consolidate()}return new xx(G?G.matrix:yO)})(C)};function xx(C){var z=[C.a,C.b],B=[C.c,C.d],G=_x(z),W=bx(z,B),Z=_x(gO(B,z,-W))||0;z[0]*B[1]<B[0]*z[1]&&(z[0]*=-1,z[1]*=-1,G*=-1,W*=-1),this.rotate=(G?Math.atan2(z[1],z[0]):Math.atan2(-B[0],B[1]))*De,this.translate=[C.e,C.f],this.scale=[G,Z],this.skew=Z?Math.atan2(W,Z)*De:0}xx.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function bx(C,z){return C[0]*z[0]+C[1]*z[1]}function _x(C){var z=Math.sqrt(bx(C,C));return z&&(C[0]/=z,C[1]/=z),z}function gO(C,z,B){return C[0]+=B*z[0],C[1]+=B*z[1],C}var yO={a:1,b:0,c:0,d:1,e:0,f:0};e.interpolateTransform=wx;function Is(C){return C.length?C.pop()+",":""}function mO(C,z,B,G){if(C[0]!==z[0]||C[1]!==z[1]){var W=B.push("translate(",null,",",null,")");G.push({i:W-4,x:ji(C[0],z[0])},{i:W-2,x:ji(C[1],z[1])})}else(z[0]||z[1])&&B.push("translate("+z+")")}function xO(C,z,B,G){C!==z?(C-z>180?z+=360:z-C>180&&(C+=360),G.push({i:B.push(Is(B)+"rotate(",null,")")-2,x:ji(C,z)})):z&&B.push(Is(B)+"rotate("+z+")")}function bO(C,z,B,G){C!==z?G.push({i:B.push(Is(B)+"skewX(",null,")")-2,x:ji(C,z)}):z&&B.push(Is(B)+"skewX("+z+")")}function _O(C,z,B,G){if(C[0]!==z[0]||C[1]!==z[1]){var W=B.push(Is(B)+"scale(",null,",",null,")");G.push({i:W-4,x:ji(C[0],z[0])},{i:W-2,x:ji(C[1],z[1])})}else(z[0]!==1||z[1]!==1)&&B.push(Is(B)+"scale("+z+")")}function wx(C,z){var B=[],G=[];return C=e.transform(C),z=e.transform(z),mO(C.translate,z.translate,B,G),xO(C.rotate,z.rotate,B,G),bO(C.skew,z.skew,B,G),_O(C.scale,z.scale,B,G),C=z=null,function(W){for(var Z=-1,se=G.length,ie;++Z<se;)B[(ie=G[Z]).i]=ie.x(W);return B.join("")}}function wO(C,z){return z=(z-=C=+C)||1/z,function(B){return(B-C)/z}}function MO(C,z){return z=(z-=C=+C)||1/z,function(B){return Math.max(0,Math.min(1,(B-C)/z))}}e.layout={},e.layout.bundle=function(){return function(C){for(var z=[],B=-1,G=C.length;++B<G;)z.push(TO(C[B]));return z}};function TO(C){for(var z=C.source,B=C.target,G=AO(z,B),W=[z];z!==G;)z=z.parent,W.push(z);for(var Z=W.length;B!==G;)W.splice(Z,0,B),B=B.parent;return W}function Mx(C){for(var z=[],B=C.parent;B!=null;)z.push(C),C=B,B=B.parent;return z.push(C),z}function AO(C,z){if(C===z)return C;for(var B=Mx(C),G=Mx(z),W=B.pop(),Z=G.pop(),se=null;W===Z;)se=W,W=B.pop(),Z=G.pop();return se}e.layout.chord=function(){var C={},z,B,G,W,Z=0,se,ie,fe;function be(){var Pe={},Ie=[],Je=e.range(W),rr=[],Oe,Ge,We,je,tr;for(z=[],B=[],Oe=0,je=-1;++je<W;){for(Ge=0,tr=-1;++tr<W;)Ge+=G[je][tr];Ie.push(Ge),rr.push(e.range(W)),Oe+=Ge}for(se&&Je.sort(function(Or,Tr){return se(Ie[Or],Ie[Tr])}),ie&&rr.forEach(function(Or,Tr){Or.sort(function(Ir,st){return ie(G[Tr][Ir],G[Tr][st])})}),Oe=(ar-Z*W)/Oe,Ge=0,je=-1;++je<W;){for(We=Ge,tr=-1;++tr<W;){var Ze=Je[je],lr=rr[Ze][tr],pr=G[Ze][lr],mr=Ge,gr=Ge+=pr*Oe;Pe[Ze+"-"+lr]={index:Ze,subindex:lr,startAngle:mr,endAngle:gr,value:pr}}B[Ze]={index:Ze,startAngle:We,endAngle:Ge,value:Ie[Ze]},Ge+=Z}for(je=-1;++je<W;)for(tr=je-1;++tr<W;){var _r=Pe[je+"-"+tr],wr=Pe[tr+"-"+je];(_r.value||wr.value)&&z.push(_r.value<wr.value?{source:wr,target:_r}:{source:_r,target:wr})}fe&&_e()}function _e(){z.sort(function(Pe,Ie){return fe((Pe.source.value+Pe.target.value)/2,(Ie.source.value+Ie.target.value)/2)})}return C.matrix=function(Pe){return arguments.length?(W=(G=Pe)&&G.length,z=B=null,C):G},C.padding=function(Pe){return arguments.length?(Z=Pe,z=B=null,C):Z},C.sortGroups=function(Pe){return arguments.length?(se=Pe,z=B=null,C):se},C.sortSubgroups=function(Pe){return arguments.length?(ie=Pe,z=null,C):ie},C.sortChords=function(Pe){return arguments.length?(fe=Pe,z&&_e(),C):fe},C.chords=function(){return z||be(),z},C.groups=function(){return B||be(),B},C},e.layout.force=function(){var C={},z=e.dispatch("start","tick","end"),B,G=[1,1],W,Z,se=.9,ie=LO,fe=DO,be=-30,_e=RO,Pe=.1,Ie=.64,Je=[],rr=[],Oe,Ge,We;function je(Ze){return function(lr,pr,mr,gr){if(lr.point!==Ze){var _r=lr.cx-Ze.x,wr=lr.cy-Ze.y,Or=gr-pr,Tr=_r*_r+wr*wr;if(Or*Or/Ie<Tr){if(Tr<_e){var Ir=lr.charge/Tr;Ze.px-=_r*Ir,Ze.py-=wr*Ir}return!0}if(lr.point&&Tr&&Tr<_e){var Ir=lr.pointCharge/Tr;Ze.px-=_r*Ir,Ze.py-=wr*Ir}}return!lr.charge}}C.tick=function(){if((Z*=.99)<.005)return B=null,z.end({type:"end",alpha:Z=0}),!0;var Ze=Je.length,lr=rr.length,pr,mr,gr,_r,wr,Or,Tr,Ir,st;for(mr=0;mr<lr;++mr)gr=rr[mr],_r=gr.source,wr=gr.target,Ir=wr.x-_r.x,st=wr.y-_r.y,(Or=Ir*Ir+st*st)&&(Or=Z*Ge[mr]*((Or=Math.sqrt(Or))-Oe[mr])/Or,Ir*=Or,st*=Or,wr.x-=Ir*(Tr=_r.weight+wr.weight?_r.weight/(_r.weight+wr.weight):.5),wr.y-=st*Tr,_r.x+=Ir*(Tr=1-Tr),_r.y+=st*Tr);if((Tr=Z*Pe)&&(Ir=G[0]/2,st=G[1]/2,mr=-1,Tr))for(;++mr<Ze;)gr=Je[mr],gr.x+=(Ir-gr.x)*Tr,gr.y+=(st-gr.y)*Tr;if(be)for(Tx(pr=e.geom.quadtree(Je),Z,We),mr=-1;++mr<Ze;)(gr=Je[mr]).fixed||pr.visit(je(gr));for(mr=-1;++mr<Ze;)gr=Je[mr],gr.fixed?(gr.x=gr.px,gr.y=gr.py):(gr.x-=(gr.px-(gr.px=gr.x))*se,gr.y-=(gr.py-(gr.py=gr.y))*se);z.tick({type:"tick",alpha:Z})},C.nodes=function(Ze){return arguments.length?(Je=Ze,C):Je},C.links=function(Ze){return arguments.length?(rr=Ze,C):rr},C.size=function(Ze){return arguments.length?(G=Ze,C):G},C.linkDistance=function(Ze){return arguments.length?(ie=typeof Ze=="function"?Ze:+Ze,C):ie},C.distance=C.linkDistance,C.linkStrength=function(Ze){return arguments.length?(fe=typeof Ze=="function"?Ze:+Ze,C):fe},C.friction=function(Ze){return arguments.length?(se=+Ze,C):se},C.charge=function(Ze){return arguments.length?(be=typeof Ze=="function"?Ze:+Ze,C):be},C.chargeDistance=function(Ze){return arguments.length?(_e=Ze*Ze,C):Math.sqrt(_e)},C.gravity=function(Ze){return arguments.length?(Pe=+Ze,C):Pe},C.theta=function(Ze){return arguments.length?(Ie=Ze*Ze,C):Math.sqrt(Ie)},C.alpha=function(Ze){return arguments.length?(Ze=+Ze,Z?Ze>0?Z=Ze:(B.c=null,B.t=NaN,B=null,z.end({type:"end",alpha:Z=0})):Ze>0&&(z.start({type:"start",alpha:Z=Ze}),B=u0(C.tick)),C):Z},C.start=function(){var Ze,lr=Je.length,pr=rr.length,mr=G[0],gr=G[1],_r,wr;for(Ze=0;Ze<lr;++Ze)(wr=Je[Ze]).index=Ze,wr.weight=0;for(Ze=0;Ze<pr;++Ze)wr=rr[Ze],typeof wr.source=="number"&&(wr.source=Je[wr.source]),typeof wr.target=="number"&&(wr.target=Je[wr.target]),++wr.source.weight,++wr.target.weight;for(Ze=0;Ze<lr;++Ze)wr=Je[Ze],isNaN(wr.x)&&(wr.x=Or("x",mr)),isNaN(wr.y)&&(wr.y=Or("y",gr)),isNaN(wr.px)&&(wr.px=wr.x),isNaN(wr.py)&&(wr.py=wr.y);if(Oe=[],typeof ie=="function")for(Ze=0;Ze<pr;++Ze)Oe[Ze]=+ie.call(this,rr[Ze],Ze);else for(Ze=0;Ze<pr;++Ze)Oe[Ze]=ie;if(Ge=[],typeof fe=="function")for(Ze=0;Ze<pr;++Ze)Ge[Ze]=+fe.call(this,rr[Ze],Ze);else for(Ze=0;Ze<pr;++Ze)Ge[Ze]=fe;if(We=[],typeof be=="function")for(Ze=0;Ze<lr;++Ze)We[Ze]=+be.call(this,Je[Ze],Ze);else for(Ze=0;Ze<lr;++Ze)We[Ze]=be;function Or(Tr,Ir){if(!_r){for(_r=new Array(lr),vt=0;vt<lr;++vt)_r[vt]=[];for(vt=0;vt<pr;++vt){var st=rr[vt];_r[st.source.index].push(st.target),_r[st.target.index].push(st.source)}}for(var Bt=_r[Ze],vt=-1,vr=Bt.length,Br;++vt<vr;)if(!isNaN(Br=Bt[vt][Tr]))return Br;return Math.random()*Ir}return C.resume()},C.resume=function(){return C.alpha(.1)},C.stop=function(){return C.alpha(0)},C.drag=function(){if(W||(W=e.behavior.drag().origin(N).on("dragstart.force",kO).on("drag.force",tr).on("dragend.force",SO)),!arguments.length)return W;this.on("mouseover.force",CO).on("mouseout.force",EO).call(W)};function tr(Ze){Ze.px=e.event.x,Ze.py=e.event.y,C.resume()}return e.rebind(C,z,"on")};function kO(C){C.fixed|=2}function SO(C){C.fixed&=-7}function CO(C){C.fixed|=4,C.px=C.x,C.py=C.y}function EO(C){C.fixed&=-5}function Tx(C,z,B){var G=0,W=0;if(C.charge=0,!C.leaf)for(var Z=C.nodes,se=Z.length,ie=-1,fe;++ie<se;)fe=Z[ie],fe!=null&&(Tx(fe,z,B),C.charge+=fe.charge,G+=fe.charge*fe.cx,W+=fe.charge*fe.cy);if(C.point){C.leaf||(C.point.x+=Math.random()-.5,C.point.y+=Math.random()-.5);var be=z*B[C.point.index];C.charge+=C.pointCharge=be,G+=be*C.point.x,W+=be*C.point.y}C.cx=G/C.charge,C.cy=W/C.charge}var LO=20,DO=1,RO=1/0;e.layout.hierarchy=function(){var C=FO,z=PO,B=IO;function G(W){var Z=[W],se=[],ie;for(W.depth=0;(ie=Z.pop())!=null;)if(se.push(ie),(be=z.call(G,ie,ie.depth))&&(fe=be.length)){for(var fe,be,_e;--fe>=0;)Z.push(_e=be[fe]),_e.parent=ie,_e.depth=ie.depth+1;B&&(ie.value=0),ie.children=be}else B&&(ie.value=+B.call(G,ie,ie.depth)||0),delete ie.children;return Ai(W,function(Pe){var Ie,Je;C&&(Ie=Pe.children)&&Ie.sort(C),B&&(Je=Pe.parent)&&(Je.value+=Pe.value)}),se}return G.sort=function(W){return arguments.length?(C=W,G):C},G.children=function(W){return arguments.length?(z=W,G):z},G.value=function(W){return arguments.length?(B=W,G):B},G.revalue=function(W){return B&&(uf(W,function(Z){Z.children&&(Z.value=0)}),Ai(W,function(Z){var se;Z.children||(Z.value=+B.call(G,Z,Z.depth)||0),(se=Z.parent)&&(se.value+=Z.value)})),W},G};function sf(C,z){return e.rebind(C,z,"sort","children","value"),C.nodes=C,C.links=NO,C}function uf(C,z){for(var B=[C];(C=B.pop())!=null;)if(z(C),(W=C.children)&&(G=W.length))for(var G,W;--G>=0;)B.push(W[G])}function Ai(C,z){for(var B=[C],G=[];(C=B.pop())!=null;)if(G.push(C),(se=C.children)&&(Z=se.length))for(var W=-1,Z,se;++W<Z;)B.push(se[W]);for(;(C=G.pop())!=null;)z(C)}function PO(C){return C.children}function IO(C){return C.value}function FO(C,z){return z.value-C.value}function NO(C){return e.merge(C.map(function(z){return(z.children||[]).map(function(B){return{source:z,target:B}})}))}e.layout.partition=function(){var C=e.layout.hierarchy(),z=[1,1];function B(Z,se,ie,fe){var be=Z.children;if(Z.x=se,Z.y=Z.depth*fe,Z.dx=ie,Z.dy=fe,be&&(Pe=be.length)){var _e=-1,Pe,Ie,Je;for(ie=Z.value?ie/Z.value:0;++_e<Pe;)B(Ie=be[_e],se,Je=Ie.value*ie,fe),se+=Je}}function G(Z){var se=Z.children,ie=0;if(se&&(be=se.length))for(var fe=-1,be;++fe<be;)ie=Math.max(ie,G(se[fe]));return 1+ie}function W(Z,se){var ie=C.call(this,Z,se);return B(ie[0],0,z[0],z[1]/G(ie[0])),ie}return W.size=function(Z){return arguments.length?(z=Z,W):z},sf(W,C)},e.layout.pie=function(){var C=Number,z=Ax,B=0,G=ar,W=0;function Z(se){var ie=se.length,fe=se.map(function(je,tr){return+C.call(Z,je,tr)}),be=+(typeof B=="function"?B.apply(this,arguments):B),_e=(typeof G=="function"?G.apply(this,arguments):G)-be,Pe=Math.min(Math.abs(_e)/ie,+(typeof W=="function"?W.apply(this,arguments):W)),Ie=Pe*(_e<0?-1:1),Je=e.sum(fe),rr=Je?(_e-ie*Ie)/Je:0,Oe=e.range(ie),Ge=[],We;return z!=null&&Oe.sort(z===Ax?function(je,tr){return fe[tr]-fe[je]}:function(je,tr){return z(se[je],se[tr])}),Oe.forEach(function(je){Ge[je]={data:se[je],value:We=fe[je],startAngle:be,endAngle:be+=We*rr+Ie,padAngle:Pe}}),Ge}return Z.value=function(se){return arguments.length?(C=se,Z):C},Z.sort=function(se){return arguments.length?(z=se,Z):z},Z.startAngle=function(se){return arguments.length?(B=se,Z):B},Z.endAngle=function(se){return arguments.length?(G=se,Z):G},Z.padAngle=function(se){return arguments.length?(W=se,Z):W},Z};var Ax={};e.layout.stack=function(){var C=N,z=Jd,B=Kd,G=OO,W=zO,Z=qO;function se(ie,fe){if(!(rr=ie.length))return ie;var be=ie.map(function(je,tr){return C.call(se,je,tr)}),_e=be.map(function(je){return je.map(function(tr,Ze){return[W.call(se,tr,Ze),Z.call(se,tr,Ze)]})}),Pe=z.call(se,_e,fe);be=e.permute(be,Pe),_e=e.permute(_e,Pe);var Ie=B.call(se,_e,fe),Je=be[0].length,rr,Oe,Ge,We;for(Ge=0;Ge<Je;++Ge)for(G.call(se,be[0][Ge],We=Ie[Ge],_e[0][Ge][1]),Oe=1;Oe<rr;++Oe)G.call(se,be[Oe][Ge],We+=_e[Oe-1][Ge][1],_e[Oe][Ge][1]);return ie}return se.values=function(ie){return arguments.length?(C=ie,se):C},se.order=function(ie){return arguments.length?(z=typeof ie=="function"?ie:BO.get(ie)||Jd,se):z},se.offset=function(ie){return arguments.length?(B=typeof ie=="function"?ie:UO.get(ie)||Kd,se):B},se.x=function(ie){return arguments.length?(W=ie,se):W},se.y=function(ie){return arguments.length?(Z=ie,se):Z},se.out=function(ie){return arguments.length?(G=ie,se):G},se};function zO(C){return C.x}function qO(C){return C.y}function OO(C,z,B){C.y0=z,C.y=B}var BO=e.map({"inside-out":function(C){var z=C.length,B,G,W=C.map(HO),Z=C.map(VO),se=e.range(z).sort(function(Pe,Ie){return W[Pe]-W[Ie]}),ie=0,fe=0,be=[],_e=[];for(B=0;B<z;++B)G=se[B],ie<fe?(ie+=Z[G],be.push(G)):(fe+=Z[G],_e.push(G));return _e.reverse().concat(be)},reverse:function(C){return e.range(C.length).reverse()},default:Jd}),UO=e.map({silhouette:function(C){var z=C.length,B=C[0].length,G=[],W=0,Z,se,ie,fe=[];for(se=0;se<B;++se){for(Z=0,ie=0;Z<z;Z++)ie+=C[Z][se][1];ie>W&&(W=ie),G.push(ie)}for(se=0;se<B;++se)fe[se]=(W-G[se])/2;return fe},wiggle:function(C){var z=C.length,B=C[0],G=B.length,W,Z,se,ie,fe,be,_e,Pe,Ie,Je=[];for(Je[0]=Pe=Ie=0,Z=1;Z<G;++Z){for(W=0,ie=0;W<z;++W)ie+=C[W][Z][1];for(W=0,fe=0,_e=B[Z][0]-B[Z-1][0];W<z;++W){for(se=0,be=(C[W][Z][1]-C[W][Z-1][1])/(2*_e);se<W;++se)be+=(C[se][Z][1]-C[se][Z-1][1])/_e;fe+=be*C[W][Z][1]}Je[Z]=Pe-=ie?fe/ie*_e:0,Pe<Ie&&(Ie=Pe)}for(Z=0;Z<G;++Z)Je[Z]-=Ie;return Je},expand:function(C){var z=C.length,B=C[0].length,G=1/z,W,Z,se,ie=[];for(Z=0;Z<B;++Z){for(W=0,se=0;W<z;W++)se+=C[W][Z][1];if(se)for(W=0;W<z;W++)C[W][Z][1]/=se;else for(W=0;W<z;W++)C[W][Z][1]=G}for(Z=0;Z<B;++Z)ie[Z]=0;return ie},zero:Kd});function Jd(C){return e.range(C.length)}function Kd(C){for(var z=-1,B=C[0].length,G=[];++z<B;)G[z]=0;return G}function HO(C){for(var z=1,B=0,G=C[0][1],W,Z=C.length;z<Z;++z)(W=C[z][1])>G&&(B=z,G=W);return B}function VO(C){return C.reduce(GO,0)}function GO(C,z){return C+z[1]}e.layout.histogram=function(){var C=!0,z=Number,B=WO,G=YO;function W(Z,Ie){for(var ie=[],fe=Z.map(z,this),be=B.call(this,fe,Ie),_e=G.call(this,be,fe,Ie),Pe,Ie=-1,Je=fe.length,rr=_e.length-1,Oe=C?1:1/Je,Ge;++Ie<rr;)Pe=ie[Ie]=[],Pe.dx=_e[Ie+1]-(Pe.x=_e[Ie]),Pe.y=0;if(rr>0)for(Ie=-1;++Ie<Je;)Ge=fe[Ie],Ge>=be[0]&&Ge<=be[1]&&(Pe=ie[e.bisect(_e,Ge,1,rr)-1],Pe.y+=Oe,Pe.push(Z[Ie]));return ie}return W.value=function(Z){return arguments.length?(z=Z,W):z},W.range=function(Z){return arguments.length?(B=Wr(Z),W):B},W.bins=function(Z){return arguments.length?(G=typeof Z=="number"?function(se){return kx(se,Z)}:Wr(Z),W):G},W.frequency=function(Z){return arguments.length?(C=!!Z,W):C},W};function YO(C,z){return kx(C,Math.ceil(Math.log(z.length)/Math.LN2+1))}function kx(C,z){for(var B=-1,G=+C[0],W=(C[1]-G)/z,Z=[];++B<=z;)Z[B]=W*B+G;return Z}function WO(C){return[e.min(C),e.max(C)]}e.layout.pack=function(){var C=e.layout.hierarchy().sort(XO),z=0,B=[1,1],G;function W(Z,se){var ie=C.call(this,Z,se),fe=ie[0],be=B[0],_e=B[1],Pe=G==null?Math.sqrt:typeof G=="function"?G:function(){return G};if(fe.x=fe.y=0,Ai(fe,function(Je){Je.r=+Pe(Je.value)}),Ai(fe,Ex),z){var Ie=z*(G?1:Math.max(2*fe.r/be,2*fe.r/_e))/2;Ai(fe,function(Je){Je.r+=Ie}),Ai(fe,Ex),Ai(fe,function(Je){Je.r-=Ie})}return Lx(fe,be/2,_e/2,G?1:1/Math.max(2*fe.r/be,2*fe.r/_e)),ie}return W.size=function(Z){return arguments.length?(B=Z,W):B},W.radius=function(Z){return arguments.length?(G=Z==null||typeof Z=="function"?Z:+Z,W):G},W.padding=function(Z){return arguments.length?(z=+Z,W):z},sf(W,C)};function XO(C,z){return C.value-z.value}function Qd(C,z){var B=C._pack_next;C._pack_next=z,z._pack_prev=C,z._pack_next=B,B._pack_prev=z}function Sx(C,z){C._pack_next=z,z._pack_prev=C}function Cx(C,z){var B=z.x-C.x,G=z.y-C.y,W=C.r+z.r;return .999*W*W>B*B+G*G}function Ex(C){if(!(z=C.children)||!(Ie=z.length))return;var z,B=1/0,G=-1/0,W=1/0,Z=-1/0,se,ie,fe,be,_e,Pe,Ie;function Je(Ze){B=Math.min(Ze.x-Ze.r,B),G=Math.max(Ze.x+Ze.r,G),W=Math.min(Ze.y-Ze.r,W),Z=Math.max(Ze.y+Ze.r,Z)}if(z.forEach(ZO),se=z[0],se.x=-se.r,se.y=0,Je(se),Ie>1&&(ie=z[1],ie.x=ie.r,ie.y=0,Je(ie),Ie>2))for(fe=z[2],Dx(se,ie,fe),Je(fe),Qd(se,fe),se._pack_prev=fe,Qd(fe,ie),ie=se._pack_next,be=3;be<Ie;be++){Dx(se,ie,fe=z[be]);var rr=0,Oe=1,Ge=1;for(_e=ie._pack_next;_e!==ie;_e=_e._pack_next,Oe++)if(Cx(_e,fe)){rr=1;break}if(rr==1)for(Pe=se._pack_prev;Pe!==_e._pack_prev&&!Cx(Pe,fe);Pe=Pe._pack_prev,Ge++);rr?(Oe<Ge||Oe==Ge&&ie.r<se.r?Sx(se,ie=_e):Sx(se=Pe,ie),be--):(Qd(se,fe),ie=fe,Je(fe))}var We=(B+G)/2,je=(W+Z)/2,tr=0;for(be=0;be<Ie;be++)fe=z[be],fe.x-=We,fe.y-=je,tr=Math.max(tr,fe.r+Math.sqrt(fe.x*fe.x+fe.y*fe.y));C.r=tr,z.forEach(JO)}function ZO(C){C._pack_next=C._pack_prev=C}function JO(C){delete C._pack_next,delete C._pack_prev}function Lx(C,z,B,G){var W=C.children;if(C.x=z+=G*C.x,C.y=B+=G*C.y,C.r*=G,W)for(var Z=-1,se=W.length;++Z<se;)Lx(W[Z],z,B,G)}function Dx(C,z,B){var G=C.r+B.r,W=z.x-C.x,Z=z.y-C.y;if(G&&(W||Z)){var se=z.r+B.r,ie=W*W+Z*Z;se*=se,G*=G;var fe=.5+(G-se)/(2*ie),be=Math.sqrt(Math.max(0,2*se*(G+ie)-(G-=ie)*G-se*se))/(2*ie);B.x=C.x+fe*W+be*Z,B.y=C.y+fe*Z-be*W}else B.x=C.x+G,B.y=C.y}e.layout.tree=function(){var C=e.layout.hierarchy().sort(null).value(null),z=Rx,B=[1,1],G=null;function W(_e,Pe){var Ie=C.call(this,_e,Pe),Je=Ie[0],rr=Z(Je);if(Ai(rr,se),rr.parent.m=-rr.z,uf(rr,ie),G)uf(Je,be);else{var Oe=Je,Ge=Je,We=Je;uf(Je,function(lr){lr.x<Oe.x&&(Oe=lr),lr.x>Ge.x&&(Ge=lr),lr.depth>We.depth&&(We=lr)});var je=z(Oe,Ge)/2-Oe.x,tr=B[0]/(Ge.x+z(Ge,Oe)/2+je),Ze=B[1]/(We.depth||1);uf(Je,function(lr){lr.x=(lr.x+je)*tr,lr.y=lr.depth*Ze})}return Ie}function Z(_e){for(var Pe={A:null,children:[_e]},Ie=[Pe],Je;(Je=Ie.pop())!=null;)for(var rr=Je.children,Oe,Ge=0,We=rr.length;Ge<We;++Ge)Ie.push((rr[Ge]=Oe={_:rr[Ge],parent:Je,children:(Oe=rr[Ge].children)&&Oe.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Ge}).a=Oe);return Pe.children[0]}function se(_e){var Pe=_e.children,Ie=_e.parent.children,Je=_e.i?Ie[_e.i-1]:null;if(Pe.length){QO(_e);var rr=(Pe[0].z+Pe[Pe.length-1].z)/2;Je?(_e.z=Je.z+z(_e._,Je._),_e.m=_e.z-rr):_e.z=rr}else Je&&(_e.z=Je.z+z(_e._,Je._));_e.parent.A=fe(_e,Je,_e.parent.A||Ie[0])}function ie(_e){_e._.x=_e.z+_e.parent.m,_e.m+=_e.parent.m}function fe(_e,Pe,Ie){if(Pe){for(var Je=_e,rr=_e,Oe=Pe,Ge=Je.parent.children[0],We=Je.m,je=rr.m,tr=Oe.m,Ze=Ge.m,lr;Oe=jd(Oe),Je=$d(Je),Oe&&Je;)Ge=$d(Ge),rr=jd(rr),rr.a=_e,lr=Oe.z+tr-Je.z-We+z(Oe._,Je._),lr>0&&(KO($O(Oe,_e,Ie),_e,lr),We+=lr,je+=lr),tr+=Oe.m,We+=Je.m,Ze+=Ge.m,je+=rr.m;Oe&&!jd(rr)&&(rr.t=Oe,rr.m+=tr-je),Je&&!$d(Ge)&&(Ge.t=Je,Ge.m+=We-Ze,Ie=_e)}return Ie}function be(_e){_e.x*=B[0],_e.y=_e.depth*B[1]}return W.separation=function(_e){return arguments.length?(z=_e,W):z},W.size=function(_e){return arguments.length?(G=(B=_e)==null?be:null,W):G?null:B},W.nodeSize=function(_e){return arguments.length?(G=(B=_e)==null?null:be,W):G?B:null},sf(W,C)};function Rx(C,z){return C.parent==z.parent?1:2}function $d(C){var z=C.children;return z.length?z[0]:C.t}function jd(C){var z=C.children,B;return(B=z.length)?z[B-1]:C.t}function KO(C,z,B){var G=B/(z.i-C.i);z.c-=G,z.s+=B,C.c+=G,z.z+=B,z.m+=B}function QO(C){for(var z=0,B=0,G=C.children,W=G.length,Z;--W>=0;)Z=G[W],Z.z+=z,Z.m+=z,z+=Z.s+(B+=Z.c)}function $O(C,z,B){return C.a.parent===z.parent?C.a:B}e.layout.cluster=function(){var C=e.layout.hierarchy().sort(null).value(null),z=Rx,B=[1,1],G=!1;function W(Z,se){var ie=C.call(this,Z,se),fe=ie[0],be,_e=0;Ai(fe,function(Oe){var Ge=Oe.children;Ge&&Ge.length?(Oe.x=eB(Ge),Oe.y=jO(Ge)):(Oe.x=be?_e+=z(Oe,be):0,Oe.y=0,be=Oe)});var Pe=Px(fe),Ie=Ix(fe),Je=Pe.x-z(Pe,Ie)/2,rr=Ie.x+z(Ie,Pe)/2;return Ai(fe,G?function(Oe){Oe.x=(Oe.x-fe.x)*B[0],Oe.y=(fe.y-Oe.y)*B[1]}:function(Oe){Oe.x=(Oe.x-Je)/(rr-Je)*B[0],Oe.y=(1-(fe.y?Oe.y/fe.y:1))*B[1]}),ie}return W.separation=function(Z){return arguments.length?(z=Z,W):z},W.size=function(Z){return arguments.length?(G=(B=Z)==null,W):G?null:B},W.nodeSize=function(Z){return arguments.length?(G=(B=Z)!=null,W):G?B:null},sf(W,C)};function jO(C){return 1+e.max(C,function(z){return z.y})}function eB(C){return C.reduce(function(z,B){return z+B.x},0)/C.length}function Px(C){var z=C.children;return z&&z.length?Px(z[0]):C}function Ix(C){var z=C.children,B;return z&&(B=z.length)?Ix(z[B-1]):C}e.layout.treemap=function(){var C=e.layout.hierarchy(),z=Math.round,B=[1,1],G=null,W=ep,Z=!1,se,ie="squarify",fe=.5*(1+Math.sqrt(5));function be(Oe,Ge){for(var We=-1,je=Oe.length,tr,Ze;++We<je;)Ze=(tr=Oe[We]).value*(Ge<0?0:Ge),tr.area=isNaN(Ze)||Ze<=0?0:Ze}function _e(Oe){var Ge=Oe.children;if(Ge&&Ge.length){var We=W(Oe),je=[],tr=Ge.slice(),Ze,lr=1/0,pr,mr=ie==="slice"?We.dx:ie==="dice"?We.dy:ie==="slice-dice"?Oe.depth&1?We.dy:We.dx:Math.min(We.dx,We.dy),gr;for(be(tr,We.dx*We.dy/Oe.value),je.area=0;(gr=tr.length)>0;)je.push(Ze=tr[gr-1]),je.area+=Ze.area,ie!=="squarify"||(pr=Ie(je,mr))<=lr?(tr.pop(),lr=pr):(je.area-=je.pop().area,Je(je,mr,We,!1),mr=Math.min(We.dx,We.dy),je.length=je.area=0,lr=1/0);je.length&&(Je(je,mr,We,!0),je.length=je.area=0),Ge.forEach(_e)}}function Pe(Oe){var Ge=Oe.children;if(Ge&&Ge.length){var We=W(Oe),je=Ge.slice(),tr,Ze=[];for(be(je,We.dx*We.dy/Oe.value),Ze.area=0;tr=je.pop();)Ze.push(tr),Ze.area+=tr.area,tr.z!=null&&(Je(Ze,tr.z?We.dx:We.dy,We,!je.length),Ze.length=Ze.area=0);Ge.forEach(Pe)}}function Ie(Oe,Ge){for(var We=Oe.area,je,tr=0,Ze=1/0,lr=-1,pr=Oe.length;++lr<pr;)(je=Oe[lr].area)&&(je<Ze&&(Ze=je),je>tr&&(tr=je));return We*=We,Ge*=Ge,We?Math.max(Ge*tr*fe/We,We/(Ge*Ze*fe)):1/0}function Je(Oe,Ge,We,je){var tr=-1,Ze=Oe.length,lr=We.x,pr=We.y,mr=Ge?z(Oe.area/Ge):0,gr;if(Ge==We.dx){for((je||mr>We.dy)&&(mr=We.dy);++tr<Ze;)gr=Oe[tr],gr.x=lr,gr.y=pr,gr.dy=mr,lr+=gr.dx=Math.min(We.x+We.dx-lr,mr?z(gr.area/mr):0);gr.z=!0,gr.dx+=We.x+We.dx-lr,We.y+=mr,We.dy-=mr}else{for((je||mr>We.dx)&&(mr=We.dx);++tr<Ze;)gr=Oe[tr],gr.x=lr,gr.y=pr,gr.dx=mr,pr+=gr.dy=Math.min(We.y+We.dy-pr,mr?z(gr.area/mr):0);gr.z=!1,gr.dy+=We.y+We.dy-pr,We.x+=mr,We.dx-=mr}}function rr(Oe){var Ge=se||C(Oe),We=Ge[0];return We.x=We.y=0,We.value?(We.dx=B[0],We.dy=B[1]):We.dx=We.dy=0,se&&C.revalue(We),be([We],We.dx*We.dy/We.value),(se?Pe:_e)(We),Z&&(se=Ge),Ge}return rr.size=function(Oe){return arguments.length?(B=Oe,rr):B},rr.padding=function(Oe){if(!arguments.length)return G;function Ge(tr){var Ze=Oe.call(rr,tr,tr.depth);return Ze==null?ep(tr):Fx(tr,typeof Ze=="number"?[Ze,Ze,Ze,Ze]:Ze)}function We(tr){return Fx(tr,Oe)}var je;return W=(G=Oe)==null?ep:(je=typeof Oe)=="function"?Ge:(je==="number"&&(Oe=[Oe,Oe,Oe,Oe]),We),rr},rr.round=function(Oe){return arguments.length?(z=Oe?Math.round:Number,rr):z!=Number},rr.sticky=function(Oe){return arguments.length?(Z=Oe,se=null,rr):Z},rr.ratio=function(Oe){return arguments.length?(fe=Oe,rr):fe},rr.mode=function(Oe){return arguments.length?(ie=Oe+"",rr):ie},sf(rr,C)};function ep(C){return{x:C.x,y:C.y,dx:C.dx,dy:C.dy}}function Fx(C,z){var B=C.x+z[3],G=C.y+z[0],W=C.dx-z[1]-z[3],Z=C.dy-z[0]-z[2];return W<0&&(B+=W/2,W=0),Z<0&&(G+=Z/2,Z=0),{x:B,y:G,dx:W,dy:Z}}e.random={normal:function(C,z){var B=arguments.length;return B<2&&(z=1),B<1&&(C=0),function(){var G,W,Z;do G=Math.random()*2-1,W=Math.random()*2-1,Z=G*G+W*W;while(!Z||Z>1);return C+z*G*Math.sqrt(-2*Math.log(Z)/Z)}},logNormal:function(){var C=e.random.normal.apply(e,arguments);return function(){return Math.exp(C())}},bates:function(C){var z=e.random.irwinHall(C);return function(){return z()/C}},irwinHall:function(C){return function(){for(var z=0,B=0;B<C;B++)z+=Math.random();return z}}},e.scale={};function g0(C){var z=C[0],B=C[C.length-1];return z<B?[z,B]:[B,z]}function y0(C){return C.rangeExtent?C.rangeExtent():g0(C.range())}function rB(C,z,B,G){var W=B(C[0],C[1]),Z=G(z[0],z[1]);return function(se){return Z(W(se))}}function rp(C,z){var B=0,G=C.length-1,W=C[B],Z=C[G],se;return Z<W&&(se=B,B=G,G=se,se=W,W=Z,Z=se),C[B]=z.floor(W),C[G]=z.ceil(Z),C}function Nx(C){return C?{floor:function(z){return Math.floor(z/C)*C},ceil:function(z){return Math.ceil(z/C)*C}}:tB}var tB={floor:N,ceil:N};function nB(C,z,B,G){var W=[],Z=[],se=0,ie=Math.min(C.length,z.length)-1;for(C[ie]<C[0]&&(C=C.slice().reverse(),z=z.slice().reverse());++se<=ie;)W.push(B(C[se-1],C[se])),Z.push(G(z[se-1],z[se]));return function(fe){var be=e.bisect(C,fe,1,ie)-1;return Z[be](W[be](fe))}}e.scale.linear=function(){return zx([0,1],[0,1],Tl,!1)};function zx(C,z,B,G){var W,Z;function se(){var fe=Math.min(C.length,z.length)>2?nB:rB,be=G?MO:wO;return W=fe(C,z,be,B),Z=fe(z,C,be,Tl),ie}function ie(fe){return W(fe)}return ie.invert=function(fe){return Z(fe)},ie.domain=function(fe){return arguments.length?(C=fe.map(Number),se()):C},ie.range=function(fe){return arguments.length?(z=fe,se()):z},ie.rangeRound=function(fe){return ie.range(fe).interpolate(mx)},ie.clamp=function(fe){return arguments.length?(G=fe,se()):G},ie.interpolate=function(fe){return arguments.length?(B=fe,se()):B},ie.ticks=function(fe){return np(C,fe)},ie.tickFormat=function(fe,be){return d3_scale_linearTickFormat(C,fe,be)},ie.nice=function(fe){return Ox(C,fe),se()},ie.copy=function(){return zx(C,z,B,G)},se()}function qx(C,z){return e.rebind(C,z,"range","rangeRound","interpolate","clamp")}function Ox(C,z){return rp(C,Nx(tp(C,z)[2])),rp(C,Nx(tp(C,z)[2])),C}function tp(C,z){z==null&&(z=10);var B=g0(C),G=B[1]-B[0],W=Math.pow(10,Math.floor(Math.log(G/z)/Math.LN10)),Z=z/G*W;return Z<=.15?W*=10:Z<=.35?W*=5:Z<=.75&&(W*=2),B[0]=Math.ceil(B[0]/W)*W,B[1]=Math.floor(B[1]/W)*W+W*.5,B[2]=W,B}function np(C,z){return e.range.apply(e,tp(C,z))}var aB={s:1,g:1,p:1,r:1,e:1};function Bx(C){return-Math.floor(Math.log(C)/Math.LN10+.01)}function lfe(C,z){var B=Bx(z[2]);return C in aB?Math.abs(B-Bx(Math.max(m(z[0]),m(z[1]))))+ +(C!=="e"):B-(C==="%")*2}e.scale.log=function(){return Ux(e.scale.linear().domain([0,1]),10,!0,[1,10])};function Ux(C,z,B,G){function W(ie){return(B?Math.log(ie<0?0:ie):-Math.log(ie>0?0:-ie))/Math.log(z)}function Z(ie){return B?Math.pow(z,ie):-Math.pow(z,-ie)}function se(ie){return C(W(ie))}return se.invert=function(ie){return Z(C.invert(ie))},se.domain=function(ie){return arguments.length?(B=ie[0]>=0,C.domain((G=ie.map(Number)).map(W)),se):G},se.base=function(ie){return arguments.length?(z=+ie,C.domain(G.map(W)),se):z},se.nice=function(){var ie=rp(G.map(W),B?Math:iB);return C.domain(ie),G=ie.map(Z),se},se.ticks=function(){var ie=g0(G),fe=[],be=ie[0],_e=ie[1],Pe=Math.floor(W(be)),Ie=Math.ceil(W(_e)),Je=z%1?2:z;if(isFinite(Ie-Pe)){if(B){for(;Pe<Ie;Pe++)for(var rr=1;rr<Je;rr++)fe.push(Z(Pe)*rr);fe.push(Z(Pe))}else for(fe.push(Z(Pe));Pe++<Ie;)for(var rr=Je-1;rr>0;rr--)fe.push(Z(Pe)*rr);for(Pe=0;fe[Pe]<be;Pe++);for(Ie=fe.length;fe[Ie-1]>_e;Ie--);fe=fe.slice(Pe,Ie)}return fe},se.copy=function(){return Ux(C.copy(),z,B,G)},qx(se,C)}var iB={floor:function(C){return-Math.ceil(-C)},ceil:function(C){return-Math.floor(-C)}};e.scale.pow=function(){return Hx(e.scale.linear(),1,[0,1])};function Hx(C,z,B){var G=m0(z),W=m0(1/z);function Z(se){return C(G(se))}return Z.invert=function(se){return W(C.invert(se))},Z.domain=function(se){return arguments.length?(C.domain((B=se.map(Number)).map(G)),Z):B},Z.ticks=function(se){return np(B,se)},Z.tickFormat=function(se,ie){return d3_scale_linearTickFormat(B,se,ie)},Z.nice=function(se){return Z.domain(Ox(B,se))},Z.exponent=function(se){return arguments.length?(G=m0(z=se),W=m0(1/z),C.domain(B.map(G)),Z):z},Z.copy=function(){return Hx(C.copy(),z,B)},qx(Z,C)}function m0(C){return function(z){return z<0?-Math.pow(-z,C):Math.pow(z,C)}}e.scale.sqrt=function(){return e.scale.pow().exponent(.5)},e.scale.ordinal=function(){return Vx([],{t:"range",a:[[]]})};function Vx(C,z){var B,G,W;function Z(ie){return G[((B.get(ie)||(z.t==="range"?B.set(ie,C.push(ie)):NaN))-1)%G.length]}function se(ie,fe){return e.range(C.length).map(function(be){return ie+fe*be})}return Z.domain=function(ie){if(!arguments.length)return C;C=[],B=new x;for(var fe=-1,be=ie.length,_e;++fe<be;)B.has(_e=ie[fe])||B.set(_e,C.push(_e));return Z[z.t].apply(Z,z.a)},Z.range=function(ie){return arguments.length?(G=ie,W=0,z={t:"range",a:arguments},Z):G},Z.rangePoints=function(ie,fe){arguments.length<2&&(fe=0);var be=ie[0],_e=ie[1],Pe=C.length<2?(be=(be+_e)/2,0):(_e-be)/(C.length-1+fe);return G=se(be+Pe*fe/2,Pe),W=0,z={t:"rangePoints",a:arguments},Z},Z.rangeRoundPoints=function(ie,fe){arguments.length<2&&(fe=0);var be=ie[0],_e=ie[1],Pe=C.length<2?(be=_e=Math.round((be+_e)/2),0):(_e-be)/(C.length-1+fe)|0;return G=se(be+Math.round(Pe*fe/2+(_e-be-(C.length-1+fe)*Pe)/2),Pe),W=0,z={t:"rangeRoundPoints",a:arguments},Z},Z.rangeBands=function(ie,fe,be){arguments.length<2&&(fe=0),arguments.length<3&&(be=fe);var _e=ie[1]<ie[0],Pe=ie[_e-0],Ie=ie[1-_e],Je=(Ie-Pe)/(C.length-fe+2*be);return G=se(Pe+Je*be,Je),_e&&G.reverse(),W=Je*(1-fe),z={t:"rangeBands",a:arguments},Z},Z.rangeRoundBands=function(ie,fe,be){arguments.length<2&&(fe=0),arguments.length<3&&(be=fe);var _e=ie[1]<ie[0],Pe=ie[_e-0],Ie=ie[1-_e],Je=Math.floor((Ie-Pe)/(C.length-fe+2*be));return G=se(Pe+Math.round((Ie-Pe-(C.length-fe)*Je)/2),Je),_e&&G.reverse(),W=Math.round(Je*(1-fe)),z={t:"rangeRoundBands",a:arguments},Z},Z.rangeBand=function(){return W},Z.rangeExtent=function(){return g0(z.a[0])},Z.copy=function(){return Vx(C,z)},Z.domain(C)}e.scale.category10=function(){return e.scale.ordinal().range(oB)},e.scale.category20=function(){return e.scale.ordinal().range(lB)},e.scale.category20b=function(){return e.scale.ordinal().range(sB)},e.scale.category20c=function(){return e.scale.ordinal().range(uB)};var oB=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Mi),lB=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Mi),sB=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Mi),uB=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Mi);e.scale.quantile=function(){return Gx([],[])};function Gx(C,z){var B;function G(){var Z=0,se=z.length;for(B=[];++Z<se;)B[Z-1]=e.quantile(C,Z/se);return W}function W(Z){if(!isNaN(Z=+Z))return z[e.bisect(B,Z)]}return W.domain=function(Z){return arguments.length?(C=Z.map(p).filter(b).sort(h),G()):C},W.range=function(Z){return arguments.length?(z=Z,G()):z},W.quantiles=function(){return B},W.invertExtent=function(Z){return Z=z.indexOf(Z),Z<0?[NaN,NaN]:[Z>0?B[Z-1]:C[0],Z<B.length?B[Z]:C[C.length-1]]},W.copy=function(){return Gx(C,z)},G()}e.scale.quantize=function(){return Yx(0,1,[0,1])};function Yx(C,z,B){var G,W;function Z(ie){return B[Math.max(0,Math.min(W,Math.floor(G*(ie-C))))]}function se(){return G=B.length/(z-C),W=B.length-1,Z}return Z.domain=function(ie){return arguments.length?(C=+ie[0],z=+ie[ie.length-1],se()):[C,z]},Z.range=function(ie){return arguments.length?(B=ie,se()):B},Z.invertExtent=function(ie){return ie=B.indexOf(ie),ie=ie<0?NaN:ie/G+C,[ie,ie+1/G]},Z.copy=function(){return Yx(C,z,B)},se()}e.scale.threshold=function(){return Wx([.5],[0,1])};function Wx(C,z){function B(G){if(G<=G)return z[e.bisect(C,G)]}return B.domain=function(G){return arguments.length?(C=G,B):C},B.range=function(G){return arguments.length?(z=G,B):z},B.invertExtent=function(G){return G=z.indexOf(G),[C[G-1],C[G]]},B.copy=function(){return Wx(C,z)},B}e.scale.identity=function(){return Xx([0,1])};function Xx(C){function z(B){return+B}return z.invert=z,z.domain=z.range=function(B){return arguments.length?(C=B.map(z),z):C},z.ticks=function(B){return np(C,B)},z.tickFormat=function(B,G){return d3_scale_linearTickFormat(C,B,G)},z.copy=function(){return Xx(C)},z}e.svg={};function fB(){return 0}e.svg.arc=function(){var C=cB,z=hB,B=fB,G=x0,W=Zx,Z=Jx,se=vB;function ie(){var be=Math.max(0,+C.apply(this,arguments)),_e=Math.max(0,+z.apply(this,arguments)),Pe=W.apply(this,arguments)-J,Ie=Z.apply(this,arguments)-J,Je=Math.abs(Ie-Pe),rr=Pe>Ie?0:1;if(_e<be&&(Oe=_e,_e=be,be=Oe),Je>=ue)return fe(_e,rr)+(be?fe(be,1-rr):"")+"Z";var Oe,Ge,We,je,tr=0,Ze=0,lr,pr,mr,gr,_r,wr,Or,Tr,Ir=[];if((je=(+se.apply(this,arguments)||0)/2)&&(We=G===x0?Math.sqrt(be*be+_e*_e):+G.apply(this,arguments),rr||(Ze*=-1),_e&&(Ze=fr(We/_e*Math.sin(je))),be&&(tr=fr(We/be*Math.sin(je)))),_e){lr=_e*Math.cos(Pe+Ze),pr=_e*Math.sin(Pe+Ze),mr=_e*Math.cos(Ie-Ze),gr=_e*Math.sin(Ie-Ze);var st=Math.abs(Ie-Pe-2*Ze)<=Ke?0:1;if(Ze&&b0(lr,pr,mr,gr)===rr^st){var Bt=(Pe+Ie)/2;lr=_e*Math.cos(Bt),pr=_e*Math.sin(Bt),mr=gr=null}}else lr=pr=0;if(be){_r=be*Math.cos(Ie-tr),wr=be*Math.sin(Ie-tr),Or=be*Math.cos(Pe+tr),Tr=be*Math.sin(Pe+tr);var vt=Math.abs(Pe-Ie+2*tr)<=Ke?0:1;if(tr&&b0(_r,wr,Or,Tr)===1-rr^vt){var vr=(Pe+Ie)/2;_r=be*Math.cos(vr),wr=be*Math.sin(vr),Or=Tr=null}}else _r=wr=0;if(Je>Re&&(Oe=Math.min(Math.abs(_e-be)/2,+B.apply(this,arguments)))>.001){Ge=be<_e^rr?0:1;var Br=Oe,Hr=Oe;if(Je<Ke){var ut=Or==null?[_r,wr]:mr==null?[lr,pr]:Ud([lr,pr],[Or,Tr],[mr,gr],[_r,wr]),Pt=lr-ut[0],$t=pr-ut[1],xn=mr-ut[0],Nn=gr-ut[1],Wn=1/Math.sin(Math.acos((Pt*xn+$t*Nn)/(Math.sqrt(Pt*Pt+$t*$t)*Math.sqrt(xn*xn+Nn*Nn)))/2),zn=Math.sqrt(ut[0]*ut[0]+ut[1]*ut[1]);Hr=Math.min(Oe,(be-zn)/(Wn-1)),Br=Math.min(Oe,(_e-zn)/(Wn+1))}if(mr!=null){var jn=_0(Or==null?[_r,wr]:[Or,Tr],[lr,pr],_e,Br,rr),An=_0([mr,gr],[_r,wr],_e,Br,rr);Oe===Br?Ir.push("M",jn[0],"A",Br,",",Br," 0 0,",Ge," ",jn[1],"A",_e,",",_e," 0 ",1-rr^b0(jn[1][0],jn[1][1],An[1][0],An[1][1]),",",rr," ",An[1],"A",Br,",",Br," 0 0,",Ge," ",An[0]):Ir.push("M",jn[0],"A",Br,",",Br," 0 1,",Ge," ",An[0])}else Ir.push("M",lr,",",pr);if(Or!=null){var ea=_0([lr,pr],[Or,Tr],be,-Hr,rr),kl=_0([_r,wr],mr==null?[lr,pr]:[mr,gr],be,-Hr,rr);Oe===Hr?Ir.push("L",kl[0],"A",Hr,",",Hr," 0 0,",Ge," ",kl[1],"A",be,",",be," 0 ",rr^b0(kl[1][0],kl[1][1],ea[1][0],ea[1][1]),",",1-rr," ",ea[1],"A",Hr,",",Hr," 0 0,",Ge," ",ea[0]):Ir.push("L",kl[0],"A",Hr,",",Hr," 0 0,",Ge," ",ea[0])}else Ir.push("L",_r,",",wr)}else Ir.push("M",lr,",",pr),mr!=null&&Ir.push("A",_e,",",_e," 0 ",st,",",rr," ",mr,",",gr),Ir.push("L",_r,",",wr),Or!=null&&Ir.push("A",be,",",be," 0 ",vt,",",1-rr," ",Or,",",Tr);return Ir.push("Z"),Ir.join("")}function fe(be,_e){return"M0,"+be+"A"+be+","+be+" 0 1,"+_e+" 0,"+-be+"A"+be+","+be+" 0 1,"+_e+" 0,"+be}return ie.innerRadius=function(be){return arguments.length?(C=Wr(be),ie):C},ie.outerRadius=function(be){return arguments.length?(z=Wr(be),ie):z},ie.cornerRadius=function(be){return arguments.length?(B=Wr(be),ie):B},ie.padRadius=function(be){return arguments.length?(G=be==x0?x0:Wr(be),ie):G},ie.startAngle=function(be){return arguments.length?(W=Wr(be),ie):W},ie.endAngle=function(be){return arguments.length?(Z=Wr(be),ie):Z},ie.padAngle=function(be){return arguments.length?(se=Wr(be),ie):se},ie.centroid=function(){var be=(+C.apply(this,arguments)+ +z.apply(this,arguments))/2,_e=(+W.apply(this,arguments)+ +Z.apply(this,arguments))/2-J;return[Math.cos(_e)*be,Math.sin(_e)*be]},ie};var x0="auto";function cB(C){return C.innerRadius}function hB(C){return C.outerRadius}function Zx(C){return C.startAngle}function Jx(C){return C.endAngle}function vB(C){return C&&C.padAngle}function b0(C,z,B,G){return(C-B)*z-(z-G)*C>0?0:1}function _0(C,z,B,G,W){var Z=C[0]-z[0],se=C[1]-z[1],ie=(W?G:-G)/Math.sqrt(Z*Z+se*se),fe=ie*se,be=-ie*Z,_e=C[0]+fe,Pe=C[1]+be,Ie=z[0]+fe,Je=z[1]+be,rr=(_e+Ie)/2,Oe=(Pe+Je)/2,Ge=Ie-_e,We=Je-Pe,je=Ge*Ge+We*We,tr=B-G,Ze=_e*Je-Ie*Pe,lr=(We<0?-1:1)*Math.sqrt(Math.max(0,tr*tr*je-Ze*Ze)),pr=(Ze*We-Ge*lr)/je,mr=(-Ze*Ge-We*lr)/je,gr=(Ze*We+Ge*lr)/je,_r=(-Ze*Ge+We*lr)/je,wr=pr-rr,Or=mr-Oe,Tr=gr-rr,Ir=_r-Oe;return wr*wr+Or*Or>Tr*Tr+Ir*Ir&&(pr=gr,mr=_r),[[pr-fe,mr-be],[pr*B/tr,mr*B/tr]]}function Kx(){return!0}function Qx(C){var z=Es,B=rf,G=Kx,W=Ja,Z=W.key,se=.7;function ie(fe){var be=[],_e=[],Pe=-1,Ie=fe.length,Je,rr=Wr(z),Oe=Wr(B);function Ge(){be.push("M",W(C(_e),se))}for(;++Pe<Ie;)G.call(this,Je=fe[Pe],Pe)?_e.push([+rr.call(this,Je,Pe),+Oe.call(this,Je,Pe)]):_e.length&&(Ge(),_e=[]);return _e.length&&Ge(),be.length?be.join(""):null}return ie.x=function(fe){return arguments.length?(z=fe,ie):z},ie.y=function(fe){return arguments.length?(B=fe,ie):B},ie.defined=function(fe){return arguments.length?(G=fe,ie):G},ie.interpolate=function(fe){return arguments.length?(typeof fe=="function"?Z=W=fe:Z=(W=ap.get(fe)||Ja).key,ie):Z},ie.tension=function(fe){return arguments.length?(se=fe,ie):se},ie}e.svg.line=function(){return Qx(N)};var ap=e.map({linear:Ja,"linear-closed":$x,step:dB,"step-before":ip,"step-after":op,basis:jx,"basis-open":mB,"basis-closed":xB,bundle:bB,cardinal:yB,"cardinal-open":pB,"cardinal-closed":gB,monotone:MB});ap.forEach(function(C,z){z.key=C,z.closed=/-closed$/.test(C)});function Ja(C){return C.length>1?C.join("L"):C+"Z"}function $x(C){return C.join("L")+"Z"}function dB(C){for(var z=0,B=C.length,G=C[0],W=[G[0],",",G[1]];++z<B;)W.push("H",(G[0]+(G=C[z])[0])/2,"V",G[1]);return B>1&&W.push("H",G[0]),W.join("")}function ip(C){for(var z=0,B=C.length,G=C[0],W=[G[0],",",G[1]];++z<B;)W.push("V",(G=C[z])[1],"H",G[0]);return W.join("")}function op(C){for(var z=0,B=C.length,G=C[0],W=[G[0],",",G[1]];++z<B;)W.push("H",(G=C[z])[0],"V",G[1]);return W.join("")}function pB(C,z){return C.length<4?Ja(C):C[1]+w0(C.slice(1,-1),lp(C,z))}function gB(C,z){return C.length<3?$x(C):C[0]+w0((C.push(C[0]),C),lp([C[C.length-2]].concat(C,[C[1]]),z))}function yB(C,z){return C.length<3?Ja(C):C[0]+w0(C,lp(C,z))}function w0(C,z){if(z.length<1||C.length!=z.length&&C.length!=z.length+2)return Ja(C);var B=C.length!=z.length,G="",W=C[0],Z=C[1],se=z[0],ie=se,fe=1;if(B&&(G+="Q"+(Z[0]-se[0]*2/3)+","+(Z[1]-se[1]*2/3)+","+Z[0]+","+Z[1],W=C[1],fe=2),z.length>1){ie=z[1],Z=C[fe],fe++,G+="C"+(W[0]+se[0])+","+(W[1]+se[1])+","+(Z[0]-ie[0])+","+(Z[1]-ie[1])+","+Z[0]+","+Z[1];for(var be=2;be<z.length;be++,fe++)Z=C[fe],ie=z[be],G+="S"+(Z[0]-ie[0])+","+(Z[1]-ie[1])+","+Z[0]+","+Z[1]}if(B){var _e=C[fe];G+="Q"+(Z[0]+ie[0]*2/3)+","+(Z[1]+ie[1]*2/3)+","+_e[0]+","+_e[1]}return G}function lp(C,z){for(var B=[],G=(1-z)/2,W,Z=C[0],se=C[1],ie=1,fe=C.length;++ie<fe;)W=Z,Z=se,se=C[ie],B.push([G*(se[0]-W[0]),G*(se[1]-W[1])]);return B}function jx(C){if(C.length<3)return Ja(C);var z=1,B=C.length,G=C[0],W=G[0],Z=G[1],se=[W,W,W,(G=C[1])[0]],ie=[Z,Z,Z,G[1]],fe=[W,",",Z,"L",Ta(So,se),",",Ta(So,ie)];for(C.push(C[B-1]);++z<=B;)G=C[z],se.shift(),se.push(G[0]),ie.shift(),ie.push(G[1]),sp(fe,se,ie);return C.pop(),fe.push("L",G),fe.join("")}function mB(C){if(C.length<4)return Ja(C);for(var z=[],B=-1,G=C.length,W,Z=[0],se=[0];++B<3;)W=C[B],Z.push(W[0]),se.push(W[1]);for(z.push(Ta(So,Z)+","+Ta(So,se)),--B;++B<G;)W=C[B],Z.shift(),Z.push(W[0]),se.shift(),se.push(W[1]),sp(z,Z,se);return z.join("")}function xB(C){for(var z,B=-1,G=C.length,W=G+4,Z,se=[],ie=[];++B<4;)Z=C[B%G],se.push(Z[0]),ie.push(Z[1]);for(z=[Ta(So,se),",",Ta(So,ie)],--B;++B<W;)Z=C[B%G],se.shift(),se.push(Z[0]),ie.shift(),ie.push(Z[1]),sp(z,se,ie);return z.join("")}function bB(C,z){var B=C.length-1;if(B)for(var G=C[0][0],W=C[0][1],Z=C[B][0]-G,se=C[B][1]-W,ie=-1,fe,be;++ie<=B;)fe=C[ie],be=ie/B,fe[0]=z*fe[0]+(1-z)*(G+be*Z),fe[1]=z*fe[1]+(1-z)*(W+be*se);return jx(C)}function Ta(C,z){return C[0]*z[0]+C[1]*z[1]+C[2]*z[2]+C[3]*z[3]}var eb=[0,2/3,1/3,0],rb=[0,1/3,2/3,0],So=[0,1/6,2/3,1/6];function sp(C,z,B){C.push("C",Ta(eb,z),",",Ta(eb,B),",",Ta(rb,z),",",Ta(rb,B),",",Ta(So,z),",",Ta(So,B))}function up(C,z){return(z[1]-C[1])/(z[0]-C[0])}function _B(C){for(var z=0,B=C.length-1,G=[],W=C[0],Z=C[1],se=G[0]=up(W,Z);++z<B;)G[z]=(se+(se=up(W=Z,Z=C[z+1])))/2;return G[z]=se,G}function wB(C){for(var z=[],B,G,W,Z,se=_B(C),ie=-1,fe=C.length-1;++ie<fe;)B=up(C[ie],C[ie+1]),m(B)<Re?se[ie]=se[ie+1]=0:(G=se[ie]/B,W=se[ie+1]/B,Z=G*G+W*W,Z>9&&(Z=B*3/Math.sqrt(Z),se[ie]=Z*G,se[ie+1]=Z*W));for(ie=-1;++ie<=fe;)Z=(C[Math.min(fe,ie+1)][0]-C[Math.max(0,ie-1)][0])/(6*(1+se[ie]*se[ie])),z.push([Z||0,se[ie]*Z||0]);return z}function MB(C){return C.length<3?Ja(C):C[0]+w0(C,wB(C))}e.svg.line.radial=function(){var C=Qx(tb);return C.radius=C.x,delete C.x,C.angle=C.y,delete C.y,C};function tb(C){for(var z,B=-1,G=C.length,W,Z;++B<G;)z=C[B],W=z[0],Z=z[1]-J,z[0]=W*Math.cos(Z),z[1]=W*Math.sin(Z);return C}function nb(C){var z=Es,B=Es,G=0,W=rf,Z=Kx,se=Ja,ie=se.key,fe=se,be="L",_e=.7;function Pe(Ie){var Je=[],rr=[],Oe=[],Ge=-1,We=Ie.length,je,tr=Wr(z),Ze=Wr(G),lr=z===B?function(){return mr}:Wr(B),pr=G===W?function(){return gr}:Wr(W),mr,gr;function _r(){Je.push("M",se(C(Oe),_e),be,fe(C(rr.reverse()),_e),"Z")}for(;++Ge<We;)Z.call(this,je=Ie[Ge],Ge)?(rr.push([mr=+tr.call(this,je,Ge),gr=+Ze.call(this,je,Ge)]),Oe.push([+lr.call(this,je,Ge),+pr.call(this,je,Ge)])):rr.length&&(_r(),rr=[],Oe=[]);return rr.length&&_r(),Je.length?Je.join(""):null}return Pe.x=function(Ie){return arguments.length?(z=B=Ie,Pe):B},Pe.x0=function(Ie){return arguments.length?(z=Ie,Pe):z},Pe.x1=function(Ie){return arguments.length?(B=Ie,Pe):B},Pe.y=function(Ie){return arguments.length?(G=W=Ie,Pe):W},Pe.y0=function(Ie){return arguments.length?(G=Ie,Pe):G},Pe.y1=function(Ie){return arguments.length?(W=Ie,Pe):W},Pe.defined=function(Ie){return arguments.length?(Z=Ie,Pe):Z},Pe.interpolate=function(Ie){return arguments.length?(typeof Ie=="function"?ie=se=Ie:ie=(se=ap.get(Ie)||Ja).key,fe=se.reverse||se,be=se.closed?"M":"L",Pe):ie},Pe.tension=function(Ie){return arguments.length?(_e=Ie,Pe):_e},Pe}ip.reverse=op,op.reverse=ip,e.svg.area=function(){return nb(N)},e.svg.area.radial=function(){var C=nb(tb);return C.radius=C.x,delete C.x,C.innerRadius=C.x0,delete C.x0,C.outerRadius=C.x1,delete C.x1,C.angle=C.y,delete C.y,C.startAngle=C.y0,delete C.y0,C.endAngle=C.y1,delete C.y1,C};function ab(C){return C.source}function ib(C){return C.target}e.svg.chord=function(){var C=ab,z=ib,B=TB,G=Zx,W=Jx;function Z(_e,Pe){var Ie=se(this,C,_e,Pe),Je=se(this,z,_e,Pe);return"M"+Ie.p0+fe(Ie.r,Ie.p1,Ie.a1-Ie.a0)+(ie(Ie,Je)?be(Ie.r,Ie.p1,Ie.r,Ie.p0):be(Ie.r,Ie.p1,Je.r,Je.p0)+fe(Je.r,Je.p1,Je.a1-Je.a0)+be(Je.r,Je.p1,Ie.r,Ie.p0))+"Z"}function se(_e,Pe,Ie,Je){var rr=Pe.call(_e,Ie,Je),Oe=B.call(_e,rr,Je),Ge=G.call(_e,rr,Je)-J,We=W.call(_e,rr,Je)-J;return{r:Oe,a0:Ge,a1:We,p0:[Oe*Math.cos(Ge),Oe*Math.sin(Ge)],p1:[Oe*Math.cos(We),Oe*Math.sin(We)]}}function ie(_e,Pe){return _e.a0==Pe.a0&&_e.a1==Pe.a1}function fe(_e,Pe,Ie){return"A"+_e+","+_e+" 0 "+ +(Ie>Ke)+",1 "+Pe}function be(_e,Pe,Ie,Je){return"Q 0,0 "+Je}return Z.radius=function(_e){return arguments.length?(B=Wr(_e),Z):B},Z.source=function(_e){return arguments.length?(C=Wr(_e),Z):C},Z.target=function(_e){return arguments.length?(z=Wr(_e),Z):z},Z.startAngle=function(_e){return arguments.length?(G=Wr(_e),Z):G},Z.endAngle=function(_e){return arguments.length?(W=Wr(_e),Z):W},Z};function TB(C){return C.radius}e.svg.diagonal=function(){var C=ab,z=ib,B=ob;function G(W,Z){var se=C.call(this,W,Z),ie=z.call(this,W,Z),fe=(se.y+ie.y)/2,be=[se,{x:se.x,y:fe},{x:ie.x,y:fe},ie];return be=be.map(B),"M"+be[0]+"C"+be[1]+" "+be[2]+" "+be[3]}return G.source=function(W){return arguments.length?(C=Wr(W),G):C},G.target=function(W){return arguments.length?(z=Wr(W),G):z},G.projection=function(W){return arguments.length?(B=W,G):B},G};function ob(C){return[C.x,C.y]}e.svg.diagonal.radial=function(){var C=e.svg.diagonal(),z=ob,B=C.projection;return C.projection=function(G){return arguments.length?B(AB(z=G)):z},C};function AB(C){return function(){var z=C.apply(this,arguments),B=z[0],G=z[1]-J;return[B*Math.cos(G),B*Math.sin(G)]}}e.svg.symbol=function(){var C=SB,z=kB;function B(G,W){return(sb.get(C.call(this,G,W))||lb)(z.call(this,G,W))}return B.type=function(G){return arguments.length?(C=Wr(G),B):C},B.size=function(G){return arguments.length?(z=Wr(G),B):z},B};function kB(){return 64}function SB(){return"circle"}function lb(C){var z=Math.sqrt(C/Ke);return"M0,"+z+"A"+z+","+z+" 0 1,1 0,"+-z+"A"+z+","+z+" 0 1,1 0,"+z+"Z"}var sb=e.map({circle:lb,cross:function(C){var z=Math.sqrt(C/5)/2;return"M"+-3*z+","+-z+"H"+-z+"V"+-3*z+"H"+z+"V"+-z+"H"+3*z+"V"+z+"H"+z+"V"+3*z+"H"+-z+"V"+z+"H"+-3*z+"Z"},diamond:function(C){var z=Math.sqrt(C/(2*ub)),B=z*ub;return"M0,"+-z+"L"+B+",0 0,"+z+" "+-B+",0Z"},square:function(C){var z=Math.sqrt(C)/2;return"M"+-z+","+-z+"L"+z+","+-z+" "+z+","+z+" "+-z+","+z+"Z"},"triangle-down":function(C){var z=Math.sqrt(C/M0),B=z*M0/2;return"M0,"+B+"L"+z+","+-B+" "+-z+","+-B+"Z"},"triangle-up":function(C){var z=Math.sqrt(C/M0),B=z*M0/2;return"M0,"+-B+"L"+z+","+B+" "+-z+","+B+"Z"}});e.svg.symbolTypes=sb.keys();var M0=Math.sqrt(3),ub=Math.tan(30*ne);re.transition=function(C){for(var z=Al||++cb,B=cp(C),G=[],W,Z,se=A0||{time:Date.now(),ease:iO,delay:0,duration:250},ie=-1,fe=this.length;++ie<fe;){G.push(W=[]);for(var be=this[ie],_e=-1,Pe=be.length;++_e<Pe;)(Z=be[_e])&&k0(Z,_e,B,z,se),W.push(Z)}return ff(G,B,z)},re.interrupt=function(C){return this.each(C==null?T0:fb(cp(C)))};var T0=fb(cp());function fb(C){return function(){var z,B,G;(z=this[C])&&(G=z[B=z.active])&&(G.timer.c=null,G.timer.t=NaN,--z.count?delete z[B]:delete this[C],z.active+=.5,G.event&&G.event.interrupt.call(this,this.__data__,G.index))}}function ff(C,z,B){return q(C,Qt),C.namespace=z,C.id=B,C}var Qt=[],cb=0,Al,A0;Qt.call=re.call,Qt.empty=re.empty,Qt.node=re.node,Qt.size=re.size,e.transition=function(C,z){return C&&C.transition?Al?C.transition(z):C:e.selection().transition(C)},e.transition.prototype=Qt,Qt.select=function(C){var z=this.id,B=this.namespace,G=[],W,Z,se;C=V(C);for(var ie=-1,fe=this.length;++ie<fe;){G.push(W=[]);for(var be=this[ie],_e=-1,Pe=be.length;++_e<Pe;)(se=be[_e])&&(Z=C.call(se,se.__data__,_e,ie))?("__data__"in se&&(Z.__data__=se.__data__),k0(Z,_e,B,z,se[B][z]),W.push(Z)):W.push(null)}return ff(G,B,z)},Qt.selectAll=function(C){var z=this.id,B=this.namespace,G=[],W,Z,se,ie,fe;C=ee(C);for(var be=-1,_e=this.length;++be<_e;)for(var Pe=this[be],Ie=-1,Je=Pe.length;++Ie<Je;)if(se=Pe[Ie]){fe=se[B][z],Z=C.call(se,se.__data__,Ie,be),G.push(W=[]);for(var rr=-1,Oe=Z.length;++rr<Oe;)(ie=Z[rr])&&k0(ie,rr,B,z,fe),W.push(ie)}return ff(G,B,z)},Qt.filter=function(C){var z=[],B,G,W;typeof C!="function"&&(C=ge(C));for(var Z=0,se=this.length;Z<se;Z++){z.push(B=[]);for(var G=this[Z],ie=0,fe=G.length;ie<fe;ie++)(W=G[ie])&&C.call(W,W.__data__,ie,Z)&&B.push(W)}return ff(z,this.namespace,this.id)},Qt.tween=function(C,z){var B=this.id,G=this.namespace;return arguments.length<2?this.node()[G][B].tween.get(C):ke(this,z==null?function(W){W[G][B].tween.remove(C)}:function(W){W[G][B].tween.set(C,z)})};function fp(C,z,B,G){var W=C.id,Z=C.namespace;return ke(C,typeof B=="function"?function(se,ie,fe){se[Z][W].tween.set(z,G(B.call(se,se.__data__,ie,fe)))}:(B=G(B),function(se){se[Z][W].tween.set(z,B)}))}Qt.attr=function(C,z){if(arguments.length<2){for(z in C)this.attr(z,C[z]);return this}var B=C=="transform"?wx:Tl,G=e.ns.qualify(C);function W(){this.removeAttribute(G)}function Z(){this.removeAttributeNS(G.space,G.local)}function se(fe){return fe==null?W:(fe+="",function(){var be=this.getAttribute(G),_e;return be!==fe&&(_e=B(be,fe),function(Pe){this.setAttribute(G,_e(Pe))})})}function ie(fe){return fe==null?Z:(fe+="",function(){var be=this.getAttributeNS(G.space,G.local),_e;return be!==fe&&(_e=B(be,fe),function(Pe){this.setAttributeNS(G.space,G.local,_e(Pe))})})}return fp(this,"attr."+C,z,G.local?ie:se)},Qt.attrTween=function(C,z){var B=e.ns.qualify(C);function G(Z,se){var ie=z.call(this,Z,se,this.getAttribute(B));return ie&&function(fe){this.setAttribute(B,ie(fe))}}function W(Z,se){var ie=z.call(this,Z,se,this.getAttributeNS(B.space,B.local));return ie&&function(fe){this.setAttributeNS(B.space,B.local,ie(fe))}}return this.tween("attr."+C,B.local?W:G)},Qt.style=function(C,z,B){var G=arguments.length;if(G<3){if(typeof C!="string"){G<2&&(z="");for(B in C)this.style(B,C[B],z);return this}B=""}function W(){this.style.removeProperty(C)}function Z(se){return se==null?W:(se+="",function(){var ie=o(this).getComputedStyle(this,null).getPropertyValue(C),fe;return ie!==se&&(fe=Tl(ie,se),function(be){this.style.setProperty(C,fe(be),B)})})}return fp(this,"style."+C,z,Z)},Qt.styleTween=function(C,z,B){arguments.length<3&&(B="");function G(W,Z){var se=z.call(this,W,Z,o(this).getComputedStyle(this,null).getPropertyValue(C));return se&&function(ie){this.style.setProperty(C,se(ie),B)}}return this.tween("style."+C,G)},Qt.text=function(C){return fp(this,"text",C,CB)};function CB(C){return C==null&&(C=""),function(){this.textContent=C}}Qt.remove=function(){var C=this.namespace;return this.each("end.transition",function(){var z;this[C].count<2&&(z=this.parentNode)&&z.removeChild(this)})},Qt.ease=function(C){var z=this.id,B=this.namespace;return arguments.length<1?this.node()[B][z].ease:(typeof C!="function"&&(C=e.ease.apply(e,arguments)),ke(this,function(G){G[B][z].ease=C}))},Qt.delay=function(C){var z=this.id,B=this.namespace;return arguments.length<1?this.node()[B][z].delay:ke(this,typeof C=="function"?function(G,W,Z){G[B][z].delay=+C.call(G,G.__data__,W,Z)}:(C=+C,function(G){G[B][z].delay=C}))},Qt.duration=function(C){var z=this.id,B=this.namespace;return arguments.length<1?this.node()[B][z].duration:ke(this,typeof C=="function"?function(G,W,Z){G[B][z].duration=Math.max(1,C.call(G,G.__data__,W,Z))}:(C=Math.max(1,C),function(G){G[B][z].duration=C}))},Qt.each=function(C,z){var B=this.id,G=this.namespace;if(arguments.length<2){var W=A0,Z=Al;try{Al=B,ke(this,function(se,ie,fe){A0=se[G][B],C.call(se,se.__data__,ie,fe)})}finally{A0=W,Al=Z}}else ke(this,function(se){var ie=se[G][B];(ie.event||(ie.event=e.dispatch("start","end","interrupt"))).on(C,z)});return this},Qt.transition=function(){for(var C=this.id,z=++cb,B=this.namespace,G=[],W,Z,se,ie,fe=0,be=this.length;fe<be;fe++){G.push(W=[]);for(var Z=this[fe],_e=0,Pe=Z.length;_e<Pe;_e++)(se=Z[_e])&&(ie=se[B][C],k0(se,_e,B,z,{time:ie.time,ease:ie.ease,delay:ie.delay+ie.duration,duration:ie.duration})),W.push(se)}return ff(G,B,z)};function cp(C){return C==null?"__transition__":"__transition_"+C+"__"}function k0(C,z,B,G,W){var Z=C[B]||(C[B]={active:0,count:0}),se=Z[G],ie,fe,be,_e,Pe;function Ie(Oe){var Ge=se.delay;if(fe.t=Ge+ie,Ge<=Oe)return Je(Oe-Ge);fe.c=Je}function Je(Oe){var Ge=Z.active,We=Z[Ge];We&&(We.timer.c=null,We.timer.t=NaN,--Z.count,delete Z[Ge],We.event&&We.event.interrupt.call(C,C.__data__,We.index));for(var je in Z)if(+je<G){var tr=Z[je];tr.timer.c=null,tr.timer.t=NaN,--Z.count,delete Z[je]}fe.c=rr,u0(function(){return fe.c&&rr(Oe||1)&&(fe.c=null,fe.t=NaN),1},0,ie),Z.active=G,se.event&&se.event.start.call(C,C.__data__,z),Pe=[],se.tween.forEach(function(Ze,lr){(lr=lr.call(C,C.__data__,z))&&Pe.push(lr)}),_e=se.ease,be=se.duration}function rr(Oe){for(var Ge=Oe/be,We=_e(Ge),je=Pe.length;je>0;)Pe[--je].call(C,We);if(Ge>=1)return se.event&&se.event.end.call(C,C.__data__,z),--Z.count?delete Z[G]:delete C[B],1}se||(ie=W.time,fe=u0(Ie,0,ie),se=Z[G]={tween:new x,time:ie,timer:fe,delay:W.delay,duration:W.duration,ease:W.ease,index:z},W=null,++Z.count)}e.svg.axis=function(){var C=e.scale.linear(),z=hb,B=6,G=6,W=3,Z=[10],se=null,ie;function fe(be){be.each(function(){var _e=e.select(this),Pe=this.__chart__||C,Ie=this.__chart__=C.copy(),Je=se==null?Ie.ticks?Ie.ticks.apply(Ie,Z):Ie.domain():se,rr=ie==null?Ie.tickFormat?Ie.tickFormat.apply(Ie,Z):N:ie,Oe=_e.selectAll(".tick").data(Je,Ie),Ge=Oe.enter().insert("g",".domain").attr("class","tick").style("opacity",Re),We=e.transition(Oe.exit()).style("opacity",Re).remove(),je=e.transition(Oe.order()).style("opacity",1),tr=Math.max(B,0)+W,Ze,lr=y0(Ie),pr=_e.selectAll(".domain").data([0]),mr=(pr.enter().append("path").attr("class","domain"),e.transition(pr));Ge.append("line"),Ge.append("text");var gr=Ge.select("line"),_r=je.select("line"),wr=Oe.select("text").text(rr),Or=Ge.select("text"),Tr=je.select("text"),Ir=z==="top"||z==="left"?-1:1,st,Bt,vt,vr;if(z==="bottom"||z==="top"?(Ze=LB,st="x",vt="y",Bt="x2",vr="y2",wr.attr("dy",Ir<0?"0em":".71em").style("text-anchor","middle"),mr.attr("d","M"+lr[0]+","+Ir*G+"V0H"+lr[1]+"V"+Ir*G)):(Ze=DB,st="y",vt="x",Bt="y2",vr="x2",wr.attr("dy",".32em").style("text-anchor",Ir<0?"end":"start"),mr.attr("d","M"+Ir*G+","+lr[0]+"H0V"+lr[1]+"H"+Ir*G)),gr.attr(vr,Ir*B),Or.attr(vt,Ir*tr),_r.attr(Bt,0).attr(vr,Ir*B),Tr.attr(st,0).attr(vt,Ir*tr),Ie.rangeBand){var Br=Ie,Hr=Br.rangeBand()/2;Pe=Ie=function(ut){return Br(ut)+Hr}}else Pe.rangeBand?Pe=Ie:We.call(Ze,Ie,Pe);Ge.call(Ze,Pe,Ie),je.call(Ze,Ie,Ie)})}return fe.scale=function(be){return arguments.length?(C=be,fe):C},fe.orient=function(be){return arguments.length?(z=be in EB?be+"":hb,fe):z},fe.ticks=function(){return arguments.length?(Z=t(arguments),fe):Z},fe.tickValues=function(be){return arguments.length?(se=be,fe):se},fe.tickFormat=function(be){return arguments.length?(ie=be,fe):ie},fe.tickSize=function(be){var _e=arguments.length;return _e?(B=+be,G=+arguments[_e-1],fe):B},fe.innerTickSize=function(be){return arguments.length?(B=+be,fe):B},fe.outerTickSize=function(be){return arguments.length?(G=+be,fe):G},fe.tickPadding=function(be){return arguments.length?(W=+be,fe):W},fe.tickSubdivide=function(){return arguments.length&&fe},fe};var hb="bottom",EB={top:1,right:1,bottom:1,left:1};function LB(C,z,B){C.attr("transform",function(G){var W=z(G);return"translate("+(isFinite(W)?W:B(G))+",0)"})}function DB(C,z,B){C.attr("transform",function(G){var W=z(G);return"translate(0,"+(isFinite(W)?W:B(G))+")"})}e.svg.brush=function(){var C=j(_e,"brushstart","brush","brushend"),z=null,B=null,G=[0,0],W=[0,0],Z,se,ie=!0,fe=!0,be=hp[0];function _e(Oe){Oe.each(function(){var Ge=e.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",rr).on("touchstart.brush",rr),We=Ge.selectAll(".background").data([0]);We.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Ge.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var je=Ge.selectAll(".resize").data(be,N);je.exit().remove(),je.enter().append("g").attr("class",function(pr){return"resize "+pr}).style("cursor",function(pr){return RB[pr]}).append("rect").attr("x",function(pr){return/[ew]$/.test(pr)?-3:null}).attr("y",function(pr){return/^[ns]/.test(pr)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),je.style("display",_e.empty()?"none":null);var tr=e.transition(Ge),Ze=e.transition(We),lr;z&&(lr=y0(z),Ze.attr("x",lr[0]).attr("width",lr[1]-lr[0]),Ie(tr)),B&&(lr=y0(B),Ze.attr("y",lr[0]).attr("height",lr[1]-lr[0]),Je(tr)),Pe(tr)})}_e.event=function(Oe){Oe.each(function(){var Ge=C.of(this,arguments),We={x:G,y:W,i:Z,j:se},je=this.__chart__||We;this.__chart__=We,Al?e.select(this).transition().each("start.brush",function(){Z=je.i,se=je.j,G=je.x,W=je.y,Ge({type:"brushstart"})}).tween("brush:brush",function(){var tr=p0(G,We.x),Ze=p0(W,We.y);return Z=se=null,function(lr){G=We.x=tr(lr),W=We.y=Ze(lr),Ge({type:"brush",mode:"resize"})}}).each("end.brush",function(){Z=We.i,se=We.j,Ge({type:"brush",mode:"resize"}),Ge({type:"brushend"})}):(Ge({type:"brushstart"}),Ge({type:"brush",mode:"resize"}),Ge({type:"brushend"}))})};function Pe(Oe){Oe.selectAll(".resize").attr("transform",function(Ge){return"translate("+G[+/e$/.test(Ge)]+","+W[+/^s/.test(Ge)]+")"})}function Ie(Oe){Oe.select(".extent").attr("x",G[0]),Oe.selectAll(".extent,.n>rect,.s>rect").attr("width",G[1]-G[0])}function Je(Oe){Oe.select(".extent").attr("y",W[0]),Oe.selectAll(".extent,.e>rect,.w>rect").attr("height",W[1]-W[0])}function rr(){var Oe=this,Ge=e.select(e.event.target),We=C.of(Oe,arguments),je=e.select(Oe),tr=Ge.datum(),Ze=!/^(n|s)$/.test(tr)&&z,lr=!/^(e|w)$/.test(tr)&&B,pr=Ge.classed("extent"),mr=Ve(Oe),gr,_r=e.mouse(Oe),wr,Or=e.select(o(Oe)).on("keydown.brush",st).on("keyup.brush",Bt);if(e.event.changedTouches?Or.on("touchmove.brush",vt).on("touchend.brush",Br):Or.on("mousemove.brush",vt).on("mouseup.brush",Br),je.interrupt().selectAll("*").interrupt(),pr)_r[0]=G[0]-_r[0],_r[1]=W[0]-_r[1];else if(tr){var Tr=+/w$/.test(tr),Ir=+/^n/.test(tr);wr=[G[1-Tr]-_r[0],W[1-Ir]-_r[1]],_r[0]=G[Tr],_r[1]=W[Ir]}else e.event.altKey&&(gr=_r.slice());je.style("pointer-events","none").selectAll(".resize").style("display",null),e.select("body").style("cursor",Ge.style("cursor")),We({type:"brushstart"}),vt();function st(){e.event.keyCode==32&&(pr||(gr=null,_r[0]-=G[1],_r[1]-=W[1],pr=2),X())}function Bt(){e.event.keyCode==32&&pr==2&&(_r[0]+=G[1],_r[1]+=W[1],pr=0,X())}function vt(){var Hr=e.mouse(Oe),ut=!1;wr&&(Hr[0]+=wr[0],Hr[1]+=wr[1]),pr||(e.event.altKey?(gr||(gr=[(G[0]+G[1])/2,(W[0]+W[1])/2]),_r[0]=G[+(Hr[0]<gr[0])],_r[1]=W[+(Hr[1]<gr[1])]):gr=null),Ze&&vr(Hr,z,0)&&(Ie(je),ut=!0),lr&&vr(Hr,B,1)&&(Je(je),ut=!0),ut&&(Pe(je),We({type:"brush",mode:pr?"move":"resize"}))}function vr(Hr,ut,Pt){var $t=y0(ut),xn=$t[0],Nn=$t[1],Wn=_r[Pt],zn=Pt?W:G,jn=zn[1]-zn[0],An,ea;if(pr&&(xn-=Wn,Nn-=jn+Wn),An=(Pt?fe:ie)?Math.max(xn,Math.min(Nn,Hr[Pt])):Hr[Pt],pr?ea=(An+=Wn)+jn:(gr&&(Wn=Math.max(xn,Math.min(Nn,2*gr[Pt]-An))),Wn<An?(ea=An,An=Wn):ea=Wn),zn[0]!=An||zn[1]!=ea)return Pt?se=null:Z=null,zn[0]=An,zn[1]=ea,!0}function Br(){vt(),je.style("pointer-events","all").selectAll(".resize").style("display",_e.empty()?"none":null),e.select("body").style("cursor",null),Or.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),mr(),We({type:"brushend"})}}return _e.x=function(Oe){return arguments.length?(z=Oe,be=hp[!z<<1|!B],_e):z},_e.y=function(Oe){return arguments.length?(B=Oe,be=hp[!z<<1|!B],_e):B},_e.clamp=function(Oe){return arguments.length?(z&&B?(ie=!!Oe[0],fe=!!Oe[1]):z?ie=!!Oe:B&&(fe=!!Oe),_e):z&&B?[ie,fe]:z?ie:B?fe:null},_e.extent=function(Oe){var Ge,We,je,tr,Ze;return arguments.length?(z&&(Ge=Oe[0],We=Oe[1],B&&(Ge=Ge[0],We=We[0]),Z=[Ge,We],z.invert&&(Ge=z(Ge),We=z(We)),We<Ge&&(Ze=Ge,Ge=We,We=Ze),(Ge!=G[0]||We!=G[1])&&(G=[Ge,We])),B&&(je=Oe[0],tr=Oe[1],z&&(je=je[1],tr=tr[1]),se=[je,tr],B.invert&&(je=B(je),tr=B(tr)),tr<je&&(Ze=je,je=tr,tr=Ze),(je!=W[0]||tr!=W[1])&&(W=[je,tr])),_e):(z&&(Z?(Ge=Z[0],We=Z[1]):(Ge=G[0],We=G[1],z.invert&&(Ge=z.invert(Ge),We=z.invert(We)),We<Ge&&(Ze=Ge,Ge=We,We=Ze))),B&&(se?(je=se[0],tr=se[1]):(je=W[0],tr=W[1],B.invert&&(je=B.invert(je),tr=B.invert(tr)),tr<je&&(Ze=je,je=tr,tr=Ze))),z&&B?[[Ge,je],[We,tr]]:z?[Ge,We]:B&&[je,tr])},_e.clear=function(){return _e.empty()||(G=[0,0],W=[0,0],Z=se=null),_e},_e.empty=function(){return!!z&&G[0]==G[1]||!!B&&W[0]==W[1]},e.rebind(_e,C,"on")};var RB={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},hp=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];e.text=Za(function(C){return C.responseText}),e.json=function(C,z){return wl(C,"application/json",PB,z)};function PB(C){return JSON.parse(C.responseText)}e.html=function(C,z){return wl(C,"text/html",IB,z)};function IB(C){var z=n.createRange();return z.selectNode(n.body),z.createContextualFragment(C.responseText)}e.xml=Za(function(C){return C.responseXML}),typeof D0=="object"&&D0.exports?D0.exports=e:this.d3=e}).apply(self)});var vp=de((R0,xb)=>{(function(e,r){typeof R0=="object"&&typeof xb!="undefined"?r(R0):(e=e||self,r(e.d3=e.d3||{}))})(R0,function(e){"use strict";var r=new Date,t=new Date;function n(ge,Me,ke,me){function ye(pe){return ge(pe=arguments.length===0?new Date:new Date(+pe)),pe}return ye.floor=function(pe){return ge(pe=new Date(+pe)),pe},ye.ceil=function(pe){return ge(pe=new Date(pe-1)),Me(pe,1),ge(pe),pe},ye.round=function(pe){var he=ye(pe),xe=ye.ceil(pe);return pe-he<xe-pe?he:xe},ye.offset=function(pe,he){return Me(pe=new Date(+pe),he==null?1:Math.floor(he)),pe},ye.range=function(pe,he,xe){var Le=[],qe;if(pe=ye.ceil(pe),xe=xe==null?1:Math.floor(xe),!(pe<he)||!(xe>0))return Le;do Le.push(qe=new Date(+pe)),Me(pe,xe),ge(pe);while(qe<pe&&pe<he);return Le},ye.filter=function(pe){return n(function(he){if(he>=he)for(;ge(he),!pe(he);)he.setTime(he-1)},function(he,xe){if(he>=he)if(xe<0)for(;++xe<=0;)for(;Me(he,-1),!pe(he););else for(;--xe>=0;)for(;Me(he,1),!pe(he););})},ke&&(ye.count=function(pe,he){return r.setTime(+pe),t.setTime(+he),ge(r),ge(t),Math.floor(ke(r,t))},ye.every=function(pe){return pe=Math.floor(pe),!isFinite(pe)||!(pe>0)?null:pe>1?ye.filter(me?function(he){return me(he)%pe===0}:function(he){return ye.count(0,he)%pe===0}):ye}),ye}var a=n(function(){},function(ge,Me){ge.setTime(+ge+Me)},function(ge,Me){return Me-ge});a.every=function(ge){return ge=Math.floor(ge),!isFinite(ge)||!(ge>0)?null:ge>1?n(function(Me){Me.setTime(Math.floor(Me/ge)*ge)},function(Me,ke){Me.setTime(+Me+ke*ge)},function(Me,ke){return(ke-Me)/ge}):a};var o=a.range,i=1e3,l=6e4,u=36e5,s=864e5,f=6048e5,h=n(function(ge){ge.setTime(ge-ge.getMilliseconds())},function(ge,Me){ge.setTime(+ge+Me*i)},function(ge,Me){return(Me-ge)/i},function(ge){return ge.getUTCSeconds()}),p=h.range,b=n(function(ge){ge.setTime(ge-ge.getMilliseconds()-ge.getSeconds()*i)},function(ge,Me){ge.setTime(+ge+Me*l)},function(ge,Me){return(Me-ge)/l},function(ge){return ge.getMinutes()}),y=b.range,w=n(function(ge){ge.setTime(ge-ge.getMilliseconds()-ge.getSeconds()*i-ge.getMinutes()*l)},function(ge,Me){ge.setTime(+ge+Me*u)},function(ge,Me){return(Me-ge)/u},function(ge){return ge.getHours()}),T=w.range,m=n(function(ge){ge.setHours(0,0,0,0)},function(ge,Me){ge.setDate(ge.getDate()+Me)},function(ge,Me){return(Me-ge-(Me.getTimezoneOffset()-ge.getTimezoneOffset())*l)/s},function(ge){return ge.getDate()-1}),k=m.range;function S(ge){return n(function(Me){Me.setDate(Me.getDate()-(Me.getDay()+7-ge)%7),Me.setHours(0,0,0,0)},function(Me,ke){Me.setDate(Me.getDate()+ke*7)},function(Me,ke){return(ke-Me-(ke.getTimezoneOffset()-Me.getTimezoneOffset())*l)/f})}var x=S(0),M=S(1),d=S(2),_=S(3),g=S(4),c=S(5),A=S(6),v=x.range,D=M.range,E=d.range,R=_.range,N=g.range,F=c.range,I=A.range,L=n(function(ge){ge.setDate(1),ge.setHours(0,0,0,0)},function(ge,Me){ge.setMonth(ge.getMonth()+Me)},function(ge,Me){return Me.getMonth()-ge.getMonth()+(Me.getFullYear()-ge.getFullYear())*12},function(ge){return ge.getMonth()}),P=L.range,O=n(function(ge){ge.setMonth(0,1),ge.setHours(0,0,0,0)},function(ge,Me){ge.setFullYear(ge.getFullYear()+Me)},function(ge,Me){return Me.getFullYear()-ge.getFullYear()},function(ge){return ge.getFullYear()});O.every=function(ge){return!isFinite(ge=Math.floor(ge))||!(ge>0)?null:n(function(Me){Me.setFullYear(Math.floor(Me.getFullYear()/ge)*ge),Me.setMonth(0,1),Me.setHours(0,0,0,0)},function(Me,ke){Me.setFullYear(Me.getFullYear()+ke*ge)})};var U=O.range,X=n(function(ge){ge.setUTCSeconds(0,0)},function(ge,Me){ge.setTime(+ge+Me*l)},function(ge,Me){return(Me-ge)/l},function(ge){return ge.getUTCMinutes()}),$=X.range,j=n(function(ge){ge.setUTCMinutes(0,0,0)},function(ge,Me){ge.setTime(+ge+Me*u)},function(ge,Me){return(Me-ge)/u},function(ge){return ge.getUTCHours()}),Y=j.range,q=n(function(ge){ge.setUTCHours(0,0,0,0)},function(ge,Me){ge.setUTCDate(ge.getUTCDate()+Me)},function(ge,Me){return(Me-ge)/s},function(ge){return ge.getUTCDate()-1}),Q=q.range;function ae(ge){return n(function(Me){Me.setUTCDate(Me.getUTCDate()-(Me.getUTCDay()+7-ge)%7),Me.setUTCHours(0,0,0,0)},function(Me,ke){Me.setUTCDate(Me.getUTCDate()+ke*7)},function(Me,ke){return(ke-Me)/f})}var K=ae(0),oe=ae(1),re=ae(2),V=ae(3),ee=ae(4),H=ae(5),te=ae(6),le=K.range,ve=oe.range,Ae=re.range,we=V.range,ce=ee.range,Se=H.range,Ce=te.range,Fe=n(function(ge){ge.setUTCDate(1),ge.setUTCHours(0,0,0,0)},function(ge,Me){ge.setUTCMonth(ge.getUTCMonth()+Me)},function(ge,Me){return Me.getUTCMonth()-ge.getUTCMonth()+(Me.getUTCFullYear()-ge.getUTCFullYear())*12},function(ge){return ge.getUTCMonth()}),Ee=Fe.range,ze=n(function(ge){ge.setUTCMonth(0,1),ge.setUTCHours(0,0,0,0)},function(ge,Me){ge.setUTCFullYear(ge.getUTCFullYear()+Me)},function(ge,Me){return Me.getUTCFullYear()-ge.getUTCFullYear()},function(ge){return ge.getUTCFullYear()});ze.every=function(ge){return!isFinite(ge=Math.floor(ge))||!(ge>0)?null:n(function(Me){Me.setUTCFullYear(Math.floor(Me.getUTCFullYear()/ge)*ge),Me.setUTCMonth(0,1),Me.setUTCHours(0,0,0,0)},function(Me,ke){Me.setUTCFullYear(Me.getUTCFullYear()+ke*ge)})};var Ue=ze.range;e.timeDay=m,e.timeDays=k,e.timeFriday=c,e.timeFridays=F,e.timeHour=w,e.timeHours=T,e.timeInterval=n,e.timeMillisecond=a,e.timeMilliseconds=o,e.timeMinute=b,e.timeMinutes=y,e.timeMonday=M,e.timeMondays=D,e.timeMonth=L,e.timeMonths=P,e.timeSaturday=A,e.timeSaturdays=I,e.timeSecond=h,e.timeSeconds=p,e.timeSunday=x,e.timeSundays=v,e.timeThursday=g,e.timeThursdays=N,e.timeTuesday=d,e.timeTuesdays=E,e.timeWednesday=_,e.timeWednesdays=R,e.timeWeek=x,e.timeWeeks=v,e.timeYear=O,e.timeYears=U,e.utcDay=q,e.utcDays=Q,e.utcFriday=H,e.utcFridays=Se,e.utcHour=j,e.utcHours=Y,e.utcMillisecond=a,e.utcMilliseconds=o,e.utcMinute=X,e.utcMinutes=$,e.utcMonday=oe,e.utcMondays=ve,e.utcMonth=Fe,e.utcMonths=Ee,e.utcSaturday=te,e.utcSaturdays=Ce,e.utcSecond=h,e.utcSeconds=p,e.utcSunday=K,e.utcSundays=le,e.utcThursday=ee,e.utcThursdays=ce,e.utcTuesday=re,e.utcTuesdays=Ae,e.utcWednesday=V,e.utcWednesdays=we,e.utcWeek=K,e.utcWeeks=le,e.utcYear=ze,e.utcYears=Ue,Object.defineProperty(e,"__esModule",{value:!0})})});var Ns=de((P0,bb)=>{(function(e,r){typeof P0=="object"&&typeof bb!="undefined"?r(P0,vp()):(e=e||self,r(e.d3=e.d3||{},e.d3))})(P0,function(e,r){"use strict";function t(Te){if(0<=Te.y&&Te.y<100){var Re=new Date(-1,Te.m,Te.d,Te.H,Te.M,Te.S,Te.L);return Re.setFullYear(Te.y),Re}return new Date(Te.y,Te.m,Te.d,Te.H,Te.M,Te.S,Te.L)}function n(Te){if(0<=Te.y&&Te.y<100){var Re=new Date(Date.UTC(-1,Te.m,Te.d,Te.H,Te.M,Te.S,Te.L));return Re.setUTCFullYear(Te.y),Re}return new Date(Date.UTC(Te.y,Te.m,Te.d,Te.H,Te.M,Te.S,Te.L))}function a(Te,Re,Qe){return{y:Te,m:Re,d:Qe,H:0,M:0,S:0,L:0}}function o(Te){var Re=Te.dateTime,Qe=Te.date,Ke=Te.time,ar=Te.periods,ue=Te.days,J=Te.shortDays,ne=Te.months,De=Te.shortMonths,He=p(ar),er=b(ar),nr=p(ue),fr=b(ue),br=p(J),Sr=b(J),Mr=p(ne),Ar=b(ne),ft=p(De),sr=b(De),Pr={a:ha,A:$n,b:Fn,B:Ma,c:null,d:L,e:L,f:$,H:P,I:O,j:U,L:X,m:j,M:Y,p:wi,q:Ki,Q:he,s:xe,S:q,u:Q,U:ae,V:K,w:oe,W:re,x:null,X:null,y:V,Y:ee,Z:H,"%":pe},$r={a:Qi,A:$i,b:tn,B:ko,c:null,d:te,e:te,f:ce,H:le,I:ve,j:Ae,L:we,m:Se,M:Ce,p:Mi,q:Ti,Q:he,s:xe,S:Fe,u:Ee,U:ze,V:Ue,w:ge,W:Me,x:null,X:null,y:ke,Y:me,Z:ye,"%":pe},Fr={a:vn,A:Et,b:Tn,B:Ot,c:bt,d:g,e:g,f:R,H:A,I:A,j:c,L:E,m:_,M:v,p:jr,q:d,Q:F,s:I,S:D,u:w,U:T,V:m,w:y,W:k,x:gt,X:Nt,y:x,Y:S,Z:M,"%":N};Pr.x=Gr(Qe,Pr),Pr.X=Gr(Ke,Pr),Pr.c=Gr(Re,Pr),$r.x=Gr(Qe,$r),$r.X=Gr(Ke,$r),$r.c=Gr(Re,$r);function Gr(kr,at){return function(ct){var yr=[],yn=-1,_t=0,mn=kr.length,Wr,Za,wl;for(ct instanceof Date||(ct=new Date(+ct));++yn<mn;)kr.charCodeAt(yn)===37&&(yr.push(kr.slice(_t,yn)),(Za=i[Wr=kr.charAt(++yn)])!=null?Wr=kr.charAt(++yn):Za=Wr==="e"?" ":"0",(wl=at[Wr])&&(Wr=wl(ct,Za)),yr.push(Wr),_t=yn+1);return yr.push(kr.slice(_t,yn)),yr.join("")}}function pt(kr,at){return function(ct){var yr=a(1900,void 0,1),yn=Rr(yr,kr,ct+="",0),_t,mn;if(yn!=ct.length)return null;if("Q"in yr)return new Date(yr.Q);if("s"in yr)return new Date(yr.s*1e3+("L"in yr?yr.L:0));if(at&&!("Z"in yr)&&(yr.Z=0),"p"in yr&&(yr.H=yr.H%12+yr.p*12),yr.m===void 0&&(yr.m="q"in yr?yr.q:0),"V"in yr){if(yr.V<1||yr.V>53)return null;"w"in yr||(yr.w=1),"Z"in yr?(_t=n(a(yr.y,0,1)),mn=_t.getUTCDay(),_t=mn>4||mn===0?r.utcMonday.ceil(_t):r.utcMonday(_t),_t=r.utcDay.offset(_t,(yr.V-1)*7),yr.y=_t.getUTCFullYear(),yr.m=_t.getUTCMonth(),yr.d=_t.getUTCDate()+(yr.w+6)%7):(_t=t(a(yr.y,0,1)),mn=_t.getDay(),_t=mn>4||mn===0?r.timeMonday.ceil(_t):r.timeMonday(_t),_t=r.timeDay.offset(_t,(yr.V-1)*7),yr.y=_t.getFullYear(),yr.m=_t.getMonth(),yr.d=_t.getDate()+(yr.w+6)%7)}else("W"in yr||"U"in yr)&&("w"in yr||(yr.w="u"in yr?yr.u%7:"W"in yr?1:0),mn="Z"in yr?n(a(yr.y,0,1)).getUTCDay():t(a(yr.y,0,1)).getDay(),yr.m=0,yr.d="W"in yr?(yr.w+6)%7+yr.W*7-(mn+5)%7:yr.w+yr.U*7-(mn+6)%7);return"Z"in yr?(yr.H+=yr.Z/100|0,yr.M+=yr.Z%100,n(yr)):t(yr)}}function Rr(kr,at,ct,yr){for(var yn=0,_t=at.length,mn=ct.length,Wr,Za;yn<_t;){if(yr>=mn)return-1;if(Wr=at.charCodeAt(yn++),Wr===37){if(Wr=at.charAt(yn++),Za=Fr[Wr in i?at.charAt(yn++):Wr],!Za||(yr=Za(kr,ct,yr))<0)return-1}else if(Wr!=ct.charCodeAt(yr++))return-1}return yr}function jr(kr,at,ct){var yr=He.exec(at.slice(ct));return yr?(kr.p=er[yr[0].toLowerCase()],ct+yr[0].length):-1}function vn(kr,at,ct){var yr=br.exec(at.slice(ct));return yr?(kr.w=Sr[yr[0].toLowerCase()],ct+yr[0].length):-1}function Et(kr,at,ct){var yr=nr.exec(at.slice(ct));return yr?(kr.w=fr[yr[0].toLowerCase()],ct+yr[0].length):-1}function Tn(kr,at,ct){var yr=ft.exec(at.slice(ct));return yr?(kr.m=sr[yr[0].toLowerCase()],ct+yr[0].length):-1}function Ot(kr,at,ct){var yr=Mr.exec(at.slice(ct));return yr?(kr.m=Ar[yr[0].toLowerCase()],ct+yr[0].length):-1}function bt(kr,at,ct){return Rr(kr,Re,at,ct)}function gt(kr,at,ct){return Rr(kr,Qe,at,ct)}function Nt(kr,at,ct){return Rr(kr,Ke,at,ct)}function ha(kr){return J[kr.getDay()]}function $n(kr){return ue[kr.getDay()]}function Fn(kr){return De[kr.getMonth()]}function Ma(kr){return ne[kr.getMonth()]}function wi(kr){return ar[+(kr.getHours()>=12)]}function Ki(kr){return 1+~~(kr.getMonth()/3)}function Qi(kr){return J[kr.getUTCDay()]}function $i(kr){return ue[kr.getUTCDay()]}function tn(kr){return De[kr.getUTCMonth()]}function ko(kr){return ne[kr.getUTCMonth()]}function Mi(kr){return ar[+(kr.getUTCHours()>=12)]}function Ti(kr){return 1+~~(kr.getUTCMonth()/3)}return{format:function(kr){var at=Gr(kr+="",Pr);return at.toString=function(){return kr},at},parse:function(kr){var at=pt(kr+="",!1);return at.toString=function(){return kr},at},utcFormat:function(kr){var at=Gr(kr+="",$r);return at.toString=function(){return kr},at},utcParse:function(kr){var at=pt(kr+="",!0);return at.toString=function(){return kr},at}}}var i={"-":"",_:" ",0:"0"},l=/^\s*\d+/,u=/^%/,s=/[\\^$*+?|[\]().{}]/g;function f(Te,Re,Qe){var Ke=Te<0?"-":"",ar=(Ke?-Te:Te)+"",ue=ar.length;return Ke+(ue<Qe?new Array(Qe-ue+1).join(Re)+ar:ar)}function h(Te){return Te.replace(s,"\\$&")}function p(Te){return new RegExp("^(?:"+Te.map(h).join("|")+")","i")}function b(Te){for(var Re={},Qe=-1,Ke=Te.length;++Qe<Ke;)Re[Te[Qe].toLowerCase()]=Qe;return Re}function y(Te,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+1));return Ke?(Te.w=+Ke[0],Qe+Ke[0].length):-1}function w(Te,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+1));return Ke?(Te.u=+Ke[0],Qe+Ke[0].length):-1}function T(Te,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+2));return Ke?(Te.U=+Ke[0],Qe+Ke[0].length):-1}function m(Te,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+2));return Ke?(Te.V=+Ke[0],Qe+Ke[0].length):-1}function k(Te,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+2));return Ke?(Te.W=+Ke[0],Qe+Ke[0].length):-1}function S(Te,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+4));return Ke?(Te.y=+Ke[0],Qe+Ke[0].length):-1}function x(Te,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+2));return Ke?(Te.y=+Ke[0]+(+Ke[0]>68?1900:2e3),Qe+Ke[0].length):-1}function M(Te,Re,Qe){var Ke=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Re.slice(Qe,Qe+6));return Ke?(Te.Z=Ke[1]?0:-(Ke[2]+(Ke[3]||"00")),Qe+Ke[0].length):-1}function d(Te,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+1));return Ke?(Te.q=Ke[0]*3-3,Qe+Ke[0].length):-1}function _(Te,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+2));return Ke?(Te.m=Ke[0]-1,Qe+Ke[0].length):-1}function g(Te,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+2));return Ke?(Te.d=+Ke[0],Qe+Ke[0].length):-1}function c(Te,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+3));return Ke?(Te.m=0,Te.d=+Ke[0],Qe+Ke[0].length):-1}function A(Te,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+2));return Ke?(Te.H=+Ke[0],Qe+Ke[0].length):-1}function v(Te,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+2));return Ke?(Te.M=+Ke[0],Qe+Ke[0].length):-1}function D(Te,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+2));return Ke?(Te.S=+Ke[0],Qe+Ke[0].length):-1}function E(Te,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+3));return Ke?(Te.L=+Ke[0],Qe+Ke[0].length):-1}function R(Te,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+6));return Ke?(Te.L=Math.floor(Ke[0]/1e3),Qe+Ke[0].length):-1}function N(Te,Re,Qe){var Ke=u.exec(Re.slice(Qe,Qe+1));return Ke?Qe+Ke[0].length:-1}function F(Te,Re,Qe){var Ke=l.exec(Re.slice(Qe));return Ke?(Te.Q=+Ke[0],Qe+Ke[0].length):-1}function I(Te,Re,Qe){var Ke=l.exec(Re.slice(Qe));return Ke?(Te.s=+Ke[0],Qe+Ke[0].length):-1}function L(Te,Re){return f(Te.getDate(),Re,2)}function P(Te,Re){return f(Te.getHours(),Re,2)}function O(Te,Re){return f(Te.getHours()%12||12,Re,2)}function U(Te,Re){return f(1+r.timeDay.count(r.timeYear(Te),Te),Re,3)}function X(Te,Re){return f(Te.getMilliseconds(),Re,3)}function $(Te,Re){return X(Te,Re)+"000"}function j(Te,Re){return f(Te.getMonth()+1,Re,2)}function Y(Te,Re){return f(Te.getMinutes(),Re,2)}function q(Te,Re){return f(Te.getSeconds(),Re,2)}function Q(Te){var Re=Te.getDay();return Re===0?7:Re}function ae(Te,Re){return f(r.timeSunday.count(r.timeYear(Te)-1,Te),Re,2)}function K(Te,Re){var Qe=Te.getDay();return Te=Qe>=4||Qe===0?r.timeThursday(Te):r.timeThursday.ceil(Te),f(r.timeThursday.count(r.timeYear(Te),Te)+(r.timeYear(Te).getDay()===4),Re,2)}function oe(Te){return Te.getDay()}function re(Te,Re){return f(r.timeMonday.count(r.timeYear(Te)-1,Te),Re,2)}function V(Te,Re){return f(Te.getFullYear()%100,Re,2)}function ee(Te,Re){return f(Te.getFullYear()%1e4,Re,4)}function H(Te){var Re=Te.getTimezoneOffset();return(Re>0?"-":(Re*=-1,"+"))+f(Re/60|0,"0",2)+f(Re%60,"0",2)}function te(Te,Re){return f(Te.getUTCDate(),Re,2)}function le(Te,Re){return f(Te.getUTCHours(),Re,2)}function ve(Te,Re){return f(Te.getUTCHours()%12||12,Re,2)}function Ae(Te,Re){return f(1+r.utcDay.count(r.utcYear(Te),Te),Re,3)}function we(Te,Re){return f(Te.getUTCMilliseconds(),Re,3)}function ce(Te,Re){return we(Te,Re)+"000"}function Se(Te,Re){return f(Te.getUTCMonth()+1,Re,2)}function Ce(Te,Re){return f(Te.getUTCMinutes(),Re,2)}function Fe(Te,Re){return f(Te.getUTCSeconds(),Re,2)}function Ee(Te){var Re=Te.getUTCDay();return Re===0?7:Re}function ze(Te,Re){return f(r.utcSunday.count(r.utcYear(Te)-1,Te),Re,2)}function Ue(Te,Re){var Qe=Te.getUTCDay();return Te=Qe>=4||Qe===0?r.utcThursday(Te):r.utcThursday.ceil(Te),f(r.utcThursday.count(r.utcYear(Te),Te)+(r.utcYear(Te).getUTCDay()===4),Re,2)}function ge(Te){return Te.getUTCDay()}function Me(Te,Re){return f(r.utcMonday.count(r.utcYear(Te)-1,Te),Re,2)}function ke(Te,Re){return f(Te.getUTCFullYear()%100,Re,2)}function me(Te,Re){return f(Te.getUTCFullYear()%1e4,Re,4)}function ye(){return"+0000"}function pe(){return"%"}function he(Te){return+Te}function xe(Te){return Math.floor(+Te/1e3)}var Le;qe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qe(Te){return Le=o(Te),e.timeFormat=Le.format,e.timeParse=Le.parse,e.utcFormat=Le.utcFormat,e.utcParse=Le.utcParse,Le}var Ne="%Y-%m-%dT%H:%M:%S.%LZ";function $e(Te){return Te.toISOString()}var Ve=Date.prototype.toISOString?$e:e.utcFormat(Ne);function Be(Te){var Re=new Date(Te);return isNaN(Re)?null:Re}var Ye=+new Date("2000-01-01T00:00:00.000Z")?Be:e.utcParse(Ne);e.isoFormat=Ve,e.isoParse=Ye,e.timeFormatDefaultLocale=qe,e.timeFormatLocale=o,Object.defineProperty(e,"__esModule",{value:!0})})});var dp=de((I0,_b)=>{(function(e,r){typeof I0=="object"&&typeof _b!="undefined"?r(I0):(e=typeof globalThis!="undefined"?globalThis:e||self,r(e.d3=e.d3||{}))})(I0,function(e){"use strict";function r(_){return Math.abs(_=Math.round(_))>=1e21?_.toLocaleString("en").replace(/,/g,""):_.toString(10)}function t(_,g){if((c=(_=g?_.toExponential(g-1):_.toExponential()).indexOf("e"))<0)return null;var c,A=_.slice(0,c);return[A.length>1?A[0]+A.slice(2):A,+_.slice(c+1)]}function n(_){return _=t(Math.abs(_)),_?_[1]:NaN}function a(_,g){return function(c,A){for(var v=c.length,D=[],E=0,R=_[0],N=0;v>0&&R>0&&(N+R+1>A&&(R=Math.max(1,A-N)),D.push(c.substring(v-=R,v+R)),!((N+=R+1)>A));)R=_[E=(E+1)%_.length];return D.reverse().join(g)}}function o(_){return function(g){return g.replace(/[0-9]/g,function(c){return _[+c]})}}var i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function l(_){if(!(g=i.exec(_)))throw new Error("invalid format: "+_);var g;return new u({fill:g[1],align:g[2],sign:g[3],symbol:g[4],zero:g[5],width:g[6],comma:g[7],precision:g[8]&&g[8].slice(1),trim:g[9],type:g[10]})}l.prototype=u.prototype;function u(_){this.fill=_.fill===void 0?" ":_.fill+"",this.align=_.align===void 0?">":_.align+"",this.sign=_.sign===void 0?"-":_.sign+"",this.symbol=_.symbol===void 0?"":_.symbol+"",this.zero=!!_.zero,this.width=_.width===void 0?void 0:+_.width,this.comma=!!_.comma,this.precision=_.precision===void 0?void 0:+_.precision,this.trim=!!_.trim,this.type=_.type===void 0?"":_.type+""}u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function s(_){e:for(var g=_.length,c=1,A=-1,v;c<g;++c)switch(_[c]){case".":A=v=c;break;case"0":A===0&&(A=c),v=c;break;default:if(!+_[c])break e;A>0&&(A=0);break}return A>0?_.slice(0,A)+_.slice(v+1):_}var f;function h(_,g){var c=t(_,g);if(!c)return _+"";var A=c[0],v=c[1],D=v-(f=Math.max(-8,Math.min(8,Math.floor(v/3)))*3)+1,E=A.length;return D===E?A:D>E?A+new Array(D-E+1).join("0"):D>0?A.slice(0,D)+"."+A.slice(D):"0."+new Array(1-D).join("0")+t(_,Math.max(0,g+D-1))[0]}function p(_,g){var c=t(_,g);if(!c)return _+"";var A=c[0],v=c[1];return v<0?"0."+new Array(-v).join("0")+A:A.length>v+1?A.slice(0,v+1)+"."+A.slice(v+1):A+new Array(v-A.length+2).join("0")}var b={"%":function(_,g){return(_*100).toFixed(g)},b:function(_){return Math.round(_).toString(2)},c:function(_){return _+""},d:r,e:function(_,g){return _.toExponential(g)},f:function(_,g){return _.toFixed(g)},g:function(_,g){return _.toPrecision(g)},o:function(_){return Math.round(_).toString(8)},p:function(_,g){return p(_*100,g)},r:p,s:h,X:function(_){return Math.round(_).toString(16).toUpperCase()},x:function(_){return Math.round(_).toString(16)}};function y(_){return _}var w=Array.prototype.map,T=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function m(_){var g=_.grouping===void 0||_.thousands===void 0?y:a(w.call(_.grouping,Number),_.thousands+""),c=_.currency===void 0?"":_.currency[0]+"",A=_.currency===void 0?"":_.currency[1]+"",v=_.decimal===void 0?".":_.decimal+"",D=_.numerals===void 0?y:o(w.call(_.numerals,String)),E=_.percent===void 0?"%":_.percent+"",R=_.minus===void 0?"-":_.minus+"",N=_.nan===void 0?"NaN":_.nan+"";function F(L){L=l(L);var P=L.fill,O=L.align,U=L.sign,X=L.symbol,$=L.zero,j=L.width,Y=L.comma,q=L.precision,Q=L.trim,ae=L.type;ae==="n"?(Y=!0,ae="g"):b[ae]||(q===void 0&&(q=12),Q=!0,ae="g"),($||P==="0"&&O==="=")&&($=!0,P="0",O="=");var K=X==="$"?c:X==="#"&&/[boxX]/.test(ae)?"0"+ae.toLowerCase():"",oe=X==="$"?A:/[%p]/.test(ae)?E:"",re=b[ae],V=/[defgprs%]/.test(ae);q=q===void 0?6:/[gprs]/.test(ae)?Math.max(1,Math.min(21,q)):Math.max(0,Math.min(20,q));function ee(H){var te=K,le=oe,ve,Ae,we;if(ae==="c")le=re(H)+le,H="";else{H=+H;var ce=H<0||1/H<0;if(H=isNaN(H)?N:re(Math.abs(H),q),Q&&(H=s(H)),ce&&+H==0&&U!=="+"&&(ce=!1),te=(ce?U==="("?U:R:U==="-"||U==="("?"":U)+te,le=(ae==="s"?T[8+f/3]:"")+le+(ce&&U==="("?")":""),V){for(ve=-1,Ae=H.length;++ve<Ae;)if(we=H.charCodeAt(ve),48>we||we>57){le=(we===46?v+H.slice(ve+1):H.slice(ve))+le,H=H.slice(0,ve);break}}}Y&&!$&&(H=g(H,1/0));var Se=te.length+H.length+le.length,Ce=Se<j?new Array(j-Se+1).join(P):"";switch(Y&&$&&(H=g(Ce+H,Ce.length?j-le.length:1/0),Ce=""),O){case"<":H=te+H+le+Ce;break;case"=":H=te+Ce+H+le;break;case"^":H=Ce.slice(0,Se=Ce.length>>1)+te+H+le+Ce.slice(Se);break;default:H=Ce+te+H+le;break}return D(H)}return ee.toString=function(){return L+""},ee}function I(L,P){var O=F((L=l(L),L.type="f",L)),U=Math.max(-8,Math.min(8,Math.floor(n(P)/3)))*3,X=Math.pow(10,-U),$=T[8+U/3];return function(j){return O(X*j)+$}}return{format:F,formatPrefix:I}}var k;S({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function S(_){return k=m(_),e.format=k.format,e.formatPrefix=k.formatPrefix,k}function x(_){return Math.max(0,-n(Math.abs(_)))}function M(_,g){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(n(g)/3)))*3-n(Math.abs(_)))}function d(_,g){return _=Math.abs(_),g=Math.abs(g)-_,Math.max(0,n(g)-n(_))+1}e.FormatSpecifier=u,e.formatDefaultLocale=S,e.formatLocale=m,e.formatSpecifier=l,e.precisionFixed=x,e.precisionPrefix=M,e.precisionRound=d,Object.defineProperty(e,"__esModule",{value:!0})})});var Mb=de((cfe,wb)=>{"use strict";wb.exports=function(e){for(var r=e.length,t,n=0;n<r;n++)if(t=e.charCodeAt(n),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}});var nt=de((hfe,Tb)=>{"use strict";var UB=Mb();Tb.exports=function(e){var r=typeof e;if(r==="string"){var t=e;if(e=+e,e===0&&UB(t))return!1}else if(r!=="number")return!1;return e-e<1}});var nn=de((vfe,Ab)=>{"use strict";Ab.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:24405875e-1,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:"\u2212"}});var pp=de((F0,kb)=>{(function(e,r){typeof F0=="object"&&typeof kb!="undefined"?r(F0):(e=typeof globalThis!="undefined"?globalThis:e||self,r(e["base64-arraybuffer"]={}))})(F0,function(e){"use strict";for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),n=0;n<r.length;n++)t[r.charCodeAt(n)]=n;var a=function(i){var l=new Uint8Array(i),u,s=l.length,f="";for(u=0;u<s;u+=3)f+=r[l[u]>>2],f+=r[(l[u]&3)<<4|l[u+1]>>4],f+=r[(l[u+1]&15)<<2|l[u+2]>>6],f+=r[l[u+2]&63];return s%3===2?f=f.substring(0,f.length-1)+"=":s%3===1&&(f=f.substring(0,f.length-2)+"=="),f},o=function(i){var l=i.length*.75,u=i.length,s,f=0,h,p,b,y;i[i.length-1]==="="&&(l--,i[i.length-2]==="="&&l--);var w=new ArrayBuffer(l),T=new Uint8Array(w);for(s=0;s<u;s+=4)h=t[i.charCodeAt(s)],p=t[i.charCodeAt(s+1)],b=t[i.charCodeAt(s+2)],y=t[i.charCodeAt(s+3)],T[f++]=h<<2|p>>4,T[f++]=(p&15)<<4|b>>2,T[f++]=(b&3)<<6|y&63;return w};e.decode=o,e.encode=a,Object.defineProperty(e,"__esModule",{value:!0})})});var Eo=de((dfe,Sb)=>{"use strict";Sb.exports=function(r){return window&&window.process&&window.process.versions?Object.prototype.toString.call(r)==="[object Object]":Object.prototype.toString.call(r)==="[object Object]"&&Object.getPrototypeOf(r).hasOwnProperty("hasOwnProperty")}});var ra=de(Qa=>{"use strict";var HB=pp().decode,VB=Eo(),gp=Array.isArray,GB=ArrayBuffer,YB=DataView;function Cb(e){return GB.isView(e)&&!(e instanceof YB)}Qa.isTypedArray=Cb;function N0(e){return gp(e)||Cb(e)}Qa.isArrayOrTypedArray=N0;function WB(e){return!N0(e[0])}Qa.isArray1D=WB;Qa.ensureArray=function(e,r){return gp(e)||(e=[]),e.length=r,e};var dn={u1c:typeof Uint8ClampedArray=="undefined"?void 0:Uint8ClampedArray,i1:typeof Int8Array=="undefined"?void 0:Int8Array,u1:typeof Uint8Array=="undefined"?void 0:Uint8Array,i2:typeof Int16Array=="undefined"?void 0:Int16Array,u2:typeof Uint16Array=="undefined"?void 0:Uint16Array,i4:typeof Int32Array=="undefined"?void 0:Int32Array,u4:typeof Uint32Array=="undefined"?void 0:Uint32Array,f4:typeof Float32Array=="undefined"?void 0:Float32Array,f8:typeof Float64Array=="undefined"?void 0:Float64Array};dn.uint8c=dn.u1c;dn.uint8=dn.u1;dn.int8=dn.i1;dn.uint16=dn.u2;dn.int16=dn.i2;dn.uint32=dn.u4;dn.int32=dn.i4;dn.float32=dn.f4;dn.float64=dn.f8;function yp(e){return e.constructor===ArrayBuffer}Qa.isArrayBuffer=yp;Qa.decodeTypedArraySpec=function(e){var r=[],t=XB(e),n=t.dtype,a=dn[n];if(!a)throw new Error('Error in dtype: "'+n+'"');var o=a.BYTES_PER_ELEMENT,i=t.bdata;yp(i)||(i=HB(i));var l=t.shape===void 0?[i.byteLength/o]:(""+t.shape).split(",");l.reverse();var u=l.length,s,f,h=+l[0],p=o*h,b=0;if(u===1)r=new a(i);else if(u===2)for(s=+l[1],f=0;f<s;f++)r[f]=new a(i,b,h),b+=p;else if(u===3){s=+l[1];for(var y=+l[2],w=0;w<y;w++)for(r[w]=[],f=0;f<s;f++)r[w][f]=new a(i,b,h),b+=p}else throw new Error("ndim: "+u+'is not supported with the shape:"'+t.shape+'"');return r.bdata=t.bdata,r.dtype=t.dtype,r.shape=l.reverse().join(","),e._inputArray=r,r};Qa.isTypedArraySpec=function(e){return VB(e)&&e.hasOwnProperty("dtype")&&typeof e.dtype=="string"&&e.hasOwnProperty("bdata")&&(typeof e.bdata=="string"||yp(e.bdata))&&(e.shape===void 0||e.hasOwnProperty("shape")&&(typeof e.shape=="string"||typeof e.shape=="number"))};function XB(e){return{bdata:e.bdata,dtype:e.dtype,shape:e.shape}}Qa.concat=function(){var e=[],r=!0,t=0,n,a,o,i,l,u,s,f;for(o=0;o<arguments.length;o++)i=arguments[o],u=i.length,u&&(a?e.push(i):(a=i,l=u),gp(i)?n=!1:(r=!1,t?n!==i.constructor&&(n=!1):n=i.constructor),t+=u);if(!t)return[];if(!e.length)return a;if(r)return a.concat.apply(a,e);if(n){for(s=new n(t),s.set(a),o=0;o<e.length;o++)i=e[o],s.set(i,l),l+=i.length;return s}for(s=new Array(t),f=0;f<a.length;f++)s[f]=a[f];for(o=0;o<e.length;o++){for(i=e[o],f=0;f<i.length;f++)s[l+f]=i[f];l+=f}return s};Qa.maxRowLength=function(e){return Eb(e,Math.max,0)};Qa.minRowLength=function(e){return Eb(e,Math.min,1/0)};function Eb(e,r,t){if(N0(e))if(N0(e[0])){for(var n=t,a=0;a<e.length;a++)n=r(n,e[a].length);return n}else return e.length;return 0}});var z0=de((gfe,Ib)=>{"use strict";var Lb=nt(),xp=ra().isArrayOrTypedArray;Ib.exports=function(r,t){if(Lb(t))t=String(t);else if(typeof t!="string"||t.slice(-4)==="[-1]")throw"bad property string";var n=t.split("."),a,o,i,l;for(l=0;l<n.length;l++)if(String(n[l]).slice(0,2)==="__")throw"bad property string";for(l=0;l<n.length;){if(a=String(n[l]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),a){if(a[1])n[l]=a[1];else if(l===0)n.splice(0,1);else throw"bad property string";for(o=a[2].slice(1,-1).split("]["),i=0;i<o.length;i++)l++,n.splice(l,0,Number(o[i]))}l++}return typeof r!="object"?QB(r,t,n):{set:Rb(r,n,t),get:Db(r,n),astr:t,parts:n,obj:r}};function Db(e,r){return function(t){var n=e,a,o,i,l,u;for(l=0;l<r.length-1;l++){if(a=r[l],a===-1){for(o=!0,i=[],u=0;u<n.length;u++)i[u]=Db(n[u],r.slice(l+1))(t),i[u]!==i[0]&&(o=!1);return o?i[0]:i}if(typeof a=="number"&&!xp(n)||(n=n[a],typeof n!="object"||n===null))return}if(!(typeof n!="object"||n===null)&&(i=n[r[l]],!(!t&&i===null)))return i}}var ZB=/(^|\.)args\[/;function mp(e,r){return e===void 0||e===null&&!r.match(ZB)}function Rb(e,r,t){return function(n){var a=e,o="",i=[[e,o]],l=mp(n,t),u,s;for(s=0;s<r.length-1;s++){if(u=r[s],typeof u=="number"&&!xp(a))throw"array index but container is not an array";if(u===-1){if(l=!KB(a,r.slice(s+1),n,t),l)break;return}if(!Pb(a,u,r[s+1],l))break;if(a=a[u],typeof a!="object"||a===null)throw"container is not an object";o=JB(o,u),i.push([a,o])}if(l){if(s===r.length-1&&(delete a[r[s]],Array.isArray(a)&&+r[s]===a.length-1))for(;a.length&&a[a.length-1]===void 0;)a.pop()}else a[r[s]]=n}}function JB(e,r){var t=r;return Lb(r)?t="["+r+"]":e&&(t="."+r),e+t}function KB(e,r,t,n){var a=xp(t),o=!0,i=t,l=n.replace("-1",0),u=a?!1:mp(t,l),s=r[0],f;for(f=0;f<e.length;f++)l=n.replace("-1",f),a&&(i=t[f%t.length],u=mp(i,l)),u&&(o=!1),Pb(e,f,s,u)&&Rb(e[f],r,n.replace("-1",f))(i);return o}function Pb(e,r,t,n){if(e[r]===void 0){if(n)return!1;typeof t=="number"?e[r]=[]:e[r]={}}return!0}function QB(e,r,t){return{set:function(){throw"bad container"},get:function(){},astr:r,parts:t,obj:e}}});var qb=de((yfe,zb)=>{"use strict";var zs=z0(),$B=/^\w*$/,jB=0,Fb=1,q0=2,Nb=3,El=4;zb.exports=function(r,t,n,a){n=n||"name",a=a||"value";var o,i,l,u={};t&&t.length?(l=zs(r,t),i=l.get()):i=r,t=t||"";var s={};if(i)for(o=0;o<i.length;o++)s[i[o][n]]=o;var f=$B.test(a),h={set:function(p,b){var y=b===null?El:jB;if(!i){if(!l||y===El)return;i=[],l.set(i)}var w=s[p];if(w===void 0){if(y===El)return;y=y|Nb,w=i.length,s[p]=w}else b!==(f?i[w][a]:zs(i[w],a).get())&&(y=y|q0);var T=i[w]=i[w]||{};return T[n]=p,f?T[a]=b:zs(T,a).set(b),b!==null&&(y=y&~El),u[w]=u[w]|y,h},get:function(p){if(i){var b=s[p];if(b!==void 0)return f?i[b][a]:zs(i[b],a).get()}},rename:function(p,b){var y=s[p];return y===void 0||(u[y]=u[y]|Fb,s[b]=y,delete s[p],i[y][n]=b),h},remove:function(p){var b=s[p];if(b===void 0)return h;var y=i[b];if(Object.keys(y).length>2)return u[b]=u[b]|q0,h.set(p,null);if(f){for(o=b;o<i.length;o++)u[o]=u[o]|Nb;for(o=b;o<i.length;o++)s[i[o][n]]--;i.splice(b,1),delete s[p]}else zs(y,a).set(null),u[b]=u[b]|q0|El;return h},constructUpdate:function(){for(var p,b,y={},w=Object.keys(u),T=0;T<w.length;T++)b=w[T],p=t+"["+b+"]",i[b]?(u[b]&Fb&&(y[p+"."+n]=i[b][n]),u[b]&q0&&(f?y[p+"."+a]=u[b]&El?null:i[b][a]:y[p+"."+a]=u[b]&El?null:zs(i[b],a).get())):y[p]=null;return y}};return h}});var Bb=de((mfe,Ob)=>{"use strict";var eU=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,rU=/^[^\.\[\]]+$/;Ob.exports=function(e,r){for(;r;){var t=e.match(eU);if(t)e=t[1];else if(e.match(rU))e="";else throw new Error("bad relativeAttr call:"+[e,r]);if(r.charAt(0)==="^")r=r.slice(1);else break}return e&&r.charAt(0)!=="["?e+"."+r:e+r}});var O0=de((xfe,Ub)=>{"use strict";var tU=nt();Ub.exports=function(r,t){if(r>0)return Math.log(r)/Math.LN10;var n=Math.log(Math.min(t[0],t[1]))/Math.LN10;return tU(n)||(n=Math.log(Math.max(t[0],t[1]))/Math.LN10-6),n}});var Gb=de((bfe,Vb)=>{"use strict";var Hb=ra().isArrayOrTypedArray,cf=Eo();Vb.exports=function e(r,t){for(var n in t){var a=t[n],o=r[n];if(o!==a)if(n.charAt(0)==="_"||typeof a=="function"){if(n in r)continue;r[n]=a}else if(Hb(a)&&Hb(o)&&cf(a[0])){if(n==="customdata"||n==="ids")continue;for(var i=Math.min(a.length,o.length),l=0;l<i;l++)o[l]!==a[l]&&cf(a[l])&&cf(o[l])&&e(o[l],a[l])}else cf(a)&&cf(o)&&(e(o,a),Object.keys(o).length||delete r[n])}}});var qs=de((_fe,Yb)=>{"use strict";function nU(e,r){var t=e%r;return t<0?t+r:t}function aU(e,r){return Math.abs(e)>r/2?e-Math.round(e/r)*r:e}Yb.exports={mod:nU,modHalf:aU}});var Sa=de((wfe,B0)=>{(function(e){var r=/^\s+/,t=/\s+$/,n=0,a=e.round,o=e.min,i=e.max,l=e.random;function u(V,ee){if(V=V||"",ee=ee||{},V instanceof u)return V;if(!(this instanceof u))return new u(V,ee);var H=s(V);this._originalInput=V,this._r=H.r,this._g=H.g,this._b=H.b,this._a=H.a,this._roundA=a(100*this._a)/100,this._format=ee.format||H.format,this._gradientType=ee.gradientType,this._r<1&&(this._r=a(this._r)),this._g<1&&(this._g=a(this._g)),this._b<1&&(this._b=a(this._b)),this._ok=H.ok,this._tc_id=n++}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var V=this.toRgb();return(V.r*299+V.g*587+V.b*114)/1e3},getLuminance:function(){var V=this.toRgb(),ee,H,te,le,ve,Ae;return ee=V.r/255,H=V.g/255,te=V.b/255,ee<=.03928?le=ee/12.92:le=e.pow((ee+.055)/1.055,2.4),H<=.03928?ve=H/12.92:ve=e.pow((H+.055)/1.055,2.4),te<=.03928?Ae=te/12.92:Ae=e.pow((te+.055)/1.055,2.4),.2126*le+.7152*ve+.0722*Ae},setAlpha:function(V){return this._a=L(V),this._roundA=a(100*this._a)/100,this},toHsv:function(){var V=b(this._r,this._g,this._b);return{h:V.h*360,s:V.s,v:V.v,a:this._a}},toHsvString:function(){var V=b(this._r,this._g,this._b),ee=a(V.h*360),H=a(V.s*100),te=a(V.v*100);return this._a==1?"hsv("+ee+", "+H+"%, "+te+"%)":"hsva("+ee+", "+H+"%, "+te+"%, "+this._roundA+")"},toHsl:function(){var V=h(this._r,this._g,this._b);return{h:V.h*360,s:V.s,l:V.l,a:this._a}},toHslString:function(){var V=h(this._r,this._g,this._b),ee=a(V.h*360),H=a(V.s*100),te=a(V.l*100);return this._a==1?"hsl("+ee+", "+H+"%, "+te+"%)":"hsla("+ee+", "+H+"%, "+te+"%, "+this._roundA+")"},toHex:function(V){return w(this._r,this._g,this._b,V)},toHexString:function(V){return"#"+this.toHex(V)},toHex8:function(V){return T(this._r,this._g,this._b,this._a,V)},toHex8String:function(V){return"#"+this.toHex8(V)},toRgb:function(){return{r:a(this._r),g:a(this._g),b:a(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+a(this._r)+", "+a(this._g)+", "+a(this._b)+")":"rgba("+a(this._r)+", "+a(this._g)+", "+a(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:a(P(this._r,255)*100)+"%",g:a(P(this._g,255)*100)+"%",b:a(P(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+a(P(this._r,255)*100)+"%, "+a(P(this._g,255)*100)+"%, "+a(P(this._b,255)*100)+"%)":"rgba("+a(P(this._r,255)*100)+"%, "+a(P(this._g,255)*100)+"%, "+a(P(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:F[w(this._r,this._g,this._b,!0)]||!1},toFilter:function(V){var ee="#"+m(this._r,this._g,this._b,this._a),H=ee,te=this._gradientType?"GradientType = 1, ":"";if(V){var le=u(V);H="#"+m(le._r,le._g,le._b,le._a)}return"progid:DXImageTransform.Microsoft.gradient("+te+"startColorstr="+ee+",endColorstr="+H+")"},toString:function(V){var ee=!!V;V=V||this._format;var H=!1,te=this._a<1&&this._a>=0,le=!ee&&te&&(V==="hex"||V==="hex6"||V==="hex3"||V==="hex4"||V==="hex8"||V==="name");return le?V==="name"&&this._a===0?this.toName():this.toRgbString():(V==="rgb"&&(H=this.toRgbString()),V==="prgb"&&(H=this.toPercentageRgbString()),(V==="hex"||V==="hex6")&&(H=this.toHexString()),V==="hex3"&&(H=this.toHexString(!0)),V==="hex4"&&(H=this.toHex8String(!0)),V==="hex8"&&(H=this.toHex8String()),V==="name"&&(H=this.toName()),V==="hsl"&&(H=this.toHslString()),V==="hsv"&&(H=this.toHsvString()),H||this.toHexString())},clone:function(){return u(this.toString())},_applyModification:function(V,ee){var H=V.apply(null,[this].concat([].slice.call(ee)));return this._r=H._r,this._g=H._g,this._b=H._b,this.setAlpha(H._a),this},lighten:function(){return this._applyModification(M,arguments)},brighten:function(){return this._applyModification(d,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(k,arguments)},saturate:function(){return this._applyModification(S,arguments)},greyscale:function(){return this._applyModification(x,arguments)},spin:function(){return this._applyModification(g,arguments)},_applyCombination:function(V,ee){return V.apply(null,[this].concat([].slice.call(ee)))},analogous:function(){return this._applyCombination(E,arguments)},complement:function(){return this._applyCombination(c,arguments)},monochromatic:function(){return this._applyCombination(R,arguments)},splitcomplement:function(){return this._applyCombination(D,arguments)},triad:function(){return this._applyCombination(A,arguments)},tetrad:function(){return this._applyCombination(v,arguments)}},u.fromRatio=function(V,ee){if(typeof V=="object"){var H={};for(var te in V)V.hasOwnProperty(te)&&(te==="a"?H[te]=V[te]:H[te]=Y(V[te]));V=H}return u(V,ee)};function s(V){var ee={r:0,g:0,b:0},H=1,te=null,le=null,ve=null,Ae=!1,we=!1;return typeof V=="string"&&(V=oe(V)),typeof V=="object"&&(K(V.r)&&K(V.g)&&K(V.b)?(ee=f(V.r,V.g,V.b),Ae=!0,we=String(V.r).substr(-1)==="%"?"prgb":"rgb"):K(V.h)&&K(V.s)&&K(V.v)?(te=Y(V.s),le=Y(V.v),ee=y(V.h,te,le),Ae=!0,we="hsv"):K(V.h)&&K(V.s)&&K(V.l)&&(te=Y(V.s),ve=Y(V.l),ee=p(V.h,te,ve),Ae=!0,we="hsl"),V.hasOwnProperty("a")&&(H=V.a)),H=L(H),{ok:Ae,format:V.format||we,r:o(255,i(ee.r,0)),g:o(255,i(ee.g,0)),b:o(255,i(ee.b,0)),a:H}}function f(V,ee,H){return{r:P(V,255)*255,g:P(ee,255)*255,b:P(H,255)*255}}function h(V,ee,H){V=P(V,255),ee=P(ee,255),H=P(H,255);var te=i(V,ee,H),le=o(V,ee,H),ve,Ae,we=(te+le)/2;if(te==le)ve=Ae=0;else{var ce=te-le;switch(Ae=we>.5?ce/(2-te-le):ce/(te+le),te){case V:ve=(ee-H)/ce+(ee<H?6:0);break;case ee:ve=(H-V)/ce+2;break;case H:ve=(V-ee)/ce+4;break}ve/=6}return{h:ve,s:Ae,l:we}}function p(V,ee,H){var te,le,ve;V=P(V,360),ee=P(ee,100),H=P(H,100);function Ae(Se,Ce,Fe){return Fe<0&&(Fe+=1),Fe>1&&(Fe-=1),Fe<1/6?Se+(Ce-Se)*6*Fe:Fe<1/2?Ce:Fe<2/3?Se+(Ce-Se)*(2/3-Fe)*6:Se}if(ee===0)te=le=ve=H;else{var we=H<.5?H*(1+ee):H+ee-H*ee,ce=2*H-we;te=Ae(ce,we,V+1/3),le=Ae(ce,we,V),ve=Ae(ce,we,V-1/3)}return{r:te*255,g:le*255,b:ve*255}}function b(V,ee,H){V=P(V,255),ee=P(ee,255),H=P(H,255);var te=i(V,ee,H),le=o(V,ee,H),ve,Ae,we=te,ce=te-le;if(Ae=te===0?0:ce/te,te==le)ve=0;else{switch(te){case V:ve=(ee-H)/ce+(ee<H?6:0);break;case ee:ve=(H-V)/ce+2;break;case H:ve=(V-ee)/ce+4;break}ve/=6}return{h:ve,s:Ae,v:we}}function y(V,ee,H){V=P(V,360)*6,ee=P(ee,100),H=P(H,100);var te=e.floor(V),le=V-te,ve=H*(1-ee),Ae=H*(1-le*ee),we=H*(1-(1-le)*ee),ce=te%6,Se=[H,Ae,ve,ve,we,H][ce],Ce=[we,H,H,Ae,ve,ve][ce],Fe=[ve,ve,we,H,H,Ae][ce];return{r:Se*255,g:Ce*255,b:Fe*255}}function w(V,ee,H,te){var le=[j(a(V).toString(16)),j(a(ee).toString(16)),j(a(H).toString(16))];return te&&le[0].charAt(0)==le[0].charAt(1)&&le[1].charAt(0)==le[1].charAt(1)&&le[2].charAt(0)==le[2].charAt(1)?le[0].charAt(0)+le[1].charAt(0)+le[2].charAt(0):le.join("")}function T(V,ee,H,te,le){var ve=[j(a(V).toString(16)),j(a(ee).toString(16)),j(a(H).toString(16)),j(q(te))];return le&&ve[0].charAt(0)==ve[0].charAt(1)&&ve[1].charAt(0)==ve[1].charAt(1)&&ve[2].charAt(0)==ve[2].charAt(1)&&ve[3].charAt(0)==ve[3].charAt(1)?ve[0].charAt(0)+ve[1].charAt(0)+ve[2].charAt(0)+ve[3].charAt(0):ve.join("")}function m(V,ee,H,te){var le=[j(q(te)),j(a(V).toString(16)),j(a(ee).toString(16)),j(a(H).toString(16))];return le.join("")}u.equals=function(V,ee){return!V||!ee?!1:u(V).toRgbString()==u(ee).toRgbString()},u.random=function(){return u.fromRatio({r:l(),g:l(),b:l()})};function k(V,ee){ee=ee===0?0:ee||10;var H=u(V).toHsl();return H.s-=ee/100,H.s=O(H.s),u(H)}function S(V,ee){ee=ee===0?0:ee||10;var H=u(V).toHsl();return H.s+=ee/100,H.s=O(H.s),u(H)}function x(V){return u(V).desaturate(100)}function M(V,ee){ee=ee===0?0:ee||10;var H=u(V).toHsl();return H.l+=ee/100,H.l=O(H.l),u(H)}function d(V,ee){ee=ee===0?0:ee||10;var H=u(V).toRgb();return H.r=i(0,o(255,H.r-a(255*-(ee/100)))),H.g=i(0,o(255,H.g-a(255*-(ee/100)))),H.b=i(0,o(255,H.b-a(255*-(ee/100)))),u(H)}function _(V,ee){ee=ee===0?0:ee||10;var H=u(V).toHsl();return H.l-=ee/100,H.l=O(H.l),u(H)}function g(V,ee){var H=u(V).toHsl(),te=(H.h+ee)%360;return H.h=te<0?360+te:te,u(H)}function c(V){var ee=u(V).toHsl();return ee.h=(ee.h+180)%360,u(ee)}function A(V){var ee=u(V).toHsl(),H=ee.h;return[u(V),u({h:(H+120)%360,s:ee.s,l:ee.l}),u({h:(H+240)%360,s:ee.s,l:ee.l})]}function v(V){var ee=u(V).toHsl(),H=ee.h;return[u(V),u({h:(H+90)%360,s:ee.s,l:ee.l}),u({h:(H+180)%360,s:ee.s,l:ee.l}),u({h:(H+270)%360,s:ee.s,l:ee.l})]}function D(V){var ee=u(V).toHsl(),H=ee.h;return[u(V),u({h:(H+72)%360,s:ee.s,l:ee.l}),u({h:(H+216)%360,s:ee.s,l:ee.l})]}function E(V,ee,H){ee=ee||6,H=H||30;var te=u(V).toHsl(),le=360/H,ve=[u(V)];for(te.h=(te.h-(le*ee>>1)+720)%360;--ee;)te.h=(te.h+le)%360,ve.push(u(te));return ve}function R(V,ee){ee=ee||6;for(var H=u(V).toHsv(),te=H.h,le=H.s,ve=H.v,Ae=[],we=1/ee;ee--;)Ae.push(u({h:te,s:le,v:ve})),ve=(ve+we)%1;return Ae}u.mix=function(V,ee,H){H=H===0?0:H||50;var te=u(V).toRgb(),le=u(ee).toRgb(),ve=H/100,Ae={r:(le.r-te.r)*ve+te.r,g:(le.g-te.g)*ve+te.g,b:(le.b-te.b)*ve+te.b,a:(le.a-te.a)*ve+te.a};return u(Ae)},u.readability=function(V,ee){var H=u(V),te=u(ee);return(e.max(H.getLuminance(),te.getLuminance())+.05)/(e.min(H.getLuminance(),te.getLuminance())+.05)},u.isReadable=function(V,ee,H){var te=u.readability(V,ee),le,ve;switch(ve=!1,le=re(H),le.level+le.size){case"AAsmall":case"AAAlarge":ve=te>=4.5;break;case"AAlarge":ve=te>=3;break;case"AAAsmall":ve=te>=7;break}return ve},u.mostReadable=function(V,ee,H){var te=null,le=0,ve,Ae,we,ce;H=H||{},Ae=H.includeFallbackColors,we=H.level,ce=H.size;for(var Se=0;Se<ee.length;Se++)ve=u.readability(V,ee[Se]),ve>le&&(le=ve,te=u(ee[Se]));return u.isReadable(V,te,{level:we,size:ce})||!Ae?te:(H.includeFallbackColors=!1,u.mostReadable(V,["#fff","#000"],H))};var N=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},F=u.hexNames=I(N);function I(V){var ee={};for(var H in V)V.hasOwnProperty(H)&&(ee[V[H]]=H);return ee}function L(V){return V=parseFloat(V),(isNaN(V)||V<0||V>1)&&(V=1),V}function P(V,ee){X(V)&&(V="100%");var H=$(V);return V=o(ee,i(0,parseFloat(V))),H&&(V=parseInt(V*ee,10)/100),e.abs(V-ee)<1e-6?1:V%ee/parseFloat(ee)}function O(V){return o(1,i(0,V))}function U(V){return parseInt(V,16)}function X(V){return typeof V=="string"&&V.indexOf(".")!=-1&&parseFloat(V)===1}function $(V){return typeof V=="string"&&V.indexOf("%")!=-1}function j(V){return V.length==1?"0"+V:""+V}function Y(V){return V<=1&&(V=V*100+"%"),V}function q(V){return e.round(parseFloat(V)*255).toString(16)}function Q(V){return U(V)/255}var ae=function(){var V="[-\\+]?\\d+%?",ee="[-\\+]?\\d*\\.\\d+%?",H="(?:"+ee+")|(?:"+V+")",te="[\\s|\\(]+("+H+")[,|\\s]+("+H+")[,|\\s]+("+H+")\\s*\\)?",le="[\\s|\\(]+("+H+")[,|\\s]+("+H+")[,|\\s]+("+H+")[,|\\s]+("+H+")\\s*\\)?";return{CSS_UNIT:new RegExp(H),rgb:new RegExp("rgb"+te),rgba:new RegExp("rgba"+le),hsl:new RegExp("hsl"+te),hsla:new RegExp("hsla"+le),hsv:new RegExp("hsv"+te),hsva:new RegExp("hsva"+le),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function K(V){return!!ae.CSS_UNIT.exec(V)}function oe(V){V=V.replace(r,"").replace(t,"").toLowerCase();var ee=!1;if(N[V])V=N[V],ee=!0;else if(V=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var H;return(H=ae.rgb.exec(V))?{r:H[1],g:H[2],b:H[3]}:(H=ae.rgba.exec(V))?{r:H[1],g:H[2],b:H[3],a:H[4]}:(H=ae.hsl.exec(V))?{h:H[1],s:H[2],l:H[3]}:(H=ae.hsla.exec(V))?{h:H[1],s:H[2],l:H[3],a:H[4]}:(H=ae.hsv.exec(V))?{h:H[1],s:H[2],v:H[3]}:(H=ae.hsva.exec(V))?{h:H[1],s:H[2],v:H[3],a:H[4]}:(H=ae.hex8.exec(V))?{r:U(H[1]),g:U(H[2]),b:U(H[3]),a:Q(H[4]),format:ee?"name":"hex8"}:(H=ae.hex6.exec(V))?{r:U(H[1]),g:U(H[2]),b:U(H[3]),format:ee?"name":"hex"}:(H=ae.hex4.exec(V))?{r:U(H[1]+""+H[1]),g:U(H[2]+""+H[2]),b:U(H[3]+""+H[3]),a:Q(H[4]+""+H[4]),format:ee?"name":"hex8"}:(H=ae.hex3.exec(V))?{r:U(H[1]+""+H[1]),g:U(H[2]+""+H[2]),b:U(H[3]+""+H[3]),format:ee?"name":"hex"}:!1}function re(V){var ee,H;return V=V||{level:"AA",size:"small"},ee=(V.level||"AA").toUpperCase(),H=(V.size||"small").toLowerCase(),ee!=="AA"&&ee!=="AAA"&&(ee="AA"),H!=="small"&&H!=="large"&&(H="small"),{level:ee,size:H}}typeof B0!="undefined"&&B0.exports?B0.exports=u:window.tinycolor=u})(Math)});var Tt=de(df=>{"use strict";var Wb=Eo(),hf=Array.isArray;function iU(e,r){var t,n;for(t=0;t<e.length;t++){if(n=e[t],n!==null&&typeof n=="object")return!1;n!==void 0&&(r[t]=n)}return!0}df.extendFlat=function(){return vf(arguments,!1,!1,!1)};df.extendDeep=function(){return vf(arguments,!0,!1,!1)};df.extendDeepAll=function(){return vf(arguments,!0,!0,!1)};df.extendDeepNoArrays=function(){return vf(arguments,!0,!1,!0)};function vf(e,r,t,n){var a=e[0],o=e.length,i,l,u,s,f,h,p;if(o===2&&hf(a)&&hf(e[1])&&a.length===0){if(p=iU(e[1],a),p)return a;a.splice(0,a.length)}for(var b=1;b<o;b++){i=e[b];for(l in i)u=a[l],s=i[l],n&&hf(s)?a[l]=s:r&&s&&(Wb(s)||(f=hf(s)))?(f?(f=!1,h=u&&hf(u)?u:[]):h=u&&Wb(u)?u:{},a[l]=vf([h,s],r,t,n)):(typeof s!="undefined"||t)&&(a[l]=s)}return a}});var kn=de((Tfe,Xb)=>{"use strict";Xb.exports=function(e){var r=e.variantValues,t=e.editType,n=e.colorEditType;n===void 0&&(n=t);var a={editType:t,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};e.noNumericWeightValues&&(a.valType="enumerated",a.values=a.extras,a.extras=void 0,a.min=void 0,a.max=void 0);var o={family:{valType:"string",noBlank:!0,strict:!0,editType:t},size:{valType:"number",min:1,editType:t},color:{valType:"color",editType:n},weight:a,style:{editType:t,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:e.noFontVariant?void 0:{editType:t,valType:"enumerated",values:r||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:e.noFontTextcase?void 0:{editType:t,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:e.noFontLineposition?void 0:{editType:t,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:e.noFontShadow?void 0:{editType:t,valType:"string",dflt:e.autoShadowDflt?"auto":"none"},editType:t};return e.autoSize&&(o.size.dflt="auto"),e.autoColor&&(o.color.dflt="auto"),e.arrayOk&&(o.family.arrayOk=!0,o.weight.arrayOk=!0,o.style.arrayOk=!0,e.noFontVariant||(o.variant.arrayOk=!0),e.noFontTextcase||(o.textcase.arrayOk=!0),e.noFontLineposition||(o.lineposition.arrayOk=!0),e.noFontShadow||(o.shadow.arrayOk=!0),o.size.arrayOk=!0,o.color.arrayOk=!0),o}});var pf=de((Afe,Zb)=>{"use strict";Zb.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}});var Ll=de((kfe,Qb)=>{"use strict";var Jb=pf(),Kb=kn(),bp=Kb({editType:"none"});bp.family.dflt=Jb.HOVERFONT;bp.size.dflt=Jb.HOVERFONTSIZE;Qb.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:bp,grouptitlefont:Kb({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},showarrow:{valType:"boolean",dflt:!0,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}});var U0=de((Sfe,$b)=>{"use strict";var oU=kn(),gf=Ll().hoverlabel,yf=Tt().extendFlat;$b.exports={hoverlabel:{bgcolor:yf({},gf.bgcolor,{arrayOk:!0}),bordercolor:yf({},gf.bordercolor,{arrayOk:!0}),font:oU({arrayOk:!0,editType:"none"}),align:yf({},gf.align,{arrayOk:!0}),namelength:yf({},gf.namelength,{arrayOk:!0}),showarrow:yf({},gf.showarrow),editType:"none"}}});var Sn=de((Cfe,jb)=>{"use strict";var lU=kn(),sU=U0();jb.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:lU({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:sU.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},uirevision:{valType:"any",editType:"none"}}});var Dl=de((Efe,t4)=>{"use strict";var uU=Sa(),H0={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},e4=H0.RdBu;function fU(e,r){if(r||(r=e4),!e)return r;function t(){try{e=H0[e]||JSON.parse(e)}catch(n){e=r}}return typeof e=="string"&&(t(),typeof e=="string"&&t()),r4(e)?e:r}function r4(e){var r=0;if(!Array.isArray(e)||e.length<2||!e[0]||!e[e.length-1]||+e[0][0]!=0||+e[e.length-1][0]!=1)return!1;for(var t=0;t<e.length;t++){var n=e[t];if(n.length!==2||+n[0]<r||!uU(n[1]).isValid())return!1;r=+n[0]}return!0}function cU(e){return H0[e]!==void 0?!0:r4(e)}t4.exports={scales:H0,defaultScale:e4,get:fU,isValid:cU}});var Si=de(Rl=>{"use strict";Rl.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];Rl.defaultLine="#444";Rl.lightLine="#eee";Rl.background="#fff";Rl.borderLine="#BEC8D9";Rl.lightFraction=100*10/11});var Xr=de((Dfe,n4)=>{"use strict";var ta=Sa(),hU=nt(),vU=ra().isTypedArray,an=n4.exports={},V0=Si();an.defaults=V0.defaults;var dU=an.defaultLine=V0.defaultLine;an.lightLine=V0.lightLine;var wp=an.background=V0.background;an.tinyRGB=function(e){var r=e.toRgb();return"rgb("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+")"};an.rgb=function(e){return an.tinyRGB(ta(e))};an.opacity=function(e){return e?ta(e).getAlpha():0};an.addOpacity=function(e,r){var t=ta(e).toRgb();return"rgba("+Math.round(t.r)+", "+Math.round(t.g)+", "+Math.round(t.b)+", "+r+")"};an.combine=function(e,r){var t=ta(e).toRgb();if(t.a===1)return ta(e).toRgbString();var n=ta(r||wp).toRgb(),a=n.a===1?n:{r:255*(1-n.a)+n.r*n.a,g:255*(1-n.a)+n.g*n.a,b:255*(1-n.a)+n.b*n.a},o={r:a.r*(1-t.a)+t.r*t.a,g:a.g*(1-t.a)+t.g*t.a,b:a.b*(1-t.a)+t.b*t.a};return ta(o).toRgbString()};an.interpolate=function(e,r,t){var n=ta(e).toRgb(),a=ta(r).toRgb(),o={r:t*n.r+(1-t)*a.r,g:t*n.g+(1-t)*a.g,b:t*n.b+(1-t)*a.b};return ta(o).toRgbString()};an.contrast=function(e,r,t){var n=ta(e);n.getAlpha()!==1&&(n=ta(an.combine(e,wp)));var a=n.isDark()?r?n.lighten(r):wp:t?n.darken(t):dU;return a.toString()};an.stroke=function(e,r){var t=ta(r);e.style({stroke:an.tinyRGB(t),"stroke-opacity":t.getAlpha()})};an.fill=function(e,r){var t=ta(r);e.style({fill:an.tinyRGB(t),"fill-opacity":t.getAlpha()})};an.clean=function(e){if(!(!e||typeof e!="object")){var r=Object.keys(e),t,n,a,o;for(t=0;t<r.length;t++)if(a=r[t],o=e[a],a.slice(-5)==="color")if(Array.isArray(o))for(n=0;n<o.length;n++)o[n]=_p(o[n]);else e[a]=_p(o);else if(a.slice(-10)==="colorscale"&&Array.isArray(o))for(n=0;n<o.length;n++)Array.isArray(o[n])&&(o[n][1]=_p(o[n][1]));else if(Array.isArray(o)){var i=o[0];if(!Array.isArray(i)&&i&&typeof i=="object")for(n=0;n<o.length;n++)an.clean(o[n])}else o&&typeof o=="object"&&!vU(o)&&an.clean(o)}};function _p(e){if(hU(e)||typeof e!="string")return e;var r=e.trim();if(r.slice(0,3)!=="rgb")return e;var t=r.match(/^rgba?\s*\(([^()]*)\)$/);if(!t)return e;var n=t[1].trim().split(/\s*[\s,]\s*/),a=r.charAt(3)==="a"&&n.length===4;if(!a&&n.length!==3)return e;for(var o=0;o<n.length;o++){if(!n[o].length||(n[o]=Number(n[o]),!(n[o]>=0)))return e;if(o===3)n[o]>1&&(n[o]=1);else if(n[o]>=1)return e}var i=Math.round(n[0]*255)+", "+Math.round(n[1]*255)+", "+Math.round(n[2]*255);return a?"rgba("+i+", "+n[3]+")":"rgb("+i+")"}});var G0=de((Rfe,a4)=>{"use strict";a4.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}});var Os=de(i4=>{"use strict";i4.counter=function(e,r,t,n){var a=(r||"")+(t?"":"$"),o=n===!1?"":"^";return e==="xy"?new RegExp(o+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+a):new RegExp(o+e+"([2-9]|[1-9][0-9]+)?"+a)}});var u4=de(na=>{"use strict";var Mp=nt(),o4=Sa(),l4=Tt().extendFlat,pU=Sn(),gU=Dl(),yU=Xr(),mU=G0().DESELECTDIM,Bs=z0(),s4=Os().counter,xU=qs().modHalf,$a=ra().isArrayOrTypedArray,Lo=ra().isTypedArraySpec,Do=ra().decodeTypedArraySpec;na.valObjectMeta={data_array:{coerceFunction:function(e,r,t){r.set($a(e)?e:Lo(e)?Do(e):t)}},enumerated:{coerceFunction:function(e,r,t,n){n.coerceNumber&&(e=+e),n.values.indexOf(e)===-1?r.set(t):r.set(e)},validateFunction:function(e,r){r.coerceNumber&&(e=+e);for(var t=r.values,n=0;n<t.length;n++){var a=String(t[n]);if(a.charAt(0)==="/"&&a.charAt(a.length-1)==="/"){var o=new RegExp(a.slice(1,-1));if(o.test(e))return!0}else if(e===t[n])return!0}return!1}},boolean:{coerceFunction:function(e,r,t,n){let a=o=>o===!0||o===!1;a(e)||n.arrayOk&&Array.isArray(e)&&e.length>0&&e.every(a)?r.set(e):r.set(t)}},number:{coerceFunction:function(e,r,t,n){Lo(e)&&(e=Do(e)),!Mp(e)||n.min!==void 0&&e<n.min||n.max!==void 0&&e>n.max?r.set(t):r.set(+e)}},integer:{coerceFunction:function(e,r,t,n){if((n.extras||[]).indexOf(e)!==-1){r.set(e);return}Lo(e)&&(e=Do(e)),e%1||!Mp(e)||n.min!==void 0&&e<n.min||n.max!==void 0&&e>n.max?r.set(t):r.set(+e)}},string:{coerceFunction:function(e,r,t,n){if(typeof e!="string"){var a=typeof e=="number";n.strict===!0||!a?r.set(t):r.set(String(e))}else n.noBlank&&!e?r.set(t):r.set(e)}},color:{coerceFunction:function(e,r,t){Lo(e)&&(e=Do(e)),o4(e).isValid()?r.set(e):r.set(t)}},colorlist:{coerceFunction:function(e,r,t){function n(a){return o4(a).isValid()}!Array.isArray(e)||!e.length?r.set(t):e.every(n)?r.set(e):r.set(t)}},colorscale:{coerceFunction:function(e,r,t){r.set(gU.get(e,t))}},angle:{coerceFunction:function(e,r,t){Lo(e)&&(e=Do(e)),e==="auto"?r.set("auto"):Mp(e)?r.set(xU(+e,360)):r.set(t)}},subplotid:{coerceFunction:function(e,r,t,n){var a=n.regex||s4(t);let o=i=>typeof i=="string"&&a.test(i);o(e)||n.arrayOk&&$a(e)&&e.length>0&&e.every(o)?r.set(e):r.set(t)},validateFunction:function(e,r){var t=r.dflt;return e===t?!0:typeof e!="string"?!1:!!s4(t).test(e)}},flaglist:{coerceFunction:function(e,r,t,n){if((n.extras||[]).indexOf(e)!==-1){r.set(e);return}if(typeof e!="string"){r.set(t);return}for(var a=e.split("+"),o=0;o<a.length;){var i=a[o];n.flags.indexOf(i)===-1||a.indexOf(i)<o?a.splice(o,1):o++}a.length?r.set(a.join("+")):r.set(t)}},any:{coerceFunction:function(e,r,t){e===void 0?r.set(t):r.set(Lo(e)?Do(e):e)}},info_array:{coerceFunction:function(e,r,t,n){function a(k,S,x){var M,d={set:function(_){M=_}};return x===void 0&&(x=S.dflt),na.valObjectMeta[S.valType].coerceFunction(k,d,x,S),M}if(Lo(e)&&(e=Do(e)),!$a(e)){r.set(t);return}var o=n.dimensions===2||n.dimensions==="1-2"&&Array.isArray(e)&&$a(e[0]),i=n.items,l=[],u=Array.isArray(i),s=u&&o&&$a(i[0]),f=o&&u&&!s,h=u&&!f?i.length:e.length,p,b,y,w,T,m;if(t=Array.isArray(t)?t:[],o)for(p=0;p<h;p++)for(l[p]=[],y=$a(e[p])?e[p]:[],f?T=i.length:u?T=i[p].length:T=y.length,b=0;b<T;b++)f?w=i[b]:u?w=i[p][b]:w=i,m=a(y[b],w,(t[p]||[])[b]),m!==void 0&&(l[p][b]=m);else for(p=0;p<h;p++)m=a(e[p],u?i[p]:i,t[p]),m!==void 0&&(l[p]=m);r.set(l)},validateFunction:function(e,r){if(!$a(e))return!1;var t=r.items,n=Array.isArray(t),a=r.dimensions===2;if(!r.freeLength&&e.length!==t.length)return!1;for(var o=0;o<e.length;o++)if(a){if(!$a(e[o])||!r.freeLength&&e[o].length!==t[o].length)return!1;for(var i=0;i<e[o].length;i++)if(!Y0(e[o][i],n?t[o][i]:t))return!1}else if(!Y0(e[o],n?t[o]:t))return!1;return!0}}};na.coerce=function(e,r,t,n,a){var o=Bs(t,n).get(),i=Bs(e,n),l=Bs(r,n),u=i.get(),s=r._template;if(u===void 0&&s&&(u=Bs(s,n).get(),s=0),a===void 0&&(a=o.dflt),o.arrayOk){if($a(u))return l.set(u),u;if(Lo(u))return u=Do(u),l.set(u),u}var f=na.valObjectMeta[o.valType].coerceFunction;f(u,l,a,o);var h=l.get();return s&&h===a&&!Y0(u,o)&&(u=Bs(s,n).get(),f(u,l,a,o),h=l.get()),h};na.coerce2=function(e,r,t,n,a){var o=Bs(e,n),i=na.coerce(e,r,t,n,a),l=o.get();return l!=null?i:!1};na.coerceFont=function(e,r,t,n){n||(n={}),t=l4({},t),t=l4(t,n.overrideDflt||{});var a={family:e(r+".family",t.family),size:e(r+".size",t.size),color:e(r+".color",t.color),weight:e(r+".weight",t.weight),style:e(r+".style",t.style)};if(n.noFontVariant||(a.variant=e(r+".variant",t.variant)),n.noFontLineposition||(a.lineposition=e(r+".lineposition",t.lineposition)),n.noFontTextcase||(a.textcase=e(r+".textcase",t.textcase)),!n.noFontShadow){var o=t.shadow;o==="none"&&n.autoShadowDflt&&(o="auto"),a.shadow=e(r+".shadow",o)}return a};na.coercePattern=function(e,r,t,n){var a=e(r+".shape"),o;if(a||(o=e(r+".path")),a||o){a&&e(r+".solidity"),e(r+".size");var i=e(r+".fillmode"),l=i==="overlay";if(!n){var u=e(r+".bgcolor",l?t:void 0);e(r+".fgcolor",l?yU.contrast(u):t)}e(r+".fgopacity",l?.5:1)}};na.coerceHoverinfo=function(e,r,t){var n=r._module.attributes,a=n.hoverinfo?n:pU,o=a.hoverinfo,i;if(t._dataLength===1){var l=o.dflt==="all"?o.flags.slice():o.dflt.split("+");l.splice(l.indexOf("name"),1),i=l.join("+")}return na.coerce(e,r,a,"hoverinfo",i)};na.coerceSelectionMarkerOpacity=function(e,r){if(e.marker){var t=e.marker.opacity;if(t!==void 0){var n,a;!$a(t)&&!e.selected&&!e.unselected&&(n=t,a=mU*t),r("selected.marker.opacity",n),r("unselected.marker.opacity",a)}}};function Y0(e,r){var t=na.valObjectMeta[r.valType];if(r.arrayOk&&$a(e))return!0;if(t.validateFunction)return t.validateFunction(e,r);var n={},a=n,o={set:function(i){a=i}};return t.coerceFunction(e,o,n,r),a!==n}na.validate=Y0});var Pl=de((Ffe,v4)=>{"use strict";var f4={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox","map"],extras:[!0,!1],dflt:"gl3d+geo+map"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/un/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},c4={};function h4(e,r){for(var t in e){var n=e[t];n.valType?r[t]=n.dflt:(r[t]||(r[t]={}),h4(n,r[t]))}}h4(f4,c4);v4.exports={configAttributes:f4,dfltConfig:c4}});var Ap=de((Nfe,d4)=>{"use strict";var Tp=it(),bU=nt(),mf=[];d4.exports=function(e,r){if(mf.indexOf(e)!==-1)return;mf.push(e);var t=1e3;bU(r)?t=r:r==="long"&&(t=3e3);var n=Tp.select("body").selectAll(".plotly-notifier").data([0]);n.enter().append("div").classed("plotly-notifier",!0);var a=n.selectAll(".notifier-note").data(mf);function o(i){i.duration(700).style("opacity",0).each("end",function(l){var u=mf.indexOf(l);u!==-1&&mf.splice(u,1),Tp.select(this).remove()})}a.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(i){var l=Tp.select(this);l.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){l.transition().call(o)});for(var u=l.append("p"),s=i.split(/<br\s*\/?>/g),f=0;f<s.length;f++)f&&u.append("br"),u.append("span").text(s[f]);r==="stick"?l.transition().duration(350).style("opacity",1):l.transition().duration(700).style("opacity",1).transition().delay(t).call(o)})}});var Il=de((zfe,p4)=>{"use strict";var Us=Pl().dfltConfig,kp=Ap(),Sp=p4.exports={};Sp.log=function(){var e;if(Us.logging>1){var r=["LOG:"];for(e=0;e<arguments.length;e++)r.push(arguments[e]);console.trace.apply(console,r)}if(Us.notifyOnLogging>1){var t=[];for(e=0;e<arguments.length;e++)t.push(arguments[e]);kp(t.join("<br>"),"long")}};Sp.warn=function(){var e;if(Us.logging>0){var r=["WARN:"];for(e=0;e<arguments.length;e++)r.push(arguments[e]);console.trace.apply(console,r)}if(Us.notifyOnLogging>0){var t=[];for(e=0;e<arguments.length;e++)t.push(arguments[e]);kp(t.join("<br>"),"stick")}};Sp.error=function(){var e;if(Us.logging>0){var r=["ERROR:"];for(e=0;e<arguments.length;e++)r.push(arguments[e]);console.error.apply(console,r)}if(Us.notifyOnLogging>0){var t=[];for(e=0;e<arguments.length;e++)t.push(arguments[e]);kp(t.join("<br>"),"stick")}}});var W0=de((qfe,g4)=>{"use strict";g4.exports=function(){}});var Cp=de((Ofe,y4)=>{"use strict";y4.exports=function(r,t){if(t instanceof RegExp){for(var n=t.toString(),a=0;a<r.length;a++)if(r[a]instanceof RegExp&&r[a].toString()===n)return r;r.push(t)}else(t||t===0)&&r.indexOf(t)===-1&&r.push(t);return r}});var x4=de((Bfe,m4)=>{m4.exports=_U;function _U(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var _4=de((Ufe,b4)=>{b4.exports=wU;function wU(e){var r=new Float32Array(16);return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}});var M4=de((Hfe,w4)=>{w4.exports=MU;function MU(e,r){return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}});var Ep=de((Vfe,T4)=>{T4.exports=TU;function TU(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var k4=de((Gfe,A4)=>{A4.exports=AU;function AU(e,r){if(e===r){var t=r[1],n=r[2],a=r[3],o=r[6],i=r[7],l=r[11];e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=t,e[6]=r[9],e[7]=r[13],e[8]=n,e[9]=o,e[11]=r[14],e[12]=a,e[13]=i,e[14]=l}else e[0]=r[0],e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=r[1],e[5]=r[5],e[6]=r[9],e[7]=r[13],e[8]=r[2],e[9]=r[6],e[10]=r[10],e[11]=r[14],e[12]=r[3],e[13]=r[7],e[14]=r[11],e[15]=r[15];return e}});var C4=de((Yfe,S4)=>{S4.exports=kU;function kU(e,r){var t=r[0],n=r[1],a=r[2],o=r[3],i=r[4],l=r[5],u=r[6],s=r[7],f=r[8],h=r[9],p=r[10],b=r[11],y=r[12],w=r[13],T=r[14],m=r[15],k=t*l-n*i,S=t*u-a*i,x=t*s-o*i,M=n*u-a*l,d=n*s-o*l,_=a*s-o*u,g=f*w-h*y,c=f*T-p*y,A=f*m-b*y,v=h*T-p*w,D=h*m-b*w,E=p*m-b*T,R=k*E-S*D+x*v+M*A-d*c+_*g;return R?(R=1/R,e[0]=(l*E-u*D+s*v)*R,e[1]=(a*D-n*E-o*v)*R,e[2]=(w*_-T*d+m*M)*R,e[3]=(p*d-h*_-b*M)*R,e[4]=(u*A-i*E-s*c)*R,e[5]=(t*E-a*A+o*c)*R,e[6]=(T*x-y*_-m*S)*R,e[7]=(f*_-p*x+b*S)*R,e[8]=(i*D-l*A+s*g)*R,e[9]=(n*A-t*D-o*g)*R,e[10]=(y*d-w*x+m*k)*R,e[11]=(h*x-f*d-b*k)*R,e[12]=(l*c-i*v-u*g)*R,e[13]=(t*v-n*c+a*g)*R,e[14]=(w*S-y*M-T*k)*R,e[15]=(f*M-h*S+p*k)*R,e):null}});var L4=de((Wfe,E4)=>{E4.exports=SU;function SU(e,r){var t=r[0],n=r[1],a=r[2],o=r[3],i=r[4],l=r[5],u=r[6],s=r[7],f=r[8],h=r[9],p=r[10],b=r[11],y=r[12],w=r[13],T=r[14],m=r[15];return e[0]=l*(p*m-b*T)-h*(u*m-s*T)+w*(u*b-s*p),e[1]=-(n*(p*m-b*T)-h*(a*m-o*T)+w*(a*b-o*p)),e[2]=n*(u*m-s*T)-l*(a*m-o*T)+w*(a*s-o*u),e[3]=-(n*(u*b-s*p)-l*(a*b-o*p)+h*(a*s-o*u)),e[4]=-(i*(p*m-b*T)-f*(u*m-s*T)+y*(u*b-s*p)),e[5]=t*(p*m-b*T)-f*(a*m-o*T)+y*(a*b-o*p),e[6]=-(t*(u*m-s*T)-i*(a*m-o*T)+y*(a*s-o*u)),e[7]=t*(u*b-s*p)-i*(a*b-o*p)+f*(a*s-o*u),e[8]=i*(h*m-b*w)-f*(l*m-s*w)+y*(l*b-s*h),e[9]=-(t*(h*m-b*w)-f*(n*m-o*w)+y*(n*b-o*h)),e[10]=t*(l*m-s*w)-i*(n*m-o*w)+y*(n*s-o*l),e[11]=-(t*(l*b-s*h)-i*(n*b-o*h)+f*(n*s-o*l)),e[12]=-(i*(h*T-p*w)-f*(l*T-u*w)+y*(l*p-u*h)),e[13]=t*(h*T-p*w)-f*(n*T-a*w)+y*(n*p-a*h),e[14]=-(t*(l*T-u*w)-i*(n*T-a*w)+y*(n*u-a*l)),e[15]=t*(l*p-u*h)-i*(n*p-a*h)+f*(n*u-a*l),e}});var R4=de((Xfe,D4)=>{D4.exports=CU;function CU(e){var r=e[0],t=e[1],n=e[2],a=e[3],o=e[4],i=e[5],l=e[6],u=e[7],s=e[8],f=e[9],h=e[10],p=e[11],b=e[12],y=e[13],w=e[14],T=e[15],m=r*i-t*o,k=r*l-n*o,S=r*u-a*o,x=t*l-n*i,M=t*u-a*i,d=n*u-a*l,_=s*y-f*b,g=s*w-h*b,c=s*T-p*b,A=f*w-h*y,v=f*T-p*y,D=h*T-p*w;return m*D-k*v+S*A+x*c-M*g+d*_}});var I4=de((Zfe,P4)=>{P4.exports=EU;function EU(e,r,t){var n=r[0],a=r[1],o=r[2],i=r[3],l=r[4],u=r[5],s=r[6],f=r[7],h=r[8],p=r[9],b=r[10],y=r[11],w=r[12],T=r[13],m=r[14],k=r[15],S=t[0],x=t[1],M=t[2],d=t[3];return e[0]=S*n+x*l+M*h+d*w,e[1]=S*a+x*u+M*p+d*T,e[2]=S*o+x*s+M*b+d*m,e[3]=S*i+x*f+M*y+d*k,S=t[4],x=t[5],M=t[6],d=t[7],e[4]=S*n+x*l+M*h+d*w,e[5]=S*a+x*u+M*p+d*T,e[6]=S*o+x*s+M*b+d*m,e[7]=S*i+x*f+M*y+d*k,S=t[8],x=t[9],M=t[10],d=t[11],e[8]=S*n+x*l+M*h+d*w,e[9]=S*a+x*u+M*p+d*T,e[10]=S*o+x*s+M*b+d*m,e[11]=S*i+x*f+M*y+d*k,S=t[12],x=t[13],M=t[14],d=t[15],e[12]=S*n+x*l+M*h+d*w,e[13]=S*a+x*u+M*p+d*T,e[14]=S*o+x*s+M*b+d*m,e[15]=S*i+x*f+M*y+d*k,e}});var N4=de((Jfe,F4)=>{F4.exports=LU;function LU(e,r,t){var n=t[0],a=t[1],o=t[2],i,l,u,s,f,h,p,b,y,w,T,m;return r===e?(e[12]=r[0]*n+r[4]*a+r[8]*o+r[12],e[13]=r[1]*n+r[5]*a+r[9]*o+r[13],e[14]=r[2]*n+r[6]*a+r[10]*o+r[14],e[15]=r[3]*n+r[7]*a+r[11]*o+r[15]):(i=r[0],l=r[1],u=r[2],s=r[3],f=r[4],h=r[5],p=r[6],b=r[7],y=r[8],w=r[9],T=r[10],m=r[11],e[0]=i,e[1]=l,e[2]=u,e[3]=s,e[4]=f,e[5]=h,e[6]=p,e[7]=b,e[8]=y,e[9]=w,e[10]=T,e[11]=m,e[12]=i*n+f*a+y*o+r[12],e[13]=l*n+h*a+w*o+r[13],e[14]=u*n+p*a+T*o+r[14],e[15]=s*n+b*a+m*o+r[15]),e}});var q4=de((Kfe,z4)=>{z4.exports=DU;function DU(e,r,t){var n=t[0],a=t[1],o=t[2];return e[0]=r[0]*n,e[1]=r[1]*n,e[2]=r[2]*n,e[3]=r[3]*n,e[4]=r[4]*a,e[5]=r[5]*a,e[6]=r[6]*a,e[7]=r[7]*a,e[8]=r[8]*o,e[9]=r[9]*o,e[10]=r[10]*o,e[11]=r[11]*o,e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}});var B4=de((Qfe,O4)=>{O4.exports=RU;function RU(e,r,t,n){var a=n[0],o=n[1],i=n[2],l=Math.sqrt(a*a+o*o+i*i),u,s,f,h,p,b,y,w,T,m,k,S,x,M,d,_,g,c,A,v,D,E,R,N;return Math.abs(l)<1e-6?null:(l=1/l,a*=l,o*=l,i*=l,u=Math.sin(t),s=Math.cos(t),f=1-s,h=r[0],p=r[1],b=r[2],y=r[3],w=r[4],T=r[5],m=r[6],k=r[7],S=r[8],x=r[9],M=r[10],d=r[11],_=a*a*f+s,g=o*a*f+i*u,c=i*a*f-o*u,A=a*o*f-i*u,v=o*o*f+s,D=i*o*f+a*u,E=a*i*f+o*u,R=o*i*f-a*u,N=i*i*f+s,e[0]=h*_+w*g+S*c,e[1]=p*_+T*g+x*c,e[2]=b*_+m*g+M*c,e[3]=y*_+k*g+d*c,e[4]=h*A+w*v+S*D,e[5]=p*A+T*v+x*D,e[6]=b*A+m*v+M*D,e[7]=y*A+k*v+d*D,e[8]=h*E+w*R+S*N,e[9]=p*E+T*R+x*N,e[10]=b*E+m*R+M*N,e[11]=y*E+k*R+d*N,r!==e&&(e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e)}});var H4=de(($fe,U4)=>{U4.exports=PU;function PU(e,r,t){var n=Math.sin(t),a=Math.cos(t),o=r[4],i=r[5],l=r[6],u=r[7],s=r[8],f=r[9],h=r[10],p=r[11];return r!==e&&(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[4]=o*a+s*n,e[5]=i*a+f*n,e[6]=l*a+h*n,e[7]=u*a+p*n,e[8]=s*a-o*n,e[9]=f*a-i*n,e[10]=h*a-l*n,e[11]=p*a-u*n,e}});var G4=de((jfe,V4)=>{V4.exports=IU;function IU(e,r,t){var n=Math.sin(t),a=Math.cos(t),o=r[0],i=r[1],l=r[2],u=r[3],s=r[8],f=r[9],h=r[10],p=r[11];return r!==e&&(e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=o*a-s*n,e[1]=i*a-f*n,e[2]=l*a-h*n,e[3]=u*a-p*n,e[8]=o*n+s*a,e[9]=i*n+f*a,e[10]=l*n+h*a,e[11]=u*n+p*a,e}});var W4=de((ece,Y4)=>{Y4.exports=FU;function FU(e,r,t){var n=Math.sin(t),a=Math.cos(t),o=r[0],i=r[1],l=r[2],u=r[3],s=r[4],f=r[5],h=r[6],p=r[7];return r!==e&&(e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=o*a+s*n,e[1]=i*a+f*n,e[2]=l*a+h*n,e[3]=u*a+p*n,e[4]=s*a-o*n,e[5]=f*a-i*n,e[6]=h*a-l*n,e[7]=p*a-u*n,e}});var Z4=de((rce,X4)=>{X4.exports=NU;function NU(e,r,t){var n,a,o,i=t[0],l=t[1],u=t[2],s=Math.sqrt(i*i+l*l+u*u);return Math.abs(s)<1e-6?null:(s=1/s,i*=s,l*=s,u*=s,n=Math.sin(r),a=Math.cos(r),o=1-a,e[0]=i*i*o+a,e[1]=l*i*o+u*n,e[2]=u*i*o-l*n,e[3]=0,e[4]=i*l*o-u*n,e[5]=l*l*o+a,e[6]=u*l*o+i*n,e[7]=0,e[8]=i*u*o+l*n,e[9]=l*u*o-i*n,e[10]=u*u*o+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}});var K4=de((tce,J4)=>{J4.exports=zU;function zU(e,r,t){var n=r[0],a=r[1],o=r[2],i=r[3],l=n+n,u=a+a,s=o+o,f=n*l,h=n*u,p=n*s,b=a*u,y=a*s,w=o*s,T=i*l,m=i*u,k=i*s;return e[0]=1-(b+w),e[1]=h+k,e[2]=p-m,e[3]=0,e[4]=h-k,e[5]=1-(f+w),e[6]=y+T,e[7]=0,e[8]=p+m,e[9]=y-T,e[10]=1-(f+b),e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}});var $4=de((nce,Q4)=>{Q4.exports=qU;function qU(e,r){return e[0]=r[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=r[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var e_=de((ace,j4)=>{j4.exports=OU;function OU(e,r){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}});var t_=de((ice,r_)=>{r_.exports=BU;function BU(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=t,e[7]=0,e[8]=0,e[9]=-t,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var a_=de((oce,n_)=>{n_.exports=UU;function UU(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=n,e[1]=0,e[2]=-t,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=t,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var o_=de((lce,i_)=>{i_.exports=HU;function HU(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=n,e[1]=t,e[2]=0,e[3]=0,e[4]=-t,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var s_=de((sce,l_)=>{l_.exports=VU;function VU(e,r){var t=r[0],n=r[1],a=r[2],o=r[3],i=t+t,l=n+n,u=a+a,s=t*i,f=n*i,h=n*l,p=a*i,b=a*l,y=a*u,w=o*i,T=o*l,m=o*u;return e[0]=1-h-y,e[1]=f+m,e[2]=p-T,e[3]=0,e[4]=f-m,e[5]=1-s-y,e[6]=b+w,e[7]=0,e[8]=p+T,e[9]=b-w,e[10]=1-s-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var f_=de((uce,u_)=>{u_.exports=GU;function GU(e,r,t,n,a,o,i){var l=1/(t-r),u=1/(a-n),s=1/(o-i);return e[0]=o*2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o*2*u,e[6]=0,e[7]=0,e[8]=(t+r)*l,e[9]=(a+n)*u,e[10]=(i+o)*s,e[11]=-1,e[12]=0,e[13]=0,e[14]=i*o*2*s,e[15]=0,e}});var h_=de((fce,c_)=>{c_.exports=YU;function YU(e,r,t,n,a){var o=1/Math.tan(r/2),i=1/(n-a);return e[0]=o/t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(a+n)*i,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*a*n*i,e[15]=0,e}});var d_=de((cce,v_)=>{v_.exports=WU;function WU(e,r,t,n){var a=Math.tan(r.upDegrees*Math.PI/180),o=Math.tan(r.downDegrees*Math.PI/180),i=Math.tan(r.leftDegrees*Math.PI/180),l=Math.tan(r.rightDegrees*Math.PI/180),u=2/(i+l),s=2/(a+o);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=-((i-l)*u*.5),e[9]=(a-o)*s*.5,e[10]=n/(t-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*t/(t-n),e[15]=0,e}});var g_=de((hce,p_)=>{p_.exports=XU;function XU(e,r,t,n,a,o,i){var l=1/(r-t),u=1/(n-a),s=1/(o-i);return e[0]=-2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*s,e[11]=0,e[12]=(r+t)*l,e[13]=(a+n)*u,e[14]=(i+o)*s,e[15]=1,e}});var m_=de((vce,y_)=>{var ZU=Ep();y_.exports=JU;function JU(e,r,t,n){var a,o,i,l,u,s,f,h,p,b,y=r[0],w=r[1],T=r[2],m=n[0],k=n[1],S=n[2],x=t[0],M=t[1],d=t[2];return Math.abs(y-x)<1e-6&&Math.abs(w-M)<1e-6&&Math.abs(T-d)<1e-6?ZU(e):(f=y-x,h=w-M,p=T-d,b=1/Math.sqrt(f*f+h*h+p*p),f*=b,h*=b,p*=b,a=k*p-S*h,o=S*f-m*p,i=m*h-k*f,b=Math.sqrt(a*a+o*o+i*i),b?(b=1/b,a*=b,o*=b,i*=b):(a=0,o=0,i=0),l=h*i-p*o,u=p*a-f*i,s=f*o-h*a,b=Math.sqrt(l*l+u*u+s*s),b?(b=1/b,l*=b,u*=b,s*=b):(l=0,u=0,s=0),e[0]=a,e[1]=l,e[2]=f,e[3]=0,e[4]=o,e[5]=u,e[6]=h,e[7]=0,e[8]=i,e[9]=s,e[10]=p,e[11]=0,e[12]=-(a*y+o*w+i*T),e[13]=-(l*y+u*w+s*T),e[14]=-(f*y+h*w+p*T),e[15]=1,e)}});var b_=de((dce,x_)=>{x_.exports=KU;function KU(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}});var Lp=de((pce,__)=>{__.exports={create:x4(),clone:_4(),copy:M4(),identity:Ep(),transpose:k4(),invert:C4(),adjoint:L4(),determinant:R4(),multiply:I4(),translate:N4(),scale:q4(),rotate:B4(),rotateX:H4(),rotateY:G4(),rotateZ:W4(),fromRotation:Z4(),fromRotationTranslation:K4(),fromScaling:$4(),fromTranslation:e_(),fromXRotation:t_(),fromYRotation:a_(),fromZRotation:o_(),fromQuat:s_(),frustum:f_(),perspective:h_(),perspectiveFromFieldOfView:d_(),ortho:g_(),lookAt:m_(),str:b_()}});var X0=de(Ut=>{"use strict";var QU=Lp();Ut.init2dArray=function(e,r){for(var t=new Array(e),n=0;n<e;n++)t[n]=new Array(r);return t};Ut.transposeRagged=function(e){var r=0,t=e.length,n,a;for(n=0;n<t;n++)r=Math.max(r,e[n].length);var o=new Array(r);for(n=0;n<r;n++)for(o[n]=new Array(t),a=0;a<t;a++)o[n][a]=e[a][n];return o};Ut.dot=function(e,r){if(!(e.length&&r.length)||e.length!==r.length)return null;var t=e.length,n,a;if(e[0].length)for(n=new Array(t),a=0;a<t;a++)n[a]=Ut.dot(e[a],r);else if(r[0].length){var o=Ut.transposeRagged(r);for(n=new Array(o.length),a=0;a<o.length;a++)n[a]=Ut.dot(e,o[a])}else for(n=0,a=0;a<t;a++)n+=e[a]*r[a];return n};Ut.translationMatrix=function(e,r){return[[1,0,e],[0,1,r],[0,0,1]]};Ut.rotationMatrix=function(e){var r=e*Math.PI/180;return[[Math.cos(r),-Math.sin(r),0],[Math.sin(r),Math.cos(r),0],[0,0,1]]};Ut.rotationXYMatrix=function(e,r,t){return Ut.dot(Ut.dot(Ut.translationMatrix(r,t),Ut.rotationMatrix(e)),Ut.translationMatrix(-r,-t))};Ut.apply3DTransform=function(e){return function(){var r=arguments,t=arguments.length===1?r[0]:[r[0],r[1],r[2]||0];return Ut.dot(e,[t[0],t[1],t[2],1]).slice(0,3)}};Ut.apply2DTransform=function(e){return function(){var r=arguments;r.length===3&&(r=r[0]);var t=arguments.length===1?r[0]:[r[0],r[1]];return Ut.dot(e,[t[0],t[1],1]).slice(0,2)}};Ut.apply2DTransform2=function(e){var r=Ut.apply2DTransform(e);return function(t){return r(t.slice(0,2)).concat(r(t.slice(2,4)))}};Ut.convertCssMatrix=function(e){if(e){var r=e.length;if(r===16)return e;if(r===6)return[e[0],e[1],0,0,e[2],e[3],0,0,0,0,1,0,e[4],e[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};Ut.inverseTransformMatrix=function(e){var r=[];return QU.invert(r,e),[[r[0],r[1],r[2],r[3]],[r[4],r[5],r[6],r[7]],[r[8],r[9],r[10],r[11]],[r[12],r[13],r[14],r[15]]]}});var xf=de((yce,S_)=>{"use strict";var $U=it(),w_=Il(),jU=X0(),eH=Lp();function rH(e){var r;if(typeof e=="string"){if(r=document.getElementById(e),r===null)throw new Error("No DOM element with id '"+e+"' exists on the page.");return r}else if(e==null)throw new Error("DOM element provided is null or undefined");return e}function tH(e){var r=$U.select(e);return r.node()instanceof HTMLElement&&r.size()&&r.classed("js-plotly-plot")}function M_(e){var r=e&&e.parentNode;r&&r.removeChild(e)}function nH(e,r){T_("global",e,r)}function T_(e,r,t){var n="plotly.js-style-"+e,a=document.getElementById(n);if(!(a&&a.matches(".no-inline-styles"))){a||(a=document.createElement("style"),a.setAttribute("id",n),a.appendChild(document.createTextNode("")),document.head.appendChild(a));var o=a.sheet;o?o.insertRule?o.insertRule(r+"{"+t+"}",0):o.addRule?o.addRule(r,t,0):w_.warn("addStyleRule failed"):w_.warn("Cannot addRelatedStyleRule, probably due to strict CSP...")}}function aH(e){var r="plotly.js-style-"+e,t=document.getElementById(r);t&&M_(t)}function iH(e,r,t,n,a,o){var i=n.split(":"),l=a.split(":"),u="data-btn-style-event-added";o||(o=document),o.querySelectorAll(e).forEach(function(s){s.getAttribute(u)||(s.addEventListener("mouseenter",function(){var f=this.querySelector(t);f&&(f.style[i[0]]=i[1])}),s.addEventListener("mouseleave",function(){var f=this.querySelector(t);f&&(r&&this.matches(r)?f.style[i[0]]=i[1]:f.style[l[0]]=l[1])}),s.setAttribute(u,!0))})}function oH(e){var r=k_(e),t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return r.forEach(function(n){var a=A_(n);if(a){var o=jU.convertCssMatrix(a);t=eH.multiply(t,t,o)}}),t}function A_(e){var r=window.getComputedStyle(e,null),t=r.getPropertyValue("-webkit-transform")||r.getPropertyValue("-moz-transform")||r.getPropertyValue("-ms-transform")||r.getPropertyValue("-o-transform")||r.getPropertyValue("transform");return t==="none"?null:t.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(n){return+n})}function k_(e){for(var r=[];lH(e);)r.push(e),e=e.parentNode,typeof ShadowRoot=="function"&&e instanceof ShadowRoot&&(e=e.host);return r}function lH(e){return e&&(e instanceof Element||e instanceof HTMLElement)}function sH(e,r){return e&&r&&e.top===r.top&&e.left===r.left&&e.right===r.right&&e.bottom===r.bottom}S_.exports={getGraphDiv:rH,isPlotDiv:tH,removeElement:M_,addStyleRule:nH,addRelatedStyleRule:T_,deleteRelatedStyleRule:aH,setStyleOnHover:iH,getFullTransformMatrix:oH,getElementTransformMatrix:A_,getElementAndAncestors:k_,equalDomRects:sH}});var bf=de((mce,C_)=>{"use strict";C_.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}});var qn=de((xce,F_)=>{"use strict";var L_=Tt().extendFlat,uH=Eo(),D_={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},R_={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},fH=D_.flags.slice().concat(["fullReplot"]),cH=R_.flags.slice().concat("layoutReplot");F_.exports={traces:D_,layout:R_,traceFlags:function(){return E_(fH)},layoutFlags:function(){return E_(cH)},update:function(e,r){var t=r.editType;if(t&&t!=="none")for(var n=t.split("+"),a=0;a<n.length;a++)e[n[a]]=!0},overrideAll:P_};function E_(e){for(var r={},t=0;t<e.length;t++)r[e[t]]=!1;return r}function P_(e,r,t){var n=L_({},e);for(var a in n){var o=n[a];uH(o)&&(n[a]=I_(o,r,t,a))}return t==="from-root"&&(n.editType=r),n}function I_(e,r,t,n){if(e.valType){var a=L_({},e);if(a.editType=r,Array.isArray(e.items)){a.items=new Array(e.items.length);for(var o=0;o<e.items.length;o++)a.items[o]=I_(e.items[o],r,"from-root")}return a}else return P_(e,r,n.charAt(0)==="_"?"nested":"from-root")}});var Ro=de(Dp=>{"use strict";Dp.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"};Dp.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},path:{valType:"string",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}});var Rp=de((_ce,N_)=>{"use strict";N_.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}});var ja=de(Hs=>{"use strict";var{DATE_FORMAT_LINK:hH,FORMAT_LINK:vH}=Rp(),dH=["Variables that can't be found will be replaced with the specifier.",'For example, a template of "data: %{x}, %{y}" will result in a value of "data: 1, %{y}" if x is 1 and y is missing.',"Variables with an undefined value will be replaced with the fallback value."].join(" ");function pH({supportOther:e}={}){return["Variables are inserted using %{variable},",'for example "y: %{y}"'+(e?" as well as %{xother}, {%_xother}, {%_xother_}, {%xother_}. When showing info for several points, *xother* will be added to those with different x positions from the first point. An underscore before or after *(x|y)other* will add a space on that side, only when this field is shown.":"."),`Numbers are formatted using d3-format's syntax %{variable:d3-format}, for example "Price: %{y:$.2f}".`,vH,"for details on the formatting syntax.",`Dates are formatted using d3-time-format's syntax %{variable|d3-time-format}, for example "Day: %{2019-01-01|%A}".`,hH,"for details on the date formatting syntax.",dH].join(" ")}Hs.templateFormatStringDescription=pH;Hs.hovertemplateAttrs=({editType:e="none",arrayOk:r}={},t={})=>Cl({valType:"string",dflt:"",editType:e},r!==!1?{arrayOk:!0}:{});Hs.texttemplateAttrs=({editType:e="calc",arrayOk:r}={},t={})=>Cl({valType:"string",dflt:"",editType:e},r!==!1?{arrayOk:!0}:{});Hs.shapeTexttemplateAttrs=({editType:e="arraydraw",newshape:r}={},t={})=>({valType:"string",dflt:"",editType:e});Hs.templatefallbackAttrs=({editType:e="none"}={})=>({valType:"any",dflt:"-",editType:e})});var K0=de((Tce,H_)=>{"use strict";function Po(e,r){return r?r.d2l(e):e}function z_(e,r){return r?r.l2d(e):e}function gH(e){return e.x0}function yH(e){return e.x1}function mH(e){return e.y0}function xH(e){return e.y1}function q_(e){return e.x0shift||0}function O_(e){return e.x1shift||0}function B_(e){return e.y0shift||0}function U_(e){return e.y1shift||0}function Z0(e,r){return Po(e.x1,r)+O_(e)-Po(e.x0,r)-q_(e)}function J0(e,r,t){return Po(e.y1,t)+U_(e)-Po(e.y0,t)-B_(e)}function bH(e,r){return Math.abs(Z0(e,r))}function _H(e,r,t){return Math.abs(J0(e,r,t))}function wH(e,r,t){return e.type!=="line"?void 0:Math.sqrt(Math.pow(Z0(e,r),2)+Math.pow(J0(e,r,t),2))}function MH(e,r){return z_((Po(e.x1,r)+O_(e)+Po(e.x0,r)+q_(e))/2,r)}function TH(e,r,t){return z_((Po(e.y1,t)+U_(e)+Po(e.y0,t)+B_(e))/2,t)}function AH(e,r,t){return e.type!=="line"?void 0:J0(e,r,t)/Z0(e,r)}var kH=["x0","x1","y0","y1","dy","height","ycenter"],SH=["x0","x1","y0","y1","dx","width","xcenter"];H_.exports={x0:gH,x1:yH,y0:mH,y1:xH,slope:AH,dx:Z0,dy:J0,width:bH,height:_H,length:wH,xcenter:MH,ycenter:TH,simpleXVariables:kH,simpleYVariables:SH}});var Y_=de((Ace,G_)=>{"use strict";var CH=qn().overrideAll,Fl=Sn(),V_=kn(),EH=Ro().dash,Io=Tt().extendFlat,{shapeTexttemplateAttrs:LH,templatefallbackAttrs:DH}=ja(),RH=K0();G_.exports=CH({newshape:{visible:Io({},Fl.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:Io({},Fl.legend,{}),legendgroup:Io({},Fl.legendgroup,{}),legendgrouptitle:{text:Io({},Fl.legendgrouptitle.text,{}),font:V_({})},legendrank:Io({},Fl.legendrank,{}),legendwidth:Io({},Fl.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:Io({},EH,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:Io({},Fl.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:LH({newshape:!0},{keys:Object.keys(RH)}),texttemplatefallback:DH({editType:"arraydraw"}),font:V_({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",description:"Sets the color filling the active shape' interior."},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")});var X_=de((kce,W_)=>{"use strict";var PH=Ro().dash,IH=Tt().extendFlat;W_.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:IH({},PH,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}});var Q0=de((Sce,Z_)=>{"use strict";Z_.exports=function(e){var r=e.editType;return{t:{valType:"number",dflt:0,editType:r},r:{valType:"number",dflt:0,editType:r},b:{valType:"number",dflt:0,editType:r},l:{valType:"number",dflt:0,editType:r},editType:r}}});var Vs=de((Cce,$_)=>{"use strict";var Pp=kn(),FH=bf(),$0=Si(),J_=Y_(),K_=X_(),NH=Q0(),Q_=Tt().extendFlat,j0=Pp({editType:"calc"});j0.family.dflt='"Open Sans", verdana, arial, sans-serif';j0.size.dflt=12;j0.color.dflt=$0.defaultLine;$_.exports={font:j0,title:{text:{valType:"string",editType:"layoutstyle"},font:Pp({editType:"layoutstyle"}),subtitle:{text:{valType:"string",editType:"layoutstyle"},font:Pp({editType:"layoutstyle"}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:Q_(NH({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:$0.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:$0.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:$0.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:J_.newshape,activeshape:J_.activeshape,newselection:K_.newselection,activeselection:K_.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:Q_({},FH.transition,{editType:"none"})}});var j_=de(()=>{(function(){if(!document.getElementById("a75c73da1cd7a97e8992659f6aed556255838daadea9ca0c9fc3af7f1ddf63c0")){var e=document.createElement("style");e.id="a75c73da1cd7a97e8992659f6aed556255838daadea9ca0c9fc3af7f1ddf63c0",e.textContent=`.maplibregl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgb(0 0 0/0)}.maplibregl-canvas{left:0;position:absolute;top:0}.maplibregl-map:fullscreen{height:100%;width:100%}.maplibregl-ctrl-group button.maplibregl-ctrl-compass{touch-action:none}.maplibregl-canvas-container.maplibregl-interactive,.maplibregl-ctrl-group button.maplibregl-ctrl-compass{cursor:grab;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-canvas-container.maplibregl-interactive.maplibregl-track-pointer{cursor:pointer}.maplibregl-canvas-container.maplibregl-interactive:active,.maplibregl-ctrl-group button.maplibregl-ctrl-compass:active{cursor:grabbing}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-canvas-container.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:pinch-zoom}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:none}.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures,.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-ctrl-bottom-left,.maplibregl-ctrl-bottom-right,.maplibregl-ctrl-top-left,.maplibregl-ctrl-top-right{pointer-events:none;position:absolute;z-index:2}.maplibregl-ctrl-top-left{left:0;top:0}.maplibregl-ctrl-top-right{right:0;top:0}.maplibregl-ctrl-bottom-left{bottom:0;left:0}.maplibregl-ctrl-bottom-right{bottom:0;right:0}.maplibregl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.maplibregl-ctrl-top-left .maplibregl-ctrl{float:left;margin:10px 0 0 10px}.maplibregl-ctrl-top-right .maplibregl-ctrl{float:right;margin:10px 10px 0 0}.maplibregl-ctrl-bottom-left .maplibregl-ctrl{float:left;margin:0 0 10px 10px}.maplibregl-ctrl-bottom-right .maplibregl-ctrl{float:right;margin:0 10px 10px 0}.maplibregl-ctrl-group{background:#fff;border-radius:4px}.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (forced-colors:active){.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.maplibregl-ctrl-group button{background-color:transparent;border:0;box-sizing:border-box;cursor:pointer;display:block;height:29px;outline:none;padding:0;width:29px}.maplibregl-ctrl-group button+button{border-top:1px solid #ddd}.maplibregl-ctrl button .maplibregl-ctrl-icon{background-position:50%;background-repeat:no-repeat;display:block;height:100%;width:100%}@media (forced-colors:active){.maplibregl-ctrl-icon{background-color:transparent}.maplibregl-ctrl-group button+button{border-top:1px solid ButtonText}}.maplibregl-ctrl button::-moz-focus-inner{border:0;padding:0}.maplibregl-ctrl-attrib-button:focus,.maplibregl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl button:disabled{cursor:not-allowed}.maplibregl-ctrl button:disabled .maplibregl-ctrl-icon{opacity:.25}.maplibregl-ctrl button:not(:disabled):hover{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.maplibregl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.maplibregl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.maplibregl-ctrl-group button:focus:only-child{border-radius:inherit}.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-terrain .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%23333' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-terrain-enabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%2333b5e5' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23aaa' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-waiting .maplibregl-ctrl-icon{animation:maplibregl-spin 2s linear infinite}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23999' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23666' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}}@keyframes maplibregl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E");background-repeat:no-repeat;cursor:pointer;display:block;height:23px;margin:0 0 -4px -4px;overflow:hidden;width:88px}a.maplibregl-ctrl-logo.maplibregl-compact{width:14px}@media (forced-colors:active){a.maplibregl-ctrl-logo{background-color:transparent;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")}}.maplibregl-ctrl.maplibregl-ctrl-attrib{background-color:hsla(0,0%,100%,.5);margin:0;padding:0 5px}@media screen{.maplibregl-ctrl-attrib.maplibregl-compact{background-color:#fff;border-radius:12px;box-sizing:content-box;color:#000;margin:10px;min-height:20px;padding:2px 24px 2px 0;position:relative}.maplibregl-ctrl-attrib.maplibregl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact-show,.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact-show{border-radius:12px;padding:2px 8px 2px 28px}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-inner{display:none}.maplibregl-ctrl-attrib-button{background-color:hsla(0,0%,100%,.5);background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E");border:0;border-radius:12px;box-sizing:border-box;cursor:pointer;display:none;height:24px;outline:none;position:absolute;right:0;top:0;width:24px}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;list-style:none}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button::-webkit-details-marker{display:none}.maplibregl-ctrl-bottom-left .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-top-left .maplibregl-ctrl-attrib-button{left:0}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-inner{display:block}.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-button{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-bottom-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;right:0}.maplibregl-ctrl-top-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{right:0;top:0}.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{left:0;top:0}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;left:0}}@media screen and (forced-colors:active){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}@media screen and (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}.maplibregl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.maplibregl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.maplibregl-attrib-empty{display:none}.maplibregl-ctrl-scale{background-color:hsla(0,0%,100%,.75);border:2px solid #333;border-top:#333;box-sizing:border-box;color:#333;font-size:10px;padding:0 5px}.maplibregl-popup{display:flex;left:0;pointer-events:none;position:absolute;top:0;will-change:transform}.maplibregl-popup-anchor-top,.maplibregl-popup-anchor-top-left,.maplibregl-popup-anchor-top-right{flex-direction:column}.maplibregl-popup-anchor-bottom,.maplibregl-popup-anchor-bottom-left,.maplibregl-popup-anchor-bottom-right{flex-direction:column-reverse}.maplibregl-popup-anchor-left{flex-direction:row}.maplibregl-popup-anchor-right{flex-direction:row-reverse}.maplibregl-popup-tip{border:10px solid transparent;height:0;width:0;z-index:1}.maplibregl-popup-anchor-top .maplibregl-popup-tip{align-self:center;border-bottom-color:#fff;border-top:none}.maplibregl-popup-anchor-top-left .maplibregl-popup-tip{align-self:flex-start;border-bottom-color:#fff;border-left:none;border-top:none}.maplibregl-popup-anchor-top-right .maplibregl-popup-tip{align-self:flex-end;border-bottom-color:#fff;border-right:none;border-top:none}.maplibregl-popup-anchor-bottom .maplibregl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.maplibregl-popup-anchor-left .maplibregl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.maplibregl-popup-anchor-right .maplibregl-popup-tip{align-self:center;border-left-color:#fff;border-right:none}.maplibregl-popup-close-button{background-color:transparent;border:0;border-radius:0 3px 0 0;cursor:pointer;position:absolute;right:0;top:0}.maplibregl-popup-close-button:hover{background-color:rgb(0 0 0/5%)}.maplibregl-popup-content{background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:15px 10px;pointer-events:auto;position:relative}.maplibregl-popup-anchor-top-left .maplibregl-popup-content{border-top-left-radius:0}.maplibregl-popup-anchor-top-right .maplibregl-popup-content{border-top-right-radius:0}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-content{border-bottom-left-radius:0}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-content{border-bottom-right-radius:0}.maplibregl-popup-track-pointer{display:none}.maplibregl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-map:hover .maplibregl-popup-track-pointer{display:flex}.maplibregl-map:active .maplibregl-popup-track-pointer{display:none}.maplibregl-marker{left:0;position:absolute;top:0;transition:opacity .2s;will-change:transform}.maplibregl-user-location-dot,.maplibregl-user-location-dot:before{background-color:#1da1f2;border-radius:50%;height:15px;width:15px}.maplibregl-user-location-dot:before{animation:maplibregl-user-location-dot-pulse 2s infinite;content:"";position:absolute}.maplibregl-user-location-dot:after{border:2px solid #fff;border-radius:50%;box-shadow:0 0 3px rgba(0,0,0,.35);box-sizing:border-box;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px}@keyframes maplibregl-user-location-dot-pulse{0%{opacity:1;transform:scale(1)}70%{opacity:0;transform:scale(3)}to{opacity:0;transform:scale(1)}}.maplibregl-user-location-dot-stale{background-color:#aaa}.maplibregl-user-location-dot-stale:after{display:none}.maplibregl-user-location-accuracy-circle{background-color:#1da1f233;border-radius:100%;height:1px;width:1px}.maplibregl-crosshair,.maplibregl-crosshair .maplibregl-interactive,.maplibregl-crosshair .maplibregl-interactive:active{cursor:crosshair}.maplibregl-boxzoom{background:#fff;border:2px dotted #202020;height:0;left:0;opacity:.5;position:absolute;top:0;width:0}.maplibregl-cooperative-gesture-screen{align-items:center;background:rgba(0,0,0,.4);color:#fff;display:flex;font-size:1.4em;inset:0;justify-content:center;line-height:1.2;opacity:0;padding:1rem;pointer-events:none;position:absolute;transition:opacity 1s ease 1s;z-index:99999}.maplibregl-cooperative-gesture-screen.maplibregl-show{opacity:1;transition:opacity .05s}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:none}@media (hover:none),(width <= 480px){.maplibregl-cooperative-gesture-screen .maplibregl-desktop-message{display:none}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:block}}.maplibregl-pseudo-fullscreen{height:100%!important;left:0!important;position:fixed!important;top:0!important;width:100%!important;z-index:99999}`,document.head.appendChild(e)}})()});var Er=de(Zr=>{"use strict";var Gs=Il(),e6=W0(),r6=Cp(),zH=Eo(),qH=xf().addStyleRule,t6=Tt(),OH=Sn(),BH=Vs(),UH=t6.extendFlat,Ip=t6.extendDeepAll;Zr.modules={};Zr.allCategories={};Zr.allTypes=[];Zr.subplotsRegistry={};Zr.componentsRegistry={};Zr.layoutArrayContainers=[];Zr.layoutArrayRegexes=[];Zr.traceLayoutAttributes={};Zr.localeRegistry={};Zr.apiMethodRegistry={};Zr.collectableSubplotTypes=null;Zr.register=function(r){if(Zr.collectableSubplotTypes=null,r)r&&!Array.isArray(r)&&(r=[r]);else throw new Error("No argument passed to Plotly.register.");for(var t=0;t<r.length;t++){var n=r[t];if(!n)throw new Error("Invalid module was attempted to be registered!");switch(n.moduleType){case"trace":HH(n);break;case"transform":YH(n);break;case"component":GH(n);break;case"locale":WH(n);break;case"apiMethod":var a=n.name;Zr.apiMethodRegistry[a]=n.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}};Zr.getModule=function(e){var r=Zr.modules[o6(e)];return r?r._module:!1};Zr.traceIs=function(e,r){if(e=o6(e),e==="various")return!1;var t=Zr.modules[e];return t||(e&&Gs.log("Unrecognized trace type "+e+"."),t=Zr.modules[OH.type.dflt]),!!t.categories[r]};Zr.getComponentMethod=function(e,r){var t=Zr.componentsRegistry[e];return t&&t[r]||e6};Zr.call=function(){var e=arguments[0],r=[].slice.call(arguments,1);return Zr.apiMethodRegistry[e].apply(null,r)};function HH(e){var r=e.name,t=e.categories,n=e.meta;if(Zr.modules[r]){Gs.log("Type "+r+" already registered");return}Zr.subplotsRegistry[e.basePlotModule.name]||VH(e.basePlotModule);for(var a={},o=0;o<t.length;o++)a[t[o]]=!0,Zr.allCategories[t[o]]=!0;Zr.modules[r]={_module:e,categories:a},n&&Object.keys(n).length&&(Zr.modules[r].meta=n),Zr.allTypes.push(r);for(var i in Zr.componentsRegistry)a6(i,r);e.layoutAttributes&&UH(Zr.traceLayoutAttributes,e.layoutAttributes);var l=e.basePlotModule,u=l.name;if(u==="mapbox"){var s=l.constants.styleRules;for(var f in s)qH(".js-plotly-plot .plotly .mapboxgl-"+f,s[f])}u==="map"&&j_(),(u==="geo"||u==="mapbox"||u==="map")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function VH(e){var r=e.name;if(Zr.subplotsRegistry[r]){Gs.log("Plot type "+r+" already registered.");return}n6(e),Zr.subplotsRegistry[r]=e;for(var t in Zr.componentsRegistry)i6(t,e.name)}function GH(e){if(typeof e.name!="string")throw new Error("Component module *name* must be a string.");var r=e.name;Zr.componentsRegistry[r]=e,e.layoutAttributes&&(e.layoutAttributes._isLinkedToArray&&r6(Zr.layoutArrayContainers,r),n6(e));for(var t in Zr.modules)a6(r,t);for(var n in Zr.subplotsRegistry)i6(r,n);e.schema&&e.schema.layout&&Ip(BH,e.schema.layout)}function YH(e){if(typeof e.name!="string")throw new Error("Transform module *name* must be a string.");var r="Transform module "+e.name,t=typeof e.transform=="function",n=typeof e.calcTransform=="function";if(!t&&!n)throw new Error(r+" is missing a *transform* or *calcTransform* method.");t&&n&&Gs.log([r+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),zH(e.attributes)||Gs.log(r+" registered without an *attributes* object."),typeof e.supplyDefaults!="function"&&Gs.log(r+" registered without a *supplyDefaults* method.")}function WH(e){var r=e.name,t=r.split("-")[0],n=e.dictionary,a=e.format,o=n&&Object.keys(n).length,i=a&&Object.keys(a).length,l=Zr.localeRegistry,u=l[r];if(u||(l[r]=u={}),t!==r){var s=l[t];s||(l[t]=s={}),o&&s.dictionary===u.dictionary&&(s.dictionary=n),i&&s.format===u.format&&(s.format=a)}o&&(u.dictionary=n),i&&(u.format=a)}function n6(e){if(e.layoutAttributes){var r=e.layoutAttributes._arrayAttrRegexps;if(r)for(var t=0;t<r.length;t++)r6(Zr.layoutArrayRegexes,r[t])}}function a6(e,r){var t=Zr.componentsRegistry[e].schema;if(!(!t||!t.traces)){var n=t.traces[r];n&&Ip(Zr.modules[r]._module.attributes,n)}}function i6(e,r){var t=Zr.componentsRegistry[e].schema;if(!(!t||!t.subplots)){var n=Zr.subplotsRegistry[r],a=n.layoutAttributes,o=n.attr==="subplot"?n.name:n.attr;Array.isArray(o)&&(o=o[0]);var i=t.subplots[o];a&&i&&Ip(a,i)}}function o6(e){return typeof e=="object"&&(e=e.type),e}});var p6=de(Ht=>{"use strict";var XH=Ns().timeFormat,v6=nt(),Fp=Il(),No=qs().mod,Xs=nn(),Ca=Xs.BADNUM,aa=Xs.ONEDAY,_f=Xs.ONEHOUR,Fo=Xs.ONEMIN,Ws=Xs.ONESEC,wf=Xs.EPOCHJD,eo=Er(),l6=Ns().utcFormat,ZH=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,JH=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,s6=new Date().getFullYear()-70;function ro(e){return e&&eo.componentsRegistry.calendars&&typeof e=="string"&&e!=="gregorian"}Ht.dateTick0=function(e,r){var t=KH(e,!!r);if(r<2)return t;var n=Ht.dateTime2ms(t,e);return n+=aa*(r-1),Ht.ms2DateTime(n,0,e)};function KH(e,r){return ro(e)?r?eo.getComponentMethod("calendars","CANONICAL_SUNDAY")[e]:eo.getComponentMethod("calendars","CANONICAL_TICK")[e]:r?"2000-01-02":"2000-01-01"}Ht.dfltRange=function(e){return ro(e)?eo.getComponentMethod("calendars","DFLTRANGE")[e]:["2000-01-01","2001-01-01"]};Ht.isJSDate=function(e){return typeof e=="object"&&e!==null&&typeof e.getTime=="function"};var rh,th;Ht.dateTime2ms=function(e,r){if(Ht.isJSDate(e)){var t=e.getTimezoneOffset()*Fo,n=(e.getUTCMinutes()-e.getMinutes())*Fo+(e.getUTCSeconds()-e.getSeconds())*Ws+(e.getUTCMilliseconds()-e.getMilliseconds());if(n){var a=3*Fo;t=t-a/2+No(n-t+a/2,a)}return e=Number(e)-t,e>=rh&&e<=th?e:Ca}if(typeof e!="string"&&typeof e!="number")return Ca;e=String(e);var o=ro(r),i=e.charAt(0);o&&(i==="G"||i==="g")&&(e=e.slice(1),r="");var l=o&&r.slice(0,7)==="chinese",u=e.match(l?JH:ZH);if(!u)return Ca;var s=u[1],f=u[3]||"1",h=Number(u[5]||1),p=Number(u[7]||0),b=Number(u[9]||0),y=Number(u[11]||0);if(o){if(s.length===2)return Ca;s=Number(s);var w;try{var T=eo.getComponentMethod("calendars","getCal")(r);if(l){var m=f.charAt(f.length-1)==="i";f=parseInt(f,10),w=T.newDate(s,T.toMonthIndex(s,f,m),h)}else w=T.newDate(s,Number(f),h)}catch(S){return Ca}return w?(w.toJD()-wf)*aa+p*_f+b*Fo+y*Ws:Ca}s.length===2?s=(Number(s)+2e3-s6)%100+s6:s=Number(s),f-=1;var k=new Date(Date.UTC(2e3,f,h,p,b));return k.setUTCFullYear(s),k.getUTCMonth()!==f||k.getUTCDate()!==h?Ca:k.getTime()+y*Ws};rh=Ht.MIN_MS=Ht.dateTime2ms("-9999");th=Ht.MAX_MS=Ht.dateTime2ms("9999-12-31 23:59:59.9999");Ht.isDateTime=function(e,r){return Ht.dateTime2ms(e,r)!==Ca};function Ys(e,r){return String(e+Math.pow(10,r)).slice(1)}var eh=90*aa,u6=3*_f,f6=5*Fo;Ht.ms2DateTime=function(e,r,t){if(typeof e!="number"||!(e>=rh&&e<=th))return Ca;r||(r=0);var n=Math.floor(No(e+.05,1)*10),a=Math.round(e-n/10),o,i,l,u,s,f;if(ro(t)){var h=Math.floor(a/aa)+wf,p=Math.floor(No(e,aa));try{o=eo.getComponentMethod("calendars","getCal")(t).fromJD(h).formatDate("yyyy-mm-dd")}catch(b){o=l6("G%Y-%m-%d")(new Date(a))}if(o.charAt(0)==="-")for(;o.length<11;)o="-0"+o.slice(1);else for(;o.length<10;)o="0"+o;i=r<eh?Math.floor(p/_f):0,l=r<eh?Math.floor(p%_f/Fo):0,u=r<u6?Math.floor(p%Fo/Ws):0,s=r<f6?p%Ws*10+n:0}else f=new Date(a),o=l6("%Y-%m-%d")(f),i=r<eh?f.getUTCHours():0,l=r<eh?f.getUTCMinutes():0,u=r<u6?f.getUTCSeconds():0,s=r<f6?f.getUTCMilliseconds()*10+n:0;return d6(o,i,l,u,s)};Ht.ms2DateTimeLocal=function(e){if(!(e>=rh+aa&&e<=th-aa))return Ca;var r=Math.floor(No(e+.05,1)*10),t=new Date(Math.round(e-r/10)),n=XH("%Y-%m-%d")(t),a=t.getHours(),o=t.getMinutes(),i=t.getSeconds(),l=t.getUTCMilliseconds()*10+r;return d6(n,a,o,i,l)};function d6(e,r,t,n,a){if((r||t||n||a)&&(e+=" "+Ys(r,2)+":"+Ys(t,2),(n||a)&&(e+=":"+Ys(n,2),a))){for(var o=4;a%10===0;)o-=1,a/=10;e+="."+Ys(a,o)}return e}Ht.cleanDate=function(e,r,t){if(e===Ca)return r;if(Ht.isJSDate(e)||typeof e=="number"&&isFinite(e)){if(ro(t))return Fp.error("JS Dates and milliseconds are incompatible with world calendars",e),r;if(e=Ht.ms2DateTimeLocal(+e),!e&&r!==void 0)return r}else if(!Ht.isDateTime(e,t))return Fp.error("unrecognized date",e),r;return e};var QH=/%\d?f/g,$H=/%h/g,jH={1:"1",2:"1",3:"2",4:"2"};function c6(e,r,t,n){e=e.replace(QH,function(o){var i=Math.min(+o.charAt(1)||6,6),l=(r/1e3%1+2).toFixed(i).slice(2).replace(/0+$/,"")||"0";return l});var a=new Date(Math.floor(r+.05));if(e=e.replace($H,function(){return jH[t("%q")(a)]}),ro(n))try{e=eo.getComponentMethod("calendars","worldCalFmt")(e,r,n)}catch(o){return"Invalid"}return t(e)(a)}var eV=[59,59.9,59.99,59.999,59.9999];function rV(e,r){var t=No(e+.05,aa),n=Ys(Math.floor(t/_f),2)+":"+Ys(No(Math.floor(t/Fo),60),2);if(r!=="M"){v6(r)||(r=0);var a=Math.min(No(e/Ws,60),eV[r]),o=(100+a).toFixed(r).slice(1);r>0&&(o=o.replace(/0+$/,"").replace(/[\.]$/,"")),n+=":"+o}return n}Ht.formatDate=function(e,r,t,n,a,o){if(a=ro(a)&&a,!r)if(t==="y")r=o.year;else if(t==="m")r=o.month;else if(t==="d")r=o.dayMonth+`
`+o.year;else return rV(e,t)+`
`+c6(o.dayMonthYear,e,n,a);return c6(r,e,n,a)};var h6=3*aa;Ht.incrementMonth=function(e,r,t){t=ro(t)&&t;var n=No(e,aa);if(e=Math.round(e-n),t)try{var a=Math.round(e/aa)+wf,o=eo.getComponentMethod("calendars","getCal")(t),i=o.fromJD(a);return r%12?o.add(i,r,"m"):o.add(i,r/12,"y"),(i.toJD()-wf)*aa+n}catch(u){Fp.error("invalid ms "+e+" in calendar "+t)}var l=new Date(e+h6);return l.setUTCMonth(l.getUTCMonth()+r)+n-h6};Ht.findExactDates=function(e,r){for(var t=0,n=0,a=0,o=0,i,l,u=ro(r)&&eo.getComponentMethod("calendars","getCal")(r),s=0;s<e.length;s++){if(l=e[s],!v6(l)){o++;continue}if(!(l%aa))if(u)try{i=u.fromJD(l/aa+wf),i.day()===1?i.month()===1?t++:n++:a++}catch(h){}else i=new Date(l),i.getUTCDate()===1?i.getUTCMonth()===0?t++:n++:a++}n+=t,a+=n;var f=e.length-o;return{exactYears:t/f,exactMonths:n/f,exactDays:a/f}}});var Np=de((Pce,g6)=>{"use strict";g6.exports=function(r){return r}});var qp=de(to=>{"use strict";var tV=nt(),nV=Il(),aV=Np(),iV=nn().BADNUM,zp=1e-9;to.findBin=function(e,r,t){if(tV(r.start))return t?Math.ceil((e-r.start)/r.size-zp)-1:Math.floor((e-r.start)/r.size+zp);var n=0,a=r.length,o=0,i=a>1?(r[a-1]-r[0])/(a-1):1,l,u;for(i>=0?u=t?oV:lV:u=t?uV:sV,e+=i*zp*(t?-1:1)*(i>=0?1:-1);n<a&&o++<100;)l=Math.floor((n+a)/2),u(r[l],e)?n=l+1:a=l;return o>90&&nV.log("Long binary search..."),n-1};function oV(e,r){return e<r}function lV(e,r){return e<=r}function sV(e,r){return e>r}function uV(e,r){return e>=r}to.sorterAsc=function(e,r){return e-r};to.sorterDes=function(e,r){return r-e};to.distinctVals=function(e){var r=e.slice();r.sort(to.sorterAsc);var t;for(t=r.length-1;t>-1&&r[t]===iV;t--);for(var n=r[t]-r[0]||1,a=n/(t||1)/1e4,o=[],i,l=0;l<=t;l++){var u=r[l],s=u-i;i===void 0?(o.push(u),i=u):s>a&&(n=Math.min(n,s),o.push(u),i=u)}return{vals:o,minDiff:n}};to.roundUp=function(e,r,t){for(var n=0,a=r.length-1,o,i=0,l=t?0:1,u=t?1:0,s=t?Math.ceil:Math.floor;n<a&&i++<100;)o=s((n+a)/2),r[o]<=e?n=o+l:a=o-u;return r[n]};to.sort=function(e,r){for(var t=0,n=0,a=1;a<e.length;a++){var o=r(e[a],e[a-1]);if(o<0?t=1:o>0&&(n=1),t&&n)return e.sort(r)}return n?e:e.reverse()};to.findIndexOfMin=function(e,r){r=r||aV;for(var t=1/0,n,a=0;a<e.length;a++){var o=r(e[a]);o<t&&(t=o,n=a)}return n}});var nh=de((Fce,y6)=>{"use strict";y6.exports=function(r){return Object.keys(r).sort()}});var m6=de(Vt=>{"use strict";var Mf=nt(),fV=ra().isArrayOrTypedArray;Vt.aggNums=function(e,r,t,n){var a,o;if((!n||n>t.length)&&(n=t.length),Mf(r)||(r=!1),fV(t[0])){for(o=new Array(n),a=0;a<n;a++)o[a]=Vt.aggNums(e,r,t[a]);t=o}for(a=0;a<n;a++)Mf(r)?Mf(t[a])&&(r=e(+r,+t[a])):r=t[a];return r};Vt.len=function(e){return Vt.aggNums(function(r){return r+1},0,e)};Vt.mean=function(e,r){return r||(r=Vt.len(e)),Vt.aggNums(function(t,n){return t+n},0,e)/r};Vt.geometricMean=function(e,r){return r||(r=Vt.len(e)),Math.pow(Vt.aggNums(function(t,n){return t*n},1,e),1/r)};Vt.midRange=function(e){if(!(e===void 0||e.length===0))return(Vt.aggNums(Math.max,null,e)+Vt.aggNums(Math.min,null,e))/2};Vt.variance=function(e,r,t){return r||(r=Vt.len(e)),Mf(t)||(t=Vt.mean(e,r)),Vt.aggNums(function(n,a){return n+Math.pow(a-t,2)},0,e)/r};Vt.stdev=function(e,r,t){return Math.sqrt(Vt.variance(e,r,t))};Vt.median=function(e){var r=e.slice().sort();return Vt.interp(r,.5)};Vt.interp=function(e,r){if(!Mf(r))throw"n should be a finite number";if(r=r*e.length-.5,r<0)return e[0];if(r>e.length-1)return e[e.length-1];var t=r%1;return t*e[Math.ceil(r)]+(1-t)*e[Math.floor(r)]}});var M6=de((zce,w6)=>{"use strict";var x6=qs(),Op=x6.mod,cV=x6.modHalf,Tf=Math.PI,zo=2*Tf;function hV(e){return e/180*Tf}function vV(e){return e/Tf*180}function Bp(e){return Math.abs(e[1]-e[0])>zo-1e-14}function b6(e,r){return cV(r-e,zo)}function dV(e,r){return Math.abs(b6(e,r))}function _6(e,r){if(Bp(r))return!0;var t,n;r[0]<r[1]?(t=r[0],n=r[1]):(t=r[1],n=r[0]),t=Op(t,zo),n=Op(n,zo),t>n&&(n+=zo);var a=Op(e,zo),o=a+zo;return a>=t&&a<=n||o>=t&&o<=n}function pV(e,r,t,n){if(!_6(r,n))return!1;var a,o;return t[0]<t[1]?(a=t[0],o=t[1]):(a=t[1],o=t[0]),e>=a&&e<=o}function Up(e,r,t,n,a,o,i){a=a||0,o=o||0;var l=Bp([t,n]),u,s,f,h,p;l?(u=0,s=Tf,f=zo):t<n?(u=t,f=n):(u=n,f=t),e<r?(h=e,p=r):(h=r,p=e);function b(m,k){return[m*Math.cos(k)+a,o-m*Math.sin(k)]}var y=Math.abs(f-u)<=Tf?0:1;function w(m,k,S){return"A"+[m,m]+" "+[0,y,S]+" "+b(m,k)}var T;return l?h===null?T="M"+b(p,u)+w(p,s,0)+w(p,f,0)+"Z":T="M"+b(h,u)+w(h,s,0)+w(h,f,0)+"ZM"+b(p,u)+w(p,s,1)+w(p,f,1)+"Z":h===null?(T="M"+b(p,u)+w(p,f,0),i&&(T+="L0,0Z")):T="M"+b(h,u)+"L"+b(p,u)+w(p,f,0)+"L"+b(h,f)+w(h,u,1)+"Z",T}function gV(e,r,t,n,a){return Up(null,e,r,t,n,a,0)}function yV(e,r,t,n,a){return Up(null,e,r,t,n,a,1)}function mV(e,r,t,n,a,o){return Up(e,r,t,n,a,o,1)}w6.exports={deg2rad:hV,rad2deg:vV,angleDelta:b6,angleDist:dV,isFullCircle:Bp,isAngleInsideSector:_6,isPtInsideSector:pV,pathArc:gV,pathSector:yV,pathAnnulus:mV}});var T6=de(Nl=>{"use strict";Nl.isLeftAnchor=function(r){return r.xanchor==="left"||r.xanchor==="auto"&&r.x<=1/3};Nl.isCenterAnchor=function(r){return r.xanchor==="center"||r.xanchor==="auto"&&r.x>1/3&&r.x<2/3};Nl.isRightAnchor=function(r){return r.xanchor==="right"||r.xanchor==="auto"&&r.x>=2/3};Nl.isTopAnchor=function(r){return r.yanchor==="top"||r.yanchor==="auto"&&r.y>=2/3};Nl.isMiddleAnchor=function(r){return r.yanchor==="middle"||r.yanchor==="auto"&&r.y>1/3&&r.y<2/3};Nl.isBottomAnchor=function(r){return r.yanchor==="bottom"||r.yanchor==="auto"&&r.y<=1/3}});var S6=de(zl=>{"use strict";var Hp=qs().mod;zl.segmentsIntersect=k6;function k6(e,r,t,n,a,o,i,l){var u=t-e,s=a-e,f=i-a,h=n-r,p=o-r,b=l-o,y=u*b-f*h;if(y===0)return null;var w=(s*b-f*p)/y,T=(s*h-u*p)/y;return T<0||T>1||w<0||w>1?null:{x:e+u*w,y:r+h*w}}zl.segmentDistance=function(r,t,n,a,o,i,l,u){if(k6(r,t,n,a,o,i,l,u))return 0;var s=n-r,f=a-t,h=l-o,p=u-i,b=s*s+f*f,y=h*h+p*p,w=Math.min(ah(s,f,b,o-r,i-t),ah(s,f,b,l-r,u-t),ah(h,p,y,r-o,t-i),ah(h,p,y,n-o,a-i));return Math.sqrt(w)};function ah(e,r,t,n,a){var o=n*e+a*r;if(o<0)return n*n+a*a;if(o>t){var i=n-e,l=a-r;return i*i+l*l}else{var u=n*r-a*e;return u*u/t}}var ih,Vp,A6;zl.getTextLocation=function(r,t,n,a){if((r!==Vp||a!==A6)&&(ih={},Vp=r,A6=a),ih[n])return ih[n];var o=r.getPointAtLength(Hp(n-a/2,t)),i=r.getPointAtLength(Hp(n+a/2,t)),l=Math.atan((i.y-o.y)/(i.x-o.x)),u=r.getPointAtLength(Hp(n,t)),s=(u.x*4+o.x+i.x)/6,f=(u.y*4+o.y+i.y)/6,h={x:s,y:f,theta:l};return ih[n]=h,h};zl.clearLocationCache=function(){Vp=null};zl.getVisibleSegment=function(r,t,n){var a=t.left,o=t.right,i=t.top,l=t.bottom,u=0,s=r.getTotalLength(),f=s,h,p;function b(w){var T=r.getPointAtLength(w);w===0?h=T:w===s&&(p=T);var m=T.x<a?a-T.x:T.x>o?T.x-o:0,k=T.y<i?i-T.y:T.y>l?T.y-l:0;return Math.sqrt(m*m+k*k)}for(var y=b(u);y;){if(u+=y+n,u>f)return;y=b(u)}for(y=b(f);y;){if(f-=y+n,u>f)return;y=b(f)}return{min:u,max:f,len:f-u,total:s,isClosed:u===0&&f===s&&Math.abs(h.x-p.x)<.1&&Math.abs(h.y-p.y)<.1}};zl.findPointOnPath=function(r,t,n,a){a=a||{};for(var o=a.pathLength||r.getTotalLength(),i=a.tolerance||.001,l=a.iterationLimit||30,u=r.getPointAtLength(0)[n]>r.getPointAtLength(o)[n]?-1:1,s=0,f=0,h=o,p,b,y;s<l;){if(p=(f+h)/2,b=r.getPointAtLength(p),y=b[n]-t,Math.abs(y)<i)return b;u*y>0?h=p:f=p,s++}return b}});var oh=de(Af=>{"use strict";var no={};Af.throttle=function(r,t,n){var a=no[r],o=Date.now();if(!a){for(var i in no)no[i].ts<o-6e4&&delete no[i];a=no[r]={ts:0,timer:null}}C6(a);function l(){n(),a.ts=Date.now(),a.onDone&&(a.onDone(),a.onDone=null)}if(o>a.ts+t){l();return}a.timer=setTimeout(function(){l(),a.timer=null},t)};Af.done=function(e){var r=no[e];return!r||!r.timer?Promise.resolve():new Promise(function(t){var n=r.onDone;r.onDone=function(){n&&n(),t(),r.onDone=null}})};Af.clear=function(e){if(e)C6(no[e]),delete no[e];else for(var r in no)Af.clear(r)};function C6(e){e&&e.timer!==null&&(clearTimeout(e.timer),e.timer=null)}});var L6=de((Uce,E6)=>{"use strict";E6.exports=function(r){r._responsiveChartHandler&&(window.removeEventListener("resize",r._responsiveChartHandler),delete r._responsiveChartHandler)}});var D6=de((Hce,lh)=>{"use strict";lh.exports=Gp;lh.exports.isMobile=Gp;lh.exports.default=Gp;var xV=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,bV=/CrOS/,_V=/android|ipad|playbook|silk/i;function Gp(e){e||(e={});let r=e.ua;if(!r&&typeof navigator!="undefined"&&(r=navigator.userAgent),r&&r.headers&&typeof r.headers["user-agent"]=="string"&&(r=r.headers["user-agent"]),typeof r!="string")return!1;let t=xV.test(r)&&!bV.test(r)||!!e.tablet&&_V.test(r);return!t&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&r.indexOf("Macintosh")!==-1&&r.indexOf("Safari")!==-1&&(t=!0),t}});var P6=de((Vce,R6)=>{"use strict";var wV=nt(),MV=D6();R6.exports=function(r){var t;if(r&&r.hasOwnProperty("userAgent")?t=r.userAgent:t=TV(),typeof t!="string")return!0;var n=MV({ua:{headers:{"user-agent":t}},tablet:!0,featureDetect:!1});if(!n)for(var a=t.split(" "),o=1;o<a.length;o++){var i=a[o];if(i.indexOf("Safari")!==-1)for(var l=o-1;l>-1;l--){var u=a[l];if(u.slice(0,8)==="Version/"){var s=u.slice(8).split(".")[0];if(wV(s)&&(s=+s),s>=13)return!0}}}return n};function TV(){var e;return typeof navigator!="undefined"&&(e=navigator.userAgent),e&&e.headers&&typeof e.headers["user-agent"]=="string"&&(e=e.headers["user-agent"]),e}});var F6=de((Gce,I6)=>{"use strict";var AV=it();I6.exports=function(r,t,n){var a=r.selectAll("g."+n.replace(/\s/g,".")).data(t,function(i){return i[0].trace.uid});a.exit().remove(),a.enter().append("g").attr("class",n),a.order();var o=r.classed("rangeplot")?"nodeRangePlot3":"node3";return a.each(function(i){i[0][o]=AV.select(this)}),a}});var z6=de((Yce,N6)=>{"use strict";var kV=Er();N6.exports=function(r,t){for(var n=r._context.locale,a=0;a<2;a++){for(var o=r._context.locales,i=0;i<2;i++){var l=(o[n]||{}).dictionary;if(l){var u=l[t];if(u)return u}o=kV.localeRegistry}var s=n.split("-")[0];if(s===n)break;n=s}return t}});var O6=de((Wce,q6)=>{"use strict";q6.exports=function(r){for(var t={},n=[],a=0,o=0;o<r.length;o++){var i=r[o];t[i]!==1&&(t[i]=1,n[a++]=i)}return n}});var U6=de((Xce,B6)=>{"use strict";B6.exports=function(r){for(var t=EV(r)?CV:SV,n=[],a=0;a<r.length;a++){var o=r[a];t(o)&&n.push(o)}return n};function SV(e){return e.visible===!0}function CV(e){var r=e[0].trace;return r.visible===!0&&r._length!==0}function EV(e){return Array.isArray(e)&&Array.isArray(e[0])&&e[0][0]&&e[0][0].trace}});var V6=de((Zce,H6)=>{"use strict";H6.exports=function(r,t){if(!t)return r;var n=1/Math.abs(t),a=n>1?(n*r+n*t)/n:r+t,o=String(a).length;if(o>16){var i=String(t).length,l=String(r).length;if(o>=l+i){var u=parseFloat(a).toPrecision(12);u.indexOf("e+")===-1&&(a=+u)}}return a}});var Y6=de((Jce,G6)=>{"use strict";var LV=nt(),DV=nn().BADNUM,RV=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;G6.exports=function(r){return typeof r=="string"&&(r=r.replace(RV,"")),LV(r)?Number(r):DV}});var ir=de((Kce,aw)=>{"use strict";var kf=it(),PV=Ns().utcFormat,IV=dp().format,Q6=nt(),$6=nn(),j6=$6.FP_SAFE,FV=-j6,W6=$6.BADNUM,Xe=aw.exports={};Xe.adjustFormat=function(r){return!r||/^\d[.]\df/.test(r)||/[.]\d%/.test(r)?r:r==="0.f"?"~f":/^\d%/.test(r)?"~%":/^\ds/.test(r)?"~s":!/^[~,.0$]/.test(r)&&/[&fps]/.test(r)?"~"+r:r};var X6={};Xe.warnBadFormat=function(e){var r=String(e);X6[r]||(X6[r]=1,Xe.warn('encountered bad format: "'+r+'"'))};Xe.noFormat=function(e){return String(e)};Xe.numberFormat=function(e){var r;try{r=IV(Xe.adjustFormat(e))}catch(t){return Xe.warnBadFormat(e),Xe.noFormat}return r};Xe.nestedProperty=z0();Xe.keyedContainer=qb();Xe.relativeAttr=Bb();Xe.isPlainObject=Eo();Xe.toLogRange=O0();Xe.relinkPrivateKeys=Gb();var qo=ra();Xe.isArrayBuffer=qo.isArrayBuffer;Xe.isTypedArray=qo.isTypedArray;Xe.isArrayOrTypedArray=qo.isArrayOrTypedArray;Xe.isArray1D=qo.isArray1D;Xe.ensureArray=qo.ensureArray;Xe.concat=qo.concat;Xe.maxRowLength=qo.maxRowLength;Xe.minRowLength=qo.minRowLength;var ew=qs();Xe.mod=ew.mod;Xe.modHalf=ew.modHalf;var Oo=u4();Xe.valObjectMeta=Oo.valObjectMeta;Xe.coerce=Oo.coerce;Xe.coerce2=Oo.coerce2;Xe.coerceFont=Oo.coerceFont;Xe.coercePattern=Oo.coercePattern;Xe.coerceHoverinfo=Oo.coerceHoverinfo;Xe.coerceSelectionMarkerOpacity=Oo.coerceSelectionMarkerOpacity;Xe.validate=Oo.validate;var va=p6();Xe.dateTime2ms=va.dateTime2ms;Xe.isDateTime=va.isDateTime;Xe.ms2DateTime=va.ms2DateTime;Xe.ms2DateTimeLocal=va.ms2DateTimeLocal;Xe.cleanDate=va.cleanDate;Xe.isJSDate=va.isJSDate;Xe.formatDate=va.formatDate;Xe.incrementMonth=va.incrementMonth;Xe.dateTick0=va.dateTick0;Xe.dfltRange=va.dfltRange;Xe.findExactDates=va.findExactDates;Xe.MIN_MS=va.MIN_MS;Xe.MAX_MS=va.MAX_MS;var ql=qp();Xe.findBin=ql.findBin;Xe.sorterAsc=ql.sorterAsc;Xe.sorterDes=ql.sorterDes;Xe.distinctVals=ql.distinctVals;Xe.roundUp=ql.roundUp;Xe.sort=ql.sort;Xe.findIndexOfMin=ql.findIndexOfMin;Xe.sortObjectKeys=nh();var ao=m6();Xe.aggNums=ao.aggNums;Xe.len=ao.len;Xe.mean=ao.mean;Xe.geometricMean=ao.geometricMean;Xe.median=ao.median;Xe.midRange=ao.midRange;Xe.variance=ao.variance;Xe.stdev=ao.stdev;Xe.interp=ao.interp;var ei=X0();Xe.init2dArray=ei.init2dArray;Xe.transposeRagged=ei.transposeRagged;Xe.dot=ei.dot;Xe.translationMatrix=ei.translationMatrix;Xe.rotationMatrix=ei.rotationMatrix;Xe.rotationXYMatrix=ei.rotationXYMatrix;Xe.apply3DTransform=ei.apply3DTransform;Xe.apply2DTransform=ei.apply2DTransform;Xe.apply2DTransform2=ei.apply2DTransform2;Xe.convertCssMatrix=ei.convertCssMatrix;Xe.inverseTransformMatrix=ei.inverseTransformMatrix;var Ci=M6();Xe.deg2rad=Ci.deg2rad;Xe.rad2deg=Ci.rad2deg;Xe.angleDelta=Ci.angleDelta;Xe.angleDist=Ci.angleDist;Xe.isFullCircle=Ci.isFullCircle;Xe.isAngleInsideSector=Ci.isAngleInsideSector;Xe.isPtInsideSector=Ci.isPtInsideSector;Xe.pathArc=Ci.pathArc;Xe.pathSector=Ci.pathSector;Xe.pathAnnulus=Ci.pathAnnulus;var Js=T6();Xe.isLeftAnchor=Js.isLeftAnchor;Xe.isCenterAnchor=Js.isCenterAnchor;Xe.isRightAnchor=Js.isRightAnchor;Xe.isTopAnchor=Js.isTopAnchor;Xe.isMiddleAnchor=Js.isMiddleAnchor;Xe.isBottomAnchor=Js.isBottomAnchor;var Ks=S6();Xe.segmentsIntersect=Ks.segmentsIntersect;Xe.segmentDistance=Ks.segmentDistance;Xe.getTextLocation=Ks.getTextLocation;Xe.clearLocationCache=Ks.clearLocationCache;Xe.getVisibleSegment=Ks.getVisibleSegment;Xe.findPointOnPath=Ks.findPointOnPath;var fh=Tt();Xe.extendFlat=fh.extendFlat;Xe.extendDeep=fh.extendDeep;Xe.extendDeepAll=fh.extendDeepAll;Xe.extendDeepNoArrays=fh.extendDeepNoArrays;var Yp=Il();Xe.log=Yp.log;Xe.warn=Yp.warn;Xe.error=Yp.error;var NV=Os();Xe.counterRegex=NV.counter;var Wp=oh();Xe.throttle=Wp.throttle;Xe.throttleDone=Wp.done;Xe.clearThrottle=Wp.clear;var ri=xf();Xe.getGraphDiv=ri.getGraphDiv;Xe.isPlotDiv=ri.isPlotDiv;Xe.removeElement=ri.removeElement;Xe.addStyleRule=ri.addStyleRule;Xe.addRelatedStyleRule=ri.addRelatedStyleRule;Xe.deleteRelatedStyleRule=ri.deleteRelatedStyleRule;Xe.setStyleOnHover=ri.setStyleOnHover;Xe.getFullTransformMatrix=ri.getFullTransformMatrix;Xe.getElementTransformMatrix=ri.getElementTransformMatrix;Xe.getElementAndAncestors=ri.getElementAndAncestors;Xe.equalDomRects=ri.equalDomRects;Xe.clearResponsive=L6();Xe.preserveDrawingBuffer=P6();Xe.makeTraceGroups=F6();Xe._=z6();Xe.notifier=Ap();Xe.filterUnique=O6();Xe.filterVisible=U6();Xe.pushUnique=Cp();Xe.increment=V6();Xe.cleanNumber=Y6();Xe.ensureNumber=function(r){return Q6(r)?(r=Number(r),r>j6||r<FV?W6:r):W6};Xe.isIndex=function(e,r){return r!==void 0&&e>=r?!1:Q6(e)&&e>=0&&e%1===0};Xe.noop=W0();Xe.identity=Np();Xe.repeat=function(e,r){for(var t=new Array(r),n=0;n<r;n++)t[n]=e;return t};Xe.swapAttrs=function(e,r,t,n){t||(t="x"),n||(n="y");for(var a=0;a<r.length;a++){var o=r[a],i=Xe.nestedProperty(e,o.replace("?",t)),l=Xe.nestedProperty(e,o.replace("?",n)),u=i.get();i.set(l.get()),l.set(u)}};Xe.raiseToTop=function(r){r.parentNode.appendChild(r)};Xe.cancelTransition=function(e){return e.transition().duration(0)};Xe.constrain=function(e,r,t){return r>t?Math.max(t,Math.min(r,e)):Math.max(r,Math.min(t,e))};Xe.bBoxIntersect=function(e,r,t){return t=t||0,e.left<=r.right+t&&r.left<=e.right+t&&e.top<=r.bottom+t&&r.top<=e.bottom+t};Xe.simpleMap=function(e,r,t,n,a){for(var o=e.length,i=new Array(o),l=0;l<o;l++)i[l]=r(e[l],t,n,a);return i};Xe.randstr=function e(r,t,n,a){if(n||(n=16),t===void 0&&(t=24),t<=0)return"0";var o=Math.log(Math.pow(2,t))/Math.log(n),i="",l,u,s;for(l=2;o===1/0;l*=2)o=Math.log(Math.pow(2,t/l))/Math.log(n)*l;var f=o-Math.floor(o);for(l=0;l<Math.floor(o);l++)s=Math.floor(Math.random()*n).toString(n),i=s+i;f&&(u=Math.pow(n,f),s=Math.floor(Math.random()*u).toString(n),i=s+i);var h=parseInt(i,n);return r&&r[i]||h!==1/0&&h>=Math.pow(2,t)?a>10?(Xe.warn("randstr failed uniqueness"),i):e(r,t,n,(a||0)+1):i};Xe.OptionControl=function(e,r){e||(e={}),r||(r="opt");var t={};return t.optionList=[],t._newoption=function(n){n[r]=e,t[n.name]=n,t.optionList.push(n)},t["_"+r]=e,t};Xe.smooth=function(e,r){if(r=Math.round(r)||0,r<2)return e;var t=e.length,n=2*t,a=2*r-1,o=new Array(a),i=new Array(t),l,u,s,f;for(l=0;l<a;l++)o[l]=(1-Math.cos(Math.PI*(l+1)/r))/(2*r);for(l=0;l<t;l++){for(f=0,u=0;u<a;u++)s=l+u+1-r,s<-t?s-=n*Math.round(s/n):s>=n&&(s-=n*Math.floor(s/n)),s<0?s=-1-s:s>=t&&(s=n-1-s),f+=e[s]*o[u];i[l]=f}return i};Xe.syncOrAsync=function(e,r,t){var n,a;function o(){return Xe.syncOrAsync(e,r,t)}for(;e.length;)if(a=e.splice(0,1)[0],n=a(r),n&&n.then)return n.then(o);return t&&t(r)};Xe.stripTrailingSlash=function(e){return e.slice(-1)==="/"?e.slice(0,-1):e};Xe.noneOrAll=function(e,r,t){if(e){var n=!1,a=!0,o,i;for(o=0;o<t.length;o++)i=e[t[o]],i!=null?n=!0:a=!1;if(n&&!a)for(o=0;o<t.length;o++)e[t[o]]=r[t[o]]}};Xe.mergeArray=function(e,r,t,n){var a=typeof n=="function";if(Xe.isArrayOrTypedArray(e))for(var o=Math.min(e.length,r.length),i=0;i<o;i++){var l=e[i];r[i][t]=a?n(l):l}};Xe.mergeArrayCastPositive=function(e,r,t){return Xe.mergeArray(e,r,t,function(n){var a=+n;return isFinite(a)&&a>0?a:0})};Xe.fillArray=function(e,r,t,n){if(n=n||Xe.identity,Xe.isArrayOrTypedArray(e))for(var a=0;a<r.length;a++)r[a][t]=n(e[a])};Xe.castOption=function(e,r,t,n){n=n||Xe.identity;var a=Xe.nestedProperty(e,t).get();return Xe.isArrayOrTypedArray(a)?Array.isArray(r)&&Xe.isArrayOrTypedArray(a[r[0]])?n(a[r[0]][r[1]]):n(a[r]):a};Xe.extractOption=function(e,r,t,n){if(t in e)return e[t];var a=Xe.nestedProperty(r,n).get();if(!Array.isArray(a))return a};function rw(e){var r={};for(var t in e)for(var n=e[t],a=0;a<n.length;a++)r[n[a]]=+t;return r}Xe.tagSelected=function(e,r,t){var n=r.selectedpoints,a=r._indexToPoints,o;a&&(o=rw(a));function i(h){return h!==void 0&&h<e.length}for(var l=0;l<n.length;l++){var u=n[l];if(Xe.isIndex(u)||Xe.isArrayOrTypedArray(u)&&Xe.isIndex(u[0])&&Xe.isIndex(u[1])){var s=o?o[u]:u,f=t?t[s]:s;i(f)&&(e[f].selected=1)}}};Xe.selIndices2selPoints=function(e){var r=e.selectedpoints,t=e._indexToPoints;if(t){for(var n=rw(t),a=[],o=0;o<r.length;o++){var i=r[o];if(Xe.isIndex(i)){var l=n[i];Xe.isIndex(l)&&a.push(l)}}return a}else return r};Xe.getTargetArray=function(e,r){var t=r.target;if(typeof t=="string"&&t){var n=Xe.nestedProperty(e,t).get();return Xe.isArrayOrTypedArray(n)?n:!1}else if(Xe.isArrayOrTypedArray(t))return t;return!1};function tw(e,r,t){var n={};typeof r!="object"&&(r={});var a=t==="pieLike"?-1:3,o=Object.keys(e),i,l,u;for(i=0;i<o.length;i++)l=o[i],u=e[l],!(l.charAt(0)==="_"||typeof u=="function")&&(l==="module"?n[l]=u:Array.isArray(u)?l==="colorscale"||a===-1?n[l]=u.slice():n[l]=u.slice(0,a):Xe.isTypedArray(u)?a===-1?n[l]=u.subarray():n[l]=u.subarray(0,a):u&&typeof u=="object"?n[l]=tw(e[l],r[l],t):n[l]=u);for(o=Object.keys(r),i=0;i<o.length;i++)l=o[i],u=r[l],(typeof u!="object"||!(l in n)||typeof n[l]!="object")&&(n[l]=u);return n}Xe.minExtend=tw;Xe.titleCase=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};Xe.containsAny=function(e,r){for(var t=0;t<r.length;t++)if(e.indexOf(r[t])!==-1)return!0;return!1};var zV=/Version\/[\d\.]+.*Safari/;Xe.isSafari=function(){return zV.test(window.navigator.userAgent)};var qV=/iPad|iPhone|iPod/;Xe.isIOS=function(){return qV.test(window.navigator.userAgent)};var OV=/Macintosh.+AppleWebKit.+Gecko\)$/;Xe.isMacWKWebView=()=>OV.test(window.navigator.userAgent);var BV=/Firefox\/(\d+)\.\d+/;Xe.getFirefoxVersion=function(){var e=BV.exec(window.navigator.userAgent);if(e&&e.length===2){var r=parseInt(e[1]);if(!isNaN(r))return r}return null};Xe.isD3Selection=function(e){return e instanceof kf.selection};Xe.ensureSingle=function(e,r,t,n){var a=e.select(r+(t?"."+t:""));if(a.size())return a;var o=e.append(r);return t&&o.classed(t,!0),n&&o.call(n),o};Xe.ensureSingleById=function(e,r,t,n){var a=e.select(r+"#"+t);if(a.size())return a;var o=e.append(r).attr("id",t);return n&&o.call(n),o};Xe.objectFromPath=function(e,r){for(var t=e.split("."),n,a=n={},o=0;o<t.length;o++){var i=t[o],l=null,u=t[o].match(/(.*)\[([0-9]+)\]/);u?(i=u[1],l=u[2],n=n[i]=[],o===t.length-1?n[l]=r:n[l]={},n=n[l]):(o===t.length-1?n[i]=r:n[i]={},n=n[i])}return a};var UV=/^([^\[\.]+)\.(.+)?/,HV=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function sh(e){return e.slice(0,2)==="__"}Xe.expandObjectPaths=function(e){var r,t,n,a,o,i,l;if(typeof e=="object"&&!Array.isArray(e)){for(t in e)if(e.hasOwnProperty(t))if(r=t.match(UV)){if(a=e[t],n=r[1],sh(n))continue;delete e[t],e[n]=Xe.extendDeepNoArrays(e[n]||{},Xe.objectFromPath(t,Xe.expandObjectPaths(a))[n])}else if(r=t.match(HV)){if(a=e[t],n=r[1],sh(n))continue;if(o=parseInt(r[2]),delete e[t],e[n]=e[n]||[],r[3]===".")l=r[4],i=e[n][o]=e[n][o]||{},Xe.extendDeepNoArrays(i,Xe.objectFromPath(l,Xe.expandObjectPaths(a)));else{if(sh(n))continue;e[n][o]=Xe.expandObjectPaths(a)}}else{if(sh(t))continue;e[t]=Xe.expandObjectPaths(e[t])}}return e};Xe.numSeparate=function(e,r,t){if(t||(t=!1),typeof r!="string"||r.length===0)throw new Error("Separator string required for formatting!");typeof e=="number"&&(e=String(e));var n=/(\d+)(\d{3})/,a=r.charAt(0),o=r.charAt(1),i=e.split("."),l=i[0],u=i.length>1?a+i[1]:"";if(o&&(i.length>1||l.length>4||t))for(;n.test(l);)l=l.replace(n,"$1"+o+"$2");return l+u};Xe.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var nw=/^\w*$/;Xe.templateString=function(e,r){var t={};return e.replace(Xe.TEMPLATE_STRING_REGEX,function(n,a){var o;return nw.test(a)?o=r[a]:(t[a]=t[a]||Xe.nestedProperty(r,a).get,o=t[a](!0)),o!==void 0?o:""})};var VV={max:10,count:0,name:"hovertemplate"};Xe.hovertemplateString=e=>Xp(C0(Cl({},e),{opts:VV}));var GV={max:10,count:0,name:"texttemplate"};Xe.texttemplateString=e=>Xp(C0(Cl({},e),{opts:GV}));var YV=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function WV(e){var r=e.match(YV);return r?{key:r[1],op:r[2],number:Number(r[3])}:{key:e,op:null,number:null}}var XV={max:10,count:0,name:"texttemplate",parseMultDiv:!0};Xe.texttemplateStringForShapes=e=>Xp(C0(Cl({},e),{opts:XV}));var Z6=/^[:|\|]/;function Xp({data:e=[],locale:r,fallback:t,labels:n={},opts:a,template:o}){return o.replace(Xe.TEMPLATE_STRING_REGEX,(i,l,u)=>{let s=["xother","yother"].includes(l),f=["_xother","_yother"].includes(l),h=["_xother_","_yother_"].includes(l),p=["xother_","yother_"].includes(l),b=s||f||p||h;(f||h)&&(l=l.substring(1)),(p||h)&&(l=l.substring(0,l.length-1));let y=null,w=null;if(a.parseMultDiv){var T=WV(l);l=T.key,y=T.op,w=T.number}let m;if(b){if(n[l]===void 0)return"";m=n[l]}else for(let M of e)if(M){if(M.hasOwnProperty(l)){m=M[l];break}if(nw.test(l)||(m=Xe.nestedProperty(M,l).get(!0)),m!==void 0)break}if(m===void 0){let{count:M,max:d,name:_}=a,g=t===!1?i:t;return M<d&&Xe.warn([`Variable '${l}' in ${_} could not be found!`,"Please verify that the template is correct.",`Using value: '${g}'.`].join(" ")),M===d&&Xe.warn(`Too many '${_}' warnings - additional warnings will be suppressed.`),a.count++,g}if(y==="*"&&(m*=w),y==="/"&&(m/=w),u){var k;if(u[0]===":"&&(k=r?r.numberFormat:Xe.numberFormat,m!==""&&(m=k(u.replace(Z6,""))(m))),u[0]==="|"){k=r?r.timeFormat:PV;var S=Xe.dateTime2ms(m);m=Xe.formatDate(S,u.replace(Z6,""),!1,k)}}else{var x=l+"Label";n.hasOwnProperty(x)&&(m=n[x])}return b&&(m="("+m+")",(f||h)&&(m=" "+m),(p||h)&&(m=m+" ")),m})}var uh=48,J6=57;Xe.subplotSort=function(e,r){for(var t=Math.min(e.length,r.length)+1,n=0,a=0,o=0;o<t;o++){var i=e.charCodeAt(o)||0,l=r.charCodeAt(o)||0,u=i>=uh&&i<=J6,s=l>=uh&&l<=J6;if(u&&(n=10*n+i-uh),s&&(a=10*a+l-uh),!u||!s){if(n!==a)return n-a;if(i!==l)return i-l}}return a-n};var Zs=2e9;Xe.seedPseudoRandom=function(){Zs=2e9};Xe.pseudoRandom=function(){var e=Zs;return Zs=(69069*Zs+1)%4294967296,Math.abs(Zs-e)<429496729?Xe.pseudoRandom():Zs/4294967296};Xe.fillText=function(e,r,t){var n=Array.isArray(t)?function(i){t.push(i)}:function(i){t.text=i},a=Xe.extractOption(e,r,"htx","hovertext");if(Xe.isValidTextValue(a))return n(a);var o=Xe.extractOption(e,r,"tx","text");if(Xe.isValidTextValue(o))return n(o)};Xe.isValidTextValue=function(e){return e||e===0};Xe.formatPercent=function(e,r){r=r||0;for(var t=(Math.round(100*e*Math.pow(10,r))*Math.pow(.1,r)).toFixed(r)+"%",n=0;n<r;n++)t.indexOf(".")!==-1&&(t=t.replace("0%","%"),t=t.replace(".%","%"));return t};Xe.isHidden=function(e){var r=window.getComputedStyle(e).display;return!r||r==="none"};Xe.strTranslate=function(e,r){return e||r?"translate("+e+","+r+")":""};Xe.strRotate=function(e){return e?"rotate("+e+")":""};Xe.strScale=function(e){return e!==1?"scale("+e+")":""};Xe.getTextTransform=function(e){var r=e.noCenter,t=e.textX,n=e.textY,a=e.targetX,o=e.targetY,i=e.anchorX||0,l=e.anchorY||0,u=e.rotate,s=e.scale;return s?s>1&&(s=1):s=0,Xe.strTranslate(a-s*(t+i),o-s*(n+l))+Xe.strScale(s)+(u?"rotate("+u+(r?"":" "+t+" "+n)+")":"")};Xe.setTransormAndDisplay=function(e,r){e.attr("transform",Xe.getTextTransform(r)),e.style("display",r.scale?null:"none")};Xe.ensureUniformFontSize=function(e,r){var t=Xe.extendFlat({},r);return t.size=Math.max(r.size,e._fullLayout.uniformtext.minsize||0),t};Xe.join2=function(e,r,t){var n=e.length;return n>1?e.slice(0,-1).join(r)+t+e[n-1]:e.join(r)};Xe.bigFont=function(e){return Math.round(1.2*e)};var K6=Xe.getFirefoxVersion(),ZV=K6!==null&&K6<86;Xe.getPositionFromD3Event=function(){return ZV?[kf.event.layerX,kf.event.layerY]:[kf.event.offsetX,kf.event.offsetY]}});var lw=de(()=>{"use strict";var JV=ir(),iw={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;border:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X:focus-within .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-group a":"display:grid;place-content:center;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;border:none;background:rgba(0,0,0,0);","X .modebar-btn svg":"position:relative;","X .modebar-btn:focus-visible":"outline:1px solid #000;outline-offset:1px;border-radius:3px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(Zp in iw)ow=Zp.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier"),JV.addStyleRule(ow,iw[Zp]);var ow,Zp});var Jp=de((e0e,sw)=>{sw.exports=!0});var Qp=de((r0e,uw)=>{"use strict";var KV=Jp(),Kp;typeof window.matchMedia=="function"?Kp=!window.matchMedia("(hover: none)").matches:Kp=KV;uw.exports=Kp});var vh=de((t0e,$p)=>{"use strict";var Qs=typeof Reflect=="object"?Reflect:null,fw=Qs&&typeof Qs.apply=="function"?Qs.apply:function(r,t,n){return Function.prototype.apply.call(r,t,n)},ch;Qs&&typeof Qs.ownKeys=="function"?ch=Qs.ownKeys:Object.getOwnPropertySymbols?ch=function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:ch=function(r){return Object.getOwnPropertyNames(r)};function QV(e){console&&console.warn&&console.warn(e)}var hw=Number.isNaN||function(r){return r!==r};function At(){At.init.call(this)}$p.exports=At;$p.exports.once=rG;At.EventEmitter=At;At.prototype._events=void 0;At.prototype._eventsCount=0;At.prototype._maxListeners=void 0;var cw=10;function hh(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(At,"defaultMaxListeners",{enumerable:!0,get:function(){return cw},set:function(e){if(typeof e!="number"||e<0||hw(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");cw=e}});At.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};At.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||hw(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this};function vw(e){return e._maxListeners===void 0?At.defaultMaxListeners:e._maxListeners}At.prototype.getMaxListeners=function(){return vw(this)};At.prototype.emit=function(r){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var a=r==="error",o=this._events;if(o!==void 0)a=a&&o.error===void 0;else if(!a)return!1;if(a){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var l=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw l.context=i,l}var u=o[r];if(u===void 0)return!1;if(typeof u=="function")fw(u,this,t);else for(var s=u.length,f=mw(u,s),n=0;n<s;++n)fw(f[n],this,t);return!0};function dw(e,r,t,n){var a,o,i;if(hh(t),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",r,t.listener?t.listener:t),o=e._events),i=o[r]),i===void 0)i=o[r]=t,++e._eventsCount;else if(typeof i=="function"?i=o[r]=n?[t,i]:[i,t]:n?i.unshift(t):i.push(t),a=vw(e),a>0&&i.length>a&&!i.warned){i.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(r)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=r,l.count=i.length,QV(l)}return e}At.prototype.addListener=function(r,t){return dw(this,r,t,!1)};At.prototype.on=At.prototype.addListener;At.prototype.prependListener=function(r,t){return dw(this,r,t,!0)};function $V(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function pw(e,r,t){var n={fired:!1,wrapFn:void 0,target:e,type:r,listener:t},a=$V.bind(n);return a.listener=t,n.wrapFn=a,a}At.prototype.once=function(r,t){return hh(t),this.on(r,pw(this,r,t)),this};At.prototype.prependOnceListener=function(r,t){return hh(t),this.prependListener(r,pw(this,r,t)),this};At.prototype.removeListener=function(r,t){var n,a,o,i,l;if(hh(t),a=this._events,a===void 0)return this;if(n=a[r],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete a[r],a.removeListener&&this.emit("removeListener",r,n.listener||t));else if(typeof n!="function"){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){l=n[i].listener,o=i;break}if(o<0)return this;o===0?n.shift():jV(n,o),n.length===1&&(a[r]=n[0]),a.removeListener!==void 0&&this.emit("removeListener",r,l||t)}return this};At.prototype.off=At.prototype.removeListener;At.prototype.removeAllListeners=function(r){var t,n,a;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[r]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[r]),this;if(arguments.length===0){var o=Object.keys(n),i;for(a=0;a<o.length;++a)i=o[a],i!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[r],typeof t=="function")this.removeListener(r,t);else if(t!==void 0)for(a=t.length-1;a>=0;a--)this.removeListener(r,t[a]);return this};function gw(e,r,t){var n=e._events;if(n===void 0)return[];var a=n[r];return a===void 0?[]:typeof a=="function"?t?[a.listener||a]:[a]:t?eG(a):mw(a,a.length)}At.prototype.listeners=function(r){return gw(this,r,!0)};At.prototype.rawListeners=function(r){return gw(this,r,!1)};At.listenerCount=function(e,r){return typeof e.listenerCount=="function"?e.listenerCount(r):yw.call(e,r)};At.prototype.listenerCount=yw;function yw(e){var r=this._events;if(r!==void 0){var t=r[e];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}At.prototype.eventNames=function(){return this._eventsCount>0?ch(this._events):[]};function mw(e,r){for(var t=new Array(r),n=0;n<r;++n)t[n]=e[n];return t}function jV(e,r){for(;r+1<e.length;r++)e[r]=e[r+1];e.pop()}function eG(e){for(var r=new Array(e.length),t=0;t<r.length;++t)r[t]=e[t].listener||e[t];return r}function rG(e,r){return new Promise(function(t,n){function a(i){e.removeListener(r,o),n(i)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",a),t([].slice.call(arguments))}xw(e,r,o,{once:!0}),r!=="error"&&tG(e,a,{once:!0})})}function tG(e,r,t){typeof e.on=="function"&&xw(e,"error",r,t)}function xw(e,r,t,n){if(typeof e.on=="function")n.once?e.once(r,t):e.on(r,t);else if(typeof e.addEventListener=="function")e.addEventListener(r,function a(o){n.once&&e.removeEventListener(r,a),t(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}});var Sf=de((n0e,bw)=>{"use strict";var jp=vh().EventEmitter,nG={init:function(e){if(e._ev instanceof jp)return e;var r=new jp,t=new jp;return e._ev=r,e._internalEv=t,e.on=r.on.bind(r),e.once=r.once.bind(r),e.removeListener=r.removeListener.bind(r),e.removeAllListeners=r.removeAllListeners.bind(r),e._internalOn=t.on.bind(t),e._internalOnce=t.once.bind(t),e._removeInternalListener=t.removeListener.bind(t),e._removeAllInternalListeners=t.removeAllListeners.bind(t),e.emit=function(n,a){r.emit(n,a),t.emit(n,a)},typeof e.addEventListener=="function"&&e.addEventListener("wheel",()=>{},{passive:!0}),e},triggerHandler:function(e,r,t){var n,a=e._ev;if(!a)return;var o=a._events[r];if(!o)return;function i(u){if(u.listener){if(a.removeListener(r,u.listener),!u.fired)return u.fired=!0,u.listener.apply(a,[t])}else return u.apply(a,[t])}o=Array.isArray(o)?o:[o];var l;for(l=0;l<o.length-1;l++)i(o[l]);return n=i(o[l]),n},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};bw.exports=nG});var Mw=de((a0e,ww)=>{"use strict";var _w=ir(),aG=Pl().dfltConfig;function iG(e,r){for(var t=[],n,a=0;a<r.length;a++)n=r[a],n===e?t[a]=n:typeof n=="object"?t[a]=Array.isArray(n)?_w.extendDeep([],n):_w.extendDeepAll({},n):t[a]=n;return t}var io={};io.add=function(e,r,t,n,a){var o,i;if(e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},i=e.undoQueue.index,e.autoplay){e.undoQueue.inSequence||(e.autoplay=!1);return}!e.undoQueue.sequence||e.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(i,e.undoQueue.queue.length-i,o),e.undoQueue.index+=1):o=e.undoQueue.queue[i-1],e.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(r),o.undo.args.unshift(t),o.redo.calls.push(n),o.redo.args.push(a)),e.undoQueue.queue.length>aG.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--)};io.startSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0};io.stopSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1};io.undo=function(r){var t,n;if(!(r.undoQueue===void 0||isNaN(r.undoQueue.index)||r.undoQueue.index<=0)){for(r.undoQueue.index--,t=r.undoQueue.queue[r.undoQueue.index],r.undoQueue.inSequence=!0,n=0;n<t.undo.calls.length;n++)io.plotDo(r,t.undo.calls[n],t.undo.args[n]);r.undoQueue.inSequence=!1,r.autoplay=!1}};io.redo=function(r){var t,n;if(!(r.undoQueue===void 0||isNaN(r.undoQueue.index)||r.undoQueue.index>=r.undoQueue.queue.length)){for(t=r.undoQueue.queue[r.undoQueue.index],r.undoQueue.inSequence=!0,n=0;n<t.redo.calls.length;n++)io.plotDo(r,t.redo.calls[n],t.redo.args[n]);r.undoQueue.inSequence=!1,r.autoplay=!1,r.undoQueue.index++}};io.plotDo=function(e,r,t){e.autoplay=!0,t=iG(e,t),r.apply(null,t)};ww.exports=io});var eg=de((i0e,Tw)=>{"use strict";Tw.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}});var eu=de(jt=>{"use strict";var Ea=Er(),Cf=ir(),ph=Sn(),rg=Vs(),oG=eg(),lG=bf(),sG=Pl().configAttributes,Aw=qn(),ti=Cf.extendDeepAll,$s=Cf.isPlainObject,uG=Cf.isArrayOrTypedArray,gh=Cf.nestedProperty,fG=Cf.valObjectMeta,tg="_isSubplotObj",yh="_isLinkedToArray",cG="_arrayAttrRegexps",Sw="_deprecated",ng=[tg,yh,cG,Sw];jt.IS_SUBPLOT_OBJ=tg;jt.IS_LINKED_TO_ARRAY=yh;jt.DEPRECATED=Sw;jt.UNDERSCORE_ATTRS=ng;jt.get=function(){var e={};return Ea.allTypes.forEach(function(r){e[r]=vG(r)}),{defs:{valObjects:fG,metaKeys:ng.concat(["description","role","editType","impliedEdits"]),editType:{traces:Aw.traces,layout:Aw.layout},impliedEdits:{}},traces:e,layout:dG(),frames:pG(),animation:js(lG),config:js(sG)}};jt.crawl=function(e,r,t,n){var a=t||0;n=n||"",Object.keys(e).forEach(function(o){var i=e[o];if(ng.indexOf(o)===-1){var l=(n?n+".":"")+o;r(i,o,e,a,l),!jt.isValObject(i)&&$s(i)&&o!=="impliedEdits"&&jt.crawl(i,r,a+1,l)}})};jt.isValObject=function(e){return e&&e.valType!==void 0};jt.findArrayAttributes=function(e){var r=[],t=[],n=[],a,o;function i(u,s,f,h){t=t.slice(0,h).concat([s]),n=n.slice(0,h).concat([u&&u._isLinkedToArray]);var p=u&&(u.valType==="data_array"||u.arrayOk===!0)&&!(t[h-1]==="colorbar"&&(s==="ticktext"||s==="tickvals"));p&&l(a,0,"")}function l(u,s,f){var h=u[t[s]],p=f+t[s];if(s===t.length-1)uG(h)&&r.push(o+p);else if(n[s]){if(Array.isArray(h))for(var b=0;b<h.length;b++)$s(h[b])&&l(h[b],s+1,p+"["+b+"].")}else $s(h)&&l(h,s+1,p+".")}return a=e,o="",jt.crawl(ph,i),e._module&&e._module.attributes&&jt.crawl(e._module.attributes,i),r};jt.getTraceValObject=function(e,r){var t=r[0],n=1,a,o,i=e._module;if(i||(i=(Ea.modules[e.type||ph.type.dflt]||{})._module),!i)return!1;if(a=i.attributes,o=a&&a[t],!o){var l=i.basePlotModule;l&&l.attributes&&(o=l.attributes[t])}return o||(o=ph[t]),Cw(o,r,n)};jt.getLayoutValObject=function(e,r){var t=hG(e,r[0]);return Cw(t,r,1)};function hG(e,r){var t,n,a,o,i=e._basePlotModules;if(i){var l;for(t=0;t<i.length;t++){if(a=i[t],a.attrRegex&&a.attrRegex.test(r)){if(a.layoutAttrOverrides)return a.layoutAttrOverrides;!l&&a.layoutAttributes&&(l=a.layoutAttributes)}var u=a.baseLayoutAttrOverrides;if(u&&r in u)return u[r]}if(l)return l}var s=e._modules;if(s){for(t=0;t<s.length;t++)if(o=s[t].layoutAttributes,o&&r in o)return o[r]}for(n in Ea.componentsRegistry){if(a=Ea.componentsRegistry[n],a.name==="colorscale"&&r.indexOf("coloraxis")===0)return a.layoutAttributes[r];if(!a.schema&&r===a.name)return a.layoutAttributes}return r in rg?rg[r]:!1}function Cw(e,r,t){if(!e)return!1;if(e._isLinkedToArray){if(dh(r[t]))t++;else if(t<r.length)return!1}for(;t<r.length;t++){var n=e[r[t]];if($s(n))e=n;else break;if(t===r.length-1)break;if(e._isLinkedToArray){if(t++,!dh(r[t]))return!1}else if(e.valType==="info_array"){t++;var a=r[t];if(!dh(a))return!1;var o=e.items;if(Array.isArray(o)){if(a>=o.length)return!1;if(e.dimensions===2){if(t++,r.length===t)return e;var i=r[t];if(!dh(i))return!1;e=o[a][i]}else e=o[a]}else e=o}}return e}function dh(e){return e===Math.round(e)&&e>=0}function vG(e){var r,t;r=Ea.modules[e]._module,t=r.basePlotModule;var n={};n.type=null;var a=ti({},ph),o=ti({},r.attributes);jt.crawl(o,function(u,s,f,h,p){gh(a,p).set(void 0),u===void 0&&gh(o,p).set(void 0)}),ti(n,a),Ea.traceIs(e,"noOpacity")&&delete n.opacity,Ea.traceIs(e,"showLegend")||(delete n.showlegend,delete n.legendgroup),Ea.traceIs(e,"noHover")&&(delete n.hoverinfo,delete n.hoverlabel),r.selectPoints||delete n.selectedpoints,ti(n,o),t.attributes&&ti(n,t.attributes),n.type=e;var i={meta:r.meta||{},categories:r.categories||{},animatable:!!r.animatable,type:e,attributes:js(n)};if(r.layoutAttributes){var l={};ti(l,r.layoutAttributes),i.layoutAttributes=js(l)}return r.animatable||jt.crawl(i,function(u){jt.isValObject(u)&&"anim"in u&&delete u.anim}),i}function dG(){var e={},r,t;ti(e,rg);for(r in Ea.subplotsRegistry)if(t=Ea.subplotsRegistry[r],!!t.layoutAttributes)if(Array.isArray(t.attr))for(var n=0;n<t.attr.length;n++)kw(e,t,t.attr[n]);else{var a=t.attr==="subplot"?t.name:t.attr;kw(e,t,a)}for(r in Ea.componentsRegistry){t=Ea.componentsRegistry[r];var o=t.schema;if(o&&(o.subplots||o.layout)){var i=o.subplots;if(i&&i.xaxis&&!i.yaxis)for(var l in i.xaxis)delete e.yaxis[l];delete e.xaxis.shift,delete e.xaxis.autoshift}else t.name==="colorscale"?ti(e,t.layoutAttributes):t.layoutAttributes&&xG(e,t.layoutAttributes,t.name)}return{layoutAttributes:js(e)}}function pG(){var e={frames:ti({},oG)};return js(e),e.frames}function js(e){return gG(e),yG(e),mG(e),e}function gG(e){function r(n){return{valType:"string",editType:"none"}}function t(n,a,o){jt.isValObject(n)?(n.arrayOk===!0||n.valType==="data_array")&&(o[a+"src"]=r(a)):$s(n)&&(n.role="object")}jt.crawl(e,t)}function yG(e){function r(t,n,a){if(t){var o=t[yh];o&&(delete t[yh],a[n]={items:{}},a[n].items[o]=t,a[n].role="object")}}jt.crawl(e,r)}function mG(e){function r(t){for(var n in t)if($s(t[n]))r(t[n]);else if(Array.isArray(t[n]))for(var a=0;a<t[n].length;a++)r(t[n][a]);else t[n]instanceof RegExp&&(t[n]=t[n].toString())}r(e)}function kw(e,r,t){var n=gh(e,t),a=ti({},r.layoutAttributes);a[tg]=!0,n.set(a)}function xG(e,r,t){var n=gh(e,t);n.set(ti(n.get()||{},r))}});var yt=de(Ol=>{"use strict";var ru=ir(),bG=Sn(),Bo="templateitemname",ag={name:{valType:"string",editType:"none"}};ag[Bo]={valType:"string",editType:"calc"};Ol.templatedArray=function(e,r){return r._isLinkedToArray=e,r.name=ag.name,r[Bo]=ag[Bo],r};Ol.traceTemplater=function(e){var r={},t,n;for(t in e)n=e[t],Array.isArray(n)&&n.length&&(r[t]=0);function a(o){t=ru.coerce(o,{},bG,"type");var i={type:t,_template:null};if(t in r){n=e[t];var l=r[t]%n.length;r[t]++,i._template=n[l]}return i}return{newTrace:a}};Ol.newContainer=function(e,r,t){var n=e._template,a=n&&(n[r]||t&&n[t]);ru.isPlainObject(a)||(a=null);var o=e[r]={_template:a};return o};Ol.arrayTemplater=function(e,r,t){var n=e._template,a=n&&n[Lw(r)],o=n&&n[r];(!Array.isArray(o)||!o.length)&&(o=[]);var i={};function l(s){var f={name:s.name,_input:s},h=f[Bo]=s[Bo];if(!Ew(h))return f._template=a,f;for(var p=0;p<o.length;p++){var b=o[p];if(b.name===h)return i[h]=1,f._template=b,f}return f[t]=s[t]||!1,f._template=!1,f}function u(){for(var s=[],f=0;f<o.length;f++){var h=o[f],p=h.name;if(Ew(p)&&!i[p]){var b={_template:h,name:p,_input:{_templateitemname:p}};b[Bo]=h[Bo],s.push(b),i[p]=1}}return s}return{newItem:l,defaultItems:u}};function Ew(e){return e&&typeof e=="string"}function Lw(e){var r=e.length-1;return e.charAt(r)!=="s"&&ru.warn("bad argument to arrayDefaultKey: "+e),e.slice(0,-1)+"defaults"}Ol.arrayDefaultKey=Lw;Ol.arrayEditor=function(e,r,t){var n=(ru.nestedProperty(e,r).get()||[]).length,a=t._index,o=a>=n&&(t._input||{})._templateitemname;o&&(a=n);var i=r+"["+a+"]",l;function u(){l={},o&&(l[i]={},l[i][Bo]=o)}u();function s(b,y){l[b]=y}function f(b,y){o?ru.nestedProperty(l[i],b).set(y):l[i+"."+b]=y}function h(){var b=l;return u(),b}function p(b,y){b&&f(b,y);var w=h();for(var T in w)ru.nestedProperty(e,T).set(w[T])}return{modifyBase:s,modifyItem:f,getUpdateObj:h,applyUpdate:p}}});var on=de((s0e,Dw)=>{"use strict";var Ef=Os().counter;Dw.exports={idRegex:{x:Ef("x","( domain)?"),y:Ef("y","( domain)?")},attrRegex:Ef("[xy]axis"),xAxisMatch:Ef("xaxis"),yAxisMatch:Ef("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}});var en=de(ia=>{"use strict";var _G=Er(),ig=on();ia.id2name=function(r){if(!(typeof r!="string"||!r.match(ig.AX_ID_PATTERN))){var t=r.split(" ")[0].slice(1);return t==="1"&&(t=""),r.charAt(0)+"axis"+t}};ia.name2id=function(r){if(r.match(ig.AX_NAME_PATTERN)){var t=r.slice(5);return t==="1"&&(t=""),r.charAt(0)+t}};ia.cleanId=function(r,t,n){var a=/( domain)$/.test(r);if(!(typeof r!="string"||!r.match(ig.AX_ID_PATTERN))&&!(t&&r.charAt(0)!==t)&&!(a&&!n)){var o=r.split(" ")[0].slice(1).replace(/^0+/,"");return o==="1"&&(o=""),r.charAt(0)+o+(a&&n?" domain":"")}};ia.list=function(e,r,t){var n=e._fullLayout;if(!n)return[];var a=ia.listIds(e,r),o=new Array(a.length),i;for(i=0;i<a.length;i++){var l=a[i];o[i]=n[l.charAt(0)+"axis"+l.slice(1)]}if(!t){var u=n._subplots.gl3d||[];for(i=0;i<u.length;i++){var s=n[u[i]];r?o.push(s[r+"axis"]):o.push(s.xaxis,s.yaxis,s.zaxis)}}return o};ia.listIds=function(e,r){var t=e._fullLayout;if(!t)return[];var n=t._subplots;return r?n[r+"axis"]:n.xaxis.concat(n.yaxis)};ia.getFromId=function(e,r,t){var n=e._fullLayout;return r=r===void 0||typeof r!="string"?r:r.replace(" domain",""),t==="x"?r=r.replace(/y[0-9]*/,""):t==="y"&&(r=r.replace(/x[0-9]*/,"")),n[ia.id2name(r)]};ia.getFromTrace=function(e,r,t){var n=e._fullLayout,a=null;if(_G.traceIs(r,"gl3d")){var o=r.scene;o.slice(0,5)==="scene"&&(a=n[o][t+"axis"])}else a=ia.getFromId(e,r[t+"axis"]||t);return a};ia.idSort=function(e,r){var t=e.charAt(0),n=r.charAt(0);return t!==n?t>n?1:-1:+(e.slice(1)||1)-+(r.slice(1)||1)};ia.ref2id=function(e){return/^[xyz]/.test(e)?e.split(" ")[0]:!1};function Rw(e,r){if(r&&r.length){for(var t=0;t<r.length;t++)if(r[t][e])return!0}return!1}ia.isLinked=function(e,r){return Rw(r,e._axisMatchGroups)||Rw(r,e._axisConstraintGroups)}});var Uo=de((f0e,Pw)=>{"use strict";function wG(e){var r=e._fullLayout._zoomlayer;r&&r.selectAll(".outline-controllers").remove()}function MG(e){var r=e._fullLayout._zoomlayer;r&&r.selectAll(".select-outline").remove(),e._fullLayout._outlining=!1}Pw.exports={clearOutlineControllers:wG,clearOutline:MG}});var mh=de((c0e,Iw)=>{"use strict";Iw.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}});var Lf=de(bh=>{"use strict";var xh=Er(),h0e=on().SUBPLOT_PATTERN;bh.getSubplotCalcData=function(e,r,t){var n=xh.subplotsRegistry[r];if(!n)return[];for(var a=n.attr,o=[],i=0;i<e.length;i++){var l=e[i],u=l[0].trace;u[a]===t&&o.push(l)}return o};bh.getModuleCalcData=function(e,r,t){var n=[],a=[],o;if(typeof r=="string"?o=xh.getModule(r).plot:typeof r=="function"?o=r:o=r.plot,!o)return[n,e];for(var i=t,l=0;l<e.length;l++){var u=e[l],s=u[0].trace,f=s.zorder!==void 0;s.visible!==!0||s._length===0||(s._module&&s._module.plot===o&&(!f||s.zorder===i)?n.push(u):a.push(u))}return[n,a]};bh.getSubplotData=function(r,t,n){if(!xh.subplotsRegistry[t])return[];for(var a=xh.subplotsRegistry[t].attr,o=[],i,l,u,s=0;s<r.length;s++)i=r[s],i[a]===n&&o.push(i);return o}});var qw=de(Bl=>{"use strict";var TG=Er(),tu=ir();Bl.manageCommandObserver=function(e,r,t,n){var a={},o=!0;r&&r._commandObserver&&(a=r._commandObserver),a.cache||(a.cache={}),a.lookupTable={};var i=Bl.hasSimpleAPICommandBindings(e,t,a.lookupTable);if(r&&r._commandObserver){if(i)return a;if(r._commandObserver.remove)return r._commandObserver.remove(),r._commandObserver=null,a}if(i){Fw(e,i,a.cache),a.check=function(){if(o){var f=Fw(e,i,a.cache);return f.changed&&n&&a.lookupTable[f.value]!==void 0&&(a.disable(),Promise.resolve(n({value:f.value,type:i.type,prop:i.prop,traces:i.traces,index:a.lookupTable[f.value]})).then(a.enable,a.enable)),f.changed}};for(var l=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],u=0;u<l.length;u++)e._internalOn(l[u],a.check);a.remove=function(){for(var s=0;s<l.length;s++)e._removeInternalListener(l[s],a.check)}}else tu.log("Unable to automatically bind plot updates to API command"),a.lookupTable={},a.remove=function(){};return a.disable=function(){o=!1},a.enable=function(){o=!0},r&&(r._commandObserver=a),a};Bl.hasSimpleAPICommandBindings=function(e,r,t){var n,a=r.length,o;for(n=0;n<a;n++){var i,l=r[n],u=l.method,s=l.args;if(Array.isArray(s)||(s=[]),!u)return!1;var f=Bl.computeAPICommandBindings(e,u,s);if(f.length!==1)return!1;if(!o)o=f[0],Array.isArray(o.traces)&&o.traces.sort();else{if(i=f[0],i.type!==o.type||i.prop!==o.prop)return!1;if(Array.isArray(o.traces))if(Array.isArray(i.traces)){i.traces.sort();for(var h=0;h<o.traces.length;h++)if(o.traces[h]!==i.traces[h])return!1}else return!1;else if(i.prop!==o.prop)return!1}i=f[0];var p=i.value;if(Array.isArray(p))if(p.length===1)p=p[0];else return!1;t&&(t[p]=n)}return o};function Fw(e,r,t){var n,a,o,i=!1;if(r.type==="data")n=e._fullData[r.traces!==null?r.traces[0]:0];else if(r.type==="layout")n=e._fullLayout;else return!1;return a=tu.nestedProperty(n,r.prop).get(),o=t[r.type]=t[r.type]||{},o.hasOwnProperty(r.prop)&&o[r.prop]!==a&&(i=!0),o[r.prop]=a,{changed:i,value:a}}Bl.executeAPICommand=function(e,r,t){if(r==="skip")return Promise.resolve();var n=TG.apiMethodRegistry[r],a=[e];Array.isArray(t)||(t=[]);for(var o=0;o<t.length;o++)a.push(t[o]);return n.apply(null,a).catch(function(i){return tu.warn("API call to Plotly."+r+" rejected.",i),Promise.reject(i)})};Bl.computeAPICommandBindings=function(e,r,t){var n;switch(Array.isArray(t)||(t=[]),r){case"restyle":n=zw(e,t);break;case"relayout":n=Nw(e,t);break;case"update":n=zw(e,[t[0],t[2]]).concat(Nw(e,[t[1]]));break;case"animate":n=AG(e,t);break;default:n=[]}return n};function AG(e,r){return Array.isArray(r[0])&&r[0].length===1&&["string","number"].indexOf(typeof r[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:r[0][0].toString()}]:[]}function Nw(e,r){var t=[],n=r[0],a={};if(typeof n=="string")a[n]=r[1];else if(tu.isPlainObject(n))a=n;else return t;return og(a,function(o,i,l){t.push({type:"layout",prop:o,value:l})},"",0),t}function zw(e,r){var t,n,a,o,i=[];if(n=r[0],a=r[1],t=r[2],o={},typeof n=="string")o[n]=a;else if(tu.isPlainObject(n))o=n,t===void 0&&(t=a);else return i;return t===void 0&&(t=null),og(o,function(l,u,s){var f,h;if(Array.isArray(s)){h=s.slice();var p=Math.min(h.length,e.data.length);t&&(p=Math.min(p,t.length)),f=[];for(var b=0;b<p;b++)f[b]=t?t[b]:b}else h=s,f=t?t.slice():null;if(f===null)Array.isArray(h)&&(h=h[0]);else if(Array.isArray(f)){if(!Array.isArray(h)){var y=h;h=[];for(var w=0;w<f.length;w++)h[w]=y}h.length=Math.min(f.length,h.length)}i.push({type:"data",prop:l,traces:f,value:h})},"",0),i}function og(e,r,t,n){Object.keys(e).forEach(function(a){var o=e[a];if(a[0]!=="_"){var i=t+(n>0?".":"")+a;tu.isPlainObject(o)?og(o,r,i,n+1):r(i,a,o)}})}});var ln=de((p0e,$w)=>{"use strict";var Yw=it(),kG=Ns().timeFormatLocale,SG=dp().formatLocale,Df=nt(),CG=pp(),ot=Er(),Ww=eu(),EG=yt(),xr=ir(),Xw=Xr(),Ow=nn().BADNUM,oa=en(),LG=Uo().clearOutline,DG=mh(),lg=bf(),RG=eg(),PG=Lf().getModuleCalcData,Bw=xr.relinkPrivateKeys,Ul=xr._,cr=$w.exports={};xr.extendFlat(cr,ot);cr.attributes=Sn();cr.attributes.type.values=cr.allTypes;cr.fontAttrs=kn();cr.layoutAttributes=Vs();var wh=qw();cr.executeAPICommand=wh.executeAPICommand;cr.computeAPICommandBindings=wh.computeAPICommandBindings;cr.manageCommandObserver=wh.manageCommandObserver;cr.hasSimpleAPICommandBindings=wh.hasSimpleAPICommandBindings;cr.redrawText=function(e){return e=xr.getGraphDiv(e),new Promise(function(r){setTimeout(function(){e._fullLayout&&(ot.getComponentMethod("annotations","draw")(e),ot.getComponentMethod("legend","draw")(e),ot.getComponentMethod("colorbar","draw")(e),r(cr.previousPromises(e)))},300)})};cr.resize=function(e){e=xr.getGraphDiv(e);var r,t=new Promise(function(n,a){(!e||xr.isHidden(e))&&a(new Error("Resize must be passed a displayed plot div element.")),e._redrawTimer&&clearTimeout(e._redrawTimer),e._resolveResize&&(r=e._resolveResize),e._resolveResize=n,e._redrawTimer=setTimeout(function(){if(!e.layout||e.layout.width&&e.layout.height||xr.isHidden(e)){n(e);return}delete e.layout.width,delete e.layout.height;var o=e.changed;e.autoplay=!0,ot.call("relayout",e,{autosize:!0}).then(function(){e.changed=o,e._resolveResize===n&&(delete e._resolveResize,n(e))})},100)});return r&&r(t),t};cr.previousPromises=function(e){if((e._promises||[]).length)return Promise.all(e._promises).then(function(){e._promises=[]})};cr.addLinks=function(e){if(!(!e._context.showLink&&!e._context.showSources)){var r=e._fullLayout,t=xr.ensureSingle(r._paper,"text","js-plot-link-container",function(u){u.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:Xw.defaultLine,"pointer-events":"all"}).each(function(){var s=Yw.select(this);s.append("tspan").classed("js-link-to-tool",!0),s.append("tspan").classed("js-link-spacer",!0),s.append("tspan").classed("js-sourcelinks",!0)})}),n=t.node(),a={y:r._paper.attr("height")-9};document.body.contains(n)&&n.getComputedTextLength()>=r.width-20?(a["text-anchor"]="start",a.x=5):(a["text-anchor"]="end",a.x=r._paper.attr("width")-7),t.attr(a);var o=t.select(".js-link-to-tool"),i=t.select(".js-link-spacer"),l=t.select(".js-sourcelinks");e._context.showSources&&e._context.showSources(e),e._context.showLink&&IG(e,o),i.text(o.text()&&l.text()?" - ":"")}};function IG(e,r){r.text("");var t=r.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(e._context.linkText+" \xBB");if(e._context.sendData)t.on("click",function(){cr.sendDataToCloud(e)});else{var n=window.location.pathname.split("/"),a=window.location.search;t.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+n[2].split(".")[0]+"/"+n[1]+a})}}cr.sendDataToCloud=function(e){var r=(window.PLOTLYENV||{}).BASE_URL||e._context.plotlyServerURL;if(r){e.emit("plotly_beforeexport");var t=Yw.select(e).append("div").attr("id","hiddenform").style("display","none"),n=t.append("form").attr({action:r+"/external",method:"post",target:"_blank"}),a=n.append("input").attr({type:"text",name:"data"});return a.node().value=cr.graphJson(e,!1,"keepdata"),n.node().submit(),t.remove(),e.emit("plotly_afterexport"),!1}};var FG=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],NG=["year","month","dayMonth","dayMonthYear"];cr.supplyDefaults=function(e,r){var t=r&&r.skipUpdateCalc,n=e._fullLayout||{};if(n._skipDefaults){delete n._skipDefaults;return}var a=e._fullLayout={},o=e.layout||{},i=e._fullData||[],l=e._fullData=[],u=e.data||[],s=e.calcdata||[],f=e._context||{},h;e._transitionData||cr.createTransitionData(e),a._dfltTitle={plot:Ul(e,"Click to enter Plot title"),subtitle:Ul(e,"Click to enter Plot subtitle"),x:Ul(e,"Click to enter X axis title"),y:Ul(e,"Click to enter Y axis title"),colorbar:Ul(e,"Click to enter Colorscale title"),annotation:Ul(e,"new text")},a._traceWord=Ul(e,"trace");var p=Uw(e,FG);if(a._mapboxAccessToken=f.mapboxAccessToken,n._initialAutoSizeIsDone){var b=n.width,y=n.height;cr.supplyLayoutGlobalDefaults(o,a,p),o.width||(a.width=b),o.height||(a.height=y),cr.sanitizeMargins(a)}else{cr.supplyLayoutGlobalDefaults(o,a,p);var w=!o.width||!o.height,T=a.autosize,m=f.autosizable,k=w&&(T||m);k?cr.plotAutoSize(e,o,a):w&&cr.sanitizeMargins(a),!T&&w&&(o.width=a.width,o.height=a.height)}a._d3locale=OG(p,a.separators),a._extraFormat=Uw(e,NG),a._initialAutoSizeIsDone=!0,a._dataLength=u.length,a._modules=[],a._visibleModules=[],a._basePlotModules=[];var S=a._subplots=qG(),x=a._splomAxes={x:{},y:{}},M=a._splomSubplots={};a._splomGridDflt={},a._scatterStackOpts={},a._firstScatter={},a._alignmentOpts={},a._colorAxes={},a._requestRangeslider={},a._traceUids=zG(i,u),cr.supplyDataDefaults(u,l,o,a);var d=Object.keys(x.x),_=Object.keys(x.y);if(d.length>1&&_.length>1){for(ot.getComponentMethod("grid","sizeDefaults")(o,a),h=0;h<d.length;h++)xr.pushUnique(S.xaxis,d[h]);for(h=0;h<_.length;h++)xr.pushUnique(S.yaxis,_[h]);for(var g in M)xr.pushUnique(S.cartesian,g)}if(a._has=cr._hasPlotType.bind(a),i.length===l.length)for(h=0;h<l.length;h++)Bw(l[h],i[h]);cr.supplyLayoutModuleDefaults(o,a,l,e._transitionData);var c=a._visibleModules,A=[];for(h=0;h<c.length;h++){var v=c[h].crossTraceDefaults;v&&xr.pushUnique(A,v)}for(h=0;h<A.length;h++)A[h](l,a);a._hasOnlyLargeSploms=a._basePlotModules.length===1&&a._basePlotModules[0].name==="splom"&&d.length>15&&_.length>15&&a.shapes.length===0&&a.images.length===0,cr.linkSubplots(l,a,i,n),cr.cleanPlot(l,a,i,n);var D=!!(n._has&&n._has("cartesian")),E=!!(a._has&&a._has("cartesian")),R=D,N=E;R&&!N?n._bgLayer.remove():N&&!R&&(a._shouldCreateBgLayer=!0),n._zoomlayer&&!e._dragging&&LG({_fullLayout:n}),BG(l,a),Bw(a,n),ot.getComponentMethod("colorscale","crossTraceDefaults")(l,a),a._preGUI||(a._preGUI={}),a._tracePreGUI||(a._tracePreGUI={});var F=a._tracePreGUI,I={},L;for(L in F)I[L]="old";for(h=0;h<l.length;h++)L=l[h]._fullInput.uid,I[L]||(F[L]={}),I[L]="new";for(L in I)I[L]==="old"&&delete F[L];Zw(a),ot.getComponentMethod("rangeslider","makeData")(a),!t&&s.length===l.length&&cr.supplyDefaultsUpdateCalc(s,l)};cr.supplyDefaultsUpdateCalc=function(e,r){for(var t=0;t<r.length;t++){var n=r[t],a=(e[t]||[])[0];if(a&&a.trace){var o=a.trace;if(o._hasCalcTransform){var i=o._arrayAttrs,l,u,s;for(l=0;l<i.length;l++)u=i[l],s=xr.nestedProperty(o,u).get().slice(),xr.nestedProperty(n,u).set(s)}a.trace=n}}};function zG(e,r){var t=r.length,n=[],a,o;for(a=0;a<e.length;a++){var i=e[a]._fullInput;i!==o&&n.push(i),o=i}var l=n.length,u=new Array(t),s={};function f(b,y){u[y]=b,s[b]=1}function h(b,y){if(b&&typeof b=="string"&&!s[b])return f(b,y),!0}for(a=0;a<t;a++){var p=r[a].uid;typeof p=="number"&&(p=String(p)),!h(p,a)&&(a<l&&h(n[a].uid,a)||f(xr.randstr(s),a))}return u}function qG(){var e=ot.collectableSubplotTypes,r={},t,n;if(!e){e=[];var a=ot.subplotsRegistry;for(var o in a){var i=a[o],l=i.attr;if(l&&(e.push(o),Array.isArray(l)))for(n=0;n<l.length;n++)xr.pushUnique(e,l[n])}}for(t=0;t<e.length;t++)r[e[t]]=[];return r}function Uw(e,r){var t=e._context.locale;t||(t="en-US");var n=!1,a={};function o(h){for(var p=!0,b=0;b<r.length;b++){var y=r[b];a[y]||(h[y]?a[y]=h[y]:p=!1)}p&&(n=!0)}for(var i=0;i<2;i++){for(var l=e._context.locales,u=0;u<2;u++){var s=(l[t]||{}).format;if(s&&(o(s),n))break;l=ot.localeRegistry}var f=t.split("-")[0];if(n||f===t)break;t=f}return n||o(ot.localeRegistry.en.format),a}function OG(e,r){return e.decimal=r.charAt(0),e.thousands=r.charAt(1),{numberFormat:function(t){try{t=SG(e).format(xr.adjustFormat(t))}catch(n){return xr.warnBadFormat(t),xr.noFormat}return t},timeFormat:kG(e).utcFormat}}function BG(e,r){var t,n=[];r.meta&&(t=r._meta={meta:r.meta,layout:{meta:r.meta}});for(var a=0;a<e.length;a++){var o=e[a];o.meta?n[o.index]=o._meta={meta:o.meta}:r.meta&&(o._meta={meta:r.meta}),r.meta&&(o._meta.layout={meta:r.meta})}n.length&&(t||(t=r._meta={}),t.data=n)}cr.createTransitionData=function(e){e._transitionData||(e._transitionData={}),e._transitionData._frames||(e._transitionData._frames=[]),e._transitionData._frameHash||(e._transitionData._frameHash={}),e._transitionData._counter||(e._transitionData._counter=0),e._transitionData._interruptCallbacks||(e._transitionData._interruptCallbacks=[])};cr._hasPlotType=function(e){var r,t=this._basePlotModules||[];for(r=0;r<t.length;r++)if(t[r].name===e)return!0;var n=this._modules||[];for(r=0;r<n.length;r++){var a=n[r].name;if(a===e)return!0;var o=ot.modules[a];if(o&&o.categories[e])return!0}return!1};cr.cleanPlot=function(e,r,t,n){var a,o,i=n._basePlotModules||[];for(a=0;a<i.length;a++){var l=i[a];l.clean&&l.clean(e,r,t,n)}var u=n._has&&n._has("gl"),s=r._has&&r._has("gl");u&&!s&&n._glcontainer!==void 0&&(n._glcontainer.selectAll(".gl-canvas").remove(),n._glcontainer.selectAll(".no-webgl").remove(),n._glcanvas=null);var f=!!n._infolayer;e:for(a=0;a<t.length;a++){var h=t[a],p=h.uid;for(o=0;o<e.length;o++){var b=e[o];if(p===b.uid)continue e}f&&n._infolayer.select(".cb"+p).remove()}};cr.linkSubplots=function(e,r,t,n){var a,o,i=n._plots||{},l=r._plots={},u=r._subplots,s={_fullData:e,_fullLayout:r},f=u.cartesian||[];for(a=0;a<f.length;a++){var h=f[a],p=i[h],b=oa.getFromId(s,h,"x"),y=oa.getFromId(s,h,"y"),w;for(p?w=l[h]=p:(w=l[h]={},w.id=h),b._counterAxes.push(y._id),y._counterAxes.push(b._id),b._subplotsWith.push(h),y._subplotsWith.push(h),w.xaxis=b,w.yaxis=y,w._hasClipOnAxisFalse=!1,o=0;o<e.length;o++){var T=e[o];if(T.xaxis===w.xaxis._id&&T.yaxis===w.yaxis._id&&T.cliponaxis===!1){w._hasClipOnAxisFalse=!0;break}}}var m=oa.list(s,null,!0),k;for(a=0;a<m.length;a++){k=m[a];var S=null;k.overlaying&&(S=oa.getFromId(s,k.overlaying),S&&S.overlaying&&(k.overlaying=!1,S=null)),k._mainAxis=S||k,S&&(k.domain=S.domain.slice()),k._anchorAxis=k.anchor==="free"?null:oa.getFromId(s,k.anchor)}for(a=0;a<m.length;a++)if(k=m[a],k._counterAxes.sort(oa.idSort),k._subplotsWith.sort(xr.subplotSort),k._mainSubplot=UG(k,r),k._counterAxes.length&&(k.spikemode&&k.spikemode.indexOf("across")!==-1||k.automargin&&k.mirror&&k.anchor!=="free"||ot.getComponentMethod("rangeslider","isVisible")(k))){var x=1,M=0;for(o=0;o<k._counterAxes.length;o++){var d=oa.getFromId(s,k._counterAxes[o]);x=Math.min(x,d.domain[0]),M=Math.max(M,d.domain[1])}x<M&&(k._counterDomainMin=x,k._counterDomainMax=M)}};function UG(e,r){var t={_fullLayout:r},n=e._id.charAt(0)==="x",a=e._mainAxis._anchorAxis,o="",i="",l="";if(a&&(l=a._mainAxis._id,o=n?e._id+l:l+e._id),!o||!r._plots[o]){o="";for(var u=e._counterAxes,s=0;s<u.length;s++){var f=u[s],h=n?e._id+f:f+e._id;i||(i=h);var p=oa.getFromId(t,f);if(l&&p.overlaying===l){o=h;break}}}return o||i}cr.clearExpandedTraceDefaultColors=function(e){var r,t,n;function a(i,l,u,s){t[s]=l,t.length=s+1,i.valType==="color"&&i.dflt===void 0&&r.push(t.join("."))}for(t=[],r=e._module._colorAttrs,r||(e._module._colorAttrs=r=[],Ww.crawl(e._module.attributes,a)),n=0;n<r.length;n++){var o=xr.nestedProperty(e,"_input."+r[n]);o.get()||xr.nestedProperty(e,r[n]).set(null)}};cr.supplyDataDefaults=function(e,r,t,n){var a=n._modules,o=n._visibleModules,i=n._basePlotModules,l=0,u=0,s,f,h;n._transformModules=[];function p(k){r.push(k);var S=k._module;S&&(xr.pushUnique(a,S),k.visible===!0&&xr.pushUnique(o,S),xr.pushUnique(i,k._module.basePlotModule),l++,k._input.visible!==!1&&u++)}var b={},y=[],w=(t.template||{}).data||{},T=EG.traceTemplater(w);for(s=0;s<e.length;s++)h=e[s],f=T.newTrace(h),f.uid=n._traceUids[s],cr.supplyTraceDefaults(h,f,u,n,s),f.index=s,f._input=h,f._fullInput=f,p(f),ot.traceIs(f,"carpetAxis")&&(b[f.carpet]=f),ot.traceIs(f,"carpetDependent")&&y.push(s);for(s=0;s<y.length;s++)if(f=r[y[s]],!!f.visible){var m=b[f.carpet];if(f._carpet=m,!m||!m.visible){f.visible=!1;continue}f.xaxis=m.xaxis,f.yaxis=m.yaxis}};cr.supplyAnimationDefaults=function(e){e=e||{};var r,t={};function n(a,o){return xr.coerce(e||{},t,lg,a,o)}if(n("mode"),n("direction"),n("fromcurrent"),Array.isArray(e.frame))for(t.frame=[],r=0;r<e.frame.length;r++)t.frame[r]=cr.supplyAnimationFrameDefaults(e.frame[r]||{});else t.frame=cr.supplyAnimationFrameDefaults(e.frame||{});if(Array.isArray(e.transition))for(t.transition=[],r=0;r<e.transition.length;r++)t.transition[r]=cr.supplyAnimationTransitionDefaults(e.transition[r]||{});else t.transition=cr.supplyAnimationTransitionDefaults(e.transition||{});return t};cr.supplyAnimationFrameDefaults=function(e){var r={};function t(n,a){return xr.coerce(e||{},r,lg.frame,n,a)}return t("duration"),t("redraw"),r};cr.supplyAnimationTransitionDefaults=function(e){var r={};function t(n,a){return xr.coerce(e||{},r,lg.transition,n,a)}return t("duration"),t("easing"),r};cr.supplyFrameDefaults=function(e){var r={};function t(n,a){return xr.coerce(e,r,RG,n,a)}return t("group"),t("name"),t("traces"),t("baseframe"),t("data"),t("layout"),r};cr.supplyTraceDefaults=function(e,r,t,n,a){var o=n.colorway||Xw.defaults,i=o[t%o.length],l;function u(S,x){return xr.coerce(e,r,cr.attributes,S,x)}var s=u("visible");u("type"),u("name",n._traceWord+" "+a),u("uirevision",n.uirevision);var f=cr.getModule(r);if(r._module=f,f){var h=f.basePlotModule,p=h.attr,b=h.attributes;if(p&&b){var y=n._subplots,w="";if(Array.isArray(p))for(l=0;l<p.length;l++){var T=p[l],m=xr.coerce(e,r,b,T);y[T]&&xr.pushUnique(y[T],m),w+=m}else w=xr.coerce(e,r,b,p);y[h.name]&&xr.pushUnique(y[h.name],w)}}if(s&&(u("customdata"),u("ids"),u("meta"),ot.traceIs(r,"showLegend")?(xr.coerce(e,r,f.attributes.showlegend?f.attributes:cr.attributes,"showlegend"),xr.coerce(e,r,f.attributes.legend?f.attributes:cr.attributes,"legend"),u("legendwidth"),u("legendgroup"),u("legendgrouptitle.text"),u("legendrank"),r._dfltShowLegend=!0):r._dfltShowLegend=!1,f&&f.supplyDefaults(e,r,i,n),ot.traceIs(r,"noOpacity")||u("opacity"),ot.traceIs(r,"notLegendIsolatable")&&(r.visible=!!r.visible),ot.traceIs(r,"noHover")||(r.hovertemplate||xr.coerceHoverinfo(e,r,n),r.type!=="parcats"&&ot.getComponentMethod("fx","supplyDefaults")(e,r,i,n)),f&&f.selectPoints)){var k=u("selectedpoints");xr.isTypedArray(k)&&(r.selectedpoints=Array.from(k))}return r};cr.supplyLayoutGlobalDefaults=function(e,r,t){function n(h,p){return xr.coerce(e,r,cr.layoutAttributes,h,p)}var a=e.template;xr.isPlainObject(a)&&(r.template=a,r._template=a.layout,r._dataTemplate=a.data),n("autotypenumbers");var o=xr.coerceFont(n,"font"),i=o.size;xr.coerceFont(n,"title.font",o,{overrideDflt:{size:Math.round(i*1.4)}}),n("title.text",r._dfltTitle.plot),n("title.xref");var l=n("title.yref");n("title.pad.t"),n("title.pad.r"),n("title.pad.b"),n("title.pad.l");var u=n("title.automargin");n("title.x"),n("title.xanchor"),n("title.y"),n("title.yanchor"),n("title.subtitle.text",r._dfltTitle.subtitle),xr.coerceFont(n,"title.subtitle.font",o,{overrideDflt:{size:Math.round(r.title.font.size*.7)}}),u&&(l==="paper"&&(r.title.y!==0&&(r.title.y=1),r.title.yanchor==="auto"&&(r.title.yanchor=r.title.y===0?"top":"bottom")),l==="container"&&(r.title.y==="auto"&&(r.title.y=1),r.title.yanchor==="auto"&&(r.title.yanchor=r.title.y<.5?"bottom":"top")));var s=n("uniformtext.mode");s&&n("uniformtext.minsize"),n("autosize",!(e.width&&e.height)),n("width"),n("height"),n("minreducedwidth"),n("minreducedheight"),n("margin.l"),n("margin.r"),n("margin.t"),n("margin.b"),n("margin.pad"),n("margin.autoexpand"),e.width&&e.height&&cr.sanitizeMargins(r),ot.getComponentMethod("grid","sizeDefaults")(e,r),n("paper_bgcolor"),n("separators",t.decimal+t.thousands),n("hidesources"),n("colorway"),n("datarevision");var f=n("uirevision");n("editrevision",f),n("selectionrevision",f),ot.getComponentMethod("modebar","supplyLayoutDefaults")(e,r),ot.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(e,r,n),ot.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(e,r,n),n("meta"),xr.isPlainObject(e.transition)&&(n("transition.duration"),n("transition.easing"),n("transition.ordering")),ot.getComponentMethod("calendars","handleDefaults")(e,r,"calendar"),ot.getComponentMethod("fx","supplyLayoutGlobalDefaults")(e,r,n),xr.coerce(e,r,DG,"scattermode")};function _h(e){return typeof e=="string"&&e.slice(-2)==="px"&&parseFloat(e)}cr.plotAutoSize=function(r,t,n){var a=r._context||{},o=a.frameMargins,i,l,u=xr.isPlotDiv(r);if(u&&r.emit("plotly_autosize"),a.fillFrame)i=window.innerWidth,l=window.innerHeight,document.body.style.overflow="hidden";else{var s=u?window.getComputedStyle(r):{};if(i=_h(s.width)||_h(s.maxWidth)||n.width,l=_h(s.height)||_h(s.maxHeight)||n.height,Df(o)&&o>0){var f=1-2*o;i=Math.round(f*i),l=Math.round(f*l)}}var h=cr.layoutAttributes.width.min,p=cr.layoutAttributes.height.min;i<h&&(i=h),l<p&&(l=p);var b=!t.width&&Math.abs(n.width-i)>1,y=!t.height&&Math.abs(n.height-l)>1;(y||b)&&(b&&(n.width=i),y&&(n.height=l)),r._initialAutoSize||(r._initialAutoSize={width:i,height:l}),cr.sanitizeMargins(n)};cr.supplyLayoutModuleDefaults=function(e,r,t,n){var a=ot.componentsRegistry,o=r._basePlotModules,i,l,u,s=ot.subplotsRegistry.cartesian;for(i in a)u=a[i],u.includeBasePlot&&u.includeBasePlot(e,r);o.length||o.push(s),r._has("cartesian")&&(ot.getComponentMethod("grid","contentDefaults")(e,r),s.finalizeSubplots(e,r));for(var f in r._subplots)r._subplots[f].sort(xr.subplotSort);for(l=0;l<o.length;l++)u=o[l],u.supplyLayoutDefaults&&u.supplyLayoutDefaults(e,r,t);var h=r._modules;for(l=0;l<h.length;l++)u=h[l],u.supplyLayoutDefaults&&u.supplyLayoutDefaults(e,r,t);var p=r._transformModules;for(l=0;l<p.length;l++)u=p[l],u.supplyLayoutDefaults&&u.supplyLayoutDefaults(e,r,t,n);for(i in a)u=a[i],u.supplyLayoutDefaults&&u.supplyLayoutDefaults(e,r,t)};cr.purge=function(e){var r=e._fullLayout||{};r._glcontainer!==void 0&&(r._glcontainer.selectAll(".gl-canvas").remove(),r._glcontainer.remove(),r._glcanvas=null),r._modeBar&&r._modeBar.destroy(),e._transitionData&&(e._transitionData._interruptCallbacks&&(e._transitionData._interruptCallbacks.length=0),e._transitionData._animationRaf&&window.cancelAnimationFrame(e._transitionData._animationRaf)),xr.clearThrottle(),xr.clearResponsive(e),delete e.data,delete e.layout,delete e._fullData,delete e._fullLayout,delete e.calcdata,delete e.empty,delete e.fid,delete e.undoqueue,delete e.undonum,delete e.autoplay,delete e.changed,delete e._promises,delete e._redrawTimer,delete e._hmlumcount,delete e._hmpixcount,delete e._transitionData,delete e._transitioning,delete e._initialAutoSize,delete e._transitioningWithDuration,delete e._dragging,delete e._dragged,delete e._dragdata,delete e._hoverdata,delete e._snapshotInProgress,delete e._editing,delete e._mouseDownTime,delete e._legendMouseDownTime,e.removeAllListeners&&e.removeAllListeners()};cr.style=function(e){var r=e._fullLayout._visibleModules,t=[],n;for(n=0;n<r.length;n++){var a=r[n];a.style&&xr.pushUnique(t,a.style)}for(n=0;n<t.length;n++)t[n](e)};cr.sanitizeMargins=function(e){if(!(!e||!e.margin)){var r=e.width,t=e.height,n=e.margin,a=r-(n.l+n.r),o=t-(n.t+n.b),i;a<0&&(i=(r-1)/(n.l+n.r),n.l=Math.floor(i*n.l),n.r=Math.floor(i*n.r)),o<0&&(i=(t-1)/(n.t+n.b),n.t=Math.floor(i*n.t),n.b=Math.floor(i*n.b))}};cr.clearAutoMarginIds=function(e){e._fullLayout._pushmarginIds={}};cr.allowAutoMargin=function(e,r){e._fullLayout._pushmarginIds[r]=1};function Zw(e){var r=e.margin;if(!e._size){var t=e._size={l:Math.round(r.l),r:Math.round(r.r),t:Math.round(r.t),b:Math.round(r.b),p:Math.round(r.pad)};t.w=Math.round(e.width)-t.l-t.r,t.h=Math.round(e.height)-t.t-t.b}e._pushmargin||(e._pushmargin={}),e._pushmarginIds||(e._pushmarginIds={}),e._reservedMargin||(e._reservedMargin={})}var Jw=2,Kw=2;cr.autoMargin=function(e,r,t){var n=e._fullLayout,a=n.width,o=n.height,i=n.margin,l=n.minreducedwidth,u=n.minreducedheight,s=xr.constrain(a-i.l-i.r,Jw,l),f=xr.constrain(o-i.t-i.b,Kw,u),h=Math.max(0,a-s),p=Math.max(0,o-f),b=n._pushmargin,y=n._pushmarginIds;if(i.autoexpand!==!1){if(!t)delete b[r],delete y[r];else{var w=t.pad;if(w===void 0&&(w=Math.min(12,i.l,i.r,i.t,i.b)),h){var T=(t.l+t.r)/h;T>1&&(t.l/=T,t.r/=T)}if(p){var m=(t.t+t.b)/p;m>1&&(t.t/=m,t.b/=m)}var k=t.xl!==void 0?t.xl:t.x,S=t.xr!==void 0?t.xr:t.x,x=t.yt!==void 0?t.yt:t.y,M=t.yb!==void 0?t.yb:t.y;b[r]={l:{val:k,size:t.l+w},r:{val:S,size:t.r+w},b:{val:M,size:t.b+w},t:{val:x,size:t.t+w}},y[r]=1}if(!n._replotting)return cr.doAutoMargin(e)}};function HG(e){if("_redrawFromAutoMarginCount"in e._fullLayout)return!1;var r=oa.list(e,"",!0);for(var t in r)if(r[t].autoshift||r[t].shift)return!0;return!1}cr.doAutoMargin=function(e){var r=e._fullLayout,t=r.width,n=r.height;r._size||(r._size={}),Zw(r);var a=r._size,o=r.margin,i={t:0,b:0,l:0,r:0},l=xr.extendFlat({},a),u=o.l,s=o.r,f=o.t,h=o.b,p=r._pushmargin,b=r._pushmarginIds,y=r.minreducedwidth,w=r.minreducedheight;if(o.autoexpand!==!1){for(var T in p)b[T]||delete p[T];var m=e._fullLayout._reservedMargin;for(var k in m)for(var S in m[k]){var x=m[k][S];i[S]=Math.max(i[S],x)}p.base={l:{val:0,size:u},r:{val:1,size:s},t:{val:1,size:f},b:{val:0,size:h}};for(var M in i){var d=0;for(var _ in p)_!=="base"&&Df(p[_][M].size)&&(d=p[_][M].size>d?p[_][M].size:d);var g=Math.max(0,o[M]-d);i[M]=Math.max(0,i[M]-g)}for(var c in p){var A=p[c].l||{},v=p[c].b||{},D=A.val,E=A.size,R=v.val,N=v.size,F=t-i.r-i.l,I=n-i.t-i.b;for(var L in p){if(Df(E)&&p[L].r){var P=p[L].r.val,O=p[L].r.size;if(P>D){var U=(E*P+(O-F)*D)/(P-D),X=(O*(1-D)+(E-F)*(1-P))/(P-D);U+X>u+s&&(u=U,s=X)}}if(Df(N)&&p[L].t){var $=p[L].t.val,j=p[L].t.size;if($>R){var Y=(N*$+(j-I)*R)/($-R),q=(j*(1-R)+(N-I)*(1-$))/($-R);Y+q>h+f&&(h=Y,f=q)}}}}}var Q=xr.constrain(t-o.l-o.r,Jw,y),ae=xr.constrain(n-o.t-o.b,Kw,w),K=Math.max(0,t-Q),oe=Math.max(0,n-ae);if(K){var re=(u+s)/K;re>1&&(u/=re,s/=re)}if(oe){var V=(h+f)/oe;V>1&&(h/=V,f/=V)}if(a.l=Math.round(u)+i.l,a.r=Math.round(s)+i.r,a.t=Math.round(f)+i.t,a.b=Math.round(h)+i.b,a.p=Math.round(o.pad),a.w=Math.round(t)-a.l-a.r,a.h=Math.round(n)-a.t-a.b,!r._replotting&&(cr.didMarginChange(l,a)||HG(e))){"_redrawFromAutoMarginCount"in r?r._redrawFromAutoMarginCount++:r._redrawFromAutoMarginCount=1;var ee=3*(1+Object.keys(b).length);if(r._redrawFromAutoMarginCount<ee)return ot.call("_doPlot",e);r._size=l,xr.warn("Too many auto-margin redraws.")}VG(e)};function VG(e){var r=oa.list(e,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(t){for(var n=0;n<r.length;n++){var a=r[n][t];a&&a()}})}var Hw=["l","r","t","b","p","w","h"];cr.didMarginChange=function(e,r){for(var t=0;t<Hw.length;t++){var n=Hw[t],a=e[n],o=r[n];if(!Df(a)||Math.abs(o-a)>1)return!0}return!1};cr.graphJson=function(e,r,t,n,a,o){(a&&r&&!e._fullData||a&&!r&&!e._fullLayout)&&cr.supplyDefaults(e);var i=a?e._fullData:e.data,l=a?e._fullLayout:e.layout,u=(e._transitionData||{})._frames;function s(p,b){if(typeof p=="function")return b?"_function_":null;if(xr.isPlainObject(p)){var y={},w;return Object.keys(p).sort().forEach(function(S){if(["_","["].indexOf(S.charAt(0))===-1){if(typeof p[S]=="function"){b&&(y[S]="_function");return}if(t==="keepdata"){if(S.slice(-3)==="src")return}else if(t==="keepstream"){if(w=p[S+"src"],typeof w=="string"&&w.indexOf(":")>0&&!xr.isPlainObject(p.stream))return}else if(t!=="keepall"&&(w=p[S+"src"],typeof w=="string"&&w.indexOf(":")>0))return;y[S]=s(p[S],b)}}),y}var T=Array.isArray(p),m=xr.isTypedArray(p);if((T||m)&&p.dtype&&p.shape){var k=p.bdata;return s({dtype:p.dtype,shape:p.shape,bdata:xr.isArrayBuffer(k)?CG.encode(k):k},b)}return T?p.map(function(S){return s(S,b)}):m?xr.simpleMap(p,xr.identity):xr.isJSDate(p)?xr.ms2DateTimeLocal(+p):p}var f={data:(i||[]).map(function(p){var b=s(p);return r&&delete b.fit,b})};if(!r&&(f.layout=s(l),a)){var h=l._size;f.layout.computed={margin:{b:h.b,l:h.l,r:h.r,t:h.t}}}return u&&(f.frames=s(u)),o&&(f.config=s(e._context,!0)),n==="object"?f:JSON.stringify(f)};cr.modifyFrames=function(e,r){var t,n,a,o=e._transitionData._frames,i=e._transitionData._frameHash;for(t=0;t<r.length;t++)switch(n=r[t],n.type){case"replace":a=n.value;var l=(o[n.index]||{}).name,u=a.name;o[n.index]=i[u]=a,u!==l&&(delete i[l],i[u]=a);break;case"insert":a=n.value,i[a.name]=a,o.splice(n.index,0,a);break;case"delete":a=o[n.index],delete i[a.name],o.splice(n.index,1);break}return Promise.resolve()};cr.computeFrame=function(e,r){var t=e._transitionData._frameHash,n,a,o,i;if(!r)throw new Error("computeFrame must be given a string frame name");var l=t[r.toString()];if(!l)return!1;for(var u=[l],s=[l.name];l.baseframe&&(l=t[l.baseframe.toString()])&&s.indexOf(l.name)===-1;)u.push(l),s.push(l.name);for(var f={};l=u.pop();)if(l.layout&&(f.layout=cr.extendLayout(f.layout,l.layout)),l.data){if(f.data||(f.data=[]),a=l.traces,!a)for(a=[],n=0;n<l.data.length;n++)a[n]=n;for(f.traces||(f.traces=[]),n=0;n<l.data.length;n++)o=a[n],o!=null&&(i=f.traces.indexOf(o),i===-1&&(i=f.data.length,f.traces[i]=o),f.data[i]=cr.extendTrace(f.data[i],l.data[n]))}return f};cr.recomputeFrameHash=function(e){for(var r=e._transitionData._frameHash={},t=e._transitionData._frames,n=0;n<t.length;n++){var a=t[n];a&&a.name&&(r[a.name]=a)}};cr.extendObjectWithContainers=function(e,r,t){var n,a,o,i,l,u,s,f,h=xr.extendDeepNoArrays({},r||{}),p=xr.expandObjectPaths(h),b={};if(t&&t.length)for(o=0;o<t.length;o++)n=xr.nestedProperty(p,t[o]),a=n.get(),a===void 0?xr.nestedProperty(b,t[o]).set(null):(n.set(null),xr.nestedProperty(b,t[o]).set(a));if(e=xr.extendDeepNoArrays(e||{},p),t&&t.length){for(o=0;o<t.length;o++)if(l=xr.nestedProperty(b,t[o]),s=l.get(),!!s){for(u=xr.nestedProperty(e,t[o]),f=u.get(),Array.isArray(f)||(f=[],u.set(f)),i=0;i<s.length;i++){var y=s[i];y===null?f[i]=null:f[i]=cr.extendObjectWithContainers(f[i],y)}u.set(f)}}return e};cr.dataArrayContainers=["transforms","dimensions"];cr.layoutArrayContainers=ot.layoutArrayContainers;cr.extendTrace=function(e,r){return cr.extendObjectWithContainers(e,r,cr.dataArrayContainers)};cr.extendLayout=function(e,r){return cr.extendObjectWithContainers(e,r,cr.layoutArrayContainers)};cr.transition=function(e,r,t,n,a,o){var i={redraw:a.redraw},l={},u=[];return i.prepareFn=function(){for(var s=Array.isArray(r)?r.length:0,f=n.slice(0,s),h=0;h<f.length;h++){var p=f[h],b=e._fullData[p],y=b._module;if(y){if(y.animatable){var w=y.basePlotModule.name;l[w]||(l[w]=[]),l[w].push(p)}e.data[f[h]]=cr.extendTrace(e.data[f[h]],r[h])}}var T=xr.expandObjectPaths(xr.extendDeepNoArrays({},t)),m=/^[xy]axis[0-9]*$/;for(var k in T)m.test(k)&&delete T[k].range;cr.extendLayout(e.layout,T),delete e.calcdata,cr.supplyDefaults(e),cr.doCalcdata(e);var S=xr.expandObjectPaths(t);if(S){var x=e._fullLayout._plots;for(var M in x){var d=x[M],_=d.xaxis,g=d.yaxis,c=_.range.slice(),A=g.range.slice(),v=null,D=null,E=null,R=null;Array.isArray(S[_._name+".range"])?v=S[_._name+".range"].slice():Array.isArray((S[_._name]||{}).range)&&(v=S[_._name].range.slice()),Array.isArray(S[g._name+".range"])?D=S[g._name+".range"].slice():Array.isArray((S[g._name]||{}).range)&&(D=S[g._name].range.slice()),c&&v&&(_.r2l(c[0])!==_.r2l(v[0])||_.r2l(c[1])!==_.r2l(v[1]))&&(E={xr0:c,xr1:v}),A&&D&&(g.r2l(A[0])!==g.r2l(D[0])||g.r2l(A[1])!==g.r2l(D[1]))&&(R={yr0:A,yr1:D}),(E||R)&&u.push(xr.extendFlat({plotinfo:d},E,R))}}return Promise.resolve()},i.runFn=function(s){var f,h=e._fullLayout._basePlotModules,p=u.length,b;if(t)for(b=0;b<h.length;b++)h[b].transitionAxes&&h[b].transitionAxes(e,u,o,s);p?(f=xr.extendFlat({},o),f.duration=0,delete l.cartesian):f=o;for(var y in l){var w=l[y],T=e._fullData[w[0]]._module;T.basePlotModule.plot(e,w,f,s)}},Qw(e,o,i)};cr.transitionFromReact=function(e,r,t,n){var a=e._fullLayout,o=a.transition,i={},l=[];return i.prepareFn=function(){var u=a._plots;i.redraw=!1,r.anim==="some"&&(i.redraw=!0),t.anim==="some"&&(i.redraw=!0);for(var s in u){var f=u[s],h=f.xaxis,p=f.yaxis,b=n[h._name].range.slice(),y=n[p._name].range.slice(),w=h.range.slice(),T=p.range.slice();h.setScale(),p.setScale();var m=null,k=null;(h.r2l(b[0])!==h.r2l(w[0])||h.r2l(b[1])!==h.r2l(w[1]))&&(m={xr0:b,xr1:w}),(p.r2l(y[0])!==p.r2l(T[0])||p.r2l(y[1])!==p.r2l(T[1]))&&(k={yr0:y,yr1:T}),(m||k)&&l.push(xr.extendFlat({plotinfo:f},m,k))}return Promise.resolve()},i.runFn=function(u){for(var s=e._fullData,f=e._fullLayout,h=f._basePlotModules,p,b,y,w=[],T=0;T<s.length;T++)w.push(T);function m(){if(e._fullLayout)for(var S=0;S<h.length;S++)h[S].transitionAxes&&h[S].transitionAxes(e,l,p,u)}function k(){if(e._fullLayout)for(var S=0;S<h.length;S++)h[S].plot(e,y,b,u)}l.length&&r.anim?o.ordering==="traces first"?(p=xr.extendFlat({},o,{duration:0}),y=w,b=o,setTimeout(m,o.duration),k()):(p=o,y=null,b=xr.extendFlat({},o,{duration:0}),setTimeout(k,p.duration),m()):l.length?(p=o,m()):r.anim&&(y=w,b=o,k())},Qw(e,o,i)};function Qw(e,r,t){var n=!1;function a(h){var p=Promise.resolve();if(!h)return p;for(;h.length;)p=p.then(h.shift());return p}function o(h){if(h)for(;h.length;)h.shift()}function i(){return e.emit("plotly_transitioning",[]),new Promise(function(h){e._transitioning=!0,r.duration>0&&(e._transitioningWithDuration=!0),e._transitionData._interruptCallbacks.push(function(){n=!0}),t.redraw&&e._transitionData._interruptCallbacks.push(function(){return ot.call("redraw",e)}),e._transitionData._interruptCallbacks.push(function(){e.emit("plotly_transitioninterrupted",[])});var p=0,b=0;function y(){return p++,function(){b++,!n&&b===p&&l(h)}}t.runFn(y),setTimeout(y())})}function l(h){if(e._transitionData)return o(e._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(t.redraw)return ot.call("redraw",e)}).then(function(){e._transitioning=!1,e._transitioningWithDuration=!1,e.emit("plotly_transitioned",[])}).then(h)}function u(){if(e._transitionData)return e._transitioning=!1,a(e._transitionData._interruptCallbacks)}var s=[cr.previousPromises,u,t.prepareFn,cr.rehover,cr.reselect,i],f=xr.syncOrAsync(s,e);return(!f||!f.then)&&(f=Promise.resolve()),f.then(function(){return e})}cr.doCalcdata=function(e,r){var t=oa.list(e),n=e._fullData,a=e._fullLayout,o,i,l,u,s=new Array(n.length),f=(e.calcdata||[]).slice();for(e.calcdata=s,a._numBoxes=0,a._numViolins=0,a._violinScaleGroupStats={},e._hmpixcount=0,e._hmlumcount=0,a._piecolormap={},a._sunburstcolormap={},a._treemapcolormap={},a._iciclecolormap={},a._funnelareacolormap={},l=0;l<n.length;l++)if(Array.isArray(r)&&r.indexOf(l)===-1){s[l]=f[l];continue}for(l=0;l<n.length;l++)o=n[l],o._arrayAttrs=Ww.findArrayAttributes(o),o._extremes={};var h=a._subplots.polar||[];for(l=0;l<h.length;l++)t.push(a[h[l]].radialaxis,a[h[l]].angularaxis);for(var p in a._colorAxes){var b=a[p];b.cauto!==!1&&(delete b.cmin,delete b.cmax)}var y=!1;function w(k){if(o=n[k],i=o._module,o.visible===!0&&o.transforms){if(i&&i.calc){var S=i.calc(e,o);S[0]&&S[0].t&&S[0].t._scene&&delete S[0].t._scene.dirty}for(u=0;u<o.transforms.length;u++){var x=o.transforms[u];i=transformsRegistry[x.type],i&&i.calcTransform&&(o._hasCalcTransform=!0,y=!0,i.calcTransform(e,o,x))}}}function T(k,S){if(o=n[k],i=o._module,!!i.isContainer===S){var x=[];if(o.visible===!0&&o._length!==0){delete o._indexToPoints;var M=o.transforms||[];for(u=M.length-1;u>=0;u--)if(M[u].enabled){o._indexToPoints=M[u]._indexToPoints;break}i&&i.calc&&(x=i.calc(e,o))}(!Array.isArray(x)||!x[0])&&(x=[{x:Ow,y:Ow}]),x[0].t||(x[0].t={}),x[0].trace=o,s[k]=x}}for(Vw(t,n,a),l=0;l<n.length;l++)T(l,!0);for(l=0;l<n.length;l++)w(l);for(y&&Vw(t,n,a),l=0;l<n.length;l++)T(l,!0);for(l=0;l<n.length;l++)T(l,!1);Gw(e);var m=YG(t,e);if(m.length){for(a._numBoxes=0,a._numViolins=0,l=0;l<m.length;l++)T(m[l],!0);for(l=0;l<m.length;l++)T(m[l],!1);Gw(e)}ot.getComponentMethod("fx","calc")(e),ot.getComponentMethod("errorbars","calc")(e)};var GG=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function YG(e,r){var t=[],n,a,o,i,l;function u(L,P,O){var U=P._id.charAt(0);if(L==="histogram2dcontour"){var X=P._counterAxes[0],$=oa.getFromId(r,X),j=U==="x"||X==="x"&&$.type==="category",Y=U==="y"||X==="y"&&$.type==="category";return function(q,Q){return q===0||Q===0||j&&q===O[Q].length-1||Y&&Q===O.length-1?-1:(U==="y"?Q:q)-1}}else return function(q,Q){return U==="y"?Q:q}}var s={min:function(L){return xr.aggNums(Math.min,null,L)},max:function(L){return xr.aggNums(Math.max,null,L)},sum:function(L){return xr.aggNums(function(P,O){return P+O},null,L)},total:function(L){return xr.aggNums(function(P,O){return P+O},null,L)},mean:function(L){return xr.mean(L)},"geometric mean":function(L){return xr.geometricMean(L)},median:function(L){return xr.median(L)}};function f(L,P){return L[1]-P[1]}function h(L,P){return P[1]-L[1]}for(n=0;n<e.length;n++){var p=e[n];if(p.type==="category"){var b=p.categoryorder.match(GG);if(b){var y=b[1],w=b[2],T=p._id.charAt(0),m=T==="x",k=[];for(a=0;a<p._categories.length;a++)k.push([p._categories[a],[]]);for(a=0;a<p._traceIndices.length;a++){var S=p._traceIndices[a],x=r._fullData[S];if(x.visible===!0){var M=x.type;ot.traceIs(x,"histogram")&&(delete x._xautoBinFinished,delete x._yautoBinFinished);var d=M==="splom",_=M==="scattergl",g=r.calcdata[S];for(o=0;o<g.length;o++){var c=g[o],A,v;if(d){var D=x._axesDim[p._id];if(!m){var E=x._diag[D][0];E&&(p=r._fullLayout[oa.id2name(E)])}var R=c.trace.dimensions[D].values;for(i=0;i<R.length;i++)for(A=p._categoriesMap[R[i]],l=0;l<c.trace.dimensions.length;l++)if(l!==D){var N=c.trace.dimensions[l];k[A][1].push(N.values[i])}}else if(_){for(i=0;i<c.t.x.length;i++)m?(A=c.t.x[i],v=c.t.y[i]):(A=c.t.y[i],v=c.t.x[i]),k[A][1].push(v);c.t&&c.t._scene&&delete c.t._scene.dirty}else if(c.hasOwnProperty("z")){v=c.z;var F=u(x.type,p,v);for(i=0;i<v.length;i++)for(l=0;l<v[i].length;l++)A=F(l,i),A+1&&k[A][1].push(v[i][l])}else for(A=c.p,A===void 0&&(A=c[T]),v=c.s,v===void 0&&(v=c.v),v===void 0&&(v=m?c.y:c.x),Array.isArray(v)||(v===void 0?v=[]:v=[v]),i=0;i<v.length;i++)k[A][1].push(v[i])}}}p._categoriesValue=k;var I=[];for(a=0;a<k.length;a++)I.push([k[a][0],s[y](k[a][1])]);I.sort(w==="descending"?h:f),p._categoriesAggregatedValue=I,p._initialCategories=I.map(function(L){return L[0]}),t=t.concat(p.sortByInitialCategories())}}}return t}function Vw(e,r,t){var n={};function a(u){u.clearCalc(),u.type==="multicategory"&&u.setupMultiCategory(r),n[u._id]=1}xr.simpleMap(e,a);for(var o=t._axisMatchGroups||[],i=0;i<o.length;i++)for(var l in o[i])n[l]||a(t[oa.id2name(l)])}function Gw(e){var r=e._fullLayout,t=r._visibleModules,n={},a,o,i;for(o=0;o<t.length;o++){var l=t[o],u=l.crossTraceCalc;if(u){var s=l.basePlotModule.name;n[s]?xr.pushUnique(n[s],u):n[s]=[u]}}for(i in n){var f=n[i],h=r._subplots[i];if(Array.isArray(h))for(a=0;a<h.length;a++){var p=h[a],b=i==="cartesian"?r._plots[p]:r[p];for(o=0;o<f.length;o++)f[o](e,b,p)}else for(o=0;o<f.length;o++)f[o](e)}}cr.rehover=function(e){e._fullLayout._rehover&&e._fullLayout._rehover()};cr.redrag=function(e){e._fullLayout._redrag&&e._fullLayout._redrag()};cr.reselect=function(e){var r=e._fullLayout,t=(e.layout||{}).selections,n=r._previousSelections;r._previousSelections=t;var a=r._reselect||JSON.stringify(t)!==JSON.stringify(n);ot.getComponentMethod("selections","reselect")(e,a)};cr.generalUpdatePerTraceModule=function(e,r,t,n){var a=r.traceHash,o={},i;for(i=0;i<t.length;i++){var l=t[i],u=l[0].trace;u.visible&&(o[u.type]=o[u.type]||[],o[u.type].push(l))}for(var s in a)if(!o[s]){var f=a[s][0],h=f[0].trace;h.visible=!1,o[s]=[f]}for(var p in o){var b=o[p],y=b[0][0].trace._module;y.plot(e,r,xr.filterVisible(b),n)}r.traceHash=o};cr.plotBasePlot=function(e,r,t,n,a){var o=ot.getModule(e),i=PG(r.calcdata,o)[0];o.plot(r,i,n,a)};cr.cleanBasePlot=function(e,r,t,n,a){var o=a._has&&a._has(e),i=t._has&&t._has(e);o&&!i&&a["_"+e+"layer"].selectAll("g.trace").remove()}});var Ho=de(Hl=>{"use strict";Hl.xmlns="http://www.w3.org/2000/xmlns/";Hl.svg="http://www.w3.org/2000/svg";Hl.xlink="http://www.w3.org/1999/xlink";Hl.svgAttrs={xmlns:Hl.svg,"xmlns:xlink":Hl.xlink}});var Cn=de((y0e,jw)=>{"use strict";jw.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}});var On=de(La=>{"use strict";var Zt=it(),oo=ir(),WG=oo.strTranslate,sg=Ho(),XG=Cn().LINE_SPACING,ZG=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;La.convertToTspans=function(e,r,t){var n=e.text(),a=!e.attr("data-notex")&&r&&r._context.typesetMath&&typeof MathJax!="undefined"&&n.match(ZG),o=Zt.select(e.node().parentNode);if(o.empty())return;var i=e.attr("class")?e.attr("class").split(" ")[0]:"text";i+="-math",o.selectAll("svg."+i).remove(),o.selectAll("g."+i+"-group").remove(),e.style("display",null).attr({"data-unformatted":n,"data-math":"N"});function l(){o.empty()||(i=e.attr("class")+"-math",o.select("svg."+i).remove()),e.text("").style("white-space","pre");var u=lY(e.node(),n);u&&e.style("pointer-events","all"),La.positionText(e),t&&t.call(e)}return a?(r&&r._promises||[]).push(new Promise(function(u){e.style("display","none");var s=parseInt(e.node().style.fontSize,10),f={fontSize:s};$G(a[2],f,function(h,p,b){o.selectAll("svg."+i).remove(),o.selectAll("g."+i+"-group").remove();var y=h&&h.select("svg");if(!y||!y.node()){l(),u();return}var w=o.append("g").classed(i+"-group",!0).attr({"pointer-events":"none","data-unformatted":n,"data-math":"Y"});w.node().appendChild(y.node()),p&&p.node()&&y.node().insertBefore(p.node().cloneNode(!0),y.node().firstChild);var T=b.width,m=b.height;y.attr({class:i,height:m,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var k=e.node().style.fill||"black",S=y.select("g");S.attr({fill:k,stroke:k});var x=S.node().getBoundingClientRect(),M=x.width,d=x.height;(M>T||d>m)&&(y.style("overflow","hidden"),x=y.node().getBoundingClientRect(),M=x.width,d=x.height);var _=+e.attr("x"),g=+e.attr("y"),c=s||e.node().getBoundingClientRect().height,A=-c/4;if(i[0]==="y")w.attr({transform:"rotate("+[-90,_,g]+")"+WG(-M/2,A-d/2)});else if(i[0]==="l")g=A-d/2;else if(i[0]==="a"&&i.indexOf("atitle")!==0)_=0,g=A;else{var v=e.attr("text-anchor");_=_-M*(v==="middle"?.5:v==="end"?1:0),g=g+A-d/2}y.attr({x:_,y:g}),t&&t.call(e,w),u(w)})})):l(),e};var JG=/(<|&lt;|&#60;)/g,KG=/(>|&gt;|&#62;)/g;function QG(e){return e.replace(JG,"\\lt ").replace(KG,"\\gt ")}var e7=[["$","$"],["\\(","\\)"]];function $G(e,r,t){var n=parseInt((MathJax.version||"").split(".")[0]);if(n!==2&&n!==3){oo.warn("No MathJax version:",MathJax.version);return}var a,o,i,l,u=function(){return o=oo.extendDeepAll({},MathJax.Hub.config),i=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:e7},displayAlign:"left"})},s=function(){o=oo.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=e7},f=function(){if(a=MathJax.Hub.config.menuSettings.renderer,a!=="SVG")return MathJax.Hub.setRenderer("SVG")},h=function(){a=MathJax.config.startup.output,a!=="svg"&&(MathJax.config.startup.output="svg")},p=function(){var k="math-output-"+oo.randstr({},64);l=Zt.select("body").append("div").attr({id:k}).style({visibility:"hidden",position:"absolute","font-size":r.fontSize+"px"}).text(QG(e));var S=l.node();return n===2?MathJax.Hub.Typeset(S):MathJax.typeset([S])},b=function(){var k=l.select(n===2?".MathJax_SVG":".MathJax"),S=!k.empty()&&l.select("svg").node();if(!S)oo.log("There was an error in the tex syntax.",e),t();else{var x=S.getBoundingClientRect(),M;n===2?M=Zt.select("body").select("#MathJax_SVG_glyphs"):M=k.select("defs"),t(k,M,x)}l.remove()},y=function(){if(a!=="SVG")return MathJax.Hub.setRenderer(a)},w=function(){a!=="svg"&&(MathJax.config.startup.output=a)},T=function(){return i!==void 0&&(MathJax.Hub.processSectionDelay=i),MathJax.Hub.Config(o)},m=function(){MathJax.config=o};n===2?MathJax.Hub.Queue(u,f,p,b,y,T):n===3&&(s(),h(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){p(),b(),w(),m()}))}var a7={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},jG={sub:"0.3em",sup:"-0.6em"},eY={sub:"-0.21em",sup:"0.42em"},r7="\u200B",t7=["http:","https:","mailto:","",void 0,":"],i7=La.NEWLINES=/(\r\n?|\n)/g,fg=/(<[^<>]*>)/,cg=/<(\/?)([^ >]*)(\s+(.*))?>/i,rY=/<br(\s+.*)?>/i;La.BR_TAG_ALL=/<br(\s+.*)?>/gi;var o7=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,l7=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,s7=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,tY=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function Vl(e,r){if(!e)return null;var t=e.match(r),n=t&&(t[3]||t[4]);return n&&Mh(n)}var nY=/(^|;)\s*color:/;La.plainText=function(e,r){r=r||{};for(var t=r.len!==void 0&&r.len!==-1?r.len:1/0,n=r.allowedTags!==void 0?r.allowedTags:["br"],a="...",o=a.length,i=e.split(fg),l=[],u="",s=0,f=0;f<i.length;f++){var h=i[f],p=h.match(cg),b=p&&p[2].toLowerCase();if(b)n.indexOf(b)!==-1&&(l.push(h),u=b);else{var y=h.length;if(s+y<t)l.push(h),s+=y;else if(s<t){var w=t-s;u&&(u!=="br"||w<=o||y<=o)&&l.pop(),t>o?l.push(h.slice(0,Math.max(0,w-o))+a):l.push(h.slice(0,w));break}u=""}}return l.join("")};var aY={mu:"\u03BC",amp:"&",lt:"<",gt:">",nbsp:"\xA0",times:"\xD7",plusmn:"\xB1",deg:"\xB0"},iY=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function Mh(e){return e.replace(iY,function(r,t){var n;return t.charAt(0)==="#"?n=oY(t.charAt(1)==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10)):n=aY[t],n||r})}La.convertEntities=Mh;function oY(e){if(!(e>1114111)){var r=String.fromCodePoint;if(r)return r(e);var t=String.fromCharCode;return e<=65535?t(e):t((e>>10)+55232,e%1024+56320)}}function lY(e,r){r=r.replace(i7," ");var t=!1,n=[],a,o=-1;function i(){o++;var d=document.createElementNS(sg.svg,"tspan");Zt.select(d).attr({class:"line",dy:o*XG+"em"}),e.appendChild(d),a=d;var _=n;if(n=[{node:d}],_.length>1)for(var g=1;g<_.length;g++)l(_[g])}function l(d){var _=d.type,g={},c;if(_==="a"){c="a";var A=d.target,v=d.href,D=d.popup;v&&(g={"xlink:xlink:show":A==="_blank"||A.charAt(0)!=="_"?"new":"replace",target:A,"xlink:xlink:href":v},D&&(g.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+D+'");return false;'))}else c="tspan";d.style&&(g.style=d.style);var E=document.createElementNS(sg.svg,c);if(_==="sup"||_==="sub"){u(a,r7),a.appendChild(E);var R=document.createElementNS(sg.svg,"tspan");u(R,r7),Zt.select(R).attr("dy",eY[_]),g.dy=jG[_],a.appendChild(E),a.appendChild(R)}else a.appendChild(E);Zt.select(E).attr(g),a=d.node=E,n.push(d)}function u(d,_){d.appendChild(document.createTextNode(_))}function s(d){if(n.length===1){oo.log("Ignoring unexpected end tag </"+d+">.",r);return}var _=n.pop();d!==_.type&&oo.log("Start tag <"+_.type+"> doesnt match end tag <"+d+">. Pretending it did match.",r),a=n[n.length-1].node}var f=rY.test(r);f?i():(a=e,n=[{node:e}]);for(var h=r.split(fg),p=0;p<h.length;p++){var b=h[p],y=b.match(cg),w=y&&y[2].toLowerCase(),T=a7[w];if(w==="br")i();else if(T===void 0)u(a,Mh(b));else if(y[1])s(w);else{var m=y[4],k={type:w},S=Vl(m,o7);if(S?(S=S.replace(nY,"$1 fill:"),T&&(S+=";"+T)):T&&(S=T),S&&(k.style=S),w==="a"){t=!0;var x=Vl(m,l7);if(x){var M=u7(x);M&&(k.href=M,k.target=Vl(m,s7)||"_blank",k.popup=Vl(m,tY))}}l(k)}}return t}function u7(e){var r=encodeURI(decodeURI(e)),t=document.createElement("a"),n=document.createElement("a");t.href=e,n.href=r;var a=t.protocol,o=n.protocol;return t7.indexOf(a)!==-1&&t7.indexOf(o)!==-1?r:""}La.sanitizeHTML=function(r){r=r.replace(i7," ");for(var t=document.createElement("p"),n=t,a=[],o=r.split(fg),i=0;i<o.length;i++){var l=o[i],u=l.match(cg),s=u&&u[2].toLowerCase();if(s in a7)if(u[1])a.length&&(n=a.pop());else{var f=u[4],h=Vl(f,o7),p=h?{style:h}:{};if(s==="a"){var b=Vl(f,l7);if(b){var y=u7(b);if(y){p.href=y;var w=Vl(f,s7);w&&(p.target=w)}}}var T=document.createElement(s);n.appendChild(T),Zt.select(T).attr(p),n=T,a.push(T)}else n.appendChild(document.createTextNode(Mh(l)))}var m="innerHTML";return t[m]};La.lineCount=function(r){return r.selectAll("tspan.line").size()||1};La.positionText=function(r,t,n){return r.each(function(){var a=Zt.select(this);function o(u,s){return s===void 0?(s=a.attr(u),s===null&&(a.attr(u,0),s=0)):a.attr(u,s),s}var i=o("x",t),l=o("y",n);this.nodeName==="text"&&a.selectAll("tspan.line").attr({x:i,y:l})})};function n7(e,r,t){var n=t.horizontalAlign,a=t.verticalAlign||"top",o=e.node().getBoundingClientRect(),i=r.node().getBoundingClientRect(),l,u,s;return a==="bottom"?u=function(){return o.bottom-l.height}:a==="middle"?u=function(){return o.top+(o.height-l.height)/2}:u=function(){return o.top},n==="right"?s=function(){return o.right-l.width}:n==="center"?s=function(){return o.left+(o.width-l.width)/2}:s=function(){return o.left},function(){l=this.node().getBoundingClientRect();var f=s()-i.left,h=u()-i.top,p=t.gd||{};if(t.gd){p._fullLayout._calcInverseTransform(p);var b=oo.apply3DTransform(p._fullLayout._invTransform)(f,h);f=b[0],h=b[1]}return this.style({top:h+"px",left:f+"px","z-index":1e3}),this}}var ug="1px ";La.makeTextShadow=function(e){var r=ug,t=ug,n=ug;return r+t+n+e+", -"+r+"-"+t+n+e+", "+r+"-"+t+n+e+", -"+r+t+n+e};La.makeEditable=function(e,r){var t=r.gd,n=r.delegate,a=Zt.dispatch("edit","input","cancel"),o=n||e;if(e.style({"pointer-events":n?"none":"all"}),e.size()!==1)throw new Error("boo");function i(){u(),e.style({opacity:0});var s=o.attr("class"),f;s?f="."+s.split(" ")[0]+"-math-group":f="[class*=-math-group]",f&&Zt.select(e.node().parentNode).select(f).style({opacity:0})}function l(s){var f=s.node(),h=document.createRange();h.selectNodeContents(f);var p=window.getSelection();p.removeAllRanges(),p.addRange(h),f.focus()}function u(){var s=Zt.select(t),f=s.select(".svg-container"),h=f.append("div"),p=e.node().style,b=parseFloat(p.fontSize||12),y=r.text;y===void 0&&(y=e.attr("data-unformatted")),h.classed("plugin-editable editable",!0).style({position:"absolute","font-family":p.fontFamily||"Arial","font-size":b,color:r.fill||p.fill||"black",opacity:1,"background-color":r.background||"transparent",outline:"#ffffff33 1px solid",margin:[-b/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(y).call(n7(e,f,r)).on("blur",function(){t._editing=!1,e.text(this.textContent).style({opacity:1});var w=Zt.select(this).attr("class"),T;w?T="."+w.split(" ")[0]+"-math-group":T="[class*=-math-group]",T&&Zt.select(e.node().parentNode).select(T).style({opacity:0});var m=this.textContent;Zt.select(this).transition().duration(0).remove(),Zt.select(document).on("mouseup",null),a.edit.call(e,m)}).on("focus",function(){var w=this;t._editing=!0,Zt.select(document).on("mouseup",function(){if(Zt.event.target===w)return!1;document.activeElement===h.node()&&h.node().blur()})}).on("keyup",function(){Zt.event.which===27?(t._editing=!1,e.style({opacity:1}),Zt.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),a.cancel.call(e,this.textContent)):(a.input.call(e,this.textContent),Zt.select(this).call(n7(e,f,r)))}).on("keydown",function(){Zt.event.which===13&&this.blur()}).call(l)}return r.immediate?i():o.on("click",i),Zt.rebind(e,a,"on")}});var Ei=de((x0e,y7)=>{"use strict";var sY=it(),Ah=Sa(),Pf=nt(),Th=ir(),f7=Xr(),uY=Dl().isValid;function fY(e,r,t){var n=r?Th.nestedProperty(e,r).get()||{}:e,a=n[t||"color"];a&&a._inputArray&&(a=a._inputArray);var o=!1;if(Th.isArrayOrTypedArray(a)){for(var i=0;i<a.length;i++)if(Pf(a[i])){o=!0;break}}return Th.isPlainObject(n)&&(o||n.showscale===!0||Pf(n.cmin)&&Pf(n.cmax)||uY(n.colorscale)||Th.isPlainObject(n.colorbar))}var c7=["showscale","autocolorscale","colorscale","reversescale","colorbar"],Rf=["min","max","mid","auto"];function v7(e){var r=e._colorAx,t=r||e,n={},a,o,i;for(o=0;o<c7.length;o++)i=c7[o],n[i]=t[i];if(r)for(a="c",o=0;o<Rf.length;o++)i=Rf[o],n[i]=t["c"+i];else{var l;for(o=0;o<Rf.length;o++){if(i=Rf[o],l="c"+i,l in t){n[i]=t[l];continue}l="z"+i,l in t&&(n[i]=t[l])}a=l.charAt(0)}return n._sync=function(u,s){var f=Rf.indexOf(u)!==-1?a+u:u;t[f]=t["_"+f]=s},n}function d7(e){for(var r=v7(e),t=r.min,n=r.max,a=r.reversescale?p7(r.colorscale):r.colorscale,o=a.length,i=new Array(o),l=new Array(o),u=0;u<o;u++){var s=a[u];i[u]=t+s[0]*(n-t),l[u]=s[1]}return{domain:i,range:l}}function p7(e){for(var r=e.length,t=new Array(r),n=r-1,a=0;n>=0;n--,a++){var o=e[n];t[a]=[1-o[0],o[1]]}return t}function g7(e,r){r=r||{};for(var t=e.domain,n=e.range,a=n.length,o=new Array(a),i=0;i<a;i++){var l=Ah(n[i]).toRgb();o[i]=[l.r,l.g,l.b,l.a]}var u=sY.scale.linear().domain(t).range(o).clamp(!0),s=r.noNumericCheck,f=r.returnArray,h;return s&&f?h=u:s?h=function(p){return h7(u(p))}:f?h=function(p){return Pf(p)?u(p):Ah(p).isValid()?p:f7.defaultLine}:h=function(p){return Pf(p)?h7(u(p)):Ah(p).isValid()?p:f7.defaultLine},h.domain=u.domain,h.range=function(){return n},h}function cY(e,r){return g7(d7(e),r)}function h7(e){var r={r:e[0],g:e[1],b:e[2],a:e[3]};return Ah(r).toRgbString()}y7.exports={hasColorscale:fY,extractOpts:v7,extractScale:d7,flipScale:p7,makeColorScaleFunc:g7,makeColorScaleFuncFromTrace:cY}});var lo=de((b0e,b7)=>{"use strict";var m7=Rp(),hY=m7.FORMAT_LINK,vY=m7.DATE_FORMAT_LINK;function dY(e,r){return{valType:"string",dflt:"",editType:"none",description:(r?hg:x7)("hover text",e)+["By default the values are formatted using "+(r?"generic number format":"`"+e+"axis.hoverformat`")+"."].join(" ")}}function hg(e,r){return["Sets the "+e+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+hY+"."].join(" ")}function x7(e,r){return hg(e,r)+[" And for dates see: "+vY+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}b7.exports={axisHoverFormat:dY,descriptionOnlyNumbers:hg,descriptionWithDates:x7}});var Da=de((w0e,z7)=>{"use strict";var _7=kn(),nu=Si(),N7=Ro().dash,dg=Tt().extendFlat,w7=yt().templatedArray,_0e=ja().templateFormatStringDescription,M7=lo().descriptionWithDates,pY=nn().ONEDAY,Li=on(),gY=Li.HOUR_PATTERN,yY=Li.WEEKDAY_PATTERN,vg={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},mY=dg({},vg,{values:vg.values.slice().concat(["sync"])});function T7(e){return{valType:"integer",min:0,dflt:e?5:0,editType:"ticks"}}var A7={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},k7={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},S7={valType:"data_array",editType:"ticks"},C7={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function E7(e){var r={valType:"number",min:0,editType:"ticks"};return e||(r.dflt=5),r}function L7(e){var r={valType:"number",min:0,editType:"ticks"};return e||(r.dflt=1),r}var D7={valType:"color",dflt:nu.defaultLine,editType:"ticks"},R7={valType:"color",dflt:nu.lightLine,editType:"ticks"};function P7(e){var r={valType:"number",min:0,editType:"ticks"};return e||(r.dflt=1),r}var I7=dg({},N7,{editType:"ticks"}),F7={valType:"boolean",editType:"ticks"};z7.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:nu.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:_7({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},modebardisable:{valType:"flaglist",flags:["autoscale","zoominout"],extras:["none"],dflt:"none",editType:"modebar"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[Li.idRegex.x.toString(),Li.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[Li.idRegex.x.toString(),Li.idRegex.y.toString()],editType:"calc"},rangebreaks:w7("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[yY,gY,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:pY},editType:"calc"}),tickmode:mY,nticks:T7(),tick0:A7,dtick:k7,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:S7,ticktext:{valType:"data_array",editType:"ticks"},ticks:C7,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks"},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks"},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:E7(),tickwidth:L7(),tickcolor:D7,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:dg({},N7,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:_7({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B","SI extended"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:M7("tick label")},tickformatstops:w7("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:M7("hover text")},unifiedhovertitle:{text:{valType:"string",dflt:"",editType:"none"},editType:"none"},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:nu.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:F7,gridcolor:R7,gridwidth:P7(),griddash:I7,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:nu.defaultLine,editType:"ticks"},zerolinelayer:{valType:"enumerated",values:["above traces","below traces"],dflt:"below traces",editType:"plot"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:nu.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",Li.idRegex.x.toString(),Li.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",Li.idRegex.x.toString(),Li.idRegex.y.toString()],editType:"plot"},minor:{tickmode:vg,nticks:T7("minor"),tick0:A7,dtick:k7,tickvals:S7,ticks:C7,ticklen:E7("minor"),tickwidth:L7("minor"),tickcolor:D7,gridcolor:R7,gridwidth:P7("minor"),griddash:I7,showgrid:F7,editType:"ticks"},minorloglabels:{valType:"enumerated",values:["small digits","complete","none"],dflt:"small digits",editType:"calc"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc"}});var kh=de((M0e,B7)=>{"use strict";var kt=Da(),q7=kn(),O7=Tt().extendFlat,xY=qn().overrideAll;B7.exports=xY({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:kt.linecolor,outlinewidth:kt.linewidth,bordercolor:kt.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:kt.minor.tickmode,nticks:kt.nticks,tick0:kt.tick0,dtick:kt.dtick,tickvals:kt.tickvals,ticktext:kt.ticktext,ticks:O7({},kt.ticks,{dflt:""}),ticklabeloverflow:O7({},kt.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:kt.ticklen,tickwidth:kt.tickwidth,tickcolor:kt.tickcolor,ticklabelstep:kt.ticklabelstep,showticklabels:kt.showticklabels,labelalias:kt.labelalias,tickfont:q7({}),tickangle:kt.tickangle,tickformat:kt.tickformat,tickformatstops:kt.tickformatstops,tickprefix:kt.tickprefix,showtickprefix:kt.showtickprefix,ticksuffix:kt.ticksuffix,showticksuffix:kt.showticksuffix,separatethousands:kt.separatethousands,exponentformat:kt.exponentformat,minexponent:kt.minexponent,showexponent:kt.showexponent,title:{text:{valType:"string"},font:q7({}),side:{valType:"enumerated",values:["right","top","bottom"]}}},"colorbars","from-root")});var ni=de((A0e,H7)=>{"use strict";var bY=kh(),_Y=Os().counter,wY=nh(),U7=Dl().scales,T0e=wY(U7);function Sh(e){return"`"+e+"`"}H7.exports=function(r,t){r=r||"",t=t||{};var n=t.cLetter||"c",a="onlyIfNumerical"in t?t.onlyIfNumerical:!!r,o="noScale"in t?t.noScale:r==="marker.line",i="showScaleDflt"in t?t.showScaleDflt:n==="z",l=typeof t.colorscaleDflt=="string"?U7[t.colorscaleDflt]:null,u=t.editTypeOverride||"",s=r?r+".":"",f,h;"colorAttr"in t?(f=t.colorAttr,h=t.colorAttr):(f={z:"z",c:"color"}[n],h="in "+Sh(s+f));var p=a?" Has an effect only if "+h+" is set to a numerical array.":"",b=n+"auto",y=n+"min",w=n+"max",T=n+"mid",m=Sh(s+b),k=Sh(s+y),S=Sh(s+w),x=k+" and "+S,M={};M[y]=M[w]=void 0;var d={};d[b]=!1;var _={};return f==="color"&&(_.color={valType:"color",arrayOk:!0,editType:u||"style"},t.anim&&(_.color.anim=!0)),_[b]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:M},_[y]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:d},_[w]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:d},_[T]={valType:"number",dflt:null,editType:"calc",impliedEdits:M},_.colorscale={valType:"colorscale",editType:"calc",dflt:l,impliedEdits:{autocolorscale:!1}},_.autocolorscale={valType:"boolean",dflt:t.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},_.reversescale={valType:"boolean",dflt:!1,editType:"plot"},o||(_.showscale={valType:"boolean",dflt:i,editType:"calc"},_.colorbar=bY),t.noColorAxis||(_.coloraxis={valType:"subplotid",regex:_Y("coloraxis"),dflt:null,editType:"calc"}),_}});var gg=de((k0e,V7)=>{"use strict";var MY=Tt().extendFlat,TY=ni(),pg=Dl().scales;V7.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:pg.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:pg.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:pg.RdBu,editType:"calc"}},coloraxis:MY({_isSubplotObj:!0,editType:"calc"},TY("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}});var yg=de((S0e,G7)=>{"use strict";var AY=ir();G7.exports=function(r){return AY.isPlainObject(r.colorbar)}});var bg=de(xg=>{"use strict";var mg=nt(),Y7=ir(),W7=nn(),kY=W7.ONEDAY,SY=W7.ONEWEEK;xg.dtick=function(e,r){var t=r==="log",n=r==="date",a=r==="category",o=n?kY:1;if(!e)return o;if(mg(e))return e=Number(e),e<=0?o:a?Math.max(1,Math.round(e)):n?Math.max(.1,e):e;if(typeof e!="string"||!(n||t))return o;var i=e.charAt(0),l=e.slice(1);return l=mg(l)?Number(l):0,l<=0||!(n&&i==="M"&&l===Math.round(l)||t&&i==="L"||t&&i==="D"&&(l===1||l===2))?o:e};xg.tick0=function(e,r,t,n){if(r==="date")return Y7.cleanDate(e,Y7.dateTick0(t,n%SY===0?1:0));if(!(n==="D1"||n==="D2"))return mg(e)?Number(e):0}});var _g=de((E0e,Z7)=>{"use strict";var X7=bg(),CY=ir().isArrayOrTypedArray,EY=ra().isTypedArraySpec,LY=ra().decodeTypedArraySpec;Z7.exports=function(r,t,n,a,o){o||(o={});var i=o.isMinor,l=i?r.minor||{}:r,u=i?t.minor:t,s=i?"minor.":"";function f(k){var S=l[k];return EY(S)&&(S=LY(S)),S!==void 0?S:(u._template||{})[k]}var h=f("tick0"),p=f("dtick"),b=f("tickvals"),y=CY(b)?"array":p?"linear":"auto",w=n(s+"tickmode",y);if(w==="auto"||w==="sync")n(s+"nticks");else if(w==="linear"){var T=u.dtick=X7.dtick(p,a);u.tick0=X7.tick0(h,a,t.calendar,T)}else if(a!=="multicategory"){var m=n(s+"tickvals");m===void 0?u.tickmode="auto":i||n("ticktext")}}});var Mg=de((L0e,K7)=>{"use strict";var wg=ir(),J7=Da();K7.exports=function(r,t,n,a){var o=a.isMinor,i=o?r.minor||{}:r,l=o?t.minor:t,u=o?J7.minor:J7,s=o?"minor.":"",f=wg.coerce2(i,l,u,"ticklen",o?(t.ticklen||5)*.6:void 0),h=wg.coerce2(i,l,u,"tickwidth",o?t.tickwidth||1:void 0),p=wg.coerce2(i,l,u,"tickcolor",(o?t.tickcolor:void 0)||l.color),b=n(s+"ticks",!o&&a.outerTicks||f||h||p?"outside":"");b||(delete l.ticklen,delete l.tickwidth,delete l.tickcolor)}});var Tg=de((D0e,Q7)=>{"use strict";Q7.exports=function(r){var t=["showexponent","showtickprefix","showticksuffix"],n=t.filter(function(o){return r[o]!==void 0}),a=function(o){return r[o]===r[n[0]]};if(n.every(a)||n.length===1)return r[n[0]]}});var ai=de((R0e,$7)=>{"use strict";var Ch=ir(),DY=yt();$7.exports=function(r,t,n){var a=n.name,o=n.inclusionAttr||"visible",i=t[a],l=Ch.isArrayOrTypedArray(r[a])?r[a]:[],u=t[a]=[],s=DY.arrayTemplater(t,a,o),f,h;for(f=0;f<l.length;f++){var p=l[f];Ch.isPlainObject(p)?h=s.newItem(p):(h=s.newItem({}),h[o]=!1),h._index=f,h[o]!==!1&&n.handleItemDefaults(p,h,t,n),u.push(h)}var b=s.defaultItems();for(f=0;f<b.length;f++)h=b[f],h._index=u.length,n.handleItemDefaults({},h,t,n,{}),u.push(h);if(Ch.isArrayOrTypedArray(i)){var y=Math.min(i.length,u.length);for(f=0;f<y;f++)Ch.relinkPrivateKeys(u[f],i[f])}return u}});var kg=de((P0e,e8)=>{"use strict";var Ag=ir(),RY=Xr().contrast,j7=Da(),PY=Tg(),IY=ai();e8.exports=function(r,t,n,a,o){o||(o={});var i=n("labelalias");Ag.isPlainObject(i)||delete t.labelalias;var l=PY(r),u=n("showticklabels");if(u){o.noTicklabelshift||n("ticklabelshift"),o.noTicklabelstandoff||n("ticklabelstandoff");var s=o.font||{},f=t.color,h=t.ticklabelposition||"",p=h.indexOf("inside")!==-1?RY(o.bgColor):f&&f!==j7.color.dflt?f:s.color;if(Ag.coerceFont(n,"tickfont",s,{overrideDflt:{color:p}}),!o.noTicklabelstep&&a!=="multicategory"&&a!=="log"&&n("ticklabelstep"),!o.noAng){var b=n("tickangle");!o.noAutotickangles&&b==="auto"&&n("autotickangles")}if(a!=="category"){var y=n("tickformat");IY(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:FY}),t.tickformatstops.length||delete t.tickformatstops,!o.noExp&&!y&&a!=="date"&&(n("showexponent",l),n("exponentformat"),n("minexponent"),n("separatethousands"))}!o.noMinorloglabels&&a==="log"&&n("minorloglabels")}};function FY(e,r){function t(a,o){return Ag.coerce(e,r,j7.tickformatstops,a,o)}var n=t("enabled");n&&(t("dtickrange"),t("value"))}});var Sg=de((I0e,r8)=>{"use strict";var NY=Tg();r8.exports=function(r,t,n,a,o){o||(o={});var i=o.tickSuffixDflt,l=NY(r),u=n("tickprefix");u&&n("showtickprefix",l);var s=n("ticksuffix",i);s&&n("showticksuffix",l)}});var Cg=de((F0e,t8)=>{"use strict";var Vo=ir(),zY=yt(),qY=_g(),OY=Mg(),BY=kg(),UY=Sg(),HY=kh();t8.exports=function(r,t,n){var a=zY.newContainer(t,"colorbar"),o=r.colorbar||{};function i(v,D){return Vo.coerce(o,a,HY,v,D)}var l=n.margin||{t:0,b:0,l:0,r:0},u=n.width-l.l-l.r,s=n.height-l.t-l.b,f=i("orientation"),h=f==="v",p=i("thicknessmode");i("thickness",p==="fraction"?30/(h?u:s):30);var b=i("lenmode");i("len",b==="fraction"?1:h?s:u);var y=i("yref"),w=i("xref"),T=y==="paper",m=w==="paper",k,S,x,M="left";h?(x="middle",M=m?"left":"right",k=m?1.02:1,S=.5):(x=T?"bottom":"top",M="center",k=.5,S=T?1.02:1),Vo.coerce(o,a,{x:{valType:"number",min:m?-2:0,max:m?3:1,dflt:k}},"x"),Vo.coerce(o,a,{y:{valType:"number",min:T?-2:0,max:T?3:1,dflt:S}},"y"),i("xanchor",M),i("xpad"),i("yanchor",x),i("ypad"),Vo.noneOrAll(o,a,["x","y"]),i("outlinecolor"),i("outlinewidth"),i("bordercolor"),i("borderwidth"),i("bgcolor");var d=Vo.coerce(o,a,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:h?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");i("ticklabeloverflow",d.indexOf("inside")!==-1?"hide past domain":"hide past div"),qY(o,a,i,"linear");var _=n.font,g={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:_};d.indexOf("inside")!==-1&&(g.bgColor="black"),UY(o,a,i,"linear",g),BY(o,a,i,"linear",g),OY(o,a,i,"linear",g),i("title.text",n._dfltTitle.colorbar);var c=a.showticklabels?a.tickfont:_,A=Vo.extendFlat({},_,{family:c.family,size:Vo.bigFont(c.size)});Vo.coerceFont(i,"title.font",A),i("title.side",h?"top":"right")}});var Di=de((N0e,i8)=>{"use strict";var n8=nt(),Lg=ir(),VY=yg(),GY=Cg(),a8=Dl().isValid,YY=Er().traceIs;function Eg(e,r){var t=r.slice(0,r.length-1);return r?Lg.nestedProperty(e,t).get()||{}:e}i8.exports=function e(r,t,n,a,o){var i=o.prefix,l=o.cLetter,u="_module"in t,s=Eg(r,i),f=Eg(t,i),h=Eg(t._template||{},i)||{},p=function(){return delete r.coloraxis,delete t.coloraxis,e(r,t,n,a,o)};if(u){var b=n._colorAxes||{},y=a(i+"coloraxis");if(y){var w=YY(t,"contour")&&Lg.nestedProperty(t,"contours.coloring").get()||"heatmap",T=b[y];T?(T[2].push(p),T[0]!==w&&(T[0]=!1,Lg.warn(["Ignoring coloraxis:",y,"setting","as it is linked to incompatible colorscales."].join(" ")))):b[y]=[w,t,[p]];return}}var m=s[l+"min"],k=s[l+"max"],S=n8(m)&&n8(k)&&m<k,x=a(i+l+"auto",!S);x?a(i+l+"mid"):(a(i+l+"min"),a(i+l+"max"));var M=s.colorscale,d=h.colorscale,_;if(M!==void 0&&(_=!a8(M)),d!==void 0&&(_=!a8(d)),a(i+"autocolorscale",_),a(i+"colorscale"),a(i+"reversescale"),i!=="marker.line."){var g;i&&u&&(g=VY(s));var c=a(i+"showscale",g);c&&(i&&h&&(f._template=h),GY(s,f,n))}}});var u8=de((z0e,s8)=>{"use strict";var o8=ir(),WY=yt(),l8=gg(),XY=Di();s8.exports=function(r,t){function n(h,p){return o8.coerce(r,t,l8,h,p)}n("colorscale.sequential"),n("colorscale.sequentialminus"),n("colorscale.diverging");var a=t._colorAxes,o,i;function l(h,p){return o8.coerce(o,i,l8.coloraxis,h,p)}for(var u in a){var s=a[u];if(s[0])o=r[u]||{},i=WY.newContainer(t,u,"coloraxis"),i._name=u,XY(o,i,t,l,{prefix:"",cLetter:"c"});else{for(var f=0;f<s[2].length;f++)s[2][f]();delete t._colorAxes[u]}}}});var c8=de((q0e,f8)=>{"use strict";var ZY=ir(),JY=Ei().hasColorscale,KY=Ei().extractOpts;f8.exports=function(r,t){function n(f,h){var p=f["_"+h];p!==void 0&&(f[h]=p)}function a(f,h){var p=h.container?ZY.nestedProperty(f,h.container).get():f;if(p)if(p.coloraxis)p._colorAx=t[p.coloraxis];else{var b=KY(p),y=b.auto;(y||b.min===void 0)&&n(p,h.min),(y||b.max===void 0)&&n(p,h.max),b.autocolorscale&&n(p,"colorscale")}}for(var o=0;o<r.length;o++){var i=r[o],l=i._module.colorbar;if(l)if(Array.isArray(l))for(var u=0;u<l.length;u++)a(i,l[u]);else a(i,l);JY(i,"marker.line")&&a(i,{container:"marker.line",min:"cmin",max:"cmax"})}for(var s in t._colorAxes)a(t[s],{min:"cmin",max:"cmax"})}});var Go=de((O0e,v8)=>{"use strict";var h8=nt(),Dg=ir(),QY=Ei().extractOpts;v8.exports=function(r,t,n){var a=r._fullLayout,o=n.vals,i=n.containerStr,l=i?Dg.nestedProperty(t,i).get():t,u=QY(l),s=u.auto!==!1,f=u.min,h=u.max,p=u.mid,b=function(){return Dg.aggNums(Math.min,null,o)},y=function(){return Dg.aggNums(Math.max,null,o)};if(f===void 0?f=b():s&&(l._colorAx&&h8(f)?f=Math.min(f,b()):f=b()),h===void 0?h=y():s&&(l._colorAx&&h8(h)?h=Math.max(h,y()):h=y()),s&&p!==void 0&&(h-p>p-f?f=p-(h-p):h-p<p-f&&(h=p+(p-f))),f===h&&(f-=.5,h+=.5),u._sync("min",f),u._sync("max",h),u.autocolorscale){var w;f*h<0?w=a.colorscale.diverging:f>=0?w=a.colorscale.sequential:w=a.colorscale.sequentialminus,u._sync("colorscale",w)}}});var Ri=de((B0e,d8)=>{"use strict";var Eh=Dl(),au=Ei();d8.exports={moduleType:"component",name:"colorscale",attributes:ni(),layoutAttributes:gg(),supplyLayoutDefaults:u8(),handleDefaults:Di(),crossTraceDefaults:c8(),calc:Go(),scales:Eh.scales,defaultScale:Eh.defaultScale,getScale:Eh.get,isValidScale:Eh.isValid,hasColorscale:au.hasColorscale,extractOpts:au.extractOpts,extractScale:au.extractScale,flipScale:au.flipScale,makeColorScaleFunc:au.makeColorScaleFunc,makeColorScaleFuncFromTrace:au.makeColorScaleFuncFromTrace}});var la=de((U0e,g8)=>{"use strict";var p8=ir(),$Y=ra().isTypedArraySpec;g8.exports={hasLines:function(e){return e.visible&&e.mode&&e.mode.indexOf("lines")!==-1},hasMarkers:function(e){return e.visible&&(e.mode&&e.mode.indexOf("markers")!==-1||e.type==="splom")},hasText:function(e){return e.visible&&e.mode&&e.mode.indexOf("text")!==-1},isBubble:function(e){var r=e.marker;return p8.isPlainObject(r)&&(p8.isArrayOrTypedArray(r.size)||$Y(r.size))}}});var Rg=de((H0e,y8)=>{"use strict";var jY=nt();y8.exports=function(r,t){t||(t=2);var n=r.marker,a=n.sizeref||1,o=n.sizemin||0,i=n.sizemode==="area"?function(l){return Math.sqrt(l/a)}:function(l){return l/a};return function(l){var u=i(l/t);return jY(u)&&u>0?Math.max(u,o):0}}});var so=de(En=>{"use strict";var Lh=ir();En.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo};En.isTraceInSubplots=function(e,r){if(e.type==="splom"){for(var t=e.xaxes||[],n=e.yaxes||[],a=0;a<t.length;a++)for(var o=0;o<n.length;o++)if(r.indexOf(t[a]+n[o])!==-1)return!0;return!1}return r.indexOf(En.getSubplot(e))!==-1};En.flat=function(e,r){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=r;return t};En.p2c=function(e,r){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n].p2c(r);return t};En.getDistanceFunction=function(e,r,t,n){return e==="closest"?n||En.quadrature(r,t):e.charAt(0)==="x"?r:t};En.getClosest=function(e,r,t){if(t.index!==!1)t.index>=0&&t.index<e.length?t.distance=0:t.index=!1;else for(var n=1/0,a=e.length,o=0;o<a;o++)n=r(e[o]),n<=t.distance&&(t.index=o,t.distance=n);return t};En.inbox=function(e,r,t){return e*r<0||e===0?t:1/0};En.quadrature=function(e,r){return function(t){var n=e(t),a=r(t);return Math.sqrt(n*n+a*a)}};En.makeEventData=function(e,r,t){var n="index"in e?e.index:e.pointNumber,a={data:r._input,fullData:r,curveNumber:r.index,pointNumber:n};if(r._indexToPoints){var o=r._indexToPoints[n];o.length===1?a.pointIndex=o[0]:a.pointIndices=o}else a.pointIndex=n;return r._module.eventData?a=r._module.eventData(a,e,r,t,n):("xVal"in e?a.x=e.xVal:"x"in e&&(a.x=e.x),"yVal"in e?a.y=e.yVal:"y"in e&&(a.y=e.y),e.xa&&(a.xaxis=e.xa),e.ya&&(a.yaxis=e.ya),e.zLabelVal!==void 0&&(a.z=e.zLabelVal)),En.appendArrayPointValue(a,r,n),a};En.appendArrayPointValue=function(e,r,t){var n=r._arrayAttrs;if(n)for(var a=0;a<n.length;a++){var o=n[a],i=m8(o);if(e[i]===void 0){var l=Lh.nestedProperty(r,o).get(),u=x8(l,t);u!==void 0&&(e[i]=u)}}};En.appendArrayMultiPointValues=function(e,r,t){var n=r._arrayAttrs;if(n)for(var a=0;a<n.length;a++){var o=n[a],i=m8(o);if(e[i]===void 0){for(var l=Lh.nestedProperty(r,o).get(),u=new Array(t.length),s=0;s<t.length;s++)u[s]=x8(l,t[s]);e[i]=u}}};var eW={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function m8(e){return eW[e]||e}function x8(e,r){if(Array.isArray(r)){if(Lh.isArrayOrTypedArray(e)&&Lh.isArrayOrTypedArray(e[r[0]]))return e[r[0]][r[1]]}else return e[r]}var rW={x:!0,y:!0},tW={"x unified":!0,"y unified":!0};En.isUnifiedHover=function(e){return typeof e!="string"?!1:!!tW[e]};En.isXYhover=function(e){return typeof e!="string"?!1:!!rW[e]}});var Ig=de((G0e,b8)=>{b8.exports=aW;var Pg={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},nW=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function aW(e){var r=[];return e.replace(nW,function(t,n,a){var o=n.toLowerCase();for(a=oW(a),o=="m"&&a.length>2&&(r.push([n].concat(a.splice(0,2))),o="l",n=n=="m"?"l":"L");;){if(a.length==Pg[o])return a.unshift(n),r.push(a);if(a.length<Pg[o])throw new Error("malformed path data");r.push([n].concat(a.splice(0,Pg[o])))}}),r}var iW=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function oW(e){var r=e.match(iW);return r?r.map(Number):[]}});var S8=de((Y0e,k8)=>{"use strict";var lW=Ig(),ur=function(e,r){return r?Math.round(e*(r=Math.pow(10,r)))/r:Math.round(e)},Nr="M0,0Z",_8=Math.sqrt(2),Yo=Math.sqrt(3),Fg=Math.PI,Ng=Math.cos,zg=Math.sin;k8.exports={circle:{n:0,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2),a="M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z";return t?qr(r,t,a):a}},square:{n:1,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2);return qr(r,t,"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z")}},diamond:{n:2,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.3,2);return qr(r,t,"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"Z")}},cross:{n:3,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*.4,2),a=ur(e*1.2,2);return qr(r,t,"M"+a+","+n+"H"+n+"V"+a+"H-"+n+"V"+n+"H-"+a+"V-"+n+"H-"+n+"V-"+a+"H"+n+"V-"+n+"H"+a+"Z")}},x:{n:4,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*.8/_8,2),a="l"+n+","+n,o="l"+n+",-"+n,i="l-"+n+",-"+n,l="l-"+n+","+n;return qr(r,t,"M0,"+n+a+o+i+o+i+l+i+l+a+l+a+"Z")}},"triangle-up":{n:5,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*2/Yo,2),a=ur(e/2,2),o=ur(e,2);return qr(r,t,"M-"+n+","+a+"H"+n+"L0,-"+o+"Z")}},"triangle-down":{n:6,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*2/Yo,2),a=ur(e/2,2),o=ur(e,2);return qr(r,t,"M-"+n+",-"+a+"H"+n+"L0,"+o+"Z")}},"triangle-left":{n:7,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*2/Yo,2),a=ur(e/2,2),o=ur(e,2);return qr(r,t,"M"+a+",-"+n+"V"+n+"L-"+o+",0Z")}},"triangle-right":{n:8,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*2/Yo,2),a=ur(e/2,2),o=ur(e,2);return qr(r,t,"M-"+a+",-"+n+"V"+n+"L"+o+",0Z")}},"triangle-ne":{n:9,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*.6,2),a=ur(e*1.2,2);return qr(r,t,"M-"+a+",-"+n+"H"+n+"V"+a+"Z")}},"triangle-se":{n:10,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*.6,2),a=ur(e*1.2,2);return qr(r,t,"M"+n+",-"+a+"V"+n+"H-"+a+"Z")}},"triangle-sw":{n:11,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*.6,2),a=ur(e*1.2,2);return qr(r,t,"M"+a+","+n+"H-"+n+"V-"+a+"Z")}},"triangle-nw":{n:12,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*.6,2),a=ur(e*1.2,2);return qr(r,t,"M-"+n+","+a+"V-"+n+"H"+a+"Z")}},pentagon:{n:13,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*.951,2),a=ur(e*.588,2),o=ur(-e,2),i=ur(e*-.309,2),l=ur(e*.809,2);return qr(r,t,"M"+n+","+i+"L"+a+","+l+"H-"+a+"L-"+n+","+i+"L0,"+o+"Z")}},hexagon:{n:14,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2),a=ur(e/2,2),o=ur(e*Yo/2,2);return qr(r,t,"M"+o+",-"+a+"V"+a+"L0,"+n+"L-"+o+","+a+"V-"+a+"L0,-"+n+"Z")}},hexagon2:{n:15,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2),a=ur(e/2,2),o=ur(e*Yo/2,2);return qr(r,t,"M-"+a+","+o+"H"+a+"L"+n+",0L"+a+",-"+o+"H-"+a+"L-"+n+",0Z")}},octagon:{n:16,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*.924,2),a=ur(e*.383,2);return qr(r,t,"M-"+a+",-"+n+"H"+a+"L"+n+",-"+a+"V"+a+"L"+a+","+n+"H-"+a+"L-"+n+","+a+"V-"+a+"Z")}},star:{n:17,f:function(e,r,t){if(zr(r))return Nr;var n=e*1.4,a=ur(n*.225,2),o=ur(n*.951,2),i=ur(n*.363,2),l=ur(n*.588,2),u=ur(-n,2),s=ur(n*-.309,2),f=ur(n*.118,2),h=ur(n*.809,2),p=ur(n*.382,2);return qr(r,t,"M"+a+","+s+"H"+o+"L"+i+","+f+"L"+l+","+h+"L0,"+p+"L-"+l+","+h+"L-"+i+","+f+"L-"+o+","+s+"H-"+a+"L0,"+u+"Z")}},hexagram:{n:18,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*.66,2),a=ur(e*.38,2),o=ur(e*.76,2);return qr(r,t,"M-"+o+",0l-"+a+",-"+n+"h"+o+"l"+a+",-"+n+"l"+a+","+n+"h"+o+"l-"+a+","+n+"l"+a+","+n+"h-"+o+"l-"+a+","+n+"l-"+a+",-"+n+"h-"+o+"Z")}},"star-triangle-up":{n:19,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*Yo*.8,2),a=ur(e*.8,2),o=ur(e*1.6,2),i=ur(e*4,2),l="A "+i+","+i+" 0 0 1 ";return qr(r,t,"M-"+n+","+a+l+n+","+a+l+"0,-"+o+l+"-"+n+","+a+"Z")}},"star-triangle-down":{n:20,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*Yo*.8,2),a=ur(e*.8,2),o=ur(e*1.6,2),i=ur(e*4,2),l="A "+i+","+i+" 0 0 1 ";return qr(r,t,"M"+n+",-"+a+l+"-"+n+",-"+a+l+"0,"+o+l+n+",-"+a+"Z")}},"star-square":{n:21,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.1,2),a=ur(e*2,2),o="A "+a+","+a+" 0 0 1 ";return qr(r,t,"M-"+n+",-"+n+o+"-"+n+","+n+o+n+","+n+o+n+",-"+n+o+"-"+n+",-"+n+"Z")}},"star-diamond":{n:22,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.4,2),a=ur(e*1.9,2),o="A "+a+","+a+" 0 0 1 ";return qr(r,t,"M-"+n+",0"+o+"0,"+n+o+n+",0"+o+"0,-"+n+o+"-"+n+",0Z")}},"diamond-tall":{n:23,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*.7,2),a=ur(e*1.4,2);return qr(r,t,"M0,"+a+"L"+n+",0L0,-"+a+"L-"+n+",0Z")}},"diamond-wide":{n:24,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.4,2),a=ur(e*.7,2);return qr(r,t,"M0,"+a+"L"+n+",0L0,-"+a+"L-"+n+",0Z")}},hourglass:{n:25,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2);return qr(r,t,"M"+n+","+n+"H-"+n+"L"+n+",-"+n+"H-"+n+"Z")},noDot:!0},bowtie:{n:26,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2);return qr(r,t,"M"+n+","+n+"V-"+n+"L-"+n+","+n+"V-"+n+"Z")},noDot:!0},"circle-cross":{n:27,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2);return qr(r,t,"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2),a=ur(e/_8,2);return qr(r,t,"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a+"M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2);return qr(r,t,"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2);return qr(r,t,"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.3,2);return qr(r,t,"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"ZM0,-"+n+"V"+n+"M-"+n+",0H"+n)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.3,2),a=ur(e*.65,2);return qr(r,t,"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"ZM-"+a+",-"+a+"L"+a+","+a+"M-"+a+","+a+"L"+a+",-"+a)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.4,2);return qr(r,t,"M0,"+n+"V-"+n+"M"+n+",0H-"+n)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2);return qr(r,t,"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.2,2),a=ur(e*.85,2);return qr(r,t,"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e/2,2),a=ur(e,2);return qr(r,t,"M"+n+","+a+"V-"+a+"M"+(n-a)+",-"+a+"V"+a+"M"+a+","+n+"H-"+a+"M-"+a+","+(n-a)+"H"+a)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.2,2),a=ur(e*1.6,2),o=ur(e*.8,2);return qr(r,t,"M-"+n+","+o+"L0,0M"+n+","+o+"L0,0M0,-"+a+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.2,2),a=ur(e*1.6,2),o=ur(e*.8,2);return qr(r,t,"M-"+n+",-"+o+"L0,0M"+n+",-"+o+"L0,0M0,"+a+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.2,2),a=ur(e*1.6,2),o=ur(e*.8,2);return qr(r,t,"M"+o+","+n+"L0,0M"+o+",-"+n+"L0,0M-"+a+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.2,2),a=ur(e*1.6,2),o=ur(e*.8,2);return qr(r,t,"M-"+o+","+n+"L0,0M-"+o+",-"+n+"L0,0M"+a+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.4,2);return qr(r,t,"M"+n+",0H-"+n)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.4,2);return qr(r,t,"M0,"+n+"V-"+n)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2);return qr(r,t,"M"+n+",-"+n+"L-"+n+","+n)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2);return qr(r,t,"M"+n+","+n+"L-"+n+",-"+n)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2),a=ur(e*2,2);return qr(r,t,"M0,0L-"+n+","+a+"H"+n+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2),a=ur(e*2,2);return qr(r,t,"M0,0L-"+n+",-"+a+"H"+n+"Z")},noDot:!0},"arrow-left":{n:47,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*2,2),a=ur(e,2);return qr(r,t,"M0,0L"+n+",-"+a+"V"+a+"Z")},noDot:!0},"arrow-right":{n:48,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*2,2),a=ur(e,2);return qr(r,t,"M0,0L-"+n+",-"+a+"V"+a+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2),a=ur(e*2,2);return qr(r,t,"M-"+n+",0H"+n+"M0,0L-"+n+","+a+"H"+n+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2),a=ur(e*2,2);return qr(r,t,"M-"+n+",0H"+n+"M0,0L-"+n+",-"+a+"H"+n+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*2,2),a=ur(e,2);return qr(r,t,"M0,-"+a+"V"+a+"M0,0L"+n+",-"+a+"V"+a+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*2,2),a=ur(e,2);return qr(r,t,"M0,-"+a+"V"+a+"M0,0L-"+n+",-"+a+"V"+a+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(e,r,t){if(zr(r))return Nr;var n=Fg/2.5,a=2*e*Ng(n),o=2*e*zg(n);return qr(r,t,"M0,0L"+-a+","+o+"L"+a+","+o+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(e,r,t){if(zr(r))return Nr;var n=Fg/4,a=2*e*Ng(n),o=2*e*zg(n);return qr(r,t,"M0,0L"+-a+","+o+"A "+2*e+","+2*e+" 0 0 1 "+a+","+o+"Z")},backoff:.4,noDot:!0}};function zr(e){return e===null}var w8,M8,T8,A8;function qr(e,r,t){if((!e||e%360===0)&&!r)return t;if(T8===e&&A8===r&&w8===t)return M8;T8=e,A8=r,w8=t;function n(T,m){var k=Ng(T),S=zg(T),x=m[0],M=m[1]+(r||0);return[x*k-M*S,x*S+M*k]}for(var a=e/180*Fg,o=0,i=0,l=lW(t),u="",s=0;s<l.length;s++){var f=l[s],h=f[0],p=o,b=i;if(h==="M"||h==="L")o=+f[1],i=+f[2];else if(h==="m"||h==="l")o+=+f[1],i+=+f[2];else if(h==="H")o=+f[1];else if(h==="h")o+=+f[1];else if(h==="V")i=+f[1];else if(h==="v")i+=+f[1];else if(h==="A"){o=+f[1],i=+f[2];var y=n(a,[+f[6],+f[7]]);f[6]=y[0],f[7]=y[1],f[3]=+f[3]+e}(h==="H"||h==="V")&&(h="L"),(h==="h"||h==="v")&&(h="l"),(h==="m"||h==="l")&&(o-=p,i-=b);var w=n(a,[o,i]);(h==="H"||h==="V")&&(h="L"),(h==="M"||h==="L"||h==="m"||h==="l")&&(f[1]=w[0],f[2]=w[1]),f[0]=h,u+=f[0]+f.slice(1).join(",")}return M8=u,u}});var mt=de((W0e,X8)=>{"use strict";var sn=it(),dt=ir(),sW=dt.numberFormat,Xl=nt(),Vg=Sa(),Rh=Er(),_n=Xr(),uW=Ri(),Ff=dt.strTranslate,Ph=On(),fW=Ho(),cW=Cn(),hW=cW.LINE_SPACING,z8=G0().DESELECTDIM,vW=la(),dW=Rg(),pW=so().appendArrayPointValue,hr=X8.exports={};hr.font=function(e,r){var t=r.variant,n=r.style,a=r.weight,o=r.color,i=r.size,l=r.family,u=r.shadow,s=r.lineposition,f=r.textcase;l&&e.style("font-family",l),i+1&&e.style("font-size",i+"px"),o&&e.call(_n.fill,o),a&&e.style("font-weight",a),n&&e.style("font-style",n),t&&e.style("font-variant",t),f&&e.style("text-transform",qg(yW(f))),u&&e.style("text-shadow",u==="auto"?Ph.makeTextShadow(_n.contrast(o)):qg(u)),s&&e.style("text-decoration-line",qg(mW(s)))};function qg(e){return e==="none"?void 0:e}var gW={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function yW(e){return gW[e]}function mW(e){return e.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}hr.setPosition=function(e,r,t){e.attr("x",r).attr("y",t)};hr.setSize=function(e,r,t){e.attr("width",r).attr("height",t)};hr.setRect=function(e,r,t,n,a){e.call(hr.setPosition,r,t).call(hr.setSize,n,a)};hr.translatePoint=function(e,r,t,n){var a=t.c2p(e.x),o=n.c2p(e.y);if(Xl(a)&&Xl(o)&&r.node())r.node().nodeName==="text"?r.attr("x",a).attr("y",o):r.attr("transform",Ff(a,o));else return!1;return!0};hr.translatePoints=function(e,r,t){e.each(function(n){var a=sn.select(this);hr.translatePoint(n,a,r,t)})};hr.hideOutsideRangePoint=function(e,r,t,n,a,o){r.attr("display",t.isPtWithinRange(e,a)&&n.isPtWithinRange(e,o)?null:"none")};hr.hideOutsideRangePoints=function(e,r){if(r._hasClipOnAxisFalse){var t=r.xaxis,n=r.yaxis;e.each(function(a){var o=a[0].trace,i=o.xcalendar,l=o.ycalendar,u=Rh.traceIs(o,"bar-like")?".bartext":".point,.textpoint";e.selectAll(u).each(function(s){hr.hideOutsideRangePoint(s,sn.select(this),t,n,i,l)})})}};hr.crispRound=function(e,r,t){return!r||!Xl(r)?t||0:e._context.staticPlot?r:r<1?1:Math.round(r)};hr.singleLineStyle=function(e,r,t,n,a){r.style("fill","none");var o=(((e||[])[0]||{}).trace||{}).line||{},i=t||o.width||0,l=a||o.dash||"";_n.stroke(r,n||o.color),hr.dashLine(r,l,i)};hr.lineGroupStyle=function(e,r,t,n){e.style("fill","none").each(function(a){var o=(((a||[])[0]||{}).trace||{}).line||{},i=r||o.width||0,l=n||o.dash||"";sn.select(this).call(_n.stroke,t||o.color).call(hr.dashLine,l,i)})};hr.dashLine=function(e,r,t){t=+t||0,r=hr.dashStyle(r,t),e.style({"stroke-dasharray":r,"stroke-width":t+"px"})};hr.dashStyle=function(e,r){r=+r||1;var t=Math.max(r,3);return e==="solid"?e="":e==="dot"?e=t+"px,"+t+"px":e==="dash"?e=3*t+"px,"+3*t+"px":e==="longdash"?e=5*t+"px,"+5*t+"px":e==="dashdot"?e=3*t+"px,"+t+"px,"+t+"px,"+t+"px":e==="longdashdot"&&(e=5*t+"px,"+2*t+"px,"+t+"px,"+2*t+"px"),e};function q8(e,r,t,n){var a=r.fillpattern,o=r.fillgradient,i=hr.getPatternAttr,l=a&&(i(a.shape,0,"")||i(a.path,0,""));if(l){var u=i(a.bgcolor,0,null),s=i(a.fgcolor,0,null),f=a.fgopacity,h=i(a.size,0,8),p=i(a.solidity,0,.3),b=r.uid;hr.pattern(e,"point",t,b,l,h,p,void 0,a.fillmode,u,s,f)}else if(o&&o.type!=="none"){var y=o.type,w="scatterfill-"+r.uid;if(n&&(w="legendfill-"+r.uid),!n&&(o.start!==void 0||o.stop!==void 0)){var T,m;y==="horizontal"?(T={x:o.start,y:0},m={x:o.stop,y:0}):y==="vertical"&&(T={x:0,y:o.start},m={x:0,y:o.stop}),T.x=r._xA.c2p(T.x===void 0?r._extremes.x.min[0].val:T.x,!0),T.y=r._yA.c2p(T.y===void 0?r._extremes.y.min[0].val:T.y,!0),m.x=r._xA.c2p(m.x===void 0?r._extremes.x.max[0].val:m.x,!0),m.y=r._yA.c2p(m.y===void 0?r._extremes.y.max[0].val:m.y,!0),e.call(U8,t,w,"linear",o.colorscale,"fill",T,m,!0,!1)}else y==="horizontal"&&(y=y+"reversed"),e.call(hr.gradient,t,w,y,o.colorscale,"fill")}else r.fillcolor&&e.call(_n.fill,r.fillcolor)}hr.singleFillStyle=function(e,r){var t=sn.select(e.node()),n=t.data(),a=((n[0]||[])[0]||{}).trace||{};q8(e,a,r,!1)};hr.fillGroupStyle=function(e,r,t){e.style("stroke-width",0).each(function(n){var a=sn.select(this);n[0].trace&&q8(a,n[0].trace,r,t)})};var C8=S8();hr.symbolNames=[];hr.symbolFuncs=[];hr.symbolBackOffs=[];hr.symbolNeedLines={};hr.symbolNoDot={};hr.symbolNoFill={};hr.symbolList=[];Object.keys(C8).forEach(function(e){var r=C8[e],t=r.n;hr.symbolList.push(t,String(t),e,t+100,String(t+100),e+"-open"),hr.symbolNames[t]=e,hr.symbolFuncs[t]=r.f,hr.symbolBackOffs[t]=r.backoff||0,r.needLine&&(hr.symbolNeedLines[t]=!0),r.noDot?hr.symbolNoDot[t]=!0:hr.symbolList.push(t+200,String(t+200),e+"-dot",t+300,String(t+300),e+"-open-dot"),r.noFill&&(hr.symbolNoFill[t]=!0)});var xW=hr.symbolNames.length,bW="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";hr.symbolNumber=function(e){if(Xl(e))e=+e;else if(typeof e=="string"){var r=0;e.indexOf("-open")>0&&(r=100,e=e.replace("-open","")),e.indexOf("-dot")>0&&(r+=200,e=e.replace("-dot","")),e=hr.symbolNames.indexOf(e),e>=0&&(e+=r)}return e%100>=xW||e>=400?0:Math.floor(Math.max(e,0))};function O8(e,r,t,n){var a=e%100;return hr.symbolFuncs[a](r,t,n)+(e>=200?bW:"")}var E8=sW("~f"),B8={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};hr.gradient=function(e,r,t,n,a,o){var i=B8[n];return U8(e,r,t,i.type,a,o,i.start,i.stop,!1,i.reversed)};function U8(e,r,t,n,a,o,i,l,u,s){var f=a.length,h;n==="linear"?h={node:"linearGradient",attrs:{x1:i.x,y1:i.y,x2:l.x,y2:l.y,gradientUnits:u?"userSpaceOnUse":"objectBoundingBox"},reversed:s}:n==="radial"&&(h={node:"radialGradient",reversed:s});for(var p=new Array(f),b=0;b<f;b++)h.reversed?p[f-1-b]=[E8((1-a[b][0])*100),a[b][1]]:p[b]=[E8(a[b][0]*100),a[b][1]];var y=r._fullLayout,w="g"+y._uid+"-"+t,T=y._defs.select(".gradients").selectAll("#"+w).data([n+p.join(";")],dt.identity);T.exit().remove(),T.enter().append(h.node).each(function(){var m=sn.select(this);h.attrs&&m.attr(h.attrs),m.attr("id",w);var k=m.selectAll("stop").data(p);k.exit().remove(),k.enter().append("stop"),k.each(function(S){var x=Vg(S[1]);sn.select(this).attr({offset:S[0]+"%","stop-color":_n.tinyRGB(x),"stop-opacity":x.getAlpha()})})}),e.style(o,Gg(w,r)).style(o+"-opacity",null),e.classed("gradient_filled",!0)}hr.pattern=function(e,r,t,n,a,o,i,l,u,s,f,h){var p=r==="legend";l&&(u==="overlay"?(s=l,f=_n.contrast(s)):(s=void 0,f=l));var b=t._fullLayout,y="p"+b._uid+"-"+n,w,T,m=function(E,R,N,F,I){return F+(I-F)*(E-R)/(N-R)},k,S,x,M,d={},_=Vg(f),g=_n.tinyRGB(_),c=_.getAlpha(),A=h*c;switch(a){case"/":w=o*Math.sqrt(2),T=o*Math.sqrt(2),k="M-"+w/4+","+T/4+"l"+w/2+",-"+T/2+"M0,"+T+"L"+w+",0M"+w/4*3+","+T/4*5+"l"+w/2+",-"+T/2,S=i*o,M="path",d={d:k,opacity:A,stroke:g,"stroke-width":S+"px"};break;case"\\":w=o*Math.sqrt(2),T=o*Math.sqrt(2),k="M"+w/4*3+",-"+T/4+"l"+w/2+","+T/2+"M0,0L"+w+","+T+"M-"+w/4+","+T/4*3+"l"+w/2+","+T/2,S=i*o,M="path",d={d:k,opacity:A,stroke:g,"stroke-width":S+"px"};break;case"x":w=o*Math.sqrt(2),T=o*Math.sqrt(2),k="M-"+w/4+","+T/4+"l"+w/2+",-"+T/2+"M0,"+T+"L"+w+",0M"+w/4*3+","+T/4*5+"l"+w/2+",-"+T/2+"M"+w/4*3+",-"+T/4+"l"+w/2+","+T/2+"M0,0L"+w+","+T+"M-"+w/4+","+T/4*3+"l"+w/2+","+T/2,S=o-o*Math.sqrt(1-i),M="path",d={d:k,opacity:A,stroke:g,"stroke-width":S+"px"};break;case"|":w=o,T=o,M="path",k="M"+w/2+",0L"+w/2+","+T,S=i*o,M="path",d={d:k,opacity:A,stroke:g,"stroke-width":S+"px"};break;case"-":w=o,T=o,M="path",k="M0,"+T/2+"L"+w+","+T/2,S=i*o,M="path",d={d:k,opacity:A,stroke:g,"stroke-width":S+"px"};break;case"+":w=o,T=o,M="path",k="M"+w/2+",0L"+w/2+","+T+"M0,"+T/2+"L"+w+","+T/2,S=o-o*Math.sqrt(1-i),M="path",d={d:k,opacity:A,stroke:g,"stroke-width":S+"px"};break;case".":w=o,T=o,i<Math.PI/4?x=Math.sqrt(i*o*o/Math.PI):x=m(i,Math.PI/4,1,o/2,o/Math.sqrt(2)),M="circle",d={cx:w/2,cy:T/2,r:x,opacity:A,fill:g};break;default:w=o,T=o,M="path",d={d:a,opacity:A,fill:g};break}var v=[a||"noSh",s||"noBg",f||"noFg",o,i].join(";"),D=b._defs.select(".patterns").selectAll("#"+y).data([v],dt.identity);D.exit().remove(),D.enter().append("pattern").each(function(){var E=sn.select(this);if(E.attr({id:y,width:w+"px",height:T+"px",patternUnits:"userSpaceOnUse",patternTransform:p?"scale(0.8)":""}),s){var R=Vg(s),N=_n.tinyRGB(R),F=R.getAlpha(),I=E.selectAll("rect").data([0]);I.exit().remove(),I.enter().append("rect").attr({width:w+"px",height:T+"px",fill:N,"fill-opacity":F})}var L=E.selectAll(M).data([0]);L.exit().remove(),L.enter().append(M).attr(d)}),e.style("fill",Gg(y,t)).style("fill-opacity",null),e.classed("pattern_filled",!0)};hr.initGradients=function(e){var r=e._fullLayout,t=dt.ensureSingle(r._defs,"g","gradients");t.selectAll("linearGradient,radialGradient").remove(),sn.select(e).selectAll(".gradient_filled").classed("gradient_filled",!1)};hr.initPatterns=function(e){var r=e._fullLayout,t=dt.ensureSingle(r._defs,"g","patterns");t.selectAll("pattern").remove(),sn.select(e).selectAll(".pattern_filled").classed("pattern_filled",!1)};hr.getPatternAttr=function(e,r,t){return e&&dt.isArrayOrTypedArray(e)?r<e.length?e[r]:t:e};hr.pointStyle=function(e,r,t,n){if(e.size()){var a=hr.makePointStyleFns(r);e.each(function(o){hr.singlePointStyle(o,sn.select(this),r,a,t,n)})}};hr.singlePointStyle=function(e,r,t,n,a,o){var i=t.marker,l=i.line;if(o&&o.i>=0&&e.i===void 0&&(e.i=o.i),r.style("opacity",n.selectedOpacityFn?n.selectedOpacityFn(e):e.mo===void 0?i.opacity:e.mo),n.ms2mrc){var u;e.ms==="various"||i.size==="various"?u=3:u=n.ms2mrc(e.ms),e.mrc=u,n.selectedSizeFn&&(u=e.mrc=n.selectedSizeFn(e));var s=hr.symbolNumber(e.mx||i.symbol)||0;e.om=s%200>=100;var f=Wg(e,t),h=Yg(e,t);r.attr("d",O8(s,u,f,h))}var p=!1,b,y,w;if(e.so)w=l.outlierwidth,y=l.outliercolor,b=i.outliercolor;else{var T=(l||{}).width;w=(e.mlw+1||T+1||(e.trace?(e.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in e?y=e.mlcc=n.lineScale(e.mlc):dt.isArrayOrTypedArray(l.color)?y=_n.defaultLine:y=l.color,dt.isArrayOrTypedArray(i.color)&&(b=_n.defaultLine,p=!0),"mc"in e?b=e.mcc=n.markerScale(e.mc):b=i.color||i.colors||"rgba(0,0,0,0)",n.selectedColorFn&&(b=n.selectedColorFn(e))}let m=e.mld||(l||{}).dash;if(m&&hr.dashLine(r,m,w),e.om)r.call(_n.stroke,b).style({"stroke-width":(w||1)+"px",fill:"none"});else{r.style("stroke-width",(e.isBlank?0:w)+"px");var k=i.gradient,S=e.mgt;S?p=!0:S=k&&k.type,dt.isArrayOrTypedArray(S)&&(S=S[0],B8[S]||(S=0));var x=i.pattern,M=hr.getPatternAttr,d=x&&(M(x.shape,e.i,"")||M(x.path,e.i,""));if(S&&S!=="none"){var _=e.mgc;_?p=!0:_=k.color;var g=t.uid;p&&(g+="-"+e.i),hr.gradient(r,a,g,S,[[0,_],[1,b]],"fill")}else if(d){var c=!1,A=x.fgcolor;!A&&o&&o.color&&(A=o.color,c=!0);var v=M(A,e.i,o&&o.color||null),D=M(x.bgcolor,e.i,null),E=x.fgopacity,R=M(x.size,e.i,8),N=M(x.solidity,e.i,.3);c=c||e.mcc||dt.isArrayOrTypedArray(x.shape)||dt.isArrayOrTypedArray(x.path)||dt.isArrayOrTypedArray(x.bgcolor)||dt.isArrayOrTypedArray(x.fgcolor)||dt.isArrayOrTypedArray(x.size)||dt.isArrayOrTypedArray(x.solidity);var F=t.uid;c&&(F+="-"+e.i),hr.pattern(r,"point",a,F,d,R,N,e.mcc,x.fillmode,D,v,E)}else dt.isArrayOrTypedArray(b)?_n.fill(r,b[e.i]):_n.fill(r,b);w&&_n.stroke(r,y)}};hr.makePointStyleFns=function(e){var r={},t=e.marker;return r.markerScale=hr.tryColorscale(t,""),r.lineScale=hr.tryColorscale(t,"line"),Rh.traceIs(e,"symbols")&&(r.ms2mrc=vW.isBubble(e)?dW(e):function(){return(t.size||6)/2}),e.selectedpoints&&dt.extendFlat(r,hr.makeSelectedPointStyleFns(e)),r};hr.makeSelectedPointStyleFns=function(e){var r={},t=e.selected||{},n=e.unselected||{},a=e.marker||{},o=t.marker||{},i=n.marker||{},l=a.opacity,u=o.opacity,s=i.opacity,f=u!==void 0,h=s!==void 0;(dt.isArrayOrTypedArray(l)||f||h)&&(r.selectedOpacityFn=function(x){var M=x.mo===void 0?a.opacity:x.mo;return x.selected?f?u:M:h?s:z8*M});var p=a.color,b=o.color,y=i.color;(b||y)&&(r.selectedColorFn=function(x){var M=x.mcc||p;return x.selected?b||M:y||M});var w=a.size,T=o.size,m=i.size,k=T!==void 0,S=m!==void 0;return Rh.traceIs(e,"symbols")&&(k||S)&&(r.selectedSizeFn=function(x){var M=x.mrc||w/2;return x.selected?k?T/2:M:S?m/2:M}),r};hr.makeSelectedTextStyleFns=function(e){var r={},t=e.selected||{},n=e.unselected||{},a=e.textfont||{},o=t.textfont||{},i=n.textfont||{},l=a.color,u=o.color,s=i.color;return r.selectedTextColorFn=function(f){var h=f.tc||l;return f.selected?u||h:s||(u?h:_n.addOpacity(h,z8))},r};hr.selectedPointStyle=function(e,r){if(!(!e.size()||!r.selectedpoints)){var t=hr.makeSelectedPointStyleFns(r),n=r.marker||{},a=[];t.selectedOpacityFn&&a.push(function(o,i){o.style("opacity",t.selectedOpacityFn(i))}),t.selectedColorFn&&a.push(function(o,i){_n.fill(o,t.selectedColorFn(i))}),t.selectedSizeFn&&a.push(function(o,i){var l=i.mx||n.symbol||0,u=t.selectedSizeFn(i);o.attr("d",O8(hr.symbolNumber(l),u,Wg(i,r),Yg(i,r))),i.mrc2=u}),a.length&&e.each(function(o){for(var i=sn.select(this),l=0;l<a.length;l++)a[l](i,o)})}};hr.tryColorscale=function(e,r){var t=r?dt.nestedProperty(e,r).get():e;if(t){var n=t.color;if((t.colorscale||t._colorAx)&&dt.isArrayOrTypedArray(n))return uW.makeColorScaleFuncFromTrace(t)}return dt.identity};var Og={start:1,end:-1,middle:0,bottom:1,top:-1};function H8(e,r,t,n,a){var o=sn.select(e.node().parentNode),i=r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle",l=r.indexOf("left")!==-1?"end":r.indexOf("right")!==-1?"start":"middle",u=n?n/.8+1:0,s=(Ph.lineCount(e)-1)*hW+1,f=Og[l]*u,h=t*.75+Og[i]*u+(Og[i]-1)*s*t/2;e.attr("text-anchor",l),a||o.attr("transform",Ff(f,h))}function V8(e,r){var t=e.ts||r.textfont.size;return Xl(t)&&t>0?t:0}hr.textPointStyle=function(e,r,t){if(e.size()){var n;if(r.selectedpoints){var a=hr.makeSelectedTextStyleFns(r);n=a.selectedTextColorFn}var o=r.texttemplate,i=t._fullLayout;e.each(function(l){var u=sn.select(this),s=o?dt.extractOption(l,r,"txt","texttemplate"):dt.extractOption(l,r,"tx","text");if(!s&&s!==0){u.remove();return}if(o){var f=r._module.formatLabels,h=f?f(l,r,i):{},p={};pW(p,r,l.i),s=dt.texttemplateString({data:[p,l,r._meta],fallback:r.texttemplatefallback,labels:h,locale:i._d3locale,template:s})}var b=l.tp||r.textposition,y=V8(l,r),w=n?n(l):l.tc||r.textfont.color;u.call(hr.font,{family:l.tf||r.textfont.family,weight:l.tw||r.textfont.weight,style:l.ty||r.textfont.style,variant:l.tv||r.textfont.variant,textcase:l.tC||r.textfont.textcase,lineposition:l.tE||r.textfont.lineposition,shadow:l.tS||r.textfont.shadow,size:y,color:w}).text(s).call(Ph.convertToTspans,t).call(H8,b,y,l.mrc)})}};hr.selectedTextStyle=function(e,r){if(!(!e.size()||!r.selectedpoints)){var t=hr.makeSelectedTextStyleFns(r);e.each(function(n){var a=sn.select(this),o=t.selectedTextColorFn(n),i=n.tp||r.textposition,l=V8(n,r);_n.fill(a,o);var u=Rh.traceIs(r,"bar-like");H8(a,i,l,n.mrc2||n.mrc,u)})}};var L8=.5;hr.smoothopen=function(e,r){if(e.length<3)return"M"+e.join("L");var t="M"+e[0],n=[],a;for(a=1;a<e.length-1;a++)n.push(Dh(e[a-1],e[a],e[a+1],r));for(t+="Q"+n[0][0]+" "+e[1],a=2;a<e.length-1;a++)t+="C"+n[a-2][1]+" "+n[a-1][0]+" "+e[a];return t+="Q"+n[e.length-3][1]+" "+e[e.length-1],t};hr.smoothclosed=function(e,r){if(e.length<3)return"M"+e.join("L")+"Z";var t="M"+e[0],n=e.length-1,a=[Dh(e[n],e[0],e[1],r)],o;for(o=1;o<n;o++)a.push(Dh(e[o-1],e[o],e[o+1],r));for(a.push(Dh(e[n-1],e[n],e[0],r)),o=1;o<=n;o++)t+="C"+a[o-1][1]+" "+a[o][0]+" "+e[o];return t+="C"+a[n][1]+" "+a[0][0]+" "+e[0]+"Z",t};var G8,Y8;function iu(e,r,t){return t&&(e=W8(e)),r?Wl(e[1]):Yl(e[0])}function Yl(e){var r=sn.round(e,2);return G8=r,r}function Wl(e){var r=sn.round(e,2);return Y8=r,r}function Dh(e,r,t,n){var a=e[0]-r[0],o=e[1]-r[1],i=t[0]-r[0],l=t[1]-r[1],u=Math.pow(a*a+o*o,L8/2),s=Math.pow(i*i+l*l,L8/2),f=(s*s*a-u*u*i)*n,h=(s*s*o-u*u*l)*n,p=3*s*(u+s),b=3*u*(u+s);return[[Yl(r[0]+(p&&f/p)),Wl(r[1]+(p&&h/p))],[Yl(r[0]-(b&&f/b)),Wl(r[1]-(b&&h/b))]]}var _W={hv:function(e,r,t){return"H"+Yl(r[0])+"V"+iu(r,1,t)},vh:function(e,r,t){return"V"+Wl(r[1])+"H"+iu(r,0,t)},hvh:function(e,r,t){return"H"+Yl((e[0]+r[0])/2)+"V"+Wl(r[1])+"H"+iu(r,0,t)},vhv:function(e,r,t){return"V"+Wl((e[1]+r[1])/2)+"H"+Yl(r[0])+"V"+iu(r,1,t)}},wW=function(e,r,t){return"L"+iu(r,0,t)+","+iu(r,1,t)};hr.steps=function(e){var r=_W[e]||wW;return function(t){for(var n="M"+Yl(t[0][0])+","+Wl(t[0][1]),a=t.length,o=1;o<a;o++)n+=r(t[o-1],t[o],o===a-1);return n}};function W8(e,r){var t=e.backoff,n=e.trace,a=e.d,o=e.i;if(t&&n&&n.marker&&n.marker.angle%360===0&&n.line&&n.line.shape!=="spline"){var i=dt.isArrayOrTypedArray(t),l=e,u=r?r[0]:G8||0,s=r?r[1]:Y8||0,f=l[0],h=l[1],p=f-u,b=h-s,y=Math.atan2(b,p),w=i?t[o]:t;if(w==="auto"){var T=l.i;n.type==="scatter"&&T--;var m=l.marker,k=m.symbol;dt.isArrayOrTypedArray(k)&&(k=k[T]);var S=m.size;dt.isArrayOrTypedArray(S)&&(S=S[T]),w=m?hr.symbolBackOffs[hr.symbolNumber(k)]*S:0,w+=hr.getMarkerStandoff(a[T],n)||0}var x=f-w*Math.cos(y),M=h-w*Math.sin(y);(x<=f&&x>=u||x>=f&&x<=u)&&(M<=h&&M>=s||M>=h&&M<=s)&&(e=[x,M])}return e}hr.applyBackoff=W8;hr.makeTester=function(){var e=dt.ensureSingleById(sn.select("body"),"svg","js-plotly-tester",function(t){t.attr(fW.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),r=dt.ensureSingle(e,"path","js-reference-point",function(t){t.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});hr.tester=e,hr.testref=r};hr.savedBBoxes={};var Bg=0,MW=1e4;hr.bBox=function(e,r,t){t||(t=D8(e));var n;if(t){if(n=hr.savedBBoxes[t],n)return dt.extendFlat({},n)}else if(e.childNodes.length===1){var a=e.childNodes[0];if(t=D8(a),t){var o=+a.getAttribute("x")||0,i=+a.getAttribute("y")||0,l=a.getAttribute("transform");if(!l){var u=hr.bBox(a,!1,t);return o&&(u.left+=o,u.right+=o),i&&(u.top+=i,u.bottom+=i),u}if(t+="~"+o+"~"+i+"~"+l,n=hr.savedBBoxes[t],n)return dt.extendFlat({},n)}}var s,f;r?s=e:(f=hr.tester.node(),s=e.cloneNode(!0),f.appendChild(s)),sn.select(s).attr("transform",null).call(Ph.positionText,0,0);var h=s.getBoundingClientRect(),p=hr.testref.node().getBoundingClientRect();r||f.removeChild(s);var b={height:h.height,width:h.width,left:h.left-p.left,top:h.top-p.top,right:h.right-p.left,bottom:h.bottom-p.top};return Bg>=MW&&(hr.savedBBoxes={},Bg=0),t&&(hr.savedBBoxes[t]=b),Bg++,dt.extendFlat({},b)};function D8(e){var r=e.getAttribute("data-unformatted");if(r!==null)return r+e.getAttribute("data-math")+e.getAttribute("text-anchor")+e.getAttribute("style")}hr.setClipUrl=function(e,r,t){e.attr("clip-path",Gg(r,t))};function Gg(e,r){if(!e)return null;var t=r._context,n=t._exportedPlot?"":t._baseUrl||"";return n?"url('"+n+"#"+e+"')":"url(#"+e+")"}hr.getTranslate=function(e){var r=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,t=e.attr?"attr":"getAttribute",n=e[t]("transform")||"",a=n.replace(r,function(o,i,l){return[i,l].join(" ")}).split(" ");return{x:+a[0]||0,y:+a[1]||0}};hr.setTranslate=function(e,r,t){var n=/(\btranslate\(.*?\);?)/,a=e.attr?"attr":"getAttribute",o=e.attr?"attr":"setAttribute",i=e[a]("transform")||"";return r=r||0,t=t||0,i=i.replace(n,"").trim(),i+=Ff(r,t),i=i.trim(),e[o]("transform",i),i};hr.getScale=function(e){var r=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,t=e.attr?"attr":"getAttribute",n=e[t]("transform")||"",a=n.replace(r,function(o,i,l){return[i,l].join(" ")}).split(" ");return{x:+a[0]||1,y:+a[1]||1}};hr.setScale=function(e,r,t){var n=/(\bscale\(.*?\);?)/,a=e.attr?"attr":"getAttribute",o=e.attr?"attr":"setAttribute",i=e[a]("transform")||"";return r=r||1,t=t||1,i=i.replace(n,"").trim(),i+="scale("+r+","+t+")",i=i.trim(),e[o]("transform",i),i};var TW=/\s*sc.*/;hr.setPointGroupScale=function(e,r,t){if(r=r||1,t=t||1,!!e){var n=r===1&&t===1?"":"scale("+r+","+t+")";e.each(function(){var a=(this.getAttribute("transform")||"").replace(TW,"");a+=n,a=a.trim(),this.setAttribute("transform",a)})}};var AW=/translate\([^)]*\)\s*$/;hr.setTextPointsScale=function(e,r,t){e&&e.each(function(){var n,a=sn.select(this),o=a.select("text");if(o.node()){var i=parseFloat(o.attr("x")||0),l=parseFloat(o.attr("y")||0),u=(a.attr("transform")||"").match(AW);r===1&&t===1?n=[]:n=[Ff(i,l),"scale("+r+","+t+")",Ff(-i,-l)],u&&n.push(u),a.attr("transform",n.join(""))}})};function Yg(e,r){var t;return e&&(t=e.mf),t===void 0&&(t=r.marker&&r.marker.standoff||0),!r._geo&&!r._xA?-t:t}hr.getMarkerStandoff=Yg;var If=Math.atan2,Gl=Math.cos,ou=Math.sin;function R8(e,r){var t=r[0],n=r[1];return[t*Gl(e)-n*ou(e),t*ou(e)+n*Gl(e)]}var P8,I8,F8,N8,Ug,Hg;function Wg(e,r){var t=e.ma;t===void 0&&(t=r.marker.angle,(!t||dt.isArrayOrTypedArray(t))&&(t=0));var n,a,o=r.marker.angleref;if(o==="previous"||o==="north"){if(r._geo){var i=r._geo.project(e.lonlat);n=i[0],a=i[1]}else{var l=r._xA,u=r._yA;if(l&&u)n=l.c2p(e.x),a=u.c2p(e.y);else return 90}if(r._geo){var s=e.lonlat[0],f=e.lonlat[1],h=r._geo.project([s,f+1e-5]),p=r._geo.project([s+1e-5,f]),b=If(p[1]-a,p[0]-n),y=If(h[1]-a,h[0]-n),w;if(o==="north")w=t/180*Math.PI;else if(o==="previous"){var T=s/180*Math.PI,m=f/180*Math.PI,k=P8/180*Math.PI,S=I8/180*Math.PI,x=k-T,M=Gl(S)*ou(x),d=ou(S)*Gl(m)-Gl(S)*ou(m)*Gl(x);w=-If(M,d)-Math.PI,P8=s,I8=f}var _=R8(b,[Gl(w),0]),g=R8(y,[ou(w),0]);t=If(_[1]+g[1],_[0]+g[0])/Math.PI*180,o==="previous"&&!(Hg===r.uid&&e.i===Ug+1)&&(t=null)}if(o==="previous"&&!r._geo)if(Hg===r.uid&&e.i===Ug+1&&Xl(n)&&Xl(a)){var c=n-F8,A=a-N8,v=r.line&&r.line.shape||"",D=v.slice(v.length-1);D==="h"&&(A=0),D==="v"&&(c=0),t+=If(A,c)/Math.PI*180+90}else t=null}return F8=n,N8=a,Ug=e.i,Hg=r.uid,t}hr.getMarkerAngle=Wg});var Nf=de((X0e,Q8)=>{"use strict";var lu=it(),kW=nt(),SW=ln(),Xg=Er(),Zl=ir(),Z8=Zl.strTranslate,Ih=mt(),Fh=Xr(),su=On(),J8=G0(),CW=Cn().OPPOSITE_SIDE,K8=/ [XY][0-9]* /,Zg=1.6,Jg=1.6;function EW(e,r,t){var n=e._fullLayout,a=t.propContainer,o=t.propName,i=t.placeholder,l=t.traceIndex,u=t.avoid||{},s=t.attributes,f=t.transform,h=t.containerGroup,p=1,b=a.title,y=(b&&b.text?b.text:"").trim(),w=!1,T=b&&b.font?b.font:{},m=T.family,k=T.size,S=T.color,x=T.weight,M=T.style,d=T.variant,_=T.textcase,g=T.lineposition,c=T.shadow,A=t.subtitlePropName,v=!!A,D=t.subtitlePlaceholder,E=(a.title||{}).subtitle||{text:"",font:{}},R=(E.text||"").trim(),N=!1,F=1,I=E.font,L=I.family,P=I.size,O=I.color,U=I.weight,X=I.style,$=I.variant,j=I.textcase,Y=I.lineposition,q=I.shadow,Q;o==="title.text"?Q="titleText":o.indexOf("axis")!==-1?Q="axisTitleText":o.indexOf("colorbar")!==-1&&(Q="colorbarTitleText");var ae=e._context.edits[Q];function K(Ce,Fe){return Ce===void 0||Fe===void 0?!1:Ce.replace(K8," % ")===Fe.replace(K8," % ")}y===""?p=0:K(y,i)&&(ae||(y=""),p=.2,w=!0),v&&(R===""?F=0:K(R,D)&&(ae||(R=""),F=.2,N=!0)),t._meta?y=Zl.templateString(y,t._meta):n._meta&&(y=Zl.templateString(y,n._meta));var oe=y||R||ae,re;h||(h=Zl.ensureSingle(n._infolayer,"g","g-"+r),re=n._hColorbarMoveTitle);var V=h.selectAll("text."+r).data(oe?[0]:[]);V.enter().append("text"),V.text(y).attr("class",r),V.exit().remove();var ee=null,H=r+"-subtitle",te=R||ae;if(v&&(ee=h.selectAll("text."+H).data(te?[0]:[]),ee.enter().append("text"),ee.text(R).attr("class",H),ee.exit().remove()),!oe)return h;function le(Ce,Fe){Zl.syncOrAsync([ve,Ae],{title:Ce,subtitle:Fe})}function ve(Ce){var Fe=Ce.title,Ee=Ce.subtitle,ze;!f&&re&&(f={}),f?(ze="",f.rotate&&(ze+="rotate("+[f.rotate,s.x,s.y]+")"),(f.offset||re)&&(ze+=Z8(0,(f.offset||0)-(re||0)))):ze=null,Fe.attr("transform",ze);function Ue(pe){if(pe){var he=lu.select(pe.node().parentNode).select("."+H);if(!he.empty()){var xe=pe.node().getBBox();if(xe.height){var Le=xe.y+xe.height+Zg*P;he.attr("y",Le)}}}}if(Fe.style("opacity",p*Fh.opacity(S)).call(Ih.font,{color:Fh.rgb(S),size:lu.round(k,2),family:m,weight:x,style:M,variant:d,textcase:_,shadow:c,lineposition:g}).attr(s).call(su.convertToTspans,e,Ue),Ee&&!Ee.empty()){var ge=h.select("."+r+"-math-group"),Me=Fe.node().getBBox(),ke=ge.node()?ge.node().getBBox():void 0,me=ke?ke.y+ke.height+Zg*P:Me.y+Me.height+Jg*P,ye=Zl.extendFlat({},s,{y:me});Ee.attr("transform",ze),Ee.style("opacity",F*Fh.opacity(O)).call(Ih.font,{color:Fh.rgb(O),size:lu.round(P,2),family:L,weight:U,style:X,variant:$,textcase:j,shadow:q,lineposition:Y}).attr(ye).call(su.convertToTspans,e)}return SW.previousPromises(e)}function Ae(Ce){var Fe=Ce.title,Ee=lu.select(Fe.node().parentNode);if(u&&u.selection&&u.side&&y){Ee.attr("transform",null);var ze=CW[u.side],Ue=u.side==="left"||u.side==="top"?-1:1,ge=kW(u.pad)?u.pad:2,Me=Ih.bBox(Ee.node()),ke={t:0,b:0,l:0,r:0},me=e._fullLayout._reservedMargin;for(var ye in me)for(var pe in me[ye]){var he=me[ye][pe];ke[pe]=Math.max(ke[pe],he)}var xe={left:ke.l,top:ke.t,right:n.width-ke.r,bottom:n.height-ke.b},Le=u.maxShift||Ue*(xe[u.side]-Me[u.side]),qe=0;if(Le<0)qe=Le;else{var Ne=u.offsetLeft||0,$e=u.offsetTop||0;Me.left-=Ne,Me.right-=Ne,Me.top-=$e,Me.bottom-=$e,u.selection.each(function(){var Be=Ih.bBox(this);Zl.bBoxIntersect(Me,Be,ge)&&(qe=Math.max(qe,Ue*(Be[u.side]-Me[ze])+ge))}),qe=Math.min(Le,qe),a._titleScoot=Math.abs(qe)}if(qe>0||Le<0){var Ve={left:[-qe,0],right:[qe,0],top:[0,-qe],bottom:[0,qe]}[u.side];Ee.attr("transform",Z8(Ve[0],Ve[1]))}}}V.call(le,ee);function we(Ce,Fe){Ce.text(Fe).on("mouseover.opacity",function(){lu.select(this).transition().duration(J8.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){lu.select(this).transition().duration(J8.HIDE_PLACEHOLDER).style("opacity",0)})}if(ae&&(y?V.on(".opacity",null):(we(V,i),w=!0),V.call(su.makeEditable,{gd:e}).on("edit",function(Ce){l!==void 0?Xg.call("_guiRestyle",e,o,Ce,l):Xg.call("_guiRelayout",e,o,Ce)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(le)}).on("input",function(Ce){this.text(Ce||" ").call(su.positionText,s.x,s.y)}),v)){if(v&&!y){var ce=V.node().getBBox(),Se=ce.y+ce.height+Jg*P;ee.attr("y",Se)}R?ee.on(".opacity",null):(we(ee,D),N=!0),ee.call(su.makeEditable,{gd:e}).on("edit",function(Ce){Xg.call("_guiRelayout",e,"title.subtitle.text",Ce)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(le)}).on("input",function(Ce){this.text(Ce||" ").call(su.positionText,ee.attr("x"),ee.attr("y"))})}return V.classed("js-placeholder",w),ee&&!ee.empty()&&ee.classed("js-placeholder",N),h}Q8.exports={draw:EW,SUBTITLE_PADDING_EM:Jg,SUBTITLE_PADDING_MATHJAX_EM:Zg}});var Vh=de((Z0e,tM)=>{"use strict";var LW=it(),DW=Ns().utcFormat,xt=ir(),RW=xt.numberFormat,Pi=nt(),Wo=xt.cleanNumber,PW=xt.ms2DateTime,$8=xt.dateTime2ms,Ii=xt.ensureNumber,j8=xt.isArrayOrTypedArray,Xo=nn(),Nh=Xo.FP_SAFE,ii=Xo.BADNUM,IW=Xo.LOG_CLIP,FW=Xo.ONEWEEK,zh=Xo.ONEDAY,qh=Xo.ONEHOUR,eM=Xo.ONEMIN,rM=Xo.ONESEC,Oh=en(),Hh=on(),Bh=Hh.HOUR_PATTERN,Uh=Hh.WEEKDAY_PATTERN;function zf(e){return Math.pow(10,e)}function Kg(e){return e!=null}tM.exports=function(r,t){t=t||{};var n=r._id||"x",a=n.charAt(0);function o(x,M){if(x>0)return Math.log(x)/Math.LN10;if(x<=0&&M&&r.range&&r.range.length===2){var d=r.range[0],_=r.range[1];return .5*(d+_-2*IW*Math.abs(d-_))}else return ii}function i(x,M,d,_){if((_||{}).msUTC&&Pi(x))return+x;var g=$8(x,d||r.calendar);if(g===ii)if(Pi(x)){x=+x;var c=Math.floor(xt.mod(x+.05,1)*10),A=Math.round(x-c/10);g=$8(new Date(A))+c/10}else return ii;return g}function l(x,M,d){return PW(x,M,d||r.calendar)}function u(x){return r._categories[Math.round(x)]}function s(x){if(Kg(x)){if(r._categoriesMap===void 0&&(r._categoriesMap={}),r._categoriesMap[x]!==void 0)return r._categoriesMap[x];r._categories.push(typeof x=="number"?String(x):x);var M=r._categories.length-1;return r._categoriesMap[x]=M,M}return ii}function f(x,M){for(var d=new Array(M),_=0;_<M;_++){var g=(x[0]||[])[_],c=(x[1]||[])[_];d[_]=h([g,c])}return d}function h(x){if(r._categoriesMap)return r._categoriesMap[x]}function p(x){var M=h(x);if(M!==void 0)return M;if(Pi(x))return+x}function b(x){return Pi(x)?+x:h(x)}function y(x,M,d){return LW.round(d+M*x,2)}function w(x,M,d){return(x-d)/M}var T=function(M){return Pi(M)?y(M,r._m,r._b):ii},m=function(x){return w(x,r._m,r._b)};if(r.rangebreaks){var k=a==="y";T=function(x){if(!Pi(x))return ii;var M=r._rangebreaks.length;if(!M)return y(x,r._m,r._b);var d=k;r.range[0]>r.range[1]&&(d=!d);for(var _=d?-1:1,g=_*x,c=0,A=0;A<M;A++){var v=_*r._rangebreaks[A].min,D=_*r._rangebreaks[A].max;if(g<v)break;if(g>D)c=A+1;else{c=g<(v+D)/2?A:A+1;break}}var E=r._B[c]||0;return isFinite(E)?y(x,r._m2,E):0},m=function(x){var M=r._rangebreaks.length;if(!M)return w(x,r._m,r._b);for(var d=0,_=0;_<M&&!(x<r._rangebreaks[_].pmin);_++)x>r._rangebreaks[_].pmax&&(d=_+1);return w(x,r._m2,r._B[d])}}r.c2l=r.type==="log"?o:Ii,r.l2c=r.type==="log"?zf:Ii,r.l2p=T,r.p2l=m,r.c2p=r.type==="log"?function(x,M){return T(o(x,M))}:T,r.p2c=r.type==="log"?function(x){return zf(m(x))}:m,["linear","-"].indexOf(r.type)!==-1?(r.d2r=r.r2d=r.d2c=r.r2c=r.d2l=r.r2l=Wo,r.c2d=r.c2r=r.l2d=r.l2r=Ii,r.d2p=r.r2p=function(x){return r.l2p(Wo(x))},r.p2d=r.p2r=m,r.cleanPos=Ii):r.type==="log"?(r.d2r=r.d2l=function(x,M){return o(Wo(x),M)},r.r2d=r.r2c=function(x){return zf(Wo(x))},r.d2c=r.r2l=Wo,r.c2d=r.l2r=Ii,r.c2r=o,r.l2d=zf,r.d2p=function(x,M){return r.l2p(r.d2r(x,M))},r.p2d=function(x){return zf(m(x))},r.r2p=function(x){return r.l2p(Wo(x))},r.p2r=m,r.cleanPos=Ii):r.type==="date"?(r.d2r=r.r2d=xt.identity,r.d2c=r.r2c=r.d2l=r.r2l=i,r.c2d=r.c2r=r.l2d=r.l2r=l,r.d2p=r.r2p=function(x,M,d){return r.l2p(i(x,0,d))},r.p2d=r.p2r=function(x,M,d){return l(m(x),M,d)},r.cleanPos=function(x){return xt.cleanDate(x,ii,r.calendar)}):r.type==="category"?(r.d2c=r.d2l=s,r.r2d=r.c2d=r.l2d=u,r.d2r=r.d2l_noadd=p,r.r2c=function(x){var M=b(x);return M!==void 0?M:r.fraction2r(.5)},r.l2r=r.c2r=Ii,r.r2l=b,r.d2p=function(x){return r.l2p(r.r2c(x))},r.p2d=function(x){return u(m(x))},r.r2p=r.d2p,r.p2r=m,r.cleanPos=function(x){return typeof x=="string"&&x!==""?x:Ii(x)}):r.type==="multicategory"&&(r.r2d=r.c2d=r.l2d=u,r.d2r=r.d2l_noadd=p,r.r2c=function(x){var M=p(x);return M!==void 0?M:r.fraction2r(.5)},r.r2c_just_indices=h,r.l2r=r.c2r=Ii,r.r2l=p,r.d2p=function(x){return r.l2p(r.r2c(x))},r.p2d=function(x){return u(m(x))},r.r2p=r.d2p,r.p2r=m,r.cleanPos=function(x){return Array.isArray(x)||typeof x=="string"&&x!==""?x:Ii(x)},r.setupMultiCategory=function(x){var M=r._traceIndices,d,_,g=r._matchGroup;if(g&&r._categories.length===0){for(var c in g)if(c!==n){var A=t[Oh.id2name(c)];M=M.concat(A._traceIndices)}}var v=[[0,{}],[0,{}]],D=[];for(d=0;d<M.length;d++){var E=x[M[d]];if(a in E){var R=E[a],N=E._length||xt.minRowLength(R);if(j8(R[0])&&j8(R[1]))for(_=0;_<N;_++){var F=R[0][_],I=R[1][_];Kg(F)&&Kg(I)&&(D.push([F,I]),F in v[0][1]||(v[0][1][F]=v[0][0]++),I in v[1][1]||(v[1][1][I]=v[1][0]++))}}}for(D.sort(function(L,P){var O=v[0][1],U=O[L[0]]-O[P[0]];if(U)return U;var X=v[1][1];return X[L[1]]-X[P[1]]}),d=0;d<D.length;d++)s(D[d])}),r.fraction2r=function(x){var M=r.r2l(r.range[0]),d=r.r2l(r.range[1]);return r.l2r(M+x*(d-M))},r.r2fraction=function(x){var M=r.r2l(r.range[0]),d=r.r2l(r.range[1]);return(r.r2l(x)-M)/(d-M)},r.limitRange=function(x){var M=r.minallowed,d=r.maxallowed;if(!(M===void 0&&d===void 0)){x||(x="range");var _=xt.nestedProperty(r,x).get(),g=xt.simpleMap(_,r.r2l),c=g[1]<g[0];c&&g.reverse();var A=xt.simpleMap([M,d],r.r2l);if(M!==void 0&&g[0]<A[0]&&(_[c?1:0]=M),d!==void 0&&g[1]>A[1]&&(_[c?0:1]=d),_[0]===_[1]){var v=r.l2r(M),D=r.l2r(d);if(M!==void 0){var E=v+1;d!==void 0&&(E=Math.min(E,D)),_[c?1:0]=E}if(d!==void 0){var R=D+1;M!==void 0&&(R=Math.max(R,v)),_[c?0:1]=R}}}},r.cleanRange=function(x,M){r._cleanRange(x,M),r.limitRange(x)},r._cleanRange=function(x,M){M||(M={}),x||(x="range");var d=xt.nestedProperty(r,x).get(),_,g;if(r.type==="date"?g=xt.dfltRange(r.calendar):a==="y"?g=Hh.DFLTRANGEY:r._name==="realaxis"?g=[0,1]:g=M.dfltRange||Hh.DFLTRANGEX,g=g.slice(),(r.rangemode==="tozero"||r.rangemode==="nonnegative")&&(g[0]=0),!d||d.length!==2){xt.nestedProperty(r,x).set(g);return}var c=d[0]===null,A=d[1]===null;for(r.type==="date"&&!r.autorange&&(d[0]=xt.cleanDate(d[0],ii,r.calendar),d[1]=xt.cleanDate(d[1],ii,r.calendar)),_=0;_<2;_++)if(r.type==="date"){if(!xt.isDateTime(d[_],r.calendar)){r[x]=g;break}if(r.r2l(d[0])===r.r2l(d[1])){var v=xt.constrain(r.r2l(d[0]),xt.MIN_MS+1e3,xt.MAX_MS-1e3);d[0]=r.l2r(v-1e3),d[1]=r.l2r(v+1e3);break}}else{if(!Pi(d[_]))if(!(c||A)&&Pi(d[1-_]))d[_]=d[1-_]*(_?10:.1);else{r[x]=g;break}if(d[_]<-Nh?d[_]=-Nh:d[_]>Nh&&(d[_]=Nh),d[0]===d[1]){var D=Math.max(1,Math.abs(d[0]*1e-6));d[0]-=D,d[1]+=D}}},r.setScale=function(x){var M=t._size;if(r.overlaying){var d=Oh.getFromId({_fullLayout:t},r.overlaying);r.domain=d.domain}var _=x&&r._r?"_r":"range",g=r.calendar;r.cleanRange(_);var c=r.r2l(r[_][0],g),A=r.r2l(r[_][1],g),v=a==="y";if(v?(r._offset=M.t+(1-r.domain[1])*M.h,r._length=M.h*(r.domain[1]-r.domain[0]),r._m=r._length/(c-A),r._b=-r._m*A):(r._offset=M.l+r.domain[0]*M.w,r._length=M.w*(r.domain[1]-r.domain[0]),r._m=r._length/(A-c),r._b=-r._m*c),r._rangebreaks=[],r._lBreaks=0,r._m2=0,r._B=[],r.rangebreaks){var D,E;if(r._rangebreaks=r.locateBreaks(Math.min(c,A),Math.max(c,A)),r._rangebreaks.length){for(D=0;D<r._rangebreaks.length;D++)E=r._rangebreaks[D],r._lBreaks+=Math.abs(E.max-E.min);var R=v;c>A&&(R=!R),R&&r._rangebreaks.reverse();var N=R?-1:1;for(r._m2=N*r._length/(Math.abs(A-c)-r._lBreaks),r._B.push(-r._m2*(v?A:c)),D=0;D<r._rangebreaks.length;D++)E=r._rangebreaks[D],r._B.push(r._B[r._B.length-1]-N*r._m2*(E.max-E.min));for(D=0;D<r._rangebreaks.length;D++)E=r._rangebreaks[D],E.pmin=T(E.min),E.pmax=T(E.max)}}if(!isFinite(r._m)||!isFinite(r._b)||r._length<0)throw t._replotting=!1,new Error("Something went wrong with axis scaling")},r.maskBreaks=function(x){var M=r.rangebreaks||[],d,_,g,c,A;M._cachedPatterns||(M._cachedPatterns=M.map(function(O){return O.enabled&&O.bounds?xt.simpleMap(O.bounds,O.pattern?Wo:r.d2c):null})),M._cachedValues||(M._cachedValues=M.map(function(O){return O.enabled&&O.values?xt.simpleMap(O.values,r.d2c).sort(xt.sorterAsc):null}));for(var v=0;v<M.length;v++){var D=M[v];if(D.enabled){if(D.bounds){var E=D.pattern;switch(d=M._cachedPatterns[v],_=d[0],g=d[1],E){case Uh:A=new Date(x),c=A.getUTCDay(),_>g&&(g+=7,c<_&&(c+=7));break;case Bh:A=new Date(x);var R=A.getUTCHours(),N=A.getUTCMinutes(),F=A.getUTCSeconds(),I=A.getUTCMilliseconds();c=R+(N/60+F/3600+I/36e5),_>g&&(g+=24,c<_&&(c+=24));break;case"":c=x;break}if(c>=_&&c<g)return ii}else for(var L=M._cachedValues[v],P=0;P<L.length;P++)if(_=L[P],g=_+D.dvalue,x>=_&&x<g)return ii}}return x},r.locateBreaks=function(x,M){var d,_,g,c,A=[];if(!r.rangebreaks)return A;var v=r.rangebreaks.slice().sort(function(X,$){return X.pattern===Uh&&$.pattern===Bh?-1:$.pattern===Uh&&X.pattern===Bh?1:0}),D=function(X,$){if(X=xt.constrain(X,x,M),$=xt.constrain($,x,M),X!==$){for(var j=!0,Y=0;Y<A.length;Y++){var q=A[Y];X<q.max&&$>=q.min&&(X<q.min&&(q.min=X),$>q.max&&(q.max=$),j=!1)}j&&A.push({min:X,max:$})}};for(d=0;d<v.length;d++){var E=v[d];if(E.enabled)if(E.bounds){var R=x,N=M;E.pattern&&(R=Math.floor(R)),_=xt.simpleMap(E.bounds,E.pattern?Wo:r.r2l),g=_[0],c=_[1];var F=new Date(R),I,L;switch(E.pattern){case Uh:L=FW,I=((c<g?7:0)+(c-g))*zh,R+=g*zh-(F.getUTCDay()*zh+F.getUTCHours()*qh+F.getUTCMinutes()*eM+F.getUTCSeconds()*rM+F.getUTCMilliseconds());break;case Bh:L=zh,I=((c<g?24:0)+(c-g))*qh,R+=g*qh-(F.getUTCHours()*qh+F.getUTCMinutes()*eM+F.getUTCSeconds()*rM+F.getUTCMilliseconds());break;default:R=Math.min(_[0],_[1]),N=Math.max(_[0],_[1]),L=N-R,I=L}for(var P=R;P<N;P+=L)D(P,P+I)}else for(var O=xt.simpleMap(E.values,r.d2c),U=0;U<O.length;U++)g=O[U],c=g+E.dvalue,D(g,c)}return A.sort(function(X,$){return X.min-$.min}),A},r.makeCalcdata=function(x,M,d){var _,g,c,A,v=r.type,D=v==="date"&&x[M+"calendar"];if(M in x){if(_=x[M],A=x._length||xt.minRowLength(_),xt.isTypedArray(_)&&(v==="linear"||v==="log")){if(A===_.length)return _;if(_.subarray)return _.subarray(0,A)}if(v==="multicategory")return f(_,A);for(g=new Array(A),c=0;c<A;c++)g[c]=r.d2c(_[c],0,D,d)}else{var E=M+"0"in x?r.d2c(x[M+"0"],0,D):0,R=x["d"+M]?Number(x["d"+M]):1;for(_=x[{x:"y",y:"x"}[M]],A=x._length||_.length,g=new Array(A),c=0;c<A;c++)g[c]=E+c*R}if(r.rangebreaks)for(c=0;c<A;c++)g[c]=r.maskBreaks(g[c]);return g},r.isValidRange=function(x,M){return Array.isArray(x)&&x.length===2&&(M&&x[0]===null||Pi(r.r2l(x[0])))&&(M&&x[1]===null||Pi(r.r2l(x[1])))},r.getAutorangeDflt=function(x,M){var d=!r.isValidRange(x,"nullOk");return d&&M&&M.reverseDflt?d="reversed":x&&(x[0]===null&&x[1]===null?d=!0:x[0]===null&&x[1]!==null?d="min":x[0]!==null&&x[1]===null&&(d="max")),d},r.isReversed=function(){var x=r.autorange;return x==="reversed"||x==="min reversed"||x==="max reversed"},r.isPtWithinRange=function(x,M){var d=r.c2l(x[a],null,M),_=r.r2l(r.range[0]),g=r.r2l(r.range[1]);return _<g?_<=d&&d<=g:g<=d&&d<=_},r._emptyCategories=function(){r._categories=[],r._categoriesMap={}},r.clearCalc=function(){var x=r._matchGroup;if(x){var M=null,d=null;for(var _ in x){var g=t[Oh.id2name(_)];if(g._categories){M=g._categories,d=g._categoriesMap;break}}M&&d?(r._categories=M,r._categoriesMap=d):r._emptyCategories()}else r._emptyCategories();if(r._initialCategories)for(var c=0;c<r._initialCategories.length;c++)s(r._initialCategories[c])},r.sortByInitialCategories=function(){var x=[];if(r._emptyCategories(),r._initialCategories)for(var M=0;M<r._initialCategories.length;M++)s(r._initialCategories[M]);x=x.concat(r._traceIndices);var d=r._matchGroup;for(var _ in d)if(n!==_){var g=t[Oh.id2name(_)];g._categories=r._categories,g._categoriesMap=r._categoriesMap,x=x.concat(g._traceIndices)}return x};var S=t._d3locale;r.type==="date"&&(r._dateFormat=S?S.timeFormat:DW,r._extraFormat=t._extraFormat),r._separators=t.separators,r._numFormat=S?S.numberFormat:RW,delete r._minDtick,delete r._forceTick0}});var $g=de((J0e,oM)=>{"use strict";var nM=nt(),Qg=ir(),NW=nn().BADNUM,Gh=Qg.isArrayOrTypedArray,zW=Qg.isDateTime,qW=Qg.cleanNumber,aM=Math.round;oM.exports=function(r,t,n){var a=r,o=n.noMultiCategory;if(Gh(a)&&!a.length)return"-";if(!o&&VW(a))return"multicategory";if(o&&Array.isArray(a[0])){for(var i=[],l=0;l<a.length;l++)if(Gh(a[l]))for(var u=0;u<a[l].length;u++)i.push(a[l][u]);a=i}if(UW(a,t))return"date";var s=n.autotypenumbers!=="strict";return HW(a,s)?"category":BW(a,s)?"linear":"-"};function OW(e,r){return r?nM(e):typeof e=="number"}function BW(e,r){for(var t=e.length,n=0;n<t;n++)if(OW(e[n],r))return!0;return!1}function UW(e,r){for(var t=e.length,n=iM(t),a=0,o=0,i={},l=0;l<t;l+=n){var u=aM(l),s=e[u],f=String(s);i[f]||(i[f]=1,zW(s,r)&&a++,nM(s)&&o++)}return a>o*2}function iM(e){return Math.max(1,(e-1)/1e3)}function HW(e,r){for(var t=e.length,n=iM(t),a=0,o=0,i={},l=0;l<t;l+=n){var u=aM(l),s=e[u],f=String(s);if(!i[f]){i[f]=1;var h=typeof s;h==="boolean"?o++:(r?qW(s)!==NW:h==="number")?a++:h==="string"&&o++}}return o>a*2}function VW(e){return Gh(e[0])&&Gh(e[1])}});var uu=de((K0e,dM)=>{"use strict";var GW=it(),fM=nt(),Zo=ir(),Yh=nn().FP_SAFE,YW=Er(),WW=mt(),cM=en(),XW=cM.getFromId,ZW=cM.isLinked;dM.exports={applyAutorangeOptions:vM,getAutoRange:jg,makePadFn:e2,doAutoRange:KW,findExtremes:QW,concatExtremes:n2};function jg(e,r){var t,n,a=[],o=e._fullLayout,i=e2(o,r,0),l=e2(o,r,1),u=n2(e,r),s=u.min,f=u.max;if(s.length===0||f.length===0)return Zo.simpleMap(r.range,r.r2l);var h=s[0].val,p=f[0].val;for(t=1;t<s.length&&h===p;t++)h=Math.min(h,s[t].val);for(t=1;t<f.length&&h===p;t++)p=Math.max(p,f[t].val);var b=r.autorange,y=b==="reversed"||b==="min reversed"||b==="max reversed";if(!y&&r.range){var w=Zo.simpleMap(r.range,r.r2l);y=w[1]<w[0]}r.autorange==="reversed"&&(r.autorange=!0);var T=r.rangemode,m=T==="tozero",k=T==="nonnegative",S=r._length,x=S/10,M=0,d,_,g,c,A,v;for(t=0;t<s.length;t++)for(d=s[t],n=0;n<f.length;n++)_=f[n],v=_.val-d.val-lM(r,d.val,_.val),v>0&&(A=S-i(d)-l(_),A>x?v/A>M&&(g=d,c=_,M=v/A):v/S>M&&(g={val:d.val,nopad:1},c={val:_.val,nopad:1},M=v/S));function D(I,L){return Math.max(I,l(L))}if(h===p){var E=h-1,R=h+1;if(m)if(h===0)a=[0,1];else{var N=(h>0?f:s).reduce(D,0),F=h/(1-Math.min(.5,N/S));a=h>0?[0,F]:[F,0]}else k?a=[Math.max(0,E),Math.max(1,R)]:a=[E,R]}else m?(g.val>=0&&(g={val:0,nopad:1}),c.val<=0&&(c={val:0,nopad:1})):k&&(g.val-M*i(g)<0&&(g={val:0,nopad:1}),c.val<=0&&(c={val:1,nopad:1})),M=(c.val-g.val-lM(r,d.val,_.val))/(S-i(g)-l(c)),a=[g.val-M*i(g),c.val+M*l(c)];return a=vM(a,r),r.limitRange&&r.limitRange(),y&&a.reverse(),Zo.simpleMap(a,r.l2r||Number)}function lM(e,r,t){var n=0;if(e.rangebreaks)for(var a=e.locateBreaks(r,t),o=0;o<a.length;o++){var i=a[o];n+=i.max-i.min}return n}function e2(e,r,t){var n=.05*r._length,a=r._anchorAxis||{};if((r.ticklabelposition||"").indexOf("inside")!==-1||(a.ticklabelposition||"").indexOf("inside")!==-1){var o=r.isReversed();if(!o){var i=Zo.simpleMap(r.range,r.r2l);o=i[1]<i[0]}o&&(t=!t)}var l=0;return ZW(e,r._id)||(l=JW(e,r,t)),n=Math.max(l,n),r.constrain==="domain"&&r._inputDomain&&(n*=(r._inputDomain[1]-r._inputDomain[0])/(r.domain[1]-r.domain[0])),function(s){return s.nopad?0:s.pad+(s.extrapad?n:l)}}var sM=3;function JW(e,r,t){var n=0,a=r._id.charAt(0)==="x";for(var o in e._plots){var i=e._plots[o];if(!(r._id!==i.xaxis._id&&r._id!==i.yaxis._id)){var l=(a?i.yaxis:i.xaxis)||{};if((l.ticklabelposition||"").indexOf("inside")!==-1&&(!t&&(l.side==="left"||l.side==="bottom")||t&&(l.side==="top"||l.side==="right"))){if(l._vals){var u=Zo.deg2rad(l._tickAngles[l._id+"tick"]||0),s=Math.abs(Math.cos(u)),f=Math.abs(Math.sin(u));if(!l._vals[0].bb){var h=l._id+"tick",p=l._selections[h];p.each(function(k){var S=GW.select(this),x=S.select(".text-math-group");x.empty()&&(k.bb=WW.bBox(S.node()))})}for(var b=0;b<l._vals.length;b++){var y=l._vals[b],w=y.bb;if(w){var T=2*sM+w.width,m=2*sM+w.height;n=Math.max(n,a?Math.max(T*s,m*f):Math.max(m*s,T*f))}}}l.ticks==="inside"&&l.ticklabelposition==="inside"&&(n+=l.ticklen||0)}}}return n}function n2(e,r,t){var n=r._id,a=e._fullData,o=e._fullLayout,i=[],l=[],u,s,f;function h(T,m){for(u=0;u<m.length;u++){var k=T[m[u]],S=(k._extremes||{})[n];if(k.visible===!0&&S){for(s=0;s<S.min.length;s++)f=S.min[s],r2(i,f.val,f.pad,{extrapad:f.extrapad});for(s=0;s<S.max.length;s++)f=S.max[s],t2(l,f.val,f.pad,{extrapad:f.extrapad})}}}if(h(a,r._traceIndices),h(o.annotations||[],r._annIndices||[]),h(o.shapes||[],r._shapeIndices||[]),r._matchGroup&&!t){for(var p in r._matchGroup)if(p!==r._id){var b=XW(e,p),y=n2(e,b,!0),w=r._length/b._length;for(s=0;s<y.min.length;s++)f=y.min[s],r2(i,f.val,f.pad*w,{extrapad:f.extrapad});for(s=0;s<y.max.length;s++)f=y.max[s],t2(l,f.val,f.pad*w,{extrapad:f.extrapad})}}return{min:i,max:l}}function KW(e,r,t){if(r.setScale(),r.autorange){r.range=t?t.slice():jg(e,r),r._r=r.range.slice(),r._rl=Zo.simpleMap(r._r,r.r2l);var n=r._input,a={};a[r._attr+".range"]=r.range,a[r._attr+".autorange"]=r.autorange,YW.call("_storeDirectGUIEdit",e.layout,e._fullLayout._preGUI,a),n.range=r.range.slice(),n.autorange=r.autorange}var o=r._anchorAxis;if(o&&o.rangeslider){var i=o.rangeslider[r._name];i&&i.rangemode==="auto"&&(i.range=jg(e,r)),o._input.rangeslider[r._name]=Zo.extendFlat({},i)}}function QW(e,r,t){t||(t={}),e._m||e.setScale();var n=[],a=[],o=r.length,i=t.padded||!1,l=t.tozero&&(e.type==="linear"||e.type==="-"),u=e.type==="log",s=!1,f=t.vpadLinearized||!1,h,p,b,y,w,T,m,k,S;function x(D){if(Array.isArray(D))return s=!0,function(R){return Math.max(Number(D[R]||0),0)};var E=Math.max(Number(D||0),0);return function(){return E}}var M=x((e._m>0?t.ppadplus:t.ppadminus)||t.ppad||0),d=x((e._m>0?t.ppadminus:t.ppadplus)||t.ppad||0),_=x(t.vpadplus||t.vpad),g=x(t.vpadminus||t.vpad);if(!s){if(k=1/0,S=-1/0,u)for(h=0;h<o;h++)p=r[h],p<k&&p>0&&(k=p),p>S&&p<Yh&&(S=p);else for(h=0;h<o;h++)p=r[h],p<k&&p>-Yh&&(k=p),p>S&&p<Yh&&(S=p);r=[k,S],o=2}var c={tozero:l,extrapad:i};function A(D){b=r[D],fM(b)&&(T=M(D),m=d(D),f?(y=e.c2l(b)-g(D),w=e.c2l(b)+_(D)):(k=b-g(D),S=b+_(D),u&&k<S/10&&(k=S/10),y=e.c2l(k),w=e.c2l(S)),l&&(y=Math.min(0,y),w=Math.max(0,w)),uM(y)&&r2(n,y,m,c),uM(w)&&t2(a,w,T,c))}var v=Math.min(6,o);for(h=0;h<v;h++)A(h);for(h=o-1;h>=v;h--)A(h);return{min:n,max:a,opts:t}}function r2(e,r,t,n){hM(e,r,t,n,$W)}function t2(e,r,t,n){hM(e,r,t,n,jW)}function hM(e,r,t,n,a){for(var o=n.tozero,i=n.extrapad,l=!0,u=0;u<e.length&&l;u++){var s=e[u];if(a(s.val,r)&&s.pad>=t&&(s.extrapad||!i)){l=!1;break}else a(r,s.val)&&s.pad<=t&&(i||!s.extrapad)&&(e.splice(u,1),u--)}if(l){var f=o&&r===0;e.push({val:r,pad:f?0:t,extrapad:f?!1:i})}}function uM(e){return fM(e)&&Math.abs(e)<Yh}function $W(e,r){return e<=r}function jW(e,r){return e>=r}function eX(e,r){var t=r.autorangeoptions;return t&&t.minallowed!==void 0&&Wh(r,t.minallowed,t.maxallowed)?t.minallowed:t&&t.clipmin!==void 0&&Wh(r,t.clipmin,t.clipmax)?Math.max(e,r.d2l(t.clipmin)):e}function rX(e,r){var t=r.autorangeoptions;return t&&t.maxallowed!==void 0&&Wh(r,t.minallowed,t.maxallowed)?t.maxallowed:t&&t.clipmax!==void 0&&Wh(r,t.clipmin,t.clipmax)?Math.min(e,r.d2l(t.clipmax)):e}function Wh(e,r,t){return r!==void 0&&t!==void 0?(r=e.d2l(r),t=e.d2l(t),r<t):!0}function vM(e,r){if(!r||!r.autorangeoptions)return e;var t=e[0],n=e[1],a=r.autorangeoptions.include;if(a!==void 0){var o=r.d2l(t),i=r.d2l(n);Zo.isArrayOrTypedArray(a)||(a=[a]);for(var l=0;l<a.length;l++){var u=r.d2l(a[l]);o>=u&&(o=u,t=u),i<=u&&(i=u,n=u)}}return t=eX(t,r),n=rX(n,r),[t,n]}});var Lt=de(($0e,zM)=>{"use strict";var Ra=it(),Jt=nt(),fu=ln(),Of=Er(),Cr=ir(),cu=Cr.strTranslate,Jl=On(),tX=Nf(),Bf=Xr(),da=mt(),nX=Da(),pM=bg(),Q0e=on(),wn=nn(),aX=wn.ONEMAXYEAR,Jh=wn.ONEAVGYEAR,Kh=wn.ONEMINYEAR,iX=wn.ONEMAXQUARTER,l2=wn.ONEAVGQUARTER,Qh=wn.ONEMINQUARTER,oX=wn.ONEMAXMONTH,hu=wn.ONEAVGMONTH,$h=wn.ONEMINMONTH,pa=wn.ONEWEEK,Bn=wn.ONEDAY,Jo=Bn/2,Ni=wn.ONEHOUR,Uf=wn.ONEMIN,jh=wn.ONESEC,lX=wn.ONEMILLI,sX=wn.ONEMICROSEC,Kl=wn.MINUS_SIGN,rv=wn.BADNUM,s2={K:"zeroline"},u2={K:"gridline",L:"path"},f2={K:"minor-gridline",L:"path"},kM={K:"tick",L:"path"},gM={K:"tick",L:"text"},yM={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},tv=Cn(),qf=tv.MID_SHIFT,Ql=tv.CAP_SHIFT,Hf=tv.LINE_SPACING,uX=tv.OPPOSITE_SIDE,ev=3,or=zM.exports={};or.setConvert=Vh();var fX=$g(),zi=en(),cX=zi.idSort,hX=zi.isLinked;or.id2name=zi.id2name;or.name2id=zi.name2id;or.cleanId=zi.cleanId;or.list=zi.list;or.listIds=zi.listIds;or.getFromId=zi.getFromId;or.getFromTrace=zi.getFromTrace;var SM=uu();or.getAutoRange=SM.getAutoRange;or.findExtremes=SM.findExtremes;var vX=1e-4;function d2(e){var r=(e[1]-e[0])*vX;return[e[0]-r,e[1]+r]}or.coerceRef=function(e,r,t,n,a,o){var i=n.charAt(n.length-1),l=t._fullLayout._subplots[i+"axis"],u=n+"ref",s={};return a||(a=l[0]||(typeof o=="string"?o:o[0])),o||(o=a),l=l.concat(l.map(function(f){return f+" domain"})),s[u]={valType:"enumerated",values:l.concat(o?typeof o=="string"?[o]:o:[]),dflt:a},Cr.coerce(e,r,s,u)};or.coerceRefArray=function(e,r,t,n,a,o,i){let l=n.charAt(n.length-1);var u=t._fullLayout._subplots[l+"axis"];let s=n+"ref";var f=e[s];a||(a=u[0]||(typeof o=="string"?o:o[0])),u=u.concat(u.map(p=>p+" domain")),u=u.concat(o||[]),f.length>i?(Cr.warn("Array attribute "+s+" has more entries than expected, truncating to "+i),f=f.slice(0,i)):f.length<i&&(Cr.warn("Array attribute "+s+" has fewer entries than expected, extending with default value"),f=f.concat(Array(i-f.length).fill(a)));for(var h=0;h<f.length;h++)f[h]=zi.cleanId(f[h],l,!0)||f[h],u.includes(f[h])||(f[h]=a);return r[s]=f,f};or.getRefType=function(e){return e===void 0?e:Array.isArray(e)?"array":e==="paper"?"paper":e==="pixel"?"pixel":/( domain)$/.test(e)?"domain":"range"};or.coercePosition=function(e,r,t,n,a,o){var i,l,u=or.getRefType(n);if(u!=="range")i=Cr.ensureNumber,l=t(a,o);else{var s=or.getFromId(r,n);o=s.fraction2r(o),l=t(a,o),i=s.cleanPos}e[a]=i(l)};or.cleanPosition=function(e,r,t){var n=t==="paper"||t==="pixel"?Cr.ensureNumber:or.getFromId(r,t).cleanPos;return n(e)};or.redrawComponents=function(e,r){r=r||or.listIds(e);var t=e._fullLayout;function n(a,o,i,l){for(var u=Of.getComponentMethod(a,o),s={},f=0;f<r.length;f++)for(var h=t[or.id2name(r[f])],p=h[i],b=0;b<p.length;b++){var y=p[b];if(!s[y]&&(u(e,y),s[y]=1,l))return}}n("annotations","drawOne","_annIndices"),n("shapes","drawOne","_shapeIndices"),n("images","draw","_imgIndices",!0),n("selections","drawOne","_selectionIndices")};var dX=or.getDataConversions=function(e,r,t,n){var a,o=t==="x"||t==="y"||t==="z"?t:n;if(Cr.isArrayOrTypedArray(o)){if(a={type:fX(n,void 0,{autotypenumbers:e._fullLayout.autotypenumbers}),_categories:[]},or.setConvert(a),a.type==="category")for(var i=0;i<n.length;i++)a.d2c(n[i])}else a=or.getFromTrace(e,r,o);return a?{d2c:a.d2c,c2d:a.c2d}:o==="ids"?{d2c:xM,c2d:xM}:{d2c:mM,c2d:mM}};function mM(e){return+e}function xM(e){return String(e)}or.getDataToCoordFunc=function(e,r,t,n){return dX(e,r,t,n).d2c};or.counterLetter=function(e){var r=e.charAt(0);if(r==="x")return"y";if(r==="y")return"x"};or.minDtick=function(e,r,t,n){["log","category","multicategory"].indexOf(e.type)!==-1||!n?e._minDtick=0:e._minDtick===void 0?(e._minDtick=r,e._forceTick0=t):e._minDtick&&((e._minDtick/r+1e-6)%1<2e-6&&((t-e._forceTick0)/r%1+1.000001)%1<2e-6?(e._minDtick=r,e._forceTick0=t):((r/e._minDtick+1e-6)%1>2e-6||((t-e._forceTick0)/e._minDtick%1+1.000001)%1>2e-6)&&(e._minDtick=0))};or.saveRangeInitial=function(e,r){for(var t=or.list(e,"",!0),n=!1,a=0;a<t.length;a++){var o=t[a],i=o._rangeInitial0===void 0&&o._rangeInitial1===void 0,l=i||o.range[0]!==o._rangeInitial0||o.range[1]!==o._rangeInitial1,u=o.autorange;(i&&u!==!0||r&&l)&&(o._rangeInitial0=u==="min"||u==="max reversed"?void 0:o.range[0],o._rangeInitial1=u==="max"||u==="min reversed"?void 0:o.range[1],o._autorangeInitial=u,n=!0)}return n};or.saveShowSpikeInitial=function(e,r){for(var t=or.list(e,"",!0),n=!1,a="on",o=0;o<t.length;o++){var i=t[o],l=i._showSpikeInitial===void 0,u=l||i.showspikes!==i._showspikes;(l||r&&u)&&(i._showSpikeInitial=i.showspikes,n=!0),a==="on"&&!i.showspikes&&(a="off")}return e._fullLayout._cartesianSpikesEnabled=a,n};or.autoBin=function(e,r,t,n,a,o){var i=Cr.aggNums(Math.min,null,e),l=Cr.aggNums(Math.max,null,e);if(r.type==="category"||r.type==="multicategory")return{start:i-.5,end:l+.5,size:Math.max(1,Math.round(o)||1),_dataSpan:l-i};a||(a=r.calendar);var u;if(r.type==="log"?u={type:"linear",range:[i,l]}:u={type:r.type,range:Cr.simpleMap([i,l],r.c2r,0,a),calendar:a},or.setConvert(u),o=o&&pM.dtick(o,u.type),o)u.dtick=o,u.tick0=pM.tick0(void 0,u.type,a);else{var s;if(t)s=(l-i)/t;else{var f=Cr.distinctVals(e),h=Math.pow(10,Math.floor(Math.log(f.minDiff)/Math.LN10)),p=h*Cr.roundUp(f.minDiff/h,[.9,1.9,4.9,9.9],!0);s=Math.max(p,2*Cr.stdev(e)/Math.pow(e.length,n?.25:.4)),Jt(s)||(s=1)}or.autoTicks(u,s)}var b=u.dtick,y=or.tickIncrement(or.tickFirst(u),b,"reverse",a),w,T;if(typeof b=="number")y=pX(y,e,u,i,l),T=1+Math.floor((l-y)/b),w=y+T*b;else for(u.dtick.charAt(0)==="M"&&(y=gX(y,e,b,i,a)),w=y,T=0;w<=l;)w=or.tickIncrement(w,b,!1,a),T++;return{start:r.c2r(y,0,a),end:r.c2r(w,0,a),size:b,_dataSpan:l-i}};function pX(e,r,t,n,a){var o=0,i=0,l=0,u=0;function s(b){return(1+(b-e)*100/t.dtick)%100<2}for(var f=0;f<r.length;f++)r[f]%1===0?l++:Jt(r[f])||u++,s(r[f])&&o++,s(r[f]+t.dtick/2)&&i++;var h=r.length-u;if(l===h&&t.type!=="date")t.dtick<1?e=n-.5*t.dtick:(e-=.5,e+t.dtick<n&&(e+=t.dtick));else if(i<h*.1&&(o>h*.3||s(n)||s(a))){var p=t.dtick/2;e+=e+p<n?p:-p}return e}function gX(e,r,t,n,a){var o=Cr.findExactDates(r,a),i=.8;if(o.exactDays>i){var l=Number(t.slice(1));o.exactYears>i&&l%12===0?e=or.tickIncrement(e,"M6","reverse")+Bn*1.5:o.exactMonths>i?e=or.tickIncrement(e,"M1","reverse")+Bn*15.5:e-=Jo;var u=or.tickIncrement(e,t);if(u<=n)return u}return e}or.prepMinorTicks=function(e,r,t){if(!r.minor.dtick){delete e.dtick;var n=r.dtick&&Jt(r._tmin),a;if(n){var o=or.tickIncrement(r._tmin,r.dtick,!0);a=[r._tmin,o*.99+r._tmin*.01]}else{var i=Cr.simpleMap(r.range,r.r2l);a=[i[0],.8*i[0]+.2*i[1]]}if(e.range=Cr.simpleMap(a,r.l2r),e._isMinor=!0,or.prepTicks(e,t),n){var l=Jt(r.dtick),u=Jt(e.dtick),s=l?r.dtick:+r.dtick.substring(1),f=u?e.dtick:+e.dtick.substring(1);l&&u?a2(s,f)?s===2*pa&&f===2*Bn&&(e.dtick=pa):s===2*pa&&f===3*Bn?e.dtick=pa:s===pa&&!(r._input.minor||{}).nticks?e.dtick=Bn:bM(s/f,2.5)?e.dtick=s/2:e.dtick=s:String(r.dtick).charAt(0)==="M"?u?e.dtick="M1":a2(s,f)?s>=12&&f===2&&(e.dtick="M3"):e.dtick=r.dtick:String(e.dtick).charAt(0)==="L"?String(r.dtick).charAt(0)==="L"?a2(s,f)||(e.dtick=bM(s/f,2.5)?r.dtick/2:r.dtick):e.dtick="D1":e.dtick==="D2"&&+r.dtick>1&&(e.dtick=1)}e.range=r.range}r.minor._tick0Init===void 0&&(e.tick0=r.tick0)};function a2(e,r){return Math.abs((e/r+.5)%1-.5)<.001}function bM(e,r){return Math.abs(e/r-1)<.001}or.prepTicks=function(e,r){var t=Cr.simpleMap(e.range,e.r2l,void 0,void 0,r);if(e.tickmode==="auto"||!e.dtick){var n=e.nticks,a;n||(e.type==="category"||e.type==="multicategory"?(a=e.tickfont?Cr.bigFont(e.tickfont.size||12):15,n=e._length/a):(a=e._id.charAt(0)==="y"?40:80,n=Cr.constrain(e._length/a,4,9)+1),e._name==="radialaxis"&&(n*=2)),e.minor&&e.minor.tickmode!=="array"||e.tickmode==="array"&&(n*=100),e._roughDTick=Math.abs(t[1]-t[0])/n,or.autoTicks(e,e._roughDTick),e._minDtick>0&&e.dtick<e._minDtick*2&&(e.dtick=e._minDtick,e.tick0=e.l2r(e._forceTick0))}e.ticklabelmode==="period"&&yX(e),e.tick0||(e.tick0=e.type==="date"?"2000-01-01":0),e.type==="date"&&e.dtick<.1&&(e.dtick=.1),DM(e)};function i2(e){return+e.substring(1)}function yX(e){var r;function t(){return!(Jt(e.dtick)||e.dtick.charAt(0)!=="M")}var n=t(),a=or.getTickFormat(e);if(a){var o=e._dtickInit!==e.dtick;/%[fLQsSMX]/.test(a)||(/%[HI]/.test(a)?(r=Ni,o&&!n&&e.dtick<Ni&&(e.dtick=Ni)):/%p/.test(a)?(r=Jo,o&&!n&&e.dtick<Jo&&(e.dtick=Jo)):/%[Aadejuwx]/.test(a)?(r=Bn,o&&!n&&e.dtick<Bn&&(e.dtick=Bn)):/%[UVW]/.test(a)?(r=pa,o&&!n&&e.dtick<pa&&(e.dtick=pa)):/%[Bbm]/.test(a)?(r=hu,o&&(n?i2(e.dtick)<1:e.dtick<$h)&&(e.dtick="M1")):/%[q]/.test(a)?(r=l2,o&&(n?i2(e.dtick)<3:e.dtick<Qh)&&(e.dtick="M3")):/%[Yy]/.test(a)&&(r=Jh,o&&(n?i2(e.dtick)<12:e.dtick<Kh)&&(e.dtick="M12")))}n=t(),n&&e.tick0===e._dowTick0&&(e.tick0=e._rawTick0),e._definedDelta=r}function mX(e,r,t){for(var n=0;n<e.length;n++){var a=e[n].value,o=n,i=n+1;n<e.length-1?(o=n,i=n+1):n>0?(o=n-1,i=n):(o=n,i=n);var l=e[o].value,u=e[i].value,s=Math.abs(u-l),f=t||s,h=0;f>=Kh?s>=Kh&&s<=aX?h=s:h=Jh:t===l2&&f>=Qh?s>=Qh&&s<=iX?h=s:h=l2:f>=$h?s>=$h&&s<=oX?h=s:h=hu:t===pa&&f>=pa?h=pa:f>=Bn?h=Bn:t===Jo&&f>=Jo?h=Jo:t===Ni&&f>=Ni&&(h=Ni);var p;h>=s&&(h=s,p=!0);var b=a+h;if(r.rangebreaks&&h>0){for(var y=84,w=0,T=0;T<y;T++){var m=(T+.5)/y;r.maskBreaks(a*(1-m)+m*b)!==rv&&w++}h*=w/y,h||(e[n].drop=!0),p&&s>pa&&(h=s)}(h>0||n===0)&&(e[n].periodX=a+h/2)}}or.calcTicks=function(r,t){for(var n=r.type,a=r.calendar,o=r.ticklabelstep,i=r.ticklabelmode==="period",l=r.range[0]>r.range[1],u=!r.ticklabelindex||Cr.isArrayOrTypedArray(r.ticklabelindex)?r.ticklabelindex:[r.ticklabelindex],s=Cr.simpleMap(r.range,r.r2l,void 0,void 0,t),f=s[1]<s[0],h=Math.min(s[0],s[1]),p=Math.max(s[0],s[1]),b=Math.max(1e3,r._length||0),y=[],w=[],T=[],m=[],k=[],S=r.minor&&(r.minor.ticks||r.minor.showgrid),x=1;x>=(S?0:1);x--){var M=!x;x?(r._dtickInit=r.dtick,r._tick0Init=r.tick0):(r.minor._dtickInit=r.minor.dtick,r.minor._tick0Init=r.minor.tick0);var d=x?r:Cr.extendFlat({},r,r.minor);if(M?or.prepMinorTicks(d,r,t):or.prepTicks(d,t),d.tickmode==="array"){x?(T=[],y=_M(r,!M)):(m=[],w=_M(r,!M));continue}if(d.tickmode==="sync"){T=[],y=xX(r);continue}var _=d2(s),g=_[0],c=_[1],A=Jt(d.dtick),v=n==="log"&&!(A||d.dtick.charAt(0)==="L"),D=or.tickFirst(d,t);if(x){if(r._tmin=D,D<g!==f)break;(n==="category"||n==="multicategory")&&(c=f?Math.max(-.5,c):Math.min(r._categories.length-.5,c))}var E=null,R=D,N;if(x){var F;A?F=r.dtick:n==="date"?typeof r.dtick=="string"&&r.dtick.charAt(0)==="M"&&(F=hu*r.dtick.substring(1)):F=r._roughDTick,N=Math.round((r.r2l(R)-r.r2l(r.tick0))/F)-1}var I=d.dtick;for(d.rangebreaks&&d._tick0Init!==d.tick0&&(R=o2(R,r),f||(R=or.tickIncrement(R,I,!f,a))),x&&i&&(R=or.tickIncrement(R,I,!f,a),N--);f?R>=c:R<=c;R=or.tickIncrement(R,I,f,a)){if(x&&N++,d.rangebreaks&&!f){if(R<g)continue;if(d.maskBreaks(R)===rv&&o2(R,d)>=p)break}if(T.length>b||R===E)break;E=R;var L={value:R};x?(v&&R!==(R|0)&&(L.simpleLabel=!0),o>1&&N%o&&(L.skipLabel=!0),T.push(L)):(L.minor=!0,m.push(L))}}if(!m||m.length<2)u=!1;else{var P=(m[1].value-m[0].value)*(l?-1:1);GX(P,r.tickformat)||(u=!1)}if(!u)k=T;else{var O=T.concat(m);i&&T.length&&(O=O.slice(1)),O=O.sort(function(Se,Ce){return Se.value-Ce.value}).filter(function(Se,Ce,Fe){return Ce===0||Se.value!==Fe[Ce-1].value});var U=O.map(function(Se,Ce){return Se.minor===void 0&&!Se.skipLabel?Ce:null}).filter(function(Se){return Se!==null});U.forEach(function(Se){u.map(function(Ce){var Fe=Se+Ce;Fe>=0&&Fe<O.length&&Cr.pushUnique(k,O[Fe])})})}if(S){var X=r.minor.ticks==="inside"&&r.ticks==="outside"||r.minor.ticks==="outside"&&r.ticks==="inside";if(!X){for(var $=T.map(function(Se){return Se.value}),j=[],Y=0;Y<m.length;Y++){var q=m[Y],Q=q.value;if($.indexOf(Q)===-1){for(var ae=!1,K=0;!ae&&K<T.length;K++)1e7+T[K].value===1e7+Q&&(ae=!0);ae||j.push(q)}}m=j}}i&&mX(k,r,r._definedDelta);var oe;if(r.rangebreaks){var re=r._id.charAt(0)==="y",V=1;r.tickmode==="auto"&&(V=r.tickfont?r.tickfont.size:12);var ee=NaN;for(oe=T.length-1;oe>-1;oe--){if(T[oe].drop){T.splice(oe,1);continue}T[oe].value=o2(T[oe].value,r);var H=r.c2p(T[oe].value);(re?ee>H-V:ee<H+V)?T.splice(f?oe+1:oe,1):ee=H}}m2(r)&&Math.abs(s[1]-s[0])===360&&T.pop(),r._tmax=(T[T.length-1]||{}).value,r._prevDateHead="",r._inCalcTicks=!0;var te,le=function(Se){Se.text="",r._prevDateHead=te};T=T.concat(m);function ve(Se,Ce){var Fe=or.tickText(Se,Ce.value,!1,Ce.simpleLabel),Ee=Ce.periodX;return Ee!==void 0&&(Fe.periodX=Ee,(Ee>p||Ee<h)&&(Ee>p&&(Fe.periodX=p),Ee<h&&(Fe.periodX=h),le(Fe))),Fe}var Ae;for(oe=0;oe<T.length;oe++){var we=T[oe].minor,ce=T[oe].value;we?(u&&k.indexOf(T[oe])!==-1?Ae=ve(r,T[oe]):Ae={x:ce},Ae.minor=!0,w.push(Ae)):(te=r._prevDateHead,Ae=ve(r,T[oe]),(T[oe].skipLabel||u&&k.indexOf(T[oe])===-1)&&le(Ae),y.push(Ae))}return y=y.concat(w),r._inCalcTicks=!1,i&&y.length&&(y[0].noTick=!0),y};function CM(e,r){return e.rangebreaks&&(r=r.filter(function(t){return e.maskBreaks(t.x)!==rv})),r}function xX(e){var r=e._mainAxis,t=[];if(r._vals){for(var n=0;n<r._vals.length;n++)if(!r._vals[n].noTick){var a=r.l2p(r._vals[n].x),o=e.p2l(a),i=or.tickText(e,o);r._vals[n].minor&&(i.minor=!0,i.text=""),t.push(i)}}return t=CM(e,t),t}function _M(e,r){var t=Cr.simpleMap(e.range,e.r2l),n=d2(t),a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]),i=e.type==="category"?e.d2l_noadd:e.d2l;e.type==="log"&&String(e.dtick).charAt(0)!=="L"&&(e.dtick="L"+Math.pow(10,Math.floor(Math.min(e.range[0],e.range[1]))-1));for(var l=[],u=0;u<=1;u++)if(!(r!==void 0&&(r&&u||r===!1&&!u))&&!(u&&!e.minor)){var s=u?e.minor.tickvals:e.tickvals,f=u?[]:e.ticktext;if(s){Cr.isArrayOrTypedArray(f)||(f=[]);for(var h=0;h<s.length;h++){var p=i(s[h]);if(p>a&&p<o){var b=or.tickText(e,p,!1,String(f[h]));u&&(b.minor=!0,b.text=""),l.push(b)}}}}return l=CM(e,l),l}var Xh=[2,5,10],wM=[1,2,3,6,12],MM=[1,2,5,10,15,30],bX=[1,2,3,7,14],EM=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],LM=[-.301,0,.301,.699,1],_X=[15,30,45,90,180];function Fi(e,r,t){return r*Cr.roundUp(e/r,t)}or.autoTicks=function(e,r,t){var n;function a(h){return Math.pow(h,Math.floor(Math.log(r)/Math.LN10))}if(e.type==="date"){e.tick0=Cr.dateTick0(e.calendar,0);var o=2*r;if(o>Jh)r/=Jh,n=a(10),e.dtick="M"+12*Fi(r,n,Xh);else if(o>hu)r/=hu,e.dtick="M"+Fi(r,1,wM);else if(o>Bn){if(e.dtick=Fi(r,Bn,e._hasDayOfWeekBreaks?[1,2,7,14]:bX),!t){var i=or.getTickFormat(e),l=e.ticklabelmode==="period";l&&(e._rawTick0=e.tick0),/%[uVW]/.test(i)?e.tick0=Cr.dateTick0(e.calendar,2):e.tick0=Cr.dateTick0(e.calendar,1),l&&(e._dowTick0=e.tick0)}}else o>Ni?e.dtick=Fi(r,Ni,wM):o>Uf?e.dtick=Fi(r,Uf,MM):o>jh?e.dtick=Fi(r,jh,MM):(n=a(10),e.dtick=Fi(r,n,Xh))}else if(e.type==="log"){e.tick0=0;var u=Cr.simpleMap(e.range,e.r2l);if(e._isMinor&&(r*=1.5),r>.7)e.dtick=Math.ceil(r);else if(Math.abs(u[1]-u[0])<1){var s=1.5*Math.abs((u[1]-u[0])/r);r=Math.abs(Math.pow(10,u[1])-Math.pow(10,u[0]))/s,n=a(10),e.dtick="L"+Fi(r,n,Xh)}else e.dtick=r>.3?"D2":"D1"}else e.type==="category"||e.type==="multicategory"?(e.tick0=0,e.dtick=Math.ceil(Math.max(r,1))):m2(e)?(e.tick0=0,n=1,e.dtick=Fi(r,n,_X)):(e.tick0=0,n=a(10),e.dtick=Fi(r,n,Xh));if(e.dtick===0&&(e.dtick=1),!Jt(e.dtick)&&typeof e.dtick!="string"){var f=e.dtick;throw e.dtick=1,"ax.dtick error: "+String(f)}};function DM(e){var r=e.dtick;if(e._tickexponent=0,!Jt(r)&&typeof r!="string"&&(r=1),(e.type==="category"||e.type==="multicategory")&&(e._tickround=null),e.type==="date"){var t=e.r2l(e.tick0),n=e.l2r(t).replace(/(^-|i)/g,""),a=n.length;if(String(r).charAt(0)==="M")a>10||n.slice(5)!=="01-01"?e._tickround="d":e._tickround=+r.slice(1)%12===0?"y":"m";else if(r>=Bn&&a<=10||r>=Bn*15)e._tickround="d";else if(r>=Uf&&a<=16||r>=Ni)e._tickround="M";else if(r>=jh&&a<=19||r>=Uf)e._tickround="S";else{var o=e.l2r(t+r).replace(/^-/,"").length;e._tickround=Math.max(a,o)-20,e._tickround<0&&(e._tickround=4)}}else if(Jt(r)||r.charAt(0)==="L"){var i=e.range.map(e.r2d||Number);Jt(r)||(r=Number(r.slice(1))),e._tickround=2-Math.floor(Math.log(r)/Math.LN10+.01);var l=Math.max(Math.abs(i[0]),Math.abs(i[1])),u=Math.floor(Math.log(l)/Math.LN10+.01),s=e.minexponent===void 0?3:e.minexponent;Math.abs(u)>s&&(vu(e.exponentformat)&&e.exponentformat!=="SI extended"&&!p2(u)||vu(e.exponentformat)&&e.exponentformat==="SI extended"&&!g2(u)?e._tickexponent=3*Math.round((u-1)/3):e._tickexponent=u)}else e._tickround=null}or.tickIncrement=function(e,r,t,n){var a=t?-1:1;if(Jt(r))return Cr.increment(e,a*r);var o=r.charAt(0),i=a*Number(r.slice(1));if(o==="M")return Cr.incrementMonth(e,i,n);if(o==="L")return Math.log(Math.pow(10,e)+i)/Math.LN10;if(o==="D"){var l=r==="D2"?LM:EM,u=e+a*.01,s=Cr.roundUp(Cr.mod(u,1),l,t);return Math.floor(u)+Math.log(Ra.round(Math.pow(10,s),1))/Math.LN10}throw"unrecognized dtick "+String(r)};or.tickFirst=function(e,r){var t=e.r2l||Number,n=Cr.simpleMap(e.range,t,void 0,void 0,r),a=n[1]<n[0],o=a?Math.floor:Math.ceil,i=d2(n)[0],l=e.dtick,u=t(e.tick0);if(Jt(l)){var s=o((i-u)/l)*l+u;return(e.type==="category"||e.type==="multicategory")&&(s=Cr.constrain(s,0,e._categories.length-1)),s}var f=l.charAt(0),h=Number(l.slice(1));if(f==="M"){for(var p=0,b=u,y,w,T;p<10;){if(y=or.tickIncrement(b,l,a,e.calendar),(y-i)*(b-i)<=0)return a?Math.min(b,y):Math.max(b,y);w=(i-(b+y)/2)/(y-b),T=f+(Math.abs(Math.round(w))||1)*h,b=or.tickIncrement(b,T,w<0?!a:a,e.calendar),p++}return Cr.error("tickFirst did not converge",e),b}else{if(f==="L")return Math.log(o((Math.pow(10,i)-u)/h)*h+u)/Math.LN10;if(f==="D"){var m=l==="D2"?LM:EM,k=Cr.roundUp(Cr.mod(i,1),m,a);return Math.floor(i)+Math.log(Ra.round(Math.pow(10,k),1))/Math.LN10}else throw"unrecognized dtick "+String(l)}};or.tickText=function(e,r,t,n){var a=RM(e,r),o=e.tickmode==="array",i=t||o,l=e.type,u=l==="category"?e.d2l_noadd:e.d2l,s,f=function(T){var m=e.l2p(T);return m>=0&&m<=e._length?T:null};if(o&&Cr.isArrayOrTypedArray(e.ticktext)){var h=Cr.simpleMap(e.range,e.r2l),p=(Math.abs(h[1]-h[0])-(e._lBreaks||0))/1e4;for(s=0;s<e.ticktext.length&&!(Math.abs(r-u(e.tickvals[s]))<p);s++);if(s<e.ticktext.length)return a.text=String(e.ticktext[s]),a.xbnd=[f(a.x-.5),f(a.x+e.dtick-.5)],a}function b(T){if(T===void 0)return!0;if(t)return T==="none";var m={first:e._tmin,last:e._tmax}[T];return T!=="all"&&r!==m}var y=t?"never":e.exponentformat!=="none"&&b(e.showexponent)?"hide":"";if(l==="date"?wX(e,a,t,i):l==="log"?MX(e,a,t,i,y):l==="category"?TX(e,a):l==="multicategory"?AX(e,a,t):m2(e)?SX(e,a,t,i,y):kX(e,a,t,i,y),n||(e.tickprefix&&!b(e.showtickprefix)&&(a.text=e.tickprefix+a.text),e.ticksuffix&&!b(e.showticksuffix)&&(a.text+=e.ticksuffix)),e.labelalias&&e.labelalias.hasOwnProperty(a.text)){var w=e.labelalias[a.text];typeof w=="string"&&(a.text=w)}return(e.tickson==="boundaries"||e.showdividers)&&(a.xbnd=[f(a.x-.5),f(a.x+e.dtick-.5)]),a};or.hoverLabelText=function(e,r,t){t&&(e=Cr.extendFlat({},e,{hoverformat:t}));var n=Cr.isArrayOrTypedArray(r)?r[0]:r,a=Cr.isArrayOrTypedArray(r)?r[1]:void 0;if(a!==void 0&&a!==n)return or.hoverLabelText(e,n,t)+" - "+or.hoverLabelText(e,a,t);var o=e.type==="log"&&n<=0,i=or.tickText(e,e.c2l(o?-n:n),"hover").text;return o?n===0?"0":Kl+i:i};function RM(e,r,t){var n=e.tickfont||{};return{x:r,dx:0,dy:0,text:t||"",fontSize:n.size,font:n.family,fontWeight:n.weight,fontStyle:n.style,fontVariant:n.variant,fontTextcase:n.textcase,fontLineposition:n.lineposition,fontShadow:n.shadow,fontColor:n.color}}function wX(e,r,t,n){var a=e._tickround,o=t&&e.hoverformat||or.getTickFormat(e);n=!o&&n,n&&(Jt(a)?a=4:a={y:"m",m:"d",d:"M",M:"S",S:4}[a]);var i=Cr.formatDate(r.x,o,a,e._dateFormat,e.calendar,e._extraFormat),l,u=i.indexOf(`
`);if(u!==-1&&(l=i.slice(u+1),i=i.slice(0,u)),n&&(l!==void 0&&(i==="00:00:00"||i==="00:00")?(i=l,l=""):i.length===8&&(i=i.replace(/:00$/,""))),l)if(t)a==="d"?i+=", "+l:i=l+(i?", "+i:"");else if(!e._inCalcTicks||e._prevDateHead!==l)e._prevDateHead=l,i+="<br>"+l;else{var s=Gf(e),f=e._trueSide||e.side;(!s&&f==="top"||s&&f==="bottom")&&(i+="<br> ")}r.text=i}function MX(e,r,t,n,a){var o=e.dtick,i=r.x,l=e.tickformat,u=typeof o=="string"&&o.charAt(0);if(a==="never"&&(a=""),n&&u!=="L"&&(o="L3",u="L"),l||u==="L")r.text=Vf(Math.pow(10,i),e,a,n);else if(Jt(o)||u==="D"&&(e.minorloglabels==="complete"||Cr.mod(i+.01,1)<.1)){var s;e.minorloglabels==="complete"&&!(Cr.mod(i+.01,1)<.1)&&(s=!0,r.fontSize*=.75);var f=Math.pow(10,i).toExponential(0),h=f.split("e"),p=+h[1],b=Math.abs(p),y=e.exponentformat;y==="power"||vu(y)&&y!=="SI extended"&&p2(p)||vu(y)&&y==="SI extended"&&g2(p)?(r.text=h[0],b>0&&(r.text+="x10"),r.text==="1x10"&&(r.text="10"),p!==0&&p!==1&&(r.text+="<sup>"+(p>0?"":Kl)+b+"</sup>"),r.fontSize*=1.25):(y==="e"||y==="E")&&b>2?r.text=h[0]+y+(p>0?"+":Kl)+b:(r.text=Vf(Math.pow(10,i),e,"","fakehover"),o==="D1"&&e._id.charAt(0)==="y"&&(r.dy-=r.fontSize/6))}else if(u==="D")r.text=e.minorloglabels==="none"?"":String(Math.round(Math.pow(10,Cr.mod(i,1)))),r.fontSize*=.75;else throw"unrecognized dtick "+String(o);if(e.dtick==="D1"){var w=String(r.text).charAt(0);(w==="0"||w==="1")&&(e._id.charAt(0)==="y"?r.dx-=r.fontSize/4:(r.dy+=r.fontSize/2,r.dx+=(e.range[1]>e.range[0]?1:-1)*r.fontSize*(i<0?.5:.25)))}}function TX(e,r){var t=e._categories[Math.round(r.x)];t===void 0&&(t=""),r.text=String(t)}function AX(e,r,t){var n=Math.round(r.x),a=e._categories[n]||[],o=a[1]===void 0?"":String(a[1]),i=a[0]===void 0?"":String(a[0]);t?r.text=i+" - "+o:(r.text=o,r.text2=i)}function kX(e,r,t,n,a){a==="never"?a="":e.showexponent==="all"&&Math.abs(r.x/e.dtick)<1e-6&&(a="hide"),r.text=Vf(r.x,e,a,n)}function SX(e,r,t,n,a){if(e.thetaunit==="radians"&&!t){var o=r.x/180;if(o===0)r.text="0";else{var i=CX(o);if(i[1]>=100)r.text=Vf(Cr.deg2rad(r.x),e,a,n);else{var l=r.x<0;i[1]===1?i[0]===1?r.text="\u03C0":r.text=i[0]+"\u03C0":r.text=["<sup>",i[0],"</sup>","\u2044","<sub>",i[1],"</sub>","\u03C0"].join(""),l&&(r.text=Kl+r.text)}}}else r.text=Vf(r.x,e,a,n)}function CX(e){function r(l,u){return Math.abs(l-u)<=1e-6}function t(l,u){return r(u,0)?l:t(u,l%u)}function n(l){for(var u=1;!r(Math.round(l*u)/u,l);)u*=10;return u}var a=n(e),o=e*a,i=Math.abs(t(o,a));return[Math.round(o/i),Math.round(a/i)]}var PM=["f","p","n","\u03BC","m","","k","M","G","T"],EX=["q","r","y","z","a",...PM,"P","E","Z","Y","R","Q"],vu=e=>["SI","SI extended","B"].includes(e);function p2(e){return e>14||e<-15}function g2(e){return e>32||e<-30}function LX(e,r){return vu(r)?!!(r==="SI extended"&&g2(e)||r!=="SI extended"&&p2(e)):!1}function Vf(e,r,t,n){var a=e<0,o=r._tickround,i=t||r.exponentformat||"B",l=r._tickexponent,u=or.getTickFormat(r),s=r.separatethousands;if(n){var f={exponentformat:i,minexponent:r.minexponent,dtick:r.showexponent==="none"?r.dtick:Jt(e)&&Math.abs(e)||1,range:r.showexponent==="none"?r.range.map(r.r2d):[0,e||1]};DM(f),o=(Number(f._tickround)||0)+4,l=f._tickexponent,r.hoverformat&&(u=r.hoverformat)}if(u)return r._numFormat(u)(e).replace(/-/g,Kl);var h=Math.pow(10,-o)/2;if(i==="none"&&(l=0),e=Math.abs(e),e<h)e="0",a=!1;else{if(e+=h,l&&(e*=Math.pow(10,-l),o+=l),o===0)e=String(Math.floor(e));else if(o<0){e=String(Math.round(e)),e=e.slice(0,Math.max(0,e.length+o));for(var p=o;p<0;p++)e+="0"}else{e=String(e);var b=e.indexOf(".")+1;b&&(e=e.slice(0,b+o).replace(/\.?0+$/,""))}e=Cr.numSeparate(e,r._separators,s)}if(l&&i!=="hide"){LX(l,i)&&(i="power");var y;l<0?y=Kl+-l:i!=="power"?y="+"+l:y=String(l),i==="e"||i==="E"?e+=i+y:i==="power"?e+="\xD710<sup>"+y+"</sup>":i==="B"&&l===9?e+="B":vu(i)&&(e+=i==="SI extended"?EX[l/3+10]:PM[l/3+5])}return a?Kl+e:e}or.getTickFormat=function(e){var r;function t(u){return typeof u!="string"?u:Number(u.replace("M",""))*hu}function n(u,s){var f=["L","D"];if(typeof u==typeof s){if(typeof u=="number")return u-s;var h=f.indexOf(u.charAt(0)),p=f.indexOf(s.charAt(0));return h===p?Number(u.replace(/(L|D)/g,""))-Number(s.replace(/(L|D)/g,"")):h-p}else return typeof u=="number"?1:-1}function a(u,s,f){var h=f||function(y){return y},p=s[0],b=s[1];return(!p&&typeof p!="number"||h(p)<=h(u))&&(!b&&typeof b!="number"||h(b)>=h(u))}function o(u,s){var f=s[0]===null,h=s[1]===null,p=n(u,s[0])>=0,b=n(u,s[1])<=0;return(f||p)&&(h||b)}var i,l;if(e.tickformatstops&&e.tickformatstops.length>0)switch(e.type){case"date":case"linear":{for(r=0;r<e.tickformatstops.length;r++)if(l=e.tickformatstops[r],l.enabled&&a(e.dtick,l.dtickrange,t)){i=l;break}break}case"log":{for(r=0;r<e.tickformatstops.length;r++)if(l=e.tickformatstops[r],l.enabled&&o(e.dtick,l.dtickrange)){i=l;break}break}default:}return i?i.value:e.tickformat};or.getSubplots=function(e,r){var t=e._fullLayout._subplots,n=t.cartesian.concat(t.gl2d||[]),a=r?or.findSubplotsWithAxis(n,r):n;return a.sort(function(o,i){var l=o.slice(1).split("y"),u=i.slice(1).split("y");return l[0]===u[0]?+l[1]-+u[1]:+l[0]-+u[0]}),a};or.findSubplotsWithAxis=function(e,r){for(var t=new RegExp(r._id.charAt(0)==="x"?"^"+r._id+"y":r._id+"$"),n=[],a=0;a<e.length;a++){var o=e[a];t.test(o)&&n.push(o)}return n};or.makeClipPaths=function(e){var r=e._fullLayout;if(!r._hasOnlyLargeSploms){var t={_offset:0,_length:r.width,_id:""},n={_offset:0,_length:r.height,_id:""},a=or.list(e,"x",!0),o=or.list(e,"y",!0),i=[],l,u;for(l=0;l<a.length;l++)for(i.push({x:a[l],y:n}),u=0;u<o.length;u++)l===0&&i.push({x:t,y:o[u]}),i.push({x:a[l],y:o[u]});var s=r._clips.selectAll(".axesclip").data(i,function(f){return f.x._id+f.y._id});s.enter().append("clipPath").classed("axesclip",!0).attr("id",function(f){return"clip"+r._uid+f.x._id+f.y._id}).append("rect"),s.exit().remove(),s.each(function(f){Ra.select(this).select("rect").attr({x:f.x._offset||0,y:f.y._offset||0,width:f.x._length||1,height:f.y._length||1})})}};or.draw=function(e,r,t){var n=e._fullLayout;r==="redraw"&&n._paper.selectAll("g.subplot").each(function(u){var s=u[0],f=n._plots[s];if(f){var h=f.xaxis,p=f.yaxis;f.xaxislayer.selectAll("."+h._id+"tick").remove(),f.yaxislayer.selectAll("."+p._id+"tick").remove(),f.xaxislayer.selectAll("."+h._id+"tick2").remove(),f.yaxislayer.selectAll("."+p._id+"tick2").remove(),f.xaxislayer.selectAll("."+h._id+"divider").remove(),f.yaxislayer.selectAll("."+p._id+"divider").remove(),f.minorGridlayer&&f.minorGridlayer.selectAll("path").remove(),f.gridlayer&&f.gridlayer.selectAll("path").remove(),f.zerolinelayer&&f.zerolinelayer.selectAll("path").remove(),f.zerolinelayerAbove&&f.zerolinelayerAbove.selectAll("path").remove(),n._infolayer.select(".g-"+h._id+"title").remove(),n._infolayer.select(".g-"+p._id+"title").remove()}});var a=!r||r==="redraw"?or.listIds(e):r,o=or.list(e),i=o.filter(function(u){return u.autoshift}).map(function(u){return u.overlaying});a.map(function(u){var s=or.getFromId(e,u);if(s.tickmode==="sync"&&s.overlaying){var f=a.findIndex(function(h){return h===s.overlaying});f>=0&&a.unshift(a.splice(f,1).shift())}});var l={false:{left:0,right:0}};return Cr.syncOrAsync(a.map(function(u){return function(){if(u){var s=or.getFromId(e,u);t||(t={}),t.axShifts=l,t.overlayingShiftedAx=i;var f=or.drawOne(e,s,t);return s._shiftPusher&&v2(s,s._fullDepth||0,l,!0),s._r=s.range.slice(),s._rl=Cr.simpleMap(s._r,s.r2l),f}}}))};or.drawOne=function(e,r,t){t=t||{};var n=t.axShifts||{},a=t.overlayingShiftedAx||[],o,i,l;r.setScale();var u=e._fullLayout,s=r._id,f=s.charAt(0),h=or.counterLetter(s),p=u._plots[r._mainSubplot],b=r.zerolinelayer==="above traces";if(!p)return;if(r._shiftPusher=r.autoshift||a.indexOf(r._id)!==-1||a.indexOf(r.overlaying)!==-1,r._shiftPusher&r.anchor==="free"){var y=r.linewidth/2||0;r.ticks==="inside"&&(y+=r.ticklen),v2(r,y,n,!0),v2(r,r.shift||0,n,!1)}(t.skipTitle!==!0||r._shift===void 0)&&(r._shift=VX(r,n));var w=p[f+"axislayer"],T=r._mainLinePosition,m=T+=r._shift,k=r._mainMirrorPosition,S=r._vals=or.calcTicks(r),x=[r.mirror,m,k].join("_");for(o=0;o<S.length;o++)S[o].axInfo=x;r._selections={},r._tickAngles&&(r._prevTickAngles=r._tickAngles),r._tickAngles={},r._depth=null;var M={};function d(ce){var Se=s+(ce||"tick");return M[Se]||(M[Se]=IX(r,Se,m)),M[Se]}if(r.visible){var _=or.makeTransTickFn(r),g=or.makeTransTickLabelFn(r),c,A,v=r.ticks==="inside",D=r.ticks==="outside";if(r.tickson==="boundaries"){var E=DX(r,S);A=or.clipEnds(r,E),c=v?A:E}else A=or.clipEnds(r,S),c=v&&r.ticklabelmode!=="period"?A:S;var R=r._gridVals=A,N=PX(r,S);if(!u._hasOnlyLargeSploms){var F=r._subplotsWith,I={};for(o=0;o<F.length;o++){i=F[o],l=u._plots[i];var L=l[h+"axis"],P=L._mainAxis._id;if(!I[P]){I[P]=1;var O=f==="x"?"M0,"+L._offset+"v"+L._length:"M"+L._offset+",0h"+L._length;or.drawGrid(e,r,{vals:R,counterAxis:L,layer:l.gridlayer.select("."+s),minorLayer:l.minorGridlayer.select("."+s),path:O,transFn:_}),or.drawZeroLine(e,r,{counterAxis:L,layer:b?l.zerolinelayerAbove:l.zerolinelayer,path:O,transFn:_})}}}var U,X=or.getTickSigns(r),$=or.getTickSigns(r,"minor");if(r.ticks||r.minor&&r.minor.ticks){var j=or.makeTickPath(r,m,X[2]),Y=or.makeTickPath(r,m,$[2],{minor:!0}),q,Q,ae,K;if(r._anchorAxis&&r.mirror&&r.mirror!==!0?(q=or.makeTickPath(r,k,X[3]),Q=or.makeTickPath(r,k,$[3],{minor:!0}),ae=j+q,K=Y+Q):(q="",Q="",ae=j,K=Y),r.showdividers&&D&&r.tickson==="boundaries"){var oe={};for(o=0;o<N.length;o++)oe[N[o].x]=1;U=function(ce){return oe[ce.x]?q:ae}}else U=function(ce){return ce.minor?K:ae}}if(or.drawTicks(e,r,{vals:c,layer:w,path:U,transFn:_}),r.mirror==="allticks"){var re=Object.keys(r._linepositions||{});for(o=0;o<re.length;o++){i=re[o],l=u._plots[i];var V=r._linepositions[i]||[],ee=V[0],H=V[1],te=V[2],le=or.makeTickPath(r,ee,te?X[0]:$[0],{minor:te})+or.makeTickPath(r,H,te?X[1]:$[1],{minor:te});or.drawTicks(e,r,{vals:c,layer:l[f+"axislayer"],path:le,transFn:_})}}var ve=[];if(ve.push(function(){return or.drawLabels(e,r,{vals:S,layer:w,plotinfo:l,transFn:g,labelFns:or.makeLabelFns(r,m)})}),r.type==="multicategory"){var Ae={x:2,y:10}[f];ve.push(function(){var ce={x:"height",y:"width"}[f],Se=d()[ce]+Ae+(r._tickAngles[s+"tick"]?r.tickfont.size*Hf:0);return or.drawLabels(e,r,{vals:RX(r,S),layer:w,cls:s+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:_,labelFns:or.makeLabelFns(r,m+Se*X[4])})}),ve.push(function(){return r._depth=X[4]*(d("tick2")[r.side]-m),NX(e,r,{vals:N,layer:w,path:or.makeTickPath(r,m,X[4],{len:r._depth}),transFn:_})})}else r.title.hasOwnProperty("standoff")&&ve.push(function(){r._depth=X[4]*(d()[r.side]-m)});var we=Of.getComponentMethod("rangeslider","isVisible")(r);return!t.skipTitle&&!(we&&r.side==="bottom")&&ve.push(function(){return zX(e,r)}),ve.push(function(){var ce=r.side.charAt(0),Se=uX[r.side].charAt(0),Ce=or.getPxPosition(e,r),Fe=D?r.ticklen:0,Ee,ze,Ue,ge;(r.automargin||we||r._shiftPusher)&&(r.type==="multicategory"?Ee=d("tick2"):(Ee=d(),f==="x"&&ce==="b"&&(r._depth=Math.max(Ee.width>0?Ee.bottom-Ce:0,Fe))));var Me=0,ke=0;if(r._shiftPusher&&(Me=Math.max(Fe,Ee.height>0?ce==="l"?Ce-Ee.left:Ee.right-Ce:0),r.title.text!==u._dfltTitle[f]&&(ke=(r._titleStandoff||0)+(r._titleScoot||0),ce==="l"&&(ke+=AM(r))),r._fullDepth=Math.max(Me,ke)),r.automargin){ze={x:0,y:0,r:0,l:0,t:0,b:0};var me=[0,1],ye=typeof r._shift=="number"?r._shift:0;if(f==="x"){if(ce==="b"?ze[ce]=r._depth:(ze[ce]=r._depth=Math.max(Ee.width>0?Ce-Ee.top:0,Fe),me.reverse()),Ee.width>0){var pe=Ee.right-(r._offset+r._length);pe>0&&(ze.xr=1,ze.r=pe);var he=r._offset-Ee.left;he>0&&(ze.xl=0,ze.l=he)}}else if(ce==="l"?(r._depth=Math.max(Ee.height>0?Ce-Ee.left:0,Fe),ze[ce]=r._depth-ye):(r._depth=Math.max(Ee.height>0?Ee.right-Ce:0,Fe),ze[ce]=r._depth+ye,me.reverse()),Ee.height>0){var xe=Ee.bottom-(r._offset+r._length);xe>0&&(ze.yb=0,ze.b=xe);var Le=r._offset-Ee.top;Le>0&&(ze.yt=1,ze.t=Le)}ze[h]=r.anchor==="free"?r.position:r._anchorAxis.domain[me[0]],r.title.text!==u._dfltTitle[f]&&(ze[ce]+=AM(r)+(r.title.standoff||0)),r.mirror&&r.anchor!=="free"&&(Ue={x:0,y:0,r:0,l:0,t:0,b:0},Ue[Se]=r.linewidth,r.mirror&&r.mirror!==!0&&(Ue[Se]+=Fe),r.mirror===!0||r.mirror==="ticks"?Ue[h]=r._anchorAxis.domain[me[1]]:(r.mirror==="all"||r.mirror==="allticks")&&(Ue[h]=[r._counterDomainMin,r._counterDomainMax][me[1]]))}we&&(ge=Of.getComponentMethod("rangeslider","autoMarginOpts")(e,r)),typeof r.automargin=="string"&&(TM(ze,r.automargin),TM(Ue,r.automargin)),fu.autoMargin(e,y2(r),ze),fu.autoMargin(e,FM(r),Ue),fu.autoMargin(e,NM(r),ge)}),Cr.syncOrAsync(ve)}};function TM(e,r){if(e){var t=Object.keys(yM).reduce(function(n,a){return r.indexOf(a)!==-1&&yM[a].forEach(function(o){n[o]=1}),n},{});Object.keys(e).forEach(function(n){t[n]||(n.length===1?e[n]=0:delete e[n])})}}function DX(e,r){var t=[],n,a=function(o,i){var l=o.xbnd[i];l!==null&&t.push(Cr.extendFlat({},o,{x:l}))};if(r.length){for(n=0;n<r.length;n++)a(r[n],0);a(r[n-1],1)}return t}function RX(e,r){for(var t=[],n={},a=0;a<r.length;a++){var o=r[a];n[o.text2]?n[o.text2].push(o.x):n[o.text2]=[o.x]}for(var i in n)t.push(RM(e,Cr.interp(n[i],.5),i));return t}function PX(e,r){var t=[],n,a,o=r.length&&r[r.length-1].x<r[0].x,i=function(u,s){var f=u.xbnd[s];f!==null&&t.push(Cr.extendFlat({},u,{x:f}))};if(e.showdividers&&r.length){for(n=0;n<r.length;n++){var l=r[n];l.text2!==a&&i(l,o?1:0),a=l.text2}i(r[n-1],o?0:1)}return t}function IX(e,r,t){var n,a,o,i;if(e._selections[r].size())n=1/0,a=-1/0,o=1/0,i=-1/0,e._selections[r].each(function(){var u=h2(this);if(u.node().style.display!=="none"){var s=da.bBox(u.node().parentNode);n=Math.min(n,s.top),a=Math.max(a,s.bottom),o=Math.min(o,s.left),i=Math.max(i,s.right)}});else{var l=or.makeLabelFns(e,t);n=a=l.yFn({dx:0,dy:0,fontSize:0}),o=i=l.xFn({dx:0,dy:0,fontSize:0})}return{top:n,bottom:a,left:o,right:i,height:a-n,width:i-o}}or.getTickSigns=function(e,r){var t=e._id.charAt(0),n={x:"top",y:"right"}[t],a=e.side===n?1:-1,o=[-1,1,a,-a],i=r?(e.minor||{}).ticks:e.ticks;return i!=="inside"==(t==="x")&&(o=o.map(function(l){return-l})),e.side&&o.push({l:-1,t:-1,r:1,b:1}[e.side.charAt(0)]),o};or.makeTransTickFn=function(e){return e._id.charAt(0)==="x"?function(r){return cu(e._offset+e.l2p(r.x),0)}:function(r){return cu(0,e._offset+e.l2p(r.x))}};or.makeTransTickLabelFn=function(e){var r=FX(e),t=e.ticklabelshift||0,n=e.ticklabelstandoff||0,a=r[0],o=r[1],i=e.range[0]>e.range[1],l=e.ticklabelposition&&e.ticklabelposition.indexOf("inside")!==-1,u=!l;if(t){var s=i?-1:1;t=t*s}if(n){var f=e.side,h=l&&(f==="top"||f==="left")||u&&(f==="bottom"||f==="right")?1:-1;n=n*h}return e._id.charAt(0)==="x"?function(p){return cu(a+e._offset+e.l2p(c2(p))+t,o+n)}:function(p){return cu(o+n,a+e._offset+e.l2p(c2(p))+t)}};function c2(e){return e.periodX!==void 0?e.periodX:e.x}function FX(e){var r=e.ticklabelposition||"",t=e.tickson||"",n=function(y){return r.indexOf(y)!==-1},a=n("top"),o=n("left"),i=n("right"),l=n("bottom"),u=n("inside"),s=t!=="boundaries"&&(l||o||a||i);if(!s&&!u)return[0,0];var f=e.side,h=s?(e.tickwidth||0)/2:0,p=ev,b=e.tickfont?e.tickfont.size:12;return(l||a)&&(h+=b*Ql,p+=(e.linewidth||0)/2),(o||i)&&(h+=(e.linewidth||0)/2,p+=ev),u&&f==="top"&&(p-=b*(1-Ql)),(o||a)&&(h=-h),(f==="bottom"||f==="right")&&(p=-p),[s?h:0,u?p:0]}or.makeTickPath=function(e,r,t,n){n||(n={});var a=n.minor;if(a&&!e.minor)return"";var o=n.len!==void 0?n.len:a?e.minor.ticklen:e.ticklen,i=e._id.charAt(0),l=(e.linewidth||1)/2;return i==="x"?"M0,"+(r+l*t)+"v"+o*t:"M"+(r+l*t)+",0h"+o*t};or.makeLabelFns=function(e,r,t){var n=e.ticklabelposition||"",a=e.tickson||"",o=function(E){return n.indexOf(E)!==-1},i=o("top"),l=o("left"),u=o("right"),s=o("bottom"),f=a!=="boundaries"&&(s||l||i||u),h=o("inside"),p=n==="inside"&&e.ticks==="inside"||!h&&e.ticks==="outside"&&a!=="boundaries",b=0,y=0,w=p?e.ticklen:0;if(h?w*=-1:f&&(w=0),p&&(b+=w,t)){var T=Cr.deg2rad(t);b=w*Math.cos(T)+1,y=w*Math.sin(T)}e.showticklabels&&(p||e.showline)&&(b+=.2*e.tickfont.size),b+=(e.linewidth||1)/2*(h?-1:1);var m={labelStandoff:b,labelShift:y},k,S,x,M,d=0,_=e.side,g=e._id.charAt(0),c=e.tickangle,A;if(g==="x")A=!h&&_==="bottom"||h&&_==="top",M=A?1:-1,h&&(M*=-1),k=y*M,S=r+b*M,x=A?1:-.2,Math.abs(c)===90&&(h?x+=qf:c===-90&&_==="bottom"?x=Ql:c===90&&_==="top"?x=qf:x=.5,d=qf/2*(c/90)),m.xFn=function(E){return E.dx+k+d*E.fontSize},m.yFn=function(E){return E.dy+S+E.fontSize*x},m.anchorFn=function(E,R){if(f){if(l)return"end";if(u)return"start"}return!Jt(R)||R===0||R===180?"middle":R*M<0!==h?"end":"start"},m.heightFn=function(E,R,N){return R<-60||R>60?-.5*N:e.side==="top"!==h?-N:0};else if(g==="y"){if(A=!h&&_==="left"||h&&_==="right",M=A?1:-1,h&&(M*=-1),k=b,S=y*M,x=0,!h&&Math.abs(c)===90&&(c===-90&&_==="left"||c===90&&_==="right"?x=Ql:x=.5),h){var v=Jt(c)?+c:0;if(v!==0){var D=Cr.deg2rad(v);d=Math.abs(Math.sin(D))*Ql*M,x=0}}m.xFn=function(E){return E.dx+r-(k+E.fontSize*x)*M+d*E.fontSize},m.yFn=function(E){return E.dy+S+E.fontSize*qf},m.anchorFn=function(E,R){return Jt(R)&&Math.abs(R)===90?"middle":A?"end":"start"},m.heightFn=function(E,R,N){return e.side==="right"&&(R*=-1),R<-30?-N:R<30?-.5*N:0}}return m};function nv(e){return[e.text,e.x,e.axInfo,e.font,e.fontSize,e.fontColor].join("_")}or.drawTicks=function(e,r,t){t=t||{};var n=r._id+"tick",a=[].concat(r.minor&&r.minor.ticks?t.vals.filter(function(i){return i.minor&&!i.noTick}):[]).concat(r.ticks?t.vals.filter(function(i){return!i.minor&&!i.noTick}):[]),o=t.layer.selectAll("path."+n).data(a,nv);o.exit().remove(),o.enter().append("path").classed(n,1).classed("ticks",1).classed("crisp",t.crisp!==!1).each(function(i){return Bf.stroke(Ra.select(this),i.minor?r.minor.tickcolor:r.tickcolor)}).style("stroke-width",function(i){return da.crispRound(e,i.minor?r.minor.tickwidth:r.tickwidth,1)+"px"}).attr("d",t.path).style("display",null),av(r,[kM]),o.attr("transform",t.transFn)};or.drawGrid=function(e,r,t){if(t=t||{},r.tickmode!=="sync"){var n=r._id+"grid",a=r.minor&&r.minor.showgrid,o=a?t.vals.filter(function(m){return m.minor}):[],i=r.showgrid?t.vals.filter(function(m){return!m.minor}):[],l=t.counterAxis;if(l&&or.shouldShowZeroLine(e,r,l))for(var u=r.tickmode==="array",s=0;s<i.length;s++){var f=i[s].x;if(u?!f:Math.abs(f)<r.dtick/100)if(i=i.slice(0,s).concat(i.slice(s+1)),u)s--;else break}r._gw=da.crispRound(e,r.gridwidth,1);for(var h=a?da.crispRound(e,r.minor.gridwidth,1):0,p=t.layer,b=t.minorLayer,y=1;y>=0;y--){var w=y?p:b;if(w){var T=w.selectAll("path."+n).data(y?i:o,nv);T.exit().remove(),T.enter().append("path").classed(n,1).classed("crisp",t.crisp!==!1),T.attr("transform",t.transFn).attr("d",t.path).each(function(m){return Bf.stroke(Ra.select(this),m.minor?r.minor.gridcolor:r.gridcolor||"#ddd")}).style("stroke-dasharray",function(m){return da.dashStyle(m.minor?r.minor.griddash:r.griddash,m.minor?r.minor.gridwidth:r.gridwidth)}).style("stroke-width",function(m){return(m.minor?h:r._gw)+"px"}).style("display",null),typeof t.path=="function"&&T.attr("d",t.path)}}av(r,[u2,f2])}};or.drawZeroLine=function(e,r,t){t=t||t;var n=r._id+"zl",a=or.shouldShowZeroLine(e,r,t.counterAxis),o=t.layer.selectAll("path."+n).data(a?[{x:0,id:r._id}]:[]);o.exit().remove(),o.enter().append("path").classed(n,1).classed("zl",1).classed("crisp",t.crisp!==!1).each(function(){t.layer.selectAll("path").sort(function(i,l){return cX(i.id,l.id)})}),o.attr("transform",t.transFn).attr("d",t.path).call(Bf.stroke,r.zerolinecolor||Bf.defaultLine).style("stroke-width",da.crispRound(e,r.zerolinewidth,r._gw||1)+"px").style("display",null),av(r,[s2])};or.drawLabels=function(e,r,t){t=t||{};var n=e._fullLayout,a=r._id,o=r.zerolinelayer==="above traces",i=t.cls||a+"tick",l=t.vals.filter(function(P){return P.text}),u=t.labelFns,s=t.secondary?0:r.tickangle,f=(r._prevTickAngles||{})[i],h=t.layer.selectAll("g."+i).data(r.showticklabels?l:[],nv),p=[];h.enter().append("g").classed(i,1).append("text").attr("text-anchor","middle").each(function(P){var O=Ra.select(this),U=e._promises.length;O.call(Jl.positionText,u.xFn(P),u.yFn(P)).call(da.font,{family:P.font,size:P.fontSize,color:P.fontColor,weight:P.fontWeight,style:P.fontStyle,variant:P.fontVariant,textcase:P.fontTextcase,lineposition:P.fontLineposition,shadow:P.fontShadow}).text(P.text).call(Jl.convertToTspans,e),e._promises[U]?p.push(e._promises.pop().then(function(){b(O,s)})):b(O,s)}),av(r,[gM]),h.exit().remove(),t.repositionOnUpdate&&h.each(function(P){Ra.select(this).select("text").call(Jl.positionText,u.xFn(P),u.yFn(P))});function b(P,O){P.each(function(U){var X=Ra.select(this),$=X.select(".text-math-group"),j=u.anchorFn(U,O),Y=t.transFn.call(X.node(),U)+(Jt(O)&&+O!=0?" rotate("+O+","+u.xFn(U)+","+(u.yFn(U)-U.fontSize/2)+")":""),q=Jl.lineCount(X),Q=Hf*U.fontSize,ae=u.heightFn(U,Jt(O)?+O:0,(q-1)*Q);if(ae&&(Y+=cu(0,ae)),$.empty()){var K=X.select("text");K.attr({transform:Y,"text-anchor":j}),K.style("display",null),r._adjustTickLabelsOverflow&&r._adjustTickLabelsOverflow()}else{var oe=da.bBox($.node()).width,re=oe*{end:-.5,start:.5}[j];$.attr("transform",Y+cu(re,0))}})}r._adjustTickLabelsOverflow=function(){var P=r.ticklabeloverflow;if(!(!P||P==="allow")){var O=P.indexOf("hide")!==-1,U=r._id.charAt(0)==="x",X=0,$=U?e._fullLayout.width:e._fullLayout.height;if(P.indexOf("domain")!==-1){var j=Cr.simpleMap(r.range,r.r2l);X=r.l2p(j[0])+r._offset,$=r.l2p(j[1])+r._offset}var Y=Math.min(X,$),q=Math.max(X,$),Q=r.side,ae=1/0,K=-1/0;h.each(function(ee){var H=Ra.select(this),te=H.select(".text-math-group");if(te.empty()){var le=da.bBox(H.node()),ve=0;U?(le.right>q||le.left<Y)&&(ve=1):(le.bottom>q||le.top+(r.tickangle?0:ee.fontSize/4)<Y)&&(ve=1);var Ae=H.select("text");ve?O&&Ae.style("display","none"):Ae.node().style.display!=="none"&&(Ae.style("display",null),Q==="bottom"||Q==="right"?ae=Math.min(ae,U?le.top:le.left):ae=-1/0,Q==="top"||Q==="left"?K=Math.max(K,U?le.bottom:le.right):K=1/0)}});for(var oe in n._plots){var re=n._plots[oe];if(!(r._id!==re.xaxis._id&&r._id!==re.yaxis._id)){var V=U?re.yaxis:re.xaxis;V&&(V["_visibleLabelMin_"+r._id]=ae,V["_visibleLabelMax_"+r._id]=K)}}}},r._hideCounterAxisInsideTickLabels=function(P){var O=r._id.charAt(0)==="x",U=[];for(var X in n._plots){var $=n._plots[X];r._id!==$.xaxis._id&&r._id!==$.yaxis._id||U.push(O?$.yaxis:$.xaxis)}U.forEach(function(j,Y){j&&Gf(j)&&(P||[s2,f2,u2,kM,gM]).forEach(function(q){var Q=q.K==="tick"&&q.L==="text"&&r.ticklabelmode==="period",ae=n._plots[r._mainSubplot],K;if(q.K===s2.K){var oe=o?ae.zerolinelayerAbove:ae.zerolinelayer;K=oe.selectAll("."+r._id+"zl")}else q.K===f2.K?K=ae.minorGridlayer.selectAll("."+r._id):q.K===u2.K?K=ae.gridlayer.selectAll("."+r._id):K=ae[r._id.charAt(0)+"axislayer"];K.each(function(){var re=Ra.select(this);q.L&&(re=re.selectAll(q.L)),re.each(function(V){var ee=r.l2p(Q?c2(V):V.x)+r._offset,H=Ra.select(this);ee<r["_visibleLabelMax_"+j._id]&&ee>r["_visibleLabelMin_"+j._id]?H.style("display","none"):q.K==="tick"&&!Y&&H.node().style.display!=="none"&&H.style("display",null)})})})})},b(h,f+1?f:s);function y(){return p.length&&Promise.all(p)}var w=null;function T(){if(b(h,s),l.length&&r.autotickangles&&(r.type!=="log"||String(r.dtick).charAt(0)!=="D")){w=r.autotickangles[0];var P=0,O=[],U,X=1;h.each(function(ze){P=Math.max(P,ze.fontSize);var Ue=r.l2p(ze.x),ge=h2(this),Me=da.bBox(ge.node());X=Math.max(X,Jl.lineCount(ge)),O.push({top:0,bottom:10,height:10,left:Ue-Me.width/2,right:Ue+Me.width/2+2,width:Me.width+2})});var $=(r.tickson==="boundaries"||r.showdividers)&&!t.secondary,j=l.length,Y=Math.abs((l[j-1].x-l[0].x)*r._m)/(j-1),q=$?Y/2:Y,Q=$?r.ticklen:P*1.25*X,ae=Math.sqrt(Math.pow(q,2)+Math.pow(Q,2)),K=q/ae,oe=r.autotickangles.map(function(ze){return ze*Math.PI/180}),re=oe.find(function(ze){return Math.abs(Math.cos(ze))<=K});re===void 0&&(re=oe.reduce(function(ze,Ue){return Math.abs(Math.cos(ze))<Math.abs(Math.cos(Ue))?ze:Ue},oe[0]));var V=re*(180/Math.PI);if($){var ee=2;for(r.ticks&&(ee+=r.tickwidth/2),U=0;U<O.length;U++){var H=l[U].xbnd,te=O[U];if(H[0]!==null&&te.left-r.l2p(H[0])<ee||H[1]!==null&&r.l2p(H[1])-te.right<ee){w=V;break}}}else{var le=r.ticklabelposition||"",ve=r.tickson||"",Ae=function(ze){return le.indexOf(ze)!==-1},we=Ae("top"),ce=Ae("left"),Se=Ae("right"),Ce=Ae("bottom"),Fe=ve!=="boundaries"&&(Ce||ce||we||Se),Ee=Fe?(r.tickwidth||0)+2*ev:0;for(U=0;U<O.length-1;U++)if(Cr.bBoxIntersect(O[U],O[U+1],Ee)){w=V;break}}w&&b(h,w)}}r._selections&&(r._selections[i]=h);var m=[y];r.automargin&&n._redrawFromAutoMarginCount&&f===90?(w=f,m.push(function(){b(h,f)})):m.push(T),r._tickAngles&&m.push(function(){r._tickAngles[i]=w===null?Jt(s)?s:0:w});var k=function(){var P=0,O=0;return h.each(function(U,X){var $=h2(this),j=$.select(".text-math-group");if(j.empty()){var Y;r._vals[X]&&(Y=r._vals[X].bb||da.bBox($.node()),r._vals[X].bb=Y),P=Math.max(P,Y.width),O=Math.max(O,Y.height)}}),{labelsMaxW:P,labelsMaxH:O}},S=r._anchorAxis;if(S&&(S.autorange||S.insiderange)&&Gf(r)&&!hX(n,r._id)&&(n._insideTickLabelsUpdaterange||(n._insideTickLabelsUpdaterange={}),S.autorange&&(n._insideTickLabelsUpdaterange[S._name+".autorange"]=S.autorange,m.push(k)),S.insiderange)){var x=k(),M=r._id.charAt(0)==="y"?x.labelsMaxW:x.labelsMaxH;M+=2*ev,r.ticklabelposition==="inside"&&(M+=r.ticklen||0);var d=r.side==="right"||r.side==="top"?1:-1,_=d===1?1:0,g=d===1?0:1,c=[];c[g]=S.range[g];var A=S.range,v=S.r2p(A[_]),D=S.r2p(A[g]),E=n._insideTickLabelsUpdaterange[S._name+".range"];if(E){var R=S.r2p(E[_]),N=S.r2p(E[g]),F=d*(r._id.charAt(0)==="y"?1:-1);F*v<F*R&&(v=R,c[_]=A[_]=E[_]),F*D>F*N&&(D=N,c[g]=A[g]=E[g])}var I=Math.abs(D-v);I-M>0?(I-=M,M*=1+M/I):M=0,r._id.charAt(0)!=="y"&&(M=-M),c[_]=S.p2r(S.r2p(A[_])+d*M),S.autorange==="min"||S.autorange==="max reversed"?(c[0]=null,S._rangeInitial0=void 0,S._rangeInitial1=void 0):(S.autorange==="max"||S.autorange==="min reversed")&&(c[1]=null,S._rangeInitial0=void 0,S._rangeInitial1=void 0),n._insideTickLabelsUpdaterange[S._name+".range"]=c}var L=Cr.syncOrAsync(m);return L&&L.then&&e._promises.push(L),L};function NX(e,r,t){var n=r._id+"divider",a=t.vals,o=t.layer.selectAll("path."+n).data(a,nv);o.exit().remove(),o.enter().insert("path",":first-child").classed(n,1).classed("crisp",1).call(Bf.stroke,r.dividercolor).style("stroke-width",da.crispRound(e,r.dividerwidth,1)+"px"),o.attr("transform",t.transFn).attr("d",t.path)}or.getPxPosition=function(e,r){var t=e._fullLayout._size,n=r._id.charAt(0),a=r.side,o;if(r.anchor!=="free"?o=r._anchorAxis:n==="x"?o={_offset:t.t+(1-(r.position||0))*t.h,_length:0}:n==="y"&&(o={_offset:t.l+(r.position||0)*t.w+r._shift,_length:0}),a==="top"||a==="left")return o._offset;if(a==="bottom"||a==="right")return o._offset+o._length};function AM(e){var r=e.title.font.size,t=(e.title.text.match(Jl.BR_TAG_ALL)||[]).length;return e.title.hasOwnProperty("standoff")?r*(Ql+t*Hf):t?r*(t+1)*Hf:r}function zX(e,r){var t=e._fullLayout,n=r._id,a=n.charAt(0),o=r.title.font.size,i,l=(r.title.text.match(Jl.BR_TAG_ALL)||[]).length;if(r.title.hasOwnProperty("standoff"))r.side==="bottom"||r.side==="right"?i=r._depth+r.title.standoff+o*Ql:(r.side==="top"||r.side==="left")&&(i=r._depth+r.title.standoff+o*(qf+l*Hf));else{var u=Gf(r);if(r.type==="multicategory")i=r._depth;else{var s=1.5*o;u&&(s=.5*o,r.ticks==="outside"&&(s+=r.ticklen)),i=10+s+(r.linewidth?r.linewidth-1:0)}u||(a==="x"?i+=r.side==="top"?o*(r.showticklabels?1:0):o*(r.showticklabels?1.5:.5):i+=r.side==="right"?o*(r.showticklabels?1:.5):o*(r.showticklabels?.5:0))}var f=or.getPxPosition(e,r),h,p,b;a==="x"?(p=r._offset+r._length/2,b=r.side==="top"?f-i:f+i):(b=r._offset+r._length/2,p=r.side==="right"?f+i:f-i,h={rotate:"-90",offset:0});var y;if(r.type!=="multicategory"){var w=r._selections[r._id+"tick"];if(y={selection:w,side:r.side},w&&w.node()&&w.node().parentNode){var T=da.getTranslate(w.node().parentNode);y.offsetLeft=T.x,y.offsetTop=T.y}r.title.hasOwnProperty("standoff")&&(y.pad=0)}return r._titleStandoff=i,tX.draw(e,n+"title",{propContainer:r,propName:r._name+".title.text",placeholder:t._dfltTitle[a],avoid:y,transform:h,attributes:{x:p,y:b,"text-anchor":"middle"}})}or.shouldShowZeroLine=function(e,r,t){var n=Cr.simpleMap(r.range,r.r2l);return n[0]*n[1]<=0&&r.zeroline&&(r.type==="linear"||r.type==="-")&&!(r.rangebreaks&&r.maskBreaks(0)===rv)&&(IM(r,0)||!qX(e,r,t,n)||OX(e,r))};or.clipEnds=function(e,r){return r.filter(function(t){return IM(e,t.x)})};function IM(e,r){var t=e.l2p(r);return t>1&&t<e._length-1}function qX(e,r,t,n){var a=t._mainAxis;if(!a)return;var o=e._fullLayout,i=r._id.charAt(0),l=or.counterLetter(r._id),u=r._offset+(Math.abs(n[0])<Math.abs(n[1])==(i==="x")?0:r._length);function s(y){if(!y.showline||!y.linewidth)return!1;var w=Math.max((y.linewidth+r.zerolinewidth)/2,1);function T(S){return typeof S=="number"&&Math.abs(S-u)<w}if(T(y._mainLinePosition)||T(y._mainMirrorPosition))return!0;var m=y._linepositions||{};for(var k in m)if(T(m[k][0])||T(m[k][1]))return!0}var f=o._plots[t._mainSubplot];if(!(f.mainplotinfo||f).overlays.length)return s(t,u);for(var h=or.list(e,l),p=0;p<h.length;p++){var b=h[p];if(b._mainAxis===a&&s(b,u))return!0}}function OX(e,r){for(var t=e._fullData,n=r._mainSubplot,a=r._id.charAt(0),o=0;o<t.length;o++){var i=t[o];if(i.visible===!0&&i.xaxis+i.yaxis===n&&(Of.traceIs(i,"bar-like")&&i.orientation==={x:"h",y:"v"}[a]||i.fill&&i.fill.charAt(i.fill.length-1)===a))return!0}return!1}function h2(e){var r=Ra.select(e),t=r.select(".text-math-group");return t.empty()?r.select("text"):t}or.allowAutoMargin=function(e){for(var r=or.list(e,"",!0),t=0;t<r.length;t++){var n=r[t];n.automargin&&(fu.allowAutoMargin(e,y2(n)),n.mirror&&fu.allowAutoMargin(e,FM(n))),Of.getComponentMethod("rangeslider","isVisible")(n)&&fu.allowAutoMargin(e,NM(n))}};function y2(e){return e._id+".automargin"}function FM(e){return y2(e)+".mirror"}function NM(e){return e._id+".rangeslider"}or.swap=function(e,r){for(var t=BX(e,r),n=0;n<t.length;n++)UX(e,t[n].x,t[n].y)};function BX(e,r){var t=[],n,a;for(n=0;n<r.length;n++){var o=[],i=e._fullData[r[n]].xaxis,l=e._fullData[r[n]].yaxis;if(!(!i||!l)){for(a=0;a<t.length;a++)(t[a].x.indexOf(i)!==-1||t[a].y.indexOf(l)!==-1)&&o.push(a);if(!o.length){t.push({x:[i],y:[l]});continue}var u=t[o[0]],s;if(o.length>1)for(a=1;a<o.length;a++)s=t[o[a]],Zh(u.x,s.x),Zh(u.y,s.y);Zh(u.x,[i]),Zh(u.y,[l])}}return t}function Zh(e,r){for(var t=0;t<r.length;t++)e.indexOf(r[t])===-1&&e.push(r[t])}function UX(e,r,t){var n=[],a=[],o=e.layout,i,l;for(i=0;i<r.length;i++)n.push(or.getFromId(e,r[i]));for(i=0;i<t.length;i++)a.push(or.getFromId(e,t[i]));var u=Object.keys(nX),s=["anchor","domain","overlaying","position","side","tickangle","editType"],f=["linear","log"];for(i=0;i<u.length;i++){var h=u[i],p=n[0][h],b=a[0][h],y=!0,w=!1,T=!1;if(!(h.charAt(0)==="_"||typeof p=="function"||s.indexOf(h)!==-1)){for(l=1;l<n.length&&y;l++){var m=n[l][h];h==="type"&&f.indexOf(p)!==-1&&f.indexOf(m)!==-1&&p!==m?w=!0:m!==p&&(y=!1)}for(l=1;l<a.length&&y;l++){var k=a[l][h];h==="type"&&f.indexOf(b)!==-1&&f.indexOf(k)!==-1&&b!==k?T=!0:a[l][h]!==b&&(y=!1)}y&&(w&&(o[n[0]._name].type="linear"),T&&(o[a[0]._name].type="linear"),HX(o,h,n,a,e._fullLayout._dfltTitle))}}for(i=0;i<e._fullLayout.annotations.length;i++){var S=e._fullLayout.annotations[i];r.indexOf(S.xref)!==-1&&t.indexOf(S.yref)!==-1&&Cr.swapAttrs(o.annotations[i],["?"])}}function HX(e,r,t,n,a){var o=Cr.nestedProperty,i=o(e[t[0]._name],r).get(),l=o(e[n[0]._name],r).get(),u;for(r==="title"&&(i&&i.text===a.x&&(i.text=a.y),l&&l.text===a.y&&(l.text=a.x)),u=0;u<t.length;u++)o(e,t[u]._name+"."+r).set(l);for(u=0;u<n.length;u++)o(e,n[u]._name+"."+r).set(i)}function m2(e){return e._id==="angularaxis"}function o2(e,r){for(var t=r._rangebreaks.length,n=0;n<t;n++){var a=r._rangebreaks[n];if(e>=a.min&&e<a.max)return a.max}return e}function Gf(e){return(e.ticklabelposition||"").indexOf("inside")!==-1}function av(e,r){Gf(e._anchorAxis||{})&&e._hideCounterAxisInsideTickLabels&&e._hideCounterAxisInsideTickLabels(r)}function v2(e,r,t,n){var a=e.anchor!=="free"&&(e.overlaying===void 0||e.overlaying===!1)?e._id:e.overlaying,o;n?o=e.side==="right"?r:-r:o=r,a in t||(t[a]={}),e.side in t[a]||(t[a][e.side]=0),t[a][e.side]+=o}function VX(e,r){return e.autoshift?r[e.overlaying][e.side]:e.shift||0}function GX(e,r){return/%f/.test(r)?e>=sX:/%L/.test(r)?e>=lX:/%[SX]/.test(r)?e>=jh:/%M/.test(r)?e>=Uf:/%[HI]/.test(r)?e>=Ni:/%p/.test(r)?e>=Jo:/%[Aadejuwx]/.test(r)?e>=Bn:/%[UVW]/.test(r)?e>=pa:/%[Bbm]/.test(r)?e>=$h:/%[q]/.test(r)?e>=Qh:/%[Yy]/.test(r)?e>=Kh:!0}});var OM=de((j0e,qM)=>{"use strict";qM.exports=function(r,t,n){var a,o;if(n){var i=t==="reversed"||t==="min reversed"||t==="max reversed";a=n[i?1:0],o=n[i?0:1]}var l=r("autorangeoptions.minallowed",o===null?a:void 0),u=r("autorangeoptions.maxallowed",a===null?o:void 0);l===void 0&&r("autorangeoptions.clipmin"),u===void 0&&r("autorangeoptions.clipmax"),r("autorangeoptions.include")}});var x2=de((ehe,BM)=>{"use strict";var YX=OM();BM.exports=function(r,t,n,a){var o=t._template||{},i=t.type||o.type||"-";n("minallowed"),n("maxallowed");var l=n("range");if(!l){var u;!a.noInsiderange&&i!=="log"&&(u=n("insiderange"),u&&(u[0]===null||u[1]===null)&&(t.insiderange=!1,u=void 0),u&&(l=n("range",u)))}var s=t.getAutorangeDflt(l,a),f=n("autorange",s),h;l&&(l[0]===null&&l[1]===null||(l[0]===null||l[1]===null)&&(f==="reversed"||f===!0)||l[0]!==null&&(f==="min"||f==="max reversed")||l[1]!==null&&(f==="max"||f==="min reversed"))&&(l=void 0,delete t.range,t.autorange=!0,h=!0),h||(s=t.getAutorangeDflt(l,a),f=n("autorange",s)),f&&(YX(n,f,l),(i==="linear"||i==="-")&&n("rangemode")),t.cleanRange()}});var HM=de((rhe,UM)=>{var WX={left:0,top:0};UM.exports=XX;function XX(e,r,t){r=r||e.currentTarget||e.srcElement,Array.isArray(t)||(t=[0,0]);var n=e.clientX||0,a=e.clientY||0,o=ZX(r);return t[0]=n-o.left,t[1]=a-o.top,t}function ZX(e){return e===window||e===document||e===document.body?WX:e.getBoundingClientRect()}});var iv=de((the,VM)=>{"use strict";var JX=Jp();function KX(){var e=!1;try{var r=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,r),window.removeEventListener("test",null,r)}catch(t){e=!1}return e}VM.exports=JX&&KX()});var YM=de((nhe,GM)=>{"use strict";GM.exports=function(r,t,n,a,o){var i=(r-n)/(a-n),l=i+t/(a-n),u=(i+l)/2;return o==="left"||o==="bottom"?i:o==="center"||o==="middle"?u:o==="right"||o==="top"?l:i<2/3-u?i:l>4/3-u?l:u}});var ZM=de((ahe,XM)=>{"use strict";var WM=ir(),QX=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];XM.exports=function(r,t,n,a){return n==="left"?r=0:n==="center"?r=1:n==="right"?r=2:r=WM.constrain(Math.floor(r*3),0,2),a==="bottom"?t=0:a==="middle"?t=1:a==="top"?t=2:t=WM.constrain(Math.floor(t*3),0,2),QX[t][r]}});var KM=de((ihe,JM)=>{"use strict";var $X=Sf(),jX=oh(),eZ=xf().getGraphDiv,rZ=pf(),b2=JM.exports={};b2.wrapped=function(e,r,t){e=eZ(e),e._fullLayout&&jX.clear(e._fullLayout._uid+rZ.HOVERID),b2.raw(e,r,t)};b2.raw=function(r,t){var n=r._fullLayout,a=r._hoverdata;t||(t={}),!(t.target&&!r._dragged&&$X.triggerHandler(r,"plotly_beforehover",t)===!1)&&(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),r._hoverdata=void 0,t.target&&a&&r.emit("plotly_unhover",{event:t,points:a}))}});var oi=de((ohe,eT)=>{"use strict";var tZ=HM(),_2=Qp(),nZ=iv(),aZ=ir().removeElement,iZ=on(),$l=eT.exports={};$l.align=YM();$l.getCursor=ZM();var $M=KM();$l.unhover=$M.wrapped;$l.unhoverRaw=$M.raw;$l.init=function(r){var t=r.gd,n=1,a=t._context.doubleClickDelay,o=r.element,i,l,u,s,f,h,p,b;t._mouseDownTime||(t._mouseDownTime=0),o.style.pointerEvents="all",o.onmousedown=T,nZ?(o._ontouchstart&&o.removeEventListener("touchstart",o._ontouchstart),o._ontouchstart=T,o.addEventListener("touchstart",T,{passive:!1})):o.ontouchstart=T;function y(S,x,M){return Math.abs(S)<M&&(S=0),Math.abs(x)<M&&(x=0),[S,x]}var w=r.clampFn||y;function T(S){t._dragged=!1,t._dragging=!0;var x=QM(S);i=x[0],l=x[1],p=S.target,h=S,b=S.buttons===2||S.ctrlKey,typeof S.clientX=="undefined"&&typeof S.clientY=="undefined"&&(S.clientX=i,S.clientY=l),u=new Date().getTime(),u-t._mouseDownTime<a?n+=1:(n=1,t._mouseDownTime=u),r.prepFn&&r.prepFn(S,i,l),_2&&!b?(f=jM(),f.style.cursor=window.getComputedStyle(o).cursor):_2||(f=document,s=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(o).cursor),document.addEventListener("mouseup",k),document.addEventListener("touchend",k),r.dragmode!==!1&&(S.preventDefault(),document.addEventListener("mousemove",m),document.addEventListener("touchmove",m,{passive:!1}))}function m(S){S.preventDefault();var x=QM(S),M=r.minDrag||iZ.MINDRAG,d=w(x[0]-i,x[1]-l,M),_=d[0],g=d[1];(_||g)&&(t._dragged=!0,$l.unhover(t,S)),t._dragged&&r.moveFn&&!b&&(t._dragdata={element:o,dx:_,dy:g},r.moveFn(_,g))}function k(S){if(delete t._dragdata,r.dragmode!==!1&&(S.preventDefault(),document.removeEventListener("mousemove",m),document.removeEventListener("touchmove",m)),document.removeEventListener("mouseup",k),document.removeEventListener("touchend",k),_2?aZ(f):s&&(f.documentElement.style.cursor=s,s=null),!t._dragging){t._dragged=!1;return}if(t._dragging=!1,new Date().getTime()-t._mouseDownTime>a&&(n=Math.max(n-1,1)),t._dragged)r.doneFn&&r.doneFn();else{var x;h.target===p?x=h:(x={target:p,srcElement:p,toElement:p},Object.keys(h).concat(Object.keys(h.__proto__)).forEach(M=>{var d=h[M];!x[M]&&typeof d!="function"&&(x[M]=d)})),r.clickFn&&r.clickFn(n,x),b||p.dispatchEvent(new MouseEvent("click",S))}t._dragging=!1,t._dragged=!1}};function jM(){var e=document.createElement("div");e.className="dragcover";var r=e.style;return r.position="fixed",r.left=0,r.right=0,r.top=0,r.bottom=0,r.zIndex=999999999,r.background="none",document.body.appendChild(e),e}$l.coverSlip=jM;function QM(e){return tZ(e.changedTouches?e.changedTouches[0]:e,document.body)}});var Ko=de((lhe,rT)=>{"use strict";rT.exports=function(r,t){(r.attr("class")||"").split(" ").forEach(function(n){n.indexOf("cursor-")===0&&r.classed(n,!1)}),t&&r.classed("cursor-"+t,!0)}});var aT=de((she,nT)=>{"use strict";var w2=Ko(),Yf="data-savedcursor",tT="!!";nT.exports=function(r,t){var n=r.attr(Yf);if(t){if(!n){for(var a=(r.attr("class")||"").split(" "),o=0;o<a.length;o++){var i=a[o];i.indexOf("cursor-")===0&&r.attr(Yf,i.slice(7)).classed(i,!1)}r.attr(Yf)||r.attr(Yf,tT)}w2(r,t)}else n&&(r.attr(Yf,null),n===tT?w2(r):w2(r,n))}});var T2=de((uhe,iT)=>{"use strict";var M2=kn(),oZ=Si();iT.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:oZ.defaultLine,editType:"legend"},maxheight:{valType:"number",min:0,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:M2({editType:"legend"}),grouptitlefont:M2({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},titleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],editType:"legend"},titledoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:M2({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}});var Xf=de(Wf=>{"use strict";Wf.isGrouped=function(r){return(r.traceorder||"").indexOf("grouped")!==-1};Wf.isVertical=function(r){return r.orientation!=="h"};Wf.isReversed=function(r){return(r.traceorder||"").indexOf("reversed")!==-1};Wf.getId=function(r){return r._id||"legend"}});var k2=de((che,oT)=>{"use strict";var ov=Er(),ga=ir(),lZ=yt(),sZ=Sn(),uZ=T2(),fZ=Vs(),A2=Xf();function cZ(e,r,t,n,a){var o=r[e]||{},i=lZ.newContainer(t,e);function l(P,O){return ga.coerce(o,i,uZ,P,O)}var u=ga.coerceFont(l,"font",t.font);l("bgcolor",t.paper_bgcolor),l("bordercolor");var s=l("visible");if(!s)return;var f,h=function(P,O){var U=f._input,X=f;return ga.coerce(U,X,sZ,P,O)},p=t.font||{},b=ga.coerceFont(l,"grouptitlefont",p,{overrideDflt:{size:Math.round(p.size*1.1)}}),y=0,w=!1,T="normal",m=(t.shapes||[]).filter(function(P){return P.showlegend});function k(P){return ov.traceIs(P,"pie-like")&&P._length!=null&&(Array.isArray(P.legend)||Array.isArray(P.showlegend))}n.filter(k).forEach(function(P){P.visible&&y++;for(var O=0;O<P._length;O++){var U=(Array.isArray(P.legend)?P.legend[O]:P.legend)||"legend";U===e&&((Array.isArray(P.showlegend)?P.showlegend[O]:P.showlegend)||P._dfltShowLegend)&&(w=!0,y++)}if(e==="legend"&&P._length>P.legend.length)for(var X=P.legend.length;X<P._length;X++)w=!0,y++});for(var S=n.concat(m).filter(function(P){return!k(f)&&e===(P.legend||"legend")}),x=0;x<S.length;x++)if(f=S[x],!!f.visible){var M=f._isShape;(f.showlegend||f._dfltShowLegend&&!(f._module&&f._module.attributes&&f._module.attributes.showlegend&&f._module.attributes.showlegend.dflt===!1))&&(y++,f.showlegend&&(w=!0,(!M&&ov.traceIs(f,"pie-like")||f._input.showlegend===!0)&&y++),ga.coerceFont(h,"legendgrouptitle.font",b)),(!M&&ov.traceIs(f,"bar")&&t.barmode==="stack"||["tonextx","tonexty"].indexOf(f.fill)!==-1)&&(T=A2.isGrouped({traceorder:T})?"grouped+reversed":"reversed"),f.legendgroup!==void 0&&f.legendgroup!==""&&(T=A2.isReversed({traceorder:T})?"reversed+grouped":"grouped")}var d=ga.coerce(r,t,fZ,"showlegend",t.showlegend||w&&y>(e==="legend"?1:0));if(d===!1&&(t[e]=void 0),!(d===!1&&!o.uirevision)&&(l("uirevision",t.uirevision),d!==!1)){l("borderwidth");var _=l("orientation"),g=l("yref"),c=l("xref"),A=_==="h",v=g==="paper",D=c==="paper",E,R,N,F="left";A?(E=0,ov.getComponentMethod("rangeslider","isVisible")(r.xaxis)?v?(R=1.1,N="bottom"):(R=1,N="top"):v?(R=-.1,N="top"):(R=0,N="bottom")):(R=1,N="auto",D?E=1.02:(E=1,F="right")),ga.coerce(o,i,{x:{valType:"number",editType:"legend",min:D?-2:0,max:D?3:1,dflt:E}},"x"),ga.coerce(o,i,{y:{valType:"number",editType:"legend",min:v?-2:0,max:v?3:1,dflt:R}},"y"),l("traceorder",T),A2.isGrouped(t[e])&&l("tracegroupgap"),l("entrywidth"),l("entrywidthmode"),l("indentation"),l("itemsizing"),l("itemwidth"),l("itemclick"),l("itemdoubleclick"),l("groupclick"),l("xanchor",F),l("yanchor",N),l("maxheight"),l("valign"),ga.noneOrAll(o,i,["x","y"]);var I=l("title.text");if(I){l("title.side",A?"left":"top");var L=ga.extendFlat({},u,{size:ga.bigFont(u.size)});ga.coerceFont(l,"title.font",L);let P=a>1;l("titleclick",P?"toggle":!1),l("titledoubleclick",P?"toggleothers":!1)}}}oT.exports=function(r,t,n){var a,o=n.slice(),i=t.shapes;if(i)for(a=0;a<i.length;a++){var l=i[a];if(l.showlegend){var u={_input:l._input,visible:l.visible,showlegend:l.showlegend,legend:l.legend};o.push(u)}}var s=["legend"];for(a=0;a<o.length;a++)Array.isArray(o[a].legend)?s=s.concat(o[a].legend):ga.pushUnique(s,o[a].legend);for(t._legends=[],a=0;a<s.length;a++){var f=s[a];cZ(f,r,t,o,s.length),t[f]&&(t[f]._id=f),t._legends.push(f)}}});var E2=de(C2=>{"use strict";var Qo=Er(),S2=ir(),hZ=S2.pushUnique,vZ=Xf(),lT=!0;C2.handleItemClick=function(r,t,n,a){var o=t._fullLayout;if(t._dragged||t._editing)return;var i=r.data()[0][0];if(i.groupTitle&&i.noClick)return;var l=n.groupclick;a==="toggle"&&n.itemdoubleclick==="toggleothers"&&lT&&t.data&&t._context.showTips&&(S2.notifier(S2._(t,"Double-click on legend to isolate one trace"),"long"),lT=!1);var u=l==="togglegroup",s=o.hiddenlabels?o.hiddenlabels.slice():[],f=t._fullData,h=(o.shapes||[]).filter(function(we){return we.showlegend}),p=f.concat(h),b=i.trace;b._isShape&&(b=b._fullInput);var y=b.legendgroup,w,T,m,k,S,x,M={},d=[],_=[],g=[];function c(we,ce){var Se=d.indexOf(we),Ce=M.visible;return Ce||(Ce=M.visible=[]),d.indexOf(we)===-1&&(d.push(we),Se=d.length-1),Ce[Se]=ce,Se}var A=(o.shapes||[]).map(function(we){return we._input}),v=!1;function D(we,ce){A[we].visible=ce,v=!0}function E(we,ce){if(!(i.groupTitle&&!u)){var Se=we._fullInput||we,Ce=Se._isShape,Fe=Se.index;Fe===void 0&&(Fe=Se._index);var Ee=Se.visible===!1?!1:ce;Ce?D(Fe,Ee):c(Fe,Ee)}}var R=b.legend,N=b._fullInput,F=N&&N._isShape;if(!F&&Qo.traceIs(b,"pie-like")){var I=i.label,L=s.indexOf(I);if(a==="toggle")L===-1?s.push(I):s.splice(L,1);else if(a==="toggleothers"){var P=L!==-1,O=[];for(w=0;w<t.calcdata.length;w++){var U=t.calcdata[w];for(T=0;T<U.length;T++){var X=U[T],$=X.label;R===U[0].trace.legend&&I!==$&&(s.indexOf($)===-1&&(P=!0),hZ(s,$),O.push($))}}if(!P)for(var j=0;j<O.length;j++){var Y=s.indexOf(O[j]);Y!==-1&&s.splice(Y,1)}}Qo.call("_guiRelayout",t,"hiddenlabels",s)}else{var q=y&&y.length,Q=[],ae;if(q)for(w=0;w<p.length;w++)ae=p[w],ae.visible&&ae.legendgroup===y&&Q.push(w);if(a==="toggle"){var K;switch(b.visible){case!0:K="legendonly";break;case!1:K=!1;break;case"legendonly":K=!0;break}if(q)if(u)for(w=0;w<p.length;w++){var oe=p[w];oe.visible!==!1&&oe.legendgroup===y&&E(oe,K)}else E(b,K);else E(b,K)}else if(a==="toggleothers"){var re,V,ee,H,te,le=!0;for(w=0;w<p.length;w++)if(te=p[w],re=te===b,ee=te.showlegend!==!0,!(re||ee)&&(V=q&&te.legendgroup===y,!V&&te.legend===R&&te.visible===!0&&!Qo.traceIs(te,"notLegendIsolatable"))){le=!1;break}for(w=0;w<p.length;w++)if(te=p[w],!(te.visible===!1||te.legend!==R)&&!Qo.traceIs(te,"notLegendIsolatable"))switch(b.visible){case"legendonly":E(te,!0);break;case!0:H=le?!0:"legendonly",re=te===b,ee=te.showlegend!==!0&&!te.legendgroup,V=re||q&&te.legendgroup===y,E(te,V||ee?!0:H);break}}for(w=0;w<_.length;w++)if(m=_[w],!!m){var ve=m.constructUpdate(),Ae=Object.keys(ve);for(T=0;T<Ae.length;T++)k=Ae[T],x=M[k]=M[k]||[],x[g[w]]=ve[k]}for(S=Object.keys(M),w=0;w<S.length;w++)for(k=S[w],T=0;T<d.length;T++)M[k].hasOwnProperty(T)||(M[k][T]=void 0);v?Qo.call("_guiUpdate",t,M,{shapes:A},d):Qo.call("_guiRestyle",t,M,d)}};C2.handleTitleClick=function(r,t,n){let a=r._fullLayout,o=r._fullData,i=vZ.getId(t),l=(a.shapes||[]).filter(function(m){return m.showlegend}),u=o.concat(l);function s(m){return(m.legend||"legend")===i}var f,h;if(n==="toggle")f=!u.some(function(k){return s(k)&&k.visible===!0}),h=!1;else{let m=u.some(function(k){return!s(k)&&k.visible===!0&&k.showlegend!==!1});f=!0,h=!m}let p={visible:[]},b=[],y=(a.shapes||[]).map(function(m){return m._input});for(var w=!1,T=0;T<u.length;T++){let m=u[T],k=s(m);if(!k){let M=m.showlegend!==!0&&!m.legendgroup;if(n==="toggle"||M)continue}let x=(k?f:h)?!0:"legendonly";m.visible!==!1&&m.visible!==x&&(m._isShape?(y[m._index].visible=x,w=!0):(b.push(m.index),p.visible.push(x)))}w?Qo.call("_guiUpdate",r,p,{shapes:y},b):b.length&&Qo.call("_guiRestyle",r,p,b)}});var L2=de((vhe,sT)=>{"use strict";sT.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}});var cT=de((dhe,fT)=>{"use strict";var uT=Er(),D2=Xf();fT.exports=function(r,t,n){var a=t._inHover,o=D2.isGrouped(t),i=D2.isReversed(t),l={},u=[],s=!1,f={},h=0,p=0,b,y;function w(P,O,U){if(t.visible!==!1&&!(n&&P!==t._id))if(O===""||!D2.isGrouped(t)){var X="~~i"+h;u.push(X),l[X]=[U],h++}else u.indexOf(O)===-1?(u.push(O),s=!0,l[O]=[U]):l[O].push(U)}for(b=0;b<r.length;b++){var T=r[b],m=T[0],k=m.trace,S=k.legend,x=k.legendgroup;if(!(!a&&(!k.visible||!k.showlegend)))if(uT.traceIs(k,"pie-like")){var M=Array.isArray(k.legend),d=Array.isArray(k.showlegend);for(f[x]||(f[x]={}),y=0;y<T.length;y++)if(!(d&&k.showlegend[T[y].i]===!1)){M&&(S=k.legend[T[y].i]||"legend");var _=T[y].label;f[x][_]||(w(S,x,{label:_,color:T[y].color,i:T[y].i,trace:k,pts:T[y].pts}),f[x][_]=!0,p=Math.max(p,(_||"").length))}}else w(S,x,m),p=Math.max(p,(k.name||"").length)}if(!u.length)return[];var g=!s||!o,c=[];for(b=0;b<u.length;b++){var A=l[u[b]];g?c.push(A[0]):c.push(A)}for(g&&(c=[c]),b=0;b<c.length;b++){var v=1/0;for(y=0;y<c[b].length;y++){var D=c[b][y].trace.legendrank;v>D&&(v=D)}c[b][0]._groupMinRank=v,c[b][0]._preGroupSort=b}var E=function(P,O){return P[0]._groupMinRank-O[0]._groupMinRank||P[0]._preGroupSort-O[0]._preGroupSort},R=function(P,O){return P.trace.legendrank-O.trace.legendrank||P._preSort-O._preSort};for(c.forEach(function(P,O){P[0]._preGroupSort=O}),c.sort(E),b=0;b<c.length;b++){c[b].forEach(function(P,O){P._preSort=O}),c[b].sort(R);var N=c[b][0].trace,F=null;for(y=0;y<c[b].length;y++){var I=c[b][y].trace.legendgrouptitle;if(I&&I.text){F=I,a&&(I.font=t._groupTitleFont);break}}if(i&&c[b].reverse(),F){var L=!1;for(y=0;y<c[b].length;y++)if(uT.traceIs(c[b][y].trace,"pie-like")){L=!0;break}c[b].unshift({i:-1,groupTitle:F,noClick:L,trace:{showlegend:N.showlegend,legendgroup:N.legendgroup,legend:N.legend,visible:t.groupclick==="toggleitem"?!0:N.visible}})}for(y=0;y<c[b].length;y++)c[b][y]=[c[b][y]]}return t._lgroupsLength=c.length,t._maxNameLength=p,c}});var R2=de(jl=>{"use strict";var lv=ir();function hT(e){return e.indexOf("e")!==-1?e.replace(/[.]?0+e/,"e"):e.indexOf(".")!==-1?e.replace(/[.]?0+$/,""):e}jl.formatPiePercent=function(r,t){var n=hT((r*100).toPrecision(3));return lv.numSeparate(n,t)+"%"};jl.formatPieValue=function(r,t){var n=hT(r.toPrecision(10));return lv.numSeparate(n,t)};jl.getFirstFilled=function(r,t){if(lv.isArrayOrTypedArray(r))for(var n=0;n<t.length;n++){var a=r[t[n]];if(a||a===0||a==="")return a}};jl.castOption=function(r,t){if(lv.isArrayOrTypedArray(r))return jl.getFirstFilled(r,t);if(r)return r};jl.getRotationAngle=function(e){return(e==="auto"?0:e)*Math.PI/180}});var dT=de((ghe,vT)=>{"use strict";var dZ=mt(),pZ=Xr();vT.exports=function(r,t,n,a){var o=n.marker.pattern;o&&o.shape?dZ.pointStyle(r,n,a,t):pZ.fill(r,t.color)}});var mT=de((yhe,yT)=>{"use strict";var pT=Xr(),gT=R2().castOption,gZ=dT();yT.exports=function(r,t,n,a){var o=n.marker.line,i=gT(o.color,t.pts)||pT.defaultLine,l=gT(o.width,t.pts)||0;r.call(gZ,t,n,a).style("stroke-width",l).call(pT.stroke,i)}});var N2=de((mhe,TT)=>{"use strict";var Un=it(),P2=Er(),Ln=ir(),xT=Ln.strTranslate,ya=mt(),Pa=Xr(),I2=Ei().extractOpts,sv=la(),yZ=mT(),mZ=R2().castOption,xZ=L2(),bT=12,_T=5,es=2,bZ=10,du=5;TT.exports=function(r,t,n){var a=t._fullLayout;n||(n=a.legend);var o=n.itemsizing==="constant",i=n.itemwidth,l=(i+xZ.itemGap*2)/2,u=xT(l,0),s=function(_,g,c,A){var v;if(_+1)v=_;else if(g&&g.width>0)v=g.width;else return 0;return o?A:Math.min(v,c)};r.each(function(_){var g=Un.select(this),c=Ln.ensureSingle(g,"g","layers");c.style("opacity",_[0].trace.opacity);var A=n.indentation,v=n.valign,D=_[0].lineHeight,E=_[0].height;if(v==="middle"&&A===0||!D||!E)c.attr("transform",null);else{var R={top:1,bottom:-1}[v],N=R*(.5*(D-E+3))||0,F=n.indentation;c.attr("transform",xT(F,N))}var I=c.selectAll("g.legendfill").data([_]);I.enter().append("g").classed("legendfill",!0);var L=c.selectAll("g.legendlines").data([_]);L.enter().append("g").classed("legendlines",!0);var P=c.selectAll("g.legendsymbols").data([_]);P.enter().append("g").classed("legendsymbols",!0),P.selectAll("g.legendpoints").data([_]).enter().append("g").classed("legendpoints",!0)}).each(d).each(p).each(y).each(b).each(T).each(x).each(S).each(f).each(h).each(m).each(k);function f(_){var g=wT(_),c=g.showFill,A=g.showLine,v=g.showGradientLine,D=g.showGradientFill,E=g.anyFill,R=g.anyLine,N=_[0],F=N.trace,I,L,P=I2(F),O=P.colorscale,U=P.reversescale,X=function(K){if(K.size())if(c)ya.fillGroupStyle(K,t,!0);else{var oe="legendfill-"+F.uid;ya.gradient(K,t,oe,F2(U),O,"fill")}},$=function(K){if(K.size()){var oe="legendline-"+F.uid;ya.lineGroupStyle(K),ya.gradient(K,t,oe,F2(U),O,"stroke")}},j=sv.hasMarkers(F)||!E?"M5,0":R?"M5,-2":"M5,-3",Y=Un.select(this),q=Y.select(".legendfill").selectAll("path").data(c||D?[_]:[]);if(q.enter().append("path").classed("js-fill",!0),q.exit().remove(),q.attr("d",j+"h"+i+"v6h-"+i+"z").call(X),A||v){var Q=s(void 0,F.line,bZ,_T);L=Ln.minExtend(F,{line:{width:Q}}),I=[Ln.minExtend(N,{trace:L})]}var ae=Y.select(".legendlines").selectAll("path").data(A||v?[I]:[]);ae.enter().append("path").classed("js-line",!0),ae.exit().remove(),ae.attr("d",j+(v?"l"+i+",0.0001":"h"+i)).call(A?ya.lineGroupStyle:$)}function h(_){var g=wT(_),c=g.anyFill,A=g.anyLine,v=g.showLine,D=g.showMarker,E=_[0],R=E.trace,N=!D&&!A&&!c&&sv.hasText(R),F,I;function L(q,Q,ae,K){var oe=Ln.nestedProperty(R,q).get(),re=Ln.isArrayOrTypedArray(oe)&&Q?Q(oe):oe;if(o&&re&&K!==void 0&&(re=K),ae){if(re<ae[0])return ae[0];if(re>ae[1])return ae[1]}return re}function P(q){return E._distinct&&E.index&&q[E.index]?q[E.index]:q[0]}if(D||N||v){var O={},U={};if(D){O.mc=L("marker.color",P),O.mx=L("marker.symbol",P),O.mo=L("marker.opacity",Ln.mean,[.2,1]),O.mlc=L("marker.line.color",P),O.mlw=L("marker.line.width",Ln.mean,[0,5],es),O.mld=R._isShape?"solid":L("marker.line.dash",P),U.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var X=L("marker.size",Ln.mean,[2,16],bT);O.ms=X,U.marker.size=X}v&&(U.line={width:L("line.width",P,[0,10],_T)}),N&&(O.tx="Aa",O.tp=L("textposition",P),O.ts=10,O.tc=L("textfont.color",P),O.tf=L("textfont.family",P),O.tw=L("textfont.weight",P),O.ty=L("textfont.style",P),O.tv=L("textfont.variant",P),O.tC=L("textfont.textcase",P),O.tE=L("textfont.lineposition",P),O.tS=L("textfont.shadow",P)),F=[Ln.minExtend(E,O)],I=Ln.minExtend(R,U),I.selectedpoints=null,I.texttemplate=null}var $=Un.select(this).select("g.legendpoints"),j=$.selectAll("path.scatterpts").data(D?F:[]);j.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",u),j.exit().remove(),j.call(ya.pointStyle,I,t),D&&(F[0].mrc=3);var Y=$.selectAll("g.pointtext").data(N?F:[]);Y.enter().append("g").classed("pointtext",!0).append("text").attr("transform",u),Y.exit().remove(),Y.selectAll("text").call(ya.textPointStyle,I,t)}function p(_){var g=_[0].trace,c=g.type==="waterfall";if(_[0]._distinct&&c){var A=_[0].trace[_[0].dir].marker;return _[0].mc=A.color,_[0].mlw=A.line.width,_[0].mlc=A.line.color,w(_,this,"waterfall")}var v=[];g.visible&&c&&(v=_[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var D=Un.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(v);D.enter().append("path").classed("legendwaterfall",!0).attr("transform",u).style("stroke-miterlimit",1),D.exit().remove(),D.each(function(E){var R=Un.select(this),N=g[E[0]].marker,F=s(void 0,N.line,du,es);R.attr("d",E[1]).style("stroke-width",F+"px").call(Pa.fill,N.color),F&&R.call(Pa.stroke,N.line.color)})}function b(_){w(_,this)}function y(_){w(_,this,"funnel")}function w(_,g,c){var A=_[0].trace,v=A.marker||{},D=v.line||{},E=v.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",R=c?A.visible&&A.type===c:P2.traceIs(A,"bar"),N=Un.select(g).select("g.legendpoints").selectAll("path.legend"+c).data(R?[_]:[]);N.enter().append("path").classed("legend"+c,!0).attr("d",E).attr("transform",u),N.exit().remove(),N.each(function(F){var I=Un.select(this),L=F[0],P=s(L.mlw,v.line,du,es);I.style("stroke-width",P+"px");var O=L.mcc;if(!n._inHover&&"mc"in L){var U=I2(v),X=U.mid;X===void 0&&(X=(U.max+U.min)/2),O=ya.tryColorscale(v,"")(X)}var $=O||L.mc||v.color,j=v.pattern,Y=ya.getPatternAttr,q=j&&(Y(j.shape,0,"")||Y(j.path,0,""));if(q){var Q=Y(j.bgcolor,0,null),ae=Y(j.fgcolor,0,null),K=j.fgopacity,oe=MT(j.size,8,10),re=MT(j.solidity,.5,1),V="legend-"+A.uid;I.call(ya.pattern,"legend",t,V,q,oe,re,O,j.fillmode,Q,ae,K)}else I.call(Pa.fill,$);P&&Pa.stroke(I,L.mlc||D.color)})}function T(_){var g=_[0].trace,c=Un.select(this).select("g.legendpoints").selectAll("path.legendbox").data(g.visible&&P2.traceIs(g,"box-violin")?[_]:[]);c.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",u),c.exit().remove(),c.each(function(){var A=Un.select(this);if((g.boxpoints==="all"||g.points==="all")&&Pa.opacity(g.fillcolor)===0&&Pa.opacity((g.line||{}).color)===0){var v=Ln.minExtend(g,{marker:{size:o?bT:Ln.constrain(g.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});c.call(ya.pointStyle,v,t)}else{var D=s(void 0,g.line,du,es);A.style("stroke-width",D+"px").call(Pa.fill,g.fillcolor),D&&Pa.stroke(A,g.line.color)}})}function m(_){var g=_[0].trace,c=Un.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(g.visible&&g.type==="candlestick"?[_,_]:[]);c.enter().append("path").classed("legendcandle",!0).attr("d",function(A,v){return v?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",u).style("stroke-miterlimit",1),c.exit().remove(),c.each(function(A,v){var D=Un.select(this),E=g[v?"increasing":"decreasing"],R=s(void 0,E.line,du,es);D.style("stroke-width",R+"px").call(Pa.fill,E.fillcolor),R&&Pa.stroke(D,E.line.color)})}function k(_){var g=_[0].trace,c=Un.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(g.visible&&g.type==="ohlc"?[_,_]:[]);c.enter().append("path").classed("legendohlc",!0).attr("d",function(A,v){return v?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",u).style("stroke-miterlimit",1),c.exit().remove(),c.each(function(A,v){var D=Un.select(this),E=g[v?"increasing":"decreasing"],R=s(void 0,E.line,du,es);D.style("fill","none").call(ya.dashLine,E.line.dash,R),R&&Pa.stroke(D,E.line.color)})}function S(_){M(_,this,"pie")}function x(_){M(_,this,"funnelarea")}function M(_,g,c){var A=_[0],v=A.trace,D=c?v.visible&&v.type===c:P2.traceIs(v,c),E=Un.select(g).select("g.legendpoints").selectAll("path.legend"+c).data(D?[_]:[]);if(E.enter().append("path").classed("legend"+c,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",u),E.exit().remove(),E.size()){var R=v.marker||{},N=s(mZ(R.line.width,A.pts),R.line,du,es),F="pieLike",I=Ln.minExtend(v,{marker:{line:{width:N}}},F),L=Ln.minExtend(A,{trace:I},F);yZ(E,L,I,t)}}function d(_){var g=_[0].trace,c,A=[];if(g.visible)switch(g.type){case"histogram2d":case"heatmap":A=[["M-15,-2V4H15V-2Z"]],c=!0;break;case"choropleth":case"choroplethmapbox":case"choroplethmap":A=[["M-6,-6V6H6V-6Z"]],c=!0;break;case"densitymapbox":case"densitymap":A=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],c="radial";break;case"cone":A=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],c=!1;break;case"streamtube":A=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],c=!1;break;case"surface":A=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],c=!0;break;case"mesh3d":A=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],c=!1;break;case"volume":A=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],c=!0;break;case"isosurface":A=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],c=!1;break}var v=Un.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(A);v.enter().append("path").classed("legend3dandfriends",!0).attr("transform",u).style("stroke-miterlimit",1),v.exit().remove(),v.each(function(D,E){var R=Un.select(this),N=I2(g),F=N.colorscale,I=N.reversescale,L=function(X){if(X.size()){var $="legendfill-"+g.uid;ya.gradient(X,t,$,F2(I,c==="radial"),F,"fill")}},P;if(F){if(!c){var U=F.length;P=E===0?F[I?U-1:0][1]:E===1?F[I?0:U-1][1]:F[Math.floor((U-1)/2)][1]}}else{var O=g.vertexcolor||g.facecolor||g.color;P=Ln.isArrayOrTypedArray(O)?O[E]||O[0]:O}R.attr("d",D[0]),P?R.call(Pa.fill,P):R.call(L)})}};function F2(e,r){var t=r?"radial":"horizontal";return t+(e?"":"reversed")}function wT(e){var r=e[0].trace,t=r.contours,n=sv.hasLines(r),a=sv.hasMarkers(r),o=r.visible&&r.fill&&r.fill!=="none",i=!1,l=!1;if(t){var u=t.coloring;u==="lines"?i=!0:n=u==="none"||u==="heatmap"||t.showlines,t.type==="constraint"?o=t._operation!=="=":(u==="fill"||u==="heatmap")&&(l=!0)}return{showMarker:a,showLine:n,showFill:o,showGradientLine:i,showGradientFill:l,anyLine:n||i,anyFill:o||l}}function MT(e,r,t){return e&&Ln.isArrayOrTypedArray(e)?r:e>t?t:e}});var B2=de((xhe,PT)=>{"use strict";var Xn=it(),Gt=ir(),q2=ln(),rs=Er(),cv=Sf(),z2=oi(),Yt=mt(),Zf=Xr(),ts=On(),AT=E2().handleItemClick,kT=E2().handleTitleClick,Kt=L2(),O2=Cn(),DT=O2.LINE_SPACING,gu=O2.FROM_TL,ST=O2.FROM_BR,CT=cT(),_Z=N2(),yu=Xf(),pu=1,wZ=/^legend[0-9]*$/;PT.exports=function(r,t){if(t)ET(r,t);else{var n=r._fullLayout,a=n._legends,o=n._infolayer.selectAll('[class^="legend"]');o.each(function(){var s=Xn.select(this),f=s.attr("class"),h=f.split(" ")[0];h.match(wZ)&&a.indexOf(h)===-1&&s.remove()});for(var i=0;i<a.length;i++){var l=a[i],u=r._fullLayout[l];ET(r,u)}}};function MZ(e,r,t){if(!(r.title.side!=="top center"&&r.title.side!=="top right")){var n=r.title.font,a=n.size*DT,o=0,i=e.node(),l=Yt.bBox(i).width;r.title.side==="top center"?o=.5*(r._width-2*t-2*Kt.titlePad-l):r.title.side==="top right"&&(o=r._width-2*t-2*Kt.titlePad-l),ts.positionText(e,t+Kt.titlePad+o,t+a)}}function ET(e,r){var t=r||{},n=e._fullLayout,a=yu.getId(t),o,i,l=t._inHover;if(l?(i=t.layer,o="hover"):(i=n._infolayer,o=a),!!i){o+=n._uid,e._legendMouseDownTime||(e._legendMouseDownTime=0);var u;if(l){if(!t.entries)return;u=CT(t.entries,t)}else{for(var s=(e.calcdata||[]).slice(),f=n.shapes,h=0;h<f.length;h++){var p=f[h];if(p.showlegend){var b={_isShape:!0,_fullInput:p,index:p._index,name:p.name||p.label.text||"shape "+p._index,legend:p.legend,legendgroup:p.legendgroup,legendgrouptitle:p.legendgrouptitle,legendrank:p.legendrank,legendwidth:p.legendwidth,showlegend:p.showlegend,visible:p.visible,opacity:p.opacity,mode:p.type==="line"?"lines":"markers",line:p.line,marker:{line:p.line,color:p.fillcolor,size:12,symbol:p.type==="rect"?"square":p.type==="circle"?"circle":"hexagon2"}};s.push([{trace:b}])}}u=n.showlegend&&CT(s,t,n._legends.length>1)}var y=n.hiddenlabels||[];if(!l&&(!n.showlegend||!u.length))return i.selectAll("."+a).remove(),n._topdefs.select("#"+o).remove(),q2.autoMargin(e,a);var w=Gt.ensureSingle(i,"g",a,function(g){l||g.attr("pointer-events","all")}),T=Gt.ensureSingleById(n._topdefs,"clipPath",o,function(g){g.append("rect")}),m=Gt.ensureSingle(w,"rect","bg",function(g){g.attr("shape-rendering","crispEdges")});m.call(Zf.stroke,t.bordercolor).call(Zf.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px");var k=Gt.ensureSingle(w,"g","scrollbox"),S=t.title;t._titleWidth=0,t._titleHeight=0;var x;S.text?(x=Gt.ensureSingle(k,"text",a+"titletext"),x.attr("text-anchor","start").call(Yt.font,S.font).text(S.text),fv(x,k,e,t,pu),!l&&(t.titleclick||t.titledoubleclick)&&kZ(k,e,t,a)):(k.selectAll("."+a+"titletext").remove(),k.selectAll("."+a+"titletoggle").remove());var M=Gt.ensureSingle(w,"rect","scrollbar",function(g){g.attr(Kt.scrollBarEnterAttrs).call(Zf.fill,Kt.scrollBarColor)}),d=k.selectAll("g.groups").data(u);d.enter().append("g").attr("class","groups"),d.exit().remove();var _=d.selectAll("g.traces").data(Gt.identity);_.enter().append("g").attr("class","traces"),_.exit().remove(),_.style("opacity",function(g){let c=g[0],A=c.trace;if(c.groupTitle){let v=A.legendgroup,D=(n.shapes||[]).filter(function(R){return R.showlegend});return e._fullData.concat(D).some(function(R){return R.legendgroup===v&&(R.legend||"legend")===a&&R.visible===!0})?1:.5}return rs.traceIs(A,"pie-like")?y.indexOf(g[0].label)!==-1?.5:1:A.visible==="legendonly"?.5:1}).each(function(){Xn.select(this).call(TZ,e,t)}).call(_Z,e,t).each(function(g){l||g[0].groupTitle&&t.groupclick==="toggleitem"||Xn.select(this).call(AZ,e,a)}),Gt.syncOrAsync([q2.previousPromises,function(){return EZ(e,d,_,t,k)},function(){var g=n._size,c=t.borderwidth,A=t.xref==="paper",v=t.yref==="paper";if(S.text){let te=(n.shapes||[]).filter(function(ve){return ve.showlegend}),le=e._fullData.concat(te).some(function(ve){let Ae=ve.legend||"legend";var we=Array.isArray(Ae)?Ae.includes(a):Ae===a;return we&&ve.visible===!0});x.style("opacity",le?1:.5)}if(!l){var D,E;A?D=g.l+g.w*t.x-gu[hv(t)]*t._width:D=n.width*t.x-gu[hv(t)]*t._width,v?E=g.t+g.h*(1-t.y)-gu[vv(t)]*t._effHeight:E=n.height*(1-t.y)-gu[vv(t)]*t._effHeight;var R=LZ(e,a,D,E);if(R)return;if(n.margin.autoexpand){var N=D,F=E;D=A?Gt.constrain(D,0,n.width-t._width):N,E=v?Gt.constrain(E,0,n.height-t._effHeight):F,D!==N&&Gt.log("Constrain "+a+".x to make legend fit inside graph"),E!==F&&Gt.log("Constrain "+a+".y to make legend fit inside graph")}Yt.setTranslate(w,D,E)}if(M.on(".drag",null),w.on("wheel",null),l||t._height<=t._maxHeight||e._context.staticPlot){var I=t._effHeight;l&&(I=t._height),m.attr({width:t._width-c,height:I-c,x:c/2,y:c/2}),Yt.setTranslate(k,0,0),T.select("rect").attr({width:t._width-2*c,height:I-2*c,x:c,y:c}),Yt.setClipUrl(k,o,e),Yt.setRect(M,0,0,0,0),delete t._scrollY}else{var L=Math.max(Kt.scrollBarMinHeight,t._effHeight*t._effHeight/t._height),P=t._effHeight-L-2*Kt.scrollBarMargin,O=t._height-t._effHeight,U=P/O,X=Math.min(t._scrollY||0,O);m.attr({width:t._width-2*c+Kt.scrollBarWidth+Kt.scrollBarMargin,height:t._effHeight-c,x:c/2,y:c/2}),T.select("rect").attr({width:t._width-2*c+Kt.scrollBarWidth+Kt.scrollBarMargin,height:t._effHeight-2*c,x:c,y:c+X}),Yt.setClipUrl(k,o,e),oe(X,L,U),w.on("wheel",function(){X=Gt.constrain(t._scrollY+Xn.event.deltaY/O*P,0,O),oe(X,L,U),X!==0&&X!==O&&Xn.event.preventDefault()});var $,j,Y,q=function(te,le,ve){var Ae=(ve-le)/U+te;return Gt.constrain(Ae,0,O)},Q=function(te,le,ve){var Ae=(le-ve)/U+te;return Gt.constrain(Ae,0,O)},ae=Xn.behavior.drag().on("dragstart",function(){var te=Xn.event.sourceEvent;te.type==="touchstart"?$=te.changedTouches[0].clientY:$=te.clientY,Y=X}).on("drag",function(){var te=Xn.event.sourceEvent;te.buttons===2||te.ctrlKey||(te.type==="touchmove"?j=te.changedTouches[0].clientY:j=te.clientY,X=q(Y,$,j),oe(X,L,U))});M.call(ae);var K=Xn.behavior.drag().on("dragstart",function(){var te=Xn.event.sourceEvent;te.type==="touchstart"&&($=te.changedTouches[0].clientY,Y=X)}).on("drag",function(){var te=Xn.event.sourceEvent;te.type==="touchmove"&&(j=te.changedTouches[0].clientY,X=Q(Y,$,j),oe(X,L,U))});k.call(K)}function oe(te,le,ve){t._scrollY=e._fullLayout[a]._scrollY=te,Yt.setTranslate(k,0,-te),Yt.setRect(M,t._width,Kt.scrollBarMargin+te*ve,Kt.scrollBarWidth,le),T.select("rect").attr("y",c+te)}if(e._context.edits.legendPosition){var re,V,ee,H;w.classed("cursor-move",!0),z2.init({element:w.node(),gd:e,prepFn:function(te){if(te.target!==M.node()){var le=Yt.getTranslate(w);ee=le.x,H=le.y}},moveFn:function(te,le){if(ee!==void 0&&H!==void 0){var ve=ee+te,Ae=H+le;Yt.setTranslate(w,ve,Ae),re=z2.align(ve,t._width,g.l,g.l+g.w,t.xanchor),V=z2.align(Ae+t._height,-t._height,g.t+g.h,g.t,t.yanchor)}},doneFn:function(){if(re!==void 0&&V!==void 0){var te={};te[a+".x"]=re,te[a+".y"]=V,rs.call("_guiRelayout",e,te)}},clickFn:function(te,le){var ve=i.selectAll("g.traces").filter(function(){var Ae=this.getBoundingClientRect();return le.clientX>=Ae.left&&le.clientX<=Ae.right&&le.clientY>=Ae.top&&le.clientY<=Ae.bottom});ve.size()>0&&RT(e,t,ve,te,le)}})}}],e)}}function uv(e,r,t){var n=e[0],a=n.width,o=r.entrywidthmode,i=n.trace.legendwidth||r.entrywidth;return o==="fraction"?r._maxWidth*i:t+(i||a)}function RT(e,r,t,n,a){var o=e._fullLayout,i=t.data()[0][0].trace,l=r.itemclick,u=r.itemdoubleclick,s={event:a,node:t.node(),curveNumber:i.index,expandedIndex:i.index,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:o};i._group&&(s.group=i._group),rs.traceIs(i,"pie-like")&&(s.label=t.datum()[0].label);var f=cv.triggerHandler(e,"plotly_legendclick",s);if(n===1){if(f===!1)return;r._clickTimeout=setTimeout(function(){e._fullLayout&&l&&AT(t,e,r,l)},e._context.doubleClickDelay)}else if(n===2){r._clickTimeout&&clearTimeout(r._clickTimeout),e._legendMouseDownTime=0;var h=cv.triggerHandler(e,"plotly_legenddoubleclick",s);h!==!1&&f!==!1&&u&&AT(t,e,r,u)}}function TZ(e,r,t){var n=yu.getId(t),a=e.data()[0][0],o=a.trace,i=rs.traceIs(o,"pie-like"),l=!t._inHover&&r._context.edits.legendText&&!i,u=t._maxNameLength,s,f;a.groupTitle?(s=a.groupTitle.text,f=a.groupTitle.font):(f=t.font,t.entries?s=a.text:(s=i?a.label:o.name,o._meta&&(s=Gt.templateString(s,o._meta))));var h=Gt.ensureSingle(e,"text",n+"text");h.attr("text-anchor","start").call(Yt.font,f).text(l?LT(s,u):s);var p=t.indentation+t.itemwidth+Kt.itemGap*2;ts.positionText(h,p,0),l?h.call(ts.makeEditable,{gd:r,text:s}).call(fv,e,r,t).on("edit",function(b){this.text(LT(b,u)).call(fv,e,r,t);var y=a.trace._fullInput||{},w={};return w.name=b,y._isShape?rs.call("_guiRelayout",r,"shapes["+o.index+"].name",w.name):rs.call("_guiRestyle",r,w,o.index)}):fv(h,e,r,t)}function LT(e,r){var t=Math.max(4,r);if(e&&e.trim().length>=t/2)return e;e=e||"";for(var n=t-e.length;n>0;n--)e+=" ";return e}function AZ(e,r,t){var n=r._context.doubleClickDelay,a,o=1,i=Gt.ensureSingle(e,"rect",t+"toggle",function(l){r._context.staticPlot||l.style("cursor","pointer").attr("pointer-events","all"),l.call(Zf.fill,"rgba(0,0,0,0)")});r._context.staticPlot||(i.on("mousedown",function(){a=new Date().getTime(),a-r._legendMouseDownTime<n?o+=1:(o=1,r._legendMouseDownTime=a)}),i.on("mouseup",function(){if(!(r._dragged||r._editing)){var l=r._fullLayout[t];new Date().getTime()-r._legendMouseDownTime>n&&(o=Math.max(o-1,1)),RT(r,l,e,o,Xn.event)}}))}function kZ(e,r,t,n){if(r._fullData.some(function(s){let f=s.legend||"legend";return(Array.isArray(f)?f.includes(n):f===n)&&rs.traceIs(s,"pie-like")}))return;let o=r._context.doubleClickDelay;var i,l=1;let u=Gt.ensureSingle(e,"rect",n+"titletoggle",function(s){r._context.staticPlot||s.style("cursor","pointer").attr("pointer-events","all"),s.call(Zf.fill,"rgba(0,0,0,0)")});r._context.staticPlot||(u.on("mousedown",function(){i=new Date().getTime(),i-r._legendMouseDownTime<o?l+=1:(l=1,r._legendMouseDownTime=i)}),u.on("mouseup",function(){if(r._dragged||r._editing)return;new Date().getTime()-r._legendMouseDownTime>o&&(l=Math.max(l-1,1));let s={event:Xn.event,legendId:n,data:r.data,layout:r.layout,fullData:r._fullData,fullLayout:r._fullLayout};if(l===1&&t.titleclick){if(cv.triggerHandler(r,"plotly_legendtitleclick",s)===!1)return;t._titleClickTimeout=setTimeout(function(){r._fullLayout&&kT(r,t,t.titleclick)},o)}else l===2&&(t._titleClickTimeout&&clearTimeout(t._titleClickTimeout),r._legendMouseDownTime=0,cv.triggerHandler(r,"plotly_legendtitledoubleclick",s)!==!1&&t.titledoubleclick&&kT(r,t,t.titledoubleclick))}))}function fv(e,r,t,n,a){n._inHover&&e.attr("data-notex",!0),ts.convertToTspans(e,t,function(){SZ(r,t,n,a)})}function SZ(e,r,t,n){var a=e.data()[0][0],o=a&&a.trace.showlegend;if(Array.isArray(o)&&(o=o[a.i]!==!1),!t._inHover&&a&&!o){e.remove();return}var i=e.select("g[class*=math-group]"),l=i.node(),u=yu.getId(t);t||(t=r._fullLayout[u]);var s=t.borderwidth,f;n===pu?f=t.title.font:a.groupTitle?f=a.groupTitle.font:f=t.font;var h=f.size*DT,p,b;if(l){var y=Yt.bBox(l);p=y.height,b=y.width,n===pu?Yt.setTranslate(i,s,s+p*.75):Yt.setTranslate(i,0,p*.25)}else{var w="."+u+(n===pu?"title":"")+"text",T=e.select(w),m=ts.lineCount(T),k=T.node();if(p=h*m,b=k?Yt.bBox(k).width:0,n===pu)t.title.side==="left"&&(b+=Kt.itemGap*2),ts.positionText(T,s+Kt.titlePad,s+h);else{var S=Kt.itemGap*2+t.indentation+t.itemwidth;a.groupTitle&&(S=Kt.itemGap,b-=t.indentation+t.itemwidth),ts.positionText(T,S,-h*((m-1)/2-.3))}}n===pu?(t._titleWidth=b,t._titleHeight=p):(a.lineHeight=h,a.height=Math.max(p,16)+3,a.width=b)}function CZ(e){var r=0,t=0,n=e.title.side;return n&&(n.indexOf("left")!==-1&&(r=e._titleWidth),n.indexOf("top")!==-1&&(t=e._titleHeight)),[r,t]}function EZ(e,r,t,n,a){var o=e._fullLayout,i=yu.getId(n);n||(n=o[i]);var l=o._size,u=yu.isVertical(n),s=yu.isGrouped(n),f=n.entrywidthmode==="fraction",h=n.borderwidth,p=2*h,b=Kt.itemGap,y=n.indentation+n.itemwidth+b*2,w=2*(h+b),T=vv(n),m=n.y<0||n.y===0&&T==="top",k=n.y>1||n.y===1&&T==="bottom",S=n.tracegroupgap,x={};let{orientation:M,yref:d}=n,{maxheight:_}=n,g=m||k||M!=="v"||d!=="paper";_||(_=g?.5:1);let c=g?o.height:l.h;n._maxHeight=Math.max(_>1?_:_*c,30);var A=0;n._width=0,n._height=0;var v=CZ(n);if(u)t.each(function(te){var le=te[0].height;Yt.setTranslate(this,h+v[0],h+v[1]+n._height+le/2+b),n._height+=le,n._width=Math.max(n._width,te[0].width)}),A=y+n._width,n._width+=b+y+p,n._height+=w,s&&(r.each(function(te,le){Yt.setTranslate(this,0,le*n.tracegroupgap)}),n._height+=(n._lgroupsLength-1)*n.tracegroupgap);else{var D=hv(n),E=n.x<0||n.x===0&&D==="right",R=n.x>1||n.x===1&&D==="left",N=k||m,F=o.width/2;n._maxWidth=Math.max(E?N&&D==="left"?l.l+l.w:F:R?N&&D==="right"?l.r+l.w:F:l.w,2*y);var I=0,L=0;t.each(function(te){var le=uv(te,n,y);I=Math.max(I,le),L+=le}),A=null;var P=0;if(s){var O=0,U=0,X=0;r.each(function(){var te=0,le=0;Xn.select(this).selectAll("g.traces").each(function(Ae){var we=uv(Ae,n,y),ce=Ae[0].height;Yt.setTranslate(this,v[0],v[1]+h+b+ce/2+le),le+=ce,te=Math.max(te,we),x[Ae[0].trace.legendgroup]=te});var ve=te+b;U>0&&ve+h+U>n._maxWidth?(P=Math.max(P,U),U=0,X+=O+S,O=le):O=Math.max(O,le),Yt.setTranslate(this,U,X),U+=ve}),n._width=Math.max(P,U)+h,n._height=X+O+w}else{var $=t.size(),j=L+p+($-1)*b<n._maxWidth,Y=0,q=0,Q=0,ae=0;t.each(function(te){var le=te[0].height,ve=uv(te,n,y,s),Ae=j?ve:I;f||(Ae+=b),Ae+h+q-b>=n._maxWidth&&(P=Math.max(P,ae),q=0,Q+=Y,n._height+=Y,Y=0),Yt.setTranslate(this,v[0]+h+q,v[1]+h+Q+le/2+b),ae=q+ve+b,q+=Ae,Y=Math.max(Y,le)}),j?(n._width=q+p,n._height=Y+w):(n._width=Math.max(P,ae)+p,n._height+=Y+w)}}n._width=Math.ceil(Math.max(n._width+v[0],n._titleWidth+2*(h+Kt.titlePad))),n._height=Math.ceil(Math.max(n._height+v[1],n._titleHeight+2*(h+Kt.itemGap))),n._effHeight=Math.min(n._height,n._maxHeight);var K=e._context.edits,oe=K.legendText||K.legendPosition;t.each(function(te){var le=Xn.select(this).select("."+i+"toggle"),ve=te[0].height,Ae=te[0].trace.legendgroup,we=uv(te,n,y);s&&Ae!==""&&(we=x[Ae]);var ce=oe?y:A||we;!u&&!f&&(ce+=b/2),Yt.setRect(le,0,-ve/2,ce,ve)});var re=a.select("."+i+"titletext");re.node()&&MZ(re,n,h);var V=a.select("."+i+"titletoggle");if(V.size()&&re.node()){var ee=re.attr("x")||0,H=Kt.titlePad;Yt.setRect(V,ee-H,h,n._titleWidth+2*H,n._titleHeight+2*H)}}function LZ(e,r,t,n){var a=e._fullLayout,o=a[r],i=hv(o),l=vv(o),u=o.xref==="paper",s=o.yref==="paper";e._fullLayout._reservedMargin[r]={};var f=o.y<.5?"b":"t",h=o.x<.5?"l":"r",p={r:a.width-t,l:t+o._width,b:a.height-n,t:n+o._effHeight};if(u&&s)return q2.autoMargin(e,r,{x:o.x,y:o.y,l:o._width*gu[i],r:o._width*ST[i],b:o._effHeight*ST[l],t:o._effHeight*gu[l]});u?e._fullLayout._reservedMargin[r][f]=p[f]:s||o.orientation==="v"?e._fullLayout._reservedMargin[r][h]=p[h]:e._fullLayout._reservedMargin[r][f]=p[f]}function hv(e){return Gt.isRightAnchor(e)?"right":Gt.isCenterAnchor(e)?"center":"left"}function vv(e){return Gt.isBottomAnchor(e)?"bottom":Gt.isMiddleAnchor(e)?"middle":"top"}});var G2=de(V2=>{"use strict";var ns=it(),uo=nt(),IT=Sa(),It=ir(),DZ=It.pushUnique,U2=It.strTranslate,RZ=It.strRotate,PZ=Sf(),Ia=On(),IZ=aT(),qi=mt(),un=Xr(),dv=oi(),Oi=Lt(),FZ=on().zindexSeparator,xu=Er(),li=so(),as=pf(),NZ=k2(),zZ=B2(),HT=as.YANGLE,H2=Math.PI*HT/180,qZ=1/Math.sin(H2),OZ=Math.cos(H2),BZ=Math.sin(H2),St=as.HOVERARROWSIZE,Qr=as.HOVERTEXTPAD,FT={box:!0,ohlc:!0,violin:!0,candlestick:!0},UZ={scatter:!0,scattergl:!0,splom:!0};function NT(e,r){return e.distance-r.distance}V2.hover=function(r,t,n,a){r=It.getGraphDiv(r);var o=t.target;It.throttle(r._fullLayout._uid+as.HOVERID,as.HOVERMINTIME,function(){HZ(r,t,n,a,o)})};V2.loneHover=function(r,t){var n=!0;Array.isArray(r)||(n=!1,r=[r]);var a=t.gd,o=XT(a),i=ZT(a),l=r.map(function(T){var m=T._x0||T.x0||T.x||0,k=T._x1||T.x1||T.x||0,S=T._y0||T.y0||T.y||0,x=T._y1||T.y1||T.y||0,M=T.eventData;if(M){var d=Math.min(m,k),_=Math.max(m,k),g=Math.min(S,x),c=Math.max(S,x),A=T.trace;if(xu.traceIs(A,"gl3d")){var v=a._fullLayout[A.scene]._scene.container,D=v.offsetLeft,E=v.offsetTop;d+=D,_+=D,g+=E,c+=E}M.bbox={x0:d+i,x1:_+i,y0:g+o,y1:c+o},t.inOut_bbox&&t.inOut_bbox.push(M.bbox)}else M=!1;return{color:T.color||un.defaultLine,x0:T.x0||T.x||0,x1:T.x1||T.x||0,y0:T.y0||T.y||0,y1:T.y1||T.y||0,xLabel:T.xLabel,yLabel:T.yLabel,zLabel:T.zLabel,text:T.text,name:T.name,idealAlign:T.idealAlign,borderColor:T.borderColor,fontFamily:T.fontFamily,fontSize:T.fontSize,fontColor:T.fontColor,fontWeight:T.fontWeight,fontStyle:T.fontStyle,fontVariant:T.fontVariant,nameLength:T.nameLength,textAlign:T.textAlign,trace:T.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:T.hovertemplate||!1,hovertemplateLabels:T.hovertemplateLabels||!1,eventData:M}}),u=!1,s=GT(l,{gd:a,hovermode:"closest",rotateLabels:u,bgColor:t.bgColor||un.background,container:ns.select(t.container),outerContainer:t.outerContainer||t.container}),f=s.hoverLabels,h=5,p=0,b=0;f.sort(function(T,m){return T.y0-m.y0}).each(function(T,m){var k=T.y0-T.by/2;k-h<p?T.offset=p-k+h:T.offset=0,p=k+T.by+T.offset,m===t.anchorIndex&&(b=T.offset)}).each(function(T){T.offset-=b});var y=a._fullLayout._invScaleX,w=a._fullLayout._invScaleY;return WT(f,u,y,w),n?f:f.node()};function HZ(e,r,t,n,a){t||(t="xy"),typeof t=="string"&&(t=t.split(FZ)[0]);var o=Array.isArray(t)?t:[t],i,l=e._fullLayout,u=l.hoversubplots,s=l._plots||[],f=s[t],h=l._has("cartesian"),p=r.hovermode||l.hovermode,b=(p||"").charAt(0)==="x",y=(p||"").charAt(0)==="y",w,T;if(h&&(b||y)&&u==="axis"){for(var m=o.length,k=0;k<m;k++)if(i=o[k],s[i]){w=Oi.getFromId(e,i,"x"),T=Oi.getFromId(e,i,"y");var S=(b?w:T)._subplotsWith;if(S&&S.length)for(var x=0;x<S.length;x++)DZ(o,S[x])}}if(f&&u!=="single"){var M=f.overlays.map(function(sr){return sr.id});o=o.concat(M)}for(var d=o.length,_=new Array(d),g=new Array(d),c=!1,A=0;A<d;A++)if(i=o[A],s[i])c=!0,_[A]=s[i].xaxis,g[A]=s[i].yaxis;else if(l[i]&&l[i]._subplot){var v=l[i]._subplot;_[A]=v.xaxis,g[A]=v.yaxis}else{It.warn("Unrecognized subplot: "+i);return}if(p&&!c&&(p="closest"),["x","y","closest","x unified","y unified"].indexOf(p)===-1||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return dv.unhoverRaw(e,r);var D=l.hoverdistance;D===-1&&(D=1/0);var E=l.spikedistance;E===-1&&(E=1/0);var R=[],N=[],F,I,L,P,O,U,X,$,j,Y,q,Q,ae,K={hLinePoint:null,vLinePoint:null},oe=!1;if(Array.isArray(r))for(p="array",L=0;L<r.length;L++)O=e.calcdata[r[L].curveNumber||0],O&&(U=O[0].trace,O[0].trace.hoverinfo!=="skip"&&(N.push(O),U.orientation==="h"&&(oe=!0)));else{var re=e.calcdata.slice();for(re.sort(function(sr,Pr){var $r=sr[0].trace.zorder||0,Fr=Pr[0].trace.zorder||0;return $r-Fr}),P=0;P<re.length;P++)O=re[P],U=O[0].trace,U.hoverinfo!=="skip"&&li.isTraceInSubplots(U,o)&&(N.push(O),U.orientation==="h"&&(oe=!0));var V=!a,ee,H;if(V)"xpx"in r?ee=r.xpx:ee=_[0]._length/2,"ypx"in r?H=r.ypx:H=g[0]._length/2;else{if(PZ.triggerHandler(e,"plotly_beforehover",r)===!1)return;var te=a.getBoundingClientRect();ee=r.clientX-te.left,H=r.clientY-te.top,l._calcInverseTransform(e);var le=It.apply3DTransform(l._invTransform)(ee,H);if(ee=le[0],H=le[1],ee<0||ee>_[0]._length||H<0||H>g[0]._length)return dv.unhoverRaw(e,r)}if(r.pointerX=ee+_[0]._offset,r.pointerY=H+g[0]._offset,"xval"in r?F=li.flat(o,r.xval):F=li.p2c(_,ee),"yval"in r?I=li.flat(o,r.yval):I=li.p2c(g,H),!uo(F[0])||!uo(I[0]))return It.warn("Fx.hover failed",r,e),dv.unhoverRaw(e,r)}var ve=1/0;function Ae(sr,Pr){for(P=0;P<N.length;P++)if(O=N[P],!(!O||!O[0]||!O[0].trace)&&(U=O[0].trace,!(U.visible!==!0||U._length===0)&&["carpet","contourcarpet"].indexOf(U._module.name)===-1)){if(j=p,li.isUnifiedHover(j)&&(j=j.charAt(0)),U.type==="splom"?($=0,X=o[$]):(X=li.getSubplot(U),$=o.indexOf(X)),Q={cd:O,trace:U,xa:_[$],ya:g[$],maxHoverDistance:D,maxSpikeDistance:E,index:!1,distance:Math.min(ve,D),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:un.defaultLine,name:U.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},l[X]&&(Q.subplot=l[X]._subplot),l._splomScenes&&l._splomScenes[U.uid]&&(Q.scene=l._splomScenes[U.uid]),j==="array"){var $r=r[P];"pointNumber"in $r?(Q.index=$r.pointNumber,j="closest"):(j="","xval"in $r&&(Y=$r.xval,j="x"),"yval"in $r&&(q=$r.yval,j=j?"closest":"y"))}else sr!==void 0&&Pr!==void 0?(Y=sr,q=Pr):(Y=F[$],q=I[$]);if(ae=R.length,D!==0)if(U._module&&U._module.hoverPoints){var Fr=U._module.hoverPoints(Q,Y,q,j,{finiteRange:!0,hoverLayer:l._hoverlayer,hoversubplots:u,gd:e});if(Fr)for(var Gr,pt=0;pt<Fr.length;pt++)Gr=Fr[pt],uo(Gr.x0)&&uo(Gr.y0)&&R.push(WZ(Gr,p))}else It.log("Unrecognized trace type in hover:",U);if(p==="closest"&&R.length>ae&&(R.splice(0,ae),ve=R[0].distance),h&&E!==0&&R.length===0){Q.distance=E,Q.index=!1;var Rr=U._module.hoverPoints(Q,Y,q,"closest",{hoverLayer:l._hoverlayer});if(Rr&&(Rr=Rr.filter(function(bt){return bt.spikeDistance<=E})),Rr&&Rr.length){var jr,vn=Rr.filter(function(bt){return bt.xa.showspikes&&bt.xa.spikesnap!=="hovered data"});if(vn.length){var Et=vn[0];uo(Et.x0)&&uo(Et.y0)&&(jr=ce(Et),(!K.vLinePoint||K.vLinePoint.spikeDistance>jr.spikeDistance)&&(K.vLinePoint=jr))}var Tn=Rr.filter(function(bt){return bt.ya.showspikes&&bt.ya.spikesnap!=="hovered data"});if(Tn.length){var Ot=Tn[0];uo(Ot.x0)&&uo(Ot.y0)&&(jr=ce(Ot),(!K.hLinePoint||K.hLinePoint.spikeDistance>jr.spikeDistance)&&(K.hLinePoint=jr))}}}}}Ae();function we(sr,Pr,$r){for(var Fr=null,Gr=1/0,pt,Rr=0;Rr<sr.length;Rr++)w&&w._id!==sr[Rr].xa._id||T&&T._id!==sr[Rr].ya._id||(pt=sr[Rr].spikeDistance,$r&&Rr===0&&(pt=-1/0),pt<=Gr&&pt<=Pr&&(Fr=sr[Rr],Gr=pt));return Fr}function ce(sr){return sr?{xa:sr.xa,ya:sr.ya,x:sr.xSpike!==void 0?sr.xSpike:(sr.x0+sr.x1)/2,y:sr.ySpike!==void 0?sr.ySpike:(sr.y0+sr.y1)/2,distance:sr.distance,spikeDistance:sr.spikeDistance,curveNumber:sr.trace.index,color:sr.color,pointNumber:sr.index}:null}var Se={fullLayout:l,container:l._hoverlayer,event:r},Ce=e._spikepoints,Fe={vLinePoint:K.vLinePoint,hLinePoint:K.hLinePoint};e._spikepoints=Fe;var Ee=function(){var sr=R.filter(function($r){return w&&w._id===$r.xa._id&&T&&T._id===$r.ya._id}),Pr=R.filter(function($r){return!(w&&w._id===$r.xa._id&&T&&T._id===$r.ya._id)});sr.sort(NT),Pr.sort(NT),R=sr.concat(Pr),R=ZZ(R,p)};Ee();var ze=p.charAt(0),Ue=(ze==="x"||ze==="y")&&R[0]&&UZ[R[0].trace.type];if(h&&E!==0&&R.length!==0){var ge=R.filter(function(sr){return sr.ya.showspikes}),Me=we(ge,E,Ue);K.hLinePoint=ce(Me);var ke=R.filter(function(sr){return sr.xa.showspikes}),me=we(ke,E,Ue);K.vLinePoint=ce(me)}if(R.length===0){var ye=dv.unhoverRaw(e,r);return h&&(K.hLinePoint!==null||K.vLinePoint!==null)&&OT(Ce)&&qT(e,K,Se),ye}if(h&&OT(Ce)&&qT(e,K,Se),li.isXYhover(j)&&R[0].length!==0&&R[0].trace.type!=="splom"){var pe=R[0];FT[pe.trace.type]?R=R.filter(sr=>sr.trace.index===pe.trace.index):R=[pe];var he=R.length,xe=UT("x",pe,l),Le=UT("y",pe,l);Ae(xe,Le);var qe=[],Ne={},$e=0,Ve=function(sr){var Pr=FT[sr.trace.type]?VT(sr):sr.trace.index;if(!Ne[Pr])$e++,Ne[Pr]=$e,qe.push(sr);else{var $r=Ne[Pr]-1,Fr=qe[$r];$r>0&&Math.abs(sr.distance)<Math.abs(Fr.distance)&&(qe[$r]=sr)}},Be;for(Be=0;Be<he;Be++)Ve(R[Be]);for(Be=R.length-1;Be>he-1;Be--)Ve(R[Be]);R=qe,Ee()}var Ye=e._hoverdata,Te=[],Re=XT(e),Qe=ZT(e);for(let sr of R){var Ke=li.makeEventData(sr,sr.trace,sr.cd);if(sr.hovertemplate!==!1){var ar=!1;sr.cd[sr.index]&&sr.cd[sr.index].ht&&(ar=sr.cd[sr.index].ht),sr.hovertemplate=ar||sr.trace.hovertemplate||!1}if(sr.xa&&sr.ya){var ue=sr.x0+sr.xa._offset,J=sr.x1+sr.xa._offset,ne=sr.y0+sr.ya._offset,De=sr.y1+sr.ya._offset,He=Math.min(ue,J),er=Math.max(ue,J),nr=Math.min(ne,De),fr=Math.max(ne,De);Ke.bbox={x0:He+Qe,x1:er+Qe,y0:nr+Re,y1:fr+Re}}sr.eventData=[Ke],Te.push(Ke)}e._hoverdata=Te;var br=p==="y"&&(N.length>1||R.length>1)||p==="closest"&&oe&&R.length>1,Sr=un.combine(l.plot_bgcolor||un.background,l.paper_bgcolor),Mr=GT(R,{gd:e,hovermode:p,rotateLabels:br,bgColor:Sr,container:l._hoverlayer,outerContainer:l._paper.node(),commonLabelOpts:l.hoverlabel,hoverdistance:l.hoverdistance}),Ar=Mr.hoverLabels;if(li.isUnifiedHover(p)||(GZ(Ar,br,l,Mr.commonLabelBoundingBox),WT(Ar,br,l._invScaleX,l._invScaleY)),a&&a.tagName){var ft=xu.getComponentMethod("annotations","hasClickToShow")(e,Te);IZ(ns.select(a),ft?"pointer":"")}!a||n||!XZ(e,r,Ye)||(Ye&&e.emit("plotly_unhover",{event:r,points:Ye}),e.emit("plotly_hover",{event:r,points:e._hoverdata,xaxes:_,yaxes:g,xvals:F,yvals:I}))}function VT(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa?e.xa._id:"",e.ya?e.ya._id:""].join(",")}var VZ=/<extra>([\s\S]*)<\/extra>/;function GT(e,r){var t=r.gd,n=t._fullLayout,a=r.hovermode,o=r.rotateLabels,i=r.bgColor,l=r.container,u=r.outerContainer,s=r.commonLabelOpts||{};if(e.length===0)return[[]];var f=r.fontFamily||as.HOVERFONT,h=r.fontSize||as.HOVERFONTSIZE,p=r.fontWeight||n.font.weight,b=r.fontStyle||n.font.style,y=r.fontVariant||n.font.variant,w=r.fontTextcase||n.font.textcase,T=r.fontLineposition||n.font.lineposition,m=r.fontShadow||n.font.shadow,k=e[0],S=k.xa,x=k.ya,M=a.charAt(0),d=M+"Label",_=k[d];if(_===void 0&&S.type==="multicategory")for(var g=0;g<e.length&&(_=e[g][d],_===void 0);g++);var c=mu(t,u),A=c.top,v=c.width,D=c.height,E=_!==void 0&&k.distance<=r.hoverdistance&&(a==="x"||a==="y");if(E){var R=!0,N,F;for(N=0;N<e.length;N++)if(R&&e[N].zLabel===void 0&&(R=!1),F=e[N].hoverinfo||e[N].trace.hoverinfo,F){var I=Array.isArray(F)?F:F.split("+");if(I.indexOf("all")===-1&&I.indexOf(a)===-1){E=!1;break}}R&&(E=!1)}var L=l.selectAll("g.axistext").data(E?[0]:[]);L.enter().append("g").classed("axistext",!0),L.exit().remove();var P={minX:0,maxX:0,minY:0,maxY:0};if(L.each(function(){var ye=ns.select(this),pe=It.ensureSingle(ye,"path","",function(fr){fr.style({"stroke-width":"1px"})}),he=It.ensureSingle(ye,"text","",function(fr){fr.attr("data-notex",1)}),xe=s.bgcolor||un.defaultLine,Le=s.bordercolor||un.contrast(xe),qe=un.contrast(xe),Ne=s.font,$e={weight:Ne.weight||p,style:Ne.style||b,variant:Ne.variant||y,textcase:Ne.textcase||w,lineposition:Ne.lineposition||T,shadow:Ne.shadow||m,family:Ne.family||f,size:Ne.size||h,color:Ne.color||qe};pe.style({fill:xe,stroke:Le}),he.text(_).call(qi.font,$e).call(Ia.positionText,0,0).call(Ia.convertToTspans,t),ye.attr("transform","");var Ve=mu(t,he.node()),Be,Ye;if(a==="x"){var Te=S.side==="top"?"-":"";he.attr("text-anchor","middle").call(Ia.positionText,0,S.side==="top"?A-Ve.bottom-St-Qr:A-Ve.top+St+Qr),Be=S._offset+(k.x0+k.x1)/2,Ye=x._offset+(S.side==="top"?0:x._length);var Re=Ve.width/2+Qr,Qe=Be;Be<Re?Qe=Re:Be>n.width-Re&&(Qe=n.width-Re),pe.attr("d","M"+(Be-Qe)+",0L"+(Be-Qe+St)+","+Te+St+"H"+Re+"v"+Te+(Qr*2+Ve.height)+"H"+-Re+"V"+Te+St+"H"+(Be-Qe-St)+"Z"),Be=Qe,P.minX=Be-Re,P.maxX=Be+Re,S.side==="top"?(P.minY=Ye-(Qr*2+Ve.height),P.maxY=Ye-Qr):(P.minY=Ye+Qr,P.maxY=Ye+(Qr*2+Ve.height))}else{var Ke,ar,ue;x.side==="right"?(Ke="start",ar=1,ue="",Be=S._offset+S._length):(Ke="end",ar=-1,ue="-",Be=S._offset),Ye=x._offset+(k.y0+k.y1)/2,he.attr("text-anchor",Ke),pe.attr("d","M0,0L"+ue+St+","+St+"V"+(Qr+Ve.height/2)+"h"+ue+(Qr*2+Ve.width)+"V-"+(Qr+Ve.height/2)+"H"+ue+St+"V-"+St+"Z"),P.minY=Ye-(Qr+Ve.height/2),P.maxY=Ye+(Qr+Ve.height/2),x.side==="right"?(P.minX=Be+St,P.maxX=Be+St+(Qr*2+Ve.width)):(P.minX=Be-St-(Qr*2+Ve.width),P.maxX=Be-St);var J=Ve.height/2,ne=A-Ve.top-J,De="clip"+n._uid+"commonlabel"+x._id,He;if(Be<Ve.width+2*Qr+St){He="M-"+(St+Qr)+"-"+J+"h-"+(Ve.width-Qr)+"V"+J+"h"+(Ve.width-Qr)+"Z";var er=Ve.width-Be+Qr;Ia.positionText(he,er,ne),Ke==="end"&&he.selectAll("tspan").each(function(){var fr=ns.select(this),br=qi.tester.append("text").text(fr.text()).call(qi.font,$e),Sr=mu(t,br.node());Math.round(Sr.width)<Math.round(Ve.width)&&fr.attr("x",er-Sr.width),br.remove()})}else Ia.positionText(he,ar*(Qr+St),ne),He=null;var nr=n._topclips.selectAll("#"+De).data(He?[0]:[]);nr.enter().append("clipPath").attr("id",De).append("path"),nr.exit().remove(),nr.select("path").attr("d",He),qi.setClipUrl(he,He?De:null,t)}ye.attr("transform",U2(Be,Ye))}),li.isUnifiedHover(a)){l.selectAll("g.hovertext").remove();let ye=e.filter(pe=>pe.hoverinfo!=="none");if(ye.length===0)return[];var O=n.hoverlabel,U=O.font,X=ye[0],$=((a==="x unified"?X.xa:X.ya).unifiedhovertitle||{}).text,j=$?It.hovertemplateString({data:a==="x unified"?[{xa:X.xa,x:X.xVal}]:[{ya:X.ya,y:X.yVal}],fallback:X.trace.hovertemplatefallback,locale:n._d3locale,template:$}):_,Y={showlegend:!0,legend:{title:{text:j,font:U},font:U,bgcolor:O.bgcolor,bordercolor:O.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:n.legend?n.legend.traceorder:void 0,orientation:"v"}},q={font:U};NZ(Y,q,t._fullData);var Q=q.legend;Q.entries=[];for(var ae=0;ae<ye.length;ae++){var K=ye[ae];if(K.hoverinfo!=="none"){var oe=zT(K,!0,a,n,_),re=oe[0],V=oe[1];K.name=V,V!==""?K.text=V+" : "+re:K.text=re;var ee=K.cd[K.index];ee&&(ee.mc&&(K.mc=ee.mc),ee.mcc&&(K.mc=ee.mcc),ee.mlc&&(K.mlc=ee.mlc),ee.mlcc&&(K.mlc=ee.mlcc),ee.mlw&&(K.mlw=ee.mlw),ee.mrc&&(K.mrc=ee.mrc),ee.dir&&(K.dir=ee.dir)),K._distinct=!0,Q.entries.push([K])}}Q.entries.sort(function(pe,he){return pe[0].trace.index-he[0].trace.index}),Q.layer=l,Q._inHover=!0,Q._groupTitleFont=O.grouptitlefont,zZ(t,Q);var H=l.select("g.legend"),te=mu(t,H.node()),le=te.width+2*Qr,ve=te.height+2*Qr,Ae=ye[0],we=(Ae.x0+Ae.x1)/2,ce=(Ae.y0+Ae.y1)/2,Se=!(xu.traceIs(Ae.trace,"bar-like")||xu.traceIs(Ae.trace,"box-violin")),Ce,Fe;M==="y"?Se?(Fe=ce-Qr,Ce=ce+Qr):(Fe=Math.min.apply(null,ye.map(function(pe){return Math.min(pe.y0,pe.y1)})),Ce=Math.max.apply(null,ye.map(function(pe){return Math.max(pe.y0,pe.y1)}))):Fe=Ce=It.mean(ye.map(function(pe){return(pe.y0+pe.y1)/2}))-ve/2;var Ee,ze;M==="x"?Se?(Ee=we+Qr,ze=we-Qr):(Ee=Math.max.apply(null,ye.map(function(pe){return Math.max(pe.x0,pe.x1)})),ze=Math.min.apply(null,ye.map(function(pe){return Math.min(pe.x0,pe.x1)}))):Ee=ze=It.mean(ye.map(function(pe){return(pe.x0+pe.x1)/2}))-le/2;var Ue=S._offset,ge=x._offset;Ce+=ge,Ee+=Ue,ze+=Ue-le,Fe+=ge-ve;var Me,ke;return Ee+le<v&&Ee>=0?Me=Ee:ze+le<v&&ze>=0?Me=ze:Ue+le<v?Me=Ue:Ee-we<we-ze+le?Me=v-le:Me=0,Me+=Qr,Ce+ve<D&&Ce>=0?ke=Ce:Fe+ve<D&&Fe>=0?ke=Fe:ge+ve<D?ke=ge:Ce-ce<ce-Fe+ve?ke=D-ve:ke=0,ke+=Qr,H.attr("transform",U2(Me-1,ke-1)),H}var me=l.selectAll("g.hovertext").data(e,function(ye){return VT(ye)});return me.enter().append("g").classed("hovertext",!0).each(function(){var ye=ns.select(this);ye.append("rect").call(un.fill,un.addOpacity(i,.8)),ye.append("text").classed("name",!0),ye.append("path").style("stroke-width","1px"),ye.append("text").classed("nums",!0).call(qi.font,{weight:p,style:b,variant:y,textcase:w,lineposition:T,shadow:m,family:f,size:h})}),me.exit().remove(),me.each(function(ye){var pe=ns.select(this).attr("transform",""),he=ye.color;Array.isArray(he)&&(he=he[ye.eventData[0].pointNumber]);var xe=ye.bgcolor||he,Le=un.combine(un.opacity(xe)?xe:un.defaultLine,i),qe=un.combine(un.opacity(he)?he:un.defaultLine,i),Ne=ye.borderColor||un.contrast(Le),$e=zT(ye,E,a,n,_,pe),Ve=$e[0],Be=$e[1],Ye=pe.select("text.nums").call(qi.font,{family:ye.fontFamily||f,size:ye.fontSize||h,color:ye.fontColor||Ne,weight:ye.fontWeight||p,style:ye.fontStyle||b,variant:ye.fontVariant||y,textcase:ye.fontTextcase||w,lineposition:ye.fontLineposition||T,shadow:ye.fontShadow||m}).text(Ve).attr("data-notex",1).call(Ia.positionText,0,0).call(Ia.convertToTspans,t),Te=pe.select("text.name"),Re=0,Qe=0;if(Be&&Be!==Ve){Te.call(qi.font,{family:ye.fontFamily||f,size:ye.fontSize||h,color:qe,weight:ye.fontWeight||p,style:ye.fontStyle||b,variant:ye.fontVariant||y,textcase:ye.fontTextcase||w,lineposition:ye.fontLineposition||T,shadow:ye.fontShadow||m}).text(Be).attr("data-notex",1).call(Ia.positionText,0,0).call(Ia.convertToTspans,t);var Ke=mu(t,Te.node());Re=Ke.width+2*Qr,Qe=Ke.height+2*Qr}else Te.remove(),pe.select("rect").remove();pe.select("path").style({fill:Le,stroke:Ne});var ar=ye.xa._offset+(ye.x0+ye.x1)/2,ue=ye.ya._offset+(ye.y0+ye.y1)/2,J=Math.abs(ye.x1-ye.x0),ne=Math.abs(ye.y1-ye.y0),De=mu(t,Ye.node()),He=De.width/n._invScaleX,er=De.height/n._invScaleY;ye.ty0=(A-De.top)/n._invScaleY,ye.bx=He+2*Qr,ye.by=Math.max(er+2*Qr,Qe),ye.anchor="start",ye.txwidth=He,ye.tx2width=Re,ye.offset=0;var nr=(He+St+Qr+Re)*n._invScaleX,fr,br;if(o)ye.pos=ar,fr=ue+ne/2+nr<=D,br=ue-ne/2-nr>=0,(ye.idealAlign==="top"||!fr)&&br?(ue-=ne/2,ye.anchor="end"):fr?(ue+=ne/2,ye.anchor="start"):ye.anchor="middle",ye.crossPos=ue;else{if(ye.pos=ue,fr=ar+J/2+nr<=v,br=ar-J/2-nr>=0,(ye.idealAlign==="left"||!fr)&&br)ar-=J/2,ye.anchor="end";else if(fr)ar+=J/2,ye.anchor="start";else{ye.anchor="middle";var Sr=nr/2,Mr=ar+Sr-v,Ar=ar-Sr;Mr>0&&(ar-=Mr),Ar<0&&(ar+=-Ar)}ye.crossPos=ar}Ye.attr("text-anchor",ye.anchor),Re&&Te.attr("text-anchor",ye.anchor),pe.attr("transform",U2(ar,ue)+(o?RZ(HT):""))}),{hoverLabels:me,commonLabelBoundingBox:P}}function zT(e,r,t,n,a,o){var h,p;var i="",l="";e.nameOverride!==void 0&&(e.name=e.nameOverride),e.name&&(e.trace._meta&&(e.name=It.templateString(e.name,e.trace._meta)),i=BT(e.name,e.nameLength));var u=t.charAt(0),s=u==="x"?"y":"x";e.zLabel!==void 0?(e.xLabel!==void 0&&(l+="x: "+e.xLabel+"<br>"),e.yLabel!==void 0&&(l+="y: "+e.yLabel+"<br>"),e.trace.type!=="choropleth"&&e.trace.type!=="choroplethmapbox"&&e.trace.type!=="choroplethmap"&&(l+=(l?"z: ":"")+e.zLabel)):r&&e[u+"Label"]===a?l=e[s+"Label"]||"":e.xLabel===void 0?e.yLabel!==void 0&&e.trace.type!=="scattercarpet"&&(l=e.yLabel):e.yLabel===void 0?l=e.xLabel:l="("+e.xLabel+", "+e.yLabel+")",(e.text||e.text===0)&&!Array.isArray(e.text)&&(l+=(l?"<br>":"")+e.text),e.extraText!==void 0&&(l+=(l?"<br>":"")+e.extraText),o&&l===""&&!e.hovertemplate&&(i===""&&o.remove(),l=i),(p=(h=e.trace)==null?void 0:h.hoverlabel)!=null&&p.split&&(e.hovertemplate="");let{hovertemplate:f=!1}=e;if(f){let b=e.hovertemplateLabels||e;e[u+"Label"]!==a&&(b[u+"other"]=b[u+"Val"],b[u+"otherLabel"]=b[u+"Label"]),l=It.hovertemplateString({data:[e.eventData[0]||{},e.trace._meta],fallback:e.trace.hovertemplatefallback,labels:b,locale:n._d3locale,template:f}),l=l.replace(VZ,(y,w)=>(i=BT(w,e.nameLength),""))}return[l,i]}function GZ(e,r,t,n){var a=r?"xa":"ya",o=r?"ya":"xa",i=0,l=1,u=e.size(),s=new Array(u),f=0,h=n.minX,p=n.maxX,b=n.minY,y=n.maxY,w=function(F){return F*t._invScaleX},T=function(F){return F*t._invScaleY};e.each(function(F){var I=F[a],L=F[o],P=I._id.charAt(0)==="x",O=I.range;f===0&&O&&O[0]>O[1]!==P&&(l=-1);var U=0,X=P?t.width:t.height;if(t.hovermode==="x"||t.hovermode==="y"){var $=YT(F,r),j=F.anchor,Y=j==="end"?-1:1,q,Q;if(j==="middle")q=F.crossPos+(P?T($.y-F.by/2):w(F.bx/2+F.tx2width/2)),Q=q+(P?T(F.by):w(F.bx));else if(P)q=F.crossPos+T(St+$.y)-T(F.by/2-St),Q=q+T(F.by);else{var ae=w(Y*St+$.x),K=ae+w(Y*F.bx);q=F.crossPos+Math.min(ae,K),Q=F.crossPos+Math.max(ae,K)}P?b!==void 0&&y!==void 0&&Math.min(Q,y)-Math.max(q,b)>1&&(L.side==="left"?(U=L._mainLinePosition,X=t.width):X=L._mainLinePosition):h!==void 0&&p!==void 0&&Math.min(Q,p)-Math.max(q,h)>1&&(L.side==="top"?(U=L._mainLinePosition,X=t.height):X=L._mainLinePosition)}s[f++]=[{datum:F,traceIndex:F.trace.index,dp:0,pos:F.pos,posref:F.posref,size:F.by*(P?qZ:1)/2,pmin:U,pmax:X}]}),s.sort(function(F,I){return F[0].posref-I[0].posref||l*(I[0].traceIndex-F[0].traceIndex)});var m,k,S,x,M,d,_;function g(F){var I=F[0],L=F[F.length-1];if(k=I.pmin-I.pos-I.dp+I.size,S=L.pos+L.dp+L.size-I.pmax,k>.01){for(M=F.length-1;M>=0;M--)F[M].dp+=k;m=!1}if(!(S<.01)){if(k<-.01){for(M=F.length-1;M>=0;M--)F[M].dp-=S;m=!1}if(m){var P=0;for(x=0;x<F.length;x++)d=F[x],d.pos+d.dp+d.size>I.pmax&&P++;for(x=F.length-1;x>=0&&!(P<=0);x--)d=F[x],d.pos>I.pmax-1&&(d.del=!0,P--);for(x=0;x<F.length&&!(P<=0);x++)if(d=F[x],d.pos<I.pmin+1)for(d.del=!0,P--,S=d.size*2,M=F.length-1;M>=0;M--)F[M].dp-=S;for(x=F.length-1;x>=0&&!(P<=0);x--)d=F[x],d.pos+d.dp+d.size>I.pmax&&(d.del=!0,P--)}}}for(;!m&&i<=u;){for(i++,m=!0,x=0;x<s.length-1;){var c=s[x],A=s[x+1],v=c[c.length-1],D=A[0];if(k=v.pos+v.dp+v.size-D.pos-D.dp+D.size,k>.01){for(M=A.length-1;M>=0;M--)A[M].dp+=k;for(c.push.apply(c,A),s.splice(x+1,1),_=0,M=c.length-1;M>=0;M--)_+=c[M].dp;for(S=_/c.length,M=c.length-1;M>=0;M--)c[M].dp-=S;m=!1}else x++}s.forEach(g)}for(x=s.length-1;x>=0;x--){var E=s[x];for(M=E.length-1;M>=0;M--){var R=E[M],N=R.datum;N.offset=R.dp,N.del=R.del}}}function YT(e,r){var t=0,n=e.offset;return r&&(n*=-BZ,t=e.offset*OZ),{x:t,y:n}}function YZ(e){var r={start:1,end:-1,middle:0}[e.anchor],t=r*(St+Qr),n=t+r*(e.txwidth+Qr),a=e.anchor==="middle";return a&&(t-=e.tx2width/2,n+=e.txwidth/2+Qr),{alignShift:r,textShiftX:t,text2ShiftX:n}}function WT(e,r,t,n){var a=function(i){return i*t},o=function(i){return i*n};e.each(function(i){var l=ns.select(this);if(i.del)return l.remove();var u=l.select("text.nums"),s=i.anchor,f=s==="end"?-1:1,h=YZ(i),p=YT(i,r),b=p.x,y=p.y,w=s==="middle",T="hoverlabel"in i.trace?i.trace.hoverlabel.showarrow:!0,m;w?m="M-"+a(i.bx/2+i.tx2width/2)+","+o(y-i.by/2)+"h"+a(i.bx)+"v"+o(i.by)+"h-"+a(i.bx)+"Z":T?m="M0,0L"+a(f*St+b)+","+o(St+y)+"v"+o(i.by/2-St)+"h"+a(f*i.bx)+"v-"+o(i.by)+"H"+a(f*St+b)+"V"+o(y-St)+"Z":m="M"+a(f*St+b)+","+o(y-i.by/2)+"h"+a(f*i.bx)+"v"+o(i.by)+"h"+a(-f*i.bx)+"Z",l.select("path").attr("d",m);var k=b+h.textShiftX,S=y+i.ty0-i.by/2+Qr,x=i.textAlign||"auto";x!=="auto"&&(x==="left"&&s!=="start"?(u.attr("text-anchor","start"),k=w?-i.bx/2-i.tx2width/2+Qr:-i.bx-Qr):x==="right"&&s!=="end"&&(u.attr("text-anchor","end"),k=w?i.bx/2-i.tx2width/2-Qr:i.bx+Qr)),u.call(Ia.positionText,a(k),o(S)),i.tx2width&&(l.select("text.name").call(Ia.positionText,a(h.text2ShiftX+h.alignShift*Qr+b),o(y+i.ty0-i.by/2+Qr)),l.select("rect").call(qi.setRect,a(h.text2ShiftX+(h.alignShift-1)*i.tx2width/2+b),o(y-i.by/2-1),a(i.tx2width),o(i.by+2)))})}function WZ(e,r){var t=e.index,n=e.trace||{},a=e.cd[0],o=e.cd[t]||{};function i(p){return p||uo(p)&&p===0}var l=Array.isArray(t)?function(p,b){var y=It.castOption(a,t,p);return i(y)?y:It.extractOption({},n,"",b)}:function(p,b){return It.extractOption(o,n,p,b)};function u(p,b,y){var w=l(b,y);i(w)&&(e[p]=w)}if(u("hoverinfo","hi","hoverinfo"),u("bgcolor","hbg","hoverlabel.bgcolor"),u("borderColor","hbc","hoverlabel.bordercolor"),u("fontFamily","htf","hoverlabel.font.family"),u("fontSize","hts","hoverlabel.font.size"),u("fontColor","htc","hoverlabel.font.color"),u("fontWeight","htw","hoverlabel.font.weight"),u("fontStyle","hty","hoverlabel.font.style"),u("fontVariant","htv","hoverlabel.font.variant"),u("nameLength","hnl","hoverlabel.namelength"),u("textAlign","hta","hoverlabel.align"),e.posref=r==="y"||r==="closest"&&n.orientation==="h"?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=It.constrain(e.x0,0,e.xa._length),e.x1=It.constrain(e.x1,0,e.xa._length),e.y0=It.constrain(e.y0,0,e.ya._length),e.y1=It.constrain(e.y1,0,e.ya._length),e.xLabelVal!==void 0&&(e.xLabel="xLabel"in e?e.xLabel:Oi.hoverLabelText(e.xa,e.xLabelVal,n.xhoverformat),e.xVal=e.xa.c2d(e.xLabelVal)),e.yLabelVal!==void 0&&(e.yLabel="yLabel"in e?e.yLabel:Oi.hoverLabelText(e.ya,e.yLabelVal,n.yhoverformat),e.yVal=e.ya.c2d(e.yLabelVal)),e.zLabelVal!==void 0&&e.zLabel===void 0&&(e.zLabel=String(e.zLabelVal)),!isNaN(e.xerr)&&!(e.xa.type==="log"&&e.xerr<=0)){var s=Oi.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;e.xerrneg!==void 0?e.xLabel+=" +"+s+" / -"+Oi.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" \xB1 "+s,r==="x"&&(e.distance+=1)}if(!isNaN(e.yerr)&&!(e.ya.type==="log"&&e.yerr<=0)){var f=Oi.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;e.yerrneg!==void 0?e.yLabel+=" +"+f+" / -"+Oi.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" \xB1 "+f,r==="y"&&(e.distance+=1)}var h=e.hoverinfo||e.trace.hoverinfo;return h&&h!=="all"&&(h=Array.isArray(h)?h:h.split("+"),h.indexOf("x")===-1&&(e.xLabel=void 0),h.indexOf("y")===-1&&(e.yLabel=void 0),h.indexOf("z")===-1&&(e.zLabel=void 0),h.indexOf("text")===-1&&(e.text=void 0),h.indexOf("name")===-1&&(e.name=void 0)),e}function qT(e,r,t){var n=t.container,a=t.fullLayout,o=a._size,i=t.event,l=!!r.hLinePoint,u=!!r.vLinePoint,s,f;if(n.selectAll(".spikeline").remove(),!!(u||l)){var h=un.combine(a.plot_bgcolor,a.paper_bgcolor);if(l){var p=r.hLinePoint,b,y;s=p&&p.xa,f=p&&p.ya;var w=f.spikesnap;w==="cursor"?(b=i.pointerX,y=i.pointerY):(b=s._offset+p.x,y=f._offset+p.y);var T=IT.readability(p.color,h)<1.5?un.contrast(h):p.color,m=f.spikemode,k=f.spikethickness,S=f.spikecolor||T,x=Oi.getPxPosition(e,f),M,d;if(m.indexOf("toaxis")!==-1||m.indexOf("across")!==-1){if(m.indexOf("toaxis")!==-1&&(M=x,d=b),m.indexOf("across")!==-1){var _=f._counterDomainMin,g=f._counterDomainMax;f.anchor==="free"&&(_=Math.min(_,f.position),g=Math.max(g,f.position)),M=o.l+_*o.w,d=o.l+g*o.w}n.insert("line",":first-child").attr({x1:M,x2:d,y1:y,y2:y,"stroke-width":k,stroke:S,"stroke-dasharray":qi.dashStyle(f.spikedash,k)}).classed("spikeline",!0).classed("crisp",!0),n.insert("line",":first-child").attr({x1:M,x2:d,y1:y,y2:y,"stroke-width":k+2,stroke:h}).classed("spikeline",!0).classed("crisp",!0)}m.indexOf("marker")!==-1&&n.insert("circle",":first-child").attr({cx:x+(f.side!=="right"?k:-k),cy:y,r:k,fill:S}).classed("spikeline",!0)}if(u){var c=r.vLinePoint,A,v;s=c&&c.xa,f=c&&c.ya;var D=s.spikesnap;D==="cursor"?(A=i.pointerX,v=i.pointerY):(A=s._offset+c.x,v=f._offset+c.y);var E=IT.readability(c.color,h)<1.5?un.contrast(h):c.color,R=s.spikemode,N=s.spikethickness,F=s.spikecolor||E,I=Oi.getPxPosition(e,s),L,P;if(R.indexOf("toaxis")!==-1||R.indexOf("across")!==-1){if(R.indexOf("toaxis")!==-1&&(L=I,P=v),R.indexOf("across")!==-1){var O=s._counterDomainMin,U=s._counterDomainMax;s.anchor==="free"&&(O=Math.min(O,s.position),U=Math.max(U,s.position)),L=o.t+(1-U)*o.h,P=o.t+(1-O)*o.h}n.insert("line",":first-child").attr({x1:A,x2:A,y1:L,y2:P,"stroke-width":N,stroke:F,"stroke-dasharray":qi.dashStyle(s.spikedash,N)}).classed("spikeline",!0).classed("crisp",!0),n.insert("line",":first-child").attr({x1:A,x2:A,y1:L,y2:P,"stroke-width":N+2,stroke:h}).classed("spikeline",!0).classed("crisp",!0)}R.indexOf("marker")!==-1&&n.insert("circle",":first-child").attr({cx:A,cy:I-(s.side!=="top"?N:-N),r:N,fill:F}).classed("spikeline",!0)}}}function XZ(e,r,t){if(!t||t.length!==e._hoverdata.length)return!0;for(var n=t.length-1;n>=0;n--){var a=t[n],o=e._hoverdata[n];if(a.curveNumber!==o.curveNumber||String(a.pointNumber)!==String(o.pointNumber)||String(a.pointNumbers)!==String(o.pointNumbers)||a.binNumber!==o.binNumber)return!0}return!1}function OT(e,r){return!r||r.vLinePoint!==e._spikepoints.vLinePoint||r.hLinePoint!==e._spikepoints.hLinePoint}function BT(e,r){return Ia.plainText(e||"",{len:r,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function ZZ(e,r){for(var t=r.charAt(0),n=[],a=[],o=[],i=0;i<e.length;i++){var l=e[i];xu.traceIs(l.trace,"bar-like")||xu.traceIs(l.trace,"box-violin")?o.push(l):l.trace[t+"period"]?a.push(l):n.push(l)}return n.concat(a).concat(o)}function UT(e,r,t){var n=r[e+"a"],a=r[e+"Val"],o=r.cd[0];if(n.type==="category"||n.type==="multicategory")a=n._categoriesMap[a];else if(n.type==="date"){var i=r.trace[e+"periodalignment"];if(i){var l=r.cd[r.index],u=l[e+"Start"];u===void 0&&(u=l[e]);var s=l[e+"End"];s===void 0&&(s=l[e]);var f=s-u;i==="end"?a+=f:i==="middle"&&(a+=f/2)}a=n.d2c(a)}return o&&o.t&&o.t.posLetter===n._id&&(t.boxmode==="group"||t.violinmode==="group")&&(a+=o.t.dPos),a}var XT=e=>e.offsetTop+e.clientTop,ZT=e=>e.offsetLeft+e.clientLeft;function mu(e,r){var t=e._fullLayout,n=r.getBoundingClientRect(),a=n.left,o=n.top,i=a+n.width,l=o+n.height,u=It.apply3DTransform(t._invTransform)(a,o),s=It.apply3DTransform(t._invTransform)(i,l),f=u[0],h=u[1],p=s[0],b=s[1];return{x:f,y:h,width:p-f,height:b-h,top:Math.min(h,b),left:Math.min(f,p),right:Math.max(f,p),bottom:Math.max(h,b)}}});var pv=de((_he,JT)=>{"use strict";var JZ=ir(),KZ=Xr(),QZ=so().isUnifiedHover;JT.exports=function(r,t,n,a){a=a||{};var o=t.legend;function i(l){a.font[l]||(a.font[l]=o?t.legend.font[l]:t.font[l])}t&&QZ(t.hovermode)&&(a.font||(a.font={}),i("size"),i("family"),i("color"),i("weight"),i("style"),i("variant"),o?(a.bgcolor||(a.bgcolor=KZ.combine(t.legend.bgcolor,t.paper_bgcolor)),a.bordercolor||(a.bordercolor=t.legend.bordercolor)):a.bgcolor||(a.bgcolor=t.paper_bgcolor)),n("hoverlabel.bgcolor",a.bgcolor),n("hoverlabel.bordercolor",a.bordercolor),n("hoverlabel.namelength",a.namelength),n("hoverlabel.showarrow",a.showarrow),JZ.coerceFont(n,"hoverlabel.font",a.font),n("hoverlabel.align",a.align)}});var QT=de((whe,KT)=>{"use strict";var $Z=ir(),jZ=pv(),eJ=Ll();KT.exports=function(r,t){function n(a,o){return $Z.coerce(r,t,eJ,a,o)}jZ(r,t,n)}});var e9=de((Mhe,jT)=>{"use strict";var $T=ir(),rJ=U0(),tJ=pv();jT.exports=function(r,t,n,a){function o(l,u){return $T.coerce(r,t,rJ,l,u)}var i=$T.extendFlat({},a.hoverlabel);t.hovertemplate&&(i.namelength=-1),tJ(r,t,o,i)}});var Y2=de((The,r9)=>{"use strict";var nJ=ir(),aJ=Ll();r9.exports=function(r,t){function n(a,o){return t[a]!==void 0?t[a]:nJ.coerce(r,t,aJ,a,o)}return n("clickmode"),n("hoversubplots"),n("hovermode")}});var a9=de((Ahe,n9)=>{"use strict";var t9=ir(),iJ=Ll(),oJ=Y2(),lJ=pv();n9.exports=function(r,t){function n(f,h){return t9.coerce(r,t,iJ,f,h)}var a=oJ(r,t);a&&(n("hoverdistance"),n("spikedistance"));var o=n("dragmode");o==="select"&&n("selectdirection");var i=t._has("mapbox"),l=t._has("map"),u=t._has("geo"),s=t._basePlotModules.length;t.dragmode==="zoom"&&((i||l||u)&&s===1||(i||l)&&u&&s===2)&&(t.dragmode="pan"),lJ(r,t,n),t9.coerceFont(n,"hoverlabel.grouptitlefont",t.hoverlabel.font)}});var l9=de((khe,o9)=>{"use strict";var W2=ir(),i9=Er();o9.exports=function(r){var t=r.calcdata,n=r._fullLayout;function a(s){return function(f){return W2.coerceHoverinfo({hoverinfo:f},{_module:s._module},n)}}for(var o=0;o<t.length;o++){var i=t[o],l=i[0].trace;if(!i9.traceIs(l,"pie-like")){var u=i9.traceIs(l,"2dMap")?sJ:W2.fillArray;u(l.hoverinfo,i,"hi",a(l)),l.hovertemplate&&u(l.hovertemplate,i,"ht"),l.hoverlabel&&(u(l.hoverlabel.bgcolor,i,"hbg"),u(l.hoverlabel.bordercolor,i,"hbc"),u(l.hoverlabel.font.size,i,"hts"),u(l.hoverlabel.font.color,i,"htc"),u(l.hoverlabel.font.family,i,"htf"),u(l.hoverlabel.font.weight,i,"htw"),u(l.hoverlabel.font.style,i,"hty"),u(l.hoverlabel.font.variant,i,"htv"),u(l.hoverlabel.namelength,i,"hnl"),u(l.hoverlabel.align,i,"hta"),u(l.hoverlabel.showarrow,i,"htsa"))}}};function sJ(e,r,t,n){n=n||W2.identity,Array.isArray(e)&&(r[0][t]=n(e))}});var u9=de((She,s9)=>{"use strict";var uJ=Er(),fJ=G2().hover;s9.exports=function(r,t,n){var a=uJ.getComponentMethod("annotations","onClick")(r,r._hoverdata);n!==void 0&&fJ(r,t,n,!0);function o(){r.emit("plotly_click",{points:r._hoverdata,event:t})}r._hoverdata&&t&&t.target&&(a&&a.then?a.then(o):o(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}});var fo=de((Che,h9)=>{"use strict";var cJ=it(),gv=ir(),hJ=oi(),Jf=so(),f9=Ll(),c9=G2();h9.exports={moduleType:"component",name:"fx",constants:pf(),schema:{layout:f9},attributes:U0(),layoutAttributes:f9,supplyLayoutGlobalDefaults:QT(),supplyDefaults:e9(),supplyLayoutDefaults:a9(),calc:l9(),getDistanceFunction:Jf.getDistanceFunction,getClosest:Jf.getClosest,inbox:Jf.inbox,quadrature:Jf.quadrature,appendArrayPointValue:Jf.appendArrayPointValue,castHoverOption:dJ,castHoverinfo:pJ,hover:c9.hover,unhover:hJ.unhover,loneHover:c9.loneHover,loneUnhover:vJ,click:u9()};function vJ(e){var r=gv.isD3Selection(e)?e:cJ.select(e);r.selectAll("g.hovertext").remove(),r.selectAll(".spikeline").remove()}function dJ(e,r,t){return gv.castOption(e,r,"hoverlabel."+t)}function pJ(e,r,t){function n(a){return gv.coerceHoverinfo({hoverinfo:a},{_module:e._module},r)}return gv.castOption(e,t,"hoverinfo",n)}});var bu=de(co=>{"use strict";co.selectMode=function(e){return e==="lasso"||e==="select"};co.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"};co.openMode=function(e){return e==="drawline"||e==="drawopenpath"};co.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"};co.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"};co.selectingOrDrawing=function(e){return co.freeMode(e)||co.rectMode(e)}});var yv=de((Lhe,v9)=>{"use strict";v9.exports=function(r){var t=r._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(n){n.regl&&n.regl.clear({color:!0,depth:!0})})}});var mv=de((Dhe,d9)=>{"use strict";d9.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect fill='#000' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle fill='#9EF' cx='102' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='54' r='6'/>","  <circle fill='#D69' cx='54' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='54' r='6'/>","  <path fill='#FFF' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path fill='#FFF' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path fill='#FFF' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path fill='#FFF' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}});var bv=de((Rhe,p9)=>{"use strict";var xv=32;p9.exports={CIRCLE_SIDES:xv,i000:0,i090:xv/4,i180:xv/2,i270:xv/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}});var _v=de((Phe,y9)=>{"use strict";var gJ=ir().strTranslate;function g9(e,r){switch(e.type){case"log":return e.p2d(r);case"date":return e.p2r(r,0,e.calendar);default:return e.p2r(r)}}function yJ(e,r){switch(e.type){case"log":return e.d2p(r);case"date":return e.r2p(r,0,e.calendar);default:return e.r2p(r)}}function mJ(e){var r=e._id.charAt(0)==="y"?1:0;return function(t){return g9(e,t[r])}}function xJ(e){return gJ(e.xaxis._offset,e.yaxis._offset)}y9.exports={p2r:g9,r2p:yJ,axValue:mJ,getTransform:xJ}});var $o=de(ho=>{"use strict";var bJ=Ig(),b9=bv(),_u=b9.CIRCLE_SIDES,X2=b9.SQRT2,_9=_v(),m9=_9.p2r,x9=_9.r2p,_J=[0,3,4,5,6,1,2],wJ=[0,3,4,1,2];ho.writePaths=function(e){var r=e.length;if(!r)return"M0,0Z";for(var t="",n=0;n<r;n++)for(var a=e[n].length,o=0;o<a;o++){var i=e[n][o][0];if(i==="Z")t+="Z";else for(var l=e[n][o].length,u=0;u<l;u++){var s=u;i==="Q"||i==="S"?s=wJ[u]:i==="C"&&(s=_J[u]),t+=e[n][o][s],u>0&&u<l-1&&(t+=",")}}return t};ho.readPaths=function(e,r,t,n){var a=bJ(e),o=[],i=-1,l=function(){i++,o[i]=[]},u,s=0,f=0,h,p,b=function(){h=s,p=f};b();for(var y=0;y<a.length;y++){var w=[],T,m,k,S,x=a[y][0],M=x;switch(x){case"M":l(),s=+a[y][1],f=+a[y][2],w.push([M,s,f]),b();break;case"Q":case"S":T=+a[y][1],k=+a[y][2],s=+a[y][3],f=+a[y][4],w.push([M,s,f,T,k]);break;case"C":T=+a[y][1],k=+a[y][2],m=+a[y][3],S=+a[y][4],s=+a[y][5],f=+a[y][6],w.push([M,s,f,T,k,m,S]);break;case"T":case"L":s=+a[y][1],f=+a[y][2],w.push([M,s,f]);break;case"H":M="L",s=+a[y][1],w.push([M,s,f]);break;case"V":M="L",f=+a[y][1],w.push([M,s,f]);break;case"A":M="L";var d=+a[y][1],_=+a[y][2];+a[y][4]||(d=-d,_=-_);var g=s-d,c=f;for(u=1;u<=_u/2;u++){var A=2*Math.PI*u/_u;w.push([M,g+d*Math.cos(A),c+_*Math.sin(A)])}break;case"Z":(s!==h||f!==p)&&(s=h,f=p,w.push([M,s,f]));break}for(var v=(t||{}).domain,D=r._fullLayout._size,E=t&&t.xsizemode==="pixel",R=t&&t.ysizemode==="pixel",N=n===!1,F=0;F<w.length;F++){for(u=0;u+2<7;u+=2){var I=w[F][u+1],L=w[F][u+2];I===void 0||L===void 0||(s=I,f=L,t&&(t.xaxis&&t.xaxis.p2r?(N&&(I-=t.xaxis._offset),E?I=x9(t.xaxis,t.xanchor)+I:I=m9(t.xaxis,I)):(N&&(I-=D.l),v?I=v.x[0]+I/D.w:I=I/D.w),t.yaxis&&t.yaxis.p2r?(N&&(L-=t.yaxis._offset),R?L=x9(t.yaxis,t.yanchor)-L:L=m9(t.yaxis,L)):(N&&(L-=D.t),v?L=v.y[1]-L/D.h:L=1-L/D.h)),w[F][u+1]=I,w[F][u+2]=L)}o[i].push(w[F].slice())}}return o};function Kf(e,r){return Math.abs(e-r)<=1e-6}function wv(e,r){var t=r[1]-e[1],n=r[2]-e[2];return Math.sqrt(t*t+n*n)}ho.pointsOnRectangle=function(e){var r=e.length;if(r!==5)return!1;for(var t=1;t<3;t++){var n=e[0][t]-e[1][t],a=e[3][t]-e[2][t];if(!Kf(n,a))return!1;var o=e[0][t]-e[3][t],i=e[1][t]-e[2][t];if(!Kf(o,i))return!1}return!Kf(e[0][1],e[1][1])&&!Kf(e[0][1],e[3][1])?!1:!!(wv(e[0],e[1])*wv(e[0],e[3]))};ho.pointsOnEllipse=function(e){var r=e.length;if(r!==_u+1)return!1;r=_u;for(var t=0;t<r;t++){var n=(r*2-t)%r,a=(r/2+n)%r,o=(r/2+t)%r;if(!Kf(wv(e[t],e[o]),wv(e[n],e[a])))return!1}return!0};ho.handleEllipse=function(e,r,t){if(!e)return[r,t];var n=ho.ellipseOver({x0:r[0],y0:r[1],x1:t[0],y1:t[1]}),a=(n.x1+n.x0)/2,o=(n.y1+n.y0)/2,i=(n.x1-n.x0)/2,l=(n.y1-n.y0)/2;i||(i=l=l/X2),l||(l=i=i/X2);for(var u=[],s=0;s<_u;s++){var f=s*2*Math.PI/_u;u.push([a+i*Math.cos(f),o+l*Math.sin(f)])}return u};ho.ellipseOver=function(e){var r=e.x0,t=e.y0,n=e.x1,a=e.y1,o=n-r,i=a-t;r-=o,t-=i;var l=(r+n)/2,u=(t+a)/2,s=X2;return o*=s,i*=s,{x0:l-o,y0:u-i,x1:l+o,y1:u+i}};ho.fixDatesForPaths=function(e,r,t){var n=r.type==="date",a=t.type==="date";if(!n&&!a)return e;for(var o=0;o<e.length;o++)for(var i=0;i<e[o].length;i++)for(var l=0;l+2<e[o][i].length;l+=2)n&&(e[o][i][l+1]=e[o][i][l+1].replace(" ","_")),a&&(e[o][i][l+2]=e[o][i][l+2].replace(" ","_"));return e}});var Av=de((Fhe,L9)=>{"use strict";var w9=en(),S9=bu(),MJ=S9.drawMode,TJ=S9.openMode,wu=bv(),M9=wu.i000,T9=wu.i090,A9=wu.i180,k9=wu.i270,AJ=wu.cos45,kJ=wu.sin45,C9=_v(),Mv=C9.p2r,jo=C9.r2p,SJ=Uo(),CJ=SJ.clearOutline,Tv=$o(),EJ=Tv.readPaths,LJ=Tv.writePaths,DJ=Tv.ellipseOver,RJ=Tv.fixDatesForPaths;function PJ(e,r){if(e.length){var t=e[0][0];if(t){var n=r.gd,a=r.isActiveShape,o=r.dragmode,i=(n.layout||{}).shapes||[];if(!MJ(o)&&a!==void 0){var l=n._fullLayout._activeShapeIndex;if(l<i.length)switch(n._fullLayout.shapes[l].type){case"rect":o="drawrect";break;case"circle":o="drawcircle";break;case"line":o="drawline";break;case"path":var u=i[l].path||"";u[u.length-1]==="Z"?o="drawclosedpath":o="drawopenpath";break}}var s=E9(e,r,o);CJ(n);for(var f=r.editHelpers,h=(f||{}).modifyItem,p=[],b=0;b<i.length;b++){var y=n._fullLayout.shapes[b];if(p[b]=y._input,a!==void 0&&b===n._fullLayout._activeShapeIndex){var w=s;switch(y.type){case"line":case"rect":case"circle":var T=w9.getFromId(n,y.xref);y.xref.charAt(0)==="x"&&T.type.includes("category")?(h("x0",w.x0-(y.x0shift||0)),h("x1",w.x1-(y.x1shift||0))):(h("x0",w.x0),h("x1",w.x1));var m=w9.getFromId(n,y.yref);y.yref.charAt(0)==="y"&&m.type.includes("category")?(h("y0",w.y0-(y.y0shift||0)),h("y1",w.y1-(y.y1shift||0))):(h("y0",w.y0),h("y1",w.y1));break;case"path":h("path",w.path);break}}}return a===void 0?(p.push(s),p):f?f.getUpdateObj():{}}}}function E9(e,r,t){var n=e[0][0],a=r.gd,o=n.getAttribute("d"),i=a._fullLayout.newshape,l=r.plotinfo,u=r.isActiveShape,s=l.xaxis,f=l.yaxis,h=!!l.domain||!l.xaxis,p=!!l.domain||!l.yaxis,b=TJ(t),y=EJ(o,a,l,u),w={editable:!0,visible:i.visible,name:i.name,showlegend:i.showlegend,legend:i.legend,legendwidth:i.legendwidth,legendgroup:i.legendgroup,legendgrouptitle:{text:i.legendgrouptitle.text,font:i.legendgrouptitle.font},legendrank:i.legendrank,label:i.label,xref:h?"paper":s._id,yref:p?"paper":f._id,layer:i.layer,opacity:i.opacity,line:{color:i.line.color,width:i.line.width,dash:i.line.dash}};b||(w.fillcolor=i.fillcolor,w.fillrule=i.fillrule);var T;if(y.length===1&&(T=y[0]),T&&T.length===5&&t==="drawrect")w.type="rect",w.x0=T[0][1],w.y0=T[0][2],w.x1=T[2][1],w.y1=T[2][2];else if(T&&t==="drawline")w.type="line",w.x0=T[0][1],w.y0=T[0][2],w.x1=T[1][1],w.y1=T[1][2];else if(T&&t==="drawcircle"){w.type="circle";var m=T[M9][1],k=T[T9][1],S=T[A9][1],x=T[k9][1],M=T[M9][2],d=T[T9][2],_=T[A9][2],g=T[k9][2],c=l.xaxis&&(l.xaxis.type==="date"||l.xaxis.type==="log"),A=l.yaxis&&(l.yaxis.type==="date"||l.yaxis.type==="log");c&&(m=jo(l.xaxis,m),k=jo(l.xaxis,k),S=jo(l.xaxis,S),x=jo(l.xaxis,x)),A&&(M=jo(l.yaxis,M),d=jo(l.yaxis,d),_=jo(l.yaxis,_),g=jo(l.yaxis,g));var v=(k+x)/2,D=(M+_)/2,E=(x-k+S-m)/2,R=(g-d+_-M)/2,N=DJ({x0:v,y0:D,x1:v+E*AJ,y1:D+R*kJ});c&&(N.x0=Mv(l.xaxis,N.x0),N.x1=Mv(l.xaxis,N.x1)),A&&(N.y0=Mv(l.yaxis,N.y0),N.y1=Mv(l.yaxis,N.y1)),w.x0=N.x0,w.y0=N.y0,w.x1=N.x1,w.y1=N.y1}else w.type="path",s&&f&&RJ(y,s,f),w.path=LJ(y),T=null;return w}L9.exports={newShapes:PJ,createShapeObj:E9}});var J2=de((Nhe,D9)=>{"use strict";var IJ=bu(),FJ=IJ.selectMode,NJ=Uo(),zJ=NJ.clearOutline,Z2=$o(),qJ=Z2.readPaths,OJ=Z2.writePaths,BJ=Z2.fixDatesForPaths;D9.exports=function(r,t){if(r.length){var n=r[0][0];if(n){var a=n.getAttribute("d"),o=t.gd,i=o._fullLayout.newselection,l=t.plotinfo,u=l.xaxis,s=l.yaxis,f=t.isActiveSelection,h=t.dragmode,p=(o.layout||{}).selections||[];if(!FJ(h)&&f!==void 0){var b=o._fullLayout._activeSelectionIndex;if(b<p.length)switch(o._fullLayout.selections[b].type){case"rect":h="select";break;case"path":h="lasso";break}}var y=qJ(a,o,l,f),w={xref:u._id,yref:s._id,opacity:i.opacity,line:{color:i.line.color,width:i.line.width,dash:i.line.dash}},T;y.length===1&&(T=y[0]),T&&T.length===5&&h==="select"?(w.type="rect",w.x0=T[0][1],w.y0=T[0][2],w.x1=T[2][1],w.y1=T[2][2]):(w.type="path",u&&s&&BJ(y,u,s),w.path=OJ(y),T=null),zJ(o);for(var m=t.editHelpers,k=(m||{}).modifyItem,S=[],x=0;x<p.length;x++){var M=o._fullLayout.selections[x];if(!M){S[x]=M;continue}if(S[x]=M._input,f!==void 0&&x===o._fullLayout._activeSelectionIndex){var d=w;switch(M.type){case"rect":k("x0",d.x0),k("x1",d.x1),k("y0",d.y0),k("y1",d.y1);break;case"path":k("path",d.path);break}}}return f===void 0?(S.push(w),S):m?m.getUpdateObj():{}}}}});var Qf=de((zhe,R9)=>{"use strict";R9.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:3},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}});var rl=de(Mn=>{"use strict";var Bi=Qf(),P9=ir(),el=Lt();Mn.rangeToShapePosition=function(e){return e.type==="log"?e.r2d:function(r){return r}};Mn.shapePositionToRange=function(e){return e.type==="log"?e.d2r:function(r){return r}};Mn.decodeDate=function(e){return function(r){return r.replace&&(r=r.replace("_"," ")),e(r)}};Mn.encodeDate=function(e){return function(r){return e(r).replace(" ","_")}};Mn.extractPathCoords=function(e,r,t){var n=[],a=e.match(Bi.segmentRE);return a.forEach(function(o){var i=r[o.charAt(0)].drawn;if(i!==void 0){var l=o.slice(1).match(Bi.paramRE);if(!(!l||l.length<i)){var u=l[i],s=t?u:P9.cleanNumber(u);n.push(s)}}}),n};Mn.countDefiningCoords=function(e,r,t){if(e!=="path")return 2;if(!r)return 0;let n=r.match(Bi.segmentRE);if(!n)return 0;let a=t==="x"?Bi.paramIsX:Bi.paramIsY;return n.reduce((o,i)=>{let l=i.charAt(0),u=a[l].drawn!==void 0;return o+(u?1:0)},0)};Mn.getDataToPixel=function(e,r,t,n,a){var o=e._fullLayout._size,i;if(r)if(a==="domain")i=function(u){return r._length*(n?1-u:u)+r._offset};else{var l=Mn.shapePositionToRange(r);i=function(u){var s=vo(r,t);return r._offset+r.r2p(l(u,!0))+s},r.type==="date"&&(i=Mn.decodeDate(i))}else n?i=function(u){return o.t+o.h*(1-u)}:i=function(u){return o.l+o.w*u};return i};Mn.getPixelToData=function(e,r,t,n){var a=e._fullLayout._size,o;if(r)if(n==="domain")o=function(l){var u=(l-r._offset)/r._length;return t?1-u:u};else{var i=Mn.rangeToShapePosition(r);o=function(l){return i(r.p2r(l-r._offset))}}else t?o=function(l){return 1-(l-a.t)/a.h}:o=function(l){return(l-a.l)/a.w};return o};Mn.roundPositionForSharpStrokeRendering=function(e,r){var t=Math.round(r%2)===1,n=Math.round(e);return t?n+.5:n};Mn.makeShapesOptionsAndPlotinfo=function(e,r){var t=e._fullLayout.shapes[r]||{},n=e._fullLayout._plots[t.xref+t.yref],a=!!n;return a?n._hadPlotinfo=!0:(n={},t.xref&&t.xref!=="paper"&&(n.xaxis=e._fullLayout[t.xref+"axis"]),t.yref&&t.yref!=="paper"&&(n.yaxis=e._fullLayout[t.yref+"axis"])),n.xsizemode=t.xsizemode,n.ysizemode=t.ysizemode,n.xanchor=t.xanchor,n.yanchor=t.yanchor,{options:t,plotinfo:n}};Mn.makeSelectionsOptionsAndPlotinfo=function(e,r){var t=e._fullLayout.selections[r]||{},n=e._fullLayout._plots[t.xref+t.yref],a=!!n;return a?n._hadPlotinfo=!0:(n={},t.xref&&(n.xaxis=e._fullLayout[t.xref+"axis"]),t.yref&&(n.yaxis=e._fullLayout[t.yref+"axis"])),{options:t,plotinfo:n}};Mn.getPathString=function(e,r){let t=r.type,n=el.getRefType(r.xref),a=el.getRefType(r.yref),o=e._fullLayout._size;var i,l,u,s,f,h,p,b,y,w,T,m;function k(A,v,D,E){var R;if(A)if(v==="domain")E?R=function(N){return A._offset+A._length*(1-N)}:R=function(N){return A._offset+A._length*N};else{let N=Mn.shapePositionToRange(A);R=function(F){return A._offset+A.r2p(N(F,!0))},D==="path"&&A.type==="date"&&(R=Mn.decodeDate(R))}else E?R=function(N){return o.t+o.h*(1-N)}:R=function(N){return o.l+o.w*N};return R}if(n==="array"?(p=[],i=r.xref.map(function(A){return el.getFromId(e,A)}),p=r.xref.map(function(A,v){return k(i[v],el.getRefType(A),t,!1)})):(i=el.getFromId(e,r.xref),p=k(i,n,t,!1)),a==="array"?(b=[],l=r.yref.map(function(A){return el.getFromId(e,A)}),b=r.yref.map(function(A,v){return k(l[v],el.getRefType(A),t,!0)})):(l=el.getFromId(e,r.yref),b=k(l,a,t,!0)),t==="path")return UJ(r,p,b);if(n==="array")u=vo(i[0],r.x0shift),s=vo(i[1],r.x1shift),y=p[0](r.x0)+u,w=p[1](r.x1)+s;else if(u=vo(i,r.x0shift),s=vo(i,r.x1shift),r.xsizemode==="pixel"){let A=p(r.xanchor);y=A+r.x0+u,w=A+r.x1+s}else y=p(r.x0)+u,w=p(r.x1)+s;if(a==="array")f=vo(l[0],r.y0shift),h=vo(l[1],r.y1shift),T=b[0](r.y0)+f,m=b[1](r.y1)+h;else if(f=vo(l,r.y0shift),h=vo(l,r.y1shift),r.ysizemode==="pixel"){let A=b(r.yanchor);T=A-r.y0+f,m=A-r.y1+h}else T=b(r.y0)+f,m=b(r.y1)+h;if(t==="line")return"M"+y+","+T+"L"+w+","+m;if(t==="rect")return"M"+y+","+T+"H"+w+"V"+m+"H"+y+"Z";var S=(y+w)/2,x=(T+m)/2,M=Math.abs(S-y),d=Math.abs(x-T),_="A"+M+","+d,g=S+M+","+x,c=S+","+(x-d);return"M"+g+_+" 0 1,1 "+c+_+" 0 0,1 "+g+"Z"};function UJ(e,r,t){let n=e.path,a=e.xsizemode,o=e.ysizemode,i=e.xanchor,l=e.yanchor,u=Array.isArray(e.xref),s=Array.isArray(e.yref);var f=0,h=0;return n.replace(Bi.segmentRE,function(p){var b=0,y=p.charAt(0),w=Bi.paramIsX[y],T=Bi.paramIsY[y],m=Bi.numParams[y];let k=w.drawn!==void 0,S=T.drawn!==void 0,x=u?r[f]:r,M=s?t[h]:t;var d=p.slice(1).replace(Bi.paramRE,function(_){return w[b]?a==="pixel"?_=x(i)+Number(_):_=x(_):T[b]&&(o==="pixel"?_=M(l)-Number(_):_=M(_)),b++,b>m&&(_="X"),_});return b>m&&(d=d.replace(/[\s,]*X.*/,""),P9.log("Ignoring extra params in segment "+p)),k&&f++,S&&h++,y+d})}function vo(e,r){r=r||0;var t=0;return r&&e&&(e.type==="category"||e.type==="multicategory")&&(t=(e.r2p(1)-e.r2p(0))*r),t}});var Q2=de((Ohe,N9)=>{"use strict";var HJ=ir(),Ui=Lt(),I9=On(),F9=mt(),VJ=$o().readPaths,K2=rl(),GJ=K2.getPathString,$f=K0(),YJ=Cn().FROM_TL;N9.exports=function(r,t,n,a){if(a.selectAll(".shape-label").remove(),!!(n.label.text||n.label.texttemplate)){var o;if(n.label.texttemplate){var i={};if(n.type!=="path"){var l=Ui.getFromId(r,n.xref),u=Ui.getFromId(r,n.yref);let U=Array.isArray(n.xref),X=Array.isArray(n.yref);for(var s in $f){var f=typeof $f[s]=="function",h=!U||$f.simpleXVariables.includes(s),p=!X||$f.simpleYVariables.includes(s);if(f&&h&&p){var b=$f[s](n,l,u);b!==void 0&&(i[s]=b)}}}o=HJ.texttemplateStringForShapes({data:[i],fallback:n.label.texttemplatefallback,locale:r._fullLayout._d3locale,template:n.label.texttemplate})}else o=n.label.text;var y={"data-index":t},w=n.label.font,T={"data-notex":1},m=a.append("g").attr(y).classed("shape-label",!0),k=m.append("text").attr(T).classed("shape-label-text",!0).text(o),S,x,M,d;if(n.path){var _=GJ(r,n),g=VJ(_,r);S=1/0,M=1/0,x=-1/0,d=-1/0;for(var c=0;c<g.length;c++)for(var A=0;A<g[c].length;A++)for(var v=g[c][A],D=1;D<v.length;D+=2){var E=v[D],R=v[D+1];S=Math.min(S,E),x=Math.max(x,E),M=Math.min(M,R),d=Math.max(d,R)}}else{let U=Array.isArray(n.xref),X=Array.isArray(n.yref),$=Ui.getFromId(r,U?n.xref[0]:n.xref),j=Ui.getFromId(r,U?n.xref[1]:n.xref),Y=Ui.getFromId(r,X?n.yref[0]:n.yref),q=Ui.getFromId(r,X?n.yref[1]:n.yref),Q=Ui.getRefType(U?n.xref[0]:n.xref),ae=Ui.getRefType(U?n.xref[1]:n.xref),K=Ui.getRefType(X?n.yref[0]:n.yref),oe=Ui.getRefType(X?n.yref[1]:n.yref),re=function(ee,H,te,le){return K2.getDataToPixel(r,te,H,!1,le)(ee)},V=function(ee,H,te,le){return K2.getDataToPixel(r,te,H,!0,le)(ee)};S=re(n.x0,n.x0shift,$,Q),x=re(n.x1,n.x1shift,j,ae),M=V(n.y0,n.y0shift,Y,K),d=V(n.y1,n.y1shift,q,oe)}var N=n.label.textangle;N==="auto"&&(n.type==="line"?N=WJ(S,M,x,d):N=0),k.call(function(U){return U.call(F9.font,w).attr({}),I9.convertToTspans(U,r),U});var F=F9.bBox(k.node()),I=XJ(S,M,x,d,n,N,F),L=I.textx,P=I.texty,O=I.xanchor;k.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[O],y:P,x:L,transform:"rotate("+N+","+L+","+P+")"}).call(I9.positionText,L,P)}};function WJ(e,r,t,n){var a,o;return o=Math.abs(t-e),t>=e?a=r-n:a=n-r,-180/Math.PI*Math.atan2(a,o)}function XJ(e,r,t,n,a,o,i){var l=a.label.textposition,u=a.label.textangle,s=a.label.padding,f=a.type,h=Math.PI/180*o,p=Math.sin(h),b=Math.cos(h),y=a.label.xanchor,w=a.label.yanchor,T,m,k,S;if(f==="line"){l==="start"?(T=e,m=r):l==="end"?(T=t,m=n):(T=(e+t)/2,m=(r+n)/2),y==="auto"&&(l==="start"?u==="auto"?t>e?y="left":t<e?y="right":y="center":t>e?y="right":t<e?y="left":y="center":l==="end"?u==="auto"?t>e?y="right":t<e?y="left":y="center":t>e?y="left":t<e?y="right":y="center":y="center");var x={left:1,center:0,right:-1},M={bottom:-1,middle:0,top:1};if(u==="auto"){var d=M[w];k=-s*p*d,S=s*b*d}else{var _=x[y],g=M[w];k=s*_,S=s*g}T=T+k,m=m+S}else k=s+3,l.indexOf("right")!==-1?(T=Math.max(e,t)-k,y==="auto"&&(y="right")):l.indexOf("left")!==-1?(T=Math.min(e,t)+k,y==="auto"&&(y="left")):(T=(e+t)/2,y==="auto"&&(y="center")),l.indexOf("top")!==-1?m=Math.min(r,n):l.indexOf("bottom")!==-1?m=Math.max(r,n):m=(r+n)/2,S=s,w==="bottom"?m=m-S:w==="top"&&(m=m+S);var c=YJ[w],A=a.label.font.size,v=i.height,D=(v*c-A)*p,E=-(v*c-A)*b;return{textx:T+D,texty:m+E,xanchor:y}}});var Cv=de((Bhe,G9)=>{"use strict";var ZJ=ir(),JJ=ZJ.strTranslate,z9=oi(),B9=bu(),KJ=B9.drawMode,U9=B9.selectMode,H9=Er(),q9=Xr(),Sv=bv(),QJ=Sv.i000,$J=Sv.i090,jJ=Sv.i180,eK=Sv.i270,rK=Uo(),V9=rK.clearOutlineControllers,j2=$o(),kv=j2.pointsOnRectangle,$2=j2.pointsOnEllipse,tK=j2.writePaths,nK=Av().newShapes,aK=Av().createShapeObj,iK=J2(),oK=Q2();G9.exports=function e(r,t,n,a){a||(a=0);var o=n.gd;function i(){e(r,t,n,a++),($2(r[0])||n.hasText)&&l({redrawing:!0})}function l(I){var L={};n.isActiveShape!==void 0&&(n.isActiveShape=!1,L=nK(t,n)),n.isActiveSelection!==void 0&&(n.isActiveSelection=!1,L=iK(t,n),o._fullLayout._reselect=!0),Object.keys(L).length&&H9.call((I||{}).redrawing?"relayout":"_guiRelayout",o,L)}var u=o._fullLayout,s=u._zoomlayer,f=n.dragmode,h=KJ(f),p=U9(f);(h||p)&&(o._fullLayout._outlining=!0),V9(o),t.attr("d",tK(r));var b,y,w,T,m;if(!a&&(n.isActiveShape||n.isActiveSelection)){m=lK([],r);var k=s.append("g").attr("class","outline-controllers");A(k),F()}if(h&&n.hasText){var S=s.select(".label-temp"),x=aK(t,n,n.dragmode);oK(o,"label-temp",x,S)}function M(I){w=+I.srcElement.getAttribute("data-i"),T=+I.srcElement.getAttribute("data-j"),b[w][T].moveFn=d}function d(I,L){if(r.length){var P=m[w][T][1],O=m[w][T][2],U=r[w],X=U.length;if(kv(U)){var $=I,j=L;if(n.isActiveSelection){var Y=O9(U,T);Y[1]===U[T][1]?j=0:$=0}for(var q=0;q<X;q++)if(q!==T){var Q=U[q];Q[1]===U[T][1]&&(Q[1]=P+$),Q[2]===U[T][2]&&(Q[2]=O+j)}if(U[T][1]=P+$,U[T][2]=O+j,!kv(U))for(var ae=0;ae<X;ae++)for(var K=0;K<U[ae].length;K++)U[ae][K]=m[w][ae][K]}else U[T][1]=P+I,U[T][2]=O+L;i()}}function _(){l()}function g(){if(r.length&&r[w]&&r[w].length){for(var I=[],L=0;L<r[w].length;L++)L!==T&&I.push(r[w][L]);I.length>1&&!(I.length===2&&I[1][0]==="Z")&&(T===0&&(I[0][0]="M"),r[w]=I,i(),l())}}function c(I,L){if(I===2){w=+L.srcElement.getAttribute("data-i"),T=+L.srcElement.getAttribute("data-j");var P=r[w];!kv(P)&&!$2(P)&&g()}}function A(I){b=[];for(var L=0;L<r.length;L++){var P=r[L],O=kv(P),U=!O&&$2(P);b[L]=[];for(var X=P.length,$=0;$<X;$++)if(P[$][0]!=="Z"&&!(U&&$!==QJ&&$!==$J&&$!==jJ&&$!==eK)){var j=O&&n.isActiveSelection,Y;j&&(Y=O9(P,$));var q=P[$][1],Q=P[$][2],ae=I.append(j?"rect":"circle").attr("data-i",L).attr("data-j",$).style({fill:q9.background,stroke:q9.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(j){var K=Y[1]-q,oe=Y[2]-Q,re=oe?5:Math.max(Math.min(25,Math.abs(K)-5),5),V=K?5:Math.max(Math.min(25,Math.abs(oe)-5),5);ae.classed(oe?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",re).attr("height",V).attr("x",q-re/2).attr("y",Q-V/2).attr("transform",JJ(K/2,oe/2))}else ae.classed("cursor-grab",!0).attr("r",5).attr("cx",q).attr("cy",Q);b[L][$]={element:ae.node(),gd:o,prepFn:M,doneFn:_,clickFn:c},z9.init(b[L][$])}}}function v(I,L){if(r.length)for(var P=0;P<r.length;P++)for(var O=0;O<r[P].length;O++)for(var U=0;U+2<r[P][O].length;U+=2)r[P][O][U+1]=m[P][O][U+1]+I,r[P][O][U+2]=m[P][O][U+2]+L}function D(I,L){v(I,L),i()}function E(I){w=+I.srcElement.getAttribute("data-i"),w||(w=0),y[w].moveFn=D}function R(){l()}function N(I){I===2&&sK(o)}function F(){if(y=[],!!r.length){var I=0;y[I]={element:t[0][0],gd:o,prepFn:E,doneFn:R,clickFn:N},z9.init(y[I])}}};function lK(e,r){for(var t=0;t<r.length;t++){var n=r[t];e[t]=[];for(var a=0;a<n.length;a++){e[t][a]=[];for(var o=0;o<n[a].length;o++)e[t][a][o]=n[a][o]}}return e}function O9(e,r){var t=e[r][1],n=e[r][2],a=e.length,o,i,l;return o=(r+1)%a,i=e[o][1],l=e[o][2],i===t&&l===n&&(o=(r+2)%a,i=e[o][1],l=e[o][2]),[o,i,l]}function sK(e){if(U9(e._fullLayout.dragmode)){V9(e);var r=e._fullLayout._activeSelectionIndex,t=(e.layout||{}).selections||[];if(r<t.length){for(var n=[],a=0;a<t.length;a++)a!==r&&n.push(t[a]);delete e._fullLayout._activeSelectionIndex;var o=e._fullLayout.selections[r];e._fullLayout._deselect={xref:o.xref,yref:o.yref},H9.call("_guiRelayout",e,{selections:n})}}}});var Pv=de((Uhe,j9)=>{"use strict";var uK=it(),J9=Er(),ry=ir(),is=Lt(),fK=$o().readPaths,cK=Cv(),Lv=Q2(),K9=Uo().clearOutlineControllers,ey=Xr(),Dv=mt(),hK=yt().arrayEditor,Y9=oi(),W9=Ko(),os=Qf(),sa=rl(),ty=sa.getPathString;j9.exports={draw:ny,drawOne:Q9,eraseActiveShape:gK,drawLabel:Lv};function ny(e){var r=e._fullLayout;r._shapeUpperLayer.selectAll("path").remove(),r._shapeLowerLayer.selectAll("path").remove(),r._shapeUpperLayer.selectAll("text").remove(),r._shapeLowerLayer.selectAll("text").remove();for(var t in r._plots){var n=r._plots[t].shapelayer;n&&(n.selectAll("path").remove(),n.selectAll("text").remove())}for(var a=0;a<r.shapes.length;a++)r.shapes[a].visible===!0&&Q9(e,a)}function Ev(e){return!!e._fullLayout._outlining}function Rv(e){return!e._context.edits.shapePosition}function Q9(e,r){e._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+r+'"]').remove();var t=sa.makeShapesOptionsAndPlotinfo(e,r),n=t.options,a=t.plotinfo;if(!n._input||n.visible!==!0)return;let o=Array.isArray(n.xref)||Array.isArray(n.yref);if(n.layer==="above")l(e._fullLayout._shapeUpperLayer);else if(n.xref.includes("paper")||n.yref.includes("paper"))l(e._fullLayout._shapeLowerLayer);else if(n.layer==="between"&&!o)l(a.shapelayerBetween);else if(a._hadPlotinfo){var i=a.mainplotinfo||a;l(i.shapelayer)}else l(e._fullLayout._shapeLowerLayer);function l(u){var s=ty(e,n),f={"data-index":r,"fill-rule":n.fillrule,d:s},h=n.opacity,p=n.fillcolor,b=n.line.width?n.line.color:"rgba(0,0,0,0)",y=n.line.width,w=n.line.dash;!y&&n.editable===!0&&(y=5,w="solid");var T=s[s.length-1]!=="Z",m=Rv(e)&&n.editable&&e._fullLayout._activeShapeIndex===r;m&&(p=T?"rgba(0,0,0,0)":e._fullLayout.activeshape.fillcolor,h=e._fullLayout.activeshape.opacity);var k=u.append("g").classed("shape-group",!0).attr({"data-index":r}),S=k.append("path").attr(f).style("opacity",h).call(ey.stroke,b).call(ey.fill,p).call(Dv.dashLine,w,y);$9(k,e,n),Lv(e,r,n,k);var x;if((m||e._context.edits.shapePosition)&&(x=hK(e.layout,"shapes",n)),m){S.style({cursor:"move"});var M={element:S.node(),plotinfo:a,gd:e,editHelpers:x,hasText:n.label.text||n.label.texttemplate,isActiveShape:!0},d=fK(s,e);cK(d,S,M)}else e._context.edits.shapePosition?dK(e,S,n,r,u,x):n.editable===!0&&S.style("pointer-events",T||ey.opacity(p)*h<=.5?"stroke":"all");S.node().addEventListener("click",function(){return pK(e,S)})}}function $9(e,r,t){let n=t.xref,a=t.yref;if(Array.isArray(n)||Array.isArray(a)){let o="clip"+r._fullLayout._uid+"shape"+t._index,i=vK(r,n,a);ry.ensureSingleById(r._fullLayout._clips,"clipPath",o,function(l){l.append("rect")}).select("rect").attr(i),Dv.setClipUrl(e,o,r)}else{let o=(n+a).replace(/paper/g,"").replace(/[xyz][0-9]* *domain/g,"");Dv.setClipUrl(e,o?"clip"+r._fullLayout._uid+o:null,r)}}function vK(e,r,t){let n=e._fullLayout._size;function a(l,u){let s=(Array.isArray(l)?l:[l]).map(p=>is.getFromId(e,p)).filter(Boolean);if(!s.length)return u?[n.t,n.t+n.h]:[n.l,n.l+n.w];let f=s.map(function(p){return p._offset}),h=s.map(function(p){return p._offset+p._length});return[Math.min(...f),Math.max(...h)]}let o=a(r,!1),i=a(t,!0);return{x:o[0],y:i[0],width:o[1]-o[0],height:i[1]-i[0]}}function dK(e,r,t,n,a,o){var i=10,l=10,u=t.xsizemode==="pixel",s=t.ysizemode==="pixel",f=t.type==="line",h=t.type==="path",p=o.modifyItem,b,y,w,T,m,k,S,x,M,d,_,g,c,A,v,D=uK.select(r.node().parentNode),E=is.getFromId(e,t.xref),R=is.getRefType(t.xref),N=is.getFromId(e,t.yref),F=is.getRefType(t.yref),I=t.x0shift,L=t.x1shift,P=t.y0shift,O=t.y1shift,U=function(we,ce){var Se=sa.getDataToPixel(e,E,ce,!1,R);return Se(we)},X=function(we,ce){var Se=sa.getDataToPixel(e,N,ce,!0,F);return Se(we)},$=sa.getPixelToData(e,E,!1,R),j=sa.getPixelToData(e,N,!0,F),Y=ae(),q={element:Y.node(),gd:e,prepFn:re,doneFn:V,clickFn:ee},Q;Y9.init(q),Y.node().onmousemove=oe;function ae(){return f?K():r}function K(){var we=10,ce=Math.max(t.line.width,we),Se=a.append("g").attr("data-index",n).attr("drag-helper",!0);Se.append("path").attr("d",r.attr("d")).style({cursor:"move","stroke-width":ce,"stroke-opacity":"0"});var Ce={"fill-opacity":"0"},Fe=Math.max(ce/2,we);return Se.append("circle").attr({"data-line-point":"start-point",cx:u?U(t.xanchor)+t.x0:U(t.x0,I),cy:s?X(t.yanchor)-t.y0:X(t.y0,P),r:Fe}).style(Ce).classed("cursor-grab",!0),Se.append("circle").attr({"data-line-point":"end-point",cx:u?U(t.xanchor)+t.x1:U(t.x1,L),cy:s?X(t.yanchor)-t.y1:X(t.y1,O),r:Fe}).style(Ce).classed("cursor-grab",!0),Se}function oe(we){if(Ev(e)){Q=null;return}if(f)we.target.tagName==="path"?Q="move":Q=we.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var ce=q.element.getBoundingClientRect(),Se=ce.right-ce.left,Ce=ce.bottom-ce.top,Fe=we.clientX-ce.left,Ee=we.clientY-ce.top,ze=!h&&Se>i&&Ce>l&&!we.shiftKey?Y9.getCursor(Fe/Se,1-Ee/Ce):"move";W9(r,ze),Q=ze.split("-")[0]}}function re(we){Ev(e)||(u&&(m=U(t.xanchor)),s&&(k=X(t.yanchor)),t.type==="path"?v=t.path:(b=u?t.x0:U(t.x0),y=s?t.y0:X(t.y0),w=u?t.x1:U(t.x1),T=s?t.y1:X(t.y1)),b<w?(M=b,c="x0",d=w,A="x1"):(M=w,c="x1",d=b,A="x0"),!s&&y<T||s&&y>T?(S=y,_="y0",x=T,g="y1"):(S=T,_="y1",x=y,g="y0"),oe(we),le(a,t),Ae(r,t,e),q.moveFn=Q==="move"?H:te,q.altKey=we.altKey)}function V(){Ev(e)||(W9(r),ve(a),$9(r,e,t),J9.call("_guiRelayout",e,o.getUpdateObj()))}function ee(){Ev(e)||ve(a)}function H(we,ce){if(t.type==="path"){var Se=function(Ee){return Ee},Ce=Se,Fe=Se;u?p("xanchor",t.xanchor=$(m+we)):(Ce=function(ze){return $(U(ze)+we)},E&&E.type==="date"&&(Ce=sa.encodeDate(Ce))),s?p("yanchor",t.yanchor=j(k+ce)):(Fe=function(ze){return j(X(ze)+ce)},N&&N.type==="date"&&(Fe=sa.encodeDate(Fe))),p("path",t.path=X9(v,Ce,Fe))}else u?p("xanchor",t.xanchor=$(m+we)):(p("x0",t.x0=$(b+we)),p("x1",t.x1=$(w+we))),s?p("yanchor",t.yanchor=j(k+ce)):(p("y0",t.y0=j(y+ce)),p("y1",t.y1=j(T+ce)));r.attr("d",ty(e,t)),le(a,t),Lv(e,n,t,D)}function te(we,ce){if(h){var Se=function(Ne){return Ne},Ce=Se,Fe=Se;u?p("xanchor",t.xanchor=$(m+we)):(Ce=function($e){return $(U($e)+we)},E&&E.type==="date"&&(Ce=sa.encodeDate(Ce))),s?p("yanchor",t.yanchor=j(k+ce)):(Fe=function($e){return j(X($e)+ce)},N&&N.type==="date"&&(Fe=sa.encodeDate(Fe))),p("path",t.path=X9(v,Ce,Fe))}else if(f){if(Q==="resize-over-start-point"){var Ee=b+we,ze=s?y-ce:y+ce;p("x0",t.x0=u?Ee:$(Ee)),p("y0",t.y0=s?ze:j(ze))}else if(Q==="resize-over-end-point"){var Ue=w+we,ge=s?T-ce:T+ce;p("x1",t.x1=u?Ue:$(Ue)),p("y1",t.y1=s?ge:j(ge))}}else{var Me=function(Ne){return Q.indexOf(Ne)!==-1},ke=Me("n"),me=Me("s"),ye=Me("w"),pe=Me("e"),he=ke?S+ce:S,xe=me?x+ce:x,Le=ye?M+we:M,qe=pe?d+we:d;s&&(ke&&(he=S-ce),me&&(xe=x-ce)),(!s&&xe-he>l||s&&he-xe>l)&&(p(_,t[_]=s?he:j(he)),p(g,t[g]=s?xe:j(xe))),qe-Le>i&&(p(c,t[c]=u?Le:$(Le)),p(A,t[A]=u?qe:$(qe)))}r.attr("d",ty(e,t)),le(a,t),Lv(e,n,t,D)}function le(we,ce){(u||s)&&Se();function Se(){var Ce=ce.type!=="path",Fe=we.selectAll(".visual-cue").data([0]),Ee=1;Fe.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Ee}).classed("visual-cue",!0);var ze=U(u?ce.xanchor:ry.midRange(Ce?[ce.x0,ce.x1]:sa.extractPathCoords(ce.path,os.paramIsX))),Ue=X(s?ce.yanchor:ry.midRange(Ce?[ce.y0,ce.y1]:sa.extractPathCoords(ce.path,os.paramIsY)));if(ze=sa.roundPositionForSharpStrokeRendering(ze,Ee),Ue=sa.roundPositionForSharpStrokeRendering(Ue,Ee),u&&s){var ge="M"+(ze-1-Ee)+","+(Ue-1-Ee)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Fe.attr("d",ge)}else if(u){var Me="M"+(ze-1-Ee)+","+(Ue-9-Ee)+"v18 h2 v-18 Z";Fe.attr("d",Me)}else{var ke="M"+(ze-9-Ee)+","+(Ue-1-Ee)+"h18 v2 h-18 Z";Fe.attr("d",ke)}}}function ve(we){we.selectAll(".visual-cue").remove()}function Ae(we,ce,Se){var Ce=ce.xref,Fe=ce.yref,Ee=is.getFromId(Se,Ce),ze=is.getFromId(Se,Fe),Ue="";Ce!=="paper"&&!Ee.autorange&&(Ue+=Ce),Fe!=="paper"&&!ze.autorange&&(Ue+=Fe),Dv.setClipUrl(we,Ue?"clip"+Se._fullLayout._uid+Ue:null,Se)}}function X9(e,r,t){return e.replace(os.segmentRE,function(n){var a=0,o=n.charAt(0),i=os.paramIsX[o],l=os.paramIsY[o],u=os.numParams[o],s=n.slice(1).replace(os.paramRE,function(f){return a>=u||(i[a]?f=r(f):l[a]&&(f=t(f)),a++),f});return o+s})}function pK(e,r){if(Rv(e)){var t=r.node(),n=+t.getAttribute("data-index");if(n>=0){if(n===e._fullLayout._activeShapeIndex){Z9(e);return}e._fullLayout._activeShapeIndex=n,e._fullLayout._deactivateShape=Z9,ny(e)}}}function Z9(e){if(Rv(e)){var r=e._fullLayout._activeShapeIndex;r>=0&&(K9(e),delete e._fullLayout._activeShapeIndex,ny(e))}}function gK(e){if(Rv(e)){K9(e);var r=e._fullLayout._activeShapeIndex,t=(e.layout||{}).shapes||[];if(r<t.length){for(var n=[],a=0;a<t.length;a++)a!==r&&n.push(t[a]);return delete e._fullLayout._activeShapeIndex,J9.call("_guiRelayout",e,{shapes:n})}}}});var oy=de((Hhe,sA)=>{"use strict";var Fa=Er(),eA=ln(),rA=en(),rt=mv(),yK=Pv().eraseActiveShape,Iv=ir(),Jr=Iv._,tt=sA.exports={};tt.toImage={name:"toImage",title:function(e){var r=e._context.toImageButtonOptions||{},t=r.format||"png";return t==="png"?Jr(e,"Download plot as a PNG"):Jr(e,"Download plot")},icon:rt.camera,click:function(e){var r=e._context.toImageButtonOptions,t={format:r.format||"png"};Iv.notifier(Jr(e,"Taking snapshot - this may take a few seconds"),"long"),["filename","width","height","scale"].forEach(function(n){n in r&&(t[n]=r[n])}),Fa.call("downloadImage",e,t).then(function(n){Iv.notifier(Jr(e,"Snapshot succeeded")+" - "+n,"long")}).catch(function(){Iv.notifier(Jr(e,"Sorry, there was a problem downloading your snapshot!"),"long")})}};tt.sendDataToCloud={name:"sendDataToCloud",title:function(e){return Jr(e,"Edit in Chart Studio")},icon:rt.disk,click:function(e){eA.sendDataToCloud(e)}};tt.editInChartStudio={name:"editInChartStudio",title:function(e){return Jr(e,"Edit in Chart Studio")},icon:rt.pencil,click:function(e){eA.sendDataToCloud(e)}};tt.zoom2d={name:"zoom2d",_cat:"zoom",title:function(e){return Jr(e,"Zoom")},attr:"dragmode",val:"zoom",icon:rt.zoombox,click:Hn};tt.pan2d={name:"pan2d",_cat:"pan",title:function(e){return Jr(e,"Pan")},attr:"dragmode",val:"pan",icon:rt.pan,click:Hn};tt.select2d={name:"select2d",_cat:"select",title:function(e){return Jr(e,"Box Select")},attr:"dragmode",val:"select",icon:rt.selectbox,click:Hn};tt.lasso2d={name:"lasso2d",_cat:"lasso",title:function(e){return Jr(e,"Lasso Select")},attr:"dragmode",val:"lasso",icon:rt.lasso,click:Hn};tt.drawclosedpath={name:"drawclosedpath",title:function(e){return Jr(e,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:rt.drawclosedpath,click:Hn};tt.drawopenpath={name:"drawopenpath",title:function(e){return Jr(e,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:rt.drawopenpath,click:Hn};tt.drawline={name:"drawline",title:function(e){return Jr(e,"Draw line")},attr:"dragmode",val:"drawline",icon:rt.drawline,click:Hn};tt.drawrect={name:"drawrect",title:function(e){return Jr(e,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:rt.drawrect,click:Hn};tt.drawcircle={name:"drawcircle",title:function(e){return Jr(e,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:rt.drawcircle,click:Hn};tt.eraseshape={name:"eraseshape",title:function(e){return Jr(e,"Erase active shape")},icon:rt.eraseshape,click:yK};tt.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(e){return Jr(e,"Zoom in")},attr:"zoom",val:"in",icon:rt.zoom_plus,click:Hn};tt.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(e){return Jr(e,"Zoom out")},attr:"zoom",val:"out",icon:rt.zoom_minus,click:Hn};tt.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(e){return Jr(e,"Autoscale")},attr:"zoom",val:"auto",icon:rt.autoscale,click:Hn};tt.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(e){return Jr(e,"Reset axes")},attr:"zoom",val:"reset",icon:rt.home,click:Hn};tt.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(e){return Jr(e,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:rt.tooltip_basic,gravity:"ne",click:Hn};tt.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(e){return Jr(e,"Compare data on hover")},attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:rt.tooltip_compare,gravity:"ne",click:Hn};function Hn(e,r){var t=r.currentTarget,n=t.getAttribute("data-attr"),a=t.getAttribute("data-val")||!0,o=e._fullLayout,i={},l=rA.list(e,null,!0),u=o._cartesianSpikesEnabled,s,f;if(n==="zoom"){var h=a==="in"?.5:2,p=(1+h)/2,b=(1-h)/2,y,w;for(f=0;f<l.length;f++)if(s=l[f],w=s.modebardisable==="none"||s.modebardisable.indexOf(a==="auto"||a==="reset"?"autoscale":"zoominout")===-1,w&&!s.fixedrange)if(y=s._name,a==="auto")i[y+".autorange"]=!0;else if(a==="reset")s._rangeInitial0===void 0&&s._rangeInitial1===void 0?i[y+".autorange"]=!0:s._rangeInitial0===void 0?(i[y+".autorange"]=s._autorangeInitial,i[y+".range"]=[null,s._rangeInitial1]):s._rangeInitial1===void 0?(i[y+".range"]=[s._rangeInitial0,null],i[y+".autorange"]=s._autorangeInitial):i[y+".range"]=[s._rangeInitial0,s._rangeInitial1],s._showSpikeInitial!==void 0&&(i[y+".showspikes"]=s._showSpikeInitial,u==="on"&&!s._showSpikeInitial&&(u="off"));else{var T=[s.r2l(s.range[0]),s.r2l(s.range[1])],m=[p*T[0]+b*T[1],p*T[1]+b*T[0]];i[y+".range[0]"]=s.l2r(m[0]),i[y+".range[1]"]=s.l2r(m[1])}}else n==="hovermode"&&(a==="x"||a==="y")&&(a=o._isHoriz?"y":"x",t.setAttribute("data-val",a)),i[n]=a;o._cartesianSpikesEnabled=u,Fa.call("_guiRelayout",e,i)}tt.zoom3d={name:"zoom3d",_cat:"zoom",title:function(e){return Jr(e,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:rt.zoombox,click:Fv};tt.pan3d={name:"pan3d",_cat:"pan",title:function(e){return Jr(e,"Pan")},attr:"scene.dragmode",val:"pan",icon:rt.pan,click:Fv};tt.orbitRotation={name:"orbitRotation",title:function(e){return Jr(e,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:rt["3d_rotate"],click:Fv};tt.tableRotation={name:"tableRotation",title:function(e){return Jr(e,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:rt["z-axis"],click:Fv};function Fv(e,r){for(var t=r.currentTarget,n=t.getAttribute("data-attr"),a=t.getAttribute("data-val")||!0,o=e._fullLayout._subplots.gl3d||[],i={},l=n.split("."),u=0;u<o.length;u++)i[o[u]+"."+l[1]]=a;var s=a==="pan"?a:"zoom";i.dragmode=s,Fa.call("_guiRelayout",e,i)}tt.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(e){return Jr(e,"Reset camera to default")},attr:"resetDefault",icon:rt.home,click:ay};tt.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(e){return Jr(e,"Reset camera to last save")},attr:"resetLastSave",icon:rt.movie,click:ay};function ay(e,r){for(var t=r.currentTarget,n=t.getAttribute("data-attr"),a=n==="resetLastSave",o=n==="resetDefault",i=e._fullLayout,l=i._subplots.gl3d||[],u={},s=0;s<l.length;s++){var f=l[s],h=f+".camera",p=f+".aspectratio",b=f+".aspectmode",y=i[f]._scene,w;a?(u[h+".up"]=y.viewInitial.up,u[h+".eye"]=y.viewInitial.eye,u[h+".center"]=y.viewInitial.center,w=!0):o&&(u[h+".up"]=null,u[h+".eye"]=null,u[h+".center"]=null,w=!0),w&&(u[p+".x"]=y.viewInitial.aspectratio.x,u[p+".y"]=y.viewInitial.aspectratio.y,u[p+".z"]=y.viewInitial.aspectratio.z,u[b]=y.viewInitial.aspectmode)}Fa.call("_guiRelayout",e,u)}tt.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(e){return Jr(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:rt.tooltip_basic,gravity:"ne",click:mK};function tA(e,r){var t=r.currentTarget,n=t._previousVal,a=e._fullLayout,o=a._subplots.gl3d||[],i=["xaxis","yaxis","zaxis"],l={},u={};if(n)u=n,t._previousVal=null;else{for(var s=0;s<o.length;s++){var f=o[s],h=a[f],p=f+".hovermode";l[p]=h.hovermode,u[p]=!1;for(var b=0;b<3;b++){var y=i[b],w=f+"."+y+".showspikes";u[w]=!1,l[w]=h[y].showspikes}}t._previousVal=l}return u}function mK(e,r){var t=tA(e,r);Fa.call("_guiRelayout",e,t)}tt.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(e){return Jr(e,"Zoom in")},attr:"zoom",val:"in",icon:rt.zoom_plus,click:iy};tt.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(e){return Jr(e,"Zoom out")},attr:"zoom",val:"out",icon:rt.zoom_minus,click:iy};tt.resetGeo={name:"resetGeo",_cat:"reset",title:function(e){return Jr(e,"Reset")},attr:"reset",val:null,icon:rt.autoscale,click:iy};tt.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(e){return Jr(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:rt.tooltip_basic,gravity:"ne",click:aA};function iy(e,r){for(var t=r.currentTarget,n=t.getAttribute("data-attr"),a=t.getAttribute("data-val")||!0,o=e._fullLayout,i=o._subplots.geo||[],l=0;l<i.length;l++){var u=i[l],s=o[u];if(n==="zoom"){var f=s.projection.scale,h=a==="in"?2*f:.5*f;Fa.call("_guiRelayout",e,u+".projection.scale",h)}}n==="reset"&&Mu(e,"geo")}tt.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(e){return Jr(e,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:rt.tooltip_basic,gravity:"ne",click:aA};function nA(e){var r=e._fullLayout;return r.hovermode?!1:r._has("cartesian")?r._isHoriz?"y":"x":"closest"}function aA(e){var r=nA(e);Fa.call("_guiRelayout",e,"hovermode",r)}tt.resetViewSankey={name:"resetSankeyGroup",title:function(e){return Jr(e,"Reset view")},icon:rt.home,click:function(e){for(var r={"node.groups":[],"node.x":[],"node.y":[]},t=0;t<e._fullData.length;t++){var n=e._fullData[t]._viewInitial;r["node.groups"].push(n.node.groups.slice()),r["node.x"].push(n.node.x.slice()),r["node.y"].push(n.node.y.slice())}Fa.call("restyle",e,r)}};tt.toggleHover={name:"toggleHover",title:function(e){return Jr(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:rt.tooltip_basic,gravity:"ne",click:function(e,r){var t=tA(e,r);t.hovermode=nA(e),Fa.call("_guiRelayout",e,t)}};tt.resetViews={name:"resetViews",title:function(e){return Jr(e,"Reset views")},icon:rt.home,click:function(e,r){var t=r.currentTarget;t.setAttribute("data-attr","zoom"),t.setAttribute("data-val","reset"),Hn(e,r),t.setAttribute("data-attr","resetLastSave"),ay(e,r),Mu(e,"geo"),Mu(e,"mapbox"),Mu(e,"map")}};tt.toggleSpikelines={name:"toggleSpikelines",title:function(e){return Jr(e,"Toggle Spike Lines")},icon:rt.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var r=e._fullLayout,t=r._cartesianSpikesEnabled;r._cartesianSpikesEnabled=t==="on"?"off":"on",Fa.call("_guiRelayout",e,xK(e))}};function xK(e){for(var r=e._fullLayout,t=r._cartesianSpikesEnabled==="on",n=rA.list(e,null,!0),a={},o=0;o<n.length;o++){var i=n[o];a[i._name+".showspikes"]=t?!0:i._showSpikeInitial}return a}tt.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(e){return Jr(e,"Reset view")},attr:"reset",icon:rt.home,click:function(e){Mu(e,"mapbox")}};tt.resetViewMap={name:"resetViewMap",_cat:"resetView",title:function(e){return Jr(e,"Reset view")},attr:"reset",icon:rt.home,click:function(e){Mu(e,"map")}};tt.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(e){return Jr(e,"Zoom in")},attr:"zoom",val:"in",icon:rt.zoom_plus,click:iA};tt.zoomInMap={name:"zoomInMap",_cat:"zoomin",title:function(e){return Jr(e,"Zoom in")},attr:"zoom",val:"in",icon:rt.zoom_plus,click:oA};tt.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(e){return Jr(e,"Zoom out")},attr:"zoom",val:"out",icon:rt.zoom_minus,click:iA};tt.zoomOutMap={name:"zoomOutMap",_cat:"zoomout",title:function(e){return Jr(e,"Zoom out")},attr:"zoom",val:"out",icon:rt.zoom_minus,click:oA};function iA(e,r){lA(e,r,"mapbox")}function oA(e,r){lA(e,r,"map")}function lA(e,r,t){for(var n=r.currentTarget,a=n.getAttribute("data-val"),o=e._fullLayout,i=o._subplots[t]||[],l=1.05,u={},s=0;s<i.length;s++){var f=i[s],h=o[f].zoom,p=a==="in"?l*h:h/l;u[f+".zoom"]=p}Fa.call("_guiRelayout",e,u)}function Mu(e,r){for(var t=e._fullLayout,n=t._subplots[r]||[],a={},o=0;o<n.length;o++)for(var i=n[o],l=t[i]._subplot,u=l.viewInitial,s=Object.keys(u),f=0;f<s.length;f++){var h=s[f];a[i+"."+h]=u[h]}Fa.call("_guiRelayout",e,a)}});var ly=de((Vhe,hA)=>{"use strict";var uA=oy(),bK=Object.keys(uA),fA=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],cA=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(fA),Tu=[],_K=function(e){if(cA.indexOf(e._cat||e.name)===-1){var r=e.name,t=(e._cat||e.name).toLowerCase();Tu.indexOf(r)===-1&&Tu.push(r),Tu.indexOf(t)===-1&&Tu.push(t)}};bK.forEach(function(e){_K(uA[e])});Tu.sort();hA.exports={DRAW_MODES:fA,backButtons:cA,foreButtons:Tu}});var sy=de((Yhe,vA)=>{"use strict";var Ghe=ly();vA.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}});var pA=de((Whe,dA)=>{"use strict";var wK=ir(),jf=Xr(),MK=yt(),TK=sy();dA.exports=function(r,t){var n=r.modebar||{},a=MK.newContainer(t,"modebar");function o(l,u){return wK.coerce(n,a,TK,l,u)}o("orientation"),o("bgcolor",jf.addOpacity(t.paper_bgcolor,.5));var i=jf.contrast(jf.rgb(t.modebar.bgcolor));o("color",jf.addOpacity(i,.3)),o("activecolor",jf.addOpacity(i,.7)),o("uirevision",t.uirevision),o("add"),o("remove")}});var xA=de((Xhe,mA)=>{"use strict";var uy=it(),AK=nt(),Nv=ir(),gA=mv(),kK=E0().version,SK=new DOMParser;function yA(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var Hi=yA.prototype;Hi.update=function(e,r){this.graphInfo=e;var t=this.graphInfo._context,n=this.graphInfo._fullLayout,a="modebar-"+n._uid;this.element.setAttribute("id",a),this.element.setAttribute("role","toolbar"),this._uid=a,this.element.className="modebar modebar--custom",t.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),n.modebar.orientation==="v"&&(this.element.className+=" vertical",r=r.reverse());var o=n.modebar,i="#"+a+" .modebar-group";document.querySelectorAll(i).forEach(function(h){h.style.backgroundColor=o.bgcolor});var l=!this.hasButtons(r),u=this.hasLogo!==t.displaylogo,s=this.locale!==t.locale;if(this.locale=t.locale,(l||u||s)&&(this.removeAllButtons(),this.updateButtons(r),t.watermark||t.displaylogo)){var f=this.getLogo();t.watermark&&(f.className=f.className+" watermark"),n.modebar.orientation==="v"?this.element.insertBefore(f,this.element.childNodes[0]):this.element.appendChild(f),this.hasLogo=!0}this.updateActiveButton(),Nv.setStyleOnHover("#"+a+" .modebar-btn",".active",".icon path","fill: "+o.activecolor,"fill: "+o.color,this.element)};Hi.updateButtons=function(e){var r=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(t){var n=r.createGroup();t.forEach(function(a){var o=a.name;if(!o)throw new Error("must provide button 'name' in button config");if(r.buttonsNames.indexOf(o)!==-1)throw new Error("button name '"+o+"' is taken");r.buttonsNames.push(o);var i=r.createButton(a);r.buttonElements.push(i),n.appendChild(i)}),r.element.appendChild(n)})};Hi.createGroup=function(){var e=document.createElement("div");e.className="modebar-group";var r=this.graphInfo._fullLayout.modebar;return e.style.backgroundColor=r.bgcolor,e};Hi.createButton=function(e){var r=this,t=document.createElement("button");t.setAttribute("type","button"),t.setAttribute("rel","tooltip"),t.className="modebar-btn";var n=e.title;n===void 0?n=e.name:typeof n=="function"&&(n=n(this.graphInfo)),(n||n===0)&&(t.setAttribute("data-title",n),t.setAttribute("aria-label",n)),e.attr!==void 0&&t.setAttribute("data-attr",e.attr);var a=e.val;a!==void 0&&(typeof a=="function"&&(a=a(this.graphInfo)),t.setAttribute("data-val",a));var o=e.click;if(typeof o!="function")throw new Error("must provide button 'click' function in button config");t.addEventListener("click",function(l){e.click(r.graphInfo,l),r.updateActiveButton(l.currentTarget)}),t.setAttribute("data-toggle",e.toggle||!1),e.toggle&&uy.select(t).classed("active",!0);var i=e.icon;return typeof i=="function"?t.appendChild(i()):t.appendChild(this.createIcon(i||gA.question)),t.setAttribute("data-gravity",e.gravity||"n"),t};Hi.createIcon=function(e){var r=AK(e.height)?Number(e.height):e.ascent-e.descent,t="http://www.w3.org/2000/svg",n;if(e.path){n=document.createElementNS(t,"svg"),n.setAttribute("viewBox",[0,0,e.width,r].join(" ")),n.setAttribute("class","icon");var a=document.createElementNS(t,"path");a.setAttribute("d",e.path),e.transform?a.setAttribute("transform",e.transform):e.ascent!==void 0&&a.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),n.appendChild(a)}if(e.svg){var o=SK.parseFromString(e.svg,"application/xml");n=o.childNodes[0]}return n.setAttribute("height","1em"),n.setAttribute("width","1em"),n};Hi.updateActiveButton=function(e){var r=this.graphInfo._fullLayout,t=e!==void 0?e.getAttribute("data-attr"):null;this.buttonElements.forEach(function(n){var a=n.getAttribute("data-val")||!0,o=n.getAttribute("data-attr"),i=n.getAttribute("data-toggle")==="true",l=uy.select(n),u=function(h,p){var b=r.modebar,y=h.querySelector(".icon path");y&&(p||h.matches(":hover")?y.style.fill=b.activecolor:y.style.fill=b.color)};if(i){if(o===t){var s=!l.classed("active");l.classed("active",s),u(n,s)}}else{var f=o===null?o:Nv.nestedProperty(r,o).get();l.classed("active",f===a),u(n,f===a)}})};Hi.hasButtons=function(e){var r=this.buttons;if(!r||e.length!==r.length)return!1;for(var t=0;t<e.length;++t){if(e[t].length!==r[t].length)return!1;for(var n=0;n<e[t].length;n++)if(e[t][n].name!==r[t][n].name)return!1}return!0};function CK(e){return e+" (v"+kK+")"}Hi.getLogo=function(){var e=this.createGroup(),r=document.createElement("a");return r.href="https://plotly.com/",r.target="_blank",r.setAttribute("data-title",CK(Nv._(this.graphInfo,"Produced with Plotly.js"))),r.className="modebar-btn plotlyjsicon modebar-btn--logo",r.appendChild(this.createIcon(gA.newplotlylogo)),e.appendChild(r),e};Hi.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1};Hi.destroy=function(){Nv.removeElement(this.container.querySelector(".modebar"))};function EK(e,r){var t=e._fullLayout,n=new yA({graphInfo:e,container:t._modebardiv.node(),buttons:r});return t._privateplot&&uy.select(n.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),n}mA.exports=EK});var wA=de((Zhe,_A)=>{"use strict";var LK=en(),bA=la(),fy=Er(),DK=so().isUnifiedHover,RK=xA(),zv=oy(),PK=ly().DRAW_MODES,IK=ir().extendDeep;_A.exports=function(r){var t=r._fullLayout,n=r._context,a=t._modeBar;if(!n.displayModeBar&&!n.watermark){a&&(a.destroy(),delete t._modeBar);return}if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var o=n.modeBarButtons,i;Array.isArray(o)&&o.length?i=BK(o):!n.displayModeBar&&n.watermark?i=[]:i=FK(r),a?a.update(r,i):t._modeBar=RK(r,i)};function FK(e){var r=e._fullLayout,t=e._fullData,n=e._context;function a(L,P){if(typeof P=="string"){if(P.toLowerCase()===L.toLowerCase())return!0}else{var O=P.name,U=P._cat||P.name;if(O===L||U===L.toLowerCase())return!0}return!1}var o=r.modebar.add;typeof o=="string"&&(o=[o]);var i=r.modebar.remove;typeof i=="string"&&(i=[i]);var l=n.modeBarButtonsToAdd.concat(o.filter(function(L){for(var P=0;P<n.modeBarButtonsToRemove.length;P++)if(a(L,n.modeBarButtonsToRemove[P]))return!1;return!0})),u=n.modeBarButtonsToRemove.concat(i.filter(function(L){for(var P=0;P<n.modeBarButtonsToAdd.length;P++)if(a(L,n.modeBarButtonsToAdd[P]))return!1;return!0})),s=r._has("cartesian"),f=r._has("gl3d"),h=r._has("geo"),p=r._has("pie"),b=r._has("funnelarea"),y=r._has("ternary"),w=r._has("mapbox"),T=r._has("map"),m=r._has("polar"),k=r._has("smith"),S=r._has("sankey"),x=NK(r),M=DK(r.hovermode),d=[];function _(L){if(L.length){for(var P=[],O=0;O<L.length;O++){for(var U=L[O],X=zv[U],$=X.name.toLowerCase(),j=(X._cat||X.name).toLowerCase(),Y=!1,q=0;q<u.length;q++){var Q=u[q].toLowerCase();if(Q===$||Q===j){Y=!0;break}}Y||P.push(zv[U])}d.push(P)}}var g=["toImage"];n.showEditInChartStudio?g.push("editInChartStudio"):n.showSendToCloud&&g.push("sendDataToCloud"),_(g);var c=[],A=[],v=[],D=[];(s||p||b||y)+h+f+w+T+m+k>1?(A=["toggleHover"],v=["resetViews"]):h?(c=["zoomInGeo","zoomOutGeo"],A=["hoverClosestGeo"],v=["resetGeo"]):f?(A=["hoverClosest3d"],v=["resetCameraDefault3d","resetCameraLastSave3d"]):w?(c=["zoomInMapbox","zoomOutMapbox"],A=["toggleHover"],v=["resetViewMapbox"]):T?(c=["zoomInMap","zoomOutMap"],A=["toggleHover"],v=["resetViewMap"]):p?A=["hoverClosestPie"]:S?(A=["hoverClosestCartesian","hoverCompareCartesian"],v=["resetViewSankey"]):A=["toggleHover"],s&&A.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(qK(t)||M)&&(A=[]),s&&!x&&(c=["zoomIn2d","zoomOut2d","autoScale2d"],v[0]!=="resetViews"&&(v=["resetScale2d"])),f?D=["zoom3d","pan3d","orbitRotation","tableRotation"]:s&&!x||y?D=["zoom2d","pan2d"]:w||T||h?D=["pan2d"]:m&&(D=["zoom2d"]),zK(t)&&D.push("select2d","lasso2d");var E=[],R=function(L){E.indexOf(L)===-1&&A.indexOf(L)!==-1&&E.push(L)};if(Array.isArray(l)){for(var N=[],F=0;F<l.length;F++){var I=l[F];typeof I=="string"?(I=I.toLowerCase(),PK.indexOf(I)!==-1?(r._has("mapbox")||r._has("map")||r._has("cartesian"))&&D.push(I):I==="togglespikelines"?R("toggleSpikelines"):I==="togglehover"?R("toggleHover"):I==="hovercompare"?R("hoverCompareCartesian"):I==="hoverclosest"?(R("hoverClosestCartesian"),R("hoverClosestGeo"),R("hoverClosest3d"),R("hoverClosestPie")):I==="v1hovermode"&&(R("hoverClosestCartesian"),R("hoverCompareCartesian"),R("hoverClosestGeo"),R("hoverClosest3d"),R("hoverClosestPie"))):N.push(I)}l=N}return _(D),_(c.concat(v)),_(E),OK(d,l)}function NK(e){for(var r=LK.list({_fullLayout:e},null,!0),t=0;t<r.length;t++){var n=r[t].modebardisable;if(!r[t].fixedrange&&n!=="autoscale+zoominout"&&n!=="zoominout+autoscale")return!1}return!0}function zK(e){for(var r=!1,t=0;t<e.length&&!r;t++){var n=e[t];!n._module||!n._module.selectPoints||(fy.traceIs(n,"scatter-like")?(bA.hasMarkers(n)||bA.hasText(n))&&(r=!0):fy.traceIs(n,"box-violin")?(n.boxpoints==="all"||n.points==="all")&&(r=!0):r=!0)}return r}function qK(e){for(var r=0;r<e.length;r++)if(!fy.traceIs(e[r],"noHover"))return!1;return!0}function OK(e,r){if(r.length)if(Array.isArray(r[0]))for(var t=0;t<r.length;t++)e.push(r[t]);else e.push(r);return e}function BK(e){for(var r=IK([],e),t=0;t<r.length;t++)for(var n=r[t],a=0;a<n.length;a++){var o=n[a];if(typeof o=="string")if(zv[o]!==void 0)r[t][a]=zv[o];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return r}});var cy=de((Jhe,MA)=>{"use strict";MA.exports={moduleType:"component",name:"modebar",layoutAttributes:sy(),supplyLayoutDefaults:pA(),manage:wA()}});var hy=de((Khe,TA)=>{"use strict";var UK=Cn().FROM_BL;TA.exports=function(r,t,n){n===void 0&&(n=UK[r.constraintoward||"center"]);var a=[r.r2l(r.range[0]),r.r2l(r.range[1])],o=a[0]+(a[1]-a[0])*n;r.range=r._input.range=[r.l2r(o+(a[0]-o)*t),r.l2r(o+(a[1]-o)*t)],r.setScale()}});var rc=de(ec=>{"use strict";var ls=ir(),vy=uu(),si=en().id2name,HK=Da(),AA=hy(),VK=Vh(),GK=nn().ALMOST_EQUAL,YK=Cn().FROM_BL;ec.handleDefaults=function(e,r,t){var n=t.axIds,a=t.axHasImage,o=r._axisConstraintGroups=[],i=r._axisMatchGroups=[],l,u,s,f,h,p,b,y;for(l=0;l<n.length;l++)f=si(n[l]),h=e[f],p=r[f],WK(h,p,{axIds:n,layoutOut:r,hasImage:a[f]});function w(g,c){for(l=0;l<g.length;l++){u=g[l];for(s in u)r[si(s)][c]=u}}for(w(i,"_matchGroup"),l=0;l<o.length;l++){u=o[l];for(s in u)if(p=r[si(s)],p.fixedrange){for(var T in u){var m=si(T);(e[m]||{}).fixedrange===!1&&ls.warn("fixedrange was specified as false for axis "+m+" but was overridden because another axis in its constraint group has fixedrange true"),r[m].fixedrange=!0}break}}for(l=0;l<o.length;){u=o[l];for(s in u){p=r[si(s)],p._matchGroup&&Object.keys(p._matchGroup).length===Object.keys(u).length&&(o.splice(l,1),l--);break}l++}w(o,"_constraintGroup");var k=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],S=!1,x=!1;function M(){y=p[b],b==="rangebreaks"&&(x=p._hasDayOfWeekBreaks)}for(l=0;l<i.length;l++){u=i[l];for(var d=0;d<k.length;d++){b=k[d],y=null;var _;for(s in u)if(f=si(s),h=e[f],p=r[f],b in p){if(!p.matches&&(_=p,b in h)){M();break}y===null&&b in h&&M()}if(b==="range"&&y&&h.range&&h.range.length===2&&h.range[0]!==null&&h.range[1]!==null&&(S=!0),b==="autorange"&&y===null&&S&&(y=!1),y===null&&b in _&&(y=_[b]),y!==null)for(s in u)p=r[si(s)],p[b]=b==="range"?y.slice():y,b==="rangebreaks"&&(p._hasDayOfWeekBreaks=x,VK(p,r))}}};function WK(e,r,t){var n=t.axIds,a=t.layoutOut,o=t.hasImage,i=a._axisConstraintGroups,l=a._axisMatchGroups,u=r._id,s=u.charAt(0),f=((a._splomAxes||{})[s]||{})[u]||{},h=r._id,p=h.charAt(0)==="x";r._matchGroup=null,r._constraintGroup=null;function b(D,E){return ls.coerce(e,r,HK,D,E)}b("constrain",o?"domain":"range"),ls.coerce(e,r,{constraintoward:{valType:"enumerated",values:p?["left","center","right"]:["bottom","middle","top"],dflt:p?"center":"middle"}},"constraintoward");var y=r.type,w,T,m=[];for(w=0;w<n.length;w++)if(T=n[w],T!==h){var k=a[si(T)];k.type===y&&m.push(T)}var S=CA(i,h);if(S){var x=[];for(w=0;w<m.length;w++)T=m[w],S[T]||x.push(T);m=x}var M=m.length,d,_;M&&(e.matches||f.matches)&&(d=ls.coerce(e,r,{matches:{valType:"enumerated",values:m,dflt:m.indexOf(f.matches)!==-1?f.matches:void 0}},"matches"));var g=o&&!p?r.anchor:void 0;if(M&&!d&&(e.scaleanchor||g)&&(_=ls.coerce(e,r,{scaleanchor:{valType:"enumerated",values:m.concat([!1])}},"scaleanchor",g)),d){r._matchGroup=dy(l,h,d,1);var c=a[si(d)],A=kA(a,r)/kA(a,c);p!==(d.charAt(0)==="x")&&(A=(p?"x":"y")+A),dy(i,h,d,A)}else e.matches&&n.indexOf(e.matches)!==-1&&ls.warn("ignored "+r._name+'.matches: "'+e.matches+'" to avoid an infinite loop');if(_){var v=b("scaleratio");v||(v=r.scaleratio=1),dy(i,h,_,v)}else e.scaleanchor&&n.indexOf(e.scaleanchor)!==-1&&ls.warn("ignored "+r._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function kA(e,r){var t=r.domain;return t||(t=e[si(r.overlaying)].domain),t[1]-t[0]}function CA(e,r){for(var t=0;t<e.length;t++)if(e[t][r])return e[t];return null}function dy(e,r,t,n){var a,o,i,l,u,s=CA(e,r);s===null?(s={},s[r]=1,u=e.length,e.push(s)):u=e.indexOf(s);var f=Object.keys(s);for(a=0;a<e.length;a++)if(i=e[a],a!==u&&i[t]){var h=i[t];for(o=0;o<f.length;o++)l=f[o],i[l]=py(h,py(n,s[l]));e.splice(u,1);return}if(n!==1)for(o=0;o<f.length;o++){var p=f[o];s[p]=py(n,s[p])}s[t]=1}function py(e,r){var t="",n="",a,o;typeof e=="string"&&(t=e.match(/^[xy]*/)[0],a=t.length,e=+e.slice(a)),typeof r=="string"&&(n=r.match(/^[xy]*/)[0],o=n.length,r=+r.slice(o));var i=e*r;return!a&&!o?i:!a||!o||t.charAt(0)===n.charAt(0)?t+n+e*r:a===o?i:(a>o?t.slice(o):n.slice(a))+i}function XK(e,r){for(var t=r._size,n=t.h/t.w,a={},o=Object.keys(e),i=0;i<o.length;i++){var l=o[i],u=e[l];if(typeof u=="string"){var s=u.match(/^[xy]*/)[0],f=s.length;u=+u.slice(f);for(var h=s.charAt(0)==="y"?n:1/n,p=0;p<f;p++)u*=h}a[l]=u}return a}ec.enforce=function(r){var t=r._fullLayout,n=t._axisConstraintGroups||[],a,o,i,l,u,s,f,h;for(a=0;a<n.length;a++){i=XK(n[a],t);var p=Object.keys(i),b=1/0,y=0,w=1/0,T={},m={},k=!1;for(o=0;o<p.length;o++)l=p[o],m[l]=u=t[si(l)],u._inputDomain?u.domain=u._inputDomain.slice():u._inputDomain=u.domain.slice(),u._inputRange||(u._inputRange=u.range.slice()),u.setScale(),T[l]=s=Math.abs(u._m)/i[l],b=Math.min(b,s),(u.constrain==="domain"||!u._constraintShrinkable)&&(w=Math.min(w,s)),delete u._constraintShrinkable,y=Math.max(y,s),u.constrain==="domain"&&(k=!0);if(!(b>GK*y&&!k)){for(o=0;o<p.length;o++)if(l=p[o],s=T[l],u=m[l],f=u.constrain,s!==w||f==="domain")if(h=s/w,f==="range")AA(u,h);else{var S=u._inputDomain,x=(u.domain[1]-u.domain[0])/(S[1]-S[0]),M=(u.r2l(u.range[1])-u.r2l(u.range[0]))/(u.r2l(u._inputRange[1])-u.r2l(u._inputRange[0]));if(h/=x,h*M<1){u.domain=u._input.domain=S.slice(),AA(u,h);continue}if(M<1&&(u.range=u._input.range=u._inputRange.slice(),h*=M),u.autorange){var d=u.r2l(u.range[0]),_=u.r2l(u.range[1]),g=(d+_)/2,c=g,A=g,v=Math.abs(_-g),D=g-v*h*1.0001,E=g+v*h*1.0001,R=vy.makePadFn(t,u,0),N=vy.makePadFn(t,u,1);SA(u,h);var F=Math.abs(u._m),I=vy.concatExtremes(r,u),L=I.min,P=I.max,O,U;for(U=0;U<L.length;U++)O=L[U].val-R(L[U])/F,O>D&&O<c&&(c=O);for(U=0;U<P.length;U++)O=P[U].val+N(P[U])/F,O<E&&O>A&&(A=O);var X=(A-c)/(2*v);h/=X,c=u.l2r(c),A=u.l2r(A),u.range=u._input.range=d<_?[c,A]:[A,c]}SA(u,h)}}}};ec.getAxisGroup=function(r,t){for(var n=r._axisMatchGroups,a=0;a<n.length;a++){var o=n[a];if(o[t])return"g"+a}return t};ec.clean=function(r,t){if(t._inputDomain){for(var n=!1,a=t._id,o=r._fullLayout._axisConstraintGroups,i=0;i<o.length;i++)if(o[i][a]){n=!0;break}(!n||t.constrain!=="domain")&&(t._input.domain=t.domain=t._inputDomain,delete t._inputDomain)}};function SA(e,r){var t=e._inputDomain,n=YK[e.constraintoward],a=t[0]+(t[1]-t[0])*n;e.domain=e._input.domain=[a+(t[0]-a)/r,a+(t[1]-a)/r],e.setScale()}});var Bv=de(fn=>{"use strict";var Ov=it(),Vn=Er(),ma=ln(),Na=ir(),gy=On(),yy=yv(),tc=Xr(),Au=mt(),EA=Nf(),IA=cy(),nc=Lt(),po=Cn(),FA=rc(),ZK=FA.enforce,JK=FA.clean,LA=uu().doAutoRange,NA="start",KK="middle",zA="end",QK=on().zindexSeparator;fn.layoutStyles=function(e){return Na.syncOrAsync([ma.doAutoMargin,jK],e)};function $K(e,r,t){for(var n=0;n<t.length;n++){var a=t[n][0],o=t[n][1];if(!(a[0]>=e[1]||a[1]<=e[0])&&o[0]<r[1]&&o[1]>r[0])return!0}return!1}function jK(e){var r=e._fullLayout,t=r._size,n=t.p,a=nc.list(e,"",!0),o,i,l,u,s,f;if(r._paperdiv.style({width:e._context.responsive&&r.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":r.width+"px",height:e._context.responsive&&r.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":r.height+"px"}).selectAll(".main-svg").call(Au.setSize,r.width,r.height),e._context.setBackground(e,r.paper_bgcolor),fn.drawMainTitle(e),IA.manage(e),!r._has("cartesian"))return ma.previousPromises(e);function h(re,V,ee){var H=re._lw/2;if(re._id.charAt(0)==="x"){if(V){if(ee==="top")return V._offset-n-H}else return t.t+t.h*(1-(re.position||0))+H%1;return V._offset+V._length+n+H}if(V){if(ee==="right")return V._offset+V._length+n+H}else return t.l+t.w*(re.position||0)+H%1;return V._offset-n-H}for(o=0;o<a.length;o++){u=a[o];var p=u._anchorAxis;u._linepositions={},u._lw=Au.crispRound(e,u.linewidth,1),u._mainLinePosition=h(u,p,u.side),u._mainMirrorPosition=u.mirror&&p?h(u,p,po.OPPOSITE_SIDE[u.side]):null}var b=[],y=[],w=[],T=tc.opacity(r.paper_bgcolor)===1&&tc.opacity(r.plot_bgcolor)===1&&r.paper_bgcolor===r.plot_bgcolor;for(i in r._plots)if(l=r._plots[i],l.mainplot)l.bg&&l.bg.remove(),l.bg=void 0;else{var m=l.xaxis.domain,k=l.yaxis.domain,S=l.plotgroup;if($K(m,k,w)&&i.indexOf(QK)===-1){var x=S.node(),M=l.bg=Na.ensureSingle(S,"rect","bg");x.insertBefore(M.node(),x.childNodes[0]),y.push(i)}else S.select("rect.bg").remove(),w.push([m,k]),T||(b.push(i),y.push(i))}var d=r._bgLayer.selectAll(".bg").data(b);for(d.enter().append("rect").classed("bg",!0),d.exit().remove(),d.each(function(re){r._plots[re].bg=Ov.select(this)}),o=0;o<y.length;o++)l=r._plots[y[o]],s=l.xaxis,f=l.yaxis,l.bg&&s._offset!==void 0&&f._offset!==void 0&&l.bg.call(Au.setRect,s._offset-n,f._offset-n,s._length+2*n,f._length+2*n).call(tc.fill,r.plot_bgcolor).style("stroke-width",0);if(!r._hasOnlyLargeSploms)for(i in r._plots){l=r._plots[i],s=l.xaxis,f=l.yaxis;var _=l.clipId="clip"+r._uid+i+"plot",g=Na.ensureSingleById(r._clips,"clipPath",_,function(re){re.classed("plotclip",!0).append("rect")});l.clipRect=g.select("rect").attr({width:s._length,height:f._length}),Au.setTranslate(l.plot,s._offset,f._offset);var c,A;l._hasClipOnAxisFalse?(c=null,A=_):(c=_,A=null),Au.setClipUrl(l.plot,c,e),l.layerClipId=A}var v,D,E,R,N,F,I,L,P,O,U,X,$;function j(re){return"M"+v+","+re+"H"+D}function Y(re){return"M"+s._offset+","+re+"h"+s._length}function q(re){return"M"+re+","+L+"V"+I}function Q(re){return f._shift!==void 0&&(re+=f._shift),"M"+re+","+f._offset+"v"+f._length}function ae(re,V,ee){if(!re.showline||i!==re._mainSubplot)return"";if(!re._anchorAxis)return ee(re._mainLinePosition);var H=V(re._mainLinePosition);return re.mirror&&(H+=V(re._mainMirrorPosition)),H}for(i in r._plots){l=r._plots[i],s=l.xaxis,f=l.yaxis;var K="M0,0";DA(s,i)&&(N=qv(s,"left",f,a),v=s._offset-(N?n+N:0),F=qv(s,"right",f,a),D=s._offset+s._length+(F?n+F:0),E=h(s,f,"bottom"),R=h(s,f,"top"),$=!s._anchorAxis||i!==s._mainSubplot,$&&(s.mirror==="allticks"||s.mirror==="all")&&(s._linepositions[i]=[E,R]),K=ae(s,j,Y),$&&s.showline&&(s.mirror==="all"||s.mirror==="allticks")&&(K+=j(E)+j(R)),l.xlines.style("stroke-width",s._lw+"px").call(tc.stroke,s.showline?s.linecolor:"rgba(0,0,0,0)")),l.xlines.attr("d",K);var oe="M0,0";DA(f,i)&&(U=qv(f,"bottom",s,a),I=f._offset+f._length+(U?n:0),X=qv(f,"top",s,a),L=f._offset-(X?n:0),P=h(f,s,"left"),O=h(f,s,"right"),$=!f._anchorAxis||i!==f._mainSubplot,$&&(f.mirror==="allticks"||f.mirror==="all")&&(f._linepositions[i]=[P,O]),oe=ae(f,q,Q),$&&f.showline&&(f.mirror==="all"||f.mirror==="allticks")&&(oe+=q(P)+q(O)),l.ylines.style("stroke-width",f._lw+"px").call(tc.stroke,f.showline?f.linecolor:"rgba(0,0,0,0)")),l.ylines.attr("d",oe)}return nc.makeClipPaths(e),ma.previousPromises(e)}function DA(e,r){return(e.ticks||e.showline)&&(r===e._mainSubplot||e.mirror==="all"||e.mirror==="allticks")}function RA(e,r,t){if(!t.showline||!t._lw)return!1;if(t.mirror==="all"||t.mirror==="allticks")return!0;var n=t._anchorAxis;if(!n)return!1;var a=po.FROM_BL[r];return t.side===r?n.domain[a]===e.domain[a]:t.mirror&&n.domain[1-a]===e.domain[1-a]}function qv(e,r,t,n){if(RA(e,r,t))return t._lw;for(var a=0;a<n.length;a++){var o=n[a];if(o._mainAxis===t._mainAxis&&RA(e,r,o))return o._lw}return 0}fn.drawMainTitle=function(e){var r=e._fullLayout.title,t=e._fullLayout,n=oQ(t),a=lQ(t),o=iQ(t,a),i=aQ(t,n);if(EA.draw(e,"gtitle",{propContainer:t,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:t._dfltTitle.plot,subtitlePlaceholder:t._dfltTitle.subtitle,attributes:{x:i,y:o,"text-anchor":n,dy:a}}),r.text&&r.automargin){var l=Ov.select(e).selectAll(".gtitle"),u=Au.bBox(Ov.select(e).selectAll(".g-gtitle").node()).height,s=tQ(e,r,u);if(s>0){nQ(e,o,s,u),l.attr({x:i,y:o,"text-anchor":n,dy:PA(r.yanchor)}).call(gy.positionText,i,o);var f=(r.text.match(gy.BR_TAG_ALL)||[]).length;if(f){var h=po.LINE_SPACING*f+po.MID_SHIFT;r.y===0&&(h=-h),l.selectAll(".line").each(function(){var T=+this.getAttribute("dy").slice(0,-2)-h+"em";this.setAttribute("dy",T)})}var p=Ov.select(e).selectAll(".gtitle-subtitle");if(p.node()){var b=l.node().getBBox(),y=b.y+b.height,w=y+EA.SUBTITLE_PADDING_EM*r.subtitle.font.size;p.attr({x:i,y:w,"text-anchor":n,dy:PA(r.yanchor)}).call(gy.positionText,i,w)}}}};function eQ(e,r,t,n,a){var o=r.yref==="paper"?e._fullLayout._size.h:e._fullLayout.height,i=Na.isTopAnchor(r)?n:n-a,l=t==="b"?o-i:i;return Na.isTopAnchor(r)&&t==="t"||Na.isBottomAnchor(r)&&t==="b"?!1:l<a}function rQ(e,r,t,n,a){var o=0;return t==="middle"&&(o+=a/2),e==="t"?(t==="top"&&(o+=a),o+=n-r*n):(t==="bottom"&&(o+=a),o+=r*n),o}function tQ(e,r,t){var n=r.y,a=r.yanchor,o=n>.5?"t":"b",i=e._fullLayout.margin[o],l=0;return r.yref==="paper"?l=t+r.pad.t+r.pad.b:r.yref==="container"&&(l=rQ(o,n,a,e._fullLayout.height,t)+r.pad.t+r.pad.b),l>i?l:0}function nQ(e,r,t,n){var a="title.automargin",o=e._fullLayout.title,i=o.y>.5?"t":"b",l={x:o.x,y:o.y,t:0,b:0},u={};o.yref==="paper"&&eQ(e,o,i,r,n)?l[i]=t:o.yref==="container"&&(u[i]=t,e._fullLayout._reservedMargin[a]=u),ma.allowAutoMargin(e,a),ma.autoMargin(e,a,l)}function aQ(e,r){var t=e.title,n=e._size,a=0;switch(r===NA?a=t.pad.l:r===zA&&(a=-t.pad.r),t.xref){case"paper":return n.l+n.w*t.x+a;case"container":default:return e.width*t.x+a}}function iQ(e,r){var t=e.title,n=e._size,a=0;if(r==="0em"||!r?a=-t.pad.b:r===po.CAP_SHIFT+"em"&&(a=t.pad.t),t.y==="auto")return n.t/2;switch(t.yref){case"paper":return n.t+n.h-n.h*t.y+a;case"container":default:return e.height-e.height*t.y+a}}function PA(e){return e==="top"?po.CAP_SHIFT+.3+"em":e==="bottom"?"-0.3em":po.MID_SHIFT+"em"}function oQ(e){var r=e.title,t=KK;return Na.isRightAnchor(r)?t=zA:Na.isLeftAnchor(r)&&(t=NA),t}function lQ(e){var r=e.title,t="0em";return Na.isTopAnchor(r)?t=po.CAP_SHIFT+"em":Na.isMiddleAnchor(r)&&(t=po.MID_SHIFT+"em"),t}fn.doTraceStyle=function(e){var r=e.calcdata,t=[],n;for(n=0;n<r.length;n++){var a=r[n],o=a[0]||{},i=o.trace||{},l=i._module||{},u=l.arraysToCalcdata;u&&u(a,i);var s=l.editStyle;s&&t.push({fn:s,cd0:o})}if(t.length){for(n=0;n<t.length;n++){var f=t[n];f.fn(e,f.cd0)}yy(e),fn.redrawReglTraces(e)}return ma.style(e),Vn.getComponentMethod("legend","draw")(e),ma.previousPromises(e)};fn.doColorBars=function(e){return Vn.getComponentMethod("colorbar","draw")(e),ma.previousPromises(e)};fn.layoutReplot=function(e){var r=e.layout;return e.layout=void 0,Vn.call("_doPlot",e,"",r)};fn.doLegend=function(e){return Vn.getComponentMethod("legend","draw")(e),ma.previousPromises(e)};fn.doTicksRelayout=function(e){return nc.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(Vn.subplotsRegistry.splom.updateGrid(e),yy(e),fn.redrawReglTraces(e)),fn.drawMainTitle(e),ma.previousPromises(e)};fn.doModeBar=function(e){var r=e._fullLayout;IA.manage(e);for(var t=0;t<r._basePlotModules.length;t++){var n=r._basePlotModules[t].updateFx;n&&n(e)}return ma.previousPromises(e)};fn.doCamera=function(e){for(var r=e._fullLayout,t=r._subplots.gl3d,n=0;n<t.length;n++){var a=r[t[n]],o=a._scene;o.setViewport(a)}};fn.drawData=function(e){var r=e._fullLayout;yy(e);for(var t=r._basePlotModules,n=0;n<t.length;n++)t[n].plot(e);return fn.redrawReglTraces(e),ma.style(e),Vn.getComponentMethod("selections","draw")(e),Vn.getComponentMethod("shapes","draw")(e),Vn.getComponentMethod("annotations","draw")(e),Vn.getComponentMethod("images","draw")(e),r._replotting=!1,ma.previousPromises(e)};fn.redrawReglTraces=function(e){var r=e._fullLayout;if(r._has("regl")){var t=e._fullData,n=[],a=[],o,i;for(r._hasOnlyLargeSploms&&r._splomGrid.draw(),o=0;o<t.length;o++){var l=t[o];l.visible===!0&&l._length!==0&&(l.type==="splom"?r._splomScenes[l.uid].draw():l.type==="scattergl"?Na.pushUnique(n,l.xaxis+l.yaxis):l.type==="scatterpolargl"&&Na.pushUnique(a,l.subplot))}for(o=0;o<n.length;o++)i=r._plots[n[o]],i._scene&&i._scene.draw();for(o=0;o<a.length;o++)i=r[a[o]]._subplot,i._scene&&i._scene.draw()}};fn.doAutoRangeAndConstraints=function(e){for(var r=nc.list(e,"",!0),t,n={},a=0;a<r.length;a++)if(t=r[a],!n[t._id]){n[t._id]=1,JK(e,t),LA(e,t);var o=t._matchGroup;if(o)for(var i in o){var l=nc.getFromId(e,i);LA(e,l,t.range),n[i]=1}}ZK(e)};fn.finalDraw=function(e){Vn.getComponentMethod("rangeslider","draw")(e),Vn.getComponentMethod("rangeselector","draw")(e)};fn.drawMarginPushers=function(e){Vn.getComponentMethod("legend","draw")(e),Vn.getComponentMethod("rangeselector","draw")(e),Vn.getComponentMethod("sliders","draw")(e),Vn.getComponentMethod("updatemenus","draw")(e),Vn.getComponentMethod("colorbar","draw")(e)}});var by=de((jhe,HA)=>{"use strict";var sQ=$o().readPaths,uQ=Cv(),qA=Uo().clearOutlineControllers,my=Xr(),OA=mt(),fQ=yt().arrayEditor,BA=rl(),cQ=BA.getPathString;HA.exports={draw:Uv,drawOne:UA,activateLastSelection:dQ};function Uv(e){var r=e._fullLayout;qA(e),r._selectionLayer.selectAll("path").remove();for(var t in r._plots){var n=r._plots[t].selectionLayer;n&&n.selectAll("path").remove()}for(var a=0;a<r.selections.length;a++)UA(e,a)}function Hv(e){return e._context.editSelection}function UA(e,r){e._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+r+'"]').remove();var t=BA.makeSelectionsOptionsAndPlotinfo(e,r),n=t.options,a=t.plotinfo;if(!n._input)return;o(e._fullLayout._selectionLayer);function o(i){var l=cQ(e,n),u={"data-index":r,"fill-rule":"evenodd",d:l},s=n.opacity,f="rgba(0,0,0,0)",h=n.line.color||my.contrast(e._fullLayout.plot_bgcolor),p=n.line.width,b=n.line.dash;p||(p=5,b="solid");var y=Hv(e)&&e._fullLayout._activeSelectionIndex===r;y&&(f=e._fullLayout.activeselection.fillcolor,s=e._fullLayout.activeselection.opacity);for(var w=[],T=1;T>=0;T--){var m=i.append("path").attr(u).style("opacity",T?.1:s).call(my.stroke,h).call(my.fill,f).call(OA.dashLine,T?"solid":b,T?4+p:p);if(hQ(m,e,n),y){var k=fQ(e.layout,"selections",n);m.style({cursor:"move"});var S={element:m.node(),plotinfo:a,gd:e,editHelpers:k,isActiveSelection:!0},x=sQ(l,e);uQ(x,m,S)}else m.style("pointer-events",T?"all":"none");w[T]=m}var M=w[0],d=w[1];d.node().addEventListener("click",function(){return vQ(e,M)})}}function hQ(e,r,t){var n=t.xref+t.yref;OA.setClipUrl(e,"clip"+r._fullLayout._uid+n,r)}function vQ(e,r){if(Hv(e)){var t=r.node(),n=+t.getAttribute("data-index");if(n>=0){if(n===e._fullLayout._activeSelectionIndex){xy(e);return}e._fullLayout._activeSelectionIndex=n,e._fullLayout._deactivateSelection=xy,Uv(e)}}}function dQ(e){if(Hv(e)){var r=e._fullLayout.selections.length-1;e._fullLayout._activeSelectionIndex=r,e._fullLayout._deactivateSelection=xy,Uv(e)}}function xy(e){if(Hv(e)){var r=e._fullLayout._activeSelectionIndex;r>=0&&(qA(e),delete e._fullLayout._activeSelectionIndex,Uv(e))}}});var GA=de((eve,VA)=>{function pQ(){var e,r=0,t=!1;function n(a,o){return e.list.push({type:a,data:o?JSON.parse(JSON.stringify(o)):void 0}),e}return e={list:[],segmentId:function(){return r++},checkIntersection:function(a,o){return n("check",{seg1:a,seg2:o})},segmentChop:function(a,o){return n("div_seg",{seg:a,pt:o}),n("chop",{seg:a,pt:o})},statusRemove:function(a){return n("pop_seg",{seg:a})},segmentUpdate:function(a){return n("seg_update",{seg:a})},segmentNew:function(a,o){return n("new_seg",{seg:a,primary:o})},segmentRemove:function(a){return n("rem_seg",{seg:a})},tempStatus:function(a,o,i){return n("temp_status",{seg:a,above:o,below:i})},rewind:function(a){return n("rewind",{seg:a})},status:function(a,o,i){return n("status",{seg:a,above:o,below:i})},vert:function(a){return a===t?e:(t=a,n("vert",{x:a}))},log:function(a){return typeof a!="string"&&(a=JSON.stringify(a,!1,"  ")),n("log",{txt:a})},reset:function(){return n("reset")},selected:function(a){return n("selected",{segs:a})},chainStart:function(a){return n("chain_start",{seg:a})},chainRemoveHead:function(a,o){return n("chain_rem_head",{index:a,pt:o})},chainRemoveTail:function(a,o){return n("chain_rem_tail",{index:a,pt:o})},chainNew:function(a,o){return n("chain_new",{pt1:a,pt2:o})},chainMatch:function(a){return n("chain_match",{index:a})},chainClose:function(a){return n("chain_close",{index:a})},chainAddHead:function(a,o){return n("chain_add_head",{index:a,pt:o})},chainAddTail:function(a,o){return n("chain_add_tail",{index:a,pt:o})},chainConnect:function(a,o){return n("chain_con",{index1:a,index2:o})},chainReverse:function(a){return n("chain_rev",{index:a})},chainJoin:function(a,o){return n("chain_join",{index1:a,index2:o})},done:function(){return n("done")}},e}VA.exports=pQ});var WA=de((rve,YA)=>{function gQ(e){typeof e!="number"&&(e=1e-10);var r={epsilon:function(t){return typeof t=="number"&&(e=t),e},pointAboveOrOnLine:function(t,n,a){var o=n[0],i=n[1],l=a[0],u=a[1],s=t[0],f=t[1];return(l-o)*(f-i)-(u-i)*(s-o)>=-e},pointBetween:function(t,n,a){var o=t[1]-n[1],i=a[0]-n[0],l=t[0]-n[0],u=a[1]-n[1],s=l*i+o*u;if(s<e)return!1;var f=i*i+u*u;return!(s-f>-e)},pointsSameX:function(t,n){return Math.abs(t[0]-n[0])<e},pointsSameY:function(t,n){return Math.abs(t[1]-n[1])<e},pointsSame:function(t,n){return r.pointsSameX(t,n)&&r.pointsSameY(t,n)},pointsCompare:function(t,n){return r.pointsSameX(t,n)?r.pointsSameY(t,n)?0:t[1]<n[1]?-1:1:t[0]<n[0]?-1:1},pointsCollinear:function(t,n,a){var o=t[0]-n[0],i=t[1]-n[1],l=n[0]-a[0],u=n[1]-a[1];return Math.abs(o*u-l*i)<e},linesIntersect:function(t,n,a,o){var i=n[0]-t[0],l=n[1]-t[1],u=o[0]-a[0],s=o[1]-a[1],f=i*s-l*u;if(Math.abs(f)<e)return!1;var h=t[0]-a[0],p=t[1]-a[1],b=(u*p-s*h)/f,y=(i*p-l*h)/f,w={alongA:0,alongB:0,pt:[t[0]+b*i,t[1]+b*l]};return b<=-e?w.alongA=-2:b<e?w.alongA=-1:b-1<=-e?w.alongA=0:b-1<e?w.alongA=1:w.alongA=2,y<=-e?w.alongB=-2:y<e?w.alongB=-1:y-1<=-e?w.alongB=0:y-1<e?w.alongB=1:w.alongB=2,w},pointInsideRegion:function(t,n){for(var a=t[0],o=t[1],i=n[n.length-1][0],l=n[n.length-1][1],u=!1,s=0;s<n.length;s++){var f=n[s][0],h=n[s][1];h-o>e!=l-o>e&&(i-f)*(o-h)/(l-h)+f-a>e&&(u=!u),i=f,l=h}return u}};return r}YA.exports=gQ});var ZA=de((tve,XA)=>{var yQ={create:function(){var e={root:{root:!0,next:null},exists:function(r){return!(r===null||r===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(r,t){for(var n=e.root,a=e.root.next;a!==null;){if(t(a)){r.prev=a.prev,r.next=a,a.prev.next=r,a.prev=r;return}n=a,a=a.next}n.next=r,r.prev=n,r.next=null},findTransition:function(r){for(var t=e.root,n=e.root.next;n!==null&&!r(n);)t=n,n=n.next;return{before:t===e.root?null:t,after:n,insert:function(a){return a.prev=t,a.next=n,t.next=a,n!==null&&(n.prev=a),a}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};XA.exports=yQ});var KA=de((nve,JA)=>{var ac=ZA();function mQ(e,r,t){function n(y,w){return{id:t?t.segmentId():-1,start:y,end:w,myFill:{above:null,below:null},otherFill:null}}function a(y,w,T){return{id:t?t.segmentId():-1,start:y,end:w,myFill:{above:T.myFill.above,below:T.myFill.below},otherFill:null}}var o=ac.create();function i(y,w,T,m,k,S){var x=r.pointsCompare(w,k);return x!==0?x:r.pointsSame(T,S)?0:y!==m?y?1:-1:r.pointAboveOrOnLine(T,m?k:S,m?S:k)?1:-1}function l(y,w){o.insertBefore(y,function(T){var m=i(y.isStart,y.pt,w,T.isStart,T.pt,T.other.pt);return m<0})}function u(y,w){var T=ac.node({isStart:!0,pt:y.start,seg:y,primary:w,other:null,status:null});return l(T,y.end),T}function s(y,w,T){var m=ac.node({isStart:!1,pt:w.end,seg:w,primary:T,other:y,status:null});y.other=m,l(m,y.pt)}function f(y,w){var T=u(y,w);return s(T,y,w),T}function h(y,w){t&&t.segmentChop(y.seg,w),y.other.remove(),y.seg.end=w,y.other.pt=w,l(y.other,y.pt)}function p(y,w){var T=a(w,y.seg.end,y.seg);return h(y,w),f(T,y.primary)}function b(y,w){var T=ac.create();function m(N,F){var I=N.seg.start,L=N.seg.end,P=F.seg.start,O=F.seg.end;return r.pointsCollinear(I,P,O)?r.pointsCollinear(L,P,O)||r.pointAboveOrOnLine(L,P,O)?1:-1:r.pointAboveOrOnLine(I,P,O)?1:-1}function k(N){return T.findTransition(function(F){var I=m(N,F.ev);return I>0})}function S(N,F){var I=N.seg,L=F.seg,P=I.start,O=I.end,U=L.start,X=L.end;t&&t.checkIntersection(I,L);var $=r.linesIntersect(P,O,U,X);if($===!1){if(!r.pointsCollinear(P,O,U)||r.pointsSame(P,X)||r.pointsSame(O,U))return!1;var j=r.pointsSame(P,U),Y=r.pointsSame(O,X);if(j&&Y)return F;var q=!j&&r.pointBetween(P,U,X),Q=!Y&&r.pointBetween(O,U,X);if(j)return Q?p(F,O):p(N,X),F;q&&(Y||(Q?p(F,O):p(N,X)),p(F,P))}else $.alongA===0&&($.alongB===-1?p(N,U):$.alongB===0?p(N,$.pt):$.alongB===1&&p(N,X)),$.alongB===0&&($.alongA===-1?p(F,P):$.alongA===0?p(F,$.pt):$.alongA===1&&p(F,O));return!1}for(var x=[];!o.isEmpty();){var M=o.getHead();if(t&&t.vert(M.pt[0]),M.isStart){let N=function(){if(_){var F=S(M,_);if(F)return F}return g?S(M,g):!1};var R=N;t&&t.segmentNew(M.seg,M.primary);var d=k(M),_=d.before?d.before.ev:null,g=d.after?d.after.ev:null;t&&t.tempStatus(M.seg,_?_.seg:!1,g?g.seg:!1);var c=N();if(c){if(e){var A;M.seg.myFill.below===null?A=!0:A=M.seg.myFill.above!==M.seg.myFill.below,A&&(c.seg.myFill.above=!c.seg.myFill.above)}else c.seg.otherFill=M.seg.myFill;t&&t.segmentUpdate(c.seg),M.other.remove(),M.remove()}if(o.getHead()!==M){t&&t.rewind(M.seg);continue}if(e){var A;M.seg.myFill.below===null?A=!0:A=M.seg.myFill.above!==M.seg.myFill.below,g?M.seg.myFill.below=g.seg.myFill.above:M.seg.myFill.below=y,A?M.seg.myFill.above=!M.seg.myFill.below:M.seg.myFill.above=M.seg.myFill.below}else if(M.seg.otherFill===null){var v;g?M.primary===g.primary?v=g.seg.otherFill.above:v=g.seg.myFill.above:v=M.primary?w:y,M.seg.otherFill={above:v,below:v}}t&&t.status(M.seg,_?_.seg:!1,g?g.seg:!1),M.other.status=d.insert(ac.node({ev:M}))}else{var D=M.status;if(D===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(T.exists(D.prev)&&T.exists(D.next)&&S(D.prev.ev,D.next.ev),t&&t.statusRemove(D.ev.seg),D.remove(),!M.primary){var E=M.seg.myFill;M.seg.myFill=M.seg.otherFill,M.seg.otherFill=E}x.push(M.seg)}o.getHead().remove()}return t&&t.done(),x}return e?{addRegion:function(y){for(var w,T=y[y.length-1],m=0;m<y.length;m++){w=T,T=y[m];var k=r.pointsCompare(w,T);k!==0&&f(n(k<0?w:T,k<0?T:w),!0)}},calculate:function(y){return b(y,!1)}}:{calculate:function(y,w,T,m){return y.forEach(function(k){f(a(k.start,k.end,k),!0)}),T.forEach(function(k){f(a(k.start,k.end,k),!1)}),b(w,m)}}}JA.exports=mQ});var $A=de((ave,QA)=>{function xQ(e,r,t){var n=[],a=[];return e.forEach(function(o){var i=o.start,l=o.end;if(r.pointsSame(i,l)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}t&&t.chainStart(o);var u={index:0,matches_head:!1,matches_pt1:!1},s={index:0,matches_head:!1,matches_pt1:!1},f=u;function h(R,N,F){return f.index=R,f.matches_head=N,f.matches_pt1=F,f===u?(f=s,!1):(f=null,!0)}for(var p=0;p<n.length;p++){var b=n[p],y=b[0],w=b[1],T=b[b.length-1],m=b[b.length-2];if(r.pointsSame(y,i)){if(h(p,!0,!0))break}else if(r.pointsSame(y,l)){if(h(p,!0,!1))break}else if(r.pointsSame(T,i)){if(h(p,!1,!0))break}else if(r.pointsSame(T,l)&&h(p,!1,!1))break}if(f===u){n.push([i,l]),t&&t.chainNew(i,l);return}if(f===s){t&&t.chainMatch(u.index);var k=u.index,S=u.matches_pt1?l:i,x=u.matches_head,b=n[k],M=x?b[0]:b[b.length-1],d=x?b[1]:b[b.length-2],_=x?b[b.length-1]:b[0],g=x?b[b.length-2]:b[1];if(r.pointsCollinear(d,M,S)&&(x?(t&&t.chainRemoveHead(u.index,S),b.shift()):(t&&t.chainRemoveTail(u.index,S),b.pop()),M=d),r.pointsSame(_,S)){n.splice(k,1),r.pointsCollinear(g,_,M)&&(x?(t&&t.chainRemoveTail(u.index,M),b.pop()):(t&&t.chainRemoveHead(u.index,M),b.shift())),t&&t.chainClose(u.index),a.push(b);return}x?(t&&t.chainAddHead(u.index,S),b.unshift(S)):(t&&t.chainAddTail(u.index,S),b.push(S));return}function c(R){t&&t.chainReverse(R),n[R].reverse()}function A(R,N){var F=n[R],I=n[N],L=F[F.length-1],P=F[F.length-2],O=I[0],U=I[1];r.pointsCollinear(P,L,O)&&(t&&t.chainRemoveTail(R,L),F.pop(),L=P),r.pointsCollinear(L,O,U)&&(t&&t.chainRemoveHead(N,O),I.shift()),t&&t.chainJoin(R,N),n[R]=F.concat(I),n.splice(N,1)}var v=u.index,D=s.index;t&&t.chainConnect(v,D);var E=n[v].length<n[D].length;u.matches_head?s.matches_head?E?(c(v),A(v,D)):(c(D),A(D,v)):A(D,v):s.matches_head?A(v,D):E?(c(v),A(D,v)):(c(D),A(v,D))}),a}QA.exports=xQ});var ek=de((ive,jA)=>{function ic(e,r,t){var n=[];return e.forEach(function(a){var o=(a.myFill.above?8:0)+(a.myFill.below?4:0)+(a.otherFill&&a.otherFill.above?2:0)+(a.otherFill&&a.otherFill.below?1:0);r[o]!==0&&n.push({id:t?t.segmentId():-1,start:a.start,end:a.end,myFill:{above:r[o]===1,below:r[o]===2},otherFill:null})}),t&&t.selected(n),n}var bQ={union:function(e,r){return ic(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],r)},intersect:function(e,r){return ic(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],r)},difference:function(e,r){return ic(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],r)},differenceRev:function(e,r){return ic(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],r)},xor:function(e,r){return ic(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],r)}};jA.exports=bQ});var tk=de((ove,rk)=>{var _Q={toPolygon:function(e,r){function t(o){if(o.length<=0)return e.segments({inverted:!1,regions:[]});function i(s){var f=s.slice(0,s.length-1);return e.segments({inverted:!1,regions:[f]})}for(var l=i(o[0]),u=1;u<o.length;u++)l=e.selectDifference(e.combine(l,i(o[u])));return l}if(r.type==="Polygon")return e.polygon(t(r.coordinates));if(r.type==="MultiPolygon"){for(var n=e.segments({inverted:!1,regions:[]}),a=0;a<r.coordinates.length;a++)n=e.selectUnion(e.combine(n,t(r.coordinates[a])));return e.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,r,t){t=e.polygon(e.segments(t));function n(b,y){return r.pointInsideRegion([(b[0][0]+b[1][0])*.5,(b[0][1]+b[1][1])*.5],y)}function a(b){return{region:b,children:[]}}var o=a(null);function i(b,y){for(var w=0;w<b.children.length;w++){var T=b.children[w];if(n(y,T.region)){i(T,y);return}}for(var m=a(y),w=0;w<b.children.length;w++){var T=b.children[w];n(T.region,y)&&(m.children.push(T),b.children.splice(w,1),w--)}b.children.push(m)}for(var l=0;l<t.regions.length;l++){var u=t.regions[l];u.length<3||i(o,u)}function s(b,y){for(var w=0,T=b[b.length-1][0],m=b[b.length-1][1],k=[],S=0;S<b.length;S++){var x=b[S][0],M=b[S][1];k.push([x,M]),w+=M*T-x*m,T=x,m=M}var d=w<0;return d!==y&&k.reverse(),k.push([k[0][0],k[0][1]]),k}var f=[];function h(b){var y=[s(b.region,!1)];f.push(y);for(var w=0;w<b.children.length;w++)y.push(p(b.children[w]))}function p(b){for(var y=0;y<b.children.length;y++)h(b.children[y]);return s(b.region,!0)}for(var l=0;l<o.children.length;l++)h(o.children[l]);return f.length<=0?{type:"Polygon",coordinates:[]}:f.length==1?{type:"Polygon",coordinates:f[0]}:{type:"MultiPolygon",coordinates:f}}};rk.exports=_Q});var ok=de((lve,ik)=>{var wQ=GA(),MQ=WA(),nk=KA(),TQ=$A(),oc=ek(),ak=tk(),za=!1,lc=MQ(),ua;ua={buildLog:function(e){return e===!0?za=wQ():e===!1&&(za=!1),za===!1?!1:za.list},epsilon:function(e){return lc.epsilon(e)},segments:function(e){var r=nk(!0,lc,za);return e.regions.forEach(r.addRegion),{segments:r.calculate(e.inverted),inverted:e.inverted}},combine:function(e,r){var t=nk(!1,lc,za);return{combined:t.calculate(e.segments,e.inverted,r.segments,r.inverted),inverted1:e.inverted,inverted2:r.inverted}},selectUnion:function(e){return{segments:oc.union(e.combined,za),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:oc.intersect(e.combined,za),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:oc.difference(e.combined,za),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:oc.differenceRev(e.combined,za),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:oc.xor(e.combined,za),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:TQ(e.segments,lc,za),inverted:e.inverted}},polygonFromGeoJSON:function(e){return ak.toPolygon(ua,e)},polygonToGeoJSON:function(e){return ak.fromPolygon(ua,lc,e)},union:function(e,r){return sc(e,r,ua.selectUnion)},intersect:function(e,r){return sc(e,r,ua.selectIntersect)},difference:function(e,r){return sc(e,r,ua.selectDifference)},differenceRev:function(e,r){return sc(e,r,ua.selectDifferenceRev)},xor:function(e,r){return sc(e,r,ua.selectXor)}};function sc(e,r,t){var n=ua.segments(e),a=ua.segments(r),o=ua.combine(n,a),i=t(o);return ua.polygon(i)}typeof window=="object"&&(window.PolyBool=ua);ik.exports=ua});var sk=de((sve,lk)=>{lk.exports=function(r,t,n,a){var o=r[0],i=r[1],l=!1;n===void 0&&(n=0),a===void 0&&(a=t.length);for(var u=a-n,s=0,f=u-1;s<u;f=s++){var h=t[s+n][0],p=t[s+n][1],b=t[f+n][0],y=t[f+n][1],w=p>i!=y>i&&o<(b-h)*(i-p)/(y-p)+h;w&&(l=!l)}return l}});var wy=de((uve,uk)=>{"use strict";var _y=X0().dot,Vv=nn().BADNUM,Gv=uk.exports={};Gv.tester=function(r){var t=r.slice(),n=t[0][0],a=n,o=t[0][1],i=o,l;for((t[t.length-1][0]!==t[0][0]||t[t.length-1][1]!==t[0][1])&&t.push(t[0]),l=1;l<t.length;l++)n=Math.min(n,t[l][0]),a=Math.max(a,t[l][0]),o=Math.min(o,t[l][1]),i=Math.max(i,t[l][1]);var u=!1,s;t.length===5&&(t[0][0]===t[1][0]?t[2][0]===t[3][0]&&t[0][1]===t[3][1]&&t[1][1]===t[2][1]&&(u=!0,s=function(y){return y[0]===t[0][0]}):t[0][1]===t[1][1]&&t[2][1]===t[3][1]&&t[0][0]===t[3][0]&&t[1][0]===t[2][0]&&(u=!0,s=function(y){return y[1]===t[0][1]}));function f(y,w){var T=y[0],m=y[1];return!(T===Vv||T<n||T>a||m===Vv||m<o||m>i||w&&s(y))}function h(y,w){var T=y[0],m=y[1];if(T===Vv||T<n||T>a||m===Vv||m<o||m>i)return!1;var k=t.length,S=t[0][0],x=t[0][1],M=0,d,_,g,c,A;for(d=1;d<k;d++)if(_=S,g=x,S=t[d][0],x=t[d][1],c=Math.min(_,S),!(T<c||T>Math.max(_,S)||m>Math.max(g,x)))if(m<Math.min(g,x))T!==c&&M++;else{if(S===_?A=m:A=g+(T-_)*(x-g)/(S-_),m===A)return!(d===1&&w);m<=A&&T!==c&&M++}return M%2===1}var p=!0,b=t[0];for(l=1;l<t.length;l++)if(b[0]!==t[l][0]||b[1]!==t[l][1]){p=!1;break}return{xmin:n,xmax:a,ymin:o,ymax:i,pts:t,contains:u?f:h,isRect:u,degenerate:p}};Gv.isSegmentBent=function(r,t,n,a){var o=r[t],i=[r[n][0]-o[0],r[n][1]-o[1]],l=_y(i,i),u=Math.sqrt(l),s=[-i[1]/u,i[0]/u],f,h,p;for(f=t+1;f<n;f++)if(h=[r[f][0]-o[0],r[f][1]-o[1]],p=_y(h,i),p<0||p>l||Math.abs(_y(h,s))>a)return!0;return!1};Gv.filter=function(r,t){var n=[r[0]],a=0,o=0;function i(u){r.push(u);var s=n.length,f=a;n.splice(o+1);for(var h=f+1;h<r.length;h++)(h===r.length-1||Gv.isSegmentBent(r,f,h+1,t))&&(n.push(r[h]),n.length<s-2&&(a=h,o=n.length-1),f=h)}if(r.length>1){var l=r.pop();i(l)}return{addPt:i,raw:r,filtered:n}}});var ck=de((fve,fk)=>{"use strict";fk.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}});var Pk=de((cve,Rk)=>{"use strict";var hk=ok(),AQ=sk(),cc=Er(),kQ=mt().dashStyle,uc=Xr(),SQ=fo(),CQ=so().makeEventData,gc=bu(),EQ=gc.freeMode,LQ=gc.rectMode,hc=gc.drawMode,ky=gc.openMode,Sy=gc.selectMode,vk=rl(),dk=Qf(),xk=Cv(),bk=Uo().clearOutline,_k=$o(),My=_k.handleEllipse,DQ=_k.readPaths,RQ=Av().newShapes,PQ=J2(),IQ=by().activateLastSelection,Wv=ir(),FQ=Wv.sorterAsc,wk=wy(),fc=oh(),qa=en().getFromId,NQ=yv(),zQ=Bv().redrawReglTraces,Xv=ck(),Vi=Xv.MINSELECT,qQ=wk.filter,Cy=wk.tester,Ey=_v(),pk=Ey.p2r,OQ=Ey.axValue,BQ=Ey.getTransform;function Ly(e){return e.subplot!==void 0}function UQ(e,r,t,n,a){var o=!Ly(n),i=EQ(a),l=LQ(a),u=ky(a),s=hc(a),f=Sy(a),h=a==="drawline",p=a==="drawcircle",b=h||p,y=n.gd,w=y._fullLayout,T=f&&w.newselection.mode==="immediate"&&o,m=w._zoomlayer,k=n.element.getBoundingClientRect(),S=n.plotinfo,x=BQ(S),M=r-k.left,d=t-k.top;w._calcInverseTransform(y);var _=Wv.apply3DTransform(w._invTransform)(M,d);M=_[0],d=_[1];var g=w._invScaleX,c=w._invScaleY,A=M,v=d,D="M"+M+","+d,E=n.xaxes[0],R=n.yaxes[0],N=E._length,F=R._length,I=e.altKey&&!(hc(a)&&u),L,P,O,U,X,$,j;Tk(e,y,n),i&&(L=qQ([[M,d]],Xv.BENDPX));var Y=m.selectAll("path.select-outline-"+S.id).data([1]),q=s?w.newshape:w.newselection;s&&(n.hasText=q.label.text||q.label.texttemplate);var Q=s&&!u?q.fillcolor:"rgba(0,0,0,0)",ae=q.line.color||(o?uc.contrast(y._fullLayout.plot_bgcolor):"#7f7f7f");Y.enter().append("path").attr("class","select-outline select-outline-"+S.id).style({opacity:s?q.opacity/2:1,"stroke-dasharray":kQ(q.line.dash,q.line.width),"stroke-width":q.line.width+"px","shape-rendering":"crispEdges"}).call(uc.stroke,ae).call(uc.fill,Q).attr("fill-rule","evenodd").classed("cursor-move",!!s).attr("transform",x).attr("d",D+"Z");var K=m.append("path").attr("class","zoombox-corners").style({fill:uc.background,stroke:uc.defaultLine,"stroke-width":1}).attr("transform",x).attr("d","M0,0Z");if(s&&n.hasText){var oe=m.select(".label-temp");oe.empty()&&(oe=m.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var re=w._uid+Xv.SELECTID,V=[],ee=Zv(y,n.xaxes,n.yaxes,n.subplot);T&&!e.shiftKey&&(n._clearSubplotSelections=function(){if(o){var te=E._id,le=R._id;Ek(y,te,le,ee);for(var ve=(y.layout||{}).selections||[],Ae=[],we=!1,ce=0;ce<ve.length;ce++){var Se=w.selections[ce];!Se||Se.xref!==te||Se.yref!==le?Ae.push(ve[ce]):we=!0}we&&(y._fullLayout._noEmitSelectedAtStart=!0,cc.call("_guiRelayout",y,{selections:Ae}))}});var H=r$(n);n.moveFn=function(te,le){n._clearSubplotSelections&&(n._clearSubplotSelections(),n._clearSubplotSelections=void 0),A=Math.max(0,Math.min(N,g*te+M)),v=Math.max(0,Math.min(F,c*le+d));var ve=Math.abs(A-M),Ae=Math.abs(v-d);if(l){var we,ce,Se;if(f){var Ce=w.selectdirection;switch(Ce==="any"?Ae<Math.min(ve*.6,Vi)?we="h":ve<Math.min(Ae*.6,Vi)?we="v":we="d":we=Ce,we){case"h":ce=p?F/2:0,Se=F;break;case"v":ce=p?N/2:0,Se=N;break}}if(s)switch(w.newshape.drawdirection){case"vertical":we="h",ce=p?F/2:0,Se=F;break;case"horizontal":we="v",ce=p?N/2:0,Se=N;break;case"ortho":ve<Ae?(we="h",ce=d,Se=v):(we="v",ce=M,Se=A);break;default:we="d"}we==="h"?(U=b?My(p,[A,ce],[A,Se]):[[M,ce],[M,Se],[A,Se],[A,ce]],U.xmin=b?A:Math.min(M,A),U.xmax=b?A:Math.max(M,A),U.ymin=Math.min(ce,Se),U.ymax=Math.max(ce,Se),K.attr("d","M"+U.xmin+","+(d-Vi)+"h-4v"+2*Vi+"h4ZM"+(U.xmax-1)+","+(d-Vi)+"h4v"+2*Vi+"h-4Z")):we==="v"?(U=b?My(p,[ce,v],[Se,v]):[[ce,d],[ce,v],[Se,v],[Se,d]],U.xmin=Math.min(ce,Se),U.xmax=Math.max(ce,Se),U.ymin=b?v:Math.min(d,v),U.ymax=b?v:Math.max(d,v),K.attr("d","M"+(M-Vi)+","+U.ymin+"v-4h"+2*Vi+"v4ZM"+(M-Vi)+","+(U.ymax-1)+"v4h"+2*Vi+"v-4Z")):we==="d"&&(U=b?My(p,[M,d],[A,v]):[[M,d],[M,v],[A,v],[A,d]],U.xmin=Math.min(M,A),U.xmax=Math.max(M,A),U.ymin=Math.min(d,v),U.ymax=Math.max(d,v),K.attr("d","M0,0Z"))}else i&&(L.addPt([A,v]),U=L.filtered);if(n.selectionDefs&&n.selectionDefs.length?(O=Ak(n.mergedPolygons,U,I),U.subtract=I,P=Dy(n.selectionDefs.concat([U]))):(O=[U],P=Cy(U)),xk(Sk(O,u),Y,n),f){var Fe=Ay(y,!1),Ee=Fe.eventData?Fe.eventData.points.slice():[];Fe=Ay(y,!1,P,ee,n),P=Fe.selectionTesters,j=Fe.eventData;var ze;L?ze=L.filtered:ze=Lk(O),fc.throttle(re,Xv.SELECTDELAY,function(){V=Ck(P,ee);for(var Ue=V.slice(),ge=0;ge<Ee.length;ge++){for(var Me=Ee[ge],ke=!1,me=0;me<Ue.length;me++)if(Ue[me].curveNumber===Me.curveNumber&&Ue[me].pointNumber===Me.pointNumber){ke=!0;break}ke||Ue.push(Me)}Ue.length&&(j||(j={}),j.points=Ue),H(j,ze),t$(y,j)})}},n.clickFn=function(te,le){if(K.remove(),y._fullLayout._activeShapeIndex>=0){y._fullLayout._deactivateShape(y);return}if(!s){var ve=w.clickmode;fc.done(re).then(function(){if(fc.clear(re),te===2){for(Y.remove(),X=0;X<ee.length;X++)$=ee[X],$._module.selectPoints($,!1);if(dc(y,ee),vc(n),Py(y),ee.length){var Ae=ee[0].xaxis,we=ee[0].yaxis;if(Ae&&we){for(var ce=[],Se=y._fullLayout.selections,Ce=0;Ce<Se.length;Ce++){var Fe=Se[Ce];Fe&&(Fe.xref!==Ae._id||Fe.yref!==we._id)&&ce.push(Fe)}ce.length<Se.length&&(y._fullLayout._noEmitSelectedAtStart=!0,cc.call("_guiRelayout",y,{selections:ce}))}}}else ve.indexOf("select")>-1&&Mk(le,y,n.xaxes,n.yaxes,n.subplot,n,Y),ve==="event"&&pc(y,void 0);SQ.click(y,le,S.id)}).catch(Wv.error)}},n.doneFn=function(){K.remove(),fc.done(re).then(function(){fc.clear(re),!T&&U&&n.selectionDefs&&(U.subtract=I,n.selectionDefs.push(U),n.mergedPolygons.length=0,[].push.apply(n.mergedPolygons,O)),(T||s)&&vc(n,T),n.doneFnCompleted&&n.doneFnCompleted(V),f&&pc(y,j)}).catch(Wv.error)}}function Mk(e,r,t,n,a,o,i){var l=r._hoverdata,u=r._fullLayout,s=u.clickmode,f=s.indexOf("event")>-1,h=[],p,b,y,w,T,m,k,S,x,M;if(WQ(l)){Tk(e,r,o),p=Zv(r,t,n,a);var d=XQ(l,p),_=d.pointNumbers.length>0;if(_?ZQ(p,d):JQ(p)&&(k=yk(d))){for(i&&i.remove(),M=0;M<p.length;M++)b=p[M],b._module.selectPoints(b,!1);dc(r,p),vc(o),f&&Py(r)}else{S=e.shiftKey&&(k!==void 0?k:yk(d)),y=HQ(d.pointNumber,d.searchInfo,S);var g=o.selectionDefs.concat([y]);for(w=Dy(g,w),M=0;M<p.length;M++)if(T=p[M]._module.selectPoints(p[M],w),m=kk(T,p[M]),h.length)for(var c=0;c<m.length;c++)h.push(m[c]);else h=m;if(x={points:h},dc(r,p,x),y&&o&&o.selectionDefs.push(y),i){var A=o.mergedPolygons,v=ky(o.dragmode);xk(Sk(A,v),i,o)}f&&pc(r,x)}}}function HQ(e,r,t){return{pointNumber:e,searchInfo:r,subtract:!!t}}function Ty(e){return"pointNumber"in e&&"searchInfo"in e}function VQ(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(r,t,n,a){var o=e.searchInfo.cd[0].trace.index,i=a.cd[0].trace.index;return i===o&&n===e.pointNumber},isRect:!1,degenerate:!1,subtract:!!e.subtract}}function Dy(e){if(!e.length)return;for(var r=[],t=Ty(e[0])?0:e[0][0][0],n=t,a=Ty(e[0])?0:e[0][0][1],o=a,i=0;i<e.length;i++)if(Ty(e[i]))r.push(VQ(e[i]));else{var l=Cy(e[i]);l.subtract=!!e[i].subtract,r.push(l),t=Math.min(t,l.xmin),n=Math.max(n,l.xmax),a=Math.min(a,l.ymin),o=Math.max(o,l.ymax)}function u(s,f,h,p){for(var b=!1,y=0;y<r.length;y++)r[y].contains(s,f,h,p)&&(b=!r[y].subtract);return b}return{xmin:t,xmax:n,ymin:a,ymax:o,pts:[],contains:u,isRect:!1,degenerate:!1}}function Tk(e,r,t){var n=r._fullLayout,a=t.plotinfo,o=t.dragmode,i=n._lastSelectedSubplot&&n._lastSelectedSubplot===a.id,l=(e.shiftKey||e.altKey)&&!(hc(o)&&ky(o));i&&l&&a.selection&&a.selection.selectionDefs&&!t.selectionDefs?(t.selectionDefs=a.selection.selectionDefs,t.mergedPolygons=a.selection.mergedPolygons):(!l||!a.selection)&&vc(t),i||(bk(r),n._lastSelectedSubplot=a.id)}function GQ(e){return e._fullLayout._activeShapeIndex>=0}function YQ(e){return e._fullLayout._activeSelectionIndex>=0}function vc(e,r){var t=e.dragmode,n=e.plotinfo,a=e.gd;GQ(a)&&a._fullLayout._deactivateShape(a),YQ(a)&&a._fullLayout._deactivateSelection(a);var o=a._fullLayout,i=o._zoomlayer,l=hc(t),u=Sy(t);if(l||u){var s=i.selectAll(".select-outline-"+n.id);if(s&&a._fullLayout._outlining){var f;l&&(f=RQ(s,e)),f&&cc.call("_guiRelayout",a,{shapes:f});var h;u&&!Ly(e)&&(h=PQ(s,e)),h&&(a._fullLayout._noEmitSelectedAtStart=!0,cc.call("_guiRelayout",a,{selections:h}).then(function(){r&&IQ(a)})),a._fullLayout._outlining=!1}}n.selection={},n.selection.selectionDefs=e.selectionDefs=[],n.selection.mergedPolygons=e.mergedPolygons=[]}function gk(e){return e._id}function Zv(e,r,t,n){if(!e.calcdata)return[];var a=[],o=r.map(gk),i=t.map(gk),l,u,s;for(s=0;s<e.calcdata.length;s++)if(l=e.calcdata[s],u=l[0].trace,!(u.visible!==!0||!u._module||!u._module.selectPoints))if(Ly({subplot:n})&&(u.subplot===n||u.geo===n))a.push(Yv(u._module,l,r[0],t[0]));else if(u.type==="splom"){if(u._xaxes[o[0]]&&u._yaxes[i[0]]){var f=Yv(u._module,l,r[0],t[0]);f.scene=e._fullLayout._splomScenes[u.uid],a.push(f)}}else if(u.type==="sankey"){var h=Yv(u._module,l,r[0],t[0]);a.push(h)}else{if(o.indexOf(u.xaxis)===-1&&(!u._xA||!u._xA.overlaying)||i.indexOf(u.yaxis)===-1&&(!u._yA||!u._yA.overlaying))continue;a.push(Yv(u._module,l,qa(e,u.xaxis),qa(e,u.yaxis)))}return a}function Yv(e,r,t,n){return{_module:e,cd:r,xaxis:t,yaxis:n}}function WQ(e){return e&&Array.isArray(e)&&e[0].hoverOnBox!==!0}function XQ(e,r){var t=e[0],n=-1,a=[],o,i;for(i=0;i<r.length;i++)if(o=r[i],t.fullData.index===o.cd[0].trace.index){if(t.hoverOnBox===!0)break;t.pointNumber!==void 0?n=t.pointNumber:t.binNumber!==void 0&&(n=t.binNumber,a=t.pointNumbers);break}return{pointNumber:n,pointNumbers:a,searchInfo:o}}function yk(e){var r=e.searchInfo.cd[0].trace,t=e.pointNumber,n=e.pointNumbers,a=n.length>0,o=a?n[0]:t;return r.selectedpoints?r.selectedpoints.indexOf(o)>-1:!1}function ZQ(e,r){var t=[],n,a,o,i;for(i=0;i<e.length;i++)n=e[i],n.cd[0].trace.selectedpoints&&n.cd[0].trace.selectedpoints.length>0&&t.push(n);if(t.length===1&&(o=t[0]===r.searchInfo,o&&(a=r.searchInfo.cd[0].trace,a.selectedpoints.length===r.pointNumbers.length))){for(i=0;i<r.pointNumbers.length;i++)if(a.selectedpoints.indexOf(r.pointNumbers[i])<0)return!1;return!0}return!1}function JQ(e){var r=0,t,n,a;for(a=0;a<e.length;a++)if(t=e[a],n=t.cd[0].trace,n.selectedpoints&&(n.selectedpoints.length>1||(r+=n.selectedpoints.length,r>1)))return!1;return r===1}function dc(e,r,t){var n;for(n=0;n<r.length;n++){var a=r[n].cd[0].trace._fullInput,o=e._fullLayout._tracePreGUI[a.uid]||{};o.selectedpoints===void 0&&(o.selectedpoints=a._input.selectedpoints||null)}var i;if(t){var l=t.points||[];for(n=0;n<r.length;n++)i=r[n].cd[0].trace,i._input.selectedpoints=i._fullInput.selectedpoints=[],i._fullInput!==i&&(i.selectedpoints=[]);for(var u=0;u<l.length;u++){var s=l[u],f=s.data,h=s.fullData,p=s.pointIndex,b=s.pointIndices;b?([].push.apply(f.selectedpoints,b),i._fullInput!==i&&[].push.apply(h.selectedpoints,b)):(f.selectedpoints.push(p),i._fullInput!==i&&h.selectedpoints.push(p))}}else for(n=0;n<r.length;n++)i=r[n].cd[0].trace,delete i.selectedpoints,delete i._input.selectedpoints,i._fullInput!==i&&delete i._fullInput.selectedpoints;KQ(e,r)}function KQ(e,r){for(var t=!1,n=0;n<r.length;n++){var a=r[n],o=a.cd;cc.traceIs(o[0].trace,"regl")&&(t=!0);var i=a._module,l=i.styleOnSelect||i.style;l&&(l(e,o,o[0].node3),o[0].nodeRangePlot3&&l(e,o,o[0].nodeRangePlot3))}t&&(NQ(e),zQ(e))}function Ak(e,r,t){for(var n=t?hk.difference:hk.union,a=n({regions:e},{regions:[r]}),o=a.regions.reverse(),i=0;i<o.length;i++){var l=o[i];l.subtract=Ry(l,o.slice(0,i))}return o}function kk(e,r){if(Array.isArray(e))for(var t=r.cd,n=r.cd[0].trace,a=0;a<e.length;a++)e[a]=CQ(e[a],n,t);return e}function Sk(e,r){for(var t=[],n=0;n<e.length;n++){t[n]=[];for(var a=0;a<e[n].length;a++){t[n][a]=[],t[n][a][0]=a?"L":"M";for(var o=0;o<e[n][a].length;o++)t[n][a].push(e[n][a][o])}r||t[n].push(["Z",t[n][0][1],t[n][0][2]])}return t}function Ck(e,r){for(var t=[],n,a=[],o,i=0;i<r.length;i++){var l=r[i];o=l._module.selectPoints(l,e),a.push(o),n=kk(o,l),t=t.concat(n)}return t}function Ay(e,r,t,n,a){var o=!!n,i,l,u;a&&(i=a.plotinfo,l=a.xaxes[0]._id,u=a.yaxes[0]._id);var s=[],f=[],h=mk(e),p=e._fullLayout;if(i){var b=p._zoomlayer,y=p.dragmode,w=hc(y),T=Sy(y);if(w||T){var m=qa(e,l,"x"),k=qa(e,u,"y");if(m&&k){var S=b.selectAll(".select-outline-"+i.id);if(S&&e._fullLayout._outlining&&S.length){for(var x=S[0][0],M=x.getAttribute("d"),d=DQ(M,e,i),_=[],g=0;g<d.length;g++){for(var c=d[g],A=[],v=0;v<c.length;v++)A.push([tl(m,c[v][1]),tl(k,c[v][2])]);A.xref=l,A.yref=u,A.subtract=Ry(A,_),_.push(A)}h=h.concat(_)}}}}var D=l&&u?[l+u]:p._subplots.cartesian;QQ(e);for(var E={},R=0;R<D.length;R++){var N=D[R],F=N.indexOf("y"),I=N.slice(0,F),L=N.slice(F),P=l&&u?t:void 0;if(P=jQ(h,I,L,P),P){var O=n;if(!o){var U=qa(e,I,"x"),X=qa(e,L,"y");O=Zv(e,[U],[X],N);for(var $=0;$<O.length;$++){var j=O[$],Y=j.cd[0],q=Y.trace;if(j._module.name==="scattergl"&&!Y.t.xpx){var Q=q.x,ae=q.y,K=q._length;Y.t.xpx=[],Y.t.ypx=[];for(var oe=0;oe<K;oe++)Y.t.xpx[oe]=U.c2p(Q[oe]),Y.t.ypx[oe]=X.c2p(ae[oe])}j._module.name==="splom"&&(E[q.uid]||(E[q.uid]=!0))}}var re=Ck(P,O);s=s.concat(re),f=f.concat(O)}}var V={points:s};dc(e,f,V);var ee=p.clickmode,H=ee.indexOf("event")>-1&&r;if(!i&&r){var te=mk(e,!0);if(te.length){var le=te[0].xref,ve=te[0].yref;if(le&&ve){var Ae=Lk(te),we=Dk([qa(e,le,"x"),qa(e,ve,"y")]);we(V,Ae)}}e._fullLayout._noEmitSelectedAtStart?e._fullLayout._noEmitSelectedAtStart=!1:H&&pc(e,V),p._reselect=!1}if(!i&&p._deselect){var ce=p._deselect;l=ce.xref,u=ce.yref,$Q(l,u,f)||Ek(e,l,u,n),H&&(V.points.length?pc(e,V):Py(e)),p._deselect=!1}return{eventData:V,selectionTesters:t}}function QQ(e){var r=e.calcdata;if(r)for(var t=0;t<r.length;t++){var n=r[t][0],a=n.trace,o=e._fullLayout._splomScenes;if(o){var i=o[a.uid];i&&(i.selectBatch=[])}}}function $Q(e,r,t){for(var n=0;n<t.length;n++){var a=t[n];if(a.xaxis&&a.xaxis._id===e&&a.yaxis&&a.yaxis._id===r)return!0}return!1}function Ek(e,r,t,n){n=Zv(e,[qa(e,r,"x")],[qa(e,t,"y")],r+t);for(var a=0;a<n.length;a++){var o=n[a];o._module.selectPoints(o,!1)}dc(e,n)}function jQ(e,r,t,n){for(var a,o=0;o<e.length;o++){var i=e[o];if(!(r!==i.xref||t!==i.yref))if(a){var l=!!i.subtract;a=Ak(a,i,l),n=Dy(a)}else a=[i],n=Cy(i)}return n}function mk(e,r){for(var t=[],n=e._fullLayout,a=n.selections,o=a.length,i=0;i<o;i++)if(!(r&&i!==n._activeSelectionIndex)){var l=a[i];if(l){var u=l.xref,s=l.yref,f=qa(e,u,"x"),h=qa(e,s,"y"),p,b,y,w,T;if(l.type==="rect"){T=[];var m=tl(f,l.x0),k=tl(f,l.x1),S=tl(h,l.y0),x=tl(h,l.y1);T=[[m,S],[m,x],[k,x],[k,S]],p=Math.min(m,k),b=Math.max(m,k),y=Math.min(S,x),w=Math.max(S,x),T.xmin=p,T.xmax=b,T.ymin=y,T.ymax=w,T.xref=u,T.yref=s,T.subtract=!1,T.isRect=!0,t.push(T)}else if(l.type==="path")for(var M=l.path.split("Z"),d=[],_=0;_<M.length;_++){var g=M[_];if(g){g+="Z";var c=vk.extractPathCoords(g,dk.paramIsX,"raw"),A=vk.extractPathCoords(g,dk.paramIsY,"raw");p=1/0,b=-1/0,y=1/0,w=-1/0,T=[];for(var v=0;v<c.length;v++){var D=tl(f,c[v]),E=tl(h,A[v]);T.push([D,E]),p=Math.min(D,p),b=Math.max(D,b),y=Math.min(E,y),w=Math.max(E,w)}T.xmin=p,T.xmax=b,T.ymin=y,T.ymax=w,T.xref=u,T.yref=s,T.subtract=Ry(T,d),d.push(T),t.push(T)}}}}return t}function Ry(e,r){for(var t=!1,n=0;n<r.length;n++)for(var a=r[n],o=0;o<e.length;o++)if(AQ(e[o],a)){t=!t;break}return t}function tl(e,r){return e.type==="date"&&(r=r.replace("_"," ")),e.type==="log"?e.c2p(r):e.r2p(r,null,e.calendar)}function Lk(e){for(var r=e.length,t=[],n=0;n<r;n++){var a=e[n];t=t.concat(a),t=t.concat([a[0]])}return e$(t)}function e$(e){return e.isRect=e.length===5&&e[0][0]===e[4][0]&&e[0][1]===e[4][1]&&e[0][0]===e[1][0]&&e[2][0]===e[3][0]&&e[0][1]===e[3][1]&&e[1][1]===e[2][1]||e[0][1]===e[1][1]&&e[2][1]===e[3][1]&&e[0][0]===e[3][0]&&e[1][0]===e[2][0],e.isRect&&(e.xmin=Math.min(e[0][0],e[2][0]),e.xmax=Math.max(e[0][0],e[2][0]),e.ymin=Math.min(e[0][1],e[2][1]),e.ymax=Math.max(e[0][1],e[2][1])),e}function Dk(e){return function(r,t){for(var n,a,o=0;o<e.length;o++){var i=e[o],l=i._id,u=l.charAt(0);if(t.isRect){n||(n={});var s=t[u+"min"],f=t[u+"max"];s!==void 0&&f!==void 0&&(n[l]=[pk(i,s),pk(i,f)].sort(FQ))}else a||(a={}),a[l]=t.map(OQ(i))}n&&(r.range=n),a&&(r.lassoPoints=a)}}function r$(e){var r=e.plotinfo;return r.fillRangeItems||Dk(e.xaxes.concat(e.yaxes))}function t$(e,r){e.emit("plotly_selecting",r)}function pc(e,r){r&&(r.selections=(e.layout||{}).selections||[]),e.emit("plotly_selected",r)}function Py(e){e.emit("plotly_deselect",null)}Rk.exports={reselect:Ay,prepSelect:UQ,clearOutline:bk,clearSelectionsCache:vc,selectOnClick:Mk}});var Iy=de((hve,Ik)=>{"use strict";Ik.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]});var yc=de((vve,Fk)=>{"use strict";Fk.exports={axisRefDescription:function(e,r,t){return["If set to a",e,"axis id (e.g. *"+e+"* or","*"+e+"2*), the `"+e+"` position refers to a",e,"coordinate. If set to *paper*, the `"+e+"`","position refers to the distance from the",r,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",r,"("+t+"). If set to a",e,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",r,"of the domain of that axis: e.g.,","*"+e+"2 domain* refers to the domain of the second",e," axis and a",e,"position of 0.5 refers to the","point between the",r,"and the",t,"of the domain of the","second",e,"axis."].join(" ")}}});var ku=de((pve,qk)=>{"use strict";var Nk=Iy(),zk=kn(),Jv=on(),n$=yt().templatedArray,dve=yc();qk.exports=n$("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:zk({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:Nk.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:Nk.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",Jv.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",Jv.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",Jv.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",Jv.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:zk({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc"})});var Kv=de((gve,Ok)=>{"use strict";Ok.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}});var Uk=de((yve,Bk)=>{"use strict";Bk.exports=function(r){return{valType:"color",editType:"style",anim:!0}}});var ss=de((mve,Jk)=>{"use strict";var Hk=lo().axisHoverFormat,{hovertemplateAttrs:a$,texttemplateAttrs:i$,templatefallbackAttrs:Vk}=ja(),Gk=ni(),o$=kn(),Yk=Ro().dash,l$=Ro().pattern,s$=mt(),u$=Kv(),mc=Tt().extendFlat,f$=Uk();function Wk(e){return{valType:"any",dflt:0,editType:"calc"}}function Xk(e){return{valType:"any",editType:"calc"}}function Zk(e){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}Jk.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:Wk("x"),yperiod:Wk("y"),xperiod0:Xk("x0"),yperiod0:Xk("y0"),xperiodalignment:Zk("x"),yperiodalignment:Zk("y"),xhoverformat:Hk("x"),yhoverformat:Hk("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:i$(),texttemplatefallback:Vk({editType:"calc"}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:a$({},{keys:u$.eventDataKeys}),hovertemplatefallback:Vk(),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:mc({},Yk,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:f$(!0),fillgradient:mc({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:l$,marker:mc({symbol:{valType:"enumerated",values:s$.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:mc({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},dash:mc({},Yk,{arrayOk:!0}),editType:"calc"},Gk("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},Gk("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:o$({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}});var Fy=de((bve,$k)=>{"use strict";var Kk=ku(),Qk=ss().line,c$=Ro().dash,Qv=Tt().extendFlat,h$=qn().overrideAll,v$=yt().templatedArray,xve=yc();$k.exports=h$(v$("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:Qv({},Kk.xref,{}),yref:Qv({},Kk.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:Qk.color,width:Qv({},Qk.width,{min:1,dflt:1}),dash:Qv({},c$,{dflt:"dot"})}}),"arraydraw","from-root")});var tS=de((_ve,rS)=>{"use strict";var jk=ir(),$v=Lt(),d$=ai(),p$=Fy(),eS=rl();rS.exports=function(r,t){d$(r,t,{name:"selections",handleItemDefaults:g$});for(var n=t.selections,a=0;a<n.length;a++){var o=n[a];o&&o.path===void 0&&(o.x0===void 0||o.x1===void 0||o.y0===void 0||o.y1===void 0)&&(t.selections[a]=null)}};function g$(e,r,t){function n(d,_){return jk.coerce(e,r,p$,d,_)}var a=n("path"),o=a?"path":"rect",i=n("type",o),l=i!=="path";l&&delete r.path,n("opacity"),n("line.color"),n("line.width"),n("line.dash");for(var u=["x","y"],s=0;s<2;s++){var f=u[s],h={_fullLayout:t},p,b,y,w=$v.coerceRef(e,r,h,f);if(p=$v.getFromId(h,w),p._selectionIndices.push(r._index),y=eS.rangeToShapePosition(p),b=eS.shapePositionToRange(p),l){var T=f+"0",m=f+"1",k=e[T],S=e[m];e[T]=b(e[T],!0),e[m]=b(e[m],!0),$v.coercePosition(r,h,n,w,T),$v.coercePosition(r,h,n,w,m);var x=r[T],M=r[m];x!==void 0&&M!==void 0&&(r[T]=y(x),r[m]=y(M),e[T]=k,e[m]=S)}}l&&jk.noneOrAll(e,r,["x0","x1","y0","y1"])}});var aS=de((wve,nS)=>{"use strict";nS.exports=function(r,t,n){n("newselection.mode");var a=n("newselection.line.width");a&&(n("newselection.line.color"),n("newselection.line.dash")),n("activeselection.fillcolor"),n("activeselection.opacity")}});var xc=de((Mve,lS)=>{"use strict";var y$=Er(),iS=ir(),oS=en();lS.exports=function(r){return function(n,a){var o=n[r];if(Array.isArray(o))for(var i=y$.subplotsRegistry.cartesian,l=i.idRegex,u=a._subplots,s=u.xaxis,f=u.yaxis,h=u.cartesian,p=a._has("cartesian"),b=0;b<o.length;b++){var y=o[b];if(iS.isPlainObject(y)){var w=oS.cleanId(y.xref,"x",!1),T=oS.cleanId(y.yref,"y",!1),m=l.x.test(w),k=l.y.test(T);if(m||k){p||iS.pushUnique(a._basePlotModules,i);var S=!1;m&&s.indexOf(w)===-1&&(s.push(w),S=!0),k&&f.indexOf(T)===-1&&(f.push(T),S=!0),S&&m&&k&&h.push(w+T)}}}}}});var Su=de((Tve,uS)=>{"use strict";var sS=by(),bc=Pk();uS.exports={moduleType:"component",name:"selections",layoutAttributes:Fy(),supplyLayoutDefaults:tS(),supplyDrawNewSelectionDefaults:aS(),includeBasePlot:xc()("selections"),draw:sS.draw,drawOne:sS.drawOne,reselect:bc.reselect,prepSelect:bc.prepSelect,clearOutline:bc.clearOutline,clearSelectionsCache:bc.clearSelectionsCache,selectOnClick:bc.selectOnClick}});var LS=de((Ave,ES)=>{"use strict";var By=it(),Oa=ir(),fS=Oa.numberFormat,m$=Sa(),x$=iv(),jv=Er(),xS=Oa.strTranslate,b$=On(),cS=Xr(),nl=mt(),_$=fo(),hS=Lt(),w$=Ko(),M$=oi(),bS=bu(),e1=bS.selectingOrDrawing,T$=bS.freeMode,A$=Cn().FROM_TL,k$=yv(),S$=Bv().redrawReglTraces,C$=ln(),zy=en().getFromId,E$=Su().prepSelect,L$=Su().clearOutline,D$=Su().selectOnClick,Ny=hy(),Uy=on(),vS=Uy.MINDRAG,Zn=Uy.MINZOOM,dS=!0;function R$(e,r,t,n,a,o,i,l){var u=e._fullLayout._zoomlayer,s=i+l==="nsew",f=(i+l).length===1,h,p,b,y,w,T,m,k,S,x,M,d,_,g,c,A,v,D,E,R,N,F,I;t+=r.yaxis._shift;function L(){if(h=r.xaxis,p=r.yaxis,S=h._length,x=p._length,m=h._offset,k=p._offset,b={},b[h._id]=h,y={},y[p._id]=p,i&&l)for(var pe=r.overlays,he=0;he<pe.length;he++){var xe=pe[he].xaxis;b[xe._id]=xe;var Le=pe[he].yaxis;y[Le._id]=Le}w=mS(b),T=mS(y),_=pS(w,l),g=pS(T,i),c=!g&&!_,d=yS(e,e._fullLayout._axisMatchGroups,b,y),M=yS(e,e._fullLayout._axisConstraintGroups,b,y,d);var qe=M.isSubplotConstrained||d.isSubplotConstrained;A=l||qe,v=i||qe;var Ne=e._fullLayout;D=Ne._has("scattergl"),E=Ne._has("splom"),R=Ne._has("svg")}L();var P=F$(g+_,e._fullLayout.dragmode,s),O=wS(r,i+l+"drag",P,t,n,a,o);if(c&&!s)return O.onmousedown=null,O.style.pointerEvents="none",O;var U={element:O,gd:e,plotinfo:r};U.prepFn=function(pe,he,xe){var Le=U.dragmode,qe=e._fullLayout.dragmode;qe!==Le&&(U.dragmode=qe),L(),F=e._fullLayout._invScaleX,I=e._fullLayout._invScaleY,c||(s?pe.shiftKey?qe==="pan"?qe="zoom":e1(qe)||(qe="pan"):pe.ctrlKey&&(qe="pan"):qe="pan"),T$(qe)?U.minDrag=1:U.minDrag=void 0,e1(qe)?(U.xaxes=w,U.yaxes=T,E$(pe,he,xe,U,qe)):(U.clickFn=$,e1(Le)&&X(),c||(qe==="zoom"?(U.moveFn=te,U.doneFn=ve,U.minDrag=1,H(pe,he,xe)):qe==="pan"&&(U.moveFn=Fe,U.doneFn=ge))),e._fullLayout._redrag=function(){var Ne=e._dragdata;if(Ne&&Ne.element===O){var $e=e._fullLayout.dragmode;e1($e)||(L(),Me([0,0,S,x]),U.moveFn(Ne.dx,Ne.dy))}}};function X(){U.plotinfo.selection=!1,L$(e)}function $(pe,he){var xe=U.gd;if(xe._fullLayout._activeShapeIndex>=0){xe._fullLayout._deactivateShape(xe);return}var Le=xe._fullLayout.clickmode;if(Oy(xe),pe===2&&!f&&Ue(),s)Le.indexOf("select")>-1&&D$(he,xe,w,T,r.id,U),Le.indexOf("event")>-1&&_$.click(xe,he,r.id);else if(pe===1&&f){var qe=i?p:h,Ne=i==="s"||l==="w"?0:1,$e=qe._name+".range["+Ne+"]",Ve=P$(qe,Ne),Be="left",Ye="middle";if(qe.fixedrange)return;i?(Ye=i==="n"?"top":"bottom",qe.side==="right"&&(Be="right")):l==="e"&&(Be="right"),xe._context.showAxisRangeEntryBoxes&&By.select(O).call(b$.makeEditable,{gd:xe,immediate:!0,background:xe._fullLayout.paper_bgcolor,text:String(Ve),fill:qe.tickfont?qe.tickfont.color:"#444",horizontalAlign:Be,verticalAlign:Ye}).on("edit",function(Te){var Re=qe.d2r(Te);Re!==void 0&&jv.call("_guiRelayout",xe,$e,Re)})}}M$.init(U);var j,Y,q,Q,ae,K,oe,re,V,ee;function H(pe,he,xe){var Le=O.getBoundingClientRect();j=he-Le.left,Y=xe-Le.top,e._fullLayout._calcInverseTransform(e);var qe=Oa.apply3DTransform(e._fullLayout._invTransform)(j,Y);j=qe[0],Y=qe[1],q={l:j,r:j,w:0,t:Y,b:Y,h:0},Q=e._hmpixcount?e._hmlumcount/e._hmpixcount:m$(e._fullLayout.plot_bgcolor).getLuminance(),ae="M0,0H"+S+"V"+x+"H0V0",K=!1,oe="xy",ee=!1,re=MS(u,Q,m,k,ae),V=TS(u,m,k)}function te(pe,he){if(e._transitioningWithDuration)return!1;var xe=Math.max(0,Math.min(S,F*pe+j)),Le=Math.max(0,Math.min(x,I*he+Y)),qe=Math.abs(xe-j),Ne=Math.abs(Le-Y);q.l=Math.min(j,xe),q.r=Math.max(j,xe),q.t=Math.min(Y,Le),q.b=Math.max(Y,Le);function $e(){oe="",q.r=q.l,q.t=q.b,V.attr("d","M0,0Z")}if(M.isSubplotConstrained)qe>Zn||Ne>Zn?(oe="xy",qe/S>Ne/x?(Ne=qe*x/S,Y>Le?q.t=Y-Ne:q.b=Y+Ne):(qe=Ne*S/x,j>xe?q.l=j-qe:q.r=j+qe),V.attr("d",r1(q))):$e();else if(d.isSubplotConstrained)if(qe>Zn||Ne>Zn){oe="xy";var Ve=Math.min(q.l/S,(x-q.b)/x),Be=Math.max(q.r/S,(x-q.t)/x);q.l=Ve*S,q.r=Be*S,q.b=(1-Ve)*x,q.t=(1-Be)*x,V.attr("d",r1(q))}else $e();else!g||Ne<Math.min(Math.max(qe*.6,vS),Zn)?qe<vS||!_?$e():(q.t=0,q.b=x,oe="x",V.attr("d",N$(q,Y))):!_||qe<Math.min(Ne*.6,Zn)?(q.l=0,q.r=S,oe="y",V.attr("d",z$(q,j))):(oe="xy",V.attr("d",r1(q)));q.w=q.r-q.l,q.h=q.b-q.t,oe&&(ee=!0),e._dragged=ee,AS(re,V,q,ae,K,Q),le(),e.emit("plotly_relayouting",N),K=!0}function le(){N={},(oe==="xy"||oe==="x")&&(qy(w,q.l/S,q.r/S,N,M.xaxes),Ee("x",N)),(oe==="xy"||oe==="y")&&(qy(T,(x-q.b)/x,(x-q.t)/x,N,M.yaxes),Ee("y",N))}function ve(){le(),Oy(e),ge(),SS(e)}var Ae=[0,0,S,x],we=null,ce=Uy.REDRAWDELAY,Se=r.mainplot?e._fullLayout._plots[r.mainplot]:r;function Ce(pe){if(!e._context._scrollZoom.cartesian&&!e._fullLayout._enablescrollzoom)return;if(X(),e._transitioningWithDuration){pe.preventDefault(),pe.stopPropagation();return}L(),clearTimeout(we);var he=-pe.deltaY;if(isFinite(he)||(he=pe.wheelDelta/10),!isFinite(he)){Oa.log("Did not find wheel motion attributes: ",pe);return}var xe=Math.exp(-Math.min(Math.max(he,-20),20)/200),Le=Se.draglayer.select(".nsewdrag").node().getBoundingClientRect(),qe=(pe.clientX-Le.left)/Le.width,Ne=(Le.bottom-pe.clientY)/Le.height,$e;function Ve(Be,Ye,Te){if(Be.fixedrange)return;var Re=Oa.simpleMap(Be.range,Be.r2l),Qe=Re[0]+(Re[1]-Re[0])*Ye;function Ke(ar){return Be.l2r(Qe+(ar-Qe)*Te)}Be.range=Re.map(Ke)}if(A){for(l||(qe=.5),$e=0;$e<w.length;$e++)Ve(w[$e],qe,xe);Ee("x"),Ae[2]*=xe,Ae[0]+=Ae[2]*qe*(1/xe-1)}if(v){for(i||(Ne=.5),$e=0;$e<T.length;$e++)Ve(T[$e],Ne,xe);Ee("y"),Ae[3]*=xe,Ae[1]+=Ae[3]*(1-Ne)*(1/xe-1)}Me(Ae),ze(),e.emit("plotly_relayouting",N),we=setTimeout(function(){e._fullLayout&&(Ae=[0,0,S,x],ge())},ce),pe.preventDefault()}i.length*l.length!==1&&CS(O,Ce);function Fe(pe,he){if(pe=pe*F,he=he*I,e._transitioningWithDuration)return;if(e._fullLayout._replotting=!0,_==="ew"||g==="ns"){var xe=_?-pe:0,Le=g?-he:0;if(d.isSubplotConstrained){if(_&&g){var qe=(pe/S-he/x)/2;pe=qe*S,he=-qe*x,xe=-pe,Le=-he}g?xe=-Le*S/x:Le=-xe*x/S}_&&(gS(w,pe),Ee("x")),g&&(gS(T,he),Ee("y")),Me([xe,Le,S,x]),ze(),e.emit("plotly_relayouting",N);return}function Ne(Ke,ar,ue){for(var J=1-ar,ne,De,He=0;He<Ke.length;He++){var er=Ke[He];if(!er.fixedrange){ne=er,De=er._rl[J]+(er._rl[ar]-er._rl[J])/I$(ue/er._length);var nr=er.l2r(De);nr!==!1&&nr!==void 0&&(er.range[ar]=nr)}}return ne._length*(ne._rl[ar]-De)/(ne._rl[ar]-ne._rl[J])}var $e=_==="w"==(g==="n")?1:-1;if(_&&g&&(M.isSubplotConstrained||d.isSubplotConstrained)){var Ve=(pe/S+$e*he/x)/2;pe=Ve*S,he=$e*Ve*x}var Be,Ye;if(_==="w"?pe=Ne(w,0,pe):_==="e"?pe=Ne(w,1,-pe):_||(pe=0),g==="n"?he=Ne(T,1,he):g==="s"?he=Ne(T,0,-he):g||(he=0),Be=_==="w"?pe:0,Ye=g==="n"?he:0,M.isSubplotConstrained&&!d.isSubplotConstrained||d.isSubplotConstrained&&_&&g&&$e>0){var Te;if(d.isSubplotConstrained||!_&&g.length===1){for(Te=0;Te<w.length;Te++)w[Te].range=w[Te]._r.slice(),Ny(w[Te],1-he/x);pe=he*S/x,Be=pe/2}if(d.isSubplotConstrained||!g&&_.length===1){for(Te=0;Te<T.length;Te++)T[Te].range=T[Te]._r.slice(),Ny(T[Te],1-pe/S);he=pe*x/S,Ye=he/2}}(!d.isSubplotConstrained||!g)&&Ee("x"),(!d.isSubplotConstrained||!_)&&Ee("y");var Re=S-pe,Qe=x-he;d.isSubplotConstrained&&!(_&&g)&&(_?(Ye=Be?0:pe*x/S,Qe=Re*x/S):(Be=Ye?0:he*S/x,Re=Qe*S/x)),Me([Be,Ye,Re,Qe]),ze(),e.emit("plotly_relayouting",N)}function Ee(pe,he){for(var xe=d.isSubplotConstrained?{x:T,y:w}[pe]:d[pe+"axes"],Le=d.isSubplotConstrained?{x:w,y:T}[pe]:[],qe=0;qe<xe.length;qe++){var Ne=xe[qe],$e=Ne._id,Ve=d.xLinks[$e]||d.yLinks[$e],Be=Le[0]||b[Ve]||y[Ve];Be&&(he?(he[Ne._name+".range[0]"]=he[Be._name+".range[0]"],he[Ne._name+".range[1]"]=he[Be._name+".range[1]"]):Ne.range=Be.range.slice())}}function ze(){var pe=[],he;function xe($e){for(he=0;he<$e.length;he++)$e[he].fixedrange||pe.push($e[he]._id)}function Le($e,Ve){for(he=0;he<$e.length;he++){var Be=$e[he],Ye=Be[Ve];!Be.fixedrange&&Ye.tickmode==="sync"&&pe.push(Ye._id)}}for(A&&(xe(w),xe(M.xaxes),xe(d.xaxes),Le(r.overlays,"xaxis")),v&&(xe(T),xe(M.yaxes),xe(d.yaxes),Le(r.overlays,"yaxis")),N={},he=0;he<pe.length;he++){var qe=pe[he],Ne=zy(e,qe);hS.drawOne(e,Ne,{skipTitle:!0}),N[Ne._name+".range[0]"]=Ne.range[0],N[Ne._name+".range[1]"]=Ne.range[1]}hS.redrawComponents(e,pe)}function Ue(){if(!e._transitioningWithDuration){var pe=e._context.doubleClick,he=[];_&&(he=he.concat(w)),g&&(he=he.concat(T)),d.xaxes&&(he=he.concat(d.xaxes)),d.yaxes&&(he=he.concat(d.yaxes));var xe={},Le,qe;if(pe==="reset+autosize")for(pe="autosize",qe=0;qe<he.length;qe++){Le=he[qe];var Ne=Le._rangeInitial0,$e=Le._rangeInitial1,Ve=Ne!==void 0||$e!==void 0;if(Ve&&(Ne!==void 0&&Ne!==Le.range[0]||$e!==void 0&&$e!==Le.range[1])||!Ve&&Le.autorange!==!0){pe="reset";break}}if(pe==="autosize")for(qe=0;qe<he.length;qe++)Le=he[qe],Le.fixedrange||(xe[Le._name+".autorange"]=!0);else if(pe==="reset"){for((_||M.isSubplotConstrained)&&(he=he.concat(M.xaxes)),g&&!M.isSubplotConstrained&&(he=he.concat(M.yaxes)),M.isSubplotConstrained&&(_?g||(he=he.concat(T)):he=he.concat(w)),qe=0;qe<he.length;qe++)if(Le=he[qe],!Le.fixedrange){var Be=Le._name,Ye=Le._autorangeInitial;Le._rangeInitial0===void 0&&Le._rangeInitial1===void 0?xe[Be+".autorange"]=!0:Le._rangeInitial0===void 0?(xe[Be+".autorange"]=Ye,xe[Be+".range"]=[null,Le._rangeInitial1]):Le._rangeInitial1===void 0?(xe[Be+".range"]=[Le._rangeInitial0,null],xe[Be+".autorange"]=Ye):xe[Be+".range"]=[Le._rangeInitial0,Le._rangeInitial1]}}e.emit("plotly_doubleclick",null),jv.call("_guiRelayout",e,xe)}}function ge(){Me([0,0,S,x]),Oa.syncOrAsync([C$.previousPromises,function(){e._fullLayout._replotting=!1,jv.call("_guiRelayout",e,N)}],e)}function Me(pe){var he=e._fullLayout,xe=he._plots,Le=he._subplots.cartesian,qe,Ne,$e,Ve;if(E&&jv.subplotsRegistry.splom.drag(e),D){for(qe=0;qe<Le.length;qe++)if(Ne=xe[Le[qe]],$e=Ne.xaxis,Ve=Ne.yaxis,Ne._scene){$e.limitRange&&$e.limitRange(),Ve.limitRange&&Ve.limitRange();var Be=Oa.simpleMap($e.range,$e.r2l),Ye=Oa.simpleMap(Ve.range,Ve.r2l);Ne._scene.update({range:[Be[0],Ye[0],Be[1],Ye[1]]})}}if((E||D)&&(k$(e),S$(e)),R){var Te=pe[2]/h._length,Re=pe[3]/p._length;for(qe=0;qe<Le.length;qe++){Ne=xe[Le[qe]],$e=Ne.xaxis,Ve=Ne.yaxis;var Qe=(A||d.isSubplotConstrained)&&!$e.fixedrange&&b[$e._id],Ke=(v||d.isSubplotConstrained)&&!Ve.fixedrange&&y[Ve._id],ar,ue,J,ne;if(Qe?(ar=Te,J=l||d.isSubplotConstrained?pe[0]:ye($e,ar)):d.xaHash[$e._id]?(ar=Te,J=pe[0]*$e._length/h._length):d.yaHash[$e._id]?(ar=Re,J=g==="ns"?-pe[1]*$e._length/p._length:ye($e,ar,{n:"top",s:"bottom"}[g])):(ar=ke($e,Te,Re),J=me($e,ar)),ar>1&&($e.maxallowed!==void 0&&A===($e.range[0]<$e.range[1]?"e":"w")||$e.minallowed!==void 0&&A===($e.range[0]<$e.range[1]?"w":"e"))&&(ar=1,J=0),Ke?(ue=Re,ne=i||d.isSubplotConstrained?pe[1]:ye(Ve,ue)):d.yaHash[Ve._id]?(ue=Re,ne=pe[1]*Ve._length/p._length):d.xaHash[Ve._id]?(ue=Te,ne=_==="ew"?-pe[0]*Ve._length/h._length:ye(Ve,ue,{e:"right",w:"left"}[_])):(ue=ke(Ve,Te,Re),ne=me(Ve,ue)),ue>1&&(Ve.maxallowed!==void 0&&v===(Ve.range[0]<Ve.range[1]?"n":"s")||Ve.minallowed!==void 0&&v===(Ve.range[0]<Ve.range[1]?"s":"n"))&&(ue=1,ne=0),!(!ar&&!ue)){ar||(ar=1),ue||(ue=1);var De=$e._offset-J/ar,He=Ve._offset-ne/ue;Ne.clipRect.call(nl.setTranslate,J,ne).call(nl.setScale,ar,ue),Ne.plot.call(nl.setTranslate,De,He).call(nl.setScale,1/ar,1/ue),(ar!==Ne.xScaleFactor||ue!==Ne.yScaleFactor)&&(nl.setPointGroupScale(Ne.zoomScalePts,ar,ue),nl.setTextPointsScale(Ne.zoomScaleTxt,ar,ue)),nl.hideOutsideRangePoints(Ne.clipOnAxisFalseTraces,Ne),Ne.xScaleFactor=ar,Ne.yScaleFactor=ue}}}}function ke(pe,he,xe){return pe.fixedrange?0:A&&M.xaHash[pe._id]?he:v&&(M.isSubplotConstrained?M.xaHash:M.yaHash)[pe._id]?xe:0}function me(pe,he){return he?(pe.range=pe._r.slice(),Ny(pe,he),ye(pe,he)):0}function ye(pe,he,xe){return pe._length*(1-he)*A$[xe||pe.constraintoward||"middle"]}return O}function _S(e,r,t,n){var a=Oa.ensureSingle(e.draglayer,r,t,function(o){o.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id)});return a.call(w$,n),a.node()}function wS(e,r,t,n,a,o,i){var l=_S(e,"rect",r,t);return By.select(l).call(nl.setRect,n,a,o,i),l}function pS(e,r){for(var t=0;t<e.length;t++)if(!e[t].fixedrange)return r;return""}function P$(e,r){var t=e.range[r],n=Math.abs(t-e.range[1-r]),a;return e.type==="date"?t:e.type==="log"?(a=Math.ceil(Math.max(0,-Math.log(n)/Math.LN10))+3,fS("."+a+"g")(Math.pow(10,t))):(a=Math.floor(Math.log(Math.abs(t))/Math.LN10)-Math.floor(Math.log(n)/Math.LN10)+4,fS("."+String(a)+"g")(t))}function qy(e,r,t,n,a){for(var o=0;o<e.length;o++){var i=e[o];if(!i.fixedrange)if(i.rangebreaks){var l=i._id.charAt(0)==="y",u=l?1-r:r,s=l?1-t:t;n[i._name+".range[0]"]=i.l2r(i.p2l(u*i._length)),n[i._name+".range[1]"]=i.l2r(i.p2l(s*i._length))}else{var f=i._rl[0],h=i._rl[1]-f;n[i._name+".range[0]"]=i.l2r(f+h*r),n[i._name+".range[1]"]=i.l2r(f+h*t)}}if(a&&a.length){var p=(r+(1-t))/2;qy(a,p,1-p,n,[])}}function gS(e,r){for(var t=0;t<e.length;t++){var n=e[t];if(!n.fixedrange){if(n.rangebreaks){var a=0,o=n._length,i=n.p2l(a+r)-n.p2l(a),l=n.p2l(o+r)-n.p2l(o),u=(i+l)/2;n.range=[n.l2r(n._rl[0]-u),n.l2r(n._rl[1]-u)]}else n.range=[n.l2r(n._rl[0]-r/n._m),n.l2r(n._rl[1]-r/n._m)];n.limitRange&&n.limitRange()}}}function I$(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function F$(e,r,t){return e?e==="nsew"?t?"":r==="pan"?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}function MS(e,r,t,n,a){return e.append("path").attr("class","zoombox").style({fill:r>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",xS(t,n)).attr("d",a+"Z")}function TS(e,r,t){return e.append("path").attr("class","zoombox-corners").style({fill:cS.background,stroke:cS.defaultLine,"stroke-width":1,opacity:0}).attr("transform",xS(r,t)).attr("d","M0,0Z")}function AS(e,r,t,n,a,o){e.attr("d",n+"M"+t.l+","+t.t+"v"+t.h+"h"+t.w+"v-"+t.h+"h-"+t.w+"Z"),kS(e,r,a,o)}function kS(e,r,t,n){t||(e.transition().style("fill",n>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),r.transition().style("opacity",1).duration(200))}function Oy(e){By.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function SS(e){dS&&e.data&&e._context.showTips&&(Oa.notifier(Oa._(e,"Double-click to zoom back out"),"long"),dS=!1)}function N$(e,r){return"M"+(e.l-.5)+","+(r-Zn-.5)+"h-3v"+(2*Zn+1)+"h3ZM"+(e.r+.5)+","+(r-Zn-.5)+"h3v"+(2*Zn+1)+"h-3Z"}function z$(e,r){return"M"+(r-Zn-.5)+","+(e.t-.5)+"v-3h"+(2*Zn+1)+"v3ZM"+(r-Zn-.5)+","+(e.b+.5)+"v3h"+(2*Zn+1)+"v-3Z"}function r1(e){var r=Math.floor(Math.min(e.b-e.t,e.r-e.l,Zn)/2);return"M"+(e.l-3.5)+","+(e.t-.5+r)+"h3v"+-r+"h"+r+"v-3h-"+(r+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+r)+"h-3v"+-r+"h"+-r+"v-3h"+(r+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-r)+"h-3v"+r+"h"+-r+"v3h"+(r+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-r)+"h3v"+r+"h"+r+"v3h-"+(r+3)+"Z"}function yS(e,r,t,n,a){for(var o=!1,i={},l={},u,s,f,h,p=(a||{}).xaHash,b=(a||{}).yaHash,y=0;y<r.length;y++){var w=r[y];for(u in t)if(w[u]){for(f in w)!(a&&(p[f]||b[f]))&&!(f.charAt(0)==="x"?t:n)[f]&&(i[f]=u);for(s in n)!(a&&(p[s]||b[s]))&&w[s]&&(o=!0)}for(s in n)if(w[s])for(h in w)!(a&&(p[h]||b[h]))&&!(h.charAt(0)==="x"?t:n)[h]&&(l[h]=s)}o&&(Oa.extendFlat(i,l),l={});var T={},m=[];for(f in i){var k=zy(e,f);m.push(k),T[k._id]=k}var S={},x=[];for(h in l){var M=zy(e,h);x.push(M),S[M._id]=M}return{xaHash:T,yaHash:S,xaxes:m,yaxes:x,xLinks:i,yLinks:l,isSubplotConstrained:o}}function CS(e,r){if(!x$)e.onwheel!==void 0?e.onwheel=r:e.onmousewheel!==void 0?e.onmousewheel=r:e.isAddedWheelEvent||(e.isAddedWheelEvent=!0,e.addEventListener("wheel",r,{passive:!1}));else{var t=e.onwheel!==void 0?"wheel":"mousewheel";e._onwheel&&e.removeEventListener(t,e._onwheel),e._onwheel=r,e.addEventListener(t,r,{passive:!1})}}function mS(e){var r=[];for(var t in e)r.push(e[t]);return r}ES.exports={makeDragBox:R$,makeDragger:_S,makeRectDragger:wS,makeZoombox:MS,makeCorners:TS,updateZoombox:AS,xyCorners:r1,transitionZoombox:kS,removeZoombox:Oy,showDoubleClickNotifier:SS,attachWheelEventHandler:CS}});var Hy=de(n1=>{"use strict";var q$=it(),t1=fo(),O$=oi(),B$=Ko(),ui=LS().makeDragBox,cn=on().DRAGGERSIZE;n1.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){q$.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var n=Object.keys(t._plots||{}).sort(function(o,i){if((t._plots[o].mainplot&&!0)===(t._plots[i].mainplot&&!0)){var l=o.split("y"),u=i.split("y");return l[0]===u[0]?Number(l[1]||1)-Number(u[1]||1):Number(l[0]||1)-Number(u[0]||1)}return t._plots[o].mainplot?1:-1});n.forEach(function(o){var i=t._plots[o],l=i.xaxis,u=i.yaxis;if(!i.mainplot){var s=ui(r,i,l._offset,u._offset,l._length,u._length,"ns","ew");s.onmousemove=function(p){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===o&&r._fullLayout._plots[o]&&t1.hover(r,p,o)},t1.hover(r,p,o),r._fullLayout._lasthover=s,r._fullLayout._hoversubplot=o},s.onmouseout=function(p){r._dragging||(r._fullLayout._hoversubplot=null,O$.unhover(r,p))},r._context.showAxisDragHandles&&(ui(r,i,l._offset-cn,u._offset-cn,cn,cn,"n","w"),ui(r,i,l._offset+l._length,u._offset-cn,cn,cn,"n","e"),ui(r,i,l._offset-cn,u._offset+u._length,cn,cn,"s","w"),ui(r,i,l._offset+l._length,u._offset+u._length,cn,cn,"s","e"))}if(r._context.showAxisDragHandles){if(o===l._mainSubplot){var f=l._mainLinePosition;l.side==="top"&&(f-=cn),ui(r,i,l._offset+l._length*.1,f,l._length*.8,cn,"","ew"),ui(r,i,l._offset,f,l._length*.1,cn,"","w"),ui(r,i,l._offset+l._length*.9,f,l._length*.1,cn,"","e")}if(o===u._mainSubplot){var h=u._mainLinePosition;u.side!=="right"&&(h-=cn),ui(r,i,h,u._offset+u._length*.1,cn,u._length*.8,"ns",""),ui(r,i,h,u._offset+u._length*.9,cn,u._length*.1,"s",""),ui(r,i,h,u._offset,cn,u._length*.1,"n","")}}});var a=t._hoverlayer.node();a.onmousemove=function(o){o.target=r._fullLayout._lasthover,t1.hover(r,o,t._hoversubplot)},a.onclick=function(o){o.target=r._fullLayout._lasthover,t1.click(r,o)},a.onmousedown=function(o){r._fullLayout._lasthover.onmousedown(o)},n1.updateFx(r)}};n1.updateFx=function(e){var r=e._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";B$(r._draggers,t)}});var PS=de((Sve,RS)=>{"use strict";var DS=Er();RS.exports=function(r){for(var t=DS.layoutArrayContainers,n=DS.layoutArrayRegexes,a=r.split("[")[0],o,i,l=0;l<n.length;l++)if(i=r.match(n[l]),i&&i.index===0){o=i[0];break}if(o||(o=t[t.indexOf(a)]),!o)return!1;var u=r.slice(o.length);return u?(i=u.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),i?{array:o,index:Number(i[1]),property:i[3]||""}:!1):{array:o,index:"",property:""}}});var FS=de(wc=>{"use strict";var U$=Eo(),Vy=W0(),_c=Il(),H$=qp().sorterAsc,Gy=Er();wc.containerArrayMatch=PS();var V$=wc.isAddVal=function(r){return r==="add"||U$(r)},IS=wc.isRemoveVal=function(r){return r===null||r==="remove"};wc.applyContainerArrayChanges=function(r,t,n,a,o){var i=t.astr,l=Gy.getComponentMethod(i,"supplyLayoutDefaults"),u=Gy.getComponentMethod(i,"draw"),s=Gy.getComponentMethod(i,"drawOne"),f=a.replot||a.recalc||l===Vy||u===Vy,h=r.layout,p=r._fullLayout;if(n[""]){Object.keys(n).length>1&&_c.warn("Full array edits are incompatible with other edits",i);var b=n[""][""];if(IS(b))t.set(null);else if(Array.isArray(b))t.set(b);else return _c.warn("Unrecognized full array edit value",i,b),!0;return f?!1:(l(h,p),u(r),!0)}var y=Object.keys(n).map(Number).sort(H$),w=t.get(),T=w||[],m=o(p,i).get(),k=[],S=-1,x=T.length,M,d,_,g,c,A,v,D;for(M=0;M<y.length;M++){if(_=y[M],g=n[_],c=Object.keys(g),A=g[""],v=V$(A),_<0||_>T.length-(v?0:1)){_c.warn("index out of range",i,_);continue}if(A!==void 0)c.length>1&&_c.warn("Insertion & removal are incompatible with edits to the same index.",i,_),IS(A)?k.push(_):v?(A==="add"&&(A={}),T.splice(_,0,A),m&&m.splice(_,0,{})):_c.warn("Unrecognized full object edit value",i,_,A),S===-1&&(S=_);else for(d=0;d<c.length;d++)D=i+"["+_+"].",o(T[_],c[d],D).set(g[c[d]])}for(M=k.length-1;M>=0;M--)T.splice(k[M],1),m&&m.splice(k[M],1);if(T.length?w||t.set(T):t.set(null),f)return!1;if(l(h,p),s!==Vy){var E;if(S===-1)E=y;else{for(x=Math.max(T.length,x),E=[],M=0;M<y.length&&(_=y[M],!(_>=S));M++)E.push(_);for(M=S;M<x;M++)E.push(M)}for(M=0;M<E.length;M++)s(r,E[M])}else u(r);return!0}});var VS=de(Ba=>{"use strict";var OS=nt(),BS=Er(),Gn=ir(),Mc=ln(),US=en(),HS=Xr(),Tc=US.cleanId,G$=US.getFromTrace,Yy=BS.traceIs,Y$=["x","y","z"];Ba.clearPromiseQueue=function(e){Array.isArray(e._promises)&&e._promises.length>0&&Gn.log("Clearing previous rejected promises from queue."),e._promises=[]};Ba.cleanLayout=function(e){var r,t;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var n=(Mc.subplotsRegistry.cartesian||{}).attrRegex,a=(Mc.subplotsRegistry.polar||{}).attrRegex,o=(Mc.subplotsRegistry.ternary||{}).attrRegex,i=(Mc.subplotsRegistry.gl3d||{}).attrRegex,l=Object.keys(e);for(r=0;r<l.length;r++){var u=l[r];if(n&&n.test(u)){var s=e[u];s.anchor&&s.anchor!=="free"&&(s.anchor=Tc(s.anchor)),s.overlaying&&(s.overlaying=Tc(s.overlaying)),s.type||(s.isdate?s.type="date":s.islog?s.type="log":s.isdate===!1&&s.islog===!1&&(s.type="linear")),(s.autorange==="withzero"||s.autorange==="tozero")&&(s.autorange=!0,s.rangemode="tozero"),s.insiderange&&delete s.range,delete s.islog,delete s.isdate,delete s.categories,a1(s,"domain")&&delete s.domain}}var f=Array.isArray(e.annotations)?e.annotations.length:0;for(r=0;r<f;r++){var h=e.annotations[r];Gn.isPlainObject(h)&&(Cu(h,"xref"),Cu(h,"yref"))}var p=Array.isArray(e.shapes)?e.shapes.length:0;for(r=0;r<p;r++){var b=e.shapes[r];Gn.isPlainObject(b)&&(Cu(b,"xref",!0),Cu(b,"yref",!0))}var y=Array.isArray(e.images)?e.images.length:0;for(r=0;r<y;r++){var w=e.images[r];Gn.isPlainObject(w)&&(Cu(w,"xref"),Cu(w,"yref"))}var T=e.legend;return T&&(T.x>3?(T.x=1.02,T.xanchor="left"):T.x<-2&&(T.x=-.02,T.xanchor="right"),T.y>3?(T.y=1.02,T.yanchor="bottom"):T.y<-2&&(T.y=-.02,T.yanchor="top")),e.dragmode==="rotate"&&(e.dragmode="orbit"),HS.clean(e),e.template&&e.template.layout&&Ba.cleanLayout(e.template.layout),e};function Cu(e,r,t=!1){var n=e[r],a=r.charAt(0);t&&Array.isArray(n)||n&&n!=="paper"&&(e[r]=Tc(n,a,!0))}Ba.cleanData=function(e){for(var r=0;r<e.length;r++){var t=e[r],n;if(t.type==="histogramy"&&"xbins"in t&&!("ybins"in t)&&(t.ybins=t.xbins,delete t.xbins),t.type==="histogramy"&&Ba.swapXYData(t),(t.type==="histogramx"||t.type==="histogramy")&&(t.type="histogram"),"scl"in t&&!("colorscale"in t)&&(t.colorscale=t.scl,delete t.scl),"reversescl"in t&&!("reversescale"in t)&&(t.reversescale=t.reversescl,delete t.reversescl),t.xaxis&&(t.xaxis=Tc(t.xaxis,"x")),t.yaxis&&(t.yaxis=Tc(t.yaxis,"y")),Yy(t,"gl3d")&&t.scene&&(t.scene=Mc.subplotsRegistry.gl3d.cleanId(t.scene)),!Yy(t,"pie-like")&&!Yy(t,"bar-like"))if(Array.isArray(t.textposition))for(n=0;n<t.textposition.length;n++)t.textposition[n]=zS(t.textposition[n]);else t.textposition&&(t.textposition=zS(t.textposition));var a=BS.getModule(t);if(a&&a.colorbar){var o=a.colorbar.container,i=o?t[o]:t;i&&i.colorscale&&(i.colorscale==="YIGnBu"&&(i.colorscale="YlGnBu"),i.colorscale==="YIOrRd"&&(i.colorscale="YlOrRd"))}if(t.type==="surface"&&Gn.isPlainObject(t.contours)){var l=["x","y","z"];for(n=0;n<l.length;n++){var u=t.contours[l[n]];Gn.isPlainObject(u)&&(u.highlightColor&&(u.highlightcolor=u.highlightColor,delete u.highlightColor),u.highlightWidth&&(u.highlightwidth=u.highlightWidth,delete u.highlightWidth))}}if(t.type==="candlestick"||t.type==="ohlc"){var s=(t.increasing||{}).showlegend!==!1,f=(t.decreasing||{}).showlegend!==!1,h=NS(t.increasing),p=NS(t.decreasing);if(h!==!1&&p!==!1){var b=W$(h,p,s,f);b&&(t.name=b)}else(h||p)&&!t.name&&(t.name=h||p)}a1(t,"line")&&delete t.line,"marker"in t&&(a1(t.marker,"line")&&delete t.marker.line,a1(t,"marker")&&delete t.marker),HS.clean(t),t.autobinx&&(delete t.autobinx,delete t.xbins),t.autobiny&&(delete t.autobiny,delete t.ybins)}};function NS(e){if(!Gn.isPlainObject(e))return!1;var r=e.name;return delete e.name,delete e.showlegend,(typeof r=="string"||typeof r=="number")&&String(r)}function W$(e,r,t,n){if(t&&!n)return e;if(n&&!t||!e.trim())return r;if(!r.trim())return e;var a=Math.min(e.length,r.length),o;for(o=0;o<a&&e.charAt(o)===r.charAt(o);o++);var i=e.slice(0,o);return i.trim()}function zS(e){var r="middle",t="center";return typeof e=="string"&&(e.indexOf("top")!==-1?r="top":e.indexOf("bottom")!==-1&&(r="bottom"),e.indexOf("left")!==-1?t="left":e.indexOf("right")!==-1&&(t="right")),r+" "+t}function a1(e,r){return r in e&&typeof e[r]=="object"&&Object.keys(e[r]).length===0}Ba.swapXYData=function(e){var r;if(Gn.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var t=e.error_y,n="copy_ystyle"in t?t.copy_ystyle:!(t.color||t.thickness||t.width);Gn.swapAttrs(e,["error_?.copy_ystyle"]),n&&Gn.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}if(typeof e.hoverinfo=="string"){var a=e.hoverinfo.split("+");for(r=0;r<a.length;r++)a[r]==="x"?a[r]="y":a[r]==="y"&&(a[r]="x");e.hoverinfo=a.join("+")}};Ba.coerceTraceIndices=function(e,r){if(OS(r))return[r];if(!Array.isArray(r)||!r.length)return e.data.map(function(a,o){return o});if(Array.isArray(r)){for(var t=[],n=0;n<r.length;n++)Gn.isIndex(r[n],e.data.length)?t.push(r[n]):Gn.warn("trace index (",r[n],") is not a number or is out of bounds");return t}return r};Ba.manageArrayContainers=function(e,r,t){var n=e.obj,a=e.parts,o=a.length,i=a[o-1],l=OS(i);if(l&&r===null){var u=a.slice(0,o-1).join("."),s=Gn.nestedProperty(n,u).get();s.splice(i,1)}else l&&e.get()===void 0&&e.get()===void 0&&(t[e.astr]=null),e.set(r)};var X$=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function qS(e){var r=e.search(X$);if(r>0)return e.slice(0,r)}Ba.hasParent=function(e,r){for(var t=qS(r);t;){if(t in e)return!0;t=qS(t)}return!1};Ba.clearAxisTypes=function(e,r,t){for(var n=0;n<r.length;n++)for(var a=e._fullData[n],o=0;o<3;o++){var i=G$(e,a,Y$[o]);if(i&&i.type!=="log"){var l=i._name,u=i._id.slice(1);if(u.slice(0,5)==="scene"){if(t[u]!==void 0)continue;l=u+"."+l}var s=l+".type";t[l]===void 0&&t[s]===void 0&&Gn.nestedProperty(e.layout,s).set(null)}}};var Wy=(e,r)=>{let t=(...n)=>n.every(a=>Gn.isPlainObject(a))||n.every(a=>Array.isArray(a));if([e,r].every(n=>Array.isArray(n))){if(e.length!==r.length)return!1;for(let n=0;n<e.length;n++){let a=e[n],o=r[n];if(a!==o&&!(t(a,o)?Wy(a,o):!1))return!1}return!0}else if([e,r].every(n=>Gn.isPlainObject(n))){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(let n in e){if(n.startsWith("_"))continue;let a=e[n],o=r[n];if(a!==o&&!(t(a,o)?Wy(a,o):!1))return!1}return!0}return!1};Ba.collectionsAreEqual=Wy});var $y=de(et=>{"use strict";var l1=it(),Z$=nt(),J$=Qp(),dr=ir(),wt=dr.nestedProperty,Jy=Sf(),Jn=Mw(),Ua=Er(),d1=eu(),Lr=ln(),Yn=Lt(),K$=x2(),Q$=Da(),Xy=mt(),$$=Xr(),j$=Hy().initInteractions,ej=Ho(),rj=Su().clearOutline,ZS=Pl().dfltConfig,i1=FS(),Wt=VS(),ht=Bv(),al=qn(),tj=on().AX_NAME_PATTERN,Zy=0,GS=5;function nj(e,r,t,n){var a;if(e=dr.getGraphDiv(e),Jy.init(e),dr.isPlainObject(r)){var o=r;r=o.data,t=o.layout,n=o.config,a=o.frames}var i=Jy.triggerHandler(e,"plotly_beforeplot",[r,t,n]);if(i===!1)return Promise.reject();!r&&!t&&!dr.isPlotDiv(e)&&dr.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",e);function l(){if(a)return et.addFrames(e,a)}KS(e,n),t||(t={}),l1.select(e).classed("js-plotly-plot",!0),Xy.makeTester(),Array.isArray(e._promises)||(e._promises=[]);var u=(e.data||[]).length===0&&Array.isArray(r);Array.isArray(r)&&(Wt.cleanData(r),u?e.data=r:e.data.push.apply(e.data,r),e.empty=!1),(!e.layout||u)&&(e.layout=Wt.cleanLayout(t)),Lr.supplyDefaults(e);var s=e._fullLayout,f=s._has("cartesian");s._replotting=!0,(u||s._shouldCreateBgLayer)&&(kj(e),s._shouldCreateBgLayer&&delete s._shouldCreateBgLayer),Xy.initGradients(e),Xy.initPatterns(e),u&&Yn.saveShowSpikeInitial(e);var h=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;h&&Lr.doCalcdata(e);for(var p=0;p<e.calcdata.length;p++)e.calcdata[p][0].trace=e._fullData[p];e._context.responsive?e._responsiveChartHandler||(e._responsiveChartHandler=function(){dr.isHidden(e)||Lr.resize(e)},window.addEventListener("resize",e._responsiveChartHandler)):dr.clearResponsive(e);var b=dr.extendFlat({},s._size),y=0;function w(){for(var _=s._basePlotModules,g=0;g<_.length;g++)_[g].drawFramework&&_[g].drawFramework(e);!s._glcanvas&&s._has("gl")&&(s._glcanvas=s._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(D){return D.key}),s._glcanvas.enter().append("canvas").attr("class",function(D){return"gl-canvas gl-canvas-"+D.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var c=e._context.plotGlPixelRatio;if(s._glcanvas){s._glcanvas.attr("width",s.width*c).attr("height",s.height*c).style("width",s.width+"px").style("height",s.height+"px");var A=s._glcanvas.data()[0].regl;if(A&&(Math.floor(s.width*c)!==A._gl.drawingBufferWidth||Math.floor(s.height*c)!==A._gl.drawingBufferHeight)){var v="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(y)dr.error(v);else return dr.log(v+" Clearing graph and plotting again."),Lr.cleanPlot([],{},e._fullData,s),Lr.supplyDefaults(e),s=e._fullLayout,Lr.doCalcdata(e),y++,w()}}return s.modebar.orientation==="h"?s._modebardiv.style("height",null).style("width","100%"):s._modebardiv.style("width",null).style("height",s.height+"px"),Lr.previousPromises(e)}function T(){if(Lr.clearAutoMarginIds(e),ht.drawMarginPushers(e),Yn.allowAutoMargin(e),e._fullLayout.title.text&&e._fullLayout.title.automargin&&Lr.allowAutoMargin(e,"title.automargin"),s._has("pie"))for(var _=e._fullData,g=0;g<_.length;g++){var c=_[g];c.type==="pie"&&c.automargin&&Lr.allowAutoMargin(e,"pie."+c.uid+".automargin")}return Lr.doAutoMargin(e),Lr.previousPromises(e)}function m(){if(Lr.didMarginChange(b,s._size))return dr.syncOrAsync([T,ht.layoutStyles],e)}function k(){if(!h){S();return}return dr.syncOrAsync([Ua.getComponentMethod("shapes","calcAutorange"),Ua.getComponentMethod("annotations","calcAutorange"),S],e)}function S(){e._transitioning||(ht.doAutoRangeAndConstraints(e),u&&Yn.saveRangeInitial(e),Ua.getComponentMethod("rangeslider","calcAutorange")(e))}function x(){return Yn.draw(e,u?"":"redraw")}var M=[Lr.previousPromises,l,w,T,m];f&&M.push(k),M.push(ht.layoutStyles),f&&M.push(x,function(g){var c=g._fullLayout._insideTickLabelsUpdaterange;if(c)return g._fullLayout._insideTickLabelsUpdaterange=void 0,Ac(g,c).then(function(){Yn.saveRangeInitial(g,!0)})}),M.push(ht.drawData,ht.finalDraw,j$,Lr.addLinks,Lr.rehover,Lr.redrag,Lr.reselect,Lr.doAutoMargin,Lr.previousPromises);var d=dr.syncOrAsync(M,e);return(!d||!d.then)&&(d=Promise.resolve()),d.then(function(){return kc(e),e})}function kc(e){var r=e._fullLayout;r._redrawFromAutoMarginCount?r._redrawFromAutoMarginCount--:e.emit("plotly_afterplot")}function aj(e){return dr.extendFlat(ZS,e)}function JS(e,r){try{e._fullLayout._paper.style("background",r)}catch(t){dr.error(t)}}function ij(e,r){var t=$$.combine(r,"white");JS(e,t)}function KS(e,r){if(!e._context){e._context=dr.extendDeep({},ZS);var t=l1.select("base");e._context._baseUrl=t.size()&&t.attr("href")?window.location.href.split("#")[0]:""}var n=e._context,a,o,i;if(r){for(o=Object.keys(r),a=0;a<o.length;a++)i=o[a],!(i==="editable"||i==="edits")&&i in n&&(i==="setBackground"&&r[i]==="opaque"?n[i]=ij:n[i]=r[i]);var l=r.editable;if(l!==void 0)for(n.editable=l,o=Object.keys(n.edits),a=0;a<o.length;a++)n.edits[o[a]]=l;if(r.edits)for(o=Object.keys(r.edits),a=0;a<o.length;a++)i=o[a],i in n.edits&&(n.edits[i]=r.edits[i]);n._exportedPlot=r._exportedPlot}n.staticPlot&&(n.editable=!1,n.edits={},n.autosizable=!1,n.scrollZoom=!1,n.doubleClick=!1,n.showTips=!1,n.showLink=!1,n.displayModeBar=!1),n.displayModeBar==="hover"&&!J$&&(n.displayModeBar=!0),(n.setBackground==="transparent"||typeof n.setBackground!="function")&&(n.setBackground=JS),n._hasZeroHeight=n._hasZeroHeight||e.clientHeight===0,n._hasZeroWidth=n._hasZeroWidth||e.clientWidth===0;var u=n.scrollZoom,s=n._scrollZoom={};if(u===!0)s.cartesian=1,s.gl3d=1,s.geo=1,s.mapbox=1,s.map=1;else if(typeof u=="string"){var f=u.split("+");for(a=0;a<f.length;a++)s[f[a]]=1}else u!==!1&&(s.gl3d=1,s.geo=1,s.mapbox=1,s.map=1)}function oj(e){if(e=dr.getGraphDiv(e),!dr.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return Wt.cleanData(e.data),Wt.cleanLayout(e.layout),e.calcdata=void 0,et._doPlot(e).then(function(){return e.emit("plotly_redraw"),e})}function lj(e,r,t,n){return e=dr.getGraphDiv(e),Lr.cleanPlot([],{},e._fullData||[],e._fullLayout||{}),Lr.purge(e),et._doPlot(e,r,t,n)}function s1(e,r){var t=r+1,n=[],a,o;for(a=0;a<e.length;a++)o=e[a],o<0?n.push(t+o):n.push(o);return n}function u1(e,r,t){var n,a;for(n=0;n<r.length;n++){if(a=r[n],a!==parseInt(a,10))throw new Error("all values in "+t+" must be integers");if(a>=e.data.length||a<-e.data.length)throw new Error(t+" must be valid indices for gd.data.");if(r.indexOf(a,n+1)>-1||a>=0&&r.indexOf(-e.data.length+a)>-1||a<0&&r.indexOf(e.data.length+a)>-1)throw new Error("each index in "+t+" must be unique.")}}function QS(e,r,t){if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(typeof r=="undefined")throw new Error("currentIndices is a required argument.");if(Array.isArray(r)||(r=[r]),u1(e,r,"currentIndices"),typeof t!="undefined"&&!Array.isArray(t)&&(t=[t]),typeof t!="undefined"&&u1(e,t,"newIndices"),typeof t!="undefined"&&r.length!==t.length)throw new Error("current and new indices must be of equal length.")}function sj(e,r,t){var n,a;if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(typeof r=="undefined")throw new Error("traces must be defined.");for(Array.isArray(r)||(r=[r]),n=0;n<r.length;n++)if(a=r[n],typeof a!="object"||Array.isArray(a)||a===null)throw new Error("all values in traces array must be non-array objects");if(typeof t!="undefined"&&!Array.isArray(t)&&(t=[t]),typeof t!="undefined"&&t.length!==r.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function uj(e,r,t,n){var a=dr.isPlainObject(n);if(!Array.isArray(e.data))throw new Error("gd.data must be an array");if(!dr.isPlainObject(r))throw new Error("update must be a key:value object");if(typeof t=="undefined")throw new Error("indices must be an integer or array of integers");u1(e,t,"indices");for(var o in r){if(!Array.isArray(r[o])||r[o].length!==t.length)throw new Error("attribute "+o+" must be an array of length equal to indices array length");if(a&&(!(o in n)||!Array.isArray(n[o])||n[o].length!==r[o].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 correspondence with the keys and number of traces in the update object")}}function fj(e,r,t,n){var a=dr.isPlainObject(n),o=[],i,l,u,s,f;Array.isArray(t)||(t=[t]),t=s1(t,e.data.length-1);for(var h in r)for(var p=0;p<t.length;p++){if(i=e.data[t[p]],u=wt(i,h),l=u.get(),s=r[h][p],!dr.isArrayOrTypedArray(s))throw new Error("attribute: "+h+" index: "+p+" must be an array");if(!dr.isArrayOrTypedArray(l))throw new Error("cannot extend missing or non-array attribute: "+h);if(l.constructor!==s.constructor)throw new Error("cannot extend array with an array of a different type: "+h);f=a?n[h][p]:n,Z$(f)||(f=-1),o.push({prop:u,target:l,insert:s,maxp:Math.floor(f)})}return o}function $S(e,r,t,n,a){uj(e,r,t,n);for(var o=fj(e,r,t,n),i={},l={},u=0;u<o.length;u++){var s=o[u].prop,f=o[u].maxp,h=a(o[u].target,o[u].insert,f);s.set(h[0]),Array.isArray(i[s.astr])||(i[s.astr]=[]),i[s.astr].push(h[1]),Array.isArray(l[s.astr])||(l[s.astr]=[]),l[s.astr].push(o[u].target.length)}return{update:i,maxPoints:l}}function jS(e,r){var t=new e.constructor(e.length+r.length);return t.set(e),t.set(r,e.length),t}function eC(e,r,t,n){e=dr.getGraphDiv(e);function a(u,s,f){var h,p;if(dr.isTypedArray(u))if(f<0){var b=new u.constructor(0),y=jS(u,s);f<0?(h=y,p=b):(h=b,p=y)}else if(h=new u.constructor(f),p=new u.constructor(u.length+s.length-f),f===s.length)h.set(s),p.set(u);else if(f<s.length){var w=s.length-f;h.set(s.subarray(w)),p.set(u),p.set(s.subarray(0,w),u.length)}else{var T=f-s.length,m=u.length-T;h.set(u.subarray(m)),h.set(s,T),p.set(u.subarray(0,m))}else h=u.concat(s),p=f>=0&&f<h.length?h.splice(0,h.length-f):[];return[h,p]}var o=$S(e,r,t,n,a),i=et.redraw(e),l=[e,o.update,t,o.maxPoints];return Jn.add(e,et.prependTraces,l,eC,arguments),i}function rC(e,r,t,n){e=dr.getGraphDiv(e);function a(u,s,f){var h,p;if(dr.isTypedArray(u))if(f<=0){var b=new u.constructor(0),y=jS(s,u);f<0?(h=y,p=b):(h=b,p=y)}else if(h=new u.constructor(f),p=new u.constructor(u.length+s.length-f),f===s.length)h.set(s),p.set(u);else if(f<s.length){var w=s.length-f;h.set(s.subarray(0,w)),p.set(s.subarray(w)),p.set(u,w)}else{var T=f-s.length;h.set(s),h.set(u.subarray(0,T),s.length),p.set(u.subarray(T))}else h=s.concat(u),p=f>=0&&f<h.length?h.splice(f,h.length):[];return[h,p]}var o=$S(e,r,t,n,a),i=et.redraw(e),l=[e,o.update,t,o.maxPoints];return Jn.add(e,et.extendTraces,l,rC,arguments),i}function tC(e,r,t){e=dr.getGraphDiv(e);var n=[],a=et.deleteTraces,o=tC,i=[e,n],l=[e,r],u,s;for(sj(e,r,t),Array.isArray(r)||(r=[r]),r=r.map(function(f){return dr.extendFlat({},f)}),Wt.cleanData(r),u=0;u<r.length;u++)e.data.push(r[u]);for(u=0;u<r.length;u++)n.push(-r.length+u);if(typeof t=="undefined")return s=et.redraw(e),Jn.add(e,a,i,o,l),s;Array.isArray(t)||(t=[t]);try{QS(e,n,t)}catch(f){throw e.data.splice(e.data.length-r.length,r.length),f}return Jn.startSequence(e),Jn.add(e,a,i,o,l),s=et.moveTraces(e,n,t),Jn.stopSequence(e),s}function nC(e,r){e=dr.getGraphDiv(e);var t=[],n=et.addTraces,a=nC,o=[e,t,r],i=[e,r],l,u;if(typeof r=="undefined")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(r)||(r=[r]),u1(e,r,"indices"),r=s1(r,e.data.length-1),r.sort(dr.sorterDes),l=0;l<r.length;l+=1)u=e.data.splice(r[l],1)[0],t.push(u);var s=et.redraw(e);return Jn.add(e,n,o,a,i),s}function Ky(e,r,t){e=dr.getGraphDiv(e);var n=[],a=[],o=Ky,i=Ky,l=[e,t,r],u=[e,r,t],s;if(QS(e,r,t),r=Array.isArray(r)?r:[r],typeof t=="undefined")for(t=[],s=0;s<r.length;s++)t.push(-r.length+s);for(t=Array.isArray(t)?t:[t],r=s1(r,e.data.length-1),t=s1(t,e.data.length-1),s=0;s<e.data.length;s++)r.indexOf(s)===-1&&n.push(e.data[s]);for(s=0;s<r.length;s++)a.push({newIndex:t[s],trace:e.data[r[s]]});for(a.sort(function(h,p){return h.newIndex-p.newIndex}),s=0;s<a.length;s+=1)n.splice(a[s].newIndex,0,a[s].trace);e.data=n;var f=et.redraw(e);return Jn.add(e,o,l,i,u),f}function f1(e,r,t,n){e=dr.getGraphDiv(e),Wt.clearPromiseQueue(e);var a={};if(typeof r=="string")a[r]=t;else if(dr.isPlainObject(r))a=dr.extendFlat({},r),n===void 0&&(n=t);else return dr.warn("Restyle fail.",r,t,n),Promise.reject();Object.keys(a).length&&(e.changed=!0);var o=Wt.coerceTraceIndices(e,n),i=aC(e,a,o),l=i.flags;l.calc&&(e.calcdata=void 0),l.clearAxisTypes&&Wt.clearAxisTypes(e,o,{});var u=[];l.fullReplot?u.push(et._doPlot):(u.push(Lr.previousPromises),Lr.supplyDefaults(e),l.markerSize&&(Lr.doCalcdata(e),p1(u)),l.style&&u.push(ht.doTraceStyle),l.colorbars&&u.push(ht.doColorBars),u.push(kc)),u.push(Lr.rehover,Lr.redrag,Lr.reselect),Jn.add(e,f1,[e,i.undoit,i.traces],f1,[e,i.redoit,i.traces]);var s=dr.syncOrAsync(u,e);return(!s||!s.then)&&(s=Promise.resolve()),s.then(function(){return e.emit("plotly_restyle",i.eventData),e})}function go(e){return e===void 0?null:e}function o1(e,r){return r?function(t,n,a){var o=wt(t,n),i=o.set;return o.set=function(l){var u=(a||"")+n;c1(u,o.get(),l,e),i(l)},o}:wt}function c1(e,r,t,n){if(Array.isArray(r)||Array.isArray(t))for(var a=Array.isArray(r)?r:[],o=Array.isArray(t)?t:[],i=Math.max(a.length,o.length),l=0;l<i;l++)c1(e+"["+l+"]",a[l],o[l],n);else if(dr.isPlainObject(r)||dr.isPlainObject(t)){var u=dr.isPlainObject(r)?r:{},s=dr.isPlainObject(t)?t:{},f=dr.extendFlat({},u,s);for(var h in f)c1(e+"."+h,u[h],s[h],n)}else n[e]===void 0&&(n[e]=go(r))}function cj(e,r,t){for(var n in t){var a=wt(e,n);c1(n,a.get(),t[n],r)}}function aC(e,r,t){var n=e._fullLayout,a=e._fullData,o=e.data,i=n._guiEditing,l=o1(n._preGUI,i),u=dr.extendDeepAll({},r),s,f=al.traceFlags(),h={},p={},b;function y(){return t.map(function(){})}function w(V){var ee=Yn.id2name(V);b.indexOf(ee)===-1&&b.push(ee)}function T(V){return"LAYOUT"+V+".autorange"}function m(V){return"LAYOUT"+V+".range"}function k(V){for(var ee=V;ee<a.length;ee++)if(a[ee]._input===o[V])return a[ee]}function S(V,ee,H){if(Array.isArray(V)){V.forEach(function(Ae){S(Ae,ee,H)});return}if(!(V in r||Wt.hasParent(r,V))){var te;if(V.slice(0,6)==="LAYOUT")te=l(e.layout,V.replace("LAYOUT",""));else{var le=t[H],ve=n._tracePreGUI[k(le)._fullInput.uid];te=o1(ve,i)(o[le],V)}V in p||(p[V]=y()),p[V][H]===void 0&&(p[V][H]=go(te.get())),ee!==void 0&&te.set(ee)}}function x(V){return function(ee){return a[ee][V]}}function M(V){return function(ee,H){return ee===!1?a[t[H]][V]:null}}for(var d in r){if(Wt.hasParent(r,d))throw new Error("cannot set "+d+" and a parent attribute simultaneously");var _=r[d],g,c,A,v,D,E;if((d==="autobinx"||d==="autobiny")&&(d=d.charAt(d.length-1)+"bins",Array.isArray(_)?_=_.map(M(d)):_===!1?_=t.map(x(d)):_=null),h[d]=_,d.slice(0,6)==="LAYOUT"){A=l(e.layout,d.replace("LAYOUT","")),p[d]=[go(A.get())],A.set(Array.isArray(_)?_[0]:_),f.calc=!0;continue}for(p[d]=y(),s=0;s<t.length;s++){g=o[t[s]],c=k(t[s]);var R=n._tracePreGUI[c._fullInput.uid];if(A=o1(R,i)(g,d),v=A.get(),D=Array.isArray(_)?_[s%_.length]:_,D!==void 0){var N=A.parts[A.parts.length-1],F=d.slice(0,d.length-N.length-1),I=F?F+".":"",L=F?wt(c,F).get():c;if(E=d1.getTraceValObject(c,A.parts),E&&E.impliedEdits&&D!==null)for(var P in E.impliedEdits)S(dr.relativeAttr(d,P),E.impliedEdits[P],s);else if((N==="thicknessmode"||N==="lenmode")&&v!==D&&(D==="fraction"||D==="pixels")&&L){var O=n._size,U=L.orient,X=U==="top"||U==="bottom";if(N==="thicknessmode"){var $=X?O.h:O.w;S(I+"thickness",L.thickness*(D==="fraction"?1/$:$),s)}else{var j=X?O.w:O.h;S(I+"len",L.len*(D==="fraction"?1/j:j),s)}}else if(d==="type"&&(D==="pie"!=(v==="pie")||D==="funnelarea"!=(v==="funnelarea"))){var Y="x",q="y";(D==="bar"||v==="bar")&&g.orientation==="h"&&(Y="y",q="x"),dr.swapAttrs(g,["?","?src"],"labels",Y),dr.swapAttrs(g,["d?","?0"],"label",Y),dr.swapAttrs(g,["?","?src"],"values",q),v==="pie"||v==="funnelarea"?(wt(g,"marker.color").set(wt(g,"marker.colors").get()),n._pielayer.selectAll("g.trace").remove()):Ua.traceIs(g,"cartesian")&&wt(g,"marker.colors").set(wt(g,"marker.color").get())}p[d][s]=go(v);var Q=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Q.indexOf(d)!==-1){if(d==="orientation"){A.set(D);var ae=g.x&&!g.y?"h":"v";if((A.get()||ae)===c.orientation)continue}else d==="orientationaxes"&&(g.orientation={v:"h",h:"v"}[c.orientation]);Wt.swapXYData(g),f.calc=f.clearAxisTypes=!0}else Lr.dataArrayContainers.indexOf(A.parts[0])!==-1?(Wt.manageArrayContainers(A,D,p),f.calc=!0):(E?E.arrayOk&&!Ua.traceIs(c,"regl")&&(dr.isArrayOrTypedArray(D)||dr.isArrayOrTypedArray(v))?f.calc=!0:al.update(f,E):f.calc=!0,A.set(D))}}if(["swapxyaxes","orientationaxes"].indexOf(d)!==-1&&Yn.swap(e,t),d==="orientationaxes"){var K=wt(e.layout,"hovermode"),oe=K.get();oe==="x"?K.set("y"):oe==="y"?K.set("x"):oe==="x unified"?K.set("y unified"):oe==="y unified"&&K.set("x unified")}if(["orientation","type"].indexOf(d)!==-1){for(b=[],s=0;s<t.length;s++){var re=o[t[s]];Ua.traceIs(re,"cartesian")&&(w(re.xaxis||"x"),w(re.yaxis||"y"))}S(b.map(T),!0,0),S(b.map(m),[0,1],0)}}return(f.calc||f.plot)&&(f.fullReplot=!0),{flags:f,undoit:p,redoit:h,traces:t,eventData:dr.extendDeepNoArrays([],[u,t])}}function Ac(e,r,t){e=dr.getGraphDiv(e),Wt.clearPromiseQueue(e);var n={};if(typeof r=="string")n[r]=t;else if(dr.isPlainObject(r))n=dr.extendFlat({},r);else return dr.warn("Relayout fail.",r,t),Promise.reject();Object.keys(n).length&&(e.changed=!0);var a=sC(e,n),o=a.flags;o.calc&&(e.calcdata=void 0);var i=[Lr.previousPromises];o.layoutReplot?i.push(ht.layoutReplot):Object.keys(n).length&&(iC(e,o,a)||Lr.supplyDefaults(e),o.legend&&i.push(ht.doLegend),o.layoutstyle&&i.push(ht.layoutStyles),o.axrange&&p1(i,a.rangesAltered),o.ticks&&i.push(ht.doTicksRelayout),o.modebar&&i.push(ht.doModeBar),o.camera&&i.push(ht.doCamera),o.colorbars&&i.push(ht.doColorBars),i.push(kc)),i.push(Lr.rehover,Lr.redrag,Lr.reselect),Jn.add(e,Ac,[e,a.undoit],Ac,[e,a.redoit]);var l=dr.syncOrAsync(i,e);return(!l||!l.then)&&(l=Promise.resolve(e)),l.then(function(){return e.emit("plotly_relayout",a.eventData),e})}function iC(e,r,t){var n=e._fullLayout;if(!r.axrange)return!1;for(var a in r)if(a!=="axrange"&&r[a])return!1;var o,i,l=function(b,y){return dr.coerce(o,i,Q$,b,y)},u={};for(var s in t.rangesAltered){var f=Yn.id2name(s);if(o=e.layout[f],i=n[f],K$(o,i,l,u),i._matchGroup){for(var h in i._matchGroup)if(h!==s){var p=n[Yn.id2name(h)];p.autorange=i.autorange,p.range=i.range.slice(),p._input.range=i.range.slice()}}}return!0}function p1(e,r){var t=r?function(n){var a=[],o=!0;for(var i in r){var l=Yn.getFromId(n,i);if(a.push(i),(l.ticklabelposition||"").indexOf("inside")!==-1&&l._anchorAxis&&a.push(l._anchorAxis._id),l._matchGroup)for(var u in l._matchGroup)r[u]||a.push(u)}return Yn.draw(n,a,{skipTitle:o})}:function(n){return Yn.draw(n,"redraw")};e.push(rj,ht.doAutoRangeAndConstraints,t,ht.drawData,ht.finalDraw)}var oC=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,lC=/^[xyz]axis[0-9]*\.autorange$/,hj=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function sC(e,r){var t=e.layout,n=e._fullLayout,a=n._guiEditing,o=o1(n._preGUI,a),i=Object.keys(r),l=Yn.list(e),u=dr.extendDeepAll({},r),s={},f,h,p;for(i=Object.keys(r),h=0;h<i.length;h++)if(i[h].indexOf("allaxes")===0){for(p=0;p<l.length;p++){var b=l[p]._id.slice(1),y=b.indexOf("scene")!==-1?b+".":"",w=i[h].replace("allaxes",y+l[p]._name);r[w]||(r[w]=r[i[h]])}delete r[i[h]]}var T=al.layoutFlags(),m={},k={};function S(ve,Ae){if(Array.isArray(ve)){ve.forEach(function(ce){S(ce,Ae)});return}if(!(ve in r||Wt.hasParent(r,ve))){var we=o(t,ve);ve in k||(k[ve]=go(we.get())),Ae!==void 0&&we.set(Ae)}}var x={},M;function d(ve){var Ae=Yn.name2id(ve.split(".")[0]);return x[Ae]=1,Ae}for(var _ in r){if(Wt.hasParent(r,_))throw new Error("cannot set "+_+" and a parent attribute simultaneously");for(var g=o(t,_),c=r[_],A=g.parts.length,v=A-1;v>0&&typeof g.parts[v]!="string";)v--;var D=g.parts[v],E=g.parts[v-1]+"."+D,R=g.parts.slice(0,v).join("."),N=wt(e.layout,R).get(),F=wt(n,R).get(),I=g.get();if(c!==void 0){m[_]=c,k[_]=D==="reverse"?c:go(I);var L=d1.getLayoutValObject(n,g.parts);if(L&&L.impliedEdits&&c!==null)for(var P in L.impliedEdits)S(dr.relativeAttr(_,P),L.impliedEdits[P]);if(["width","height"].indexOf(_)!==-1)if(c){S("autosize",null);var O=_==="height"?"width":"height";S(O,n[O])}else n[_]=e._initialAutoSize[_];else if(_==="autosize")S("width",c?null:n.width),S("height",c?null:n.height);else if(E.match(oC))d(E),wt(n,R+"._inputRange").set(null);else if(E.match(lC)){d(E),wt(n,R+"._inputRange").set(null);var U=wt(n,R).get();U._inputDomain&&(U._input.domain=U._inputDomain.slice())}else E.match(hj)&&wt(n,R+"._inputDomain").set(null);if(D==="type"){M=N;var X=F.type==="linear"&&c==="log",$=F.type==="log"&&c==="linear";if(X||$){if(!M||!M.range)S(R+".autorange",!0);else if(F.autorange)X&&(M.range=M.range[1]>M.range[0]?[1,2]:[2,1]);else{var j=M.range[0],Y=M.range[1];X?(j<=0&&Y<=0&&S(R+".autorange",!0),j<=0?j=Y/1e6:Y<=0&&(Y=j/1e6),S(R+".range[0]",Math.log(j)/Math.LN10),S(R+".range[1]",Math.log(Y)/Math.LN10)):(S(R+".range[0]",Math.pow(10,j)),S(R+".range[1]",Math.pow(10,Y)))}Array.isArray(n._subplots.polar)&&n._subplots.polar.length&&n[g.parts[0]]&&g.parts[1]==="radialaxis"&&delete n[g.parts[0]]._subplot.viewInitial["radialaxis.range"],Ua.getComponentMethod("annotations","convertCoords")(e,F,c,S),Ua.getComponentMethod("images","convertCoords")(e,F,c,S)}else S(R+".autorange",!0),S(R+".range",null);wt(n,R+"._inputRange").set(null)}else if(D.match(tj)){var q=wt(n,_).get(),Q=(c||{}).type;(!Q||Q==="-")&&(Q="linear"),Ua.getComponentMethod("annotations","convertCoords")(e,q,Q,S),Ua.getComponentMethod("images","convertCoords")(e,q,Q,S)}var ae=i1.containerArrayMatch(_);if(ae){f=ae.array,h=ae.index;var K=ae.property,oe=L||{editType:"calc"};h!==""&&K===""&&(i1.isAddVal(c)?k[_]=null:i1.isRemoveVal(c)?k[_]=(wt(t,f).get()||[])[h]:dr.warn("unrecognized full object value",r)),al.update(T,oe),s[f]||(s[f]={});var re=s[f][h];re||(re=s[f][h]={}),re[K]=c,delete r[_]}else D==="reverse"?(N.range?N.range.reverse():(S(R+".autorange",!0),N.range=[1,0]),F.autorange?T.calc=!0:T.plot=!0):(_==="dragmode"&&(c===!1&&I!==!1||c!==!1&&I===!1)||n._has("scatter-like")&&n._has("regl")&&_==="dragmode"&&(c==="lasso"||c==="select")&&!(I==="lasso"||I==="select")?T.plot=!0:L?al.update(T,L):T.calc=!0,g.set(c))}}for(f in s){var V=i1.applyContainerArrayChanges(e,o(t,f),s[f],T,o);V||(T.plot=!0)}for(var ee in x){M=Yn.getFromId(e,ee);var H=M&&M._constraintGroup;if(H){T.calc=!0;for(var te in H)x[te]||(Yn.getFromId(e,te)._constraintShrinkable=!0)}}(uC(e)||r.height||r.width)&&(T.plot=!0);var le=n.shapes;for(h=0;h<le.length;h++)if(le[h].showlegend){T.calc=!0;break}return(T.plot||T.calc)&&(T.layoutReplot=!0),{flags:T,rangesAltered:x,undoit:k,redoit:m,eventData:u}}function uC(e){var r=e._fullLayout,t=r.width,n=r.height;return e.layout.autosize&&Lr.plotAutoSize(e,e.layout,r),r.width!==t||r.height!==n}function h1(e,r,t,n){e=dr.getGraphDiv(e),Wt.clearPromiseQueue(e),dr.isPlainObject(r)||(r={}),dr.isPlainObject(t)||(t={}),Object.keys(r).length&&(e.changed=!0),Object.keys(t).length&&(e.changed=!0);var a=Wt.coerceTraceIndices(e,n),o=aC(e,dr.extendFlat({},r),a),i=o.flags,l=sC(e,dr.extendFlat({},t)),u=l.flags;(i.calc||u.calc)&&(e.calcdata=void 0),i.clearAxisTypes&&Wt.clearAxisTypes(e,a,t);var s=[];u.layoutReplot?s.push(ht.layoutReplot):i.fullReplot?s.push(et._doPlot):(s.push(Lr.previousPromises),iC(e,u,l)||Lr.supplyDefaults(e),i.style&&s.push(ht.doTraceStyle),(i.colorbars||u.colorbars)&&s.push(ht.doColorBars),u.legend&&s.push(ht.doLegend),u.layoutstyle&&s.push(ht.layoutStyles),u.axrange&&p1(s,l.rangesAltered),u.ticks&&s.push(ht.doTicksRelayout),u.modebar&&s.push(ht.doModeBar),u.camera&&s.push(ht.doCamera),s.push(kc)),s.push(Lr.rehover,Lr.redrag,Lr.reselect),Jn.add(e,h1,[e,o.undoit,l.undoit,o.traces],h1,[e,o.redoit,l.redoit,o.traces]);var f=dr.syncOrAsync(s,e);return(!f||!f.then)&&(f=Promise.resolve(e)),f.then(function(){return e.emit("plotly_update",{data:o.eventData,layout:l.eventData}),e})}function Qy(e){return function(t){t._fullLayout._guiEditing=!0;var n=e.apply(null,arguments);return t._fullLayout._guiEditing=!1,n}}var vj=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^(map\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],dj=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function YS(e,r){for(var t=0;t<r.length;t++){var n=r[t],a=e.match(n.pattern);if(a){var o=a[1]||"";return{head:o,tail:e.slice(o.length+1),attr:n.attr}}}}function WS(e,r){var t=wt(r,e).get();if(t!==void 0)return t;var n=e.split(".");for(n.pop();n.length>1;)if(n.pop(),t=wt(r,n.join(".")+".uirevision").get(),t!==void 0)return t;return r.uirevision}function pj(e,r){for(var t=0;t<r.length;t++)if(r[t]._fullInput.uid===e)return t;return-1}function gj(e,r,t){for(var n=0;n<r.length;n++)if(r[n].uid===e)return n;return!r[t]||r[t].uid?-1:t}function XS(e,r){var t=dr.isPlainObject(e),n=Array.isArray(e);return t||n?(t&&dr.isPlainObject(r)||n&&Array.isArray(r))&&JSON.stringify(e)===JSON.stringify(r):e===r}function yj(e,r,t,n){var a=n._preGUI,o,i,l,u,s,f,h,p,b,y,w=[],T={},m={};for(o in a){if(s=YS(o,vj),s){if(b=s.head,y=s.tail,i=s.attr||b+".uirevision",l=wt(n,i).get(),u=l&&WS(i,r),u&&u===l){if(f=a[o],f===null&&(f=void 0),h=wt(r,o),p=h.get(),XS(p,f)){p===void 0&&y==="autorange"&&w.push(b),h.set(go(wt(n,o).get()));continue}else if(y==="autorange"||y.slice(0,6)==="range["){var k=a[b+".range[0]"],S=a[b+".range[1]"],x=a[b+".autorange"];if(x||x===null&&k===null&&S===null){if(!(b in T)){var M=wt(r,b).get();T[b]=M&&(M.autorange||M.autorange!==!1&&(!M.range||M.range.length!==2))}if(T[b]){h.set(go(wt(n,o).get()));continue}}}}}else dr.warn("unrecognized GUI edit: "+o);delete a[o],s&&s.tail.slice(0,6)==="range["&&(m[s.head]=1)}for(var d=0;d<w.length;d++){var _=w[d];if(m[_]){var g=wt(r,_).get();g&&delete g.autorange}}var c=n._tracePreGUI;for(var A in c){var v=c[A],D=null,E;for(o in v){if(!D){var R=pj(A,t);if(R<0){delete c[A];break}var N=t[R];E=N._fullInput;var F=gj(A,e,E.index);if(F<0){delete c[A];break}D=e[F]}if(s=YS(o,dj),s){if(s.attr?(l=wt(n,s.attr).get(),u=l&&WS(s.attr,r)):(l=E.uirevision,u=D.uirevision,u===void 0&&(u=r.uirevision)),u&&u===l&&(f=v[o],f===null&&(f=void 0),h=wt(D,o),p=h.get(),XS(p,f))){h.set(go(wt(E,o).get()));continue}}else dr.warn("unrecognized GUI edit: "+o+" in trace uid "+A);delete v[o]}}}function mj(e,r,t,n){var a,o;function i(){return et.addFrames(e,a)}e=dr.getGraphDiv(e),Wt.clearPromiseQueue(e);var l=e._fullData,u=e._fullLayout;if(!dr.isPlotDiv(e)||!l||!u)o=et.newPlot(e,r,t,n);else{if(dr.isPlainObject(r)){var s=r;r=s.data,t=s.layout,n=s.config,a=s.frames}var f=!1;if(n){let E=dr.extendDeepAll({},e._context);e._context=void 0,KS(e,n),f=!Wt.collectionsAreEqual(E,e._context)}if(f){let E=e._ev.eventNames().map(R=>[R,e._ev.listeners(R)]);o=et.newPlot(e,r,t,n).then(()=>{for(let[R,N]of E)N.forEach(F=>e.on(R,F));return et.react(e,r,t,n)})}else{e.data=r||[],Wt.cleanData(e.data),e.layout=t||{},Wt.cleanLayout(e.layout),yj(e.data,e.layout,l,u),Lr.supplyDefaults(e,{skipUpdateCalc:!0});var h=e._fullData,p=e._fullLayout,b=p.datarevision===void 0,y=p.transition,w=bj(e,u,p,b,y),T=w.newDataRevision,m=xj(e,l,h,b,y,T);if(uC(e)&&(w.layoutReplot=!0),m.calc||w.calc){e.calcdata=void 0;for(var k=Object.getOwnPropertyNames(p),S=0;S<k.length;S++){var x=k[S],M=x.substring(0,5);if(M==="xaxis"||M==="yaxis"){var d=p[x]._emptyCategories;d&&d()}}}else Lr.supplyDefaultsUpdateCalc(e.calcdata,h);var _=[];if(a&&(e._transitionData={},Lr.createTransitionData(e),_.push(i)),p.transition&&(m.anim||w.anim))w.ticks&&_.push(ht.doTicksRelayout),Lr.doCalcdata(e),ht.doAutoRangeAndConstraints(e),_.push(function(){return Lr.transitionFromReact(e,m,w,u)});else if(m.fullReplot||w.layoutReplot)e._fullLayout._skipDefaults=!0,_.push(et._doPlot);else{for(var g in w.arrays){var c=w.arrays[g];if(c.length){var A=Ua.getComponentMethod(g,"drawOne");if(A!==dr.noop)for(var v=0;v<c.length;v++)A(e,c[v]);else{var D=Ua.getComponentMethod(g,"draw");if(D===dr.noop)throw new Error("cannot draw components: "+g);D(e)}}}_.push(Lr.previousPromises),m.style&&_.push(ht.doTraceStyle),(m.colorbars||w.colorbars)&&_.push(ht.doColorBars),w.legend&&_.push(ht.doLegend),w.layoutstyle&&_.push(ht.layoutStyles),w.axrange&&p1(_),w.ticks&&_.push(ht.doTicksRelayout),w.modebar&&_.push(ht.doModeBar),w.camera&&_.push(ht.doCamera),_.push(kc)}_.push(Lr.rehover,Lr.redrag,Lr.reselect),o=dr.syncOrAsync(_,e),(!o||!o.then)&&(o=Promise.resolve(e))}}return o.then(()=>(f||e.emit("plotly_react",{config:n,data:r,layout:t}),e))}function xj(e,r,t,n,a,o){var i=r.length===t.length;if(!a&&!i)return{fullReplot:!0,calc:!0};var l=al.traceFlags();l.arrays={},l.nChanges=0,l.nChangesAnim=0;var u,s;function f(b){var y=d1.getTraceValObject(s,b);return!s._module.animatable&&y.anim&&(y.anim=!1),y}var h={getValObject:f,flags:l,immutable:n,transition:a,newDataRevision:o,gd:e},p={};for(u=0;u<r.length;u++)if(t[u]){if(s=t[u]._fullInput,p[s.uid])continue;p[s.uid]=1,v1(r[u]._fullInput,s,[],h)}return(l.calc||l.plot)&&(l.fullReplot=!0),a&&l.nChanges&&l.nChangesAnim&&(l.anim=l.nChanges===l.nChangesAnim&&i?"all":"some"),l}function bj(e,r,t,n,a){var o=al.layoutFlags();o.arrays={},o.rangesAltered={},o.nChanges=0,o.nChangesAnim=0;function i(p){return d1.getLayoutValObject(t,p)}for(var l in t)if(!(!l.startsWith("xaxis")&&!l.startsWith("yaxis"))&&r[l]){var u=t[l].domain,s=r[l].domain,f=r[l]._inputDomain;r[l]._inputDomain&&(u[0]===f[0]&&u[1]===f[1]?t[l].domain=r[l].domain:(u[0]!==s[0]||u[1]!==s[1])&&(t[l]._inputDomain=null))}var h={getValObject:i,flags:o,immutable:n,transition:a,gd:e};return v1(r,t,[],h),(o.plot||o.calc)&&(o.layoutReplot=!0),a&&o.nChanges&&o.nChangesAnim&&(o.anim=o.nChanges===o.nChangesAnim?"all":"some"),o}function v1(e,r,t,n){var a,o,i,l=n.getValObject,u=n.flags,s=n.immutable,f=n.inArray,h=n.arrayIndex;function p(){var R=a.editType;if(f&&R.indexOf("arraydraw")!==-1){dr.pushUnique(u.arrays[f],h);return}al.update(u,a),R!=="none"&&u.nChanges++,n.transition&&a.anim&&u.nChangesAnim++,(oC.test(i)||lC.test(i))&&(u.rangesAltered[t[0]]=1),o==="datarevision"&&(u.newDataRevision=1)}function b(R){return R.valType==="data_array"||R.arrayOk}for(o in e){if(u.calc&&!n.transition)return;var y=e[o],w=r[o],T=t.concat(o);if(i=T.join("."),!(o.charAt(0)==="_"||typeof y=="function"||y===w)){if((o==="tick0"||o==="dtick")&&t[0]!=="geo"){var m=r.tickmode;if(m==="auto"||m==="array"||!m)continue}if(!(o==="range"&&r.autorange)&&!((o==="zmin"||o==="zmax")&&r.type==="contourcarpet")&&(a=l(T),!!a&&!(a._compareAsJSON&&JSON.stringify(y)===JSON.stringify(w)))){var k=a.valType,S,x=b(a),M=Array.isArray(y),d=Array.isArray(w);if(M&&d){var _="_input_"+o,g=e[_],c=r[_];if(Array.isArray(g)&&g===c)continue}if(w===void 0)x&&M?u.calc=!0:p();else if(a._isLinkedToArray){var A=[],v=!1;f||(u.arrays[o]=A);var D=Math.min(y.length,w.length),E=Math.max(y.length,w.length);if(D!==E)if(a.editType==="arraydraw")v=!0;else{p();continue}for(S=0;S<D;S++)v1(y[S],w[S],T.concat(S),dr.extendFlat({inArray:o,arrayIndex:S},n));if(v)for(S=D;S<E;S++)A.push(S)}else!k&&dr.isPlainObject(y)?v1(y,w,T,n):x?M&&d?(s&&(u.calc=!0),(s||n.newDataRevision)&&p()):M!==d?u.calc=!0:p():M&&d?(y.length!==w.length||String(y)!==String(w))&&p():p()}}}for(o in r)if(!(o in e||o.charAt(0)==="_"||typeof r[o]=="function"))if(a=l(t.concat(o)),b(a)&&Array.isArray(r[o])){u.calc=!0;return}else p()}function _j(e,r,t){if(e=dr.getGraphDiv(e),!dr.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var n=e._transitionData;n._frameQueue||(n._frameQueue=[]),t=Lr.supplyAnimationDefaults(t);var a=t.transition,o=t.frame;n._frameWaitingCnt===void 0&&(n._frameWaitingCnt=0);function i(s){return Array.isArray(a)?s>=a.length?a[0]:a[s]:a}function l(s){return Array.isArray(o)?s>=o.length?o[0]:o[s]:o}function u(s,f){var h=0;return function(){if(s&&++h===f)return s()}}return new Promise(function(s,f){function h(){if(n._frameQueue.length!==0){for(;n._frameQueue.length;){var D=n._frameQueue.pop();D.onInterrupt&&D.onInterrupt()}e.emit("plotly_animationinterrupted",[])}}function p(D){if(D.length!==0){for(var E=0;E<D.length;E++){var R;D[E].type==="byname"?R=Lr.computeFrame(e,D[E].name):R=D[E].data;var N=l(E),F=i(E);F.duration=Math.min(F.duration,N.duration);var I={frame:R,name:D[E].name,frameOpts:N,transitionOpts:F};E===D.length-1&&(I.onComplete=u(s,2),I.onInterrupt=f),n._frameQueue.push(I)}t.mode==="immediate"&&(n._lastFrameAt=-1/0),n._animationRaf||w()}}function b(){e.emit("plotly_animated"),window.cancelAnimationFrame(n._animationRaf),n._animationRaf=null}function y(){n._currentFrame&&n._currentFrame.onComplete&&n._currentFrame.onComplete();var D=n._currentFrame=n._frameQueue.shift();if(D){var E=D.name?D.name.toString():null;e._fullLayout._currentFrame=E,n._lastFrameAt=Date.now(),n._timeToNext=D.frameOpts.duration,Lr.transition(e,D.frame.data,D.frame.layout,Wt.coerceTraceIndices(e,D.frame.traces),D.frameOpts,D.transitionOpts).then(function(){D.onComplete&&D.onComplete()}),e.emit("plotly_animatingframe",{name:E,frame:D.frame,animation:{frame:D.frameOpts,transition:D.transitionOpts}})}else b()}function w(){e.emit("plotly_animating"),n._lastFrameAt=-1/0,n._timeToNext=0,n._runningTransitions=0,n._currentFrame=null;var D=function(){n._animationRaf=window.requestAnimationFrame(D),Date.now()-n._lastFrameAt>n._timeToNext&&y()};D()}var T=0;function m(D){return Array.isArray(a)?T>=a.length?D.transitionOpts=a[T]:D.transitionOpts=a[0]:D.transitionOpts=a,T++,D}var k,S,x=[],M=r==null,d=Array.isArray(r),_=!M&&!d&&dr.isPlainObject(r);if(_)x.push({type:"object",data:m(dr.extendFlat({},r))});else if(M||["string","number"].indexOf(typeof r)!==-1)for(k=0;k<n._frames.length;k++)S=n._frames[k],S&&(M||String(S.group)===String(r))&&x.push({type:"byname",name:String(S.name),data:m({name:S.name})});else if(d)for(k=0;k<r.length;k++){var g=r[k];["number","string"].indexOf(typeof g)!==-1?(g=String(g),x.push({type:"byname",name:g,data:m({name:g})})):dr.isPlainObject(g)&&x.push({type:"object",data:m(dr.extendFlat({},g))})}for(k=0;k<x.length;k++)if(S=x[k],S.type==="byname"&&!n._frameHash[S.data.name]){dr.warn('animate failure: frame not found: "'+S.data.name+'"'),f();return}["next","immediate"].indexOf(t.mode)!==-1&&h(),t.direction==="reverse"&&x.reverse();var c=e._fullLayout._currentFrame;if(c&&t.fromcurrent){var A=-1;for(k=0;k<x.length;k++)if(S=x[k],S.type==="byname"&&S.name===c){A=k;break}if(A>0&&A<x.length-1){var v=[];for(k=0;k<x.length;k++)S=x[k],(x[k].type!=="byname"||k>A)&&v.push(S);x=v}}x.length>0?p(x):(e.emit("plotly_animated"),s())})}function wj(e,r,t){if(e=dr.getGraphDiv(e),r==null)return Promise.resolve();if(!dr.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var n,a,o,i,l=e._transitionData._frames,u=e._transitionData._frameHash;if(!Array.isArray(r))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+r);var s=l.length+r.length*2,f=[],h={};for(n=r.length-1;n>=0;n--)if(dr.isPlainObject(r[n])){var p=r[n].name,b=(u[p]||h[p]||{}).name,y=r[n].name,w=u[b]||h[b];b&&y&&typeof y=="number"&&w&&Zy<GS&&(Zy++,dr.warn('addFrames: overwriting frame "'+(u[b]||h[b]).name+'" with a frame whose name of type "number" also equates to "'+b+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),Zy===GS&&dr.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),h[p]={name:p},f.push({frame:Lr.supplyFrameDefaults(r[n]),index:t&&t[n]!==void 0&&t[n]!==null?t[n]:s+n})}f.sort(function(_,g){return _.index>g.index?-1:_.index<g.index?1:0});var T=[],m=[],k=l.length;for(n=f.length-1;n>=0;n--){if(a=f[n].frame,typeof a.name=="number"&&dr.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!a.name)for(;u[a.name="frame "+e._transitionData._counter++];);if(u[a.name]){for(o=0;o<l.length&&(l[o]||{}).name!==a.name;o++);T.push({type:"replace",index:o,value:a}),m.unshift({type:"replace",index:o,value:l[o]})}else i=Math.max(0,Math.min(f[n].index,k)),T.push({type:"insert",index:i,value:a}),m.unshift({type:"delete",index:i}),k++}var S=Lr.modifyFrames,x=Lr.modifyFrames,M=[e,m],d=[e,T];return Jn&&Jn.add(e,S,M,x,d),Lr.modifyFrames(e,T)}function Mj(e,r){if(e=dr.getGraphDiv(e),!dr.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);var t,n,a=e._transitionData._frames,o=[],i=[];if(!r)for(r=[],t=0;t<a.length;t++)r.push(t);for(r=r.slice(),r.sort(),t=r.length-1;t>=0;t--)n=r[t],o.push({type:"delete",index:n}),i.unshift({type:"insert",index:n,value:a[n]});var l=Lr.modifyFrames,u=Lr.modifyFrames,s=[e,i],f=[e,o];return Jn&&Jn.add(e,l,s,u,f),Lr.modifyFrames(e,o)}function Tj(e){e=dr.getGraphDiv(e);var r=e._fullLayout||{},t=e._fullData||[];return Lr.cleanPlot([],{},t,r),Lr.purge(e),Jy.purge(e),r._container&&r._container.remove(),delete e._context,e}function Aj(e){var r=e._fullLayout,t=e.getBoundingClientRect();if(!dr.equalDomRects(t,r._lastBBox)){var n=r._invTransform=dr.inverseTransformMatrix(dr.getFullTransformMatrix(e));r._invScaleX=Math.sqrt(n[0][0]*n[0][0]+n[0][1]*n[0][1]+n[0][2]*n[0][2]),r._invScaleY=Math.sqrt(n[1][0]*n[1][0]+n[1][1]*n[1][1]+n[1][2]*n[1][2]),r._lastBBox=t}}function kj(e){var r=l1.select(e),t=e._fullLayout;if(t._calcInverseTransform=Aj,t._calcInverseTransform(e),t._container=r.selectAll(".plot-container").data([0]),t._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0).style({width:"100%",height:"100%"}),t._paperdiv=t._container.selectAll(".svg-container").data([0]),t._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),t._glcontainer=t._paperdiv.selectAll(".gl-container").data([{}]),t._glcontainer.enter().append("div").classed("gl-container",!0),t._paperdiv.selectAll(".main-svg").remove(),t._paperdiv.select(".modebar-container").remove(),t._paper=t._paperdiv.insert("svg",":first-child").classed("main-svg",!0),t._toppaper=t._paperdiv.append("svg").classed("main-svg",!0),t._modebardiv=t._paperdiv.append("div"),delete t._modeBar,t._hoverpaper=t._paperdiv.append("svg").classed("main-svg",!0),!t._uid){var n={};l1.selectAll("defs").each(function(){this.id&&(n[this.id.split("-")[1]]=1)}),t._uid=dr.randstr(n)}t._paperdiv.selectAll(".main-svg").attr(ej.svgAttrs),t._defs=t._paper.append("defs").attr("id","defs-"+t._uid),t._clips=t._defs.append("g").classed("clips",!0),t._topdefs=t._toppaper.append("defs").attr("id","topdefs-"+t._uid),t._topclips=t._topdefs.append("g").classed("clips",!0),t._bgLayer=t._paper.append("g").classed("bglayer",!0),t._draggers=t._paper.append("g").classed("draglayer",!0);var a=t._paper.append("g").classed("layer-below",!0);t._imageLowerLayer=a.append("g").classed("imagelayer",!0),t._shapeLowerLayer=a.append("g").classed("shapelayer",!0),t._cartesianlayer=t._paper.append("g").classed("cartesianlayer",!0),t._polarlayer=t._paper.append("g").classed("polarlayer",!0),t._smithlayer=t._paper.append("g").classed("smithlayer",!0),t._ternarylayer=t._paper.append("g").classed("ternarylayer",!0),t._geolayer=t._paper.append("g").classed("geolayer",!0),t._funnelarealayer=t._paper.append("g").classed("funnelarealayer",!0),t._pielayer=t._paper.append("g").classed("pielayer",!0),t._iciclelayer=t._paper.append("g").classed("iciclelayer",!0),t._treemaplayer=t._paper.append("g").classed("treemaplayer",!0),t._sunburstlayer=t._paper.append("g").classed("sunburstlayer",!0),t._indicatorlayer=t._toppaper.append("g").classed("indicatorlayer",!0),t._glimages=t._paper.append("g").classed("glimages",!0);var o=t._toppaper.append("g").classed("layer-above",!0);t._imageUpperLayer=o.append("g").classed("imagelayer",!0),t._shapeUpperLayer=o.append("g").classed("shapelayer",!0),t._selectionLayer=t._toppaper.append("g").classed("selectionlayer",!0),t._infolayer=t._toppaper.append("g").classed("infolayer",!0),t._menulayer=t._toppaper.append("g").classed("menulayer",!0),t._zoomlayer=t._toppaper.append("g").classed("zoomlayer",!0),t._hoverlayer=t._hoverpaper.append("g").classed("hoverlayer",!0),t._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),e.emit("plotly_framework")}et.animate=_j;et.addFrames=wj;et.deleteFrames=Mj;et.addTraces=tC;et.deleteTraces=nC;et.extendTraces=eC;et.moveTraces=Ky;et.prependTraces=rC;et.newPlot=lj;et._doPlot=nj;et.purge=Tj;et.react=mj;et.redraw=oj;et.relayout=Ac;et.restyle=f1;et.setPlotConfig=aj;et.update=h1;et._guiRelayout=Qy(Ac);et._guiRestyle=Qy(f1);et._guiUpdate=Qy(h1);et._storeDirectGUIEdit=cj});var us=de(Gi=>{"use strict";var Sj=Er();Gi.getDelay=function(e){return e._has&&(e._has("gl3d")||e._has("mapbox")||e._has("map"))?500:0};Gi.getRedrawFunc=function(e){return function(){Sj.getComponentMethod("colorbar","draw")(e)}};Gi.encodeSVG=function(e){return"data:image/svg+xml,"+encodeURIComponent(e)};Gi.encodeJSON=function(e){return"data:application/json,"+encodeURIComponent(e)};var fC=window.URL||window.webkitURL;Gi.createObjectURL=function(e){return fC.createObjectURL(e)};Gi.revokeObjectURL=function(e){return fC.revokeObjectURL(e)};Gi.createBlob=function(e,r){if(r==="svg")return new window.Blob([e],{type:"image/svg+xml;charset=utf-8"});if(r==="full-json")return new window.Blob([e],{type:"application/json;charset=utf-8"});var t=Cj(window.atob(e));return new window.Blob([t],{type:"image/"+r})};Gi.octetStream=function(e){document.location.href="data:application/octet-stream"+e};function Cj(e){for(var r=e.length,t=new ArrayBuffer(r),n=new Uint8Array(t),a=0;a<r;a++)n[a]=e.charCodeAt(a);return t}Gi.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/});var g1=de((Ive,cC)=>{"use strict";var em=it(),Rve=ir(),Ej=mt(),Lj=Xr(),Pve=Ho(),jy=/"/g,Sc="TOBESTRIPPED",Dj=new RegExp('("'+Sc+")|("+Sc+'")',"g");function Rj(e){var r=em.select("body").append("div").style({display:"none"}).html(""),t=e.replace(/(&[^;]*;)/gi,function(n){return n==="&lt;"?"&#60;":n==="&rt;"?"&#62;":n.indexOf("<")!==-1||n.indexOf(">")!==-1?"":r.html(n).text()});return r.remove(),t}function Pj(e){return e.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}cC.exports=function(r,t,n){var a=r._fullLayout,o=a._paper,i=a._toppaper,l=a.width,u=a.height,s;o.insert("rect",":first-child").call(Ej.setRect,0,0,l,u).call(Lj.fill,a.paper_bgcolor);var f=a._basePlotModules||[];for(s=0;s<f.length;s++){var h=f[s];h.toSVG&&h.toSVG(r)}if(i){var p=i.node().childNodes,b=Array.prototype.slice.call(p);for(s=0;s<b.length;s++){var y=b[s];y.childNodes.length&&o.node().appendChild(y)}}a._draggers&&a._draggers.remove(),o.node().style.background="",o.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var T=em.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){T.remove();return}else T.style({visibility:null,display:null});var m=this.style.fontFamily;m&&m.indexOf('"')!==-1&&T.style("font-family",m.replace(jy,Sc));var k=this.style.fontWeight;k&&(k==="normal"||k==="400")&&T.style("font-weight",void 0);var S=this.style.fontStyle;S&&S==="normal"&&T.style("font-style",void 0);var x=this.style.fontVariant;x&&x==="normal"&&T.style("font-variant",void 0)}),o.selectAll(".gradient_filled,.pattern_filled").each(function(){var T=em.select(this),m=this.style.fill;m&&m.indexOf("url(")!==-1&&T.style("fill",m.replace(jy,Sc));var k=this.style.stroke;k&&k.indexOf("url(")!==-1&&T.style("stroke",k.replace(jy,Sc))}),(t==="pdf"||t==="eps")&&o.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),t==="svg"&&n&&(o.attr("width",n*l),o.attr("height",n*u),o.attr("viewBox","0 0 "+l+" "+u));var w=new window.XMLSerializer().serializeToString(o.node());return w=Rj(w),w=Pj(w),w=w.replace(Dj,"'"),w}});var y1=de((Fve,hC)=>{"use strict";var Ij=ir(),Fj=vh().EventEmitter,Cc=us();function Nj(e){var r=e.emitter||new Fj,t=new Promise(function(n,a){var o=window.Image,i=e.svg,l=e.format||"png",u=e.canvas,s=e.scale||1,f=e.width||300,h=e.height||150,p=s*f,b=s*h,y=u.getContext("2d",{willReadFrequently:!0}),w=new o,T,m;l==="svg"||Ij.isSafari()?m=Cc.encodeSVG(i):(T=Cc.createBlob(i,"svg"),m=Cc.createObjectURL(T)),u.width=p,u.height=b,w.onload=function(){var k;switch(T=null,Cc.revokeObjectURL(m),l!=="svg"&&y.drawImage(w,0,0,p,b),l){case"jpeg":k=u.toDataURL("image/jpeg");break;case"png":k=u.toDataURL("image/png");break;case"webp":k=u.toDataURL("image/webp");break;case"svg":k=m;break;default:var S="Image format is not jpeg, png, svg or webp.";if(a(new Error(S)),!e.promise)return r.emit("error",S)}n(k),e.promise||r.emit("success",k)},w.onerror=function(k){if(T=null,Cc.revokeObjectURL(m),a(k),!e.promise)return r.emit("error",k)},w.src=m});return e.promise?t:r}hC.exports=Nj});var tm=de((Nve,pC)=>{"use strict";var vC=nt(),dC=$y(),zj=ln(),Yi=ir(),Ec=us(),qj=g1(),Oj=y1(),Bj=E0().version,rm={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function Uj(e,r){r=r||{};var t,n,a,o;Yi.isPlainObject(e)?(t=e.data||[],n=e.layout||{},a=e.config||{},o={}):(e=Yi.getGraphDiv(e),t=Yi.extendDeep([],e.data),n=Yi.extendDeep({},e.layout),a=e._context,o=e._fullLayout||{});function i(d){return!(d in r)||Yi.validate(r[d],rm[d])}if(!i("width")&&r.width!==null||!i("height")&&r.height!==null)throw new Error("Height and width should be pixel values.");if(!i("format"))throw new Error("Export format is not "+Yi.join2(rm.format.values,", "," or ")+".");var l={};function u(d,_){return Yi.coerce(r,l,rm,d,_)}var s=u("format"),f=u("width"),h=u("height"),p=u("scale"),b=u("setBackground"),y=u("imageDataOnly"),w=document.createElement("div");w.style.position="absolute",w.style.left="-5000px",document.body.appendChild(w);var T=Yi.extendFlat({},n);f?T.width=f:r.width===null&&vC(o.width)&&(T.width=o.width),h?T.height=h:r.height===null&&vC(o.height)&&(T.height=o.height);var m=Yi.extendFlat({},a,{_exportedPlot:!0,staticPlot:!0,setBackground:b}),k=Ec.getRedrawFunc(w);function S(){return new Promise(function(d){setTimeout(d,Ec.getDelay(w._fullLayout))})}function x(){return new Promise(function(d,_){var g=qj(w,s,p),c=w._fullLayout.width,A=w._fullLayout.height;function v(){dC.purge(w),document.body.removeChild(w)}if(s==="full-json"){var D=zj.graphJson(w,!1,"keepdata","object",!0,!0);return D.version=Bj,D=JSON.stringify(D),v(),d(y?D:Ec.encodeJSON(D))}if(v(),s==="svg")return d(y?g:Ec.encodeSVG(g));var E=document.createElement("canvas");E.id=Yi.randstr(),Oj({format:s,width:c,height:A,scale:p,canvas:E,svg:g,promise:!0}).then(d).catch(_)})}function M(d){return y?d.replace(Ec.IMAGE_URL_PREFIX,""):d}return new Promise(function(d,_){dC.newPlot(w,t,T,m).then(k).then(S).then(x).then(function(g){d(M(g))}).catch(function(g){_(g)})})}pC.exports=Uj});var mC=de((zve,yC)=>{"use strict";var Ha=ir(),Hj=ln(),Vj=eu(),Gj=Pl().dfltConfig,fi=Ha.isPlainObject,cs=Array.isArray,nm=Ha.isArrayOrTypedArray;yC.exports=function(r,t){r===void 0&&(r=[]),t===void 0&&(t={});var n=Vj.get(),a=[],o={_context:Ha.extendFlat({},Gj)},i,l;cs(r)?(o.data=Ha.extendDeep([],r),i=r):(o.data=[],i=[],a.push(hn("array","data"))),fi(t)?(o.layout=Ha.extendDeep({},t),l=t):(o.layout={},l={},arguments.length>1&&a.push(hn("object","layout"))),Hj.supplyDefaults(o);for(var u=o._fullData,s=i.length,f=0;f<s;f++){var h=i[f],p=["data",f];if(!fi(h)){a.push(hn("object",p));continue}var b=u[f],y=b.type,w=n.traces[y].attributes;w.type={valType:"enumerated",values:[y]},b.visible===!1&&h.visible!==!1&&a.push(hn("invisible",p)),m1(h,b,w,a,p)}var T=o._fullLayout,m=Yj(n,u);return m1(l,T,m,a,"layout"),a.length===0?void 0:a};function m1(e,r,t,n,a,o){o=o||[];for(var i=Object.keys(e),l=0;l<i.length;l++){var u=i[l],s=o.slice();s.push(u);var f=e[u],h=r[u],p=Zj(t,u),b=(p||{}).valType,y=b==="info_array",w=b==="colorscale",T=(p||{}).items;if(!Xj(t,u))n.push(hn("schema",a,s));else if(fi(f)&&fi(h)&&b!=="any")m1(f,h,p,n,a,s);else if(y&&cs(f)){f.length>h.length&&n.push(hn("unused",a,s.concat(h.length)));var m=h.length,k=Array.isArray(T);k&&(m=Math.min(m,T.length));var S,x,M,d,_;if(p.dimensions===2)for(x=0;x<m;x++)if(cs(f[x])){f[x].length>h[x].length&&n.push(hn("unused",a,s.concat(x,h[x].length)));var g=h[x].length;for(S=0;S<(k?Math.min(g,T[x].length):g);S++)M=k?T[x][S]:T,d=f[x][S],_=h[x][S],Ha.validate(d,M)?_!==d&&_!==+d&&n.push(hn("dynamic",a,s.concat(x,S),d,_)):n.push(hn("value",a,s.concat(x,S),d))}else n.push(hn("array",a,s.concat(x),f[x]));else for(x=0;x<m;x++)M=k?T[x]:T,d=f[x],_=h[x],Ha.validate(d,M)?_!==d&&_!==+d&&n.push(hn("dynamic",a,s.concat(x),d,_)):n.push(hn("value",a,s.concat(x),d))}else if(p.items&&!y&&cs(f)){var c=T[Object.keys(T)[0]],A=[],v,D;for(v=0;v<h.length;v++){var E=h[v]._index||v;if(D=s.slice(),D.push(E),fi(f[E])&&fi(h[v])){A.push(E);var R=f[E],N=h[v];fi(R)&&R.visible!==!1&&N.visible===!1?n.push(hn("invisible",a,D)):m1(R,N,c,n,a,D)}}for(v=0;v<f.length;v++)D=s.slice(),D.push(v),fi(f[v])?A.indexOf(v)===-1&&n.push(hn("unused",a,D)):n.push(hn("object",a,D,f[v]))}else!fi(f)&&fi(h)?n.push(hn("object",a,s,f)):!nm(f)&&nm(h)&&!y&&!w?n.push(hn("array",a,s,f)):u in r?Ha.validate(f,p)?p.valType==="enumerated"&&(p.coerceNumber&&f!==+h||!nm(f)&&f!==h||String(f)!==String(h))&&n.push(hn("dynamic",a,s,f,h)):n.push(hn("value",a,s,f)):n.push(hn("unused",a,s,f))}return n}function Yj(e,r){for(var t=e.layout.layoutAttributes,n=0;n<r.length;n++){var a=r[n],o=e.traces[a.type],i=o.layoutAttributes;i&&(a.subplot?Ha.extendFlat(t[o.attributes.subplot.dflt],i):Ha.extendFlat(t,i))}return t}var Wj={object:function(e,r){var t;return e==="layout"&&r===""?t="The layout argument":e[0]==="data"&&r===""?t="Trace "+e[1]+" in the data argument":t=fs(e)+"key "+r,t+" must be linked to an object container"},array:function(e,r){var t;return e==="data"?t="The data argument":t=fs(e)+"key "+r,t+" must be linked to an array container"},schema:function(e,r){return fs(e)+"key "+r+" is not part of the schema"},unused:function(e,r,t){var n=fi(t)?"container":"key";return fs(e)+n+" "+r+" did not get coerced"},dynamic:function(e,r,t,n){return[fs(e)+"key",r,"(set to '"+t+"')","got reset to","'"+n+"'","during defaults."].join(" ")},invisible:function(e,r){return(r?fs(e)+"item "+r:"Trace "+e[1])+" got defaulted to be not visible"},value:function(e,r,t){return[fs(e)+"key "+r,"is set to an invalid value ("+t+")"].join(" ")}};function fs(e){return cs(e)?"In data trace "+e[1]+", ":"In "+e+", "}function hn(e,r,t,n,a){t=t||"";var o,i;cs(r)?(o=r[0],i=r[1]):(o=r,i=null);var l=Kj(t),u=Wj[e](r,l,n,a);return Ha.log(u),{code:e,container:o,trace:i,path:t,astr:l,msg:u}}function Xj(e,r){var t=gC(r),n=t.keyMinusId,a=t.id;return n in e&&e[n]._isSubplotObj&&a?!0:r in e}function Zj(e,r){if(r in e)return e[r];var t=gC(r);return e[t.keyMinusId]}var Jj=Ha.counterRegex("([a-z]+)");function gC(e){var r=e.match(Jj);return{keyMinusId:r&&r[1],id:r&&r[2]}}function Kj(e){if(!cs(e))return String(e);for(var r="",t=0;t<e.length;t++){var n=e[t];typeof n=="number"?r=r.slice(0,-1)+"["+n+"]":r+=n,t<e.length-1&&(r+=".")}return r}});var bC=de((qve,xC)=>{"use strict";var Qj=ir(),x1=us();function $j(e,r,t){var n=document.createElement("a"),a="download"in n,o=new Promise(function(i,l){var u,s;if(a)return u=x1.createBlob(e,t),s=x1.createObjectURL(u),n.href=s,n.download=r,document.body.appendChild(n),n.click(),document.body.removeChild(n),x1.revokeObjectURL(s),u=null,i(r);if(Qj.isSafari()){var f=t==="svg"?",":";base64,";return x1.octetStream(f+encodeURIComponent(e)),i(r)}l(new Error("download error"))});return o}xC.exports=$j});var am=de((Bve,wC)=>{"use strict";var _C=ir(),jj=tm(),eee=bC(),Ove=us();function ree(e,r){var t;return _C.isPlainObject(e)||(t=_C.getGraphDiv(e)),r=r||{},r.format=r.format||"png",r.width=r.width||null,r.height=r.height||null,r.imageDataOnly=!0,new Promise(function(n,a){t&&t._snapshotInProgress&&a(new Error("Snapshotting already in progress.")),t&&(t._snapshotInProgress=!0);var o=jj(e,r),i=r.filename||e.fn||"newplot";i+="."+r.format.replace("-","."),o.then(function(l){return t&&(t._snapshotInProgress=!1),eee(l,i,r.format)}).then(function(l){n(l)}).catch(function(l){t&&(t._snapshotInProgress=!1),a(l)})})}wC.exports=ree});var SC=de(im=>{"use strict";var fa=ir(),ca=fa.isPlainObject,MC=eu(),TC=ln(),tee=Sn(),AC=yt(),kC=Pl().dfltConfig;im.makeTemplate=function(e){e=fa.isPlainObject(e)?e:fa.getGraphDiv(e),e=fa.extendDeep({_context:kC},{data:e.data,layout:e.layout}),TC.supplyDefaults(e);var r=e.data||[],t=e.layout||{};t._basePlotModules=e._fullLayout._basePlotModules,t._modules=e._fullLayout._modules;var n={data:{},layout:{}};r.forEach(function(b){var y={};Lc(b,y,aee.bind(null,b));var w=fa.coerce(b,{},tee,"type"),T=n.data[w];T||(T=n.data[w]=[]),T.push(y)}),Lc(t,n.layout,nee.bind(null,t)),delete n.layout.template;var a=t.template;if(ca(a)){var o=a.layout,i,l,u,s,f,h;ca(o)&&b1(o,n.layout);var p=a.data;if(ca(p)){for(l in n.data)if(u=p[l],Array.isArray(u)){for(f=n.data[l],h=f.length,s=u.length,i=0;i<h;i++)b1(u[i%s],f[i]);for(i=h;i<s;i++)f.push(fa.extendDeep({},u[i]))}for(l in p)l in n.data||(n.data[l]=fa.extendDeep([],p[l]))}}return n};function b1(e,r){e=fa.extendDeep({},e);var t=Object.keys(e).sort(),n,a;function o(f,h,p){if(ca(h)&&ca(f))b1(f,h);else if(Array.isArray(h)&&Array.isArray(f)){var b=AC.arrayTemplater({_template:e},p);for(a=0;a<h.length;a++){var y=h[a],w=b.newItem(y)._template;w&&b1(w,y)}var T=b.defaultItems();for(a=0;a<T.length;a++)h.push(T[a]._template);for(a=0;a<h.length;a++)delete h[a].templateitemname}}for(n=0;n<t.length;n++){var i=t[n],l=e[i];if(i in r?o(l,r[i],i):r[i]=l,_1(i)===i)for(var u in r){var s=_1(u);u!==s&&s===i&&!(u in e)&&o(l,r[u],i)}}}function _1(e){return e.replace(/[0-9]+$/,"")}function Lc(e,r,t,n,a){var o=a&&t(a);for(var i in e){var l=e[i],u=Va(e,i,n),s=Va(e,i,a),f=t(s);if(!f){var h=_1(i);h!==i&&(s=Va(e,h,a),f=t(s))}if(!(o&&o===f)&&!(!f||f._noTemplating||f.valType==="data_array"||f.arrayOk&&Array.isArray(l)))if(!f.valType&&ca(l))Lc(l,r,t,u,s);else if(f._isLinkedToArray&&Array.isArray(l))for(var p=!1,b=0,y={},w=0;w<l.length;w++){var T=l[w];if(ca(T)){var m=T.name;if(m)y[m]||(Lc(T,r,t,Va(l,b,u),Va(l,b,s)),b++,y[m]=1);else if(!p){var k=AC.arrayDefaultKey(i),S=Va(e,k,n),x=Va(l,b,u);Lc(T,r,t,x,Va(l,b,s));var M=fa.nestedProperty(r,x),d=fa.nestedProperty(r,S);d.set(M.get()),M.set(null),p=!0}}}else{var _=fa.nestedProperty(r,u);_.set(l)}}}function nee(e,r){return MC.getLayoutValObject(e,fa.nestedProperty({},r).parts)}function aee(e,r){return MC.getTraceValObject(e,fa.nestedProperty({},r).parts)}function Va(e,r,t){var n;return t?Array.isArray(e)?n=t+"["+r+"]":n=t+"."+r:n=r,n}im.validateTemplate=function(e,r){var t=fa.extendDeep({},{_context:kC,data:e.data,layout:e.layout}),n=t.layout||{};ca(r)||(r=n.template||{});var a=r.layout,o=r.data,i=[];t.layout=n,t.layout.template=r,TC.supplyDefaults(t);var l=t._fullLayout,u=t._fullData,s={};function f(S,x){for(var M in S)if(M.charAt(0)!=="_"&&ca(S[M])){var d=_1(M),_=[],g;for(g=0;g<x.length;g++)_.push(Va(S,M,x[g])),d!==M&&_.push(Va(S,d,x[g]));for(g=0;g<_.length;g++)s[_[g]]=1;f(S[M],_)}}function h(S,x){for(var M in S)if(M.indexOf("defaults")===-1&&ca(S[M])){var d=Va(S,M,x);s[d]?h(S[M],d):i.push({code:"unused",path:d})}}if(ca(a)?(f(l,["layout"]),h(a,"layout")):i.push({code:"layout"}),!ca(o))i.push({code:"data"});else{for(var p={},b,y=0;y<u.length;y++){var w=u[y];b=w.type,p[b]=(p[b]||0)+1,w._fullInput._template||i.push({code:"missing",index:w.index,traceType:b})}for(b in o){var T=o[b].length,m=p[b]||0;T>m?i.push({code:"unused",traceType:b,templateCount:T,dataCount:m}):m>T&&i.push({code:"reused",traceType:b,templateCount:T,dataCount:m})}}function k(S,x){for(var M in S)if(M.charAt(0)!=="_"){var d=S[M],_=Va(S,M,x);ca(d)?(Array.isArray(S)&&d._template===!1&&d.templateitemname&&i.push({code:"missing",path:_,templateitemname:d.templateitemname}),k(d,_)):Array.isArray(d)&&iee(d)&&k(d,_)}}if(k({data:u,layout:l},""),i.length)return i.map(oee)};function iee(e){for(var r=0;r<e.length;r++)if(ca(e[r]))return!0}function oee(e){var r;switch(e.code){case"data":r="The template has no key data.";break;case"layout":r="The template has no key layout.";break;case"missing":e.path?r="There are no templates for item "+e.path+" with name "+e.templateitemname:r="There are no templates for trace "+e.index+", of type "+e.traceType+".";break;case"unused":e.path?r="The template item at "+e.path+" was not used in constructing the plot.":e.dataCount?r="Some of the templates of type "+e.traceType+" were not used. The template has "+e.templateCount+" traces, the data only has "+e.dataCount+" of this type.":r="The template has "+e.templateCount+" traces of type "+e.traceType+" but there are none in the data.";break;case"reused":r="Some of the templates of type "+e.traceType+" were used more than once. The template has "+e.templateCount+" traces, the data has "+e.dataCount+" of this type.";break}return e.msg=r,e}});var EC=de(Ct=>{"use strict";var rn=$y();Ct._doPlot=rn._doPlot;Ct.newPlot=rn.newPlot;Ct.restyle=rn.restyle;Ct.relayout=rn.relayout;Ct.redraw=rn.redraw;Ct.update=rn.update;Ct._guiRestyle=rn._guiRestyle;Ct._guiRelayout=rn._guiRelayout;Ct._guiUpdate=rn._guiUpdate;Ct._storeDirectGUIEdit=rn._storeDirectGUIEdit;Ct.react=rn.react;Ct.extendTraces=rn.extendTraces;Ct.prependTraces=rn.prependTraces;Ct.addTraces=rn.addTraces;Ct.deleteTraces=rn.deleteTraces;Ct.moveTraces=rn.moveTraces;Ct.purge=rn.purge;Ct.addFrames=rn.addFrames;Ct.deleteFrames=rn.deleteFrames;Ct.animate=rn.animate;Ct.setPlotConfig=rn.setPlotConfig;var lee=xf().getGraphDiv,see=Pv().eraseActiveShape;Ct.deleteActiveShape=function(e){return see(lee(e))};Ct.toImage=tm();Ct.validate=mC();Ct.downloadImage=am();var CC=SC();Ct.makeTemplate=CC.makeTemplate;Ct.validateTemplate=CC.validateTemplate});var DC=de((Vve,LC)=>{"use strict";var om=ir(),uee=Er();LC.exports=function(r,t,n,a){var o=a("x"),i=a("y"),l,u=uee.getComponentMethod("calendars","handleTraceDefaults");if(u(r,t,["x","y"],n),o){var s=om.minRowLength(o);i?l=Math.min(s,om.minRowLength(i)):(l=s,a("y0"),a("dy"))}else{if(!i)return 0;l=om.minRowLength(i),a("x0"),a("dx")}return t._length=l,l}});var FC=de((Gve,IC)=>{"use strict";var RC=ir().dateTick0,fee=nn(),cee=fee.ONEWEEK;function PC(e,r){return e%cee===0?RC(r,1):RC(r,0)}IC.exports=function(r,t,n,a,o){if(o||(o={x:!0,y:!0}),o.x){var i=a("xperiod");i&&(a("xperiod0",PC(i,t.xcalendar)),a("xperiodalignment"))}if(o.y){var l=a("yperiod");l&&(a("yperiod0",PC(l,t.ycalendar)),a("yperiodalignment"))}}});var qC=de((Yve,zC)=>{"use strict";var NC=["orientation","groupnorm","stackgaps"];zC.exports=function(r,t,n,a){var o=n._scatterStackOpts,i=a("stackgroup");if(i){var l=t.xaxis+t.yaxis,u=o[l];u||(u=o[l]={});var s=u[i],f=!1;s?s.traces.push(t):(s=u[i]={traceIndices:[],traces:[t]},f=!0);for(var h={orientation:t.x&&!t.y?"h":"v"},p=0;p<NC.length;p++){var b=NC[p],y=b+"Found";if(!s[y]){var w=r[b]!==void 0,T=b==="orientation";if((w||f)&&(s[b]=a(b,h[b]),T&&(s.fillDflt=s[b]==="h"?"tonextx":"tonexty"),w&&(s[y]=!0,!f&&(delete s.traces[0][b],T))))for(var m=0;m<s.traces.length-1;m++){var k=s.traces[m];k._input.fill!==k.fill&&(k.fill=s.fillDflt)}}}return s}}});var lm=de((Wve,HC)=>{"use strict";var OC=Xr(),BC=Ei().hasColorscale,UC=Di(),hee=la();HC.exports=function(r,t,n,a,o,i={}){var l=hee.isBubble(r),u=(r.line||{}).color,s;if(u&&(n=u),o("marker.symbol"),o("marker.opacity",l?.7:1),o("marker.size"),i.noAngle||(o("marker.angle"),i.noAngleRef||o("marker.angleref"),i.noStandOff||o("marker.standoff")),o("marker.color",n),BC(r,"marker")&&UC(r,t,a,o,{prefix:"marker.",cLetter:"c"}),i.noSelect||(o("selected.marker.color"),o("unselected.marker.color"),o("selected.marker.size"),o("unselected.marker.size")),i.noLine||(u&&!Array.isArray(u)&&t.marker.color!==u?s=u:l?s=OC.background:s=OC.defaultLine,o("marker.line.color",s),BC(r,"marker.line")&&UC(r,t,a,o,{prefix:"marker.line.",cLetter:"c"}),o("marker.line.width",l?1:0),i.noLineDash||o("marker.line.dash")),l&&(o("marker.sizeref"),o("marker.sizemin"),o("marker.sizemode")),i.gradient){var f=o("marker.gradient.type");f!=="none"&&o("marker.gradient.color")}}});var sm=de((Xve,VC)=>{"use strict";var vee=ir().isArrayOrTypedArray,dee=Ei().hasColorscale,pee=Di();VC.exports=function(r,t,n,a,o,i){i||(i={});var l=(r.marker||{}).color;if(l&&l._inputArray&&(l=l._inputArray),o("line.color",n),dee(r,"line"))pee(r,t,a,o,{prefix:"line.",cLetter:"c"});else{var u=(vee(l)?!1:l)||n;o("line.color",u)}o("line.width"),i.noDash||o("line.dash"),i.backoff&&o("line.backoff")}});var YC=de((Zve,GC)=>{"use strict";GC.exports=function(r,t,n){var a=n("line.shape");a==="spline"&&n("line.smoothing")}});var um=de((Jve,WC)=>{"use strict";var gee=ir();WC.exports=function(e,r,t,n,a){a=a||{},n("textposition"),gee.coerceFont(n,"textfont",a.font||t.font,a),a.noSelect||(n("selected.textfont.color"),n("unselected.textfont.color"))}});var JC=de((Kve,ZC)=>{"use strict";var w1=Xr(),XC=ir().isArrayOrTypedArray;function yee(e){for(var r=w1.interpolate(e[0][1],e[1][1],.5),t=2;t<e.length;t++){var n=w1.interpolate(e[t-1][1],e[t][1],.5);r=w1.interpolate(r,n,e[t-1][0]/e[t][0])}return r}ZC.exports=function(r,t,n,a,o){o||(o={});var i=!1;if(t.marker){var l=t.marker.color,u=(t.marker.line||{}).color;l&&!XC(l)?i=l:u&&!XC(u)&&(i=u)}var s;if(o.moduleHasFillgradient){var f=a("fillgradient.type");if(f!=="none"){a("fillgradient.start"),a("fillgradient.stop");var h=a("fillgradient.colorscale");h&&(s=yee(h))}}a("fillcolor",w1.addOpacity((t.line||{}).color||i||s||n,.5))}});var jC=de((Qve,$C)=>{"use strict";var KC=ir(),mee=Er(),xee=ss(),bee=Kv(),Eu=la(),_ee=DC(),wee=FC(),Mee=qC(),Tee=lm(),Aee=sm(),QC=YC(),kee=um(),See=JC(),Cee=ir().coercePattern;$C.exports=function(r,t,n,a){function o(b,y){return KC.coerce(r,t,xee,b,y)}var i=_ee(r,t,a,o);if(i||(t.visible=!1),!!t.visible){wee(r,t,a,o),o("xhoverformat"),o("yhoverformat"),o("zorder");var l=Mee(r,t,a,o);a.scattermode==="group"&&t.orientation===void 0&&o("orientation","v");var u=!l&&i<bee.PTS_LINESONLY?"lines+markers":"lines";o("text"),o("hovertext"),o("mode",u),Eu.hasMarkers(t)&&Tee(r,t,n,a,o,{gradient:!0}),Eu.hasLines(t)&&(Aee(r,t,n,a,o,{backoff:!0}),QC(r,t,o),o("connectgaps"),o("line.simplify")),Eu.hasText(t)&&(o("texttemplate"),o("texttemplatefallback"),kee(r,t,a,o));var s=[];(Eu.hasMarkers(t)||Eu.hasText(t))&&(o("cliponaxis"),o("marker.maxdisplayed"),s.push("points")),o("fill",l?l.fillDflt:"none"),t.fill!=="none"&&(See(r,t,n,o,{moduleHasFillgradient:!0}),Eu.hasLines(t)||QC(r,t,o),Cee(o,"fillpattern",t.fillcolor,!1));var f=(t.line||{}).color,h=(t.marker||{}).color;(t.fill==="tonext"||t.fill==="toself")&&s.push("fills"),o("hoveron",s.join("+")||"points"),t.hoveron!=="fills"&&(o("hovertemplate"),o("hovertemplatefallback"));var p=mee.getComponentMethod("errorbars","supplyDefaults");p(r,t,f||h||n,{axis:"y"}),p(r,t,f||h||n,{axis:"x",inherit:"y"}),KC.coerceSelectionMarkerOpacity(t,o)}}});var rE=de(($ve,eE)=>{"use strict";var Eee=rc().getAxisGroup;eE.exports=function(r,t,n,a,o){var i=t.orientation,l=t[{v:"x",h:"y"}[i]+"axis"],u=Eee(n,l)+i,s=n._alignmentOpts||{},f=a("alignmentgroup"),h=s[u];h||(h=s[u]={});var p=h[f];p?p.traces.push(t):p=h[f]={traces:[t],alignmentIndex:Object.keys(h).length,offsetGroups:{}};var b=a("offsetgroup")||"",y=p.offsetGroups,w=y[b];t._offsetIndex=0,(o!=="group"||b)&&(w||(w=y[b]={offsetIndex:Object.keys(y).length}),t._offsetIndex=w.offsetIndex)}});var nE=de((jve,tE)=>{"use strict";var Lee=ir(),Dee=rE(),Ree=ss();tE.exports=function(r,t){var n,a,o,i=t.scattermode;function l(p){return Lee.coerce(a._input,a,Ree,p)}if(t.scattermode==="group")for(o=0;o<r.length;o++)a=r[o],a.type==="scatter"&&(n=a._input,Dee(n,a,t,l,i));for(o=0;o<r.length;o++){var u=r[o];if(u.type==="scatter"){var s=u.fill;if(!(s==="none"||s==="toself")&&(u.opacity=void 0,s==="tonexty"||s==="tonextx"))for(var f=o-1;f>=0;f--){var h=r[f];if(h.type==="scatter"&&h.xaxis===u.xaxis&&h.yaxis===u.yaxis){h.opacity=void 0;break}}}}}});var iE=de((e1e,aE)=>{"use strict";var Pee=ir(),Iee=mh();aE.exports=function(e,r){function t(a,o){return Pee.coerce(e,r,Iee,a,o)}var n=r.barmode==="group";r.scattermode==="group"&&t("scattergap",n?r.bargap:.2)}});var sE=de((r1e,lE)=>{"use strict";var Fee=nt(),oE=ir(),Nee=oE.dateTime2ms,M1=oE.incrementMonth,zee=nn(),qee=zee.ONEAVGMONTH;lE.exports=function(r,t,n,a){if(t.type!=="date")return{vals:a};var o=r[n+"periodalignment"];if(!o)return{vals:a};var i=r[n+"period"],l;if(Fee(i)){if(i=+i,i<=0)return{vals:a}}else if(typeof i=="string"&&i.charAt(0)==="M"){var u=+i.substring(1);if(u>0&&Math.round(u)===u)l=u;else return{vals:a}}for(var s=t.calendar,f=o==="start",h=o==="end",p=r[n+"period0"],b=Nee(p,s)||0,y=[],w=[],T=[],m=a.length,k=0;k<m;k++){var S=a[k],x,M,d;if(l){for(x=Math.round((S-b)/(l*qee)),d=M1(b,l*x,s);d>S;)d=M1(d,-l,s);for(;d<=S;)d=M1(d,l,s);M=M1(d,-l,s)}else{for(x=Math.round((S-b)/i),d=b+x*i;d>S;)d-=i;for(;d<=S;)d+=i;M=d-i}y[k]=f?M:h?d:(M+d)/2,w[k]=M,T[k]=d}return{vals:y,starts:w,ends:T}}});var hm=de((t1e,fE)=>{"use strict";var fm=Ei().hasColorscale,cm=Go(),uE=la();fE.exports=function(r,t){uE.hasLines(t)&&fm(t,"line")&&cm(r,t,{vals:t.line.color,containerStr:"line",cLetter:"c"}),uE.hasMarkers(t)&&(fm(t,"marker")&&cm(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),fm(t,"marker.line")&&cm(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}});var T1=de((n1e,cE)=>{"use strict";var Ft=ir();cE.exports=function(r,t){for(var n=0;n<r.length;n++)r[n].i=n;Ft.mergeArray(t.text,r,"tx"),Ft.mergeArray(t.texttemplate,r,"txt"),Ft.mergeArray(t.hovertext,r,"htx"),Ft.mergeArray(t.customdata,r,"data"),Ft.mergeArray(t.textposition,r,"tp"),t.textfont&&(Ft.mergeArrayCastPositive(t.textfont.size,r,"ts"),Ft.mergeArray(t.textfont.color,r,"tc"),Ft.mergeArray(t.textfont.family,r,"tf"),Ft.mergeArray(t.textfont.weight,r,"tw"),Ft.mergeArray(t.textfont.style,r,"ty"),Ft.mergeArray(t.textfont.variant,r,"tv"),Ft.mergeArray(t.textfont.textcase,r,"tC"),Ft.mergeArray(t.textfont.lineposition,r,"tE"),Ft.mergeArray(t.textfont.shadow,r,"tS"));var a=t.marker;if(a){Ft.mergeArrayCastPositive(a.size,r,"ms"),Ft.mergeArrayCastPositive(a.opacity,r,"mo"),Ft.mergeArray(a.symbol,r,"mx"),Ft.mergeArray(a.angle,r,"ma"),Ft.mergeArray(a.standoff,r,"mf"),Ft.mergeArray(a.color,r,"mc");var o=a.line;a.line&&(Ft.mergeArray(o.color,r,"mlc"),Ft.mergeArrayCastPositive(o.width,r,"mlw"),Ft.mergeArray(o.dash,r,"mld"));var i=a.gradient;i&&i.type!=="none"&&(Ft.mergeArray(i.type,r,"mgt"),Ft.mergeArray(i.color,r,"mgc"))}}});var dE=de((a1e,vE)=>{"use strict";var hE=ir();vE.exports=function(r,t){hE.isArrayOrTypedArray(t.selectedpoints)&&hE.tagSelected(r,t)}});var ym=de((i1e,_E)=>{"use strict";var pE=nt(),dm=ir(),Dc=Lt(),gE=sE(),vm=nn().BADNUM,pm=la(),Oee=hm(),Bee=T1(),Uee=dE();function Hee(e,r){var t=e._fullLayout,n=r._xA=Dc.getFromId(e,r.xaxis||"x","x"),a=r._yA=Dc.getFromId(e,r.yaxis||"y","y"),o=n.makeCalcdata(r,"x"),i=a.makeCalcdata(r,"y"),l=gE(r,n,"x",o),u=gE(r,a,"y",i),s=l.vals,f=u.vals,h=r._length,p=new Array(h),b=r.ids,y=gm(r,t,n,a),w=!1,T,m,k,S,x,M;xE(t,r);var d="x",_="y",g;if(y)dm.pushUnique(y.traceIndices,r.index),T=y.orientation==="v",T?(_="s",g="x"):(d="s",g="y"),x=y.stackgaps==="interpolate";else{var c=mE(r,h);yE(e,r,n,a,s,f,c)}var A=!!r.xperiodalignment,v=!!r.yperiodalignment;for(m=0;m<h;m++){var D=p[m]={},E=pE(s[m]),R=pE(f[m]);E&&R?(D[d]=s[m],D[_]=f[m],A&&(D.orig_x=o[m],D.xEnd=l.ends[m],D.xStart=l.starts[m]),v&&(D.orig_y=i[m],D.yEnd=u.ends[m],D.yStart=u.starts[m])):y&&(T?E:R)?(D[g]=T?s[m]:f[m],D.gap=!0,x?(D.s=vm,w=!0):D.s=0):D[d]=D[_]=vm,b&&(D.id=String(b[m]))}if(Bee(p,r),Oee(e,r),Uee(p,r),y){for(m=0;m<p.length;)p[m][g]===vm?p.splice(m,1):m++;if(dm.sort(p,function(L,P){return L[g]-P[g]||L.i-P.i}),w){for(m=0;m<p.length-1&&p[m].gap;)m++;for(M=p[m].s,M||(M=p[m].s=0),k=0;k<m;k++)p[k].s=M;for(S=p.length-1;S>m&&p[S].gap;)S--;for(M=p[S].s,k=p.length-1;k>S;k--)p[k].s=M;for(;m<S;)if(m++,p[m].gap){for(k=m+1;p[k].gap;)k++;for(var N=p[m-1][g],F=p[m-1].s,I=(p[k].s-F)/(p[k][g]-N);m<k;)p[m].s=F+(p[m][g]-N)*I,m++}}}return p}function yE(e,r,t,n,a,o,i){var l=r._length,u=e._fullLayout,s=t._id,f=n._id,h=u._firstScatter[bE(r)]===r.uid,p=(gm(r,u,t,n)||{}).orientation,b=r.fill;t._minDtick=0,n._minDtick=0;var y={padded:!0},w={padded:!0};i&&(y.ppad=w.ppad=i);var T=l<2||a[0]!==a[l-1]||o[0]!==o[l-1];T&&(b==="tozerox"||b==="tonextx"&&(h||p==="h"))?y.tozero=!0:!(r.error_y||{}).visible&&(b==="tonexty"||b==="tozeroy"||!pm.hasMarkers(r)&&!pm.hasText(r))&&(y.padded=!1,y.ppad=0),T&&(b==="tozeroy"||b==="tonexty"&&(h||p==="v"))?w.tozero=!0:(b==="tonextx"||b==="tozerox")&&(w.padded=!1),s&&(r._extremes[s]=Dc.findExtremes(t,a,y)),f&&(r._extremes[f]=Dc.findExtremes(n,o,w))}function mE(e,r){if(pm.hasMarkers(e)){var t=e.marker,n=1.6*(e.marker.sizeref||1),a;if(e.marker.sizemode==="area"?a=function(s){return Math.max(Math.sqrt((s||0)/n),3)}:a=function(s){return Math.max((s||0)/n,3)},dm.isArrayOrTypedArray(t.size)){var o={type:"linear"};Dc.setConvert(o);for(var i=o.makeCalcdata(e.marker,"size"),l=new Array(r),u=0;u<r;u++)l[u]=a(i[u]);return l}else return a(t.size)}}function xE(e,r){var t=bE(r),n=e._firstScatter;n[t]||(n[t]=r.uid)}function bE(e){var r=e.stackgroup;return e.xaxis+e.yaxis+e.type+(r?"-"+r:"")}function gm(e,r,t,n){var a=e.stackgroup;if(a){var o=r._scatterStackOpts[t._id+n._id][a],i=o.orientation==="v"?n:t;if(i.type==="linear"||i.type==="log")return o}}_E.exports={calc:Hee,calcMarkerSize:mE,calcAxisExpansion:yE,setFirstScatter:xE,getStackOpts:gm}});var ME=de((o1e,wE)=>{"use strict";wE.exports=A1;var Vee=ir().distinctVals;function A1(e,r){this.traces=e,this.sepNegVal=r.sepNegVal,this.overlapNoMerge=r.overlapNoMerge;for(var t=1/0,n=r.posAxis._id.charAt(0),a=[],o=0;o<e.length;o++){for(var i=e[o],l=0;l<i.length;l++){var u=i[l],s=u.p;s===void 0&&(s=u[n]),s!==void 0&&a.push(s)}i[0]&&i[0].width1&&(t=Math.min(i[0].width1,t))}this.positions=a;var f=Vee(a);this.distinctPositions=f.vals,f.vals.length===1&&t!==1/0?this.minDiff=t:this.minDiff=Math.min(f.minDiff,t);var h=(r.posAxis||{}).type;(h==="category"||h==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}A1.prototype.put=function(r,t,n){var a=this.getLabel(r,t,n),o=this.bins[a]||0;return this.bins[a]=o+n,o};A1.prototype.get=function(r,t,n){var a=this.getLabel(r,t,n);return this.bins[a]||0};A1.prototype.getLabel=function(r,t,n){var a=n<0&&this.sepNegVal?"v":"^",o=this.overlapNoMerge?r:Math.round(r/this.binWidth);return a+o+"g"+t}});var AE=de((l1e,TE)=>{"use strict";TE.exports={TEXTPAD:3,eventDataKeys:["value","label"]}});var LE=de((s1e,EE)=>{"use strict";var Ga=nt(),{isArrayOrTypedArray:yo}=ir(),{BADNUM:Lu}=nn(),Gee=Er(),Rc=Lt(),{getAxisGroup:Yee}=rc(),k1=ME(),{TEXTPAD:Wee}=AE(),{LINE_SPACING:Xee}=Cn(),{BR_TAG_ALL:Zee}=On();function Jee(e,r){for(var t=r.xaxis,n=r.yaxis,a=e._fullLayout,o=e._fullData,i=e.calcdata,l=[],u=[],s=0;s<o.length;s++){var f=o[s];if(f.visible===!0&&Gee.traceIs(f,"bar")&&f.xaxis===t._id&&f.yaxis===n._id&&(f.orientation==="h"?l.push(i[s]):u.push(i[s]),f._computePh))for(var h=e.calcdata[s],p=0;p<h.length;p++)typeof h[p].ph0=="function"&&(h[p].ph0=h[p].ph0()),typeof h[p].ph1=="function"&&(h[p].ph1=h[p].ph1())}var b={xCat:t.type==="category"||t.type==="multicategory",yCat:n.type==="category"||n.type==="multicategory",mode:a.barmode,norm:a.barnorm,gap:a.bargap,groupgap:a.bargroupgap};xm(e,t,n,u,b),xm(e,n,t,l,b)}function xm(e,r,t,n,a){if(n.length){var o,i,l,u,s;switch($ee(t,n),a.mode){case"overlay":mm(e,r,t,n,a);break;case"group":for(o=[],i=[],l=0;l<n.length;l++)u=n[l],s=u[0].trace,s.offset===void 0?i.push(u):o.push(u);i.length&&jee(e,r,t,i,a),o.length&&mm(e,r,t,o,a);break;case"stack":case"relative":for(o=[],i=[],l=0;l<n.length;l++)u=n[l],s=u[0].trace,s.base===void 0?i.push(u):o.push(u);Qee(i),i.length&&ere(e,r,t,i,a),o.length&&mm(e,r,t,o,a);break}Kee(n),ore(n,r)}}function Kee(e){var r,t,n,a,o,i,l;for(r=0;r<e.length;r++)t=e[r],n=t[0].trace,a=t[0].t,a.cornerradiusvalue===void 0&&(o=n.marker?n.marker.cornerradius:void 0,o!==void 0&&(i=Ga(o)?+o:+o.slice(0,-1),l=Ga(o)?"px":"%",a.cornerradiusvalue=i,a.cornerradiusform=l))}function Qee(e){if(!(e.length<2)){var r,t,n,a,o,i,l;for(r=0;r<e.length&&(t=e[r],n=t[0].trace,o=n.marker?n.marker.cornerradius:void 0,o===void 0);r++);if(o!==void 0)for(i=Ga(o)?+o:+o.slice(0,-1),l=Ga(o)?"px":"%",r=0;r<e.length;r++)t=e[r],a=t[0].t,a.cornerradiusvalue=i,a.cornerradiusform=l}}function $ee(e,r){var t,n;for(t=0;t<r.length;t++){var a=r[t],o=a[0].trace,i=o.type==="funnel"?o._base:o.base,l,u=o.orientation==="h"?o.xcalendar:o.ycalendar,s=e.type==="category"||e.type==="multicategory"?function(){return null}:e.d2c;if(yo(i)){for(n=0;n<Math.min(i.length,a.length);n++)l=s(i[n],0,u),Ga(l)?(a[n].b=+l,a[n].hasB=1):a[n].b=0;for(;n<a.length;n++)a[n].b=0}else{l=s(i,0,u);var f=Ga(l);for(l=f?l:0,n=0;n<a.length;n++)a[n].b=l,f&&(a[n].hasB=1)}}}function mm(e,r,t,n,a){for(var o=0;o<n.length;o++){var i=n[o],l=new k1([i],{posAxis:r,sepNegVal:!1,overlapNoMerge:!a.norm});bm(e,r,l,a),a.norm?(CE(l),_m(t,l,a)):SE(t,l)}}function jee(e,r,t,n,a){var o=new k1(n,{posAxis:r,sepNegVal:!1,overlapNoMerge:!a.norm});bm(e,r,o,a),are(o,r),a.norm?(CE(o),_m(t,o,a)):SE(t,o)}function ere(e,r,t,n,a){var o=new k1(n,{posAxis:r,sepNegVal:a.mode==="relative",overlapNoMerge:!(a.norm||a.mode==="stack"||a.mode==="relative")});bm(e,r,o,a),nre(t,o,a);for(var i=0;i<n.length;i++)for(var l=n[i],u=l[0].t.offsetindex,s=0;s<l.length;s++){var f=l[s];if(f.s!==Lu){var h=f.b+f.s===o.get(f.p,u,f.s);h&&(f._outmost=!0)}}a.norm&&_m(t,o,a)}function bm(e,r,t,n){var a=e._fullLayout,o=t.positions,i=t.distinctPositions,l=t.minDiff,u=t.traces,s=u.length,f=o.length!==i.length,h=l*(1-n.gap),p,b,y,w;if(r._id==="angularaxis")p=h,b=p*(1-(n.groupgap||0)),y=-b/2;else{var T=Yee(a,r._id)+u[0][0].trace.orientation;w=a._alignmentOpts[T]||{}}for(var m=0;m<s;m++){var k=u[m],S=k[0].trace;if(r._id!=="angularaxis"){var x=w[S.alignmentgroup]||{},M=Object.keys(x.offsetGroups||{}).length;M?p=h/M:p=f?h/s:h,b=p*(1-(n.groupgap||0)),M?y=((2*S._offsetIndex+1-M)*p-b)/2:y=f?((2*m+1-s)*p-b)/2:-b/2}var d=k[0].t;d.barwidth=b,d.offsetindex=S._offsetIndex||0,d.poffset=y,d.bargroupwidth=h,d.bardelta=l}t.binWidth=u[0][0].t.barwidth/100,rre(t),tre(r,t),r._id==="angularaxis"?kE(r,t):kE(r,t,f)}function rre(e){var r=e.traces,t,n;for(t=0;t<r.length;t++){var a=r[t],o=a[0],i=o.trace,l=o.t,u=i._offset||i.offset,s=l.poffset,f;if(yo(u)){for(f=Array.prototype.slice.call(u,0,a.length),n=0;n<f.length;n++)Ga(f[n])||(f[n]=s);for(n=f.length;n<a.length;n++)f.push(s);l.poffset=f}else u!==void 0&&(l.poffset=u);var h=i._width||i.width,p=l.barwidth;if(yo(h)){var b=Array.prototype.slice.call(h,0,a.length);for(n=0;n<b.length;n++)Ga(b[n])||(b[n]=p);for(n=b.length;n<a.length;n++)b.push(p);if(l.barwidth=b,u===void 0){for(f=[],n=0;n<a.length;n++)f.push(s+(p-b[n])/2);l.poffset=f}}else h!==void 0&&(l.barwidth=h,u===void 0&&(l.poffset=s+(p-h)/2))}}function tre(e,r){for(var t=r.traces,n=Du(e),a=0;a<t.length;a++)for(var o=t[a],i=o[0].t,l=i.poffset,u=yo(l),s=i.barwidth,f=yo(s),h=0;h<o.length;h++){var p=o[h],b=p.w=f?s[h]:s;p.p===void 0&&(p.p=p[n],p["orig_"+n]=p[n]);var y=(u?l[h]:l)+b/2;p[n]=p.p+y}}function kE(e,r,t){var n=r.traces,a=r.minDiff,o=a/2;Rc.minDtick(e,r.minDiff,r.distinctPositions[0],t);for(var i=0;i<n.length;i++){var l=n[i],u=l[0],s=u.trace,f=[],h,p,b,y;for(y=0;y<l.length;y++)h=l[y],p=h.p-o,b=h.p+o,f.push(p,b);if(s.width||s.offset){var w=u.t,T=w.poffset,m=w.barwidth,k=yo(T),S=yo(m);for(y=0;y<l.length;y++){h=l[y];var x=k?T[y]:T,M=S?m[y]:m;p=h.p+x,b=p+M,f.push(p,b)}}s._extremes[e._id]=Rc.findExtremes(e,f,{padded:!1})}}function SE(e,r){for(var t=r.traces,n=Du(e),a=0;a<t.length;a++){for(var o=t[a],i=o[0].trace,l=i.type==="scatter",u=i.orientation==="v",s=[],f=!1,h=0;h<o.length;h++){var p=o[h],b=l?0:p.b,y=l?u?p.y:p.x:b+p.s;p[n]=y,s.push(y),p.hasB&&s.push(b),(!p.hasB||!p.b)&&(f=!0)}let{ppadminus:w,ppadplus:T}=wm(i,o);i._extremes[e._id]=Rc.findExtremes(e,s,{tozero:f,padded:!0,ppadplus:T,ppadminus:w})}}function nre(e,r,t){var n=Du(e),a=r.traces,o,i,l,u,s,f,h;for(u=0;u<a.length;u++)if(o=a[u],i=o[0].trace,i.type==="funnel")for(h=o[0].t.offsetindex,s=0;s<o.length;s++)f=o[s],f.s!==Lu&&r.put(f.p,h,-.5*f.s);for(u=0;u<a.length;u++){o=a[u],i=o[0].trace,l=i.type==="funnel",h=i.type==="barpolar"?0:o[0].t.offsetindex;var p=[];for(s=0;s<o.length;s++)if(f=o[s],f.s!==Lu){var b;l?b=f.s:b=f.s+f.b;var y=r.put(f.p,h,b),w=y+b;f.b=y,f[n]=w,t.norm||(p.push(w),f.hasB&&p.push(y))}if(!t.norm){let{ppadminus:T,ppadplus:m}=wm(i,o);i._extremes[e._id]=Rc.findExtremes(e,p,{tozero:!0,padded:!0,ppadplus:m,ppadminus:T})}}}function CE(e){for(var r=e.traces,t=0;t<r.length;t++)for(var n=r[t],a=n[0].t.offsetindex,o=0;o<n.length;o++){var i=n[o];i.s!==Lu&&e.put(i.p,a,i.b+i.s)}}function are(e,r){for(var t=e.traces,n=0;n<t.length;n++){var a=t[n],o=a[0].trace,i=a[0].t.offsetindex;if(o.base===void 0)for(var l=new k1([a],{posAxis:r,sepNegVal:!0,overlapNoMerge:!0}),u=0;u<a.length;u++){var s=a[u];if(s.p!==Lu){var f=l.put(s.p,i,s.b+s.s);f&&(s.b=f)}}}}function _m(e,r,t){var n=r.traces,a=Du(e),o=t.norm==="fraction"?1:100,i=o/1e9,l=e.l2c(e.c2l(0)),u=t.mode==="stack"?o:l;function s(d){return Ga(e.c2l(d))&&(d<l-i||d>u+i||!Ga(l))}for(var f=0;f<n.length;f++){for(var h=n[f],p=h[0].t.offsetindex,b=h[0].trace,y=[],w=!1,T=!1,m=0;m<h.length;m++){var k=h[m];if(k.s!==Lu){var S=Math.abs(o/r.get(k.p,p,k.s));k.b*=S,k.s*=S;var x=k.b,M=x+k.s;k[a]=M,y.push(M),T=T||s(M),k.hasB&&(y.push(x),T=T||s(x)),(!k.hasB||!k.b)&&(w=!0)}}let{ppadminus:d,ppadplus:_}=wm(b,h);b._extremes[e._id]=Rc.findExtremes(e,y,{tozero:w,padded:T,ppadplus:_,ppadminus:d})}}function wm(e,r){if(e.orientation==="v"&&(e.text||e.texttemplate)&&e.textposition==="outside"&&(e.textangle==="auto"||e.textangle===0)){let n=function(o){return!o||typeof o!="string"?0:(o.match(Zee)||[]).length+1};var t;e.texttemplate?t=n(e.texttemplate):t=yo(e.text)?Math.max(...e.text.map(o=>n(o))):n(e.text);let a=e.outsidetextfont.size*Xee*t+Wee;return{ppadplus:r.some(o=>o.s<0)?a:0,ppadminus:r.some(o=>o.s>=0)?a:0}}return{ppadplus:void 0,ppadminus:void 0}}function ire(e,r,t,n){for(var a=Du(n),o=0;o<e.length;o++)for(var i=e[o],l=0;l<i.length;l++){var u=i[l],s=u[a];u._sMin=r[s],u._sMax=t[s]}}function ore(e,r){var t=Du(r),n={},a,o,i,l=1/0,u=-1/0;for(a=0;a<e.length;a++)for(i=e[a],o=0;o<i.length;o++){var s=i[o].p;Ga(s)&&(l=Math.min(l,s),u=Math.max(u,s))}var f=1e4/(u-l),h=n.round=function(g){return String(Math.round(f*(g-l)))},p={},b={},y=e.some(function(g){var c=g[0].trace;return"marker"in c&&c.marker.cornerradius});for(a=0;a<e.length;a++){i=e[a],i[0].t.extents=n;var w=i[0].t.poffset,T=yo(w);for(o=0;o<i.length;o++){var m=i[o],k=m[t]-m.w/2;if(Ga(k)){var S=m[t]+m.w/2,x=h(m.p);n[x]?n[x]=[Math.min(k,n[x][0]),Math.max(S,n[x][1])]:n[x]=[k,S]}if(m.p0=m.p+(T?w[o]:w),m.p1=m.p0+m.w,m.s0=m.b,m.s1=m.s0+m.s,y){var M=Math.min(m.s0,m.s1)||0,d=Math.max(m.s0,m.s1)||0,_=m[t];p[_]=_ in p?Math.min(p[_],M):M,b[_]=_ in b?Math.max(b[_],d):d}}}y&&ire(e,p,b,r)}function Du(e){return e._id.charAt(0)}EE.exports={crossTraceCalc:Jee,setGroupPositions:xm}});var IE=de((u1e,PE)=>{"use strict";var DE=ym(),RE=LE().setGroupPositions;function lre(e,r){for(var t=r.xaxis,n=r.yaxis,a=e._fullLayout,o=e._fullData,i=e.calcdata,l=[],u=[],s=0;s<o.length;s++){var f=o[s];f.visible===!0&&f.type==="scatter"&&f.xaxis===t._id&&f.yaxis===n._id&&(f.orientation==="h"?l.push(i[s]):f.orientation==="v"&&u.push(i[s]))}var h={mode:a.scattermode,gap:a.scattergap};RE(e,t,n,u,h),RE(e,n,t,l,h)}PE.exports=function(r,t){r._fullLayout.scattermode==="group"&&lre(r,t);var n=t.xaxis,a=t.yaxis,o=n._id+a._id,i=r._fullLayout._scatterStackOpts[o];if(i){var l=r.calcdata,u,s,f,h,p,b,y,w,T,m,k,S,x,M,d;for(var _ in i){m=i[_];var g=m.traceIndices;if(g.length){for(k=m.stackgaps==="interpolate",S=m.groupnorm,m.orientation==="v"?(x="x",M="y"):(x="y",M="x"),d=new Array(g.length),u=0;u<d.length;u++)d[u]=!1;b=l[g[0]];var c=new Array(b.length);for(u=0;u<b.length;u++)c[u]=b[u][x];for(u=1;u<g.length;u++){for(p=l[g[u]],s=f=0;s<p.length;s++){for(y=p[s][x];y>c[f]&&f<c.length;f++)Mm(p,s,c[f],u,d,k,x),s++;if(y!==c[f]){for(h=0;h<u;h++)Mm(l[g[h]],f,y,h,d,k,x);c.splice(f,0,y)}f++}for(;f<c.length;f++)Mm(p,s,c[f],u,d,k,x),s++}var A=c.length;for(s=0;s<b.length;s++){for(w=b[s][M]=b[s].s,u=1;u<g.length;u++)p=l[g[u]],p[0].trace._rawLength=p[0].trace._length,p[0].trace._length=A,w+=p[s].s,p[s][M]=w;if(S)for(T=(S==="fraction"?w:w/100)||1,u=0;u<g.length;u++){var v=l[g[u]][s];v[M]/=T,v.sNorm=v.s/T}}for(u=0;u<g.length;u++){p=l[g[u]];var D=p[0].trace,E=DE.calcMarkerSize(D,D._rawLength),R=Array.isArray(E);if(E&&d[u]||R){var N=E;for(E=new Array(A),s=0;s<A;s++)E[s]=p[s].gap?0:R?N[p[s].i]:N}var F=new Array(A),I=new Array(A);for(s=0;s<A;s++)F[s]=p[s].x,I[s]=p[s].y;DE.calcAxisExpansion(r,D,n,a,F,I,E),p[0].t.orientation=m.orientation}}}}};function Mm(e,r,t,n,a,o,i){a[n]=!0;var l={i:null,gap:!0,s:0};if(l[i]=t,e.splice(r,0,l),r&&t===e[r-1][i]){var u=e[r-1];l.s=u.s,l.i=u.i,l.gap=u.gap}else o&&(l.s=sre(e,r,t,i));r||(e[0].t=e[1].t,e[0].trace=e[1].trace,delete e[1].t,delete e[1].trace)}function sre(e,r,t,n){var a=e[r-1],o=e[r+1];return o?a?a.s+(o.s-a.s)*(t-a[n])/(o[n]-a[n]):o.s:a.s}});var UE=de((f1e,BE)=>{"use strict";var ure=mt(),qE=nn(),Pc=qE.BADNUM,OE=qE.LOG_CLIP,FE=OE+.5,NE=OE-.5,S1=ir(),fre=S1.segmentsIntersect,zE=S1.constrain,Tm=Kv();BE.exports=function(r,t){var n=t.trace||{},a=t.xaxis,o=t.yaxis,i=a.type==="log",l=o.type==="log",u=a._length,s=o._length,f=t.backoff,h=n.marker,p=t.connectGaps,b=t.baseTolerance,y=t.shape,w=y==="linear",T=n.fill&&n.fill!=="none",m=[],k=Tm.minTolerance,S=r.length,x=new Array(S),M=0,d,_,g,c,A,v,D,E,R,N,F,I,L,P,O,U;function X(Ye){var Te=r[Ye];if(!Te)return!1;var Re=t.linearized?a.l2p(Te.x):a.c2p(Te.x),Qe=t.linearized?o.l2p(Te.y):o.c2p(Te.y);if(Re===Pc){if(i&&(Re=a.c2p(Te.x,!0)),Re===Pc)return!1;l&&Qe===Pc&&(Re*=Math.abs(a._m*s*(a._m>0?FE:NE)/(o._m*u*(o._m>0?FE:NE)))),Re*=1e3}if(Qe===Pc){if(l&&(Qe=o.c2p(Te.y,!0)),Qe===Pc)return!1;Qe*=1e3}return[Re,Qe]}function $(Ye,Te,Re,Qe){var Ke=Re-Ye,ar=Qe-Te,ue=.5-Ye,J=.5-Te,ne=Ke*Ke+ar*ar,De=Ke*ue+ar*J;if(De>0&&De<ne){var He=ue*ar-J*Ke;if(He*He<ne)return!0}}var j,Y;function q(Ye,Te){var Re=Ye[0]/u,Qe=Ye[1]/s,Ke=Math.max(0,-Re,Re-1,-Qe,Qe-1);return Ke&&j!==void 0&&$(Re,Qe,j,Y)&&(Ke=0),Ke&&Te&&$(Re,Qe,Te[0]/u,Te[1]/s)&&(Ke=0),(1+Tm.toleranceGrowth*Ke)*b}function Q(Ye,Te){var Re=Ye[0]-Te[0],Qe=Ye[1]-Te[1];return Math.sqrt(Re*Re+Qe*Qe)}var ae=Tm.maxScreensAway,K=-u*ae,oe=u*(1+ae),re=-s*ae,V=s*(1+ae),ee=[[K,re,oe,re],[oe,re,oe,V],[oe,V,K,V],[K,V,K,re]],H,te,le,ve,Ae,we;function ce(Ye,Te){for(var Re=[],Qe=0,Ke=0;Ke<4;Ke++){var ar=ee[Ke],ue=fre(Ye[0],Ye[1],Te[0],Te[1],ar[0],ar[1],ar[2],ar[3]);ue&&(!Qe||Math.abs(ue.x-Re[0][0])>1||Math.abs(ue.y-Re[0][1])>1)&&(ue=[ue.x,ue.y],Qe&&Q(ue,Ye)<Q(Re[0],Ye)?Re.unshift(ue):Re.push(ue),Qe++)}return Re}function Se(Ye){if(Ye[0]<K||Ye[0]>oe||Ye[1]<re||Ye[1]>V)return[zE(Ye[0],K,oe),zE(Ye[1],re,V)]}function Ce(Ye,Te){if(Ye[0]===Te[0]&&(Ye[0]===K||Ye[0]===oe)||Ye[1]===Te[1]&&(Ye[1]===re||Ye[1]===V))return!0}function Fe(Ye,Te){var Re=[],Qe=Se(Ye),Ke=Se(Te);return Qe&&Ke&&Ce(Qe,Ke)||(Qe&&Re.push(Qe),Ke&&Re.push(Ke)),Re}function Ee(Ye,Te,Re){return function(Qe,Ke){var ar=Se(Qe),ue=Se(Ke),J=[];if(ar&&ue&&Ce(ar,ue))return J;ar&&J.push(ar),ue&&J.push(ue);var ne=2*S1.constrain((Qe[Ye]+Ke[Ye])/2,Te,Re)-((ar||Qe)[Ye]+(ue||Ke)[Ye]);if(ne){var De;ar&&ue?De=ne>0==ar[Ye]>ue[Ye]?ar:ue:De=ar||ue,De[Ye]+=ne}return J}}var ze;y==="linear"||y==="spline"?ze=ce:y==="hv"||y==="vh"?ze=Fe:y==="hvh"?ze=Ee(0,K,oe):y==="vhv"&&(ze=Ee(1,re,V));function Ue(Ye,Te){var Re=Te[0]-Ye[0],Qe=(Te[1]-Ye[1])/Re,Ke=(Ye[1]*Te[0]-Te[1]*Ye[0])/Re;return Ke>0?[Qe>0?K:oe,V]:[Qe>0?oe:K,re]}function ge(Ye){var Te=Ye[0],Re=Ye[1],Qe=Te===x[M-1][0],Ke=Re===x[M-1][1];if(!(Qe&&Ke))if(M>1){var ar=Te===x[M-2][0],ue=Re===x[M-2][1];Qe&&(Te===K||Te===oe)&&ar?ue?M--:x[M-1]=Ye:Ke&&(Re===re||Re===V)&&ue?ar?M--:x[M-1]=Ye:x[M++]=Ye}else x[M++]=Ye}function Me(Ye){x[M-1][0]!==Ye[0]&&x[M-1][1]!==Ye[1]&&ge([le,ve]),ge(Ye),Ae=null,le=ve=0}var ke=S1.isArrayOrTypedArray(h);function me(Ye){if(Ye&&f&&(Ye.i=d,Ye.d=r,Ye.trace=n,Ye.marker=ke?h[Ye.i]:h,Ye.backoff=f),j=Ye[0]/u,Y=Ye[1]/s,H=Ye[0]<K?K:Ye[0]>oe?oe:0,te=Ye[1]<re?re:Ye[1]>V?V:0,H||te){if(!M)x[M++]=[H||Ye[0],te||Ye[1]];else if(Ae){var Te=ze(Ae,Ye);Te.length>1&&(Me(Te[0]),x[M++]=Te[1])}else we=ze(x[M-1],Ye)[0],x[M++]=we;var Re=x[M-1];H&&te&&(Re[0]!==H||Re[1]!==te)?(Ae&&(le!==H&&ve!==te?ge(le&&ve?Ue(Ae,Ye):[le||H,ve||te]):le&&ve&&ge([le,ve])),ge([H,te])):le-H&&ve-te&&ge([H||le,te||ve]),Ae=Ye,le=H,ve=te}else Ae&&Me(ze(Ae,Ye)[0]),x[M++]=Ye}for(d=0;d<S;d++)if(_=X(d),!!_){for(M=0,Ae=null,me(_),d++;d<S;d++){if(c=X(d),!c){if(p)continue;break}if(!w||!t.simplify){me(c);continue}var ye=X(d+1);if(N=Q(c,_),!(!(T&&(M===0||M===S-1))&&N<q(c,ye)*k)){for(E=[(c[0]-_[0])/N,(c[1]-_[1])/N],A=_,F=N,I=P=O=0,D=!1,g=c,d++;d<r.length;d++){if(v=ye,ye=X(d+1),!v){if(p)continue;break}if(R=[v[0]-_[0],v[1]-_[1]],U=R[0]*E[1]-R[1]*E[0],P=Math.min(P,U),O=Math.max(O,U),O-P>q(v,ye))break;g=v,L=R[0]*E[0]+R[1]*E[1],L>F?(F=L,c=v,D=!1):L<I&&(I=L,A=v,D=!0)}if(D?(me(c),g!==A&&me(A)):(A!==_&&me(A),g!==c&&me(c)),me(g),d>=r.length||!v)break;me(v),_=v}}Ae&&ge([le||Ae[0],ve||Ae[1]]),m.push(x.slice(0,M))}var pe=y.slice(y.length-1);if(f&&pe!=="h"&&pe!=="v"){for(var he=!1,xe=-1,Le=[],qe=0;qe<m.length;qe++)for(var Ne=0;Ne<m[qe].length-1;Ne++){var $e=m[qe][Ne],Ve=m[qe][Ne+1],Be=ure.applyBackoff(Ve,$e);(Be[0]!==Ve[0]||Be[1]!==Ve[1])&&(he=!0),Le[xe+1]||(xe++,Le[xe]=[$e,[Be[0],Be[1]]])}return he?Le:m}return m}});var GE=de((c1e,VE)=>{"use strict";var HE={tonextx:1,tonexty:1,tonext:1};VE.exports=function(r,t,n){var a,o,i,l,u,s={},f=!1,h=-1,p=0,b=-1;for(o=0;o<n.length;o++)a=n[o][0].trace,i=a.stackgroup||"",i?i in s?u=s[i]:(u=s[i]=p,p++):a.fill in HE&&b>=0?u=b:(u=b=p,p++),u<h&&(f=!0),a._groupIndex=h=u;var y=n.slice();f&&y.sort(function(T,m){var k=T[0].trace,S=m[0].trace;return k._groupIndex-S._groupIndex||k.index-S.index});var w={};for(o=0;o<y.length;o++)a=y[o][0].trace,i=a.stackgroup||"",a.visible===!0?(a._nexttrace=null,a.fill in HE&&(l=w[i],a._prevtrace=l||null,l&&(l._nexttrace=a)),a._ownfill=a.fill&&(a.fill.slice(0,6)==="tozero"||a.fill==="toself"||a.fill.slice(0,2)==="to"&&!a._prevtrace),w[i]=a):a._prevtrace=a._nexttrace=a._ownfill=null;return y}});var ZE=de((h1e,XE)=>{"use strict";var ci=it(),cre=Er(),Ic=ir(),Ru=Ic.ensureSingle,WE=Ic.identity,zt=mt(),Pu=la(),hre=UE(),vre=GE(),C1=wy().tester;XE.exports=function(r,t,n,a,o,i){var l,u,s=!o,f=!!o&&o.duration>0,h=vre(r,t,n);if(l=a.selectAll("g.trace").data(h,function(b){return b[0].trace.uid}),l.enter().append("g").attr("class",function(b){return"trace scatter trace"+b[0].trace.uid}).style("stroke-miterlimit",2),l.order(),dre(r,l,t),f){i&&(u=i());var p=ci.transition().duration(o.duration).ease(o.easing).each("end",function(){u&&u()}).each("interrupt",function(){u&&u()});p.each(function(){a.selectAll("g.trace").each(function(b,y){YE(r,y,t,b,h,this,o)})})}else l.each(function(b,y){YE(r,y,t,b,h,this,o)});s&&l.exit().remove(),a.selectAll("path:not([d])").remove()};function dre(e,r,t){r.each(function(n){var a=Ru(ci.select(this),"g","fills");zt.setClipUrl(a,t.layerClipId,e);var o=n[0].trace;o._ownFill=null,o._nextFill=null;var i=[];o._ownfill&&i.push("_ownFill"),o._nexttrace&&i.push("_nextFill");var l=a.selectAll("g").data(i,WE);l.enter().append("g"),l.exit().remove(),l.order().each(function(u){o[u]=Ru(ci.select(this),"path","js-fill")})})}function YE(e,r,t,n,a,o,i){var l=e._context.staticPlot,u;pre(e,r,t,n,a);var s=!!i&&i.duration>0;function f(Ee){return s?Ee.transition():Ee}var h=t.xaxis,p=t.yaxis,b=n[0].trace,y=b.line,w=ci.select(o),T=Ru(w,"g","errorbars"),m=Ru(w,"g","lines"),k=Ru(w,"g","points"),S=Ru(w,"g","text");if(cre.getComponentMethod("errorbars","plot")(e,T,t,i),b.visible!==!0)return;f(w).style("opacity",b.opacity);var x,M,d=b.fill.charAt(b.fill.length-1);d!=="x"&&d!=="y"&&(d="");var _,g;d==="y"?(_=1,g=p.c2p(0,!0)):d==="x"&&(_=0,g=h.c2p(0,!0)),n[0][t.isRangePlot?"nodeRangePlot3":"node3"]=w;var c="",A=[],v=b._prevtrace,D=null,E=null;v&&(c=v._prevRevpath||"",M=v._nextFill,A=v._ownPolygons,D=v._fillsegments,E=v._fillElement);var R,N,F="",I="",L,P,O,U,X,$,j=[];b._polygons=[];var Y=[],q=[],Q=Ic.noop;if(x=b._ownFill,Pu.hasLines(b)||b.fill!=="none"){M&&M.datum(n),["hv","vh","hvh","vhv"].indexOf(y.shape)!==-1?(L=zt.steps(y.shape),P=zt.steps(y.shape.split("").reverse().join(""))):y.shape==="spline"?L=P=function(Ee){var ze=Ee[Ee.length-1];return Ee.length>1&&Ee[0][0]===ze[0]&&Ee[0][1]===ze[1]?zt.smoothclosed(Ee.slice(1),y.smoothing):zt.smoothopen(Ee,y.smoothing)}:L=P=function(Ee){return"M"+Ee.join("L")},O=function(Ee){return P(Ee.reverse())},q=hre(n,{xaxis:h,yaxis:p,trace:b,connectGaps:b.connectgaps,baseTolerance:Math.max(y.width||1,3)/4,shape:y.shape,backoff:y.backoff,simplify:y.simplify,fill:b.fill}),Y=new Array(q.length);var ae=0;for(u=0;u<q.length;u++){var K,oe=q[u];!K||!d?(K=oe.slice(),Y[ae]=K,ae++):K.push.apply(K,oe)}b._fillElement=null,b._fillExclusionElement=E,b._fillsegments=Y.slice(0,ae),Y=b._fillsegments,q.length&&(U=q[0][0].slice(),X=q[q.length-1],$=X[X.length-1].slice()),Q=function(Ee){return function(ze){if(R=L(ze),N=O(ze),F?d?(F+="L"+R.slice(1),I=N+("L"+I.slice(1))):(F+="Z"+R,I=N+"Z"+I):(F=R,I=N),Pu.hasLines(b)){var Ue=ci.select(this);if(Ue.datum(n),Ee)f(Ue.style("opacity",0).attr("d",R).call(zt.lineGroupStyle)).style("opacity",1);else{var ge=f(Ue);ge.attr("d",R),zt.singleLineStyle(n,ge)}}}}}var re=m.selectAll(".js-line").data(q);f(re.exit()).style("opacity",0).remove(),re.each(Q(!1)),re.enter().append("path").classed("js-line",!0).style("vector-effect",l?"none":"non-scaling-stroke").call(zt.lineGroupStyle).each(Q(!0)),zt.setClipUrl(re,t.layerClipId,e);function V(Ee){f(Ee).attr("d","M0,0Z")}var ee=function(){var Ee=new Array(Y.length);for(u=0;u<Y.length;u++)Ee[u]=C1(Y[u]);return Ee},H=function(Ee){var ze,Ue;if(!Ee||Ee.length===0)for(ze=new Array(Y.length),Ue=0;Ue<Y.length;Ue++){var ge=Y[Ue][0].slice(),Me=Y[Ue][Y[Ue].length-1].slice();ge[_]=Me[_]=g;var ke=[Me,ge],me=ke.concat(Y[Ue]);ze[Ue]=C1(me)}else{for(ze=new Array(Ee.length-1+Y.length),Ue=0;Ue<Ee.length-1;Ue++)ze[Ue]=C1(Ee[Ue]);var ye=Ee[Ee.length-1].slice();for(ye.reverse(),Ue=0;Ue<Y.length;Ue++)ze[Ee.length-1+Ue]=C1(Y[Ue].concat(ye))}return ze};q.length?(x?(x.datum(n),U&&$&&(d?(U[_]=$[_]=g,f(x).attr("d","M"+$+"L"+U+"L"+F.slice(1)).call(zt.singleFillStyle,e),j=H(null)):(f(x).attr("d",F+"Z").call(zt.singleFillStyle,e),j=ee())),b._polygons=j,b._fillElement=x):M&&(b.fill.slice(0,6)==="tonext"&&F&&c?(b.fill==="tonext"?(f(M).attr("d",F+"Z"+c+"Z").call(zt.singleFillStyle,e),j=ee(),b._polygons=j.concat(A)):(f(M).attr("d",F+"L"+c.slice(1)+"Z").call(zt.singleFillStyle,e),j=H(D),b._polygons=j),b._fillElement=M):V(M)),b._prevRevpath=I):(x?V(x):M&&V(M),b._prevRevpath=null),b._ownPolygons=j;function te(Ee){return Ee.filter(function(ze){return!ze.gap&&ze.vis})}function le(Ee){return Ee.filter(function(ze){return ze.vis})}function ve(Ee){return Ee.filter(function(ze){return!ze.gap})}function Ae(Ee){return Ee.id}function we(Ee){if(Ee.ids)return Ae}function ce(){return!1}function Se(Ee,ze,Ue){var ge,Me,ke,me=Ue[0].trace,ye=Pu.hasMarkers(me),pe=Pu.hasText(me),he=we(me),xe=ce,Le=ce;if(ye||pe){var qe=WE,Ne=me.stackgroup,$e=Ne&&e._fullLayout._scatterStackOpts[h._id+p._id][Ne].stackgaps==="infer zero";me.marker.maxdisplayed||me._needsCull?qe=$e?le:te:Ne&&!$e&&(qe=ve),ye&&(xe=qe),pe&&(Le=qe)}Me=Ee.selectAll("path.point"),ge=Me.data(xe,he);var Ve=ge.enter().append("path").classed("point",!0);s&&Ve.call(zt.pointStyle,me,e).call(zt.translatePoints,h,p).style("opacity",0).transition().style("opacity",1),ge.order();var Be;ye&&(Be=zt.makePointStyleFns(me)),ge.each(function(Ye){var Te=ci.select(this),Re=f(Te);ke=zt.translatePoint(Ye,Re,h,p),ke?(zt.singlePointStyle(Ye,Re,me,Be,e),t.layerClipId&&zt.hideOutsideRangePoint(Ye,Re,h,p,me.xcalendar,me.ycalendar),me.customdata&&Te.classed("plotly-customdata",Ye.data!==null&&Ye.data!==void 0)):Re.remove()}),s?ge.exit().transition().style("opacity",0).remove():ge.exit().remove(),Me=ze.selectAll("g"),ge=Me.data(Le,he),ge.enter().append("g").classed("textpoint",!0).append("text"),ge.order(),ge.each(function(Ye){var Te=ci.select(this),Re=f(Te.select("text"));ke=zt.translatePoint(Ye,Re,h,p),ke?t.layerClipId&&zt.hideOutsideRangePoint(Ye,Te,h,p,me.xcalendar,me.ycalendar):Te.remove()}),ge.selectAll("text").call(zt.textPointStyle,me,e).each(function(Ye){var Te=h.c2p(Ye.x),Re=p.c2p(Ye.y);ci.select(this).selectAll("tspan.line").each(function(){f(ci.select(this)).attr({x:Te,y:Re})})}),ge.exit().remove()}k.datum(n),S.datum(n),Se(k,S,n);var Ce=b.cliponaxis===!1,Fe=Ce?null:t.layerClipId;zt.setClipUrl(k,Fe,e),zt.setClipUrl(S,Fe,e)}function pre(e,r,t,n,a){var o=t.xaxis,i=t.yaxis,l=ci.extent(Ic.simpleMap(o.range,o.r2c)),u=ci.extent(Ic.simpleMap(i.range,i.r2c)),s=n[0].trace;if(Pu.hasMarkers(s)){var f=s.marker.maxdisplayed;if(f!==0){var h=n.filter(function(w){return w.x>=l[0]&&w.x<=l[1]&&w.y>=u[0]&&w.y<=u[1]}),p=Math.ceil(h.length/f),b=0;a.forEach(function(w,T){var m=w[0].trace;Pu.hasMarkers(m)&&m.marker.maxdisplayed>0&&T<r&&b++});var y=Math.round(b*p/3+Math.floor(b/3)*p/7.1);n.forEach(function(w){delete w.vis}),h.forEach(function(w,T){Math.round((T+y)%p)===0&&(w.vis=!0)})}}}});var KE=de((v1e,JE)=>{"use strict";JE.exports={container:"marker",min:"cmin",max:"cmax"}});var $E=de((d1e,QE)=>{"use strict";var E1=Lt();QE.exports=function(r,t,n){var a={},o={_fullLayout:n},i=E1.getFromTrace(o,t,"x"),l=E1.getFromTrace(o,t,"y"),u=r.orig_x;u===void 0&&(u=r.x);var s=r.orig_y;return s===void 0&&(s=r.y),a.xLabel=E1.tickText(i,i.c2l(u),!0).text,a.yLabel=E1.tickText(l,l.c2l(s),!0).text,a}});var Cm=de((p1e,jE)=>{"use strict";var Am=it(),Iu=mt(),gre=Er();function yre(e){var r=Am.select(e).selectAll("g.trace.scatter");r.style("opacity",function(t){return t[0].trace.opacity}),r.selectAll("g.points").each(function(t){var n=Am.select(this),a=t.trace||t[0].trace;km(n,a,e)}),r.selectAll("g.text").each(function(t){var n=Am.select(this),a=t.trace||t[0].trace;Sm(n,a,e)}),r.selectAll("g.trace path.js-line").call(Iu.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(Iu.fillGroupStyle,e,!1),gre.getComponentMethod("errorbars","style")(r)}function km(e,r,t){Iu.pointStyle(e.selectAll("path.point"),r,t)}function Sm(e,r,t){Iu.textPointStyle(e.selectAll("text"),r,t)}function mre(e,r,t){var n=r[0].trace;n.selectedpoints?(Iu.selectedPointStyle(t.selectAll("path.point"),n),Iu.selectedTextStyle(t.selectAll("text"),n)):(km(t,n,e),Sm(t,n,e))}jE.exports={style:yre,stylePoints:km,styleText:Sm,styleOnSelect:mre}});var rL=de((g1e,eL)=>{"use strict";var Fu=Xr(),xre=la();eL.exports=function(r,t){var n,a;if(r.mode==="lines")return n=r.line.color,n&&Fu.opacity(n)?n:r.fillcolor;if(r.mode==="none")return r.fill?r.fillcolor:"";var o=t.mcc||(r.marker||{}).color,i=t.mlcc||((r.marker||{}).line||{}).color;return a=o&&Fu.opacity(o)?o:i&&Fu.opacity(i)&&(t.mlw||((r.marker||{}).line||{}).width)?i:"",a?Fu.opacity(a)<.3?Fu.addOpacity(a,.3):a:(n=(r.line||{}).color,n&&Fu.opacity(n)&&xre.hasLines(r)&&r.line.width?n:r.fillcolor)}});var aL=de((y1e,nL)=>{"use strict";var L1=ir(),tL=fo(),bre=Er(),_re=rL(),Em=Xr(),wre=L1.fillText;nL.exports=function(r,t,n,a){var o=r.cd,i=o[0].trace,l=r.xa,u=r.ya,s=l.c2p(t),f=u.c2p(n),h=[s,f],p=i.hoveron||"",b=i.mode.indexOf("markers")!==-1?3:.5,y=!!i.xperiodalignment,w=!!i.yperiodalignment;if(p.indexOf("points")!==-1){var T=function(I){if(y){var L=l.c2p(I.xStart),P=l.c2p(I.xEnd);return s>=Math.min(L,P)&&s<=Math.max(L,P)?0:1/0}var O=Math.max(3,I.mrc||0),U=1-1/O,X=Math.abs(l.c2p(I.x)-s);return X<O?U*X/O:X-O+U},m=function(I){if(w){var L=u.c2p(I.yStart),P=u.c2p(I.yEnd);return f>=Math.min(L,P)&&f<=Math.max(L,P)?0:1/0}var O=Math.max(3,I.mrc||0),U=1-1/O,X=Math.abs(u.c2p(I.y)-f);return X<O?U*X/O:X-O+U},k=function(I){var L=Math.max(b,I.mrc||0),P=l.c2p(I.x)-s,O=u.c2p(I.y)-f;return Math.max(Math.sqrt(P*P+O*O)-L,1-b/L)},S=tL.getDistanceFunction(a,T,m,k);if(tL.getClosest(o,S,r),r.index!==!1){var x=o[r.index],M=l.c2p(x.x,!0),d=u.c2p(x.y,!0),_=x.mrc||1;r.index=x.i;var g=o[0].t.orientation,c=g&&(x.sNorm||x.s),A=g==="h"?c:x.orig_x!==void 0?x.orig_x:x.x,v=g==="v"?c:x.orig_y!==void 0?x.orig_y:x.y;return L1.extendFlat(r,{color:_re(i,x),x0:M-_,x1:M+_,xLabelVal:A,y0:d-_,y1:d+_,yLabelVal:v,spikeDistance:k(x),hovertemplate:i.hovertemplate}),wre(x,i,r),bre.getComponentMethod("errorbars","hoverInfo")(x,i,r),[r]}}function D(I){if(!I)return!1;var L=I.node();try{var P=new DOMPoint(h[0],h[1]);return L.isPointInFill(P)}catch(U){var O=L.ownerSVGElement.createSVGPoint();return O.x=h[0],O.y=h[1],L.isPointInFill(O)}}function E(I){var L,P=[],O=1/0,U=-1/0,X=1/0,$=-1/0,j;for(L=0;L<I.length;L++){var Y=I[L];Y.contains(h)&&(P.push(Y),X=Math.min(X,Y.ymin),$=Math.max($,Y.ymax))}if(P.length===0)return null;X=Math.max(X,0),$=Math.min($,u._length),j=(X+$)/2;var q,Q,ae,K,oe,re,V;for(L=0;L<P.length;L++)for(Q=P[L].pts,q=1;q<Q.length;q++)re=Q[q-1][1],V=Q[q][1],re>j!=V>=j&&(K=Q[q-1][0],oe=Q[q][0],V-re&&(ae=K+(oe-K)*(j-re)/(V-re),O=Math.min(O,ae),U=Math.max(U,ae)));return O=Math.max(O,0),U=Math.min(U,l._length),{x0:O,x1:U,y0:j,y1:j}}if(p.indexOf("fills")!==-1&&i._fillElement){var R=D(i._fillElement)&&!D(i._fillExclusionElement);if(R){var N=E(i._polygons);N===null&&(N={x0:h[0],x1:h[0],y0:h[1],y1:h[1]});var F=Em.defaultLine;return Em.opacity(i.fillcolor)?F=i.fillcolor:Em.opacity((i.line||{}).color)&&(F=i.line.color),L1.extendFlat(r,{distance:r.maxHoverDistance,x0:N.x0,x1:N.x1,y0:N.y0,y1:N.y1,color:F,hovertemplate:!1}),delete r.index,i.text&&!L1.isArrayOrTypedArray(i.text)?r.text=String(i.text):r.text=i.name,[r]}}}});var lL=de((m1e,oL)=>{"use strict";var iL=la();oL.exports=function(r,t){var n=r.cd,a=r.xaxis,o=r.yaxis,i=[],l=n[0].trace,u,s,f,h,p=!iL.hasMarkers(l)&&!iL.hasText(l);if(p)return[];if(t===!1)for(u=0;u<n.length;u++)n[u].selected=0;else for(u=0;u<n.length;u++)s=n[u],f=a.c2p(s.x),h=o.c2p(s.y),s.i!==null&&t.contains([f,h],!1,u,r)?(i.push({pointNumber:s.i,x:a.c2d(s.x),y:o.c2d(s.y)}),s.selected=1):s.selected=0;return i}});var uL=de((x1e,sL)=>{"use strict";sL.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}});var Dm=de((b1e,hL)=>{"use strict";var Fc=Er().traceIs,Lm=$g();hL.exports=function(r,t,n,a){n("autotypenumbers",a.autotypenumbersDflt);var o=n("type",(a.splomStash||{}).type);o==="-"&&(Mre(t,a.data),t.type==="-"?t.type="linear":r.type=t.type)};function Mre(e,r){if(e.type==="-"){var t=e._id,n=t.charAt(0),a;t.indexOf("scene")!==-1&&(t=n);var o=Tre(r,t,n);if(o){if(o.type==="histogram"&&n==={v:"y",h:"x"}[o.orientation||"v"]){e.type="linear";return}var i=n+"calendar",l=o[i],u={noMultiCategory:!Fc(o,"cartesian")||Fc(o,"noMultiCategory")};if(o.type==="box"&&o._hasPreCompStats&&n==={h:"x",v:"y"}[o.orientation||"v"]&&(u.noMultiCategory=!0),u.autotypenumbers=e.autotypenumbers,cL(o,n)){var s=fL(o),f=[];for(a=0;a<r.length;a++){var h=r[a];!Fc(h,"box-violin")||(h[n+"axis"]||n)!==t||(h[s]!==void 0?f.push(h[s][0]):h.name!==void 0?f.push(h.name):f.push("text"),h[i]!==l&&(l=void 0))}e.type=Lm(f,l,u)}else if(o.type==="splom"){var p=o.dimensions,b=p[o._axesDim[t]];b.visible&&(e.type=Lm(b.values,l,u))}else e.type=Lm(o[n]||[o[n+"0"]],l,u)}}}function Tre(e,r,t){for(var n=0;n<e.length;n++){var a=e[n];if(a.type==="splom"&&a._length>0&&(a["_"+t+"axes"]||{})[r])return a;if((a[t+"axis"]||t)===r){if(cL(a,t))return a;if((a[t]||[]).length||a[t+"0"])return a}}}function fL(e){return{v:"x",h:"y"}[e.orientation||"v"]}function cL(e,r){var t=fL(e),n=Fc(e,"box-violin"),a=Fc(e._fullInput||{},"candlestick");return n&&!a&&r===t&&e[t]===void 0&&e[t+"0"]===void 0}});var dL=de((_1e,vL)=>{"use strict";var Are=ra().isTypedArraySpec;function kre(e,r){var t=r.dataAttr||e._id.charAt(0),n={},a,o,i;if(r.axData)a=r.axData;else for(a=[],o=0;o<r.data.length;o++){var l=r.data[o];l[t+"axis"]===e._id&&a.push(l)}for(o=0;o<a.length;o++){var u=a[o][t];for(i=0;i<u.length;i++){var s=u[i];s!=null&&(n[s]=1)}}return Object.keys(n)}vL.exports=function(r,t,n,a){if(t.type==="category"){var o=r.categoryarray,i=Array.isArray(o)&&o.length>0||Are(o),l;i&&(l="array");var u=n("categoryorder",l),s;u==="array"&&(s=n("categoryarray")),!i&&u==="array"&&(u=t.categoryorder="trace"),u==="trace"?t._initialCategories=[]:u==="array"?t._initialCategories=s.slice():(s=kre(t,a).sort(),u==="category ascending"?t._initialCategories=s:u==="category descending"&&(t._initialCategories=s.reverse()))}}});var yL=de((w1e,gL)=>{"use strict";var pL=Sa().mix,Sre=Si(),Cre=ir();gL.exports=function(r,t,n,a){a=a||{};var o=a.dfltColor;function i(g,c){return Cre.coerce2(r,t,a.attributes,g,c)}var l=i("linecolor",o),u=i("linewidth"),s=n("showline",a.showLine||!!l||!!u);s||(delete t.linecolor,delete t.linewidth);var f=pL(o,a.bgColor,a.blend||Sre.lightFraction).toRgbString(),h=i("gridcolor",f),p=i("gridwidth"),b=i("griddash"),y=n("showgrid",a.showGrid||!!h||!!p||!!b);if(y||(delete t.gridcolor,delete t.gridwidth,delete t.griddash),a.hasMinor){var w=pL(t.gridcolor,a.bgColor,67).toRgbString(),T=i("minor.gridcolor",w),m=i("minor.gridwidth",t.gridwidth||1),k=i("minor.griddash",t.griddash||"solid"),S=n("minor.showgrid",!!T||!!m||!!k);S||(delete t.minor.gridcolor,delete t.minor.gridwidth,delete t.minor.griddash)}if(!a.noZeroLine){var x=i("zerolinelayer"),M=i("zerolinecolor",o),d=i("zerolinewidth"),_=n("zeroline",a.showGrid||!!M||!!d);_||(delete t.zerolinelayer,delete t.zerolinecolor,delete t.zerolinewidth)}}});var R1=de((M1e,ML)=>{"use strict";var mL=nt(),Ere=Er(),Nc=ir(),Lre=yt(),Dre=ai(),Rm=Da(),xL=_g(),bL=Mg(),Rre=kg(),Pre=Sg(),Ire=dL(),Fre=yL(),Nre=x2(),_L=Vh(),D1=on().WEEKDAY_PATTERN,zre=on().HOUR_PATTERN;ML.exports=function(r,t,n,a,o){var i=a.letter,l=a.font||{},u=a.splomStash||{},s=n("visible",!a.visibleDflt),f=t._template||{},h=t.type||f.type||"-",p;if(h==="date"){var b=Ere.getComponentMethod("calendars","handleDefaults");b(r,t,"calendar",a.calendar),a.noTicklabelmode||(p=n("ticklabelmode"))}!a.noTicklabelindex&&(h==="date"||h==="linear")&&n("ticklabelindex");var y="";(!a.noTicklabelposition||h==="multicategory")&&(y=Nc.coerce(r,t,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:p==="period"?["outside","inside"]:i==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),a.noTicklabeloverflow||n("ticklabeloverflow",y.indexOf("inside")!==-1?"hide past domain":h==="category"||h==="multicategory"?"allow":"hide past div"),_L(t,o),Nre(r,t,n,a),Ire(r,t,n,a),a.noHover||(h!=="category"&&n("hoverformat"),a.noUnifiedhovertitle||n("unifiedhovertitle.text"));var w=n("color"),T=w!==Rm.color.dflt?w:l.color,m=u.label||o._dfltTitle[i];if(Pre(r,t,n,h,a),!s)return t;n("title.text",m),Nc.coerceFont(n,"title.font",l,{overrideDflt:{size:Nc.bigFont(l.size),color:T}}),xL(r,t,n,h);var k=a.hasMinor;if(k&&(Lre.newContainer(t,"minor"),xL(r,t,n,h,{isMinor:!0})),Rre(r,t,n,h,a),bL(r,t,n,a),k){var S=a.isMinor;a.isMinor=!0,bL(r,t,n,a),a.isMinor=S}Fre(r,t,n,{dfltColor:w,bgColor:a.bgColor,showGrid:a.showGrid,hasMinor:k,attributes:Rm}),k&&!t.minor.ticks&&!t.minor.showgrid&&delete t.minor,(t.showline||t.ticks)&&n("mirror");var x=h==="multicategory";if(!a.noTickson&&(h==="category"||x)&&(t.ticks||t.showgrid)&&(x?(n("tickson","boundaries"),delete t.ticklabelposition):n("tickson")),x){var M=n("showdividers");M&&(n("dividercolor"),n("dividerwidth"))}if(h==="date")if(Dre(r,t,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:qre}),!t.rangebreaks.length)delete t.rangebreaks;else{for(var d=0;d<t.rangebreaks.length;d++)if(t.rangebreaks[d].pattern===D1){t._hasDayOfWeekBreaks=!0;break}if(_L(t,o),o._has("scattergl")||o._has("splom"))for(var _=0;_<a.data.length;_++){var g=a.data[_];(g.type==="scattergl"||g.type==="splom")&&(g.visible=!1,Nc.warn(g.type+" traces do not work on axes with rangebreaks. Setting trace "+g.index+" to `visible: false`."))}}return t};function qre(e,r,t){function n(p,b){return Nc.coerce(e,r,Rm.rangebreaks,p,b)}var a=n("enabled");if(a){var o=n("bounds");if(o&&o.length>=2){var i="",l,u;if(o.length===2){for(l=0;l<2;l++)if(u=wL(o[l]),u){i=D1;break}}var s=n("pattern",i);if(s===D1)for(l=0;l<2;l++)u=wL(o[l]),u&&(r.bounds[l]=o[l]=u-1);if(s)for(l=0;l<2;l++)switch(u=o[l],s){case D1:if(!mL(u)){r.enabled=!1;return}if(u=+u,u!==Math.floor(u)||u<0||u>=7){r.enabled=!1;return}r.bounds[l]=o[l]=u;break;case zre:if(!mL(u)){r.enabled=!1;return}if(u=+u,u<0||u>24){r.enabled=!1;return}r.bounds[l]=o[l]=u;break}if(t.autorange===!1){var f=t.range;if(f[0]<f[1]){if(o[0]<f[0]&&o[1]>f[1]){r.enabled=!1;return}}else if(o[0]>f[0]&&o[1]<f[1]){r.enabled=!1;return}}}else{var h=n("values");if(h&&h.length)n("dvalue");else{r.enabled=!1;return}}}}var Ore={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function wL(e){if(typeof e=="string")return Ore[e.slice(0,3).toLowerCase()]}});var Pm=de((T1e,TL)=>{"use strict";var Bre=nt(),P1=ir();TL.exports=function(r,t,n,a){var o=a.counterAxes||[],i=a.overlayableAxes||[],l=a.letter,u=a.grid,s=a.overlayingDomain,f,h,p,b,y,w;u&&(h=u._domains[l][u._axisMap[t._id]],f=u._anchors[t._id],h&&(p=u[l+"side"].split(" ")[0],b=u.domain[l][p==="right"||p==="top"?1:0])),h=h||[0,1],f=f||(Bre(r.position)?"free":o[0]||"free"),p=p||(l==="x"?"bottom":"left"),b=b||0,y=0,w=!1;var T=P1.coerce(r,t,{anchor:{valType:"enumerated",values:["free"].concat(o),dflt:f}},"anchor"),m=P1.coerce(r,t,{side:{valType:"enumerated",values:l==="x"?["bottom","top"]:["left","right"],dflt:p}},"side");if(T==="free"){if(l==="y"){var k=n("autoshift");k&&(b=m==="left"?s[0]:s[1],w=t.automargin?t.automargin:!0,y=m==="left"?-3:3),n("shift",y)}n("position",b)}n("automargin",w);var S=!1;if(i.length&&(S=P1.coerce(r,t,{overlaying:{valType:"enumerated",values:[!1].concat(i),dflt:!1}},"overlaying")),!S){var x=n("domain",h);x[0]>x[1]-1/4096&&(t.domain=h),P1.noneOrAll(r.domain,t.domain,h),t.tickmode==="sync"&&(t.tickmode="auto")}return n("layer"),t}});var PL=de((A1e,RL)=>{"use strict";var hs=ir(),AL=Xr(),Ure=so().isUnifiedHover,Hre=Y2(),kL=yt(),Vre=Vs(),SL=Da(),Gre=Dm(),CL=R1(),Yre=rc(),EL=Pm(),Fm=en(),Wi=Fm.id2name,LL=Fm.name2id,Wre=on().AX_ID_PATTERN,DL=Er(),I1=DL.traceIs,Im=DL.getComponentMethod;function F1(e,r,t){Array.isArray(e[r])?e[r].push(t):e[r]=[t]}RL.exports=function(r,t,n){var a=t.autotypenumbers,o={},i={},l={},u={},s={},f={},h={},p={},b={},y={},w,T;for(w=0;w<n.length;w++){var m=n[w];if(I1(m,"cartesian")){var k;if(m.xaxis)k=Wi(m.xaxis),F1(o,k,m);else if(m.xaxes)for(T=0;T<m.xaxes.length;T++)F1(o,Wi(m.xaxes[T]),m);var S;if(m.yaxis)S=Wi(m.yaxis),F1(o,S,m);else if(m.yaxes)for(T=0;T<m.yaxes.length;T++)F1(o,Wi(m.yaxes[T]),m);if(m.type==="funnel"?m.orientation==="h"?(k&&(i[k]=!0),S&&(h[S]=!0)):S&&(l[S]=!0):m.type==="image"?(S&&(p[S]=!0),k&&(p[k]=!0)):(S&&(s[S]=!0,f[S]=!0),(!I1(m,"carpet")||m.type==="carpet"&&!m._cheater)&&k&&(u[k]=!0)),m.type==="carpet"&&m._cheater&&k&&(i[k]=!0),I1(m,"2dMap")&&(b[k]=!0,b[S]=!0),I1(m,"oriented")){var x=m.orientation==="h"?S:k;y[x]=!0}}}var M=t._subplots,d=M.xaxis,_=M.yaxis,g=hs.simpleMap(d,Wi),c=hs.simpleMap(_,Wi),A=g.concat(c),v=AL.background;d.length&&_.length&&(v=hs.coerce(r,t,Vre,"plot_bgcolor"));var D=AL.combine(v,t.paper_bgcolor),E,R,N,F,I;function L(){var Me=o[E]||[];I._traceIndices=Me.map(function(ke){return ke.index}),I._annIndices=[],I._shapeIndices=[],I._selectionIndices=[],I._imgIndices=[],I._subplotsWith=[],I._counterAxes=[],I._name=I._attr=E,I._id=R}function P(Me,ke){return hs.coerce(F,I,SL,Me,ke)}function O(Me,ke){return hs.coerce2(F,I,SL,Me,ke)}function U(Me){return Me==="x"?_:d}function X(Me,ke){for(var me=Me==="x"?g:c,ye=[],pe=0;pe<me.length;pe++){var he=me[pe];he!==ke&&!(r[he]||{}).overlaying&&ye.push(LL(he))}return ye}var $={x:U("x"),y:U("y")},j=$.x.concat($.y),Y={},q=[];function Q(){var Me=F.matches;Wre.test(Me)&&j.indexOf(Me)===-1&&(Y[Me]=F.type,q=Object.keys(Y))}var ae=Hre(r,t),K=Ure(ae);for(w=0;w<A.length;w++){E=A[w],R=LL(E),N=E.charAt(0),hs.isPlainObject(r[E])||(r[E]={}),F=r[E],I=kL.newContainer(t,E,N+"axis"),L();var oe=N==="x"&&!u[E]&&i[E]||N==="y"&&!s[E]&&l[E],re=N==="y"&&(!f[E]&&h[E]||p[E]),V={hasMinor:!0,letter:N,font:t.font,outerTicks:b[E],showGrid:!y[E],data:o[E]||[],bgColor:D,calendar:t.calendar,automargin:!0,visibleDflt:oe,reverseDflt:re,autotypenumbersDflt:a,splomStash:((t._splomAxes||{})[N]||{})[R],noAutotickangles:N==="y"};P("uirevision",t.uirevision),Gre(F,I,P,V),CL(F,I,P,V,t);var ee=K&&N===ae.charAt(0),H=O("spikecolor",K?I.color:void 0),te=O("spikethickness",K?1.5:void 0),le=O("spikedash",K?"dot":void 0),ve=O("spikemode",K?"across":void 0),Ae=O("spikesnap"),we=P("showspikes",!!ee||!!H||!!te||!!le||!!ve||!!Ae);we||(delete I.spikecolor,delete I.spikethickness,delete I.spikedash,delete I.spikemode,delete I.spikesnap);var ce=Wi(F.overlaying),Se=[0,1];if(t[ce]!==void 0){var Ce=Wi(t[ce].anchor);t[Ce]!==void 0&&(Se=t[Ce].domain)}EL(F,I,P,{letter:N,counterAxes:$[N],overlayableAxes:X(N,E),grid:t.grid,overlayingDomain:Se}),P("title.standoff"),Q(),I._input=F}for(w=0;w<q.length;){R=q[w++],E=Wi(R),N=E.charAt(0),hs.isPlainObject(r[E])||(r[E]={}),F=r[E],I=kL.newContainer(t,E,N+"axis"),L();var Fe={letter:N,font:t.font,outerTicks:b[E],showGrid:!y[E],data:[],bgColor:D,calendar:t.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:a,splomStash:((t._splomAxes||{})[N]||{})[R]};P("uirevision",t.uirevision),I.type=Y[R]||"linear",CL(F,I,P,Fe,t),EL(F,I,P,{letter:N,counterAxes:$[N],overlayableAxes:X(N,E),grid:t.grid}),P("fixedrange"),P("modebardisable"),Q(),I._input=F}var Ee=Im("rangeslider","handleDefaults"),ze=Im("rangeselector","handleDefaults");for(w=0;w<g.length;w++)E=g[w],F=r[E],I=t[E],Ee(r,t,E),I.type==="date"&&ze(F,I,t,c,I.calendar),P("fixedrange"),P("modebardisable");for(w=0;w<c.length;w++){E=c[w],F=r[E],I=t[E];var Ue=t[Wi(I.anchor)],ge=Im("rangeslider","isVisible")(Ue);P("fixedrange",ge),P("modebardisable")}Yre.handleDefaults(r,t,{axIds:j.concat(q).sort(Fm.idSort),axHasImage:p})}});var NL=de((k1e,FL)=>{"use strict";var Xre=it(),IL=Er(),N1=ir(),xa=mt(),z1=Lt();FL.exports=function(r,t,n,a){var o=r._fullLayout;if(t.length===0){z1.redrawComponents(r);return}function i(T){var m=T.xaxis,k=T.yaxis;o._defs.select("#"+T.clipId+"> rect").call(xa.setTranslate,0,0).call(xa.setScale,1,1),T.plot.call(xa.setTranslate,m._offset,k._offset).call(xa.setScale,1,1);var S=T.plot.selectAll(".scatterlayer .trace");S.selectAll(".point").call(xa.setPointGroupScale,1,1),S.selectAll(".textpoint").call(xa.setTextPointsScale,1,1),S.call(xa.hideOutsideRangePoints,T)}function l(T,m){var k=T.plotinfo,S=k.xaxis,x=k.yaxis,M=S._length,d=x._length,_=!!T.xr1,g=!!T.yr1,c=[];if(_){var A=N1.simpleMap(T.xr0,S.r2l),v=N1.simpleMap(T.xr1,S.r2l),D=A[1]-A[0],E=v[1]-v[0];c[0]=(A[0]*(1-m)+m*v[0]-A[0])/(A[1]-A[0])*M,c[2]=M*(1-m+m*E/D),S.range[0]=S.l2r(A[0]*(1-m)+m*v[0]),S.range[1]=S.l2r(A[1]*(1-m)+m*v[1])}else c[0]=0,c[2]=M;if(g){var R=N1.simpleMap(T.yr0,x.r2l),N=N1.simpleMap(T.yr1,x.r2l),F=R[1]-R[0],I=N[1]-N[0];c[1]=(R[1]*(1-m)+m*N[1]-R[1])/(R[0]-R[1])*d,c[3]=d*(1-m+m*I/F),x.range[0]=S.l2r(R[0]*(1-m)+m*N[0]),x.range[1]=x.l2r(R[1]*(1-m)+m*N[1])}else c[1]=0,c[3]=d;z1.drawOne(r,S,{skipTitle:!0}),z1.drawOne(r,x,{skipTitle:!0}),z1.redrawComponents(r,[S._id,x._id]);var L=_?M/c[2]:1,P=g?d/c[3]:1,O=_?c[0]:0,U=g?c[1]:0,X=_?c[0]/c[2]*M:0,$=g?c[1]/c[3]*d:0,j=S._offset-X,Y=x._offset-$;k.clipRect.call(xa.setTranslate,O,U).call(xa.setScale,1/L,1/P),k.plot.call(xa.setTranslate,j,Y).call(xa.setScale,L,P),xa.setPointGroupScale(k.zoomScalePts,1/L,1/P),xa.setTextPointsScale(k.zoomScaleTxt,1/L,1/P)}var u;a&&(u=a());function s(){for(var T={},m=0;m<t.length;m++){var k=t[m],S=k.plotinfo.xaxis,x=k.plotinfo.yaxis;k.xr1&&(T[S._name+".range"]=k.xr1.slice()),k.yr1&&(T[x._name+".range"]=k.yr1.slice())}return u&&u(),IL.call("relayout",r,T).then(function(){for(var M=0;M<t.length;M++)i(t[M].plotinfo)})}function f(){for(var T={},m=0;m<t.length;m++){var k=t[m],S=k.plotinfo.xaxis,x=k.plotinfo.yaxis;k.xr0&&(T[S._name+".range"]=k.xr0.slice()),k.yr0&&(T[x._name+".range"]=k.yr0.slice())}return IL.call("relayout",r,T).then(function(){for(var M=0;M<t.length;M++)i(t[M].plotinfo)})}var h,p,b,y=Xre.ease(n.easing);r._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(b),b=null,f()});function w(){p=Date.now();for(var T=Math.min(1,(p-h)/n.duration),m=y(T),k=0;k<t.length;k++)l(t[k],m);p-h>n.duration?(s(),b=window.cancelAnimationFrame(w)):b=window.requestAnimationFrame(w)}return h=Date.now(),b=window.requestAnimationFrame(w),Promise.resolve()}});var Nm=de(Dn=>{"use strict";var O1=it(),zL=Er(),vs=ir(),Zre=ln(),Jre=mt(),qL=Lf().getModuleCalcData,il=en(),hi=on(),Kre=Ho(),lt=vs.ensureSingle;function q1(e,r,t){return vs.ensureSingle(e,r,t,function(n){n.datum(t)})}var ds=hi.zindexSeparator;Dn.name="cartesian";Dn.attr=["xaxis","yaxis"];Dn.idRoot=["x","y"];Dn.idRegex=hi.idRegex;Dn.attrRegex=hi.attrRegex;Dn.attributes=uL();Dn.layoutAttributes=Da();Dn.supplyLayoutDefaults=PL();Dn.transitionAxes=NL();Dn.finalizeSubplots=function(e,r){var t=r._subplots,n=t.xaxis,a=t.yaxis,o=t.cartesian,i=o,l={},u={},s,f,h;for(s=0;s<i.length;s++){var p=i[s].split("y");l[p[0]]=1,u["y"+p[1]]=1}for(s=0;s<n.length;s++)f=n[s],l[f]||(h=(e[il.id2name(f)]||{}).anchor,hi.idRegex.y.test(h)||(h="y"),o.push(f+h),i.push(f+h),u[h]||(u[h]=1,vs.pushUnique(a,h)));for(s=0;s<a.length;s++)h=a[s],u[h]||(f=(e[il.id2name(h)]||{}).anchor,hi.idRegex.x.test(f)||(f="x"),o.push(f+h),i.push(f+h),l[f]||(l[f]=1,vs.pushUnique(n,f)));if(!i.length){f="",h="";for(var b in e)if(hi.attrRegex.test(b)){var y=b.charAt(0);y==="x"?(!f||+b.slice(5)<+f.slice(5))&&(f=b):(!h||+b.slice(5)<+h.slice(5))&&(h=b)}f=f?il.name2id(f):"x",h=h?il.name2id(h):"y",n.push(f),a.push(h),o.push(f+h)}};Dn.plot=function(e,r,t,n){var a=e._fullLayout,o=a._subplots.cartesian,i=e.calcdata,l;if(!Array.isArray(r))for(r=[],l=0;l<i.length;l++)r.push(l);for(var u=a._zindices,s=0;s<u.length;s++){var f=u[s];for(l=0;l<o.length;l++){var h=o[l],p=a._plots[h];if(s>0){var b=p.id;if(b.indexOf(ds)!==-1)continue;b+=ds+(s+1),p=vs.extendFlat({},p,{id:b,plot:a._cartesianlayer.selectAll(".subplot").select("."+b)})}for(var y=[],w,T=0;T<i.length;T++){var m=i[T],k=m[0].trace;f===(k.zorder||0)&&k.xaxis+k.yaxis===h&&((r.indexOf(k.index)!==-1||k.carpet)&&(w&&w[0].trace.xaxis+w[0].trace.yaxis===h&&["tonextx","tonexty","tonext"].indexOf(k.fill)!==-1&&y.indexOf(w)===-1&&y.push(w),y.push(m)),w=m)}OL(e,p,y,t,n)}}};function OL(e,r,t,n,a){for(var o=hi.traceLayerClasses,i=e._fullLayout,l=i._zindices,u=i._modules,s,f,h,p=[],b=[],y=0;y<l.length;y++)for(var w=l[y],T=0;T<u.length;T++){s=u[T];var m=s.name,k=zL.modules[m].categories;if(k.svg){var S=s.layerName||m+"layer",x=S+(y?Number(y)+1:""),M=s.plot;f=qL(t,M,w),h=f[0],t=f[1],h.length&&p.push({i:o.indexOf(S),zindex:y,className:x,plotMethod:M,cdModule:h}),k.zoomScale&&b.push("."+x)}}p.sort(function(g,c){return(g.zindex||0)-(c.zindex||0)||g.i-c.i});var d=r.plot.selectAll("g.mlayer").data(p,function(g){return g.className});if(d.enter().append("g").attr("class",function(g){return g.className}).classed("mlayer",!0).classed("rangeplot",r.isRangePlot),d.exit().remove(),d.order(),d.each(function(g){var c=O1.select(this),A=g.className;g.plotMethod(e,r,g.cdModule,c,n,a),hi.clipOnAxisFalseQuery.indexOf("."+A)===-1&&Jre.setClipUrl(c,r.layerClipId,e)}),i._has("scattergl")&&(s=zL.getModule("scattergl"),h=qL(t,s)[0],s.plot(e,r,h)),!e._context.staticPlot&&(r._hasClipOnAxisFalse&&(r.clipOnAxisFalseTraces=r.plot.selectAll(hi.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),b.length)){var _=r.plot.selectAll(b.join(",")).selectAll(".trace");r.zoomScalePts=_.selectAll("path.point"),r.zoomScaleTxt=_.selectAll(".textpoint")}}Dn.clean=function(e,r,t,n){var a=n._plots||{},o=r._plots||{},i=n._subplots||{},l,u,s;if(n._hasOnlyLargeSploms&&!r._hasOnlyLargeSploms)for(s in a)l=a[s],l.plotgroup&&l.plotgroup.remove();var f=n._has&&n._has("gl"),h=r._has&&r._has("gl");if(f&&!h)for(s in a)l=a[s],l._scene&&l._scene.destroy();if(i.xaxis&&i.yaxis){var p=il.listIds({_fullLayout:n});for(u=0;u<p.length;u++){var b=p[u];r[il.id2name(b)]||n._infolayer.selectAll(".g-"+b+"title").remove()}}var y=n._has&&n._has("cartesian"),w=r._has&&r._has("cartesian");if(y&&!w)UL(n._cartesianlayer.selectAll(".subplot"),n),n._defs.selectAll(".axesclip").remove(),delete n._axisConstraintGroups,delete n._axisMatchGroups;else if(i.cartesian)for(u=0;u<i.cartesian.length;u++){var T=i.cartesian[u];if(T.indexOf(ds)===-1&&!o[T]){var m="."+T+",."+T+"-x,."+T+"-y";n._cartesianlayer.selectAll(m).remove(),HL(T,n)}}};Dn.drawFramework=function(e){var r=e._fullLayout,t=e.calcdata,n,a={};for(n=0;n<t.length;n++){var o=t[n][0],i=o.trace,l=i.zorder||0;a[l]||(a[l]=[]),a[l].push(o)}var u=Object.keys(a).map(Number).sort(vs.sorterAsc);u.length||(u=[0]),r._zindices=u;var s=Qre(e),f=s.length,h=[];for(n=0;n<f;n++)h[n]=s[n].slice();for(var p=1;p<u.length;p++){var b=[];for(n=0;n<f;n++)b[n]=s[n].slice(),b[n][0]+=ds+(p+1);h=h.concat(b)}var y=r._cartesianlayer.selectAll(".subplot").data(h,String);y.enter().append("g").attr("class",function(w){return"subplot "+w[0]}),y.order(),y.exit().call(UL,r),y.each(function(w){var T=w[0],m=T.indexOf(ds),k=m!==-1,S=k?T.slice(0,m):T,x=r._plots[T];x||(x=vs.extendFlat({},r._plots[S]),x&&(x.id=T,r._plots[T]=x,r._subplots.cartesian.push(T))),x&&(x.plotgroup=O1.select(this),BL(e,x),k||(x.draglayer=lt(r._draggers,"g",T)))})};Dn.rangePlot=function(e,r,t){BL(e,r),OL(e,r,t),Zre.style(e)};function Qre(e){var r=e._fullLayout,t=r._zindices.length,n=r._subplots.cartesian,a=n.length,o,i,l,u,s,f,h=[],p=[];for(o=0;o<a;o++){l=n[o],u=r._plots[l],s=u.xaxis,f=u.yaxis;var b=s._mainAxis,y=f._mainAxis,w=b._id+y._id,T=r._plots[w];u.overlays=[],w!==l&&T?(u.mainplot=w,u.mainplotinfo=T,p.push(l)):(u.mainplot=void 0,u.mainplotinfo=void 0,h.push(l))}for(o=0;o<p.length;o++)l=p[o],u=r._plots[l],u.mainplotinfo.overlays.push(u);var m=h.concat(p),k=[];for(o=0;o<a;o++){l=m[o],u=r._plots[l],s=u.xaxis,f=u.yaxis;for(var S=[],x=1;x<=t;x++){var M="";for(x>1&&(M+=ds+x),S.push(l+M),i=0;i<u.overlays.length;i++)S.push(u.overlays[i].id+M)}S=S.concat([s.layer,f.layer,s.overlaying||"",f.overlaying||""]),k.push(S)}return k}function BL(e,r){var t=e._fullLayout,n=r.plotgroup,a=r.id,o=a.indexOf(ds),i=o!==-1,l=hi.layerValue2layerClass[r.xaxis.layer],u=hi.layerValue2layerClass[r.yaxis.layer],s=t._hasOnlyLargeSploms,f=t._zindices.length>1,h=r.mainplotinfo;if(!r.mainplot||f)if(s)r.xlines=lt(n,"path","xlines-above"),r.ylines=lt(n,"path","ylines-above"),r.xaxislayer=lt(n,"g","xaxislayer-above"),r.yaxislayer=lt(n,"g","yaxislayer-above");else{if(!i){var p=lt(n,"g","layer-subplot");r.shapelayer=lt(p,"g","shapelayer"),r.imagelayer=lt(p,"g","imagelayer"),h&&f?(r.minorGridlayer=h.minorGridlayer,r.gridlayer=h.gridlayer,r.zerolinelayer=h.zerolinelayer):(r.minorGridlayer=lt(n,"g","minor-gridlayer"),r.gridlayer=lt(n,"g","gridlayer"),r.zerolinelayer=lt(n,"g","zerolinelayer"));var b=lt(n,"g","layer-between");r.shapelayerBetween=lt(b,"g","shapelayer"),r.imagelayerBetween=lt(b,"g","imagelayer"),lt(n,"path","xlines-below"),lt(n,"path","ylines-below"),r.overlinesBelow=lt(n,"g","overlines-below"),lt(n,"g","xaxislayer-below"),lt(n,"g","yaxislayer-below"),r.overaxesBelow=lt(n,"g","overaxes-below")}r.overplot=lt(n,"g","overplot"),r.plot=lt(r.overplot,"g",a),h&&f?r.zerolinelayerAbove=h.zerolinelayerAbove:r.zerolinelayerAbove=lt(n,"g","zerolinelayer-above"),i||(r.xlines=lt(n,"path","xlines-above"),r.ylines=lt(n,"path","ylines-above"),r.overlinesAbove=lt(n,"g","overlines-above"),lt(n,"g","xaxislayer-above"),lt(n,"g","yaxislayer-above"),r.overaxesAbove=lt(n,"g","overaxes-above"),r.xlines=n.select(".xlines-"+l),r.ylines=n.select(".ylines-"+u),r.xaxislayer=n.select(".xaxislayer-"+l),r.yaxislayer=n.select(".yaxislayer-"+u))}else{var y=h.plotgroup,w=a+"-x",T=a+"-y";r.minorGridlayer=h.minorGridlayer,r.gridlayer=h.gridlayer,r.zerolinelayer=h.zerolinelayer,r.zerolinelayerAbove=h.zerolinelayerAbove,lt(h.overlinesBelow,"path",w),lt(h.overlinesBelow,"path",T),lt(h.overaxesBelow,"g",w),lt(h.overaxesBelow,"g",T),r.plot=lt(h.overplot,"g",a),lt(h.overlinesAbove,"path",w),lt(h.overlinesAbove,"path",T),lt(h.overaxesAbove,"g",w),lt(h.overaxesAbove,"g",T),r.xlines=y.select(".overlines-"+l).select("."+w),r.ylines=y.select(".overlines-"+u).select("."+T),r.xaxislayer=y.select(".overaxes-"+l).select("."+w),r.yaxislayer=y.select(".overaxes-"+u).select("."+T)}i||(s||(q1(r.minorGridlayer,"g",r.xaxis._id),q1(r.minorGridlayer,"g",r.yaxis._id),r.minorGridlayer.selectAll("g").map(function(m){return m[0]}).sort(il.idSort),q1(r.gridlayer,"g",r.xaxis._id),q1(r.gridlayer,"g",r.yaxis._id),r.gridlayer.selectAll("g").map(function(m){return m[0]}).sort(il.idSort)),r.xlines.style("fill","none").classed("crisp",!0),r.ylines.style("fill","none").classed("crisp",!0))}function UL(e,r){if(e){var t={};e.each(function(u){var s=u[0],f=O1.select(this);f.remove(),HL(s,r),t[s]=!0});for(var n in r._plots)for(var a=r._plots[n],o=a.overlays||[],i=0;i<o.length;i++){var l=o[i];t[l.id]&&l.plot.selectAll(".trace").remove()}}}function HL(e,r){r._draggers.selectAll("g."+e).remove(),r._defs.select("#clip"+r._uid+e+"plot").remove()}Dn.toSVG=function(e){var r=e._fullLayout._glimages,t=O1.select(e).selectAll(".svg-container"),n=t.filter(function(o,i){return i===t.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function a(){var o=this,i=o.toDataURL("image/png"),l=r.append("svg:image");l.attr({xmlns:Kre.svg,"xlink:href":i,preserveAspectRatio:"none",x:0,y:0,width:o.style.width,height:o.style.height})}n.each(a)};Dn.updateFx=Hy().updateFx});var GL=de((C1e,VL)=>{"use strict";var B1=la();VL.exports={hasLines:B1.hasLines,hasMarkers:B1.hasMarkers,hasText:B1.hasText,isBubble:B1.isBubble,attributes:ss(),layoutAttributes:mh(),supplyDefaults:jC(),crossTraceDefaults:nE(),supplyLayoutDefaults:iE(),calc:ym().calc,crossTraceCalc:IE(),arraysToCalcdata:T1(),plot:ZE(),colorbar:KE(),formatLabels:$E(),style:Cm().style,styleOnSelect:Cm().styleOnSelect,hoverPoints:aL(),selectPoints:lL(),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:Nm(),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}});var XL=de((E1e,WL)=>{"use strict";var $re=it(),jre=Xr(),YL=Iy(),zm=ir(),ete=zm.strScale,rte=zm.strRotate,tte=zm.strTranslate;WL.exports=function(r,t,n){var a=r.node(),o=YL[n.arrowhead||0],i=YL[n.startarrowhead||0],l=(n.arrowwidth||1)*(n.arrowsize||1),u=(n.arrowwidth||1)*(n.startarrowsize||1),s=t.indexOf("start")>=0,f=t.indexOf("end")>=0,h=o.backoff*l+n.standoff,p=i.backoff*u+n.startstandoff,b,y,w,T;if(a.nodeName==="line"){b={x:+r.attr("x1"),y:+r.attr("y1")},y={x:+r.attr("x2"),y:+r.attr("y2")};var m=b.x-y.x,k=b.y-y.y;if(w=Math.atan2(k,m),T=w+Math.PI,h&&p&&h+p>Math.sqrt(m*m+k*k)){R();return}if(h){if(h*h>m*m+k*k){R();return}var S=h*Math.cos(w),x=h*Math.sin(w);y.x+=S,y.y+=x,r.attr({x2:y.x,y2:y.y})}if(p){if(p*p>m*m+k*k){R();return}var M=p*Math.cos(w),d=p*Math.sin(w);b.x-=M,b.y-=d,r.attr({x1:b.x,y1:b.y})}}else if(a.nodeName==="path"){var _=a.getTotalLength(),g="";if(_<h+p){R();return}var c=a.getPointAtLength(0),A=a.getPointAtLength(.1);w=Math.atan2(c.y-A.y,c.x-A.x),b=a.getPointAtLength(Math.min(p,_)),g="0px,"+p+"px,";var v=a.getPointAtLength(_),D=a.getPointAtLength(_-.1);T=Math.atan2(v.y-D.y,v.x-D.x),y=a.getPointAtLength(Math.max(0,_-h));var E=g?p+h:h;g+=_-E+"px,"+_+"px",r.style("stroke-dasharray",g)}function R(){r.style("stroke-dasharray","0px,100px")}function N(F,I,L,P){F.path&&(F.noRotate&&(L=0),$re.select(a.parentNode).append("path").attr({class:r.attr("class"),d:F.path,transform:tte(I.x,I.y)+rte(L*180/Math.PI)+ete(P)}).style({fill:jre.rgb(n.arrowcolor),"stroke-width":0}))}s&&N(i,b,w,u),f&&N(o,y,T,l)}});var U1=de((L1e,$L)=>{"use strict";var ZL=it(),qm=Er(),nte=ln(),ll=ir(),Om=ll.strTranslate,qc=Lt(),ps=Xr(),mo=mt(),JL=fo(),Bm=On(),Um=Ko(),zc=oi(),ate=yt().arrayEditor,ite=XL();$L.exports={draw:ote,drawOne:KL,drawRaw:QL};function ote(e){var r=e._fullLayout;r._infolayer.selectAll(".annotation").remove();for(var t=0;t<r.annotations.length;t++)r.annotations[t].visible&&KL(e,t);return nte.previousPromises(e)}function KL(e,r){var t=e._fullLayout,n=t.annotations[r]||{},a=qc.getFromId(e,n.xref),o=qc.getFromId(e,n.yref);a&&a.setScale(),o&&o.setScale(),QL(e,n,r,!1,a,o)}function ol(e,r,t,n,a){var o=a[t],i=a[t+"ref"],l=t.indexOf("y")!==-1,u=qc.getRefType(i)==="domain",s=l?n.h:n.w;return e?u?o+(l?-r:r)/e._length:e.p2r(e.r2p(o)+r):o+(l?-r:r)/s}function QL(e,r,t,n,a,o){var i=e._fullLayout,l=e._fullLayout._size,u=e._context.edits,s,f;n?(s="annotation-"+n,f=n+".annotations"):(s="annotation",f="annotations");var h=ate(e.layout,f,r),p=h.modifyBase,b=h.modifyItem,y=h.getUpdateObj;i._infolayer.selectAll("."+s+'[data-index="'+t+'"]').remove();var w="clip"+i._uid+"_ann"+t;if(!r._input||r.visible===!1){ZL.selectAll("#"+w).remove();return}var T={x:{},y:{}},m=+r.textangle||0,k=i._infolayer.append("g").classed(s,!0).attr("data-index",String(t)).style("opacity",r.opacity),S=k.append("g").classed("annotation-text-g",!0),x=u[r.showarrow?"annotationTail":"annotationPosition"],M=r.captureevents||u.annotationText||x;function d(P){var O={index:t,annotation:r._input,fullAnnotation:r,event:P};return n&&(O.subplotId=n),O}var _=S.append("g").style("pointer-events",M?"all":null).call(Um,"pointer").on("click",function(){e._dragging=!1,e.emit("plotly_clickannotation",d(ZL.event))});r.hovertext&&_.on("mouseover",function(){var P=r.hoverlabel,O=P.font,U=this.getBoundingClientRect(),X=e.getBoundingClientRect();JL.loneHover({x0:U.left-X.left,x1:U.right-X.left,y:(U.top+U.bottom)/2-X.top,text:r.hovertext,color:P.bgcolor,borderColor:P.bordercolor,fontFamily:O.family,fontSize:O.size,fontColor:O.color,fontWeight:O.weight,fontStyle:O.style,fontVariant:O.variant,fontShadow:O.fontShadow,fontLineposition:O.fontLineposition,fontTextcase:O.fontTextcase},{container:i._hoverlayer.node(),outerContainer:i._paper.node(),gd:e})}).on("mouseout",function(){JL.loneUnhover(i._hoverlayer.node())});var g=r.borderwidth,c=r.borderpad,A=g+c,v=_.append("rect").attr("class","bg").style("stroke-width",g+"px").call(ps.stroke,r.bordercolor).call(ps.fill,r.bgcolor),D=r.width||r.height,E=i._topclips.selectAll("#"+w).data(D?[0]:[]);E.enter().append("clipPath").classed("annclip",!0).attr("id",w).append("rect"),E.exit().remove();var R=r.font,N=i._meta?ll.templateString(r.text,i._meta):r.text,F=_.append("text").classed("annotation-text",!0).text(N);function I(P){return P.call(mo.font,R).attr({"text-anchor":{left:"start",right:"end"}[r.align]||"middle"}),Bm.convertToTspans(P,e,L),P}function L(){var P=F.selectAll("a");if(P.size()===1&&P.text()===F.text()){var O=_.insert("a",":first-child").attr({"xlink:xlink:href":P.attr("xlink:href"),"xlink:xlink:show":P.attr("xlink:show")}).style({cursor:"pointer"});O.node().appendChild(v.node())}var U=_.select(".annotation-text-math-group"),X=!U.empty(),$=mo.bBox((X?U:F).node()),j=$.width,Y=$.height,q=r.width||j,Q=r.height||Y,ae=Math.round(q+2*A),K=Math.round(Q+2*A);function oe(Qe,Ke){return Ke==="auto"&&(Qe<1/3?Ke="left":Qe>2/3?Ke="right":Ke="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Ke]}for(var re=!1,V=["x","y"],ee=0;ee<V.length;ee++){var H=V[ee],te=r[H+"ref"]||H,le=r["a"+H+"ref"],ve={x:a,y:o}[H],Ae=(m+(H==="x"?0:-90))*Math.PI/180,we=ae*Math.cos(Ae),ce=K*Math.sin(Ae),Se=Math.abs(we)+Math.abs(ce),Ce=r[H+"anchor"],Fe=r[H+"shift"]*(H==="x"?1:-1),Ee=T[H],ze,Ue,ge,Me,ke,me=qc.getRefType(te);if(ve&&me!=="domain"){var ye=ve.r2fraction(r[H]);(ye<0||ye>1)&&(le===te?(ye=ve.r2fraction(r["a"+H]),(ye<0||ye>1)&&(re=!0)):re=!0),ze=ve._offset+ve.r2p(r[H]),Me=.5}else{var pe=me==="domain";H==="x"?(ge=r[H],ze=pe?ve._offset+ve._length*ge:ze=l.l+l.w*ge):(ge=1-r[H],ze=pe?ve._offset+ve._length*ge:ze=l.t+l.h*ge),Me=r.showarrow?.5:ge}if(r.showarrow){Ee.head=ze;var he=r["a"+H];if(ke=we*oe(.5,r.xanchor)-ce*oe(.5,r.yanchor),le===te){var xe=qc.getRefType(le);xe==="domain"?(H==="y"&&(he=1-he),Ee.tail=ve._offset+ve._length*he):xe==="paper"?H==="y"?(he=1-he,Ee.tail=l.t+l.h*he):Ee.tail=l.l+l.w*he:Ee.tail=ve._offset+ve.r2p(he),Ue=ke}else Ee.tail=ze+he,Ue=ke+he;Ee.text=Ee.tail+ke;var Le=i[H==="x"?"width":"height"];if(te==="paper"&&(Ee.head=ll.constrain(Ee.head,1,Le-1)),le==="pixel"){var qe=-Math.max(Ee.tail-3,Ee.text),Ne=Math.min(Ee.tail+3,Ee.text)-Le;qe>0?(Ee.tail+=qe,Ee.text+=qe):Ne>0&&(Ee.tail-=Ne,Ee.text-=Ne)}Ee.tail+=Fe,Ee.head+=Fe}else ke=Se*oe(Me,Ce),Ue=ke,Ee.text=ze+ke;Ee.text+=Fe,ke+=Fe,Ue+=Fe,r["_"+H+"padplus"]=Se/2+Ue,r["_"+H+"padminus"]=Se/2-Ue,r["_"+H+"size"]=Se,r["_"+H+"shift"]=ke}if(re){_.remove();return}var $e=0,Ve=0;if(r.align!=="left"&&($e=(q-j)*(r.align==="center"?.5:1)),r.valign!=="top"&&(Ve=(Q-Y)*(r.valign==="middle"?.5:1)),X)U.select("svg").attr({x:A+$e-1,y:A+Ve}).call(mo.setClipUrl,D?w:null,e);else{var Be=A+Ve-$.top,Ye=A+$e-$.left;F.call(Bm.positionText,Ye,Be).call(mo.setClipUrl,D?w:null,e)}E.select("rect").call(mo.setRect,A,A,q,Q),v.call(mo.setRect,g/2,g/2,ae-g,K-g),_.call(mo.setTranslate,Math.round(T.x.text-ae/2),Math.round(T.y.text-K/2)),S.attr({transform:"rotate("+m+","+T.x.text+","+T.y.text+")"});var Te=function(Qe,Ke){k.selectAll(".annotation-arrow-g").remove();var ar=T.x.head,ue=T.y.head,J=T.x.tail+Qe,ne=T.y.tail+Ke,De=T.x.text+Qe,He=T.y.text+Ke,er=ll.rotationXYMatrix(m,De,He),nr=ll.apply2DTransform(er),fr=ll.apply2DTransform2(er),br=+v.attr("width"),Sr=+v.attr("height"),Mr=De-.5*br,Ar=Mr+br,ft=He-.5*Sr,sr=ft+Sr,Pr=[[Mr,ft,Mr,sr],[Mr,sr,Ar,sr],[Ar,sr,Ar,ft],[Ar,ft,Mr,ft]].map(fr);if(!Pr.reduce(function(gt,Nt){return gt^!!ll.segmentsIntersect(ar,ue,ar+1e6,ue+1e6,Nt[0],Nt[1],Nt[2],Nt[3])},!1)){Pr.forEach(function(gt){var Nt=ll.segmentsIntersect(J,ne,ar,ue,gt[0],gt[1],gt[2],gt[3]);Nt&&(J=Nt.x,ne=Nt.y)});var $r=r.arrowwidth,Fr=r.arrowcolor,Gr=r.arrowside,pt=k.append("g").style({opacity:ps.opacity(Fr)}).classed("annotation-arrow-g",!0),Rr=pt.append("path").attr("d","M"+J+","+ne+"L"+ar+","+ue).style("stroke-width",$r+"px").call(ps.stroke,ps.rgb(Fr));if(ite(Rr,Gr,r),u.annotationPosition&&Rr.node().parentNode&&!n){var jr=ar,vn=ue;if(r.standoff){var Et=Math.sqrt(Math.pow(ar-J,2)+Math.pow(ue-ne,2));jr+=r.standoff*(J-ar)/Et,vn+=r.standoff*(ne-ue)/Et}var Tn=pt.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(J-jr)+","+(ne-vn),transform:Om(jr,vn)}).style("stroke-width",$r+6+"px").call(ps.stroke,"rgba(0,0,0,0)").call(ps.fill,"rgba(0,0,0,0)"),Ot,bt;zc.init({element:Tn.node(),gd:e,prepFn:function(){var gt=mo.getTranslate(_);Ot=gt.x,bt=gt.y,a&&a.autorange&&p(a._name+".autorange",!0),o&&o.autorange&&p(o._name+".autorange",!0)},moveFn:function(gt,Nt){var ha=nr(Ot,bt),$n=ha[0]+gt,Fn=ha[1]+Nt;_.call(mo.setTranslate,$n,Fn),b("x",ol(a,gt,"x",l,r)),b("y",ol(o,Nt,"y",l,r)),r.axref===r.xref&&b("ax",ol(a,gt,"ax",l,r)),r.ayref===r.yref&&b("ay",ol(o,Nt,"ay",l,r)),pt.attr("transform",Om(gt,Nt)),S.attr({transform:"rotate("+m+","+$n+","+Fn+")"})},doneFn:function(){qm.call("_guiRelayout",e,y());var gt=document.querySelector(".js-notes-box-panel");gt&&gt.redraw(gt.selectedObj)}})}}};if(r.showarrow&&Te(0,0),x){var Re;zc.init({element:_.node(),gd:e,prepFn:function(){Re=S.attr("transform")},moveFn:function(Qe,Ke){var ar="pointer";if(r.showarrow)r.axref===r.xref?b("ax",ol(a,Qe,"ax",l,r)):b("ax",r.ax+Qe),r.ayref===r.yref?b("ay",ol(o,Ke,"ay",l.w,r)):b("ay",r.ay+Ke),Te(Qe,Ke);else{if(n)return;var ue,J;if(a)ue=ol(a,Qe,"x",l,r);else{var ne=r._xsize/l.w,De=r.x+(r._xshift-r.xshift)/l.w-ne/2;ue=zc.align(De+Qe/l.w,ne,0,1,r.xanchor)}if(o)J=ol(o,Ke,"y",l,r);else{var He=r._ysize/l.h,er=r.y-(r._yshift+r.yshift)/l.h-He/2;J=zc.align(er-Ke/l.h,He,0,1,r.yanchor)}b("x",ue),b("y",J),(!a||!o)&&(ar=zc.getCursor(a?.5:ue,o?.5:J,r.xanchor,r.yanchor))}S.attr({transform:Om(Qe,Ke)+Re}),Um(_,ar)},clickFn:function(Qe,Ke){r.captureevents&&e.emit("plotly_clickannotation",d(Ke))},doneFn:function(){Um(_),qm.call("_guiRelayout",e,y());var Qe=document.querySelector(".js-notes-box-panel");Qe&&Qe.redraw(Qe.selectedObj)}})}}u.annotationText?F.call(Bm.makeEditable,{delegate:_,gd:e}).call(I).on("edit",function(P){r.text=P,this.call(I),b("text",P),a&&a.autorange&&p(a._name+".autorange",!0),o&&o.autorange&&p(o._name+".autorange",!0),qm.call("_guiRelayout",e,y())}):F.call(I)}});var aD=de((D1e,nD)=>{"use strict";var jL=ir(),lte=Er(),eD=yt().arrayEditor;nD.exports={hasClickToShow:ste,onClick:ute};function ste(e,r){var t=tD(e,r);return t.on.length>0||t.explicitOff.length>0}function ute(e,r){var t=tD(e,r),n=t.on,a=t.off.concat(t.explicitOff),o={},i=e._fullLayout.annotations,l,u;if(n.length||a.length){for(l=0;l<n.length;l++)u=eD(e.layout,"annotations",i[n[l]]),u.modifyItem("visible",!0),jL.extendFlat(o,u.getUpdateObj());for(l=0;l<a.length;l++)u=eD(e.layout,"annotations",i[a[l]]),u.modifyItem("visible",!1),jL.extendFlat(o,u.getUpdateObj());return lte.call("update",e,{},o)}}function tD(e,r){var t=e._fullLayout.annotations,n=[],a=[],o=[],i=(r||[]).length,l,u,s,f,h,p,b,y;for(l=0;l<t.length;l++)if(s=t[l],f=s.clicktoshow,f){for(u=0;u<i;u++)if(h=r[u],p=h.xaxis,b=h.yaxis,p._id===s.xref&&b._id===s.yref&&p.d2r(h.x)===rD(s._xclick,p)&&b.d2r(h.y)===rD(s._yclick,b)){s.visible?f==="onout"?y=a:y=o:y=n,y.push(l);break}u===i&&s.visible&&f==="onout"&&a.push(l)}return{on:n,off:a,explicitOff:o}}function rD(e,r){return r.type==="log"?r.l2r(e):r.d2r(e)}});var Vm=de((R1e,iD)=>{"use strict";var Hm=ir(),Nu=Xr();iD.exports=function(r,t,n,a){a("opacity");var o=a("bgcolor"),i=a("bordercolor"),l=Nu.opacity(i);a("borderpad");var u=a("borderwidth"),s=a("showarrow");a("text",s?" ":n._dfltTitle.annotation),a("textangle"),Hm.coerceFont(a,"font",n.font),a("width"),a("align");var f=a("height");if(f&&a("valign"),s){var h=a("arrowside"),p,b;h.indexOf("end")!==-1&&(p=a("arrowhead"),b=a("arrowsize")),h.indexOf("start")!==-1&&(a("startarrowhead",p),a("startarrowsize",b)),a("arrowcolor",l?t.bordercolor:Nu.defaultLine),a("arrowwidth",(l&&u||1)*2),a("standoff"),a("startstandoff")}var y=a("hovertext"),w=n.hoverlabel||{};if(y){var T=a("hoverlabel.bgcolor",w.bgcolor||(Nu.opacity(o)?Nu.rgb(o):Nu.defaultLine)),m=a("hoverlabel.bordercolor",w.bordercolor||Nu.contrast(T)),k=Hm.extendFlat({},w.font);k.color||(k.color=m),Hm.coerceFont(a,"hoverlabel.font",k)}a("captureevents",!!y)}});var lD=de((P1e,oD)=>{"use strict";var Gm=ir(),gs=Lt(),fte=ai(),cte=Vm(),hte=ku();oD.exports=function(r,t){fte(r,t,{name:"annotations",handleItemDefaults:vte})};function vte(e,r,t){function n(S,x){return Gm.coerce(e,r,hte,S,x)}var a=n("visible"),o=n("clicktoshow");if(a||o){cte(e,r,t,n);for(var i=r.showarrow,l=["x","y"],u=[-10,-30],s={_fullLayout:t},f=0;f<2;f++){var h=l[f],p=gs.coerceRef(e,r,s,h,"","paper");if(p!=="paper"){var b=gs.getFromId(s,p);b._annIndices.push(r._index)}if(gs.coercePosition(r,s,n,p,h,.5),i){var y="a"+h,w=gs.coerceRef(e,r,s,y,"pixel",["pixel","paper"]);w!=="pixel"&&w!==p&&(w=r[y]="pixel");var T=w==="pixel"?u[f]:.4;gs.coercePosition(r,s,n,w,y,T)}n(h+"anchor"),n(h+"shift")}if(Gm.noneOrAll(e,r,["x","y"]),i&&Gm.noneOrAll(e,r,["ax","ay"]),o){var m=n("xclick"),k=n("yclick");r._xclick=m===void 0?r.x:gs.cleanPosition(m,s,r.xref),r._yclick=k===void 0?r.y:gs.cleanPosition(k,s,r.yref)}}}});var fD=de((I1e,uD)=>{"use strict";var Ym=ir(),ys=Lt(),dte=U1().draw;uD.exports=function(r){var t=r._fullLayout,n=Ym.filterVisible(t.annotations);if(n.length&&r._fullData.length)return Ym.syncOrAsync([dte,pte],r)};function pte(e){var r=e._fullLayout;Ym.filterVisible(r.annotations).forEach(function(t){var n=ys.getFromId(e,t.xref),a=ys.getFromId(e,t.yref),o=ys.getRefType(t.xref),i=ys.getRefType(t.yref);t._extremes={},o==="range"&&sD(t,n),i==="range"&&sD(t,a)})}function sD(e,r){var t=r._id,n=t.charAt(0),a=e[n],o=e["a"+n],i=e[n+"ref"],l=e["a"+n+"ref"],u=e["_"+n+"padplus"],s=e["_"+n+"padminus"],f={x:1,y:-1}[n]*e[n+"shift"],h=3*e.arrowsize*e.arrowwidth||0,p=h+f,b=h-f,y=3*e.startarrowsize*e.arrowwidth||0,w=y+f,T=y-f,m;if(l===i){var k=ys.findExtremes(r,[r.r2c(a)],{ppadplus:p,ppadminus:b}),S=ys.findExtremes(r,[r.r2c(o)],{ppadplus:Math.max(u,w),ppadminus:Math.max(s,T)});m={min:[k.min[0],S.min[0]],max:[k.max[0],S.max[0]]}}else w=o?w+o:w,T=o?T-o:T,m=ys.findExtremes(r,[r.r2c(a)],{ppadplus:Math.max(u,p,w),ppadminus:Math.max(s,b,T)});e._extremes[t]=m}});var hD=de((F1e,cD)=>{"use strict";var gte=nt(),yte=O0();cD.exports=function(r,t,n,a){t=t||{};var o=n==="log"&&t.type==="linear",i=n==="linear"&&t.type==="log";if(!(o||i))return;var l=r._fullLayout.annotations,u=t._id.charAt(0),s,f;function h(b){var y=s[b],w=null;o?w=yte(y,t.range):w=Math.pow(10,y),gte(w)||(w=null),a(f+b,w)}for(var p=0;p<l.length;p++)s=l[p],f="annotations["+p+"].",s[u+"ref"]===t._id&&h(u),s["a"+u+"ref"]===t._id&&h("a"+u)}});var pD=de((N1e,dD)=>{"use strict";var Wm=U1(),vD=aD();dD.exports={moduleType:"component",name:"annotations",layoutAttributes:ku(),supplyLayoutDefaults:lD(),includeBasePlot:xc()("annotations"),calcAutorange:fD(),draw:Wm.draw,drawOne:Wm.drawOne,drawRaw:Wm.drawRaw,hasClickToShow:vD.hasClickToShow,onClick:vD.onClick,convertCoords:hD()}});var H1=de((z1e,gD)=>{"use strict";var Mt=ku(),mte=qn().overrideAll,xte=yt().templatedArray;gD.exports=mte(xte("annotation",{visible:Mt.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:Mt.xanchor,xshift:Mt.xshift,yanchor:Mt.yanchor,yshift:Mt.yshift,text:Mt.text,textangle:Mt.textangle,font:Mt.font,width:Mt.width,height:Mt.height,opacity:Mt.opacity,align:Mt.align,valign:Mt.valign,bgcolor:Mt.bgcolor,bordercolor:Mt.bordercolor,borderpad:Mt.borderpad,borderwidth:Mt.borderwidth,showarrow:Mt.showarrow,arrowcolor:Mt.arrowcolor,arrowhead:Mt.arrowhead,startarrowhead:Mt.startarrowhead,arrowside:Mt.arrowside,arrowsize:Mt.arrowsize,startarrowsize:Mt.startarrowsize,arrowwidth:Mt.arrowwidth,standoff:Mt.standoff,startstandoff:Mt.startstandoff,hovertext:Mt.hovertext,hoverlabel:Mt.hoverlabel,captureevents:Mt.captureevents}),"calc","from-root")});var mD=de((q1e,yD)=>{"use strict";var Xm=ir(),bte=Lt(),_te=ai(),wte=Vm(),Mte=H1();yD.exports=function(r,t,n){_te(r,t,{name:"annotations",handleItemDefaults:Tte,fullLayout:n.fullLayout})};function Tte(e,r,t,n){function a(l,u){return Xm.coerce(e,r,Mte,l,u)}function o(l){var u=l+"axis",s={_fullLayout:{}};return s._fullLayout[u]=t[u],bte.coercePosition(r,s,a,l,l,.5)}var i=a("visible");i&&(wte(e,r,n.fullLayout,a),o("x"),o("y"),o("z"),Xm.noneOrAll(e,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",a("xanchor"),a("yanchor"),a("xshift"),a("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",a("ax",-10),a("ay",-30),Xm.noneOrAll(e,r,["ax","ay"])))}});var wD=de((O1e,_D)=>{"use strict";var xD=ir(),bD=Lt();_D.exports=function(r){for(var t=r.fullSceneLayout,n=t.annotations,a=0;a<n.length;a++)Ate(n[a],r);r.fullLayout._infolayer.selectAll(".annotation-"+r.id).remove()};function Ate(e,r){var t=r.fullSceneLayout,n=t.domain,a=r.fullLayout._size,o={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};e._xa={},xD.extendFlat(e._xa,o),bD.setConvert(e._xa),e._xa._offset=a.l+n.x[0]*a.w,e._xa.l2p=function(){return .5*(1+e._pdata[0]/e._pdata[3])*a.w*(n.x[1]-n.x[0])},e._ya={},xD.extendFlat(e._ya,o),bD.setConvert(e._ya),e._ya._offset=a.t+(1-n.y[1])*a.h,e._ya.l2p=function(){return .5*(1-e._pdata[1]/e._pdata[3])*a.h*(n.y[1]-n.y[0])}}});var Jm=de((B1e,MD)=>{"use strict";function Zm(e,r){var t=[0,0,0,0],n,a;for(n=0;n<4;++n)for(a=0;a<4;++a)t[a]+=e[4*n+a]*r[n];return t}function kte(e,r){var t=Zm(e.projection,Zm(e.view,Zm(e.model,[r[0],r[1],r[2],1])));return t}MD.exports=kte});var AD=de((U1e,TD)=>{"use strict";var Ste=U1().drawRaw,Cte=Jm(),Ete=["x","y","z"];TD.exports=function(r){for(var t=r.fullSceneLayout,n=r.dataScale,a=t.annotations,o=0;o<a.length;o++){for(var i=a[o],l=!1,u=0;u<3;u++){var s=Ete[u],f=i[s],h=t[s+"axis"],p=h.r2fraction(f);if(p<0||p>1){l=!0;break}}l?r.fullLayout._infolayer.select(".annotation-"+r.id+'[data-index="'+o+'"]').remove():(i._pdata=Cte(r.glplot.cameraParams,[t.xaxis.r2l(i.x)*n[0],t.yaxis.r2l(i.y)*n[1],t.zaxis.r2l(i.z)*n[2]]),Ste(r.graphDiv,i,o,r.id,i._xa,i._ya))}}});var CD=de((H1e,SD)=>{"use strict";var Lte=Er(),kD=ir();SD.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:H1()}}},layoutAttributes:H1(),handleDefaults:mD(),includeBasePlot:Dte,convert:wD(),draw:AD()};function Dte(e,r){var t=Lte.subplotsRegistry.gl3d;if(t)for(var n=t.attrRegex,a=Object.keys(e),o=0;o<a.length;o++){var i=a[o];n.test(i)&&(e[i].annotations||[]).length&&(kD.pushUnique(r._basePlotModules,t),kD.pushUnique(r._subplots.gl3d,i))}}});var Km=de((Y1e,RD)=>{"use strict";var V1e=on(),ED=kn(),LD=ss().line,Rte=Ro().dash,vi=Tt().extendFlat,Pte=yt().templatedArray,G1e=yc(),zu=Sn(),DD=ku(),{shapeTexttemplateAttrs:Ite,templatefallbackAttrs:Fte}=ja(),Nte=K0();RD.exports=Pte("shape",{visible:vi({},zu.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:vi({},zu.legend,{editType:"calc+arraydraw"}),legendgroup:vi({},zu.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:vi({},zu.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:ED({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:vi({},zu.legendrank,{editType:"calc+arraydraw"}),legendwidth:vi({},zu.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:vi({},DD.xref,{arrayOk:!0}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},yref:vi({},DD.yref,{arrayOk:!0}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:vi({},LD.color,{editType:"arraydraw"}),width:vi({},LD.width,{editType:"calc+arraydraw"}),dash:vi({},Rte,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:Ite({},{keys:Object.keys(Nte)}),texttemplatefallback:Fte({editType:"arraydraw"}),font:ED({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})});var ID=de((W1e,PD)=>{"use strict";var qu=ir(),ba=Lt(),zte=ai(),qte=Km(),Oc=rl();PD.exports=function(r,t){zte(r,t,{name:"shapes",handleItemDefaults:Bte})};function Ote(e,r){return e?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}function Bte(e,r,t){function n(S,x){return qu.coerce(e,r,qte,S,x)}r._isShape=!0;var a=n("visible");if(!a)return;var o=n("showlegend");o&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),qu.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var i=n("path"),l=i?"path":"rect",u=n("type",l),s=u!=="path";s&&delete r.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var f=n("line.width");f&&(n("line.color"),n("line.dash"));var h=n("xsizemode"),p=n("ysizemode");let b=[.25,.75],y=[0,10];["x","y"].forEach(S=>{var x=S+"anchor",M=S==="x"?h:p,d={_fullLayout:t},_,g,c,A;let v=S+"ref",D=e[v];if(Array.isArray(D)&&D.length>0){let E=Oc.countDefiningCoords(u,i,S);A=ba.coerceRefArray(e,r,d,S,void 0,"paper",E),r["_"+S+"refArray"]=!0}else A=ba.coerceRef(e,r,d,S,void 0,"paper");if(Array.isArray(A))A.forEach(function(E){ba.getRefType(E)==="range"&&(_=ba.getFromId(d,E),_&&_._shapeIndices.indexOf(r._index)===-1&&_._shapeIndices.push(r._index))}),s&&[0,1].forEach(function(E){let R=A[E];ba.getRefType(R)==="range"?(_=ba.getFromId(d,R),g=Oc.shapePositionToRange(_),c=Oc.rangeToShapePosition(_),(_.type==="category"||_.type==="multicategory")&&n(S+E+"shift")):g=c=qu.identity;let F=S+E,I=e[F];if(e[F]=g(e[F],!0),M==="pixel"?n(F,y[E]):ba.coercePosition(r,d,n,R,F,b[E]),r[F]=c(r[F]),e[F]=I,E===0&&M==="pixel"){let L=e[x];e[x]=g(e[x],!0),ba.coercePosition(r,d,n,R,x,.25),r[x]=c(r[x]),e[x]=L}});else{if(ba.getRefType(A)==="range"?(_=ba.getFromId(d,A),_._shapeIndices.push(r._index),c=Oc.rangeToShapePosition(_),g=Oc.shapePositionToRange(_),s&&(_.type==="category"||_.type==="multicategory")&&(n(S+"0shift"),n(S+"1shift"))):g=c=qu.identity,s){let R=S+"0",N=S+"1",F=e[R],I=e[N];e[R]=g(e[R],!0),e[N]=g(e[N],!0),M==="pixel"?(n(R,y[0]),n(N,y[1])):(ba.coercePosition(r,d,n,A,R,b[0]),ba.coercePosition(r,d,n,A,N,b[1])),r[R]=c(r[R]),r[N]=c(r[N]),e[R]=F,e[N]=I}if(M==="pixel"){let R=e[x];e[x]=g(e[x],!0),ba.coercePosition(r,d,n,A,x,.25),r[x]=c(r[x]),e[x]=R}}}),s&&qu.noneOrAll(e,r,["x0","x1","y0","y1"]);var w=u==="line",T,m;if(s&&(T=n("label.texttemplate"),n("label.texttemplatefallback")),T||(m=n("label.text")),m||T){n("label.textangle");var k=n("label.textposition",w?"middle":"middle center");n("label.xanchor"),n("label.yanchor",Ote(w,k)),n("label.padding"),qu.coerceFont(n,"label.font",t.font)}}});var zD=de((X1e,ND)=>{"use strict";var Ute=Xr(),FD=ir();function Hte(e,r){return e?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}ND.exports=function(r,t,n){n("newshape.visible"),n("newshape.name"),n("newshape.showlegend"),n("newshape.legend"),n("newshape.legendwidth"),n("newshape.legendgroup"),n("newshape.legendgrouptitle.text"),FD.coerceFont(n,"newshape.legendgrouptitle.font"),n("newshape.legendrank"),n("newshape.drawdirection"),n("newshape.layer"),n("newshape.fillcolor"),n("newshape.fillrule"),n("newshape.opacity");var a=n("newshape.line.width");if(a){var o=(r||{}).plot_bgcolor||"#FFF";n("newshape.line.color",Ute.contrast(o)),n("newshape.line.dash")}var i=r.dragmode==="drawline",l=n("newshape.label.text"),u=n("newshape.label.texttemplate");if(n("newshape.label.texttemplatefallback"),l||u){n("newshape.label.textangle");var s=n("newshape.label.textposition",i?"middle":"middle center");n("newshape.label.xanchor"),n("newshape.label.yanchor",Hte(i,s)),n("newshape.label.padding"),FD.coerceFont(n,"newshape.label.font",t.font)}n("activeshape.fillcolor"),n("activeshape.opacity")}});var GD=de((Z1e,VD)=>{"use strict";var Qm=ir(),Ya=Lt(),Xi=Qf(),$m=rl();VD.exports=function(r){var t=r._fullLayout,n=Qm.filterVisible(t.shapes);if(!(!n.length||!r._fullData.length))for(var a=0;a<n.length;a++){var o=n[a];o._extremes={};var i,l,u=Ya.getRefType(o.xref),s=Ya.getRefType(o.yref);if(u==="array"){let f=qD(r,o,"x");Object.entries(f).forEach(([h,p])=>{i=Ya.getFromId(r,h),o._extremes[i._id]=Ya.findExtremes(i,p,OD(o))})}else o.xref!=="paper"&&u!=="domain"&&(i=Ya.getFromId(r,o.xref),l=UD(i,o,Xi.paramIsX),l&&(o._extremes[i._id]=Ya.findExtremes(i,l,OD(o))));if(s==="array"){let f=qD(r,o,"y");Object.entries(f).forEach(([h,p])=>{i=Ya.getFromId(r,h),o._extremes[i._id]=Ya.findExtremes(i,p,BD(o))})}else o.yref!=="paper"&&s!=="domain"&&(i=Ya.getFromId(r,o.yref),l=UD(i,o,Xi.paramIsY),l&&(o._extremes[i._id]=Ya.findExtremes(i,l,BD(o))))}};function qD(e,r,t){let n=r[t+"ref"],a=t==="x"?Xi.paramIsX:Xi.paramIsY;function o(h,p){h==="paper"||Ya.getRefType(h)==="domain"||(i[h]||(i[h]=[]),i[h].push(p))}let i={};if(r.type==="path"&&r.path){let h=r.path.match(Xi.segmentRE)||[];for(var l=0,u=0;u<h.length;u++){let p=h[u],b=p.charAt(0),y=a[b].drawn;if(y===void 0)continue;let w=p.slice(1).match(Xi.paramRE);w&&w.length>y&&(o(n[l],w[y]),l++)}}else o(n[0],r[t+"0"]),o(n[1],r[t+"1"]);let s={};for(let h in i){let p=Ya.getFromId(e,h);if(p){var f=p.type==="category"||p.type==="multicategory"?p.r2c:p.d2c;p.type==="date"&&(f=$m.decodeDate(f)),s[p._id]=i[h].map(f)}}return s}function OD(e){return HD(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function BD(e){return HD(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function HD(e,r,t,n,a,o){var i=e/2,l=o;if(r==="pixel"){var u=a?$m.extractPathCoords(a,o?Xi.paramIsY:Xi.paramIsX):[t,n],s=Qm.aggNums(Math.max,null,u),f=Qm.aggNums(Math.min,null,u),h=f<0?Math.abs(f)+i:i,p=s>0?s+i:i;return{ppad:i,ppadplus:l?h:p,ppadminus:l?p:h}}else return{ppad:i}}function UD(e,r,t){var n=e._id.charAt(0)==="x"?"x":"y",a=e.type==="category"||e.type==="multicategory",o,i,l=0,u=0,s=a?e.r2c:e.d2c,f=r[n+"sizemode"]==="scaled";if(f?(o=r[n+"0"],i=r[n+"1"],a&&(l=r[n+"0shift"],u=r[n+"1shift"])):(o=r[n+"anchor"],i=r[n+"anchor"]),o!==void 0)return[s(o)+l,s(i)+u];if(r.path){var h=1/0,p=-1/0,b=r.path.match(Xi.segmentRE),y,w,T,m,k;for(e.type==="date"&&(s=$m.decodeDate(s)),y=0;y<b.length;y++)w=b[y],T=t[w.charAt(0)].drawn,T!==void 0&&(m=b[y].slice(1).match(Xi.paramRE),!(!m||m.length<T)&&(k=s(m[T]),k<h&&(h=k),k>p&&(p=k)));if(p>=h)return[h,p]}}});var XD=de((J1e,WD)=>{"use strict";var YD=Pv();WD.exports={moduleType:"component",name:"shapes",layoutAttributes:Km(),supplyLayoutDefaults:ID(),supplyDrawNewShapeDefaults:zD(),includeBasePlot:xc()("shapes"),calcAutorange:GD(),draw:YD.draw,drawOne:YD.drawOne}});var jm=de((Q1e,JD)=>{"use strict";var ZD=on(),Vte=yt().templatedArray,K1e=yc();JD.exports=Vte("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",ZD.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",ZD.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})});var QD=de(($1e,KD)=>{"use strict";var Gte=ir(),e3=Lt(),Yte=ai(),Wte=jm(),Xte="images";KD.exports=function(r,t){var n={name:Xte,handleItemDefaults:Zte};Yte(r,t,n)};function Zte(e,r,t){function n(p,b){return Gte.coerce(e,r,Wte,p,b)}var a=n("source"),o=n("visible",!!a);if(!o)return r;n("layer"),n("xanchor"),n("yanchor"),n("sizex"),n("sizey"),n("sizing"),n("opacity");for(var i={_fullLayout:t},l=["x","y"],u=0;u<2;u++){var s=l[u],f=e3.coerceRef(e,r,i,s,"paper",void 0);if(f!=="paper"){var h=e3.getFromId(i,f);h._imgIndices.push(r._index)}e3.coercePosition(r,i,n,f,s,0)}return r}});var rR=de((j1e,eR)=>{"use strict";var $D=it(),Jte=mt(),Ou=Lt(),jD=en(),Kte=Ho();eR.exports=function(r){var t=r._fullLayout,n=[],a={},o=[],i,l;for(l=0;l<t.images.length;l++){var u=t.images[l];if(u.visible)if(u.layer==="below"&&u.xref!=="paper"&&u.yref!=="paper"){i=jD.ref2id(u.xref)+jD.ref2id(u.yref);var s=t._plots[i];if(!s){o.push(u);continue}s.mainplot&&(i=s.mainplot.id),a[i]||(a[i]=[]),a[i].push(u)}else u.layer==="above"?n.push(u):o.push(u)}var f={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function h(x){var M=$D.select(this);if(this._imgSrc!==x.source)if(M.attr("xmlns",Kte.svg),!r._context.staticPlot||x.source&&x.source.slice(0,5)==="data:")M.attr("xlink:href",x.source),this._imgSrc=x.source;else{var d=new Promise(function(_){var g=new Image;this.img=g,g.setAttribute("crossOrigin","anonymous"),g.onerror=c,g.onload=function(){var A=document.createElement("canvas");A.width=this.width,A.height=this.height;var v=A.getContext("2d",{willReadFrequently:!0});v.drawImage(this,0,0);var D=A.toDataURL("image/png");M.attr("xlink:href",D),_()},M.on("error",c),g.src=x.source,this._imgSrc=x.source;function c(){M.remove(),_()}}.bind(this));r._promises.push(d)}}function p(x){var M=$D.select(this),d=Ou.getFromId(r,x.xref),_=Ou.getFromId(r,x.yref),g=Ou.getRefType(x.xref)==="domain",c=Ou.getRefType(x.yref)==="domain",A=t._size,v,D;d!==void 0?v=typeof x.xref=="string"&&g?d._length*x.sizex:Math.abs(d.l2p(x.sizex)-d.l2p(0)):v=x.sizex*A.w,_!==void 0?D=typeof x.yref=="string"&&c?_._length*x.sizey:Math.abs(_.l2p(x.sizey)-_.l2p(0)):D=x.sizey*A.h;var E=v*f.x[x.xanchor].offset,R=D*f.y[x.yanchor].offset,N=f.x[x.xanchor].sizing+f.y[x.yanchor].sizing,F,I;switch(d!==void 0?F=typeof x.xref=="string"&&g?d._length*x.x+d._offset:d.r2p(x.x)+d._offset:F=x.x*A.w+A.l,F+=E,_!==void 0?I=typeof x.yref=="string"&&c?_._length*(1-x.y)+_._offset:_.r2p(x.y)+_._offset:I=A.h-x.y*A.h+A.t,I+=R,x.sizing){case"fill":N+=" slice";break;case"stretch":N="none";break}M.attr({x:F,y:I,width:v,height:D,preserveAspectRatio:N,opacity:x.opacity});var L=d&&Ou.getRefType(x.xref)!=="domain"?d._id:"",P=_&&Ou.getRefType(x.yref)!=="domain"?_._id:"",O=L+P;Jte.setClipUrl(M,O?"clip"+t._uid+O:null,r)}function b(x){return[x.xref,x.x,x.sizex,x.yref,x.y,x.sizey].join("_")}function y(x,M){return x._index-M._index}var w=t._imageLowerLayer.selectAll("image").data(o,b),T=t._imageUpperLayer.selectAll("image").data(n,b);w.enter().append("image"),T.enter().append("image"),w.exit().remove(),T.exit().remove(),w.each(function(x){h.bind(this)(x),p.bind(this)(x)}),T.each(function(x){h.bind(this)(x),p.bind(this)(x)}),w.sort(y),T.sort(y);var m=Object.keys(t._plots);for(l=0;l<m.length;l++){i=m[l];var k=t._plots[i];if(k.imagelayer){var S=k.imagelayer.selectAll("image").data(a[i]||[],b);S.enter().append("image"),S.exit().remove(),S.each(function(x){h.bind(this)(x),p.bind(this)(x)}),S.sort(y)}}}});var aR=de((ede,nR)=>{"use strict";var tR=nt(),Qte=O0();nR.exports=function(r,t,n,a){t=t||{};var o=n==="log"&&t.type==="linear",i=n==="linear"&&t.type==="log";if(o||i){for(var l=r._fullLayout.images,u=t._id.charAt(0),s,f,h=0;h<l.length;h++)if(s=l[h],f="images["+h+"].",s[u+"ref"]===t._id){var p=s[u],b=s["size"+u],y=null,w=null;if(o){y=Qte(p,t.range);var T=b/Math.pow(10,y)/2;w=2*Math.log(T+Math.sqrt(1+T*T))/Math.LN10}else y=Math.pow(10,p),w=y*(Math.pow(10,b/2)-Math.pow(10,-b/2));tR(y)?tR(w)||(w=null):(y=null,w=null),a(f+u,y),a(f+"size"+u,w)}}}});var oR=de((rde,iR)=>{"use strict";iR.exports={moduleType:"component",name:"images",layoutAttributes:jm(),supplyLayoutDefaults:QD(),includeBasePlot:xc()("images"),draw:rR(),convertCoords:aR()}});var V1=de((tde,lR)=>{"use strict";lR.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25C4",right:"\u25BA",up:"\u25B2",down:"\u25BC"}}});var r3=de((nde,uR)=>{"use strict";var $te=kn(),jte=Si(),ene=Tt().extendFlat,rne=qn().overrideAll,tne=Q0(),sR=yt().templatedArray,nne=sR("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});uR.exports=rne(sR("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:nne,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:ene(tne({editType:"arraydraw"}),{}),font:$te({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:jte.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")});var vR=de((ade,hR)=>{"use strict";var G1=ir(),fR=ai(),cR=r3(),ane=V1(),ine=ane.name,one=cR.buttons;hR.exports=function(r,t){var n={name:ine,handleItemDefaults:lne};fR(r,t,n)};function lne(e,r,t){function n(i,l){return G1.coerce(e,r,cR,i,l)}var a=fR(e,r,{name:"buttons",handleItemDefaults:sne}),o=n("visible",a.length>0);o&&(n("active"),n("direction"),n("type"),n("showactive"),n("x"),n("y"),G1.noneOrAll(e,r,["x","y"]),n("xanchor"),n("yanchor"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),G1.coerceFont(n,"font",t.font),n("bgcolor",t.paper_bgcolor),n("bordercolor"),n("borderwidth"))}function sne(e,r){function t(a,o){return G1.coerce(e,r,one,a,o)}var n=t("visible",e.method==="skip"||Array.isArray(e.args));n&&(t("method"),t("args"),t("args2"),t("label"),t("execute"))}});var gR=de((ide,pR)=>{"use strict";pR.exports=Rt;var di=it(),dR=Xr(),Bu=mt(),Y1=ir();function Rt(e,r,t){this.gd=e,this.container=r,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}Rt.barWidth=2;Rt.barLength=20;Rt.barRadius=2;Rt.barPad=1;Rt.barColor="#808BA4";Rt.prototype.enable=function(r,t,n){var a=this.gd._fullLayout,o=a.width,i=a.height;this.position=r;var l=this.position.l,u=this.position.w,s=this.position.t,f=this.position.h,h=this.position.direction,p=h==="down",b=h==="left",y=h==="right",w=h==="up",T=u,m=f,k,S,x,M;!p&&!b&&!y&&!w&&(this.position.direction="down",p=!0);var d=p||w;d?(k=l,S=k+T,p?(x=s,M=Math.min(x+m,i),m=M-x):(M=s+m,x=Math.max(M-m,0),m=M-x)):(x=s,M=x+m,b?(S=l+T,k=Math.max(S-T,0),T=S-k):(k=l,S=Math.min(k+T,o),T=S-k)),this._box={l:k,t:x,w:T,h:m};var _=u>T,g=Rt.barLength+2*Rt.barPad,c=Rt.barWidth+2*Rt.barPad,A=l,v=s+f;v+c>i&&(v=i-c);var D=this.container.selectAll("rect.scrollbar-horizontal").data(_?[0]:[]);D.exit().on(".drag",null).remove(),D.enter().append("rect").classed("scrollbar-horizontal",!0).call(dR.fill,Rt.barColor),_?(this.hbar=D.attr({rx:Rt.barRadius,ry:Rt.barRadius,x:A,y:v,width:g,height:c}),this._hbarXMin=A+g/2,this._hbarTranslateMax=T-g):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var E=f>m,R=Rt.barWidth+2*Rt.barPad,N=Rt.barLength+2*Rt.barPad,F=l+u,I=s;F+R>o&&(F=o-R);var L=this.container.selectAll("rect.scrollbar-vertical").data(E?[0]:[]);L.exit().on(".drag",null).remove(),L.enter().append("rect").classed("scrollbar-vertical",!0).call(dR.fill,Rt.barColor),E?(this.vbar=L.attr({rx:Rt.barRadius,ry:Rt.barRadius,x:F,y:I,width:R,height:N}),this._vbarYMin=I+N/2,this._vbarTranslateMax=m-N):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var P=this.id,O=k-.5,U=E?S+R+.5:S+.5,X=x-.5,$=_?M+c+.5:M+.5,j=a._topdefs.selectAll("#"+P).data(_||E?[0]:[]);if(j.exit().remove(),j.enter().append("clipPath").attr("id",P).append("rect"),_||E?(this._clipRect=j.select("rect").attr({x:Math.floor(O),y:Math.floor(X),width:Math.ceil(U)-Math.floor(O),height:Math.ceil($)-Math.floor(X)}),this.container.call(Bu.setClipUrl,P,this.gd),this.bg.attr({x:l,y:s,width:u,height:f})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(Bu.setClipUrl,null),delete this._clipRect),_||E){var Y=di.behavior.drag().on("dragstart",function(){di.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(Y);var q=di.behavior.drag().on("dragstart",function(){di.event.sourceEvent.preventDefault(),di.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));_&&this.hbar.on(".drag",null).call(q),E&&this.vbar.on(".drag",null).call(q)}this.setTranslate(t,n)};Rt.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(Bu.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)};Rt.prototype._onBoxDrag=function(){var r=this.translateX,t=this.translateY;this.hbar&&(r-=di.event.dx),this.vbar&&(t-=di.event.dy),this.setTranslate(r,t)};Rt.prototype._onBoxWheel=function(){var r=this.translateX,t=this.translateY;this.hbar&&(r+=di.event.deltaY),this.vbar&&(t+=di.event.deltaY),this.setTranslate(r,t)};Rt.prototype._onBarDrag=function(){var r=this.translateX,t=this.translateY;if(this.hbar){var n=r+this._hbarXMin,a=n+this._hbarTranslateMax,o=Y1.constrain(di.event.x,n,a),i=(o-n)/(a-n),l=this.position.w-this._box.w;r=i*l}if(this.vbar){var u=t+this._vbarYMin,s=u+this._vbarTranslateMax,f=Y1.constrain(di.event.y,u,s),h=(f-u)/(s-u),p=this.position.h-this._box.h;t=h*p}this.setTranslate(r,t)};Rt.prototype.setTranslate=function(r,t){var n=this.position.w-this._box.w,a=this.position.h-this._box.h;if(r=Y1.constrain(r||0,0,n),t=Y1.constrain(t||0,0,a),this.translateX=r,this.translateY=t,this.container.call(Bu.setTranslate,this._box.l-this.position.l-r,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+r-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var o=r/n;this.hbar.call(Bu.setTranslate,r+o*this._hbarTranslateMax,t)}if(this.vbar){var i=t/a;this.vbar.call(Bu.setTranslate,r,t+i*this._vbarTranslateMax)}}});var kR=de((ode,AR)=>{"use strict";var Uu=it(),Bc=ln(),Uc=Xr(),Hu=mt(),_a=ir(),W1=On(),une=yt().arrayEditor,mR=Cn().LINE_SPACING,Dr=V1(),fne=gR();AR.exports=function(r){var t=r._fullLayout,n=_a.filterVisible(t[Dr.name]);function a(p){Bc.autoMargin(r,MR(p))}var o=t._menulayer.selectAll("g."+Dr.containerClassName).data(n.length>0?[0]:[]);if(o.enter().append("g").classed(Dr.containerClassName,!0).style("cursor","pointer"),o.exit().each(function(){Uu.select(this).selectAll("g."+Dr.headerGroupClassName).each(a)}).remove(),n.length!==0){var i=o.selectAll("g."+Dr.headerGroupClassName).data(n,cne);i.enter().append("g").classed(Dr.headerGroupClassName,!0);for(var l=_a.ensureSingle(o,"g",Dr.dropdownButtonGroupClassName,function(p){p.style("pointer-events","all")}),u=0;u<n.length;u++){var s=n[u];yne(r,s)}var f="updatemenus"+t._uid,h=new fne(r,l,f);i.enter().size()&&(l.node().parentNode.appendChild(l.node()),l.call(n3)),i.exit().each(function(p){l.call(n3),a(p)}).remove(),i.each(function(p){var b=Uu.select(this),y=p.type==="dropdown"?l:null;Bc.manageCommandObserver(r,p,p.buttons,function(w){t3(r,p,p.buttons[w.index],b,y,h,w.index,!0)}),p.type==="dropdown"?(bR(r,b,l,h,p),xR(l,p)&&Hc(r,b,l,h,p)):Hc(r,b,null,null,p)})}};function cne(e){return e._index}function hne(e){return+e.attr(Dr.menuIndexAttrName)==-1}function xR(e,r){return+e.attr(Dr.menuIndexAttrName)===r._index}function t3(e,r,t,n,a,o,i,l){r.active=i,une(e.layout,Dr.name,r).applyUpdate("active",i),r.type==="buttons"?Hc(e,n,null,null,r):r.type==="dropdown"&&(a.attr(Dr.menuIndexAttrName,"-1"),bR(e,n,a,o,r),l||Hc(e,n,a,o,r))}function bR(e,r,t,n,a){var o=_a.ensureSingle(r,"g",Dr.headerClassName,function(p){p.style("pointer-events","all")}),i=a._dims,l=a.active,u=a.buttons[l]||Dr.blankHeaderOpts,s={y:a.pad.t,yPad:0,x:a.pad.l,xPad:0,index:0},f={width:i.headerWidth,height:i.headerHeight};o.call(a3,a,u,e).call(TR,a,s,f);var h=_a.ensureSingle(r,"text",Dr.headerArrowClassName,function(p){p.attr("text-anchor","end").call(Hu.font,a.font).text(Dr.arrowSymbol[a.direction])});h.attr({x:i.headerWidth-Dr.arrowOffsetX+a.pad.l,y:i.headerHeight/2+Dr.textOffsetY+a.pad.t}),o.on("click",function(){t.call(n3,String(xR(t,a)?-1:a._index)),Hc(e,r,t,n,a)}),o.on("mouseover",function(){o.call(_R)}),o.on("mouseout",function(){o.call(wR,a)}),Hu.setTranslate(r,i.lx,i.ly)}function Hc(e,r,t,n,a){t||(t=r,t.attr("pointer-events","all"));var o=!hne(t)||a.type==="buttons"?a.buttons:[],i=a.type==="dropdown"?Dr.dropdownButtonClassName:Dr.buttonClassName,l=t.selectAll("g."+i).data(_a.filterVisible(o)),u=l.enter().append("g").classed(i,!0),s=l.exit();a.type==="dropdown"?(u.attr("opacity","0").transition().attr("opacity","1"),s.transition().attr("opacity","0").remove()):s.remove();var f=0,h=0,p=a._dims,b=["up","down"].indexOf(a.direction)!==-1;a.type==="dropdown"&&(b?h=p.headerHeight+Dr.gapButtonHeader:f=p.headerWidth+Dr.gapButtonHeader),a.type==="dropdown"&&a.direction==="up"&&(h=-Dr.gapButtonHeader+Dr.gapButton-p.openHeight),a.type==="dropdown"&&a.direction==="left"&&(f=-Dr.gapButtonHeader+Dr.gapButton-p.openWidth);var y={x:p.lx+f+a.pad.l,y:p.ly+h+a.pad.t,yPad:Dr.gapButton,xPad:Dr.gapButton,index:0},w={l:y.x+a.borderwidth,t:y.y+a.borderwidth};l.each(function(T,m){var k=Uu.select(this);k.call(a3,a,T,e).call(TR,a,y),k.on("click",function(){Uu.event.defaultPrevented||(T.execute&&(T.args2&&a.active===m?(t3(e,a,T,r,t,n,-1),Bc.executeAPICommand(e,T.method,T.args2)):(t3(e,a,T,r,t,n,m),Bc.executeAPICommand(e,T.method,T.args))),e.emit("plotly_buttonclicked",{menu:a,button:T,active:a.active}))}),k.on("mouseover",function(){k.call(_R)}),k.on("mouseout",function(){k.call(wR,a),l.call(yR,a)})}),l.call(yR,a),b?(w.w=Math.max(p.openWidth,p.headerWidth),w.h=y.y-w.t):(w.w=y.x-w.l,w.h=Math.max(p.openHeight,p.headerHeight)),w.direction=a.direction,n&&(l.size()?vne(e,r,t,n,a,w):dne(n))}function vne(e,r,t,n,a,o){var i=a.direction,l=i==="up"||i==="down",u=a._dims,s=a.active,f,h,p;if(l)for(h=0,p=0;p<s;p++)h+=u.heights[p]+Dr.gapButton;else for(f=0,p=0;p<s;p++)f+=u.widths[p]+Dr.gapButton;n.enable(o,f,h),n.hbar&&n.hbar.attr("opacity","0").transition().attr("opacity","1"),n.vbar&&n.vbar.attr("opacity","0").transition().attr("opacity","1")}function dne(e){var r=!!e.hbar,t=!!e.vbar;r&&e.hbar.transition().attr("opacity","0").each("end",function(){r=!1,t||e.disable()}),t&&e.vbar.transition().attr("opacity","0").each("end",function(){t=!1,r||e.disable()})}function a3(e,r,t,n){e.call(pne,r).call(gne,r,t,n)}function pne(e,r){var t=_a.ensureSingle(e,"rect",Dr.itemRectClassName,function(n){n.attr({rx:Dr.rx,ry:Dr.ry,"shape-rendering":"crispEdges"})});t.call(Uc.stroke,r.bordercolor).call(Uc.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px")}function gne(e,r,t,n){var a=_a.ensureSingle(e,"text",Dr.itemTextClassName,function(l){l.attr({"text-anchor":"start","data-notex":1})}),o=t.label,i=n._fullLayout._meta;i&&(o=_a.templateString(o,i)),a.call(Hu.font,r.font).text(o).call(W1.convertToTspans,n)}function yR(e,r){var t=r.active;e.each(function(n,a){var o=Uu.select(this);a===t&&r.showactive&&o.select("rect."+Dr.itemRectClassName).call(Uc.fill,Dr.activeColor)})}function _R(e){e.select("rect."+Dr.itemRectClassName).call(Uc.fill,Dr.hoverColor)}function wR(e,r){e.select("rect."+Dr.itemRectClassName).call(Uc.fill,r.bgcolor)}function yne(e,r){var t=r._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},n=Hu.tester.selectAll("g."+Dr.dropdownButtonClassName).data(_a.filterVisible(r.buttons));n.enter().append("g").classed(Dr.dropdownButtonClassName,!0);var a=["up","down"].indexOf(r.direction)!==-1;n.each(function(f,h){var p=Uu.select(this);p.call(a3,r,f,e);var b=p.select("."+Dr.itemTextClassName),y=b.node()&&Hu.bBox(b.node()).width,w=Math.max(y+Dr.textPadX,Dr.minWidth),T=r.font.size*mR,m=W1.lineCount(b),k=Math.max(T*m,Dr.minHeight)+Dr.textOffsetY;k=Math.ceil(k),w=Math.ceil(w),t.widths[h]=w,t.heights[h]=k,t.height1=Math.max(t.height1,k),t.width1=Math.max(t.width1,w),a?(t.totalWidth=Math.max(t.totalWidth,w),t.openWidth=t.totalWidth,t.totalHeight+=k+Dr.gapButton,t.openHeight+=k+Dr.gapButton):(t.totalWidth+=w+Dr.gapButton,t.openWidth+=w+Dr.gapButton,t.totalHeight=Math.max(t.totalHeight,k),t.openHeight=t.totalHeight)}),a?t.totalHeight-=Dr.gapButton:t.totalWidth-=Dr.gapButton,t.headerWidth=t.width1+Dr.arrowPadX,t.headerHeight=t.height1,r.type==="dropdown"&&(a?(t.width1+=Dr.arrowPadX,t.totalHeight=t.height1):t.totalWidth=t.width1,t.totalWidth+=Dr.arrowPadX),n.remove();var o=t.totalWidth+r.pad.l+r.pad.r,i=t.totalHeight+r.pad.t+r.pad.b,l=e._fullLayout._size;t.lx=l.l+l.w*r.x,t.ly=l.t+l.h*(1-r.y);var u="left";_a.isRightAnchor(r)&&(t.lx-=o,u="right"),_a.isCenterAnchor(r)&&(t.lx-=o/2,u="center");var s="top";_a.isBottomAnchor(r)&&(t.ly-=i,s="bottom"),_a.isMiddleAnchor(r)&&(t.ly-=i/2,s="middle"),t.totalWidth=Math.ceil(t.totalWidth),t.totalHeight=Math.ceil(t.totalHeight),t.lx=Math.round(t.lx),t.ly=Math.round(t.ly),Bc.autoMargin(e,MR(r),{x:r.x,y:r.y,l:o*({right:1,center:.5}[u]||0),r:o*({left:1,center:.5}[u]||0),b:i*({top:1,middle:.5}[s]||0),t:i*({bottom:1,middle:.5}[s]||0)})}function MR(e){return Dr.autoMarginIdRoot+e._index}function TR(e,r,t,n){n=n||{};var a=e.select("."+Dr.itemRectClassName),o=e.select("."+Dr.itemTextClassName),i=r.borderwidth,l=t.index,u=r._dims;Hu.setTranslate(e,i+t.x,i+t.y);var s=["up","down"].indexOf(r.direction)!==-1,f=n.height||(s?u.heights[l]:u.height1);a.attr({x:0,y:0,width:n.width||(s?u.width1:u.widths[l]),height:f});var h=r.font.size*mR,p=W1.lineCount(o),b=(p-1)*h/2;W1.positionText(o,Dr.textOffsetX,f/2-b+Dr.textOffsetY),s?t.y+=u.heights[l]+t.yPad:t.x+=u.widths[l]+t.xPad,t.index++}function n3(e,r){e.attr(Dr.menuIndexAttrName,r||"-1").selectAll("g."+Dr.dropdownButtonClassName).remove()}});var CR=de((lde,SR)=>{"use strict";var mne=V1();SR.exports={moduleType:"component",name:mne.name,layoutAttributes:r3(),supplyLayoutDefaults:vR(),draw:kR()}});var Vc=de((sde,ER)=>{"use strict";ER.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}});var i3=de((ude,RR)=>{"use strict";var LR=kn(),xne=Q0(),bne=Tt().extendDeepAll,_ne=qn().overrideAll,wne=bf(),DR=yt().templatedArray,ms=Vc(),Mne=DR("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});RR.exports=_ne(DR("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:Mne,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:bne(xne({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:wne.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:LR({})},font:LR({}),activebgcolor:{valType:"color",dflt:ms.gripBgActiveColor},bgcolor:{valType:"color",dflt:ms.railBgColor},bordercolor:{valType:"color",dflt:ms.railBorderColor},borderwidth:{valType:"number",min:0,dflt:ms.railBorderWidth},ticklen:{valType:"number",min:0,dflt:ms.tickLength},tickcolor:{valType:"color",dflt:ms.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:ms.minorTickLength}}),"arraydraw","from-root")});var NR=de((fde,FR)=>{"use strict";var Vu=ir(),PR=ai(),IR=i3(),Tne=Vc(),Ane=Tne.name,kne=IR.steps;FR.exports=function(r,t){PR(r,t,{name:Ane,handleItemDefaults:Sne})};function Sne(e,r,t){function n(h,p){return Vu.coerce(e,r,IR,h,p)}for(var a=PR(e,r,{name:"steps",handleItemDefaults:Cne}),o=0,i=0;i<a.length;i++)a[i].visible&&o++;var l;if(o<2?l=r.visible=!1:l=n("visible"),!!l){r._stepCount=o;var u=r._visibleSteps=Vu.filterVisible(a),s=n("active");(a[s]||{}).visible||(r.active=u[0]._index),n("x"),n("y"),Vu.noneOrAll(e,r,["x","y"]),n("xanchor"),n("yanchor"),n("len"),n("lenmode"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),Vu.coerceFont(n,"font",t.font);var f=n("currentvalue.visible");f&&(n("currentvalue.xanchor"),n("currentvalue.prefix"),n("currentvalue.suffix"),n("currentvalue.offset"),Vu.coerceFont(n,"currentvalue.font",r.font)),n("transition.duration"),n("transition.easing"),n("bgcolor"),n("activebgcolor"),n("bordercolor"),n("borderwidth"),n("ticklen"),n("tickwidth"),n("tickcolor"),n("minorticklen")}}function Cne(e,r){function t(o,i){return Vu.coerce(e,r,kne,o,i)}var n;if(e.method!=="skip"&&!Array.isArray(e.args)?n=r.visible=!1:n=t("visible"),n){t("method"),t("args");var a=t("label","step-"+r._index);t("value",a),t("execute")}}});var WR=de((cde,YR)=>{"use strict";var pi=it(),X1=ln(),sl=Xr(),gi=mt(),wa=ir(),Ene=wa.strTranslate,Gc=On(),Lne=yt().arrayEditor,Vr=Vc(),s3=Cn(),OR=s3.LINE_SPACING,o3=s3.FROM_TL,l3=s3.FROM_BR;YR.exports=function(r){var t=r._context.staticPlot,n=r._fullLayout,a=Dne(n,r),o=n._infolayer.selectAll("g."+Vr.containerClassName).data(a.length>0?[0]:[]);o.enter().append("g").classed(Vr.containerClassName,!0).style("cursor",t?null:"ew-resize");function i(f){f._commandObserver&&(f._commandObserver.remove(),delete f._commandObserver),X1.autoMargin(r,BR(f))}if(o.exit().each(function(){pi.select(this).selectAll("g."+Vr.groupClassName).each(i)}).remove(),a.length!==0){var l=o.selectAll("g."+Vr.groupClassName).data(a,Rne);l.enter().append("g").classed(Vr.groupClassName,!0),l.exit().each(i).remove();for(var u=0;u<a.length;u++){var s=a[u];Pne(r,s)}l.each(function(f){var h=pi.select(this);qne(f),X1.manageCommandObserver(r,f,f._visibleSteps,function(p){var b=h.data()[0];b.active!==p.index&&(b._dragging||HR(r,h,b,p.index,!1,!0))}),Ine(r,pi.select(this),f)})}};function BR(e){return Vr.autoMarginIdRoot+e._index}function Dne(e,r){for(var t=e[Vr.name],n=[],a=0;a<t.length;a++){var o=t[a];o.visible&&(o._gd=r,n.push(o))}return n}function Rne(e){return e._index}function Pne(e,r){var t=gi.tester.selectAll("g."+Vr.labelGroupClass).data(r._visibleSteps);t.enter().append("g").classed(Vr.labelGroupClass,!0);var n=0,a=0;t.each(function(y){var w=pi.select(this),T=UR(w,{step:y},r),m=T.node();if(m){var k=gi.bBox(m);a=Math.max(a,k.height),n=Math.max(n,k.width)}}),t.remove();var o=r._dims={};o.inputAreaWidth=Math.max(Vr.railWidth,Vr.gripHeight);var i=e._fullLayout._size;o.lx=i.l+i.w*r.x,o.ly=i.t+i.h*(1-r.y),r.lenmode==="fraction"?o.outerLength=Math.round(i.w*r.len):o.outerLength=r.len,o.inputAreaStart=0,o.inputAreaLength=Math.round(o.outerLength-r.pad.l-r.pad.r);var l=o.inputAreaLength-2*Vr.stepInset,u=l/(r._stepCount-1),s=n+Vr.labelPadding;if(o.labelStride=Math.max(1,Math.ceil(s/u)),o.labelHeight=a,o.currentValueMaxWidth=0,o.currentValueHeight=0,o.currentValueTotalHeight=0,o.currentValueMaxLines=1,r.currentvalue.visible){var f=gi.tester.append("g");t.each(function(y){var w=Z1(f,r,y.label),T=w.node()&&gi.bBox(w.node())||{width:0,height:0},m=Gc.lineCount(w);o.currentValueMaxWidth=Math.max(o.currentValueMaxWidth,Math.ceil(T.width)),o.currentValueHeight=Math.max(o.currentValueHeight,Math.ceil(T.height)),o.currentValueMaxLines=Math.max(o.currentValueMaxLines,m)}),o.currentValueTotalHeight=o.currentValueHeight+r.currentvalue.offset,f.remove()}o.height=o.currentValueTotalHeight+Vr.tickOffset+r.ticklen+Vr.labelOffset+o.labelHeight+r.pad.t+r.pad.b;var h="left";wa.isRightAnchor(r)&&(o.lx-=o.outerLength,h="right"),wa.isCenterAnchor(r)&&(o.lx-=o.outerLength/2,h="center");var p="top";wa.isBottomAnchor(r)&&(o.ly-=o.height,p="bottom"),wa.isMiddleAnchor(r)&&(o.ly-=o.height/2,p="middle"),o.outerLength=Math.ceil(o.outerLength),o.height=Math.ceil(o.height),o.lx=Math.round(o.lx),o.ly=Math.round(o.ly);var b={y:r.y,b:o.height*l3[p],t:o.height*o3[p]};r.lenmode==="fraction"?(b.l=0,b.xl=r.x-r.len*o3[h],b.r=0,b.xr=r.x+r.len*l3[h]):(b.x=r.x,b.l=o.outerLength*o3[h],b.r=o.outerLength*l3[h]),X1.autoMargin(e,BR(r),b)}function Ine(e,r,t){(t.steps[t.active]||{}).visible||(t.active=t._visibleSteps[0]._index),r.call(Z1,t).call(Bne,t).call(Nne,t).call(zne,t).call(One,e,t).call(Fne,e,t);var n=t._dims;gi.setTranslate(r,n.lx+t.pad.l,n.ly+t.pad.t),r.call(GR,t,!1),r.call(Z1,t)}function Z1(e,r,t){if(r.currentvalue.visible){var n=r._dims,a,o;switch(r.currentvalue.xanchor){case"right":a=n.inputAreaLength-Vr.currentValueInset-n.currentValueMaxWidth,o="left";break;case"center":a=n.inputAreaLength*.5,o="middle";break;default:a=Vr.currentValueInset,o="left"}var i=wa.ensureSingle(e,"text",Vr.labelClass,function(p){p.attr({"text-anchor":o,"data-notex":1})}),l=r.currentvalue.prefix?r.currentvalue.prefix:"";if(typeof t=="string")l+=t;else{var u=r.steps[r.active].label,s=r._gd._fullLayout._meta;s&&(u=wa.templateString(u,s)),l+=u}r.currentvalue.suffix&&(l+=r.currentvalue.suffix),i.call(gi.font,r.currentvalue.font).text(l).call(Gc.convertToTspans,r._gd);var f=Gc.lineCount(i),h=(n.currentValueMaxLines+1-f)*r.currentvalue.font.size*OR;return Gc.positionText(i,a,h),i}}function Fne(e,r,t){var n=wa.ensureSingle(e,"rect",Vr.gripRectClass,function(a){a.call(VR,r,e,t).style("pointer-events","all")});n.attr({width:Vr.gripWidth,height:Vr.gripHeight,rx:Vr.gripRadius,ry:Vr.gripRadius}).call(sl.stroke,t.bordercolor).call(sl.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px")}function UR(e,r,t){var n=wa.ensureSingle(e,"text",Vr.labelClass,function(i){i.attr({"text-anchor":"middle","data-notex":1})}),a=r.step.label,o=t._gd._fullLayout._meta;return o&&(a=wa.templateString(a,o)),n.call(gi.font,t.font).text(a).call(Gc.convertToTspans,t._gd),n}function Nne(e,r){var t=wa.ensureSingle(e,"g",Vr.labelsClass),n=r._dims,a=t.selectAll("g."+Vr.labelGroupClass).data(n.labelSteps);a.enter().append("g").classed(Vr.labelGroupClass,!0),a.exit().remove(),a.each(function(o){var i=pi.select(this);i.call(UR,o,r),gi.setTranslate(i,u3(r,o.fraction),Vr.tickOffset+r.ticklen+r.font.size*OR+Vr.labelOffset+n.currentValueTotalHeight)})}function zR(e,r,t,n,a){var o=Math.round(n*(t._stepCount-1)),i=t._visibleSteps[o]._index;i!==t.active&&HR(e,r,t,i,!0,a)}function HR(e,r,t,n,a,o){var i=t.active;t.active=n,Lne(e.layout,Vr.name,t).applyUpdate("active",n);var l=t.steps[t.active];r.call(GR,t,o),r.call(Z1,t),e.emit("plotly_sliderchange",{slider:t,step:t.steps[t.active],interaction:a,previousActive:i}),l&&l.method&&a&&(r._nextMethod?(r._nextMethod.step=l,r._nextMethod.doCallback=a,r._nextMethod.doTransition=o):(r._nextMethod={step:l,doCallback:a,doTransition:o},r._nextMethodRaf=window.requestAnimationFrame(function(){var u=r._nextMethod.step;u.method&&(u.execute&&X1.executeAPICommand(e,u.method,u.args),r._nextMethod=null,r._nextMethodRaf=null)})))}function VR(e,r,t){if(r._context.staticPlot)return;var n=t.node(),a=pi.select(r);function o(){return t.data()[0]}function i(){var l=o();r.emit("plotly_sliderstart",{slider:l});var u=t.select("."+Vr.gripRectClass);pi.event.stopPropagation(),pi.event.preventDefault(),u.call(sl.fill,l.activebgcolor);var s=qR(l,pi.mouse(n)[0]);zR(r,t,l,s,!0),l._dragging=!0;function f(){var p=o(),b=qR(p,pi.mouse(n)[0]);zR(r,t,p,b,!1)}a.on("mousemove",f),a.on("touchmove",f);function h(){var p=o();p._dragging=!1,u.call(sl.fill,p.bgcolor),a.on("mouseup",null),a.on("mousemove",null),a.on("touchend",null),a.on("touchmove",null),r.emit("plotly_sliderend",{slider:p,step:p.steps[p.active]})}a.on("mouseup",h),a.on("touchend",h)}e.on("mousedown",i),e.on("touchstart",i)}function zne(e,r){var t=e.selectAll("rect."+Vr.tickRectClass).data(r._visibleSteps),n=r._dims;t.enter().append("rect").classed(Vr.tickRectClass,!0),t.exit().remove(),t.attr({width:r.tickwidth+"px","shape-rendering":"crispEdges"}),t.each(function(a,o){var i=o%n.labelStride===0,l=pi.select(this);l.attr({height:i?r.ticklen:r.minorticklen}).call(sl.fill,r.tickcolor),gi.setTranslate(l,u3(r,o/(r._stepCount-1))-.5*r.tickwidth,(i?Vr.tickOffset:Vr.minorTickOffset)+n.currentValueTotalHeight)})}function qne(e){var r=e._dims;r.labelSteps=[];for(var t=e._stepCount,n=0;n<t;n+=r.labelStride)r.labelSteps.push({fraction:n/(t-1),step:e._visibleSteps[n]})}function GR(e,r,t){for(var n=e.select("rect."+Vr.gripRectClass),a=0,o=0;o<r._stepCount;o++)if(r._visibleSteps[o]._index===r.active){a=o;break}var i=u3(r,a/(r._stepCount-1));if(!r._invokingCommand){var l=n;t&&r.transition.duration>0&&(l=l.transition().duration(r.transition.duration).ease(r.transition.easing)),l.attr("transform",Ene(i-Vr.gripWidth*.5,r._dims.currentValueTotalHeight))}}function u3(e,r){var t=e._dims;return t.inputAreaStart+Vr.stepInset+(t.inputAreaLength-2*Vr.stepInset)*Math.min(1,Math.max(0,r))}function qR(e,r){var t=e._dims;return Math.min(1,Math.max(0,(r-Vr.stepInset-t.inputAreaStart)/(t.inputAreaLength-2*Vr.stepInset-2*t.inputAreaStart)))}function One(e,r,t){var n=t._dims,a=wa.ensureSingle(e,"rect",Vr.railTouchRectClass,function(o){o.call(VR,r,e,t).style("pointer-events","all")});a.attr({width:n.inputAreaLength,height:Math.max(n.inputAreaWidth,Vr.tickOffset+t.ticklen+n.labelHeight)}).call(sl.fill,t.bgcolor).attr("opacity",0),gi.setTranslate(a,0,n.currentValueTotalHeight)}function Bne(e,r){var t=r._dims,n=t.inputAreaLength-Vr.railInset*2,a=wa.ensureSingle(e,"rect",Vr.railRectClass);a.attr({width:n,height:Vr.railWidth,rx:Vr.railRadius,ry:Vr.railRadius,"shape-rendering":"crispEdges"}).call(sl.stroke,r.bordercolor).call(sl.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px"),gi.setTranslate(a,Vr.railInset,(t.inputAreaWidth-Vr.railWidth)*.5+t.currentValueTotalHeight)}});var ZR=de((hde,XR)=>{"use strict";var Une=Vc();XR.exports={moduleType:"component",name:Une.name,layoutAttributes:i3(),supplyLayoutDefaults:NR(),draw:WR()}});var J1=de((vde,KR)=>{"use strict";var JR=Si();KR.exports={bgcolor:{valType:"color",dflt:JR.background,editType:"plot"},bordercolor:{valType:"color",dflt:JR.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}});var f3=de((dde,QR)=>{"use strict";QR.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}});var K1=de((pde,$R)=>{"use strict";$R.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}});var rP=de($1=>{"use strict";var Hne=en(),Vne=On(),jR=K1(),Gne=Cn().LINE_SPACING,Q1=jR.name;function eP(e){var r=e&&e[Q1];return r&&r.visible}$1.isVisible=eP;$1.makeData=function(e){for(var r=Hne.list({_fullLayout:e},"x",!0),t=e.margin,n=[],a=0;a<r.length;a++){var o=r[a];if(eP(o)){n.push(o);var i=o[Q1];i._id=Q1+o._id,i._height=(e.height-t.b-t.t)*i.thickness,i._offsetShift=Math.floor(i.borderwidth/2)}}e._rangeSliderData=n};$1.autoMarginOpts=function(e,r){var t=e._fullLayout,n=r[Q1],a=r._id.charAt(0),o=0,i=0;if(r.side==="bottom"&&(o=r._depth,r.title.text!==t._dfltTitle[a])){i=1.5*r.title.font.size+10+n._offsetShift;var l=(r.title.text.match(Vne.BR_TAG_ALL)||[]).length;i+=l*r.title.font.size*Gne}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:n._height+o+Math.max(t.margin.b,i),pad:jR.extraPad+n._offsetShift*2}}});var iP=de((yde,aP)=>{"use strict";var j1=ir(),tP=yt(),nP=en(),Yne=J1(),Wne=f3();aP.exports=function(r,t,n){var a=r[n],o=t[n];if(!(a.rangeslider||t._requestRangeslider[o._id]))return;j1.isPlainObject(a.rangeslider)||(a.rangeslider={});var i=a.rangeslider,l=tP.newContainer(o,"rangeslider");function u(M,d){return j1.coerce(i,l,Yne,M,d)}var s,f;function h(M,d){return j1.coerce(s,f,Wne,M,d)}var p=u("visible");if(p){u("bgcolor",t.plot_bgcolor),u("bordercolor"),u("borderwidth"),u("thickness"),u("autorange",!o.isValidRange(i.range)),u("range");var b=t._subplots;if(b)for(var y=b.cartesian.filter(function(M){return M.slice(0,Math.max(0,M.indexOf("y")))===nP.name2id(n)}).map(function(M){return M.slice(M.indexOf("y"),M.length)}),w=j1.simpleMap(y,nP.id2name),T=0;T<w.length;T++){var m=w[T];s=i[m]||{},f=tP.newContainer(l,m,"yaxis");var k=t[m],S;s.range&&k.isValidRange(s.range)&&(S="fixed");var x=h("rangemode",S);x!=="match"&&h("range",k.range.slice())}l._input=i}}});var lP=de((mde,oP)=>{"use strict";var Xne=en().list,Zne=uu().getAutoRange,Jne=K1();oP.exports=function(r){for(var t=Xne(r,"x",!0),n=0;n<t.length;n++){var a=t[n],o=a[Jne.name];o&&o.visible&&o.autorange&&(o._input.autorange=!0,o._input.range=o.range=Zne(r,a))}}});var cP=de((xde,fP)=>{"use strict";var ed=it(),Kne=Er(),Qne=ln(),qt=ir(),rd=qt.strTranslate,uP=mt(),ul=Xr(),$ne=Nf(),jne=Nm(),c3=en(),eae=oi(),rae=Ko(),Kr=K1();fP.exports=function(e){for(var r=e._fullLayout,t=r._rangeSliderData,n=0;n<t.length;n++){var a=t[n][Kr.name];a._clipId=a._id+"-"+r._uid}function o(l){return l._name}var i=r._infolayer.selectAll("g."+Kr.containerClassName).data(t,o);i.exit().each(function(l){var u=l[Kr.name];r._topdefs.select("#"+u._clipId).remove()}).remove(),t.length!==0&&(i.enter().append("g").classed(Kr.containerClassName,!0).attr("pointer-events","all"),i.each(function(l){var u=ed.select(this),s=l[Kr.name],f=r[c3.id2name(l.anchor)],h=s[c3.id2name(l.anchor)];if(s.range){var p=qt.simpleMap(s.range,l.r2l),b=qt.simpleMap(l.range,l.r2l),y;b[0]<b[1]?y=[Math.min(p[0],b[0]),Math.max(p[1],b[1])]:y=[Math.max(p[0],b[0]),Math.min(p[1],b[1])],s.range=s._input.range=qt.simpleMap(y,l.l2r)}l.cleanRange("rangeslider.range");var w=r._size,T=l.domain;s._width=w.w*(T[1]-T[0]);var m=Math.round(w.l+w.w*T[0]),k=Math.round(w.t+w.h*(1-l._counterDomainMin)+(l.side==="bottom"?l._depth:0)+s._offsetShift+Kr.extraPad);u.attr("transform",rd(m,k)),s._rl=qt.simpleMap(s.range,l.r2l);var S=s._rl[0],x=s._rl[1],M=x-S;if(s.p2d=function(N){return N/s._width*M+S},s.d2p=function(N){return(N-S)/M*s._width},l.rangebreaks){var d=l.locateBreaks(S,x);if(d.length){var _,g,c=0;for(_=0;_<d.length;_++)g=d[_],c+=g.max-g.min;var A=s._width/(x-S-c),v=[-A*S];for(_=0;_<d.length;_++)g=d[_],v.push(v[v.length-1]-A*(g.max-g.min));for(s.d2p=function(N){for(var F=v[0],I=0;I<d.length;I++){var L=d[I];if(N>=L.max)F=v[I+1];else if(N<L.min)break}return F+A*N},_=0;_<d.length;_++)g=d[_],g.pmin=s.d2p(g.min),g.pmax=s.d2p(g.max);s.p2d=function(N){for(var F=v[0],I=0;I<d.length;I++){var L=d[I];if(N>=L.pmax)F=v[I+1];else if(N<L.pmin)break}return(N-F)/A}}}if(h.rangemode!=="match"){var D=f.r2l(h.range[0]),E=f.r2l(h.range[1]),R=E-D;s.d2pOppAxis=function(N){return(N-D)/R*s._height}}u.call(iae,e,l,s).call(oae,e,l,s).call(lae,e,l,s).call(uae,e,l,s,h).call(fae,e,l,s).call(cae,e,l,s),tae(u,e,l,s),aae(u,e,l,s,f,h),l.side==="bottom"&&$ne.draw(e,l._id+"title",{propContainer:l,propName:l._name+".title.text",placeholder:r._dfltTitle.x,attributes:{x:l._offset+l._length/2,y:k+s._height+s._offsetShift+10+1.5*l.title.font.size,"text-anchor":"middle"}})}))};function sP(e){return typeof e.clientX=="number"?e.clientX:e.touches&&e.touches.length>0?e.touches[0].clientX:0}function tae(e,r,t,n){if(r._context.staticPlot)return;var a=e.select("rect."+Kr.slideBoxClassName).node(),o=e.select("rect."+Kr.grabAreaMinClassName).node(),i=e.select("rect."+Kr.grabAreaMaxClassName).node();function l(){var u=ed.event,s=u.target,f=sP(u),h=f-e.node().getBoundingClientRect().left,p=n.d2p(t._rl[0]),b=n.d2p(t._rl[1]),y=eae.coverSlip();this.addEventListener("touchmove",w),this.addEventListener("touchend",T),y.addEventListener("mousemove",w),y.addEventListener("mouseup",T);function w(m){var k=sP(m),S=+k-f,x,M,d;switch(s){case a:if(d="ew-resize",p+S>t._length||b+S<0)return;x=p+S,M=b+S;break;case o:if(d="col-resize",p+S>t._length)return;x=p+S,M=b;break;case i:if(d="col-resize",b+S<0)return;x=p,M=b+S;break;default:d="ew-resize",x=h,M=h+S;break}if(M<x){var _=M;M=x,x=_}n._pixelMin=x,n._pixelMax=M,rae(ed.select(y),d),nae(e,r,t,n)}function T(){y.removeEventListener("mousemove",w),y.removeEventListener("mouseup",T),this.removeEventListener("touchmove",w),this.removeEventListener("touchend",T),qt.removeElement(y)}}e.on("mousedown",l),e.on("touchstart",l)}function nae(e,r,t,n){function a(l){return t.l2r(qt.constrain(l,n._rl[0],n._rl[1]))}var o=a(n.p2d(n._pixelMin)),i=a(n.p2d(n._pixelMax));window.requestAnimationFrame(function(){Kne.call("_guiRelayout",r,t._name+".range",[o,i])})}function aae(e,r,t,n,a,o){var i=Kr.handleWidth/2;function l(m){return qt.constrain(m,0,n._width)}function u(m){return qt.constrain(m,0,n._height)}function s(m){return qt.constrain(m,-i,n._width+i)}var f=l(n.d2p(t._rl[0])),h=l(n.d2p(t._rl[1]));if(e.select("rect."+Kr.slideBoxClassName).attr("x",f).attr("width",h-f),e.select("rect."+Kr.maskMinClassName).attr("width",f),e.select("rect."+Kr.maskMaxClassName).attr("x",h).attr("width",n._width-h),o.rangemode!=="match"){var p=n._height-u(n.d2pOppAxis(a._rl[1])),b=n._height-u(n.d2pOppAxis(a._rl[0]));e.select("rect."+Kr.maskMinOppAxisClassName).attr("x",f).attr("height",p).attr("width",h-f),e.select("rect."+Kr.maskMaxOppAxisClassName).attr("x",f).attr("y",b).attr("height",n._height-b).attr("width",h-f),e.select("rect."+Kr.slideBoxClassName).attr("y",p).attr("height",b-p)}var y=.5,w=Math.round(s(f-i))-y,T=Math.round(s(h-i))+y;e.select("g."+Kr.grabberMinClassName).attr("transform",rd(w,y)),e.select("g."+Kr.grabberMaxClassName).attr("transform",rd(T,y))}function iae(e,r,t,n){var a=qt.ensureSingle(e,"rect",Kr.bgClassName,function(u){u.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),o=n.borderwidth%2===0?n.borderwidth:n.borderwidth-1,i=-n._offsetShift,l=uP.crispRound(r,n.borderwidth);a.attr({width:n._width+o,height:n._height+o,transform:rd(i,i),"stroke-width":l}).call(ul.stroke,n.bordercolor).call(ul.fill,n.bgcolor)}function oae(e,r,t,n){var a=r._fullLayout,o=qt.ensureSingleById(a._topdefs,"clipPath",n._clipId,function(i){i.append("rect").attr({x:0,y:0})});o.select("rect").attr({width:n._width,height:n._height})}function lae(e,r,t,n){var a=r.calcdata,o=e.selectAll("g."+Kr.rangePlotClassName).data(t._subplotsWith,qt.identity);o.enter().append("g").attr("class",function(l){return Kr.rangePlotClassName+" "+l}).call(uP.setClipUrl,n._clipId,r),o.order(),o.exit().remove();var i;o.each(function(l,u){var s=ed.select(this),f=u===0,h=c3.getFromId(r,l,"y"),p=h._name,b=n[p],y={data:[],layout:{xaxis:{type:t.type,domain:[0,1],range:n.range.slice(),calendar:t.calendar},width:n._width,height:n._height,margin:{t:0,b:0,l:0,r:0}},_context:r._context};t.rangebreaks&&(y.layout.xaxis.rangebreaks=t.rangebreaks),y.layout[p]={type:h.type,domain:[0,1],range:b.rangemode!=="match"?b.range.slice():h.range.slice(),calendar:h.calendar},h.rangebreaks&&(y.layout[p].rangebreaks=h.rangebreaks),Qne.supplyDefaults(y);var w=y._fullLayout.xaxis,T=y._fullLayout[p];w.clearCalc(),w.setScale(),T.clearCalc(),T.setScale();var m={id:l,plotgroup:s,xaxis:w,yaxis:T,isRangePlot:!0};f?i=m:(m.mainplot="xy",m.mainplotinfo=i),jne.rangePlot(r,m,sae(a,l))})}function sae(e,r){for(var t=[],n=0;n<e.length;n++){var a=e[n],o=a[0].trace;o.xaxis+o.yaxis===r&&t.push(a)}return t}function uae(e,r,t,n,a){var o=qt.ensureSingle(e,"rect",Kr.maskMinClassName,function(s){s.attr({x:0,y:0,"shape-rendering":"crispEdges"})});o.attr("height",n._height).call(ul.fill,Kr.maskColor);var i=qt.ensureSingle(e,"rect",Kr.maskMaxClassName,function(s){s.attr({y:0,"shape-rendering":"crispEdges"})});if(i.attr("height",n._height).call(ul.fill,Kr.maskColor),a.rangemode!=="match"){var l=qt.ensureSingle(e,"rect",Kr.maskMinOppAxisClassName,function(s){s.attr({y:0,"shape-rendering":"crispEdges"})});l.attr("width",n._width).call(ul.fill,Kr.maskOppAxisColor);var u=qt.ensureSingle(e,"rect",Kr.maskMaxOppAxisClassName,function(s){s.attr({y:0,"shape-rendering":"crispEdges"})});u.attr("width",n._width).style("border-top",Kr.maskOppBorder).call(ul.fill,Kr.maskOppAxisColor)}}function fae(e,r,t,n){if(!r._context.staticPlot){var a=qt.ensureSingle(e,"rect",Kr.slideBoxClassName,function(o){o.attr({y:0,cursor:Kr.slideBoxCursor,"shape-rendering":"crispEdges"})});a.attr({height:n._height,fill:Kr.slideBoxFill})}}function cae(e,r,t,n){var a=qt.ensureSingle(e,"g",Kr.grabberMinClassName),o=qt.ensureSingle(e,"g",Kr.grabberMaxClassName),i={x:0,width:Kr.handleWidth,rx:Kr.handleRadius,fill:ul.background,stroke:ul.defaultLine,"stroke-width":Kr.handleStrokeWidth,"shape-rendering":"crispEdges"},l={y:Math.round(n._height/4),height:Math.round(n._height/2)},u=qt.ensureSingle(a,"rect",Kr.handleMinClassName,function(b){b.attr(i)});u.attr(l);var s=qt.ensureSingle(o,"rect",Kr.handleMaxClassName,function(b){b.attr(i)});s.attr(l);var f={width:Kr.grabAreaWidth,x:0,y:0,fill:Kr.grabAreaFill,cursor:r._context.staticPlot?void 0:Kr.grabAreaCursor},h=qt.ensureSingle(a,"rect",Kr.grabAreaMinClassName,function(b){b.attr(f)});h.attr("height",n._height);var p=qt.ensureSingle(o,"rect",Kr.grabAreaMaxClassName,function(b){b.attr(f)});p.attr("height",n._height)}});var vP=de((bde,hP)=>{"use strict";var hae=ir(),vae=J1(),dae=f3(),h3=rP();hP.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:hae.extendFlat({},vae,{yaxis:dae})}}},layoutAttributes:J1(),handleDefaults:iP(),calcAutorange:lP(),draw:cP(),isVisible:h3.isVisible,makeData:h3.makeData,autoMarginOpts:h3.autoMarginOpts}});var td=de((_de,pP)=>{"use strict";var pae=kn(),dP=Si(),gae=yt().templatedArray,yae=gae("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});pP.exports={visible:{valType:"boolean",editType:"plot"},buttons:yae,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:pae({editType:"plot"}),bgcolor:{valType:"color",dflt:dP.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:dP.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}});var v3=de((wde,gP)=>{"use strict";gP.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}});var xP=de((Mde,mP)=>{"use strict";var nd=ir(),mae=Xr(),xae=yt(),bae=ai(),yP=td(),d3=v3();mP.exports=function(r,t,n,a,o){var i=r.rangeselector||{},l=xae.newContainer(t,"rangeselector");function u(b,y){return nd.coerce(i,l,yP,b,y)}var s=bae(i,l,{name:"buttons",handleItemDefaults:_ae,calendar:o}),f=u("visible",s.length>0);if(f){var h=wae(t,n,a);u("x",h[0]),u("y",h[1]),nd.noneOrAll(r,t,["x","y"]),u("xanchor"),u("yanchor"),nd.coerceFont(u,"font",n.font);var p=u("bgcolor");u("activecolor",mae.contrast(p,d3.lightAmount,d3.darkAmount)),u("bordercolor"),u("borderwidth")}};function _ae(e,r,t,n){var a=n.calendar;function o(u,s){return nd.coerce(e,r,yP.buttons,u,s)}var i=o("visible");if(i){var l=o("step");l!=="all"&&(a&&a!=="gregorian"&&(l==="month"||l==="year")?r.stepmode="backward":o("stepmode"),o("count")),o("label")}}function wae(e,r,t){for(var n=t.filter(function(l){return r[l].anchor===e._id}),a=0,o=0;o<n.length;o++){var i=r[n[o]].domain;i&&(a=Math.max(i[1],a))}return[e.domain[0],a+d3.yPad]}});var _P=de((Tde,bP)=>{"use strict";var Mae=vp(),Tae=ir().titleCase;bP.exports=function(r,t){var n=r._name,a={};if(t.step==="all")a[n+".autorange"]=!0;else{var o=Aae(r,t);a[n+".range[0]"]=o[0],a[n+".range[1]"]=o[1]}return a};function Aae(e,r){var t=e.range,n=new Date(e.r2l(t[1])),a=r.step,o=Mae["utc"+Tae(a)],i=r.count,l;switch(r.stepmode){case"backward":l=e.l2r(+o.offset(n,-i));break;case"todate":var u=o.offset(n,-i);l=e.l2r(+o.ceil(u));break}var s=t[1];return[l,s]}});var EP=de((Ade,CP)=>{"use strict";var id=it(),kae=Er(),Sae=ln(),wP=Xr(),SP=mt(),xo=ir(),MP=xo.strTranslate,ad=On(),Cae=en(),y3=Cn(),TP=y3.LINE_SPACING,AP=y3.FROM_TL,kP=y3.FROM_BR,g3=v3(),Eae=_P();CP.exports=function(r){var t=r._fullLayout,n=t._infolayer.selectAll(".rangeselector").data(Lae(r),Dae);n.enter().append("g").classed("rangeselector",!0),n.exit().remove(),n.style({cursor:"pointer","pointer-events":"all"}),n.each(function(a){var o=id.select(this),i=a,l=i.rangeselector,u=o.selectAll("g.button").data(xo.filterVisible(l.buttons));u.enter().append("g").classed("button",!0),u.exit().remove(),u.each(function(s){var f=id.select(this),h=Eae(i,s);s._isActive=Rae(i,s,h),f.call(p3,l,s),f.call(Iae,l,s,r),f.on("click",function(){r._dragged||kae.call("_guiRelayout",r,h)}),f.on("mouseover",function(){s._isHovered=!0,f.call(p3,l,s)}),f.on("mouseout",function(){s._isHovered=!1,f.call(p3,l,s)})}),Nae(r,u,l,i._name,o)})};function Lae(e){for(var r=Cae.list(e,"x",!0),t=[],n=0;n<r.length;n++){var a=r[n];a.rangeselector&&a.rangeselector.visible&&t.push(a)}return t}function Dae(e){return e._id}function Rae(e,r,t){if(r.step==="all")return e.autorange===!0;var n=Object.keys(t);return e.range[0]===t[n[0]]&&e.range[1]===t[n[1]]}function p3(e,r,t){var n=xo.ensureSingle(e,"rect","selector-rect",function(a){a.attr("shape-rendering","crispEdges")});n.attr({rx:g3.rx,ry:g3.ry}),n.call(wP.stroke,r.bordercolor).call(wP.fill,Pae(r,t)).style("stroke-width",r.borderwidth+"px")}function Pae(e,r){return r._isActive||r._isHovered?e.activecolor:e.bgcolor}function Iae(e,r,t,n){function a(i){ad.convertToTspans(i,n)}var o=xo.ensureSingle(e,"text","selector-text",function(i){i.attr("text-anchor","middle")});o.call(SP.font,r.font).text(Fae(t,n._fullLayout._meta)).call(a)}function Fae(e,r){return e.label?r?xo.templateString(e.label,r):e.label:e.step==="all"?"all":e.count+e.step.charAt(0)}function Nae(e,r,t,n,a){var o=0,i=0,l=t.borderwidth;r.each(function(){var b=id.select(this),y=b.select(".selector-text"),w=t.font.size*TP,T=Math.max(w*ad.lineCount(y),16)+3;i=Math.max(i,T)}),r.each(function(){var b=id.select(this),y=b.select(".selector-rect"),w=b.select(".selector-text"),T=w.node()&&SP.bBox(w.node()).width,m=t.font.size*TP,k=ad.lineCount(w),S=Math.max(T+10,g3.minButtonWidth);b.attr("transform",MP(l+o,l)),y.attr({x:0,y:0,width:S,height:i}),ad.positionText(w,S/2,i/2-(k-1)*m/2+3),o+=S+5});var u=e._fullLayout._size,s=u.l+u.w*t.x,f=u.t+u.h*(1-t.y),h="left";xo.isRightAnchor(t)&&(s-=o,h="right"),xo.isCenterAnchor(t)&&(s-=o/2,h="center");var p="top";xo.isBottomAnchor(t)&&(f-=i,p="bottom"),xo.isMiddleAnchor(t)&&(f-=i/2,p="middle"),o=Math.ceil(o),i=Math.ceil(i),s=Math.round(s),f=Math.round(f),Sae.autoMargin(e,n+"-range-selector",{x:t.x,y:t.y,l:o*AP[h],r:o*kP[h],b:i*kP[p],t:i*AP[p]}),a.attr("transform",MP(s,f))}});var DP=de((kde,LP)=>{"use strict";LP.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:td()}}},layoutAttributes:td(),handleDefaults:xP(),draw:EP()}});var od=de(m3=>{"use strict";var RP=Tt().extendFlat;m3.attributes=function(e,r){e=e||{},r=r||{};var t={valType:"info_array",editType:e.editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},n=e.name?e.name+" ":"",a=e.trace?"trace ":"subplot ",o=r.description?" "+r.description:"",i={x:RP({},t,{}),y:RP({},t,{}),editType:e.editType};return e.noGridCell||(i.row={valType:"integer",min:0,dflt:0,editType:e.editType},i.column={valType:"integer",min:0,dflt:0,editType:e.editType}),i};m3.defaults=function(e,r,t,n){var a=n&&n.x||[0,1],o=n&&n.y||[0,1],i=r.grid;if(i){var l=t("domain.column");l!==void 0&&(l<i.columns?a=i._domains.x[l]:delete e.domain.column);var u=t("domain.row");u!==void 0&&(u<i.rows?o=i._domains.y[u]:delete e.domain.row)}var s=t("domain.x",a),f=t("domain.y",o);s[0]<s[1]||(e.domain.x=a.slice()),f[0]<f[1]||(e.domain.y=o.slice())}});var zP=de((Cde,NP)=>{"use strict";var zae=ir(),qae=Os().counter,Oae=od().attributes,PP=on().idRegex,Bae=yt(),x3={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[qae("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[PP.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[PP.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:Oae({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function ld(e,r,t){var n=r[t+"axes"],a=Object.keys((e._splomAxes||{})[t]||{});if(Array.isArray(n))return n;if(a.length)return a}function Uae(e,r){var t=e.grid||{},n=ld(r,t,"x"),a=ld(r,t,"y");if(!e.grid&&!n&&!a)return;var o=Array.isArray(t.subplots)&&Array.isArray(t.subplots[0]),i=Array.isArray(n),l=Array.isArray(a),u=i&&n!==t.xaxes&&l&&a!==t.yaxes,s,f;o?(s=t.subplots.length,f=t.subplots[0].length):(l&&(s=a.length),i&&(f=n.length));var h=Bae.newContainer(r,"grid");function p(d,_){return zae.coerce(t,h,x3,d,_)}var b=p("rows",s),y=p("columns",f);if(!(b*y>1)){delete r.grid;return}if(!o&&!i&&!l){var w=p("pattern")==="independent";w&&(o=!0)}h._hasSubplotGrid=o;var T=p("roworder"),m=T==="top to bottom",k=o?.2:.1,S=o?.3:.1,x,M;u&&r._splomGridDflt&&(x=r._splomGridDflt.xside,M=r._splomGridDflt.yside),h._domains={x:IP("x",p,k,x,y),y:IP("y",p,S,M,b,m)}}function IP(e,r,t,n,a,o){var i=r(e+"gap",t),l=r("domain."+e);r(e+"side",n);for(var u=new Array(a),s=l[0],f=(l[1]-s)/(a-i),h=f*(1-i),p=0;p<a;p++){var b=s+f*p;u[o?a-1-p:p]=[b,b+h]}return u}function Hae(e,r){var t=r.grid;if(!(!t||!t._domains)){var n=e.grid||{},a=r._subplots,o=t._hasSubplotGrid,i=t.rows,l=t.columns,u=t.pattern==="independent",s,f,h,p,b,y,w,T=t._axisMap={};if(o){var m=n.subplots||[];y=t.subplots=new Array(i);var k=1;for(s=0;s<i;s++){var S=y[s]=new Array(l),x=m[s]||[];for(f=0;f<l;f++)if(u?(b=k===1?"xy":"x"+k+"y"+k,k++):b=x[f],S[f]="",a.cartesian.indexOf(b)!==-1){if(w=b.indexOf("y"),h=b.slice(0,w),p=b.slice(w),T[h]!==void 0&&T[h]!==f||T[p]!==void 0&&T[p]!==s)continue;S[f]=b,T[h]=f,T[p]=s}}}else{var M=ld(r,n,"x"),d=ld(r,n,"y");t.xaxes=FP(M,a.xaxis,l,T,"x"),t.yaxes=FP(d,a.yaxis,i,T,"y")}var _=t._anchors={},g=t.roworder==="top to bottom";for(var c in T){var A=c.charAt(0),v=t[A+"side"],D,E,R;if(v.length<8)_[c]="free";else if(A==="x"){if(v.charAt(0)==="t"===g?(D=0,E=1,R=i):(D=i-1,E=-1,R=-1),o){var N=T[c];for(s=D;s!==R;s+=E)if(b=y[s][N],!!b&&(w=b.indexOf("y"),b.slice(0,w)===c)){_[c]=b.slice(w);break}}else for(s=D;s!==R;s+=E)if(p=t.yaxes[s],a.cartesian.indexOf(c+p)!==-1){_[c]=p;break}}else if(v.charAt(0)==="l"?(D=0,E=1,R=l):(D=l-1,E=-1,R=-1),o){var F=T[c];for(s=D;s!==R;s+=E)if(b=y[F][s],!!b&&(w=b.indexOf("y"),b.slice(w)===c)){_[c]=b.slice(0,w);break}}else for(s=D;s!==R;s+=E)if(h=t.xaxes[s],a.cartesian.indexOf(h+c)!==-1){_[c]=h;break}}}}function FP(e,r,t,n,a){var o=new Array(t),i;function l(u,s){r.indexOf(s)!==-1&&n[s]===void 0?(o[u]=s,n[s]=u):o[u]=""}if(Array.isArray(e))for(i=0;i<t;i++)l(i,e[i]);else for(l(0,a),i=1;i<t;i++)l(i,a+(i+1));return o}NP.exports={moduleType:"component",name:"grid",schema:{layout:{grid:x3}},layoutAttributes:x3,sizeDefaults:Uae,contentDefaults:Hae}});var b3=de((Ede,qP)=>{"use strict";qP.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc"}});var UP=de((Lde,BP)=>{"use strict";var OP=nt(),Vae=Er(),Gae=ir(),Yae=yt(),Wae=b3();BP.exports=function(e,r,t,n){var a="error_"+n.axis,o=Yae.newContainer(r,a),i=e[a]||{};function l(y,w){return Gae.coerce(i,o,Wae,y,w)}var u=i.array!==void 0||i.value!==void 0||i.type==="sqrt",s=l("visible",u);if(s!==!1){var f=l("type","array"in i?"data":"percent"),h=!0;f!=="sqrt"&&(h=l("symmetric",!((f==="data"?"arrayminus":"valueminus")in i))),f==="data"?(l("array"),l("traceref"),h||(l("arrayminus"),l("tracerefminus"))):(f==="percent"||f==="constant")&&(l("value"),h||l("valueminus"));var p="copy_"+n.inherit+"style";if(n.inherit){var b=r["error_"+n.inherit];(b||{}).visible&&l(p,!(i.color||OP(i.thickness)||OP(i.width)))}(!n.inherit||!o[p])&&(l("color",t),l("thickness"),l("width",Vae.traceIs(r,"gl3d")?0:4))}}});var _3=de((Dde,VP)=>{"use strict";VP.exports=function(r){var t=r.type,n=r.symmetric;if(t==="data"){var a=r.array||[];if(n)return function(s,f){var h=+a[f];return[h,h]};var o=r.arrayminus||[];return function(s,f){var h=+a[f],p=+o[f];return!isNaN(h)||!isNaN(p)?[p||0,h||0]:[NaN,NaN]}}else{var i=HP(t,r.value),l=HP(t,r.valueminus);return n||r.valueminus===void 0?function(s){var f=i(s);return[f,f]}:function(s){return[l(s),i(s)]}}};function HP(e,r){if(e==="percent")return function(t){return Math.abs(t*r/100)};if(e==="constant")return function(){return Math.abs(r)};if(e==="sqrt")return function(t){return Math.sqrt(Math.abs(t))}}});var WP=de((Rde,YP)=>{"use strict";var w3=nt(),Xae=Er(),M3=Lt(),Zae=ir(),Jae=_3();YP.exports=function(r){for(var t=r.calcdata,n=0;n<t.length;n++){var a=t[n],o=a[0].trace;if(o.visible===!0&&Xae.traceIs(o,"errorBarsOK")){var i=M3.getFromId(r,o.xaxis),l=M3.getFromId(r,o.yaxis);GP(a,o,i,"x"),GP(a,o,l,"y")}}};function GP(e,r,t,n){var a=r["error_"+n]||{},o=a.visible&&["linear","log"].indexOf(t.type)!==-1,i=[];if(o){for(var l=Jae(a),u=0;u<e.length;u++){var s=e[u],f=s.i;if(f===void 0)f=u;else if(f===null)continue;var h=s[n];if(w3(t.c2l(h))){var p=l(h,f);if(w3(p[0])&&w3(p[1])){var b=s[n+"s"]=h-p[0],y=s[n+"h"]=h+p[1];i.push(b,y)}}}var w=t._id,T=r._extremes[w],m=M3.findExtremes(t,i,Zae.extendFlat({tozero:T.opts.tozero},{padded:!0}));T.min=T.min.concat(m.min),T.max=T.max.concat(m.max)}}});var JP=de((Pde,ZP)=>{"use strict";var XP=it(),fl=nt(),Kae=mt(),Qae=la();ZP.exports=function(r,t,n,a){var o,i=n.xaxis,l=n.yaxis,u=a&&a.duration>0,s=r._context.staticPlot;t.each(function(f){var h=f[0].trace,p=h.error_x||{},b=h.error_y||{},y;h.ids&&(y=function(k){return k.id});var w=Qae.hasMarkers(h)&&h.marker.maxdisplayed>0;!b.visible&&!p.visible&&(f=[]);var T=XP.select(this).selectAll("g.errorbar").data(f,y);if(T.exit().remove(),!!f.length){p.visible||T.selectAll("path.xerror").remove(),b.visible||T.selectAll("path.yerror").remove(),T.style("opacity",1);var m=T.enter().append("g").classed("errorbar",!0);u&&m.style("opacity",0).transition().duration(a.duration).style("opacity",1),Kae.setClipUrl(T,n.layerClipId,r),T.each(function(k){var S=XP.select(this),x=$ae(k,i,l);if(!(w&&!k.vis)){var M,d=S.select("path.yerror");if(b.visible&&fl(x.x)&&fl(x.yh)&&fl(x.ys)){var _=b.width;M="M"+(x.x-_)+","+x.yh+"h"+2*_+"m-"+_+",0V"+x.ys,x.noYS||(M+="m-"+_+",0h"+2*_),o=!d.size(),o?d=S.append("path").style("vector-effect",s?"none":"non-scaling-stroke").classed("yerror",!0):u&&(d=d.transition().duration(a.duration).ease(a.easing)),d.attr("d",M)}else d.remove();var g=S.select("path.xerror");if(p.visible&&fl(x.y)&&fl(x.xh)&&fl(x.xs)){var c=(p.copy_ystyle?b:p).width;M="M"+x.xh+","+(x.y-c)+"v"+2*c+"m0,-"+c+"H"+x.xs,x.noXS||(M+="m0,-"+c+"v"+2*c),o=!g.size(),o?g=S.append("path").style("vector-effect",s?"none":"non-scaling-stroke").classed("xerror",!0):u&&(g=g.transition().duration(a.duration).ease(a.easing)),g.attr("d",M)}else g.remove()}})}})};function $ae(e,r,t){var n={x:r.c2p(e.x),y:t.c2p(e.y)};return e.yh!==void 0&&(n.yh=t.c2p(e.yh),n.ys=t.c2p(e.ys),fl(n.ys)||(n.noYS=!0,n.ys=t.c2p(e.ys,!0))),e.xh!==void 0&&(n.xh=r.c2p(e.xh),n.xs=r.c2p(e.xs),fl(n.xs)||(n.noXS=!0,n.xs=r.c2p(e.xs,!0))),n}});var $P=de((Ide,QP)=>{"use strict";var jae=it(),KP=Xr();QP.exports=function(r){r.each(function(t){var n=t[0].trace,a=n.error_y||{},o=n.error_x||{},i=jae.select(this);i.selectAll("path.yerror").style("stroke-width",a.thickness+"px").call(KP.stroke,a.color),o.copy_ystyle&&(o=a),i.selectAll("path.xerror").style("stroke-width",o.thickness+"px").call(KP.stroke,o.color)})}});var rI=de((Fde,eI)=>{"use strict";var Yc=ir(),jP=qn().overrideAll,Wc=b3(),xs={error_x:Yc.extendFlat({},Wc),error_y:Yc.extendFlat({},Wc)};delete xs.error_x.copy_zstyle;delete xs.error_y.copy_zstyle;delete xs.error_y.copy_ystyle;var Xc={error_x:Yc.extendFlat({},Wc),error_y:Yc.extendFlat({},Wc),error_z:Yc.extendFlat({},Wc)};delete Xc.error_x.copy_ystyle;delete Xc.error_y.copy_ystyle;delete Xc.error_z.copy_ystyle;delete Xc.error_z.copy_zstyle;eI.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:xs,bar:xs,histogram:xs,scatter3d:jP(Xc,"calc","nested"),scattergl:jP(xs,"calc","nested")}},supplyDefaults:UP(),calc:WP(),makeComputeError:_3(),plot:JP(),style:$P(),hoverInfo:eie};function eie(e,r,t){(r.error_y||{}).visible&&(t.yerr=e.yh-e.y,r.error_y.symmetric||(t.yerrneg=e.y-e.ys)),(r.error_x||{}).visible&&(t.xerr=e.xh-e.x,r.error_x.symmetric||(t.xerrneg=e.x-e.xs))}});var nI=de((Nde,tI)=>{"use strict";tI.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}});var fI=de((zde,uI)=>{"use strict";var cl=it(),T3=Sa(),ud=ln(),aI=Er(),bo=Lt(),sd=oi(),Wa=ir(),mi=Wa.strTranslate,sI=Tt().extendFlat,A3=Ko(),yi=mt(),k3=Xr(),rie=Nf(),tie=On(),nie=Ei().flipScale,aie=R1(),iie=Pm(),oie=Da(),S3=Cn(),iI=S3.LINE_SPACING,oI=S3.FROM_TL,lI=S3.FROM_BR,Dt=nI().cn;function lie(e){var r=e._fullLayout,t=r._infolayer.selectAll("g."+Dt.colorbar).data(sie(e),function(n){return n._id});t.enter().append("g").attr("class",function(n){return n._id}).classed(Dt.colorbar,!0),t.each(function(n){var a=cl.select(this);Wa.ensureSingle(a,"rect",Dt.cbbg),Wa.ensureSingle(a,"g",Dt.cbfills),Wa.ensureSingle(a,"g",Dt.cblines),Wa.ensureSingle(a,"g",Dt.cbaxis,function(i){i.classed(Dt.crisp,!0)}),Wa.ensureSingle(a,"g",Dt.cbtitleunshift,function(i){i.append("g").classed(Dt.cbtitle,!0)}),Wa.ensureSingle(a,"rect",Dt.cboutline);var o=uie(a,n,e);o&&o.then&&(e._promises||[]).push(o),e._context.edits.colorbarPosition&&fie(a,n,e)}),t.exit().each(function(n){ud.autoMargin(e,n._id)}).remove(),t.order()}function sie(e){var r=e._fullLayout,t=e.calcdata,n=[],a,o,i,l;function u(S){return sI(S,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function s(){typeof l.calc=="function"?l.calc(e,i,a):(a._fillgradient=o.reversescale?nie(o.colorscale):o.colorscale,a._zrange=[o[l.min],o[l.max]])}for(var f=0;f<t.length;f++){var h=t[f];if(i=h[0].trace,!!i._module){var p=i._module.colorbar;if(i.visible===!0&&p)for(var b=Array.isArray(p),y=b?p:[p],w=0;w<y.length;w++){l=y[w];var T=l.container;o=T?i[T]:i,o&&o.showscale&&(a=u(o.colorbar),a._id="cb"+i.uid+(b&&T?"-"+T:""),a._traceIndex=i.index,a._propPrefix=(T?T+".":"")+"colorbar.",a._meta=i._meta,s(),n.push(a))}}}for(var m in r._colorAxes)if(o=r[m],o.showscale){var k=r._colorAxes[m];a=u(o.colorbar),a._id="cb"+m,a._propPrefix=m+".colorbar.",a._meta=r._meta,l={min:"cmin",max:"cmax"},k[0]!=="heatmap"&&(i=k[1],l.calc=i._module.colorbar.calc),s(),n.push(a)}return n}function uie(e,r,t){var n=r.orientation==="v",a=r.len,o=r.lenmode,i=r.thickness,l=r.thicknessmode,u=r.outlinewidth,s=r.borderwidth,f=r.bgcolor,h=r.xanchor,p=r.yanchor,b=r.xpad,y=r.ypad,w=r.x,T=n?r.y:1-r.y,m=r.yref==="paper",k=r.xref==="paper",S=t._fullLayout,x=S._size,M=r._fillcolor,d=r._line,_=r.title,g=_.side,c=r._zrange||cl.extent((typeof M=="function"?M:d.color).domain()),A=typeof d.color=="function"?d.color:function(){return d.color},v=typeof M=="function"?M:function(){return M},D=r._levels,E=cie(t,r,c),R=E.fill,N=E.line,F=Math.round(i*(l==="fraction"?n?x.w:x.h:1)),I=F/(n?x.w:x.h),L=Math.round(a*(o==="fraction"?n?x.h:x.w:1)),P=L/(n?x.h:x.w),O=k?x.w:t._fullLayout.width,U=m?x.h:t._fullLayout.height,X=Math.round(n?w*O+b:T*U+y),$={center:.5,right:1}[h]||0,j={top:1,middle:.5}[p]||0,Y=n?w-$*I:T-j*I,q=n?T-j*P:w-$*P,Q=Math.round(n?U*(1-q):O*q);r._lenFrac=P,r._thickFrac=I,r._uFrac=Y,r._vFrac=q;var ae=r._axis=hie(t,r,c);ae.position=I+(n?w+b/x.w:T+y/x.h);var K=["top","bottom"].indexOf(g)!==-1;if(n&&K&&(ae.title.side=g,ae.titlex=w+b/x.w,ae.titley=q+(_.side==="top"?P-y/x.h:y/x.h)),!n&&!K&&(ae.title.side=g,ae.titley=T+y/x.h,ae.titlex=q+b/x.w),d.color&&r.tickmode==="auto"){ae.tickmode="linear",ae.tick0=D.start;var oe=D.size,re=Wa.constrain(L/50,4,15)+1,V=(c[1]-c[0])/((r.nticks||re)*oe);if(V>1){var ee=Math.pow(10,Math.floor(Math.log(V)/Math.LN10));oe*=ee*Wa.roundUp(V/ee,[2,5,10]),(Math.abs(D.start)/D.size+1e-6)%1<2e-6&&(ae.tick0=0)}ae.dtick=oe}ae.domain=n?[q+y/x.h,q+P-y/x.h]:[q+b/x.w,q+P-b/x.w],ae.setScale(),e.attr("transform",mi(Math.round(x.l),Math.round(x.t)));var H=e.select("."+Dt.cbtitleunshift).attr("transform",mi(-Math.round(x.l),-Math.round(x.t))),te=ae.ticklabelposition,le=ae.title.font.size,ve=e.select("."+Dt.cbaxis),Ae,we=0,ce=0;function Se(Ue,ge){var Me={propContainer:ae,propName:r._propPrefix+"title.text",traceIndex:r._traceIndex,_meta:r._meta,placeholder:S._dfltTitle.colorbar,containerGroup:e.select("."+Dt.cbtitle)},ke=Ue.charAt(0)==="h"?Ue.slice(1):"h"+Ue;e.selectAll("."+ke+",."+ke+"-math-group").remove(),rie.draw(t,Ue,sI(Me,ge||{}))}function Ce(){if(n&&K||!n&&!K){var Ue,ge;g==="top"&&(Ue=b+x.l+O*w,ge=y+x.t+U*(1-q-P)+3+le*.75),g==="bottom"&&(Ue=b+x.l+O*w,ge=y+x.t+U*(1-q)-3-le*.25),g==="right"&&(ge=y+x.t+U*T+3+le*.75,Ue=b+x.l+O*q),Se(ae._id+"title",{attributes:{x:Ue,y:ge,"text-anchor":n?"start":"middle"}})}}function Fe(){if(n&&!K||!n&&K){var Ue=ae.position||0,ge=ae._offset+ae._length/2,Me,ke;if(g==="right")ke=ge,Me=x.l+O*Ue+10+le*(ae.showticklabels?1:.5);else if(Me=ge,g==="bottom"&&(ke=x.t+U*Ue+10+(te.indexOf("inside")===-1?ae.tickfont.size:0)+(ae.ticks!=="inside"&&r.ticklen||0)),g==="top"){var me=_.text.split("<br>").length;ke=x.t+U*Ue+10-F-iI*le*me}Se((n?"h":"v")+ae._id+"title",{avoid:{selection:cl.select(t).selectAll("g."+ae._id+"tick"),side:g,offsetTop:n?0:x.t,offsetLeft:n?x.l:0,maxShift:n?S.width:S.height},attributes:{x:Me,y:ke,"text-anchor":"middle"},transform:{rotate:n?-90:0,offset:0}})}}function Ee(){if(!n&&!K||n&&K){var Ue=e.select("."+Dt.cbtitle),ge=Ue.select("text"),Me=[-u/2,u/2],ke=Ue.select(".h"+ae._id+"title-math-group").node(),me=15.6;ge.node()&&(me=parseInt(ge.node().style.fontSize,10)*iI);var ye;if(ke?(ye=yi.bBox(ke),ce=ye.width,we=ye.height,we>me&&(Me[1]-=(we-me)/2)):ge.node()&&!ge.classed(Dt.jsPlaceholder)&&(ye=yi.bBox(ge.node()),ce=ye.width,we=ye.height),n){if(we){if(we+=5,g==="top")ae.domain[1]-=we/x.h,Me[1]*=-1;else{ae.domain[0]+=we/x.h;var pe=tie.lineCount(ge);Me[1]+=(1-pe)*me}Ue.attr("transform",mi(Me[0],Me[1])),ae.setScale()}}else ce&&(g==="right"&&(ae.domain[0]+=(ce+le/2)/x.w),Ue.attr("transform",mi(Me[0],Me[1])),ae.setScale())}e.selectAll("."+Dt.cbfills+",."+Dt.cblines).attr("transform",n?mi(0,Math.round(x.h*(1-ae.domain[1]))):mi(Math.round(x.w*ae.domain[0]),0)),ve.attr("transform",n?mi(0,Math.round(-x.t)):mi(Math.round(-x.l),0));var he=e.select("."+Dt.cbfills).selectAll("rect."+Dt.cbfill).attr("style","").data(R);he.enter().append("rect").classed(Dt.cbfill,!0).attr("style",""),he.exit().remove();var xe=c.map(ae.c2p).map(Math.round).sort(function(Ve,Be){return Ve-Be});he.each(function(Ve,Be){var Ye=[Be===0?c[0]:(R[Be]+R[Be-1])/2,Be===R.length-1?c[1]:(R[Be]+R[Be+1])/2].map(ae.c2p).map(Math.round);n&&(Ye[1]=Wa.constrain(Ye[1]+(Ye[1]>Ye[0])?1:-1,xe[0],xe[1]));var Te=cl.select(this).attr(n?"x":"y",X).attr(n?"y":"x",cl.min(Ye)).attr(n?"width":"height",Math.max(F,2)).attr(n?"height":"width",Math.max(cl.max(Ye)-cl.min(Ye),2));if(r._fillgradient)yi.gradient(Te,t,r._id,n?"vertical":"horizontalreversed",r._fillgradient,"fill");else{var Re=v(Ve).replace("e-","");Te.attr("fill",T3(Re).toHexString())}});var Le=e.select("."+Dt.cblines).selectAll("path."+Dt.cbline).data(d.color&&d.width?N:[]);Le.enter().append("path").classed(Dt.cbline,!0),Le.exit().remove(),Le.each(function(Ve){var Be=X,Ye=Math.round(ae.c2p(Ve))+d.width/2%1;cl.select(this).attr("d","M"+(n?Be+","+Ye:Ye+","+Be)+(n?"h":"v")+F).call(yi.lineGroupStyle,d.width,A(Ve),d.dash)}),ve.selectAll("g."+ae._id+"tick,path").remove();var qe=X+F+(u||0)/2-(r.ticks==="outside"?1:0),Ne=bo.calcTicks(ae),$e=bo.getTickSigns(ae)[2];return bo.drawTicks(t,ae,{vals:ae.ticks==="inside"?bo.clipEnds(ae,Ne):Ne,layer:ve,path:bo.makeTickPath(ae,qe,$e),transFn:bo.makeTransTickFn(ae)}),bo.drawLabels(t,ae,{vals:Ne,layer:ve,transFn:bo.makeTransTickLabelFn(ae),labelFns:bo.makeLabelFns(ae,qe)})}function ze(){var Ue,ge=F+u/2;te.indexOf("inside")===-1&&(Ue=yi.bBox(ve.node()),ge+=n?Ue.width:Ue.height),Ae=H.select("text");var Me=0,ke=n&&g==="top",me=!n&&g==="right",ye=0;if(Ae.node()&&!Ae.classed(Dt.jsPlaceholder)){var pe,he=H.select(".h"+ae._id+"title-math-group").node();he&&(n&&K||!n&&!K)?(Ue=yi.bBox(he),Me=Ue.width,pe=Ue.height):(Ue=yi.bBox(H.node()),Me=Ue.right-x.l-(n?X:Q),pe=Ue.bottom-x.t-(n?Q:X),!n&&g==="top"&&(ge+=Ue.height,ye=Ue.height)),me&&(Ae.attr("transform",mi(Me/2+le/2,0)),Me*=2),ge=Math.max(ge,n?Me:pe)}var xe=(n?b:y)*2+ge+s+u/2,Le=0;!n&&_.text&&p==="bottom"&&T<=0&&(Le=xe/2,xe+=Le,ye+=Le),S._hColorbarMoveTitle=Le,S._hColorbarMoveCBTitle=ye;var qe=s+u,Ne=(n?X:Q)-qe/2-(n?b:0),$e=(n?Q:X)-(n?L:y+ye-Le);e.select("."+Dt.cbbg).attr("x",Ne).attr("y",$e).attr(n?"width":"height",Math.max(xe-Le,2)).attr(n?"height":"width",Math.max(L+qe,2)).call(k3.fill,f).call(k3.stroke,r.bordercolor).style("stroke-width",s);var Ve=me?Math.max(Me-10,0):0;e.selectAll("."+Dt.cboutline).attr("x",(n?X:Q+b)+Ve).attr("y",(n?Q+y-L:X)+(ke?we:0)).attr(n?"width":"height",Math.max(F,2)).attr(n?"height":"width",Math.max(L-(n?2*y+we:2*b+Ve),2)).call(k3.stroke,r.outlinecolor).style({fill:"none","stroke-width":u});var Be=n?$*xe:0,Ye=n?0:(1-j)*xe-ye;if(Be=k?x.l-Be:-Be,Ye=m?x.t-Ye:-Ye,e.attr("transform",mi(Be,Ye)),!n&&(s||T3(f).getAlpha()&&!T3.equals(S.paper_bgcolor,f))){var Te=ve.selectAll("text"),Re=Te[0].length,Qe=e.select("."+Dt.cbbg).node(),Ke=yi.bBox(Qe),ar=yi.getTranslate(e),ue=2;Te.each(function(Mr,Ar){var ft=0,sr=Re-1;if(Ar===ft||Ar===sr){var Pr=yi.bBox(this),$r=yi.getTranslate(this),Fr;if(Ar===sr){var Gr=Pr.right+$r.x,pt=Ke.right+ar.x+Q-s-ue+w;Fr=pt-Gr,Fr>0&&(Fr=0)}else if(Ar===ft){var Rr=Pr.left+$r.x,jr=Ke.left+ar.x+Q+s+ue;Fr=jr-Rr,Fr<0&&(Fr=0)}Fr&&(Re<3?this.setAttribute("transform","translate("+Fr+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var J={},ne=oI[h],De=lI[h],He=oI[p],er=lI[p],nr=xe-F;n?(o==="pixels"?(J.y=T,J.t=L*He,J.b=L*er):(J.t=J.b=0,J.yt=T+a*He,J.yb=T-a*er),l==="pixels"?(J.x=w,J.l=xe*ne,J.r=xe*De):(J.l=nr*ne,J.r=nr*De,J.xl=w-i*ne,J.xr=w+i*De)):(o==="pixels"?(J.x=w,J.l=L*ne,J.r=L*De):(J.l=J.r=0,J.xl=w+a*ne,J.xr=w-a*De),l==="pixels"?(J.y=1-T,J.t=xe*He,J.b=xe*er):(J.t=nr*He,J.b=nr*er,J.yt=T-i*He,J.yb=T+i*er));var fr=r.y<.5?"b":"t",br=r.x<.5?"l":"r";t._fullLayout._reservedMargin[r._id]={};var Sr={r:S.width-Ne-Be,l:Ne+J.r,b:S.height-$e-Ye,t:$e+J.b};k&&m?ud.autoMargin(t,r._id,J):k?t._fullLayout._reservedMargin[r._id][fr]=Sr[fr]:m||n?t._fullLayout._reservedMargin[r._id][br]=Sr[br]:t._fullLayout._reservedMargin[r._id][fr]=Sr[fr]}return Wa.syncOrAsync([ud.previousPromises,Ce,Ee,Fe,ud.previousPromises,ze],t)}function fie(e,r,t){var n=r.orientation==="v",a=t._fullLayout,o=a._size,i,l,u;sd.init({element:e.node(),gd:t,prepFn:function(){i=e.attr("transform"),A3(e)},moveFn:function(s,f){e.attr("transform",i+mi(s,f)),l=sd.align((n?r._uFrac:r._vFrac)+s/o.w,n?r._thickFrac:r._lenFrac,0,1,r.xanchor),u=sd.align((n?r._vFrac:1-r._uFrac)-f/o.h,n?r._lenFrac:r._thickFrac,0,1,r.yanchor);var h=sd.getCursor(l,u,r.xanchor,r.yanchor);A3(e,h)},doneFn:function(){if(A3(e),l!==void 0&&u!==void 0){var s={};s[r._propPrefix+"x"]=l,s[r._propPrefix+"y"]=u,r._traceIndex!==void 0?aI.call("_guiRestyle",t,s,r._traceIndex):aI.call("_guiRelayout",t,s)}}})}function cie(e,r,t){var n=r._levels,a=[],o=[],i,l,u=n.end+n.size/100,s=n.size,f=1.001*t[0]-.001*t[1],h=1.001*t[1]-.001*t[0];for(l=0;l<1e5&&(i=n.start+l*s,!(s>0?i>=u:i<=u));l++)i>f&&i<h&&a.push(i);if(r._fillgradient)o=[0];else if(typeof r._fillcolor=="function"){var p=r._filllevels;if(p)for(u=p.end+p.size/100,s=p.size,l=0;l<1e5&&(i=p.start+l*s,!(s>0?i>=u:i<=u));l++)i>t[0]&&i<t[1]&&o.push(i);else o=a.map(function(b){return b-n.size/2}),o.push(o[o.length-1]+n.size)}else r._fillcolor&&typeof r._fillcolor=="string"&&(o=[0]);return n.size<0&&(a.reverse(),o.reverse()),{line:a,fill:o}}function hie(e,r,t){var n=e._fullLayout,a=r.orientation==="v",o={type:"linear",range:t,tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:r.ticks,ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,labelalias:r.labelalias,ticklabelposition:r.ticklabelposition,ticklabeloverflow:r.ticklabeloverflow,ticklabelstep:r.ticklabelstep,tickfont:r.tickfont,tickangle:r.tickangle,tickformat:r.tickformat,exponentformat:r.exponentformat,minexponent:r.minexponent,separatethousands:r.separatethousands,showexponent:r.showexponent,showtickprefix:r.showtickprefix,tickprefix:r.tickprefix,showticksuffix:r.showticksuffix,ticksuffix:r.ticksuffix,title:r.title,showline:!0,anchor:"free",side:a?"right":"bottom",position:1},i=a?"y":"x",l={type:"linear",_id:i+r._id},u={letter:i,font:n.font,noAutotickangles:i==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:n.calendar};function s(f,h){return Wa.coerce(o,l,oie,f,h)}return aie(o,l,s,u,n),iie(o,l,s,u),l}uI.exports={draw:lie}});var hI=de((qde,cI)=>{"use strict";cI.exports={moduleType:"component",name:"colorbar",attributes:kh(),supplyDefaults:Cg(),draw:fI().draw,hasColorbar:yg()}});var dI=de((Ode,vI)=>{"use strict";vI.exports={moduleType:"component",name:"legend",layoutAttributes:T2(),supplyLayoutDefaults:k2(),draw:B2(),style:N2()}});var gI=de((Bde,pI)=>{"use strict";pI.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}});var mI=de((Ude,yI)=>{"use strict";yI.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}});var E3=de((Hde,wI)=>{"use strict";var vie=Er(),_I=ir(),C3=_I.extendFlat,xI=_I.extendDeep;function bI(e){var r;switch(e){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function die(e){var r=["xaxis","yaxis","zaxis"];return r.indexOf(e.slice(0,5))>-1}wI.exports=function(r,t){var n,a=r.data,o=r.layout,i=xI([],a),l=xI({},o,bI(t.tileClass)),u=r._context||{};if(t.width&&(l.width=t.width),t.height&&(l.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){l.annotations=[];var s=Object.keys(l);for(n=0;n<s.length;n++)die(s[n])&&(l[s[n]].title={text:""});for(n=0;n<i.length;n++){var f=i[n];f.showscale=!1,f.marker&&(f.marker.showscale=!1),vie.traceIs(f,"pie-like")&&(f.textposition="none")}}if(Array.isArray(t.annotations))for(n=0;n<t.annotations.length;n++)l.annotations.push(t.annotations[n]);var h=Object.keys(l).filter(function(T){return T.match(/^scene\d*$/)});if(h.length){var p={};for(t.tileClass==="thumbnail"&&(p={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<h.length;n++){var b=l[h[n]];b.xaxis||(b.xaxis={}),b.yaxis||(b.yaxis={}),b.zaxis||(b.zaxis={}),C3(b.xaxis,p),C3(b.yaxis,p),C3(b.zaxis,p),b._scene=null}}var y=document.createElement("div");t.tileClass&&(y.className=t.tileClass);var w={gd:y,td:y,layout:l,data:i,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:u.mapboxAccessToken}};return t.setBackground!=="transparent"&&(w.config.setBackground=t.setBackground||"opaque"),w.gd.defaultLayout=bI(t.tileClass),w}});var AI=de((Vde,TI)=>{"use strict";var pie=vh().EventEmitter,gie=Er(),yie=ir(),MI=us(),mie=E3(),xie=g1(),bie=y1();function _ie(e,r){var t=new pie,n=mie(e,{format:"png"}),a=n.gd;a.style.position="absolute",a.style.left="-5000px",document.body.appendChild(a);function o(){var l=MI.getDelay(a._fullLayout);setTimeout(function(){var u=xie(a),s=document.createElement("canvas");s.id=yie.randstr(),t=bie({format:r.format,width:a._fullLayout.width,height:a._fullLayout.height,canvas:s,emitter:t,svg:u}),t.clean=function(){a&&document.body.removeChild(a)}},l)}var i=MI.getRedrawFunc(a);return gie.call("_doPlot",a,n.data,n.layout,n.config).then(i).then(o).catch(function(l){t.emit("error",l)}),t}TI.exports=_ie});var CI=de((Gde,SI)=>{"use strict";var kI=us(),wie={getDelay:kI.getDelay,getRedrawFunc:kI.getRedrawFunc,clone:E3(),toSVG:g1(),svgToImg:y1(),toImage:AI(),downloadImage:am()};SI.exports=wie});var LI=de(_o=>{"use strict";_o.version=E0().version;mb();lw();var Mie=Er(),Zc=_o.register=Mie.register,D3=EC(),EI=Object.keys(D3);for(fd=0;fd<EI.length;fd++)Gu=EI[fd],Gu.charAt(0)!=="_"&&(_o[Gu]=D3[Gu]),Zc({moduleType:"apiMethod",name:Gu,fn:D3[Gu]});var Gu,fd;Zc(GL());Zc([pD(),CD(),Su(),XD(),oR(),CR(),ZR(),vP(),DP(),zP(),rI(),Ri(),hI(),dI(),fo(),cy()]);Zc([gI(),mI()]);window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(Zc(window.PlotlyLocales),delete window.PlotlyLocales);_o.Icons=mv();var cd=fo(),L3=ln();_o.Plots={resize:L3.resize,graphJson:L3.graphJson,sendDataToCloud:L3.sendDataToCloud};_o.Fx={hover:cd.hover,unhover:cd.unhover,loneHover:cd.loneHover,loneUnhover:cd.loneUnhover};_o.Snapshot=CI();_o.PlotSchema=eu()});var RI=de((Wde,DI)=>{"use strict";DI.exports=LI()});var pn=de((Xde,PI)=>{(function(){var e={24:function(a){var o={left:0,top:0};a.exports=i;function i(u,s,f){s=s||u.currentTarget||u.srcElement,Array.isArray(f)||(f=[0,0]);var h=u.clientX||0,p=u.clientY||0,b=l(s);return f[0]=h-b.left,f[1]=p-b.top,f}function l(u){return u===window||u===document||u===document.body?o:u.getBoundingClientRect()}},109:function(a){a.exports=o;function o(i,l,u,s){var f=u[0],h=u[2],p=l[0]-f,b=l[2]-h,y=Math.sin(s),w=Math.cos(s);return i[0]=f+b*y+p*w,i[1]=l[1],i[2]=h+b*w-p*y,i}},160:function(a){a.exports=o;function o(i,l,u){return i[0]=Math.max(l[0],u[0]),i[1]=Math.max(l[1],u[1]),i[2]=Math.max(l[2],u[2]),i[3]=Math.max(l[3],u[3]),i}},216:function(a){"use strict";a.exports=o;function o(i,l){for(var u={},s=0;s<i.length;++s)for(var f=i[s].name,h=f.split("."),p=u,b=0;b<h.length;++b){var y=h[b].split("[");if(y.length>1){y[0]in p||(p[y[0]]=[]),p=p[y[0]];for(var w=1;w<y.length;++w){var T=parseInt(y[w]);w<y.length-1||b<h.length-1?(T in p||(w<y.length-1?p[T]=[]:p[T]={}),p=p[T]):l?p[T]=s:p[T]=i[s].type}}else b<h.length-1?(y[0]in p||(p[y[0]]={}),p=p[y[0]]):l?p[y[0]]=s:p[y[0]]=i[s].type}return u}},236:function(a,o,i){var l=i(8284);a.exports=u;function u(){var s={};return function(f){if((typeof f!="object"||f===null)&&typeof f!="function")throw new Error("Weakmap-shim: Key must be object");var h=f.valueOf(s);return h&&h.identity===s?h:l(f,s)}}},244:function(a){a.exports=o;function o(i,l){return i[0]*l[0]+i[1]*l[1]+i[2]*l[2]}},264:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],h=l[2],p=u[0],b=u[1],y=u[2],w=u[3],T=w*s+b*h-y*f,m=w*f+y*s-p*h,k=w*h+p*f-b*s,S=-p*s-b*f-y*h;return i[0]=T*w+S*-p+m*-y-k*-b,i[1]=m*w+S*-b+k*-p-T*-y,i[2]=k*w+S*-y+T*-b-m*-p,i}},332:function(a,o,i){"use strict";a.exports=D;var l=i(1755),u=i(6867),s=i(1125),f=i(7842),h=i(1318),p=i(946),b=i(5838),y=i(1278),w=i(3637);function T(E){var R=p(E);return[y(R,-1/0),y(R,1/0)]}function m(E,R){for(var N=new Array(R.length),F=0;F<R.length;++F){var I=R[F],L=E[I[0]],P=E[I[1]];N[F]=[y(Math.min(L[0],P[0]),-1/0),y(Math.min(L[1],P[1]),-1/0),y(Math.max(L[0],P[0]),1/0),y(Math.max(L[1],P[1]),1/0)]}return N}function k(E){for(var R=new Array(E.length),N=0;N<E.length;++N){var F=E[N];R[N]=[y(F[0],-1/0),y(F[1],-1/0),y(F[0],1/0),y(F[1],1/0)]}return R}function S(E,R,N){var F=[];return u(N,function(I,L){var P=R[I],O=R[L];if(!(P[0]===O[0]||P[0]===O[1]||P[1]===O[0]||P[1]===O[1])){var U=E[P[0]],X=E[P[1]],$=E[O[0]],j=E[O[1]];s(U,X,$,j)&&F.push([I,L])}}),F}function x(E,R,N,F){var I=[];return u(N,F,function(L,P){var O=R[L];if(!(O[0]===P||O[1]===P)){var U=E[P],X=E[O[0]],$=E[O[1]];s(X,$,U,U)&&I.push([L,P])}}),I}function M(E,R,N,F,I){var L,P,O=E.map(function(ve){return[f(ve[0]),f(ve[1])]});for(L=0;L<N.length;++L){var U=N[L];P=U[0];var X=U[1],$=R[P],j=R[X],Y=w(b(E[$[0]]),b(E[$[1]]),b(E[j[0]]),b(E[j[1]]));if(Y){var q=E.length;E.push([p(Y[0]),p(Y[1])]),O.push(Y),F.push([P,q],[X,q])}}for(F.sort(function(ve,Ae){if(ve[0]!==Ae[0])return ve[0]-Ae[0];var we=O[ve[1]],ce=O[Ae[1]];return h(we[0],ce[0])||h(we[1],ce[1])}),L=F.length-1;L>=0;--L){var Q=F[L];P=Q[0];var ae=R[P],K=ae[0],oe=ae[1],re=E[K],V=E[oe];if((re[0]-V[0]||re[1]-V[1])<0){var ee=K;K=oe,oe=ee}ae[0]=K;var H=ae[1]=Q[1],te;for(I&&(te=ae[2]);L>0&&F[L-1][0]===P;){var Q=F[--L],le=Q[1];I?R.push([H,le,te]):R.push([H,le]),H=le}I?R.push([H,oe,te]):R.push([H,oe])}return O}function d(E,R,N){for(var F=R.length,I=new l(F),L=[],P=0;P<R.length;++P){var O=R[P],U=T(O[0]),X=T(O[1]);L.push([y(U[0],-1/0),y(X[0],-1/0),y(U[1],1/0),y(X[1],1/0)])}u(L,function(Q,ae){I.link(Q,ae)});for(var $=!0,j=new Array(F),P=0;P<F;++P){var Y=I.find(P);Y!==P&&($=!1,E[Y]=[Math.min(E[P][0],E[Y][0]),Math.min(E[P][1],E[Y][1])])}if($)return null;for(var q=0,P=0;P<F;++P){var Y=I.find(P);Y===P?(j[P]=q,E[q++]=E[P]):j[P]=-1}E.length=q;for(var P=0;P<F;++P)j[P]<0&&(j[P]=j[I.find(P)]);return j}function _(E,R){return E[0]-R[0]||E[1]-R[1]}function g(E,R){var N=E[0]-R[0]||E[1]-R[1];return N||(E[2]<R[2]?-1:E[2]>R[2]?1:0)}function c(E,R,N){if(E.length!==0){if(R)for(var F=0;F<E.length;++F){var I=E[F],L=R[I[0]],P=R[I[1]];I[0]=Math.min(L,P),I[1]=Math.max(L,P)}else for(var F=0;F<E.length;++F){var I=E[F],L=I[0],P=I[1];I[0]=Math.min(L,P),I[1]=Math.max(L,P)}N?E.sort(g):E.sort(_);for(var O=1,F=1;F<E.length;++F){var U=E[F-1],X=E[F];X[0]===U[0]&&X[1]===U[1]&&(!N||X[2]===U[2])||(E[O++]=X)}E.length=O}}function A(E,R,N){var F=d(E,[],k(E));return c(R,F,N),!!F}function v(E,R,N){var F=m(E,R),I=S(E,R,F),L=k(E),P=x(E,R,F,L),O=M(E,R,I,P,N),U=d(E,O,L);return c(R,U,N),U?!0:I.length>0||P.length>0}function D(E,R,N){var F;if(N){F=R;for(var I=new Array(R.length),L=0;L<R.length;++L){var P=R[L];I[L]=[P[0],P[1],N[L]]}R=I}for(var O=A(E,R,!!N);v(E,R,!!N);)O=!0;if(N&&O){F.length=0,N.length=0;for(var L=0;L<R.length;++L){var P=R[L];F.push([P[0],P[1]]),N.push(P[2])}}return O}},351:function(a,o,i){"use strict";a.exports=u;var l=i(4687);function u(s,f){f||(f=s,s=window);var h=0,p=0,b=0,y={shift:!1,alt:!1,control:!1,meta:!1},w=!1;function T(v){var D=!1;return"altKey"in v&&(D=D||v.altKey!==y.alt,y.alt=!!v.altKey),"shiftKey"in v&&(D=D||v.shiftKey!==y.shift,y.shift=!!v.shiftKey),"ctrlKey"in v&&(D=D||v.ctrlKey!==y.control,y.control=!!v.ctrlKey),"metaKey"in v&&(D=D||v.metaKey!==y.meta,y.meta=!!v.metaKey),D}function m(v,D){var E=l.x(D),R=l.y(D);"buttons"in D&&(v=D.buttons|0),(v!==h||E!==p||R!==b||T(D))&&(h=v|0,p=E||0,b=R||0,f&&f(h,p,b,y))}function k(v){m(0,v)}function S(){(h||p||b||y.shift||y.alt||y.meta||y.control)&&(p=b=0,h=0,y.shift=y.alt=y.control=y.meta=!1,f&&f(0,0,0,y))}function x(v){T(v)&&f&&f(h,p,b,y)}function M(v){l.buttons(v)===0?m(0,v):m(h,v)}function d(v){m(h|l.buttons(v),v)}function _(v){m(h&~l.buttons(v),v)}function g(){w||(w=!0,s.addEventListener("mousemove",M),s.addEventListener("mousedown",d),s.addEventListener("mouseup",_),s.addEventListener("mouseleave",k),s.addEventListener("mouseenter",k),s.addEventListener("mouseout",k),s.addEventListener("mouseover",k),s.addEventListener("blur",S),s.addEventListener("keyup",x),s.addEventListener("keydown",x),s.addEventListener("keypress",x),s!==window&&(window.addEventListener("blur",S),window.addEventListener("keyup",x),window.addEventListener("keydown",x),window.addEventListener("keypress",x)))}function c(){w&&(w=!1,s.removeEventListener("mousemove",M),s.removeEventListener("mousedown",d),s.removeEventListener("mouseup",_),s.removeEventListener("mouseleave",k),s.removeEventListener("mouseenter",k),s.removeEventListener("mouseout",k),s.removeEventListener("mouseover",k),s.removeEventListener("blur",S),s.removeEventListener("keyup",x),s.removeEventListener("keydown",x),s.removeEventListener("keypress",x),s!==window&&(window.removeEventListener("blur",S),window.removeEventListener("keyup",x),window.removeEventListener("keydown",x),window.removeEventListener("keypress",x)))}g();var A={element:s};return Object.defineProperties(A,{enabled:{get:function(){return w},set:function(v){v?g():c()},enumerable:!0},buttons:{get:function(){return h},enumerable:!0},x:{get:function(){return p},enumerable:!0},y:{get:function(){return b},enumerable:!0},mods:{get:function(){return y},enumerable:!0}}),A}},395:function(a){function o(i,l,u){return i*(1-u)+l*u}a.exports=o},446:function(a,o,i){"use strict";var l=i(7640),u={};function s(f){var h=f.order,p=f.dtype,b=[h,p],y=b.join(":"),w=u[y];return w||(u[y]=w=l(h,p)),w(f),f}a.exports=s},483:function(a){a.exports=o;function o(i){var l=i[0],u=i[1],s=i[2],f=i[3];return l*l+u*u+s*s+f*f}},492:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],h=l[2];return i[0]=s*u[0]+f*u[3]+h*u[6],i[1]=s*u[1]+f*u[4]+h*u[7],i[2]=s*u[2]+f*u[5]+h*u[8],i}},501:function(a,o,i){"use strict";a.exports=S;var l=i(2762),u=i(8116),s=i(1879).n,f=[0,0,0],h=[0,0,0],p=[0,0,0],b=[0,0,0],y=[1,1];function w(x){return x[0]=x[1]=x[2]=0,x}function T(x,M){return x[0]=M[0],x[1]=M[1],x[2]=M[2],x}function m(x,M,d,_,g,c,A,v){this.gl=x,this.vertBuffer=M,this.vao=d,this.shader=_,this.tickCount=g,this.tickOffset=c,this.gridCount=A,this.gridOffset=v}var k=m.prototype;k.bind=function(x,M,d){this.shader.bind(),this.shader.uniforms.model=x,this.shader.uniforms.view=M,this.shader.uniforms.projection=d,y[0]=this.gl.drawingBufferWidth,y[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=y,this.vao.bind()},k.unbind=function(){this.vao.unbind()},k.drawAxisLine=function(x,M,d,_,g){var c=w(h);this.shader.uniforms.majorAxis=h,c[x]=M[1][x]-M[0][x],this.shader.uniforms.minorAxis=c;var A=T(b,d);A[x]+=M[0][x],this.shader.uniforms.offset=A,this.shader.uniforms.lineWidth=g,this.shader.uniforms.color=_;var v=w(p);v[(x+2)%3]=1,this.shader.uniforms.screenAxis=v,this.vao.draw(this.gl.TRIANGLES,6);var v=w(p);v[(x+1)%3]=1,this.shader.uniforms.screenAxis=v,this.vao.draw(this.gl.TRIANGLES,6)},k.drawAxisTicks=function(x,M,d,_,g){if(this.tickCount[x]){var c=w(f);c[x]=1,this.shader.uniforms.majorAxis=c,this.shader.uniforms.offset=M,this.shader.uniforms.minorAxis=d,this.shader.uniforms.color=_,this.shader.uniforms.lineWidth=g;var A=w(p);A[x]=1,this.shader.uniforms.screenAxis=A,this.vao.draw(this.gl.TRIANGLES,this.tickCount[x],this.tickOffset[x])}},k.drawGrid=function(x,M,d,_,g,c){if(this.gridCount[x]){var A=w(h);A[M]=d[1][M]-d[0][M],this.shader.uniforms.minorAxis=A;var v=T(b,_);v[M]+=d[0][M],this.shader.uniforms.offset=v;var D=w(f);D[x]=1,this.shader.uniforms.majorAxis=D;var E=w(p);E[x]=1,this.shader.uniforms.screenAxis=E,this.shader.uniforms.lineWidth=c,this.shader.uniforms.color=g,this.vao.draw(this.gl.TRIANGLES,this.gridCount[x],this.gridOffset[x])}},k.drawZero=function(x,M,d,_,g,c){var A=w(h);this.shader.uniforms.majorAxis=A,A[x]=d[1][x]-d[0][x],this.shader.uniforms.minorAxis=A;var v=T(b,_);v[x]+=d[0][x],this.shader.uniforms.offset=v;var D=w(p);D[M]=1,this.shader.uniforms.screenAxis=D,this.shader.uniforms.lineWidth=c,this.shader.uniforms.color=g,this.vao.draw(this.gl.TRIANGLES,6)},k.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function S(x,M,d){var _=[],g=[0,0,0],c=[0,0,0],A=[0,0,0],v=[0,0,0];_.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var D=0;D<3;++D){for(var N=_.length/3|0,E=0;E<d[D].length;++E){var R=+d[D][E].x;_.push(R,0,1,R,1,1,R,0,-1,R,0,-1,R,1,1,R,1,-1)}var I=_.length/3|0;g[D]=N,c[D]=I-N;for(var N=_.length/3|0,F=0;F<d[D].length;++F){var R=+d[D][F].x;_.push(R,0,1,R,1,1,R,0,-1,R,0,-1,R,1,1,R,1,-1)}var I=_.length/3|0;A[D]=N,v[D]=I-N}var L=l(x,new Float32Array(_)),P=u(x,[{buffer:L,type:x.FLOAT,size:3,stride:0,offset:0}]),O=s(x);return O.attributes.position.location=0,new m(x,L,P,O,c,g,v,A)}},544:function(a,o,i){"use strict";var l=i(5572);a.exports=u;function u(s,f){for(var h=s.length,p=new Array(h),b=0;b<h;++b)p[b]=l(s[b],f[b]);return p}},606:function(a,o,i){var l=i(236);a.exports=u;function u(){var s=l();return{get:function(f,h){var p=s(f);return p.hasOwnProperty("value")?p.value:h},set:function(f,h){return s(f).value=h,this},has:function(f){return"value"in s(f)},delete:function(f){return delete s(f).value}}}},614:function(a,o,i){var l=i(3236),u=l([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),s=l([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=l([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * (view * conePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),h=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);o.meshShader={vertex:u,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},o.pickShader={vertex:f,fragment:h,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},620:function(a){a.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},665:function(a,o,i){"use strict";var l=i(3202);a.exports=h;var u=96;function s(p,b){var y=l(getComputedStyle(p).getPropertyValue(b));return y[0]*h(y[1],p)}function f(p,b){var y=document.createElement("div");y.style["font-size"]="128"+p,b.appendChild(y);var w=s(y,"font-size")/128;return b.removeChild(y),w}function h(p,b){switch(b=b||document.body,p=(p||"px").trim().toLowerCase(),(b===window||b===document)&&(b=document.body),p){case"%":return b.clientHeight/100;case"ch":case"ex":return f(p,b);case"em":return s(b,"font-size");case"rem":return s(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return u;case"cm":return u/2.54;case"mm":return u/25.4;case"pt":return u/72;case"pc":return u/6}return 1}},727:function(a,o,i){"use strict";var l=i(2962),u=6;function s(x){var M=x===2?p:x===3?b:x===4?y:x===5?w:T;return x<6?M(l[x]):M(l)}function f(){return[[0]]}function h(x,M){return[[M[0]],[x[0][0]]]}function p(x){return function(d,_){return[x([[+_[0],+d[0][1]],[+_[1],+d[1][1]]]),x([[+d[0][0],+_[0]],[+d[1][0],+_[1]]]),x(d)]}}function b(x){return function(d,_){return[x([[+_[0],+d[0][1],+d[0][2]],[+_[1],+d[1][1],+d[1][2]],[+_[2],+d[2][1],+d[2][2]]]),x([[+d[0][0],+_[0],+d[0][2]],[+d[1][0],+_[1],+d[1][2]],[+d[2][0],+_[2],+d[2][2]]]),x([[+d[0][0],+d[0][1],+_[0]],[+d[1][0],+d[1][1],+_[1]],[+d[2][0],+d[2][1],+_[2]]]),x(d)]}}function y(x){return function(d,_){return[x([[+_[0],+d[0][1],+d[0][2],+d[0][3]],[+_[1],+d[1][1],+d[1][2],+d[1][3]],[+_[2],+d[2][1],+d[2][2],+d[2][3]],[+_[3],+d[3][1],+d[3][2],+d[3][3]]]),x([[+d[0][0],+_[0],+d[0][2],+d[0][3]],[+d[1][0],+_[1],+d[1][2],+d[1][3]],[+d[2][0],+_[2],+d[2][2],+d[2][3]],[+d[3][0],+_[3],+d[3][2],+d[3][3]]]),x([[+d[0][0],+d[0][1],+_[0],+d[0][3]],[+d[1][0],+d[1][1],+_[1],+d[1][3]],[+d[2][0],+d[2][1],+_[2],+d[2][3]],[+d[3][0],+d[3][1],+_[3],+d[3][3]]]),x([[+d[0][0],+d[0][1],+d[0][2],+_[0]],[+d[1][0],+d[1][1],+d[1][2],+_[1]],[+d[2][0],+d[2][1],+d[2][2],+_[2]],[+d[3][0],+d[3][1],+d[3][2],+_[3]]]),x(d)]}}function w(x){return function(d,_){return[x([[+_[0],+d[0][1],+d[0][2],+d[0][3],+d[0][4]],[+_[1],+d[1][1],+d[1][2],+d[1][3],+d[1][4]],[+_[2],+d[2][1],+d[2][2],+d[2][3],+d[2][4]],[+_[3],+d[3][1],+d[3][2],+d[3][3],+d[3][4]],[+_[4],+d[4][1],+d[4][2],+d[4][3],+d[4][4]]]),x([[+d[0][0],+_[0],+d[0][2],+d[0][3],+d[0][4]],[+d[1][0],+_[1],+d[1][2],+d[1][3],+d[1][4]],[+d[2][0],+_[2],+d[2][2],+d[2][3],+d[2][4]],[+d[3][0],+_[3],+d[3][2],+d[3][3],+d[3][4]],[+d[4][0],+_[4],+d[4][2],+d[4][3],+d[4][4]]]),x([[+d[0][0],+d[0][1],+_[0],+d[0][3],+d[0][4]],[+d[1][0],+d[1][1],+_[1],+d[1][3],+d[1][4]],[+d[2][0],+d[2][1],+_[2],+d[2][3],+d[2][4]],[+d[3][0],+d[3][1],+_[3],+d[3][3],+d[3][4]],[+d[4][0],+d[4][1],+_[4],+d[4][3],+d[4][4]]]),x([[+d[0][0],+d[0][1],+d[0][2],+_[0],+d[0][4]],[+d[1][0],+d[1][1],+d[1][2],+_[1],+d[1][4]],[+d[2][0],+d[2][1],+d[2][2],+_[2],+d[2][4]],[+d[3][0],+d[3][1],+d[3][2],+_[3],+d[3][4]],[+d[4][0],+d[4][1],+d[4][2],+_[4],+d[4][4]]]),x([[+d[0][0],+d[0][1],+d[0][2],+d[0][3],+_[0]],[+d[1][0],+d[1][1],+d[1][2],+d[1][3],+_[1]],[+d[2][0],+d[2][1],+d[2][2],+d[2][3],+_[2]],[+d[3][0],+d[3][1],+d[3][2],+d[3][3],+_[3]],[+d[4][0],+d[4][1],+d[4][2],+d[4][3],+_[4]]]),x(d)]}}function T(x){return function(d,_){return[x([[+_[0],+d[0][1],+d[0][2],+d[0][3],+d[0][4],+d[0][5]],[+_[1],+d[1][1],+d[1][2],+d[1][3],+d[1][4],+d[1][5]],[+_[2],+d[2][1],+d[2][2],+d[2][3],+d[2][4],+d[2][5]],[+_[3],+d[3][1],+d[3][2],+d[3][3],+d[3][4],+d[3][5]],[+_[4],+d[4][1],+d[4][2],+d[4][3],+d[4][4],+d[4][5]],[+_[5],+d[5][1],+d[5][2],+d[5][3],+d[5][4],+d[5][5]]]),x([[+d[0][0],+_[0],+d[0][2],+d[0][3],+d[0][4],+d[0][5]],[+d[1][0],+_[1],+d[1][2],+d[1][3],+d[1][4],+d[1][5]],[+d[2][0],+_[2],+d[2][2],+d[2][3],+d[2][4],+d[2][5]],[+d[3][0],+_[3],+d[3][2],+d[3][3],+d[3][4],+d[3][5]],[+d[4][0],+_[4],+d[4][2],+d[4][3],+d[4][4],+d[4][5]],[+d[5][0],+_[5],+d[5][2],+d[5][3],+d[5][4],+d[5][5]]]),x([[+d[0][0],+d[0][1],+_[0],+d[0][3],+d[0][4],+d[0][5]],[+d[1][0],+d[1][1],+_[1],+d[1][3],+d[1][4],+d[1][5]],[+d[2][0],+d[2][1],+_[2],+d[2][3],+d[2][4],+d[2][5]],[+d[3][0],+d[3][1],+_[3],+d[3][3],+d[3][4],+d[3][5]],[+d[4][0],+d[4][1],+_[4],+d[4][3],+d[4][4],+d[4][5]],[+d[5][0],+d[5][1],+_[5],+d[5][3],+d[5][4],+d[5][5]]]),x([[+d[0][0],+d[0][1],+d[0][2],+_[0],+d[0][4],+d[0][5]],[+d[1][0],+d[1][1],+d[1][2],+_[1],+d[1][4],+d[1][5]],[+d[2][0],+d[2][1],+d[2][2],+_[2],+d[2][4],+d[2][5]],[+d[3][0],+d[3][1],+d[3][2],+_[3],+d[3][4],+d[3][5]],[+d[4][0],+d[4][1],+d[4][2],+_[4],+d[4][4],+d[4][5]],[+d[5][0],+d[5][1],+d[5][2],+_[5],+d[5][4],+d[5][5]]]),x([[+d[0][0],+d[0][1],+d[0][2],+d[0][3],+_[0],+d[0][5]],[+d[1][0],+d[1][1],+d[1][2],+d[1][3],+_[1],+d[1][5]],[+d[2][0],+d[2][1],+d[2][2],+d[2][3],+_[2],+d[2][5]],[+d[3][0],+d[3][1],+d[3][2],+d[3][3],+_[3],+d[3][5]],[+d[4][0],+d[4][1],+d[4][2],+d[4][3],+_[4],+d[4][5]],[+d[5][0],+d[5][1],+d[5][2],+d[5][3],+_[5],+d[5][5]]]),x([[+d[0][0],+d[0][1],+d[0][2],+d[0][3],+d[0][4],+_[0]],[+d[1][0],+d[1][1],+d[1][2],+d[1][3],+d[1][4],+_[1]],[+d[2][0],+d[2][1],+d[2][2],+d[2][3],+d[2][4],+_[2]],[+d[3][0],+d[3][1],+d[3][2],+d[3][3],+d[3][4],+_[3]],[+d[4][0],+d[4][1],+d[4][2],+d[4][3],+d[4][4],+_[4]],[+d[5][0],+d[5][1],+d[5][2],+d[5][3],+d[5][4],+_[5]]]),x(d)]}}var m=[f,h];function k(x,M,d,_,g,c,A,v){return function(E,R){switch(E.length){case 0:return x(E,R);case 1:return M(E,R);case 2:return d(E,R);case 3:return _(E,R);case 4:return g(E,R);case 5:return c(E,R)}var N=A[E.length];return N||(N=A[E.length]=v(E.length)),N(E,R)}}function S(){for(;m.length<u;)m.push(s(m.length));a.exports=k.apply(void 0,m.concat([m,s]));for(var x=0;x<u;++x)a.exports[x]=m[x]}S()},737:function(a){a.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},781:function(a,o,i){"use strict";a.exports=u;var l=i(3349);function u(s,f){var h=[];return f=+f||0,l(s.hi(s.shape[0]-1),h,f),h}},783:function(a){a.exports=o;function o(i,l,u,s){var f=l[0],h=l[1],p=l[2],b=l[3],y=u[0],w=u[1],T=u[2],m=u[3],k,S,x,M,d;return S=f*y+h*w+p*T+b*m,S<0&&(S=-S,y=-y,w=-w,T=-T,m=-m),1-S>1e-6?(k=Math.acos(S),x=Math.sin(k),M=Math.sin((1-s)*k)/x,d=Math.sin(s*k)/x):(M=1-s,d=s),i[0]=M*f+d*y,i[1]=M*h+d*w,i[2]=M*p+d*T,i[3]=M*b+d*m,i}},799:function(a,o,i){var l=i(3236),u=i(9405),s=l([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),f=l([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);a.exports=function(h){return u(h,s,f,null,[{name:"position",type:"vec2"}])}},811:function(a){a.exports=o;function o(i,l){return i[0]=1/l[0],i[1]=1/l[1],i[2]=1/l[2],i}},840:function(a,o,i){var l=i(3236),u=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),s=l([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),f=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),h=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),p=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * (view * (model * vec4(position, 1.0)));
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),b=l([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),y=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_id        = id;
  f_position  = position;
}`]),w=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),T=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * (view * (model * vec4(position, 1.0)));
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),m=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
}`]),k=l([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);o.meshShader={vertex:u,fragment:s,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},o.wireShader={vertex:f,fragment:h,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},o.pointShader={vertex:p,fragment:b,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},o.pickShader={vertex:y,fragment:w,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},o.pointPickShader={vertex:T,fragment:w,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},o.contourShader={vertex:m,fragment:k,attributes:[{name:"position",type:"vec3"}]}},855:function(a,o,i){"use strict";a.exports={init:S,sweepBipartite:d,sweepComplete:_,scanBipartite:g,scanComplete:c};var l=i(1888),u=i(8828),s=i(4192),f=1<<28,h=1024,p=l.mallocInt32(h),b=l.mallocInt32(h),y=l.mallocInt32(h),w=l.mallocInt32(h),T=l.mallocInt32(h),m=l.mallocInt32(h),k=l.mallocDouble(h*8);function S(A){var v=u.nextPow2(A);p.length<v&&(l.free(p),p=l.mallocInt32(v)),b.length<v&&(l.free(b),b=l.mallocInt32(v)),y.length<v&&(l.free(y),y=l.mallocInt32(v)),w.length<v&&(l.free(w),w=l.mallocInt32(v)),T.length<v&&(l.free(T),T=l.mallocInt32(v)),m.length<v&&(l.free(m),m=l.mallocInt32(v));var D=8*v;k.length<D&&(l.free(k),k=l.mallocDouble(D))}function x(A,v,D,E){var R=v[E],N=A[D-1];A[R]=N,v[N]=R}function M(A,v,D,E){A[D]=E,v[E]=D}function d(A,v,D,E,R,N,F,I,L,P){for(var O=0,U=2*A,X=A-1,$=U-1,j=D;j<E;++j){var Y=N[j],q=U*j;k[O++]=R[q+X],k[O++]=-(Y+1),k[O++]=R[q+$],k[O++]=Y}for(var j=F;j<I;++j){var Y=P[j]+f,Q=U*j;k[O++]=L[Q+X],k[O++]=-Y,k[O++]=L[Q+$],k[O++]=Y}var ae=O>>>1;s(k,ae);for(var K=0,oe=0,j=0;j<ae;++j){var re=k[2*j+1]|0;if(re>=f)re=re-f|0,x(y,w,oe--,re);else if(re>=0)x(p,b,K--,re);else if(re<=-f){re=-re-f|0;for(var V=0;V<K;++V){var ee=v(p[V],re);if(ee!==void 0)return ee}M(y,w,oe++,re)}else{re=-re-1|0;for(var V=0;V<oe;++V){var ee=v(re,y[V]);if(ee!==void 0)return ee}M(p,b,K++,re)}}}function _(A,v,D,E,R,N,F,I,L,P){for(var O=0,U=2*A,X=A-1,$=U-1,j=D;j<E;++j){var Y=N[j]+1<<1,q=U*j;k[O++]=R[q+X],k[O++]=-Y,k[O++]=R[q+$],k[O++]=Y}for(var j=F;j<I;++j){var Y=P[j]+1<<1,Q=U*j;k[O++]=L[Q+X],k[O++]=-Y|1,k[O++]=L[Q+$],k[O++]=Y|1}var ae=O>>>1;s(k,ae);for(var K=0,oe=0,re=0,j=0;j<ae;++j){var V=k[2*j+1]|0,ee=V&1;if(j<ae-1&&V>>1===k[2*j+3]>>1&&(ee=2,j+=1),V<0){for(var H=-(V>>1)-1,te=0;te<re;++te){var le=v(T[te],H);if(le!==void 0)return le}if(ee!==0)for(var te=0;te<K;++te){var le=v(p[te],H);if(le!==void 0)return le}if(ee!==1)for(var te=0;te<oe;++te){var le=v(y[te],H);if(le!==void 0)return le}ee===0?M(p,b,K++,H):ee===1?M(y,w,oe++,H):ee===2&&M(T,m,re++,H)}else{var H=(V>>1)-1;ee===0?x(p,b,K--,H):ee===1?x(y,w,oe--,H):ee===2&&x(T,m,re--,H)}}}function g(A,v,D,E,R,N,F,I,L,P,O,U){var X=0,$=2*A,j=v,Y=v+A,q=1,Q=1;E?Q=f:q=f;for(var ae=R;ae<N;++ae){var K=ae+q,oe=$*ae;k[X++]=F[oe+j],k[X++]=-K,k[X++]=F[oe+Y],k[X++]=K}for(var ae=L;ae<P;++ae){var K=ae+Q,re=$*ae;k[X++]=O[re+j],k[X++]=-K}var V=X>>>1;s(k,V);for(var ee=0,ae=0;ae<V;++ae){var H=k[2*ae+1]|0;if(H<0){var K=-H,te=!1;if(K>=f?(te=!E,K-=f):(te=!!E,K-=1),te)M(p,b,ee++,K);else{var le=U[K],ve=$*K,Ae=O[ve+v+1],we=O[ve+v+1+A];e:for(var ce=0;ce<ee;++ce){var Se=p[ce],Ce=$*Se;if(!(we<F[Ce+v+1]||F[Ce+v+1+A]<Ae)){for(var Fe=v+2;Fe<A;++Fe)if(O[ve+Fe+A]<F[Ce+Fe]||F[Ce+Fe+A]<O[ve+Fe])continue e;var Ee=I[Se],ze;if(E?ze=D(le,Ee):ze=D(Ee,le),ze!==void 0)return ze}}}}else x(p,b,ee--,H-q)}}function c(A,v,D,E,R,N,F,I,L,P,O){for(var U=0,X=2*A,$=v,j=v+A,Y=E;Y<R;++Y){var q=Y+f,Q=X*Y;k[U++]=N[Q+$],k[U++]=-q,k[U++]=N[Q+j],k[U++]=q}for(var Y=I;Y<L;++Y){var q=Y+1,ae=X*Y;k[U++]=P[ae+$],k[U++]=-q}var K=U>>>1;s(k,K);for(var oe=0,Y=0;Y<K;++Y){var re=k[2*Y+1]|0;if(re<0){var q=-re;if(q>=f)p[oe++]=q-f;else{q-=1;var V=O[q],ee=X*q,H=P[ee+v+1],te=P[ee+v+1+A];e:for(var le=0;le<oe;++le){var ve=p[le],Ae=F[ve];if(Ae===V)break;var we=X*ve;if(!(te<N[we+v+1]||N[we+v+1+A]<H)){for(var ce=v+2;ce<A;++ce)if(P[ee+ce+A]<N[we+ce]||N[we+ce+A]<P[ee+ce])continue e;var Se=D(Ae,V);if(Se!==void 0)return Se}}}}else{for(var q=re-f,le=oe-1;le>=0;--le)if(p[le]===q){for(var ce=le+1;ce<oe;++ce)p[ce-1]=p[ce];break}--oe}}}},868:function(a,o,i){a.exports=i(1387)},869:function(a,o,i){"use strict";var l=i(2651),u=i(5716);a.exports=s;function s(f,h){var p=u(f),b=u(h);if(p===0)return[l(0),l(1)];if(b===0)return[l(0),l(0)];b<0&&(f=f.neg(),h=h.neg());var y=f.gcd(h);return y.cmpn(1)?[f.div(y),h.div(y)]:[f,h]}},870:function(a,o,i){"use strict";var l=i(1433);function u(f){this.gl=f,this._elements=null,this._attributes=null,this._elementsType=f.UNSIGNED_SHORT}u.prototype.bind=function(){l(this.gl,this._elements,this._attributes)},u.prototype.update=function(f,h,p){this._elements=h,this._attributes=f,this._elementsType=p||this.gl.UNSIGNED_SHORT},u.prototype.dispose=function(){},u.prototype.unbind=function(){},u.prototype.draw=function(f,h,p){p=p||0;var b=this.gl;this._elements?b.drawElements(f,h,this._elementsType,p):b.drawArrays(f,p,h)};function s(f){return new u(f)}a.exports=s},946:function(a,o,i){"use strict";var l=i(1369),u=i(4025);a.exports=s;function s(f){var h=f[0],p=f[1];if(h.cmpn(0)===0)return 0;var b=h.abs().divmod(p.abs()),y=b.div,w=l(y),T=b.mod,m=h.negative!==p.negative?-1:1;if(T.cmpn(0)===0)return m*w;if(w){var k=u(w)+4,S=l(T.ushln(k).divRound(p));return m*(w+S*Math.pow(2,-k))}else{var x=p.bitLength()-T.bitLength()+53,S=l(T.ushln(x).divRound(p));return x<1023?m*S*Math.pow(2,-x):(S*=Math.pow(2,-1023),m*S*Math.pow(2,1023-x))}}},990:function(a,o,i){var l=i(9405),u=i(3236),s=u([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(localCoordinate, 1.0);
  vec4 clipPosition = projection * (view * worldPosition);
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),f=u([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color \u2014 in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),h=u([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(dataCoordinate, 1.0);

  vec4 clipPosition = projection * (view * worldPosition);
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),p=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);o.createShader=function(b){var y=l(b,s,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return y.attributes.uv.location=0,y.attributes.f.location=1,y.attributes.normal.location=2,y},o.createPickShader=function(b){var y=l(b,s,p,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return y.attributes.uv.location=0,y.attributes.f.location=1,y.attributes.normal.location=2,y},o.createContourShader=function(b){var y=l(b,h,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return y.attributes.uv.location=0,y.attributes.f.location=1,y},o.createPickContourShader=function(b){var y=l(b,h,p,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return y.attributes.uv.location=0,y.attributes.f.location=1,y}},1085:function(a,o,i){var l=i(1371);a.exports=u;function u(s,f,h){f=typeof f=="number"?f:1,h=h||": ";var p=s.split(/\r?\n/),b=String(p.length+f-1).length;return p.map(function(y,w){var T=w+f,m=String(T).length,k=l(T,b-m);return k+h+y}).join(`
`)}},1091:function(a){a.exports=o;function o(){var i=new Float32Array(3);return i[0]=0,i[1]=0,i[2]=0,i}},1125:function(a,o,i){"use strict";a.exports=s;var l=i(3250)[3];function u(f,h,p,b){for(var y=0;y<2;++y){var w=f[y],T=h[y],m=Math.min(w,T),k=Math.max(w,T),S=p[y],x=b[y],M=Math.min(S,x),d=Math.max(S,x);if(d<m||k<M)return!1}return!0}function s(f,h,p,b){var y=l(f,p,b),w=l(h,p,b);if(y>0&&w>0||y<0&&w<0)return!1;var T=l(p,f,h),m=l(b,f,h);return T>0&&m>0||T<0&&m<0?!1:y===0&&w===0&&T===0&&m===0?u(f,h,p,b):!0}},1278:function(a,o,i){"use strict";var l=i(2361),u=Math.pow(2,-1074),s=-1>>>0;a.exports=f;function f(h,p){if(isNaN(h)||isNaN(p))return NaN;if(h===p)return h;if(h===0)return p<0?-u:u;var b=l.hi(h),y=l.lo(h);return p>h==h>0?y===s?(b+=1,y=0):y+=1:y===0?(y=s,b-=1):y-=1,l.pack(y,b)}},1283:function(a,o,i){var l=i(9405),u=i(3236),s=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),f=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),h=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * (view * (model * vec4(position, 1)));
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * (view * (model * vec4(dataPosition, 1)));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),p=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),b=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),y=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],w={vertex:s,fragment:p,attributes:y},T={vertex:f,fragment:p,attributes:y},m={vertex:h,fragment:p,attributes:y},k={vertex:s,fragment:b,attributes:y},S={vertex:f,fragment:b,attributes:y},x={vertex:h,fragment:b,attributes:y};function M(d,_){var g=l(d,_),c=g.attributes;return c.position.location=0,c.color.location=1,c.glyph.location=2,c.id.location=3,g}o.createPerspective=function(d){return M(d,w)},o.createOrtho=function(d){return M(d,T)},o.createProject=function(d){return M(d,m)},o.createPickPerspective=function(d){return M(d,k)},o.createPickOrtho=function(d){return M(d,S)},o.createPickProject=function(d){return M(d,x)}},1303:function(a,o,i){"use strict";a.exports=s;var l=i(3250);function u(f,h){var p,b;if(h[0][0]<h[1][0])p=h[0],b=h[1];else if(h[0][0]>h[1][0])p=h[1],b=h[0];else{var y=Math.min(f[0][1],f[1][1]),w=Math.max(f[0][1],f[1][1]),T=Math.min(h[0][1],h[1][1]),m=Math.max(h[0][1],h[1][1]);return w<T?w-T:y>m?y-m:w-m}var k,S;f[0][1]<f[1][1]?(k=f[0],S=f[1]):(k=f[1],S=f[0]);var x=l(b,p,k);return x||(x=l(b,p,S),x)?x:S-b}function s(f,h){var p,b;if(h[0][0]<h[1][0])p=h[0],b=h[1];else if(h[0][0]>h[1][0])p=h[1],b=h[0];else return u(h,f);var y,w;if(f[0][0]<f[1][0])y=f[0],w=f[1];else if(f[0][0]>f[1][0])y=f[1],w=f[0];else return-u(f,h);var T=l(p,b,w),m=l(p,b,y);if(T<0){if(m<=0)return T}else if(T>0){if(m>=0)return T}else if(m)return m;if(T=l(w,y,b),m=l(w,y,p),T<0){if(m<=0)return T}else if(T>0){if(m>=0)return T}else if(m)return m;return b[0]-w[0]}},1318:function(a){"use strict";a.exports=o;function o(i,l){return i[0].mul(l[1]).cmp(l[0].mul(i[1]))}},1338:function(a){"use strict";function o(u,s,f){var h=u[f]|0;if(h<=0)return[];var p=new Array(h),b;if(f===u.length-1)for(b=0;b<h;++b)p[b]=s;else for(b=0;b<h;++b)p[b]=o(u,s,f+1);return p}function i(u,s){var f,h;for(f=new Array(u),h=0;h<u;++h)f[h]=s;return f}function l(u,s){switch(typeof s=="undefined"&&(s=0),typeof u){case"number":if(u>0)return i(u|0,s);break;case"object":if(typeof u.length=="number")return o(u,s,0);break}return[]}a.exports=l},1369:function(a,o,i){"use strict";var l=i(5716);a.exports=u;function u(s){var f=s.length,h=s.words,p=0;if(f===1)p=h[0];else if(f===2)p=h[0]+h[1]*67108864;else for(var b=0;b<f;b++){var y=h[b];p+=y*Math.pow(67108864,b)}return l(s)*p}},1371:function(a,o,i){"use strict";var l=i(3233);a.exports=function(s,f,h){return h=typeof h!="undefined"?h+"":" ",l(h,f)+s}},1373:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]/u[0],i[1]=l[1]/u[1],i[2]=l[2]/u[2],i[3]=l[3]/u[3],i}},1387:function(a){a.exports=o;function o(i){var l=i[0],u=i[1],s=i[2];return Math.sqrt(l*l+u*u+s*s)}},1433:function(a){"use strict";function o(i,l,u){l?l.bind():i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,null);var s=i.getParameter(i.MAX_VERTEX_ATTRIBS)|0;if(u){if(u.length>s)throw new Error("gl-vao: Too many vertex attributes");for(var f=0;f<u.length;++f){var h=u[f];if(h.buffer){var p=h.buffer,b=h.size||4,y=h.type||i.FLOAT,w=!!h.normalized,T=h.stride||0,m=h.offset||0;p.bind(),i.enableVertexAttribArray(f),i.vertexAttribPointer(f,b,y,w,T,m)}else{if(typeof h=="number")i.vertexAttrib1f(f,h);else if(h.length===1)i.vertexAttrib1f(f,h[0]);else if(h.length===2)i.vertexAttrib2f(f,h[0],h[1]);else if(h.length===3)i.vertexAttrib3f(f,h[0],h[1],h[2]);else if(h.length===4)i.vertexAttrib4f(f,h[0],h[1],h[2],h[3]);else throw new Error("gl-vao: Invalid vertex attribute");i.disableVertexAttribArray(f)}}for(;f<s;++f)i.disableVertexAttribArray(f)}else{i.bindBuffer(i.ARRAY_BUFFER,null);for(var f=0;f<s;++f)i.disableVertexAttribArray(f)}}a.exports=o},1463:function(a){a.exports=o;function o(i,l,u,s){return i[0]=l,i[1]=u,i[2]=s,i}},1493:function(a,o,i){"use strict";var l=i(3236),u=i(9405),s=l([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * (view * (model * vec4(vertexPosition, 1.0)));
  vec2 clipOffset = (projection * (view * (model * vec4(color, 0.0)))).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),f=l([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);a.exports=function(h){return u(h,s,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},1498:function(a){a.exports=o;function o(i,l){return i[0]=-l[0],i[1]=-l[1],i[2]=-l[2],i[3]=-l[3],i}},1533:function(a,o,i){"use strict";var l=i(6859);a.exports=u;function u(s){return s&&typeof s=="object"&&!!s.words}},1538:function(a){(function(){"use strict";if(typeof ses!="undefined"&&ses.ok&&!ses.ok())return;function i(v){v.permitHostObjects___&&v.permitHostObjects___(i)}typeof ses!="undefined"&&(ses.weakMapPermitHostObjects=i);var l=!1;if(typeof WeakMap=="function"){var u=WeakMap;if(!(typeof navigator!="undefined"&&/Firefox/.test(navigator.userAgent))){var s=new u,f=Object.freeze({});if(s.set(f,1),s.get(f)!==1)l=!0;else{a.exports=WeakMap;return}}}var h=Object.prototype.hasOwnProperty,p=Object.getOwnPropertyNames,b=Object.defineProperty,y=Object.isExtensible,w="weakmap:",T=w+"ident:"+Math.random()+"___";if(typeof crypto!="undefined"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var m=new ArrayBuffer(25),k=new Uint8Array(m);crypto.getRandomValues(k),T=w+"rand:"+Array.prototype.map.call(k,function(v){return(v%36).toString(36)}).join("")+"___"}function S(v){return!(v.substr(0,w.length)==w&&v.substr(v.length-3)==="___")}if(b(Object,"getOwnPropertyNames",{value:function(D){return p(D).filter(S)}}),"getPropertyNames"in Object){var x=Object.getPropertyNames;b(Object,"getPropertyNames",{value:function(D){return x(D).filter(S)}})}function M(v){if(v!==Object(v))throw new TypeError("Not an object: "+v);var D=v[T];if(D&&D.key===v)return D;if(y(v)){D={key:v};try{return b(v,T,{value:D,writable:!1,enumerable:!1,configurable:!1}),D}catch(E){return}}}(function(){var v=Object.freeze;b(Object,"freeze",{value:function(N){return M(N),v(N)}});var D=Object.seal;b(Object,"seal",{value:function(N){return M(N),D(N)}});var E=Object.preventExtensions;b(Object,"preventExtensions",{value:function(N){return M(N),E(N)}})})();function d(v){return v.prototype=null,Object.freeze(v)}var _=!1;function g(){!_&&typeof console!="undefined"&&(_=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var c=0,A=function(){this instanceof A||g();var v=[],D=[],E=c++;function R(L,P){var O,U=M(L);return U?E in U?U[E]:P:(O=v.indexOf(L),O>=0?D[O]:P)}function N(L){var P=M(L);return P?E in P:v.indexOf(L)>=0}function F(L,P){var O,U=M(L);return U?U[E]=P:(O=v.indexOf(L),O>=0?D[O]=P:(O=v.length,D[O]=P,v[O]=L)),this}function I(L){var P=M(L),O,U;return P?E in P&&delete P[E]:(O=v.indexOf(L),O<0?!1:(U=v.length-1,v[O]=void 0,D[O]=D[U],v[O]=v[U],v.length=U,D.length=U,!0))}return Object.create(A.prototype,{get___:{value:d(R)},has___:{value:d(N)},set___:{value:d(F)},delete___:{value:d(I)}})};A.prototype=Object.create(Object.prototype,{get:{value:function(D,E){return this.get___(D,E)},writable:!0,configurable:!0},has:{value:function(D){return this.has___(D)},writable:!0,configurable:!0},set:{value:function(D,E){return this.set___(D,E)},writable:!0,configurable:!0},delete:{value:function(D){return this.delete___(D)},writable:!0,configurable:!0}}),typeof u=="function"?function(){l&&typeof Proxy!="undefined"&&(Proxy=void 0);function v(){this instanceof A||g();var D=new u,E=void 0,R=!1;function N(P,O){return E?D.has(P)?D.get(P):E.get___(P,O):D.get(P,O)}function F(P){return D.has(P)||(E?E.has___(P):!1)}var I;l?I=function(P,O){return D.set(P,O),D.has(P)||(E||(E=new A),E.set(P,O)),this}:I=function(P,O){if(R)try{D.set(P,O)}catch(U){E||(E=new A),E.set___(P,O)}else D.set(P,O);return this};function L(P){var O=!!D.delete(P);return E&&E.delete___(P)||O}return Object.create(A.prototype,{get___:{value:d(N)},has___:{value:d(F)},set___:{value:d(I)},delete___:{value:d(L)},permitHostObjects___:{value:d(function(P){if(P===i)R=!0;else throw new Error("bogus call to permitHostObjects___")})}})}v.prototype=A.prototype,a.exports=v,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy!="undefined"&&(Proxy=void 0),a.exports=A)})()},1570:function(a){"use strict";a.exports=i;var o=[function(){function u(f,h,p,b){for(var y=Math.min(p,b)|0,w=Math.max(p,b)|0,T=f[2*y],m=f[2*y+1];T<m;){var k=T+m>>1,S=h[2*k+1];if(S===w)return k;w<S?m=k:T=k+1}return T}function s(f,h,p,b){for(var y=f.length,w=[],T=0;T<y;++T)var m=f[T],k=m.length;return w}return s},function(){function u(f,h,p,b){for(var y=Math.min(p,b)|0,w=Math.max(p,b)|0,T=f[2*y],m=f[2*y+1];T<m;){var k=T+m>>1,S=h[2*k+1];if(S===w)return k;w<S?m=k:T=k+1}return T}function s(f,h,p,b){for(var y=f.length,w=[],T=0;T<y;++T){var m=f[T],k=m.length;if(k===2){var S=(b[m[0]]<<0)+(b[m[1]]<<1);if(S===0||S===3)continue;switch(S){case 0:break;case 1:w.push([u(p,h,m[0],m[1])]);break;case 2:w.push([u(p,h,m[1],m[0])]);break;case 3:break}}}return w}return s},function(){function u(f,h,p,b){for(var y=Math.min(p,b)|0,w=Math.max(p,b)|0,T=f[2*y],m=f[2*y+1];T<m;){var k=T+m>>1,S=h[2*k+1];if(S===w)return k;w<S?m=k:T=k+1}return T}function s(f,h,p,b){for(var y=f.length,w=[],T=0;T<y;++T){var m=f[T],k=m.length;if(k===3){var S=(b[m[0]]<<0)+(b[m[1]]<<1)+(b[m[2]]<<2);if(S===0||S===7)continue;switch(S){case 0:break;case 1:w.push([u(p,h,m[0],m[2]),u(p,h,m[0],m[1])]);break;case 2:w.push([u(p,h,m[1],m[0]),u(p,h,m[1],m[2])]);break;case 3:w.push([u(p,h,m[0],m[2]),u(p,h,m[1],m[2])]);break;case 4:w.push([u(p,h,m[2],m[1]),u(p,h,m[2],m[0])]);break;case 5:w.push([u(p,h,m[2],m[1]),u(p,h,m[0],m[1])]);break;case 6:w.push([u(p,h,m[1],m[0]),u(p,h,m[2],m[0])]);break;case 7:break}}else if(k===2){var S=(b[m[0]]<<0)+(b[m[1]]<<1);if(S===0||S===3)continue;switch(S){case 0:break;case 1:w.push([u(p,h,m[0],m[1])]);break;case 2:w.push([u(p,h,m[1],m[0])]);break;case 3:break}}}return w}return s},function(){function u(f,h,p,b){for(var y=Math.min(p,b)|0,w=Math.max(p,b)|0,T=f[2*y],m=f[2*y+1];T<m;){var k=T+m>>1,S=h[2*k+1];if(S===w)return k;w<S?m=k:T=k+1}return T}function s(f,h,p,b){for(var y=f.length,w=[],T=0;T<y;++T){var m=f[T],k=m.length;if(k===4){var S=(b[m[0]]<<0)+(b[m[1]]<<1)+(b[m[2]]<<2)+(b[m[3]]<<3);if(S===0||S===15)continue;switch(S){case 0:break;case 1:w.push([u(p,h,m[0],m[1]),u(p,h,m[0],m[2]),u(p,h,m[0],m[3])]);break;case 2:w.push([u(p,h,m[1],m[2]),u(p,h,m[1],m[0]),u(p,h,m[1],m[3])]);break;case 3:w.push([u(p,h,m[1],m[2]),u(p,h,m[0],m[2]),u(p,h,m[0],m[3])],[u(p,h,m[1],m[3]),u(p,h,m[1],m[2]),u(p,h,m[0],m[3])]);break;case 4:w.push([u(p,h,m[2],m[0]),u(p,h,m[2],m[1]),u(p,h,m[2],m[3])]);break;case 5:w.push([u(p,h,m[0],m[1]),u(p,h,m[2],m[1]),u(p,h,m[0],m[3])],[u(p,h,m[2],m[1]),u(p,h,m[2],m[3]),u(p,h,m[0],m[3])]);break;case 6:w.push([u(p,h,m[2],m[0]),u(p,h,m[1],m[0]),u(p,h,m[1],m[3])],[u(p,h,m[2],m[3]),u(p,h,m[2],m[0]),u(p,h,m[1],m[3])]);break;case 7:w.push([u(p,h,m[0],m[3]),u(p,h,m[1],m[3]),u(p,h,m[2],m[3])]);break;case 8:w.push([u(p,h,m[3],m[1]),u(p,h,m[3],m[0]),u(p,h,m[3],m[2])]);break;case 9:w.push([u(p,h,m[3],m[1]),u(p,h,m[0],m[1]),u(p,h,m[0],m[2])],[u(p,h,m[3],m[2]),u(p,h,m[3],m[1]),u(p,h,m[0],m[2])]);break;case 10:w.push([u(p,h,m[1],m[0]),u(p,h,m[3],m[0]),u(p,h,m[1],m[2])],[u(p,h,m[3],m[0]),u(p,h,m[3],m[2]),u(p,h,m[1],m[2])]);break;case 11:w.push([u(p,h,m[1],m[2]),u(p,h,m[0],m[2]),u(p,h,m[3],m[2])]);break;case 12:w.push([u(p,h,m[3],m[0]),u(p,h,m[2],m[0]),u(p,h,m[2],m[1])],[u(p,h,m[3],m[1]),u(p,h,m[3],m[0]),u(p,h,m[2],m[1])]);break;case 13:w.push([u(p,h,m[0],m[1]),u(p,h,m[2],m[1]),u(p,h,m[3],m[1])]);break;case 14:w.push([u(p,h,m[2],m[0]),u(p,h,m[1],m[0]),u(p,h,m[3],m[0])]);break;case 15:break}}else if(k===3){var S=(b[m[0]]<<0)+(b[m[1]]<<1)+(b[m[2]]<<2);if(S===0||S===7)continue;switch(S){case 0:break;case 1:w.push([u(p,h,m[0],m[2]),u(p,h,m[0],m[1])]);break;case 2:w.push([u(p,h,m[1],m[0]),u(p,h,m[1],m[2])]);break;case 3:w.push([u(p,h,m[0],m[2]),u(p,h,m[1],m[2])]);break;case 4:w.push([u(p,h,m[2],m[1]),u(p,h,m[2],m[0])]);break;case 5:w.push([u(p,h,m[2],m[1]),u(p,h,m[0],m[1])]);break;case 6:w.push([u(p,h,m[1],m[0]),u(p,h,m[2],m[0])]);break;case 7:break}}else if(k===2){var S=(b[m[0]]<<0)+(b[m[1]]<<1);if(S===0||S===3)continue;switch(S){case 0:break;case 1:w.push([u(p,h,m[0],m[1])]);break;case 2:w.push([u(p,h,m[1],m[0])]);break;case 3:break}}}return w}return s}];function i(l){return o[l]()}},1682:function(a){"use strict";function o(u,s){for(var f=1,h=u.length,p=u[0],b=u[0],y=1;y<h;++y)if(b=p,p=u[y],s(p,b)){if(y===f){f++;continue}u[f++]=p}return u.length=f,u}function i(u){for(var s=1,f=u.length,h=u[0],p=u[0],b=1;b<f;++b,p=h)if(p=h,h=u[b],h!==p){if(b===s){s++;continue}u[s++]=h}return u.length=s,u}function l(u,s,f){return u.length===0?u:s?(f||u.sort(s),o(u,s)):(f||u.sort(),i(u))}a.exports=l},1755:function(a){"use strict";"use restrict";a.exports=o;function o(l){this.roots=new Array(l),this.ranks=new Array(l);for(var u=0;u<l;++u)this.roots[u]=u,this.ranks[u]=0}var i=o.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}}),i.makeSet=function(){var l=this.roots.length;return this.roots.push(l),this.ranks.push(0),l},i.find=function(l){for(var u=l,s=this.roots;s[l]!==l;)l=s[l];for(;s[u]!==l;){var f=s[u];s[u]=l,u=f}return l},i.link=function(l,u){var s=this.find(l),f=this.find(u);if(s!==f){var h=this.ranks,p=this.roots,b=h[s],y=h[f];b<y?p[s]=f:y<b?p[f]=s:(p[f]=s,++h[s])}}},1811:function(a,o,i){"use strict";var l=i(2478),u=i(7442),s=i(7608),f=i(5567),h=i(2408),p=i(7089),b=i(6582),y=i(7656),w=i(2504),T=i(3536),m=[0,0,0];a.exports=M;function k(d){this._components=d.slice(),this._time=[0],this.prevMatrix=d.slice(),this.nextMatrix=d.slice(),this.computedMatrix=d.slice(),this.computedInverse=d.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var S=k.prototype;S.recalcMatrix=function(d){var _=this._time,g=l.le(_,d),c=this.computedMatrix;if(!(g<0)){var A=this._components;if(g===_.length-1)for(var v=16*g,D=0;D<16;++D)c[D]=A[v++];else{for(var E=_[g+1]-_[g],v=16*g,R=this.prevMatrix,N=!0,D=0;D<16;++D)R[D]=A[v++];for(var F=this.nextMatrix,D=0;D<16;++D)F[D]=A[v++],N=N&&R[D]===F[D];if(E<1e-6||N)for(var D=0;D<16;++D)c[D]=R[D];else u(c,R,F,(d-_[g])/E)}var I=this.computedUp;I[0]=c[1],I[1]=c[5],I[2]=c[9],T(I,I);var L=this.computedInverse;s(L,c);var P=this.computedEye,O=L[15];P[0]=L[12]/O,P[1]=L[13]/O,P[2]=L[14]/O;for(var U=this.computedCenter,X=Math.exp(this.computedRadius[0]),D=0;D<3;++D)U[D]=P[D]-c[2+4*D]*X}},S.idle=function(d){if(!(d<this.lastT())){for(var _=this._components,g=_.length-16,c=0;c<16;++c)_.push(_[g++]);this._time.push(d)}},S.flush=function(d){var _=l.gt(this._time,d)-2;_<0||(this._time.splice(0,_),this._components.splice(0,16*_))},S.lastT=function(){return this._time[this._time.length-1]},S.lookAt=function(d,_,g,c){this.recalcMatrix(d),_=_||this.computedEye,g=g||m,c=c||this.computedUp,this.setMatrix(d,b(this.computedMatrix,_,g,c));for(var A=0,v=0;v<3;++v)A+=Math.pow(g[v]-_[v],2);A=Math.log(Math.sqrt(A)),this.computedRadius[0]=A},S.rotate=function(d,_,g,c){this.recalcMatrix(d);var A=this.computedInverse;_&&h(A,A,_),g&&f(A,A,g),c&&p(A,A,c),this.setMatrix(d,s(this.computedMatrix,A))};var x=[0,0,0];S.pan=function(d,_,g,c){x[0]=-(_||0),x[1]=-(g||0),x[2]=-(c||0),this.recalcMatrix(d);var A=this.computedInverse;y(A,A,x),this.setMatrix(d,s(A,A))},S.translate=function(d,_,g,c){x[0]=_||0,x[1]=g||0,x[2]=c||0,this.recalcMatrix(d);var A=this.computedMatrix;y(A,A,x),this.setMatrix(d,A)},S.setMatrix=function(d,_){if(!(d<this.lastT())){this._time.push(d);for(var g=0;g<16;++g)this._components.push(_[g])}},S.setDistance=function(d,_){this.computedRadius[0]=_},S.setDistanceLimits=function(d,_){var g=this._limits;g[0]=d,g[1]=_},S.getDistanceLimits=function(d){var _=this._limits;return d?(d[0]=_[0],d[1]=_[1],d):_};function M(d){d=d||{};var _=d.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new k(_)}},1848:function(a,o,i){var l=i(4905),u=i(6468);a.exports=s;function s(f){for(var h=Array.isArray(f)?f:l(f),p=0;p<h.length;p++){var b=h[p];if(b.type==="preprocessor"){var y=b.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(y&&y[2]){var w=y[1],T=y[2];return(w?u(T):T).trim()}}}}},1879:function(a,o,i){"use strict";var l=i(3236),u=i(9405),s=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),f=l([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);o.n=function(w){return u(w,s,f,null,[{name:"position",type:"vec3"}])};var h=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}
`]),p=l([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);o.Q=function(w){return u(w,h,p,null,[{name:"position",type:"vec3"}])};var b=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * (view * (model * vec4(nPosition, 1.0)));
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}
`]),y=l([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);o.bg=function(w){return u(w,b,y,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},1888:function(a,o,i){"use strict";var l=i(8828),u=i(1338),s=i(4793).hp;i.g.__TYPEDARRAY_POOL||(i.g.__TYPEDARRAY_POOL={UINT8:u([32,0]),UINT16:u([32,0]),UINT32:u([32,0]),BIGUINT64:u([32,0]),INT8:u([32,0]),INT16:u([32,0]),INT32:u([32,0]),BIGINT64:u([32,0]),FLOAT:u([32,0]),DOUBLE:u([32,0]),DATA:u([32,0]),UINT8C:u([32,0]),BUFFER:u([32,0])});var f=typeof Uint8ClampedArray!="undefined",h=typeof BigUint64Array!="undefined",p=typeof BigInt64Array!="undefined",b=i.g.__TYPEDARRAY_POOL;b.UINT8C||(b.UINT8C=u([32,0])),b.BIGUINT64||(b.BIGUINT64=u([32,0])),b.BIGINT64||(b.BIGINT64=u([32,0])),b.BUFFER||(b.BUFFER=u([32,0]));var y=b.DATA,w=b.BUFFER;o.free=function(I){if(s.isBuffer(I))w[l.log2(I.length)].push(I);else{if(Object.prototype.toString.call(I)!=="[object ArrayBuffer]"&&(I=I.buffer),!I)return;var L=I.length||I.byteLength,P=l.log2(L)|0;y[P].push(I)}};function T(F){if(F){var I=F.length||F.byteLength,L=l.log2(I);y[L].push(F)}}function m(F){T(F.buffer)}o.freeUint8=o.freeUint16=o.freeUint32=o.freeBigUint64=o.freeInt8=o.freeInt16=o.freeInt32=o.freeBigInt64=o.freeFloat32=o.freeFloat=o.freeFloat64=o.freeDouble=o.freeUint8Clamped=o.freeDataView=m,o.freeArrayBuffer=T,o.freeBuffer=function(I){w[l.log2(I.length)].push(I)},o.malloc=function(I,L){if(L===void 0||L==="arraybuffer")return k(I);switch(L){case"uint8":return S(I);case"uint16":return x(I);case"uint32":return M(I);case"int8":return d(I);case"int16":return _(I);case"int32":return g(I);case"float":case"float32":return c(I);case"double":case"float64":return A(I);case"uint8_clamped":return v(I);case"bigint64":return E(I);case"biguint64":return D(I);case"buffer":return N(I);case"data":case"dataview":return R(I);default:return null}return null};function k(I){var I=l.nextPow2(I),L=l.log2(I),P=y[L];return P.length>0?P.pop():new ArrayBuffer(I)}o.mallocArrayBuffer=k;function S(F){return new Uint8Array(k(F),0,F)}o.mallocUint8=S;function x(F){return new Uint16Array(k(2*F),0,F)}o.mallocUint16=x;function M(F){return new Uint32Array(k(4*F),0,F)}o.mallocUint32=M;function d(F){return new Int8Array(k(F),0,F)}o.mallocInt8=d;function _(F){return new Int16Array(k(2*F),0,F)}o.mallocInt16=_;function g(F){return new Int32Array(k(4*F),0,F)}o.mallocInt32=g;function c(F){return new Float32Array(k(4*F),0,F)}o.mallocFloat32=o.mallocFloat=c;function A(F){return new Float64Array(k(8*F),0,F)}o.mallocFloat64=o.mallocDouble=A;function v(F){return f?new Uint8ClampedArray(k(F),0,F):S(F)}o.mallocUint8Clamped=v;function D(F){return h?new BigUint64Array(k(8*F),0,F):null}o.mallocBigUint64=D;function E(F){return p?new BigInt64Array(k(8*F),0,F):null}o.mallocBigInt64=E;function R(F){return new DataView(k(F),0,F)}o.mallocDataView=R;function N(F){F=l.nextPow2(F);var I=l.log2(F),L=w[I];return L.length>0?L.pop():new s(F)}o.mallocBuffer=N,o.clearCache=function(){for(var I=0;I<32;++I)b.UINT8[I].length=0,b.UINT16[I].length=0,b.UINT32[I].length=0,b.INT8[I].length=0,b.INT16[I].length=0,b.INT32[I].length=0,b.FLOAT[I].length=0,b.DOUBLE[I].length=0,b.BIGUINT64[I].length=0,b.BIGINT64[I].length=0,b.UINT8C[I].length=0,y[I].length=0,w[I].length=0}},1903:function(a){a.exports=o;function o(i){var l=new Float32Array(16);return l[0]=i[0],l[1]=i[1],l[2]=i[2],l[3]=i[3],l[4]=i[4],l[5]=i[5],l[6]=i[6],l[7]=i[7],l[8]=i[8],l[9]=i[9],l[10]=i[10],l[11]=i[11],l[12]=i[12],l[13]=i[13],l[14]=i[14],l[15]=i[15],l}},1944:function(a,o,i){"use strict";var l=i(5250),u=i(8210);a.exports=s;function s(f,h){for(var p=l(f[0],h[0]),b=1;b<f.length;++b)p=u(p,l(f[b],h[b]));return p}},1964:function(a,o,i){a.exports={alpha_shape:i(3502),convex_hull:i(7352),delaunay_triangulate:i(7642),gl_cone3d:i(6405),gl_error3d:i(9165),gl_line3d:i(5714),gl_mesh3d:i(7201),gl_plot3d:i(4100),gl_scatter3d:i(8418),gl_streamtube3d:i(7815),gl_surface3d:i(9499),ndarray:i(9618),ndarray_linear_interpolate:i(4317)}},2014:function(a,o,i){"use strict";"use restrict";var l=i(3105),u=i(4623);function s(c){for(var A=0,v=Math.max,D=0,E=c.length;D<E;++D)A=v(A,c[D].length);return A-1}o.dimension=s;function f(c){for(var A=-1,v=Math.max,D=0,E=c.length;D<E;++D)for(var R=c[D],N=0,F=R.length;N<F;++N)A=v(A,R[N]);return A+1}o.countVertices=f;function h(c){for(var A=new Array(c.length),v=0,D=c.length;v<D;++v)A[v]=c[v].slice(0);return A}o.cloneCells=h;function p(c,A){var v=c.length,D=c.length-A.length,E=Math.min;if(D)return D;switch(v){case 0:return 0;case 1:return c[0]-A[0];case 2:var L=c[0]+c[1]-A[0]-A[1];return L||E(c[0],c[1])-E(A[0],A[1]);case 3:var R=c[0]+c[1],N=A[0]+A[1];if(L=R+c[2]-(N+A[2]),L)return L;var F=E(c[0],c[1]),I=E(A[0],A[1]),L=E(F,c[2])-E(I,A[2]);return L||E(F+c[2],R)-E(I+A[2],N);default:var P=c.slice(0);P.sort();var O=A.slice(0);O.sort();for(var U=0;U<v;++U)if(D=P[U]-O[U],D)return D;return 0}}o.compareCells=p;function b(c,A){return p(c[0],A[0])}function y(c,A){if(A){for(var v=c.length,D=new Array(v),E=0;E<v;++E)D[E]=[c[E],A[E]];D.sort(b);for(var E=0;E<v;++E)c[E]=D[E][0],A[E]=D[E][1];return c}else return c.sort(p),c}o.normalize=y;function w(c){if(c.length===0)return[];for(var A=1,v=c.length,D=1;D<v;++D){var E=c[D];if(p(E,c[D-1])){if(D===A){A++;continue}c[A++]=E}}return c.length=A,c}o.unique=w;function T(c,A){for(var v=0,D=c.length-1,E=-1;v<=D;){var R=v+D>>1,N=p(c[R],A);N<=0?(N===0&&(E=R),v=R+1):N>0&&(D=R-1)}return E}o.findCell=T;function m(c,A){for(var v=new Array(c.length),D=0,E=v.length;D<E;++D)v[D]=[];for(var R=[],D=0,N=A.length;D<N;++D)for(var F=A[D],I=F.length,L=1,P=1<<I;L<P;++L){R.length=l.popCount(L);for(var O=0,U=0;U<I;++U)L&1<<U&&(R[O++]=F[U]);var X=T(c,R);if(!(X<0))for(;v[X++].push(D),!(X>=c.length||p(c[X],R)!==0););}return v}o.incidence=m;function k(c,A){if(!A)return m(w(x(c,0)),c,0);for(var v=new Array(A),D=0;D<A;++D)v[D]=[];for(var D=0,E=c.length;D<E;++D)for(var R=c[D],N=0,F=R.length;N<F;++N)v[R[N]].push(D);return v}o.dual=k;function S(c){for(var A=[],v=0,D=c.length;v<D;++v)for(var E=c[v],R=E.length|0,N=1,F=1<<R;N<F;++N){for(var I=[],L=0;L<R;++L)N>>>L&1&&I.push(E[L]);A.push(I)}return y(A)}o.explode=S;function x(c,A){if(A<0)return[];for(var v=[],D=(1<<A+1)-1,E=0;E<c.length;++E)for(var R=c[E],N=D;N<1<<R.length;N=l.nextCombination(N)){for(var F=new Array(A+1),I=0,L=0;L<R.length;++L)N&1<<L&&(F[I++]=R[L]);v.push(F)}return y(v)}o.skeleton=x;function M(c){for(var A=[],v=0,D=c.length;v<D;++v)for(var E=c[v],R=0,N=E.length;R<N;++R){for(var F=new Array(E.length-1),I=0,L=0;I<N;++I)I!==R&&(F[L++]=E[I]);A.push(F)}return y(A)}o.boundary=M;function d(c,A){for(var v=new u(A),D=0;D<c.length;++D)for(var E=c[D],R=0;R<E.length;++R)for(var N=R+1;N<E.length;++N)v.link(E[R],E[N]);for(var F=[],I=v.ranks,D=0;D<I.length;++D)I[D]=-1;for(var D=0;D<c.length;++D){var L=v.find(c[D][0]);I[L]<0?(I[L]=F.length,F.push([c[D].slice(0)])):F[I[L]].push(c[D].slice(0))}return F}function _(c){for(var A=w(y(x(c,0))),v=new u(A.length),D=0;D<c.length;++D)for(var E=c[D],R=0;R<E.length;++R)for(var N=T(A,[E[R]]),F=R+1;F<E.length;++F)v.link(N,T(A,[E[F]]));for(var I=[],L=v.ranks,D=0;D<L.length;++D)L[D]=-1;for(var D=0;D<c.length;++D){var P=v.find(T(A,[c[D][0]]));L[P]<0?(L[P]=I.length,I.push([c[D].slice(0)])):I[L[P]].push(c[D].slice(0))}return I}function g(c,A){return A?d(c,A):_(c)}o.connectedComponents=g},2095:function(a,o,i){"use strict";a.exports=T;var l=i(3134),u=i(3088),s=i(5085),f=i(5250),h=i(8210),p=i(1682),b=i(5609);function y(m,k){for(var S=new Array(m),x=0;x<m;++x)S[x]=k;return S}function w(m){for(var k=new Array(m),S=0;S<m;++S)k[S]=[];return k}function T(m,k){var ee=b(m,k);m=ee[0],k=ee[1];for(var S=k.length,x=m.length,M=l(m,k.length),d=0;d<S;++d)if(M[d].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var _=u(m,k);function g(ce){for(var Se=ce.length,Ce=[0],Fe=0;Fe<Se;++Fe){var Ee=k[ce[Fe]],ze=k[ce[(Fe+1)%Se]],Ue=f(-Ee[0],Ee[1]),ge=f(-Ee[0],ze[1]),Me=f(ze[0],Ee[1]),ke=f(ze[0],ze[1]);Ce=h(Ce,h(h(Ue,ge),h(Me,ke)))}return Ce[Ce.length-1]>0}_=_.filter(g);for(var c=_.length,A=new Array(c),v=new Array(c),d=0;d<c;++d){A[d]=d;var D=new Array(c),E=_[d].map(function(Se){return k[Se]}),R=s([E]),N=0;e:for(var F=0;F<c;++F)if(D[F]=0,d!==F){for(var I=_[F],L=I.length,P=0;P<L;++P){var O=R(k[I[P]]);if(O!==0){O<0&&(D[F]=1,N+=1);continue e}}D[F]=1,N+=1}v[d]=[N,d,D]}v.sort(function(ce,Se){return Se[0]-ce[0]});for(var d=0;d<c;++d)for(var D=v[d],U=D[1],X=D[2],F=0;F<c;++F)X[F]&&(A[F]=U);for(var $=w(c),d=0;d<c;++d)$[d].push(A[d]),$[A[d]].push(d);for(var j={},Y=y(S,!1),d=0;d<c;++d)for(var I=_[d],L=I.length,F=0;F<L;++F){var q=I[F],Q=I[(F+1)%L],ae=Math.min(q,Q)+":"+Math.max(q,Q);if(ae in j){var K=j[ae];$[K].push(d),$[d].push(K),Y[q]=Y[Q]=!0}else j[ae]=d}function oe(ce){for(var Se=ce.length,Ce=0;Ce<Se;++Ce)if(!Y[ce[Ce]])return!1;return!0}for(var re=[],V=y(c,-1),d=0;d<c;++d)A[d]===d&&!oe(_[d])?(re.push(d),V[d]=0):V[d]=-1;for(var ee=[];re.length>0;){var H=re.pop(),te=$[H];p(te,function(ce,Se){return ce-Se});var le=te.length,ve=V[H],Ae;if(ve===0){var I=_[H];Ae=[I]}for(var d=0;d<le;++d){var we=te[d];if(!(V[we]>=0)&&(V[we]=ve^1,re.push(we),ve===0)){var I=_[we];oe(I)||(I.reverse(),Ae.push(I))}}ve===0&&ee.push(Ae)}return ee}},2145:function(a,o){"use strict";o.uniforms=s,o.attributes=f;var i={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},l=null;function u(h,p){if(!l){var b=Object.keys(i);l={};for(var y=0;y<b.length;++y){var w=b[y];l[h[w]]=i[w]}}return l[p]}function s(h,p){for(var b=h.getProgramParameter(p,h.ACTIVE_UNIFORMS),y=[],w=0;w<b;++w){var T=h.getActiveUniform(p,w);if(T){var m=u(h,T.type);if(T.size>1)for(var k=0;k<T.size;++k)y.push({name:T.name.replace("[0]","["+k+"]"),type:m});else y.push({name:T.name,type:m})}}return y}function f(h,p){for(var b=h.getProgramParameter(p,h.ACTIVE_ATTRIBUTES),y=[],w=0;w<b;++w){var T=h.getActiveAttrib(p,w);T&&y.push({name:T.name,type:u(h,T.type)})}return y}},2229:function(a,o,i){a.exports=i(6843)},2260:function(a,o,i){"use strict";var l=i(7766);a.exports=_;var u=null,s,f,h,p;function b(g){var c=g.getParameter(g.FRAMEBUFFER_BINDING),A=g.getParameter(g.RENDERBUFFER_BINDING),v=g.getParameter(g.TEXTURE_BINDING_2D);return[c,A,v]}function y(g,c){g.bindFramebuffer(g.FRAMEBUFFER,c[0]),g.bindRenderbuffer(g.RENDERBUFFER,c[1]),g.bindTexture(g.TEXTURE_2D,c[2])}function w(g,c){var A=g.getParameter(c.MAX_COLOR_ATTACHMENTS_WEBGL);u=new Array(A+1);for(var v=0;v<=A;++v){for(var D=new Array(A),E=0;E<v;++E)D[E]=g.COLOR_ATTACHMENT0+E;for(var E=v;E<A;++E)D[E]=g.NONE;u[v]=D}}function T(g){switch(g){case s:throw new Error("gl-fbo: Framebuffer unsupported");case f:throw new Error("gl-fbo: Framebuffer incomplete attachment");case h:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case p:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function m(g,c,A,v,D,E){if(!v)return null;var R=l(g,c,A,D,v);return R.magFilter=g.NEAREST,R.minFilter=g.NEAREST,R.mipSamples=1,R.bind(),g.framebufferTexture2D(g.FRAMEBUFFER,E,g.TEXTURE_2D,R.handle,0),R}function k(g,c,A,v,D){var E=g.createRenderbuffer();return g.bindRenderbuffer(g.RENDERBUFFER,E),g.renderbufferStorage(g.RENDERBUFFER,v,c,A),g.framebufferRenderbuffer(g.FRAMEBUFFER,D,g.RENDERBUFFER,E),E}function S(g){var c=b(g.gl),A=g.gl,v=g.handle=A.createFramebuffer(),D=g._shape[0],E=g._shape[1],R=g.color.length,N=g._ext,F=g._useStencil,I=g._useDepth,L=g._colorType;A.bindFramebuffer(A.FRAMEBUFFER,v);for(var P=0;P<R;++P)g.color[P]=m(A,D,E,L,A.RGBA,A.COLOR_ATTACHMENT0+P);R===0?(g._color_rb=k(A,D,E,A.RGBA4,A.COLOR_ATTACHMENT0),N&&N.drawBuffersWEBGL(u[0])):R>1&&N.drawBuffersWEBGL(u[R]);var O=A.getExtension("WEBGL_depth_texture");O?F?g.depth=m(A,D,E,O.UNSIGNED_INT_24_8_WEBGL,A.DEPTH_STENCIL,A.DEPTH_STENCIL_ATTACHMENT):I&&(g.depth=m(A,D,E,A.UNSIGNED_SHORT,A.DEPTH_COMPONENT,A.DEPTH_ATTACHMENT)):I&&F?g._depth_rb=k(A,D,E,A.DEPTH_STENCIL,A.DEPTH_STENCIL_ATTACHMENT):I?g._depth_rb=k(A,D,E,A.DEPTH_COMPONENT16,A.DEPTH_ATTACHMENT):F&&(g._depth_rb=k(A,D,E,A.STENCIL_INDEX,A.STENCIL_ATTACHMENT));var U=A.checkFramebufferStatus(A.FRAMEBUFFER);if(U!==A.FRAMEBUFFER_COMPLETE){g._destroyed=!0,A.bindFramebuffer(A.FRAMEBUFFER,null),A.deleteFramebuffer(g.handle),g.handle=null,g.depth&&(g.depth.dispose(),g.depth=null),g._depth_rb&&(A.deleteRenderbuffer(g._depth_rb),g._depth_rb=null);for(var P=0;P<g.color.length;++P)g.color[P].dispose(),g.color[P]=null;g._color_rb&&(A.deleteRenderbuffer(g._color_rb),g._color_rb=null),y(A,c),T(U)}y(A,c)}function x(g,c,A,v,D,E,R,N){this.gl=g,this._shape=[c|0,A|0],this._destroyed=!1,this._ext=N,this.color=new Array(D);for(var F=0;F<D;++F)this.color[F]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=v,this._useDepth=E,this._useStencil=R;var I=this,L=[c|0,A|0];Object.defineProperties(L,{0:{get:function(){return I._shape[0]},set:function(P){return I.width=P}},1:{get:function(){return I._shape[1]},set:function(P){return I.height=P}}}),this._shapeVector=L,S(this)}var M=x.prototype;function d(g,c,A){if(g._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(g._shape[0]===c&&g._shape[1]===A)){var v=g.gl,D=v.getParameter(v.MAX_RENDERBUFFER_SIZE);if(c<0||c>D||A<0||A>D)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");g._shape[0]=c,g._shape[1]=A;for(var E=b(v),R=0;R<g.color.length;++R)g.color[R].shape=g._shape;g._color_rb&&(v.bindRenderbuffer(v.RENDERBUFFER,g._color_rb),v.renderbufferStorage(v.RENDERBUFFER,v.RGBA4,g._shape[0],g._shape[1])),g.depth&&(g.depth.shape=g._shape),g._depth_rb&&(v.bindRenderbuffer(v.RENDERBUFFER,g._depth_rb),g._useDepth&&g._useStencil?v.renderbufferStorage(v.RENDERBUFFER,v.DEPTH_STENCIL,g._shape[0],g._shape[1]):g._useDepth?v.renderbufferStorage(v.RENDERBUFFER,v.DEPTH_COMPONENT16,g._shape[0],g._shape[1]):g._useStencil&&v.renderbufferStorage(v.RENDERBUFFER,v.STENCIL_INDEX,g._shape[0],g._shape[1])),v.bindFramebuffer(v.FRAMEBUFFER,g.handle);var N=v.checkFramebufferStatus(v.FRAMEBUFFER);N!==v.FRAMEBUFFER_COMPLETE&&(g.dispose(),y(v,E),T(N)),y(v,E)}}Object.defineProperties(M,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(g){if(Array.isArray(g)||(g=[g|0,g|0]),g.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var c=g[0]|0,A=g[1]|0;return d(this,c,A),[c,A]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(g){return g=g|0,d(this,g,this._shape[1]),g},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(g){return g=g|0,d(this,this._shape[0],g),g},enumerable:!1}}),M.bind=function(){if(!this._destroyed){var g=this.gl;g.bindFramebuffer(g.FRAMEBUFFER,this.handle),g.viewport(0,0,this._shape[0],this._shape[1])}},M.dispose=function(){if(!this._destroyed){this._destroyed=!0;var g=this.gl;g.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(g.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var c=0;c<this.color.length;++c)this.color[c].dispose(),this.color[c]=null;this._color_rb&&(g.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function _(g,c,A,v){s||(s=g.FRAMEBUFFER_UNSUPPORTED,f=g.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,h=g.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,p=g.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var D=g.getExtension("WEBGL_draw_buffers");if(!u&&D&&w(g,D),Array.isArray(c)&&(v=A,A=c[1]|0,c=c[0]|0),typeof c!="number")throw new Error("gl-fbo: Missing shape parameter");var E=g.getParameter(g.MAX_RENDERBUFFER_SIZE);if(c<0||c>E||A<0||A>E)throw new Error("gl-fbo: Parameters are too large for FBO");v=v||{};var R=1;if("color"in v){if(R=Math.max(v.color|0,0),R<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(R>1)if(D){if(R>g.getParameter(D.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+R+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var N=g.UNSIGNED_BYTE,F=g.getExtension("OES_texture_float");if(v.float&&R>0){if(!F)throw new Error("gl-fbo: Context does not support floating point textures");N=g.FLOAT}else v.preferFloat&&R>0&&F&&(N=g.FLOAT);var I=!0;"depth"in v&&(I=!!v.depth);var L=!1;return"stencil"in v&&(L=!!v.stencil),new x(g,c,A,N,R,I,L,D)}},2272:function(a,o,i){"use strict";var l=i(2646)[4],u=i(2478);a.exports=f;function s(h,p,b,y,w,T){var m=p.opposite(y,w);if(!(m<0)){if(w<y){var k=y;y=w,w=k,k=T,T=m,m=k}p.isConstraint(y,w)||l(h[y],h[w],h[T],h[m])<0&&b.push(y,w)}}function f(h,p){for(var b=[],y=h.length,w=p.stars,T=0;T<y;++T)for(var m=w[T],k=1;k<m.length;k+=2){var S=m[k];if(!(S<T)&&!p.isConstraint(T,S)){for(var x=m[k-1],M=-1,d=1;d<m.length;d+=2)if(m[d-1]===S){M=m[d];break}M<0||l(h[T],h[S],h[x],h[M])<0&&b.push(T,S)}}for(;b.length>0;){for(var S=b.pop(),T=b.pop(),x=-1,M=-1,m=w[T],_=1;_<m.length;_+=2){var g=m[_-1],c=m[_];g===S?M=c:c===S&&(x=g)}x<0||M<0||l(h[T],h[S],h[x],h[M])>=0||(p.flip(T,S),s(h,p,b,x,T,M),s(h,p,b,T,M,x),s(h,p,b,M,S,x),s(h,p,b,S,x,M))}}},2334:function(a){a.exports=o;function o(i,l,u){return i[0]=Math.min(l[0],u[0]),i[1]=Math.min(l[1],u[1]),i[2]=Math.min(l[2],u[2]),i[3]=Math.min(l[3],u[3]),i}},2335:function(a){a.exports=o;function o(i){var l=new Float32Array(4);return l[0]=i[0],l[1]=i[1],l[2]=i[2],l[3]=i[3],l}},2361:function(a){var o=!1;if(typeof Float64Array!="undefined"){var i=new Float64Array(1),l=new Uint32Array(i.buffer);if(i[0]=1,o=!0,l[1]===1072693248){let k=function(M,d){return l[0]=M,l[1]=d,i[0]},S=function(M){return i[0]=M,l[0]},x=function(M){return i[0]=M,l[1]};var s=k,f=S,h=x;a.exports=function(d){return i[0]=d,[l[0],l[1]]},a.exports.pack=k,a.exports.lo=S,a.exports.hi=x}else if(l[0]===1072693248){let k=function(M,d){return l[1]=M,l[0]=d,i[0]},S=function(M){return i[0]=M,l[1]},x=function(M){return i[0]=M,l[0]};var p=k,b=S,y=x;a.exports=function(d){return i[0]=d,[l[1],l[0]]},a.exports.pack=k,a.exports.lo=S,a.exports.hi=x}else o=!1}if(!o){let k=function(M,d){return u.writeUInt32LE(M,0,!0),u.writeUInt32LE(d,4,!0),u.readDoubleLE(0,!0)},S=function(M){return u.writeDoubleLE(M,0,!0),u.readUInt32LE(0,!0)},x=function(M){return u.writeDoubleLE(M,0,!0),u.readUInt32LE(4,!0)};var w=k,T=S,m=x,u=new Buffer(8);a.exports=function(d){return u.writeDoubleLE(d,0,!0),[u.readUInt32LE(0,!0),u.readUInt32LE(4,!0)]},a.exports.pack=k,a.exports.lo=S,a.exports.hi=x}a.exports.sign=function(k){return a.exports.hi(k)>>>31},a.exports.exponent=function(k){var S=a.exports.hi(k);return(S<<1>>>21)-1023},a.exports.fraction=function(k){var S=a.exports.lo(k),x=a.exports.hi(k),M=x&(1<<20)-1;return x&2146435072&&(M+=1048576),[S,M]},a.exports.denormalized=function(k){var S=a.exports.hi(k);return!(S&2146435072)}},2408:function(a){a.exports=o;function o(i,l,u){var s=Math.sin(u),f=Math.cos(u),h=l[0],p=l[1],b=l[2],y=l[3],w=l[8],T=l[9],m=l[10],k=l[11];return l!==i&&(i[4]=l[4],i[5]=l[5],i[6]=l[6],i[7]=l[7],i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15]),i[0]=h*f-w*s,i[1]=p*f-T*s,i[2]=b*f-m*s,i[3]=y*f-k*s,i[8]=h*s+w*f,i[9]=p*s+T*f,i[10]=b*s+m*f,i[11]=y*s+k*f,i}},2419:function(a){"use strict";a.exports=o;function o(i){for(var l=1,u=1;u<i.length;++u)for(var s=0;s<u;++s)if(i[u]<i[s])l=-l;else if(i[s]===i[u])return 0;return l}},2447:function(a){a.exports=o;function o(i,l){return i[0]=Math.round(l[0]),i[1]=Math.round(l[1]),i[2]=Math.round(l[2]),i}},2455:function(a,o){"use strict";function i(){function s(p,b,y,w,T,m,k,S,x,M,d){for(var _=2*p,g=w,c=_*w;g<T;++g,c+=_){var A=m[b+c],v=m[b+c+p],D=k[g];e:for(var E=S,R=_*S;E<x;++E,R+=_){var N=M[b+R],F=M[b+R+p],I=d[E];if(!(F<A||v<N)){for(var L=b+1;L<p;++L){var P=m[L+c],O=m[L+p+c],U=M[L+R],X=M[L+p+R];if(O<U||X<P)continue e}var $=y(D,I);if($!==void 0)return $}}}}function f(p,b,y,w,T,m,k,S,x,M,d){for(var _=2*p,g=S,c=_*S;g<x;++g,c+=_){var A=M[b+c],v=M[b+c+p],D=d[g];e:for(var E=w,R=_*w;E<T;++E,R+=_){var N=m[b+R],F=m[b+R+p],I=k[E];if(!(v<N||F<A)){for(var L=b+1;L<p;++L){var P=m[L+R],O=m[L+p+R],U=M[L+c],X=M[L+p+c];if(O<U||X<P)continue e}var $=y(I,D);if($!==void 0)return $}}}}function h(p,b,y,w,T,m,k,S,x,M,d){return T-w>x-S?s(p,b,y,w,T,m,k,S,x,M,d):f(p,b,y,w,T,m,k,S,x,M,d)}return h}function l(){function s(y,w,T,m,k,S,x,M,d,_,g){for(var c=2*y,A=m,v=c*m;A<k;++A,v+=c){var D=S[w+v],E=S[w+v+y],R=x[A];e:for(var N=M,F=c*M;N<d;++N,F+=c){var I=_[w+F],L=g[N];if(!(I<=D||E<I)){for(var P=w+1;P<y;++P){var O=S[P+v],U=S[P+y+v],X=_[P+F],$=_[P+y+F];if(U<X||$<O)continue e}var j=T(L,R);if(j!==void 0)return j}}}}function f(y,w,T,m,k,S,x,M,d,_,g){for(var c=2*y,A=m,v=c*m;A<k;++A,v+=c){var D=S[w+v],E=S[w+v+y],R=x[A];e:for(var N=M,F=c*M;N<d;++N,F+=c){var I=_[w+F],L=g[N];if(!(I<D||E<I)){for(var P=w+1;P<y;++P){var O=S[P+v],U=S[P+y+v],X=_[P+F],$=_[P+y+F];if(U<X||$<O)continue e}var j=T(R,L);if(j!==void 0)return j}}}}function h(y,w,T,m,k,S,x,M,d,_,g){for(var c=2*y,A=M,v=c*M;A<d;++A,v+=c){var D=_[w+v],E=g[A];e:for(var R=m,N=c*m;R<k;++R,N+=c){var F=S[w+N],I=S[w+N+y],L=x[R];if(!(D<=F||I<D)){for(var P=w+1;P<y;++P){var O=S[P+N],U=S[P+y+N],X=_[P+v],$=_[P+y+v];if(U<X||$<O)continue e}var j=T(E,L);if(j!==void 0)return j}}}}function p(y,w,T,m,k,S,x,M,d,_,g){for(var c=2*y,A=M,v=c*M;A<d;++A,v+=c){var D=_[w+v],E=g[A];e:for(var R=m,N=c*m;R<k;++R,N+=c){var F=S[w+N],I=S[w+N+y],L=x[R];if(!(D<F||I<D)){for(var P=w+1;P<y;++P){var O=S[P+N],U=S[P+y+N],X=_[P+v],$=_[P+y+v];if(U<X||$<O)continue e}var j=T(L,E);if(j!==void 0)return j}}}}function b(y,w,T,m,k,S,x,M,d,_,g,c){return S-k>_-d?m?s(y,w,T,k,S,x,M,d,_,g,c):f(y,w,T,k,S,x,M,d,_,g,c):m?h(y,w,T,k,S,x,M,d,_,g,c):p(y,w,T,k,S,x,M,d,_,g,c)}return b}function u(s){return s?i():l()}o.partial=u(!1),o.full=u(!0)},2478:function(a){"use strict";function o(h,p,b,y,w){for(var T=w+1;y<=w;){var m=y+w>>>1,k=h[m],S=b!==void 0?b(k,p):k-p;S>=0?(T=m,w=m-1):y=m+1}return T}function i(h,p,b,y,w){for(var T=w+1;y<=w;){var m=y+w>>>1,k=h[m],S=b!==void 0?b(k,p):k-p;S>0?(T=m,w=m-1):y=m+1}return T}function l(h,p,b,y,w){for(var T=y-1;y<=w;){var m=y+w>>>1,k=h[m],S=b!==void 0?b(k,p):k-p;S<0?(T=m,y=m+1):w=m-1}return T}function u(h,p,b,y,w){for(var T=y-1;y<=w;){var m=y+w>>>1,k=h[m],S=b!==void 0?b(k,p):k-p;S<=0?(T=m,y=m+1):w=m-1}return T}function s(h,p,b,y,w){for(;y<=w;){var T=y+w>>>1,m=h[T],k=b!==void 0?b(m,p):m-p;if(k===0)return T;k<=0?y=T+1:w=T-1}return-1}function f(h,p,b,y,w,T){return typeof b=="function"?T(h,p,b,y===void 0?0:y|0,w===void 0?h.length-1:w|0):T(h,p,void 0,b===void 0?0:b|0,y===void 0?h.length-1:y|0)}a.exports={ge:function(h,p,b,y,w){return f(h,p,b,y,w,o)},gt:function(h,p,b,y,w){return f(h,p,b,y,w,i)},lt:function(h,p,b,y,w){return f(h,p,b,y,w,l)},le:function(h,p,b,y,w){return f(h,p,b,y,w,u)},eq:function(h,p,b,y,w){return f(h,p,b,y,w,s)}}},2504:function(a){a.exports=o;function o(i,l,u){var s=u[0],f=u[1],h=u[2];return i[0]=l[0]*s,i[1]=l[1]*s,i[2]=l[2]*s,i[3]=l[3]*s,i[4]=l[4]*f,i[5]=l[5]*f,i[6]=l[6]*f,i[7]=l[7]*f,i[8]=l[8]*h,i[9]=l[9]*h,i[10]=l[10]*h,i[11]=l[11]*h,i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15],i}},2538:function(a,o,i){"use strict";var l=i(8902),u=i(5542),s=i(2272),f=i(5023);a.exports=w;function h(T){return[Math.min(T[0],T[1]),Math.max(T[0],T[1])]}function p(T,m){return T[0]-m[0]||T[1]-m[1]}function b(T){return T.map(h).sort(p)}function y(T,m,k){return m in T?T[m]:k}function w(T,m,k){Array.isArray(m)?(k=k||{},m=m||[]):(k=m||{},m=[]);var S=!!y(k,"delaunay",!0),x=!!y(k,"interior",!0),M=!!y(k,"exterior",!0),d=!!y(k,"infinity",!1);if(!x&&!M||T.length===0)return[];var _=l(T,m);if(S||x!==M||d){for(var g=u(T.length,b(m)),c=0;c<_.length;++c){var A=_[c];g.addTriangle(A[0],A[1],A[2])}return S&&s(T,g),M?x?d?f(g,0,d):g.cells():f(g,1,d):f(g,-1)}else return _}},2573:function(a){a.exports=o;function o(i,l,u,s){var f=l[0],h=l[1],p=l[2],b=l[3];return i[0]=f+s*(u[0]-f),i[1]=h+s*(u[1]-h),i[2]=p+s*(u[2]-p),i[3]=b+s*(u[3]-b),i}},2613:function(a){a.exports=1e-6},2640:function(a,o,i){"use strict";var l=i(1888);a.exports=f;var u={"false,0,1":function(p,b,y,w,T){return function(k,S,x,M){var d=k.shape[0]|0,_=k.shape[1]|0,g=k.data,c=k.offset|0,A=k.stride[0]|0,v=k.stride[1]|0,D=c,E,R=-A|0,N=0,F=-v|0,I=0,L=-A-v|0,P=0,O=A|0,U=v-A*d|0,X=0,$=0,j=0,Y=2*d|0,q=w(Y),Q=w(Y),ae=0,K=0,oe=-1,re=-1,V=0,ee=-d|0,H=d|0,te=0,le=-d-1|0,ve=d-1|0,Ae=0,we=0,ce=0;for(X=0;X<d;++X)q[ae++]=y(g[D],S,x,M),D+=O;if(D+=U,_>0){if($=1,q[ae++]=y(g[D],S,x,M),D+=O,d>0)for(X=1,E=g[D],K=q[ae]=y(E,S,x,M),V=q[ae+oe],te=q[ae+ee],Ae=q[ae+le],(K!==V||K!==te||K!==Ae)&&(N=g[D+R],I=g[D+F],P=g[D+L],p(X,$,E,N,I,P,K,V,te,Ae,S,x,M),we=Q[ae]=j++),ae+=1,D+=O,X=2;X<d;++X)E=g[D],K=q[ae]=y(E,S,x,M),V=q[ae+oe],te=q[ae+ee],Ae=q[ae+le],(K!==V||K!==te||K!==Ae)&&(N=g[D+R],I=g[D+F],P=g[D+L],p(X,$,E,N,I,P,K,V,te,Ae,S,x,M),we=Q[ae]=j++,Ae!==V&&b(Q[ae+oe],we,P,N,Ae,V,S,x,M)),ae+=1,D+=O;for(D+=U,ae=0,ce=oe,oe=re,re=ce,ce=ee,ee=H,H=ce,ce=le,le=ve,ve=ce,$=2;$<_;++$){if(q[ae++]=y(g[D],S,x,M),D+=O,d>0)for(X=1,E=g[D],K=q[ae]=y(E,S,x,M),V=q[ae+oe],te=q[ae+ee],Ae=q[ae+le],(K!==V||K!==te||K!==Ae)&&(N=g[D+R],I=g[D+F],P=g[D+L],p(X,$,E,N,I,P,K,V,te,Ae,S,x,M),we=Q[ae]=j++,Ae!==te&&b(Q[ae+ee],we,I,P,te,Ae,S,x,M)),ae+=1,D+=O,X=2;X<d;++X)E=g[D],K=q[ae]=y(E,S,x,M),V=q[ae+oe],te=q[ae+ee],Ae=q[ae+le],(K!==V||K!==te||K!==Ae)&&(N=g[D+R],I=g[D+F],P=g[D+L],p(X,$,E,N,I,P,K,V,te,Ae,S,x,M),we=Q[ae]=j++,Ae!==te&&b(Q[ae+ee],we,I,P,te,Ae,S,x,M),Ae!==V&&b(Q[ae+oe],we,P,N,Ae,V,S,x,M)),ae+=1,D+=O;$&1&&(ae=0),ce=oe,oe=re,re=ce,ce=ee,ee=H,H=ce,ce=le,le=ve,ve=ce,D+=U}}T(Q),T(q)}},"false,1,0":function(p,b,y,w,T){return function(k,S,x,M){var d=k.shape[0]|0,_=k.shape[1]|0,g=k.data,c=k.offset|0,A=k.stride[0]|0,v=k.stride[1]|0,D=c,E,R=-A|0,N=0,F=-v|0,I=0,L=-A-v|0,P=0,O=v|0,U=A-v*_|0,X=0,$=0,j=0,Y=2*_|0,q=w(Y),Q=w(Y),ae=0,K=0,oe=-1,re=-1,V=0,ee=-_|0,H=_|0,te=0,le=-_-1|0,ve=_-1|0,Ae=0,we=0,ce=0;for($=0;$<_;++$)q[ae++]=y(g[D],S,x,M),D+=O;if(D+=U,d>0){if(X=1,q[ae++]=y(g[D],S,x,M),D+=O,_>0)for($=1,E=g[D],K=q[ae]=y(E,S,x,M),te=q[ae+ee],V=q[ae+oe],Ae=q[ae+le],(K!==te||K!==V||K!==Ae)&&(N=g[D+R],I=g[D+F],P=g[D+L],p(X,$,E,N,I,P,K,te,V,Ae,S,x,M),we=Q[ae]=j++),ae+=1,D+=O,$=2;$<_;++$)E=g[D],K=q[ae]=y(E,S,x,M),te=q[ae+ee],V=q[ae+oe],Ae=q[ae+le],(K!==te||K!==V||K!==Ae)&&(N=g[D+R],I=g[D+F],P=g[D+L],p(X,$,E,N,I,P,K,te,V,Ae,S,x,M),we=Q[ae]=j++,Ae!==V&&b(Q[ae+oe],we,I,P,V,Ae,S,x,M)),ae+=1,D+=O;for(D+=U,ae=0,ce=ee,ee=H,H=ce,ce=oe,oe=re,re=ce,ce=le,le=ve,ve=ce,X=2;X<d;++X){if(q[ae++]=y(g[D],S,x,M),D+=O,_>0)for($=1,E=g[D],K=q[ae]=y(E,S,x,M),te=q[ae+ee],V=q[ae+oe],Ae=q[ae+le],(K!==te||K!==V||K!==Ae)&&(N=g[D+R],I=g[D+F],P=g[D+L],p(X,$,E,N,I,P,K,te,V,Ae,S,x,M),we=Q[ae]=j++,Ae!==te&&b(Q[ae+ee],we,P,N,Ae,te,S,x,M)),ae+=1,D+=O,$=2;$<_;++$)E=g[D],K=q[ae]=y(E,S,x,M),te=q[ae+ee],V=q[ae+oe],Ae=q[ae+le],(K!==te||K!==V||K!==Ae)&&(N=g[D+R],I=g[D+F],P=g[D+L],p(X,$,E,N,I,P,K,te,V,Ae,S,x,M),we=Q[ae]=j++,Ae!==V&&b(Q[ae+oe],we,I,P,V,Ae,S,x,M),Ae!==te&&b(Q[ae+ee],we,P,N,Ae,te,S,x,M)),ae+=1,D+=O;X&1&&(ae=0),ce=ee,ee=H,H=ce,ce=oe,oe=re,re=ce,ce=le,le=ve,ve=ce,D+=U}}T(Q),T(q)}}};function s(h,p,b,y,w,T){var m=[T,w].join(","),k=u[m];return k(h,p,b,l.mallocUint32,l.freeUint32)}function f(h){function p(S){throw new Error("ndarray-extract-contour: "+S)}typeof h!="object"&&p("Must specify arguments");var b=h.order;Array.isArray(b)||p("Must specify order");var y=h.arrayArguments||1;y<1&&p("Must have at least one array argument");var w=h.scalarArguments||0;w<0&&p("Scalar arg count must be > 0"),typeof h.vertex!="function"&&p("Must specify vertex creation function"),typeof h.cell!="function"&&p("Must specify cell creation function"),typeof h.phase!="function"&&p("Must specify phase function");for(var T=h.getters||[],m=new Array(y),k=0;k<y;++k)T.indexOf(k)>=0?m[k]=!0:m[k]=!1;return s(h.vertex,h.cell,h.phase,w,b,m)}},2642:function(a,o,i){"use strict";a.exports=s;var l=i(727);function u(f){for(var h=0,p=0;p<f.length;++p)h+=f[p];return h}function s(f,h){for(var p=h.length,b=new Array(p+1),y=0;y<p;++y){for(var w=new Array(p+1),T=0;T<=p;++T)w[T]=f[T][y];b[y]=w}b[p]=new Array(p+1);for(var y=0;y<=p;++y)b[p][y]=1;for(var m=new Array(p+1),y=0;y<p;++y)m[y]=h[y];m[p]=1;var k=l(b,m),S=u(k[p+1]);S===0&&(S=1);for(var x=new Array(p+1),y=0;y<=p;++y)x[y]=u(k[y])/S;return x}},2646:function(a,o,i){"use strict";var l=i(5250),u=i(8210),s=i(8545),f=i(3012),h=6;function p(g){var c=g===3?T:g===4?m:g===5?k:S;return c(u,s,l,f)}function b(){return 0}function y(){return 0}function w(){return 0}function T(g,c,A,v){function D(E,R,N){var F=A(E[0],E[0]),I=v(F,R[0]),L=v(F,N[0]),P=A(R[0],R[0]),O=v(P,E[0]),U=v(P,N[0]),X=A(N[0],N[0]),$=v(X,E[0]),j=v(X,R[0]),Y=g(c(j,U),c(O,I)),q=c($,L),Q=c(Y,q);return Q[Q.length-1]}return D}function m(g,c,A,v){function D(E,R,N,F){var I=g(A(E[0],E[0]),A(E[1],E[1])),L=v(I,R[0]),P=v(I,N[0]),O=v(I,F[0]),U=g(A(R[0],R[0]),A(R[1],R[1])),X=v(U,E[0]),$=v(U,N[0]),j=v(U,F[0]),Y=g(A(N[0],N[0]),A(N[1],N[1])),q=v(Y,E[0]),Q=v(Y,R[0]),ae=v(Y,F[0]),K=g(A(F[0],F[0]),A(F[1],F[1])),oe=v(K,E[0]),re=v(K,R[0]),V=v(K,N[0]),ee=g(g(v(c(V,ae),R[1]),g(v(c(re,j),-N[1]),v(c(Q,$),F[1]))),g(v(c(re,j),E[1]),g(v(c(oe,O),-R[1]),v(c(X,L),F[1])))),H=g(g(v(c(V,ae),E[1]),g(v(c(oe,O),-N[1]),v(c(q,P),F[1]))),g(v(c(Q,$),E[1]),g(v(c(q,P),-R[1]),v(c(X,L),N[1])))),te=c(ee,H);return te[te.length-1]}return D}function k(g,c,A,v){function D(E,R,N,F,I){var L=g(A(E[0],E[0]),g(A(E[1],E[1]),A(E[2],E[2]))),P=v(L,R[0]),O=v(L,N[0]),U=v(L,F[0]),X=v(L,I[0]),$=g(A(R[0],R[0]),g(A(R[1],R[1]),A(R[2],R[2]))),j=v($,E[0]),Y=v($,N[0]),q=v($,F[0]),Q=v($,I[0]),ae=g(A(N[0],N[0]),g(A(N[1],N[1]),A(N[2],N[2]))),K=v(ae,E[0]),oe=v(ae,R[0]),re=v(ae,F[0]),V=v(ae,I[0]),ee=g(A(F[0],F[0]),g(A(F[1],F[1]),A(F[2],F[2]))),H=v(ee,E[0]),te=v(ee,R[0]),le=v(ee,N[0]),ve=v(ee,I[0]),Ae=g(A(I[0],I[0]),g(A(I[1],I[1]),A(I[2],I[2]))),we=v(Ae,E[0]),ce=v(Ae,R[0]),Se=v(Ae,N[0]),Ce=v(Ae,F[0]),Fe=g(g(g(v(g(v(c(Ce,ve),N[1]),g(v(c(Se,V),-F[1]),v(c(le,re),I[1]))),R[2]),g(v(g(v(c(Ce,ve),R[1]),g(v(c(ce,Q),-F[1]),v(c(te,q),I[1]))),-N[2]),v(g(v(c(Se,V),R[1]),g(v(c(ce,Q),-N[1]),v(c(oe,Y),I[1]))),F[2]))),g(v(g(v(c(le,re),R[1]),g(v(c(te,q),-N[1]),v(c(oe,Y),F[1]))),-I[2]),g(v(g(v(c(Ce,ve),R[1]),g(v(c(ce,Q),-F[1]),v(c(te,q),I[1]))),E[2]),v(g(v(c(Ce,ve),E[1]),g(v(c(we,X),-F[1]),v(c(H,U),I[1]))),-R[2])))),g(g(v(g(v(c(ce,Q),E[1]),g(v(c(we,X),-R[1]),v(c(j,P),I[1]))),F[2]),g(v(g(v(c(te,q),E[1]),g(v(c(H,U),-R[1]),v(c(j,P),F[1]))),-I[2]),v(g(v(c(le,re),R[1]),g(v(c(te,q),-N[1]),v(c(oe,Y),F[1]))),E[2]))),g(v(g(v(c(le,re),E[1]),g(v(c(H,U),-N[1]),v(c(K,O),F[1]))),-R[2]),g(v(g(v(c(te,q),E[1]),g(v(c(H,U),-R[1]),v(c(j,P),F[1]))),N[2]),v(g(v(c(oe,Y),E[1]),g(v(c(K,O),-R[1]),v(c(j,P),N[1]))),-F[2]))))),Ee=g(g(g(v(g(v(c(Ce,ve),N[1]),g(v(c(Se,V),-F[1]),v(c(le,re),I[1]))),E[2]),v(g(v(c(Ce,ve),E[1]),g(v(c(we,X),-F[1]),v(c(H,U),I[1]))),-N[2])),g(v(g(v(c(Se,V),E[1]),g(v(c(we,X),-N[1]),v(c(K,O),I[1]))),F[2]),v(g(v(c(le,re),E[1]),g(v(c(H,U),-N[1]),v(c(K,O),F[1]))),-I[2]))),g(g(v(g(v(c(Se,V),R[1]),g(v(c(ce,Q),-N[1]),v(c(oe,Y),I[1]))),E[2]),v(g(v(c(Se,V),E[1]),g(v(c(we,X),-N[1]),v(c(K,O),I[1]))),-R[2])),g(v(g(v(c(ce,Q),E[1]),g(v(c(we,X),-R[1]),v(c(j,P),I[1]))),N[2]),v(g(v(c(oe,Y),E[1]),g(v(c(K,O),-R[1]),v(c(j,P),N[1]))),-I[2])))),ze=c(Fe,Ee);return ze[ze.length-1]}return D}function S(g,c,A,v){function D(E,R,N,F,I,L){var P=g(g(A(E[0],E[0]),A(E[1],E[1])),g(A(E[2],E[2]),A(E[3],E[3]))),O=v(P,R[0]),U=v(P,N[0]),X=v(P,F[0]),$=v(P,I[0]),j=v(P,L[0]),Y=g(g(A(R[0],R[0]),A(R[1],R[1])),g(A(R[2],R[2]),A(R[3],R[3]))),q=v(Y,E[0]),Q=v(Y,N[0]),ae=v(Y,F[0]),K=v(Y,I[0]),oe=v(Y,L[0]),re=g(g(A(N[0],N[0]),A(N[1],N[1])),g(A(N[2],N[2]),A(N[3],N[3]))),V=v(re,E[0]),ee=v(re,R[0]),H=v(re,F[0]),te=v(re,I[0]),le=v(re,L[0]),ve=g(g(A(F[0],F[0]),A(F[1],F[1])),g(A(F[2],F[2]),A(F[3],F[3]))),Ae=v(ve,E[0]),we=v(ve,R[0]),ce=v(ve,N[0]),Se=v(ve,I[0]),Ce=v(ve,L[0]),Fe=g(g(A(I[0],I[0]),A(I[1],I[1])),g(A(I[2],I[2]),A(I[3],I[3]))),Ee=v(Fe,E[0]),ze=v(Fe,R[0]),Ue=v(Fe,N[0]),ge=v(Fe,F[0]),Me=v(Fe,L[0]),ke=g(g(A(L[0],L[0]),A(L[1],L[1])),g(A(L[2],L[2]),A(L[3],L[3]))),me=v(ke,E[0]),ye=v(ke,R[0]),pe=v(ke,N[0]),he=v(ke,F[0]),xe=v(ke,I[0]),Le=g(g(g(v(g(g(v(g(v(c(xe,Me),F[1]),g(v(c(he,Ce),-I[1]),v(c(ge,Se),L[1]))),N[2]),v(g(v(c(xe,Me),N[1]),g(v(c(pe,le),-I[1]),v(c(Ue,te),L[1]))),-F[2])),g(v(g(v(c(he,Ce),N[1]),g(v(c(pe,le),-F[1]),v(c(ce,H),L[1]))),I[2]),v(g(v(c(ge,Se),N[1]),g(v(c(Ue,te),-F[1]),v(c(ce,H),I[1]))),-L[2]))),R[3]),g(v(g(g(v(g(v(c(xe,Me),F[1]),g(v(c(he,Ce),-I[1]),v(c(ge,Se),L[1]))),R[2]),v(g(v(c(xe,Me),R[1]),g(v(c(ye,oe),-I[1]),v(c(ze,K),L[1]))),-F[2])),g(v(g(v(c(he,Ce),R[1]),g(v(c(ye,oe),-F[1]),v(c(we,ae),L[1]))),I[2]),v(g(v(c(ge,Se),R[1]),g(v(c(ze,K),-F[1]),v(c(we,ae),I[1]))),-L[2]))),-N[3]),v(g(g(v(g(v(c(xe,Me),N[1]),g(v(c(pe,le),-I[1]),v(c(Ue,te),L[1]))),R[2]),v(g(v(c(xe,Me),R[1]),g(v(c(ye,oe),-I[1]),v(c(ze,K),L[1]))),-N[2])),g(v(g(v(c(pe,le),R[1]),g(v(c(ye,oe),-N[1]),v(c(ee,Q),L[1]))),I[2]),v(g(v(c(Ue,te),R[1]),g(v(c(ze,K),-N[1]),v(c(ee,Q),I[1]))),-L[2]))),F[3]))),g(g(v(g(g(v(g(v(c(he,Ce),N[1]),g(v(c(pe,le),-F[1]),v(c(ce,H),L[1]))),R[2]),v(g(v(c(he,Ce),R[1]),g(v(c(ye,oe),-F[1]),v(c(we,ae),L[1]))),-N[2])),g(v(g(v(c(pe,le),R[1]),g(v(c(ye,oe),-N[1]),v(c(ee,Q),L[1]))),F[2]),v(g(v(c(ce,H),R[1]),g(v(c(we,ae),-N[1]),v(c(ee,Q),F[1]))),-L[2]))),-I[3]),v(g(g(v(g(v(c(ge,Se),N[1]),g(v(c(Ue,te),-F[1]),v(c(ce,H),I[1]))),R[2]),v(g(v(c(ge,Se),R[1]),g(v(c(ze,K),-F[1]),v(c(we,ae),I[1]))),-N[2])),g(v(g(v(c(Ue,te),R[1]),g(v(c(ze,K),-N[1]),v(c(ee,Q),I[1]))),F[2]),v(g(v(c(ce,H),R[1]),g(v(c(we,ae),-N[1]),v(c(ee,Q),F[1]))),-I[2]))),L[3])),g(v(g(g(v(g(v(c(xe,Me),F[1]),g(v(c(he,Ce),-I[1]),v(c(ge,Se),L[1]))),R[2]),v(g(v(c(xe,Me),R[1]),g(v(c(ye,oe),-I[1]),v(c(ze,K),L[1]))),-F[2])),g(v(g(v(c(he,Ce),R[1]),g(v(c(ye,oe),-F[1]),v(c(we,ae),L[1]))),I[2]),v(g(v(c(ge,Se),R[1]),g(v(c(ze,K),-F[1]),v(c(we,ae),I[1]))),-L[2]))),E[3]),v(g(g(v(g(v(c(xe,Me),F[1]),g(v(c(he,Ce),-I[1]),v(c(ge,Se),L[1]))),E[2]),v(g(v(c(xe,Me),E[1]),g(v(c(me,j),-I[1]),v(c(Ee,$),L[1]))),-F[2])),g(v(g(v(c(he,Ce),E[1]),g(v(c(me,j),-F[1]),v(c(Ae,X),L[1]))),I[2]),v(g(v(c(ge,Se),E[1]),g(v(c(Ee,$),-F[1]),v(c(Ae,X),I[1]))),-L[2]))),-R[3])))),g(g(g(v(g(g(v(g(v(c(xe,Me),R[1]),g(v(c(ye,oe),-I[1]),v(c(ze,K),L[1]))),E[2]),v(g(v(c(xe,Me),E[1]),g(v(c(me,j),-I[1]),v(c(Ee,$),L[1]))),-R[2])),g(v(g(v(c(ye,oe),E[1]),g(v(c(me,j),-R[1]),v(c(q,O),L[1]))),I[2]),v(g(v(c(ze,K),E[1]),g(v(c(Ee,$),-R[1]),v(c(q,O),I[1]))),-L[2]))),F[3]),v(g(g(v(g(v(c(he,Ce),R[1]),g(v(c(ye,oe),-F[1]),v(c(we,ae),L[1]))),E[2]),v(g(v(c(he,Ce),E[1]),g(v(c(me,j),-F[1]),v(c(Ae,X),L[1]))),-R[2])),g(v(g(v(c(ye,oe),E[1]),g(v(c(me,j),-R[1]),v(c(q,O),L[1]))),F[2]),v(g(v(c(we,ae),E[1]),g(v(c(Ae,X),-R[1]),v(c(q,O),F[1]))),-L[2]))),-I[3])),g(v(g(g(v(g(v(c(ge,Se),R[1]),g(v(c(ze,K),-F[1]),v(c(we,ae),I[1]))),E[2]),v(g(v(c(ge,Se),E[1]),g(v(c(Ee,$),-F[1]),v(c(Ae,X),I[1]))),-R[2])),g(v(g(v(c(ze,K),E[1]),g(v(c(Ee,$),-R[1]),v(c(q,O),I[1]))),F[2]),v(g(v(c(we,ae),E[1]),g(v(c(Ae,X),-R[1]),v(c(q,O),F[1]))),-I[2]))),L[3]),v(g(g(v(g(v(c(he,Ce),N[1]),g(v(c(pe,le),-F[1]),v(c(ce,H),L[1]))),R[2]),v(g(v(c(he,Ce),R[1]),g(v(c(ye,oe),-F[1]),v(c(we,ae),L[1]))),-N[2])),g(v(g(v(c(pe,le),R[1]),g(v(c(ye,oe),-N[1]),v(c(ee,Q),L[1]))),F[2]),v(g(v(c(ce,H),R[1]),g(v(c(we,ae),-N[1]),v(c(ee,Q),F[1]))),-L[2]))),E[3]))),g(g(v(g(g(v(g(v(c(he,Ce),N[1]),g(v(c(pe,le),-F[1]),v(c(ce,H),L[1]))),E[2]),v(g(v(c(he,Ce),E[1]),g(v(c(me,j),-F[1]),v(c(Ae,X),L[1]))),-N[2])),g(v(g(v(c(pe,le),E[1]),g(v(c(me,j),-N[1]),v(c(V,U),L[1]))),F[2]),v(g(v(c(ce,H),E[1]),g(v(c(Ae,X),-N[1]),v(c(V,U),F[1]))),-L[2]))),-R[3]),v(g(g(v(g(v(c(he,Ce),R[1]),g(v(c(ye,oe),-F[1]),v(c(we,ae),L[1]))),E[2]),v(g(v(c(he,Ce),E[1]),g(v(c(me,j),-F[1]),v(c(Ae,X),L[1]))),-R[2])),g(v(g(v(c(ye,oe),E[1]),g(v(c(me,j),-R[1]),v(c(q,O),L[1]))),F[2]),v(g(v(c(we,ae),E[1]),g(v(c(Ae,X),-R[1]),v(c(q,O),F[1]))),-L[2]))),N[3])),g(v(g(g(v(g(v(c(pe,le),R[1]),g(v(c(ye,oe),-N[1]),v(c(ee,Q),L[1]))),E[2]),v(g(v(c(pe,le),E[1]),g(v(c(me,j),-N[1]),v(c(V,U),L[1]))),-R[2])),g(v(g(v(c(ye,oe),E[1]),g(v(c(me,j),-R[1]),v(c(q,O),L[1]))),N[2]),v(g(v(c(ee,Q),E[1]),g(v(c(V,U),-R[1]),v(c(q,O),N[1]))),-L[2]))),-F[3]),v(g(g(v(g(v(c(ce,H),R[1]),g(v(c(we,ae),-N[1]),v(c(ee,Q),F[1]))),E[2]),v(g(v(c(ce,H),E[1]),g(v(c(Ae,X),-N[1]),v(c(V,U),F[1]))),-R[2])),g(v(g(v(c(we,ae),E[1]),g(v(c(Ae,X),-R[1]),v(c(q,O),F[1]))),N[2]),v(g(v(c(ee,Q),E[1]),g(v(c(V,U),-R[1]),v(c(q,O),N[1]))),-F[2]))),L[3]))))),qe=g(g(g(v(g(g(v(g(v(c(xe,Me),F[1]),g(v(c(he,Ce),-I[1]),v(c(ge,Se),L[1]))),N[2]),v(g(v(c(xe,Me),N[1]),g(v(c(pe,le),-I[1]),v(c(Ue,te),L[1]))),-F[2])),g(v(g(v(c(he,Ce),N[1]),g(v(c(pe,le),-F[1]),v(c(ce,H),L[1]))),I[2]),v(g(v(c(ge,Se),N[1]),g(v(c(Ue,te),-F[1]),v(c(ce,H),I[1]))),-L[2]))),E[3]),g(v(g(g(v(g(v(c(xe,Me),F[1]),g(v(c(he,Ce),-I[1]),v(c(ge,Se),L[1]))),E[2]),v(g(v(c(xe,Me),E[1]),g(v(c(me,j),-I[1]),v(c(Ee,$),L[1]))),-F[2])),g(v(g(v(c(he,Ce),E[1]),g(v(c(me,j),-F[1]),v(c(Ae,X),L[1]))),I[2]),v(g(v(c(ge,Se),E[1]),g(v(c(Ee,$),-F[1]),v(c(Ae,X),I[1]))),-L[2]))),-N[3]),v(g(g(v(g(v(c(xe,Me),N[1]),g(v(c(pe,le),-I[1]),v(c(Ue,te),L[1]))),E[2]),v(g(v(c(xe,Me),E[1]),g(v(c(me,j),-I[1]),v(c(Ee,$),L[1]))),-N[2])),g(v(g(v(c(pe,le),E[1]),g(v(c(me,j),-N[1]),v(c(V,U),L[1]))),I[2]),v(g(v(c(Ue,te),E[1]),g(v(c(Ee,$),-N[1]),v(c(V,U),I[1]))),-L[2]))),F[3]))),g(g(v(g(g(v(g(v(c(he,Ce),N[1]),g(v(c(pe,le),-F[1]),v(c(ce,H),L[1]))),E[2]),v(g(v(c(he,Ce),E[1]),g(v(c(me,j),-F[1]),v(c(Ae,X),L[1]))),-N[2])),g(v(g(v(c(pe,le),E[1]),g(v(c(me,j),-N[1]),v(c(V,U),L[1]))),F[2]),v(g(v(c(ce,H),E[1]),g(v(c(Ae,X),-N[1]),v(c(V,U),F[1]))),-L[2]))),-I[3]),v(g(g(v(g(v(c(ge,Se),N[1]),g(v(c(Ue,te),-F[1]),v(c(ce,H),I[1]))),E[2]),v(g(v(c(ge,Se),E[1]),g(v(c(Ee,$),-F[1]),v(c(Ae,X),I[1]))),-N[2])),g(v(g(v(c(Ue,te),E[1]),g(v(c(Ee,$),-N[1]),v(c(V,U),I[1]))),F[2]),v(g(v(c(ce,H),E[1]),g(v(c(Ae,X),-N[1]),v(c(V,U),F[1]))),-I[2]))),L[3])),g(v(g(g(v(g(v(c(xe,Me),N[1]),g(v(c(pe,le),-I[1]),v(c(Ue,te),L[1]))),R[2]),v(g(v(c(xe,Me),R[1]),g(v(c(ye,oe),-I[1]),v(c(ze,K),L[1]))),-N[2])),g(v(g(v(c(pe,le),R[1]),g(v(c(ye,oe),-N[1]),v(c(ee,Q),L[1]))),I[2]),v(g(v(c(Ue,te),R[1]),g(v(c(ze,K),-N[1]),v(c(ee,Q),I[1]))),-L[2]))),E[3]),v(g(g(v(g(v(c(xe,Me),N[1]),g(v(c(pe,le),-I[1]),v(c(Ue,te),L[1]))),E[2]),v(g(v(c(xe,Me),E[1]),g(v(c(me,j),-I[1]),v(c(Ee,$),L[1]))),-N[2])),g(v(g(v(c(pe,le),E[1]),g(v(c(me,j),-N[1]),v(c(V,U),L[1]))),I[2]),v(g(v(c(Ue,te),E[1]),g(v(c(Ee,$),-N[1]),v(c(V,U),I[1]))),-L[2]))),-R[3])))),g(g(g(v(g(g(v(g(v(c(xe,Me),R[1]),g(v(c(ye,oe),-I[1]),v(c(ze,K),L[1]))),E[2]),v(g(v(c(xe,Me),E[1]),g(v(c(me,j),-I[1]),v(c(Ee,$),L[1]))),-R[2])),g(v(g(v(c(ye,oe),E[1]),g(v(c(me,j),-R[1]),v(c(q,O),L[1]))),I[2]),v(g(v(c(ze,K),E[1]),g(v(c(Ee,$),-R[1]),v(c(q,O),I[1]))),-L[2]))),N[3]),v(g(g(v(g(v(c(pe,le),R[1]),g(v(c(ye,oe),-N[1]),v(c(ee,Q),L[1]))),E[2]),v(g(v(c(pe,le),E[1]),g(v(c(me,j),-N[1]),v(c(V,U),L[1]))),-R[2])),g(v(g(v(c(ye,oe),E[1]),g(v(c(me,j),-R[1]),v(c(q,O),L[1]))),N[2]),v(g(v(c(ee,Q),E[1]),g(v(c(V,U),-R[1]),v(c(q,O),N[1]))),-L[2]))),-I[3])),g(v(g(g(v(g(v(c(Ue,te),R[1]),g(v(c(ze,K),-N[1]),v(c(ee,Q),I[1]))),E[2]),v(g(v(c(Ue,te),E[1]),g(v(c(Ee,$),-N[1]),v(c(V,U),I[1]))),-R[2])),g(v(g(v(c(ze,K),E[1]),g(v(c(Ee,$),-R[1]),v(c(q,O),I[1]))),N[2]),v(g(v(c(ee,Q),E[1]),g(v(c(V,U),-R[1]),v(c(q,O),N[1]))),-I[2]))),L[3]),v(g(g(v(g(v(c(ge,Se),N[1]),g(v(c(Ue,te),-F[1]),v(c(ce,H),I[1]))),R[2]),v(g(v(c(ge,Se),R[1]),g(v(c(ze,K),-F[1]),v(c(we,ae),I[1]))),-N[2])),g(v(g(v(c(Ue,te),R[1]),g(v(c(ze,K),-N[1]),v(c(ee,Q),I[1]))),F[2]),v(g(v(c(ce,H),R[1]),g(v(c(we,ae),-N[1]),v(c(ee,Q),F[1]))),-I[2]))),E[3]))),g(g(v(g(g(v(g(v(c(ge,Se),N[1]),g(v(c(Ue,te),-F[1]),v(c(ce,H),I[1]))),E[2]),v(g(v(c(ge,Se),E[1]),g(v(c(Ee,$),-F[1]),v(c(Ae,X),I[1]))),-N[2])),g(v(g(v(c(Ue,te),E[1]),g(v(c(Ee,$),-N[1]),v(c(V,U),I[1]))),F[2]),v(g(v(c(ce,H),E[1]),g(v(c(Ae,X),-N[1]),v(c(V,U),F[1]))),-I[2]))),-R[3]),v(g(g(v(g(v(c(ge,Se),R[1]),g(v(c(ze,K),-F[1]),v(c(we,ae),I[1]))),E[2]),v(g(v(c(ge,Se),E[1]),g(v(c(Ee,$),-F[1]),v(c(Ae,X),I[1]))),-R[2])),g(v(g(v(c(ze,K),E[1]),g(v(c(Ee,$),-R[1]),v(c(q,O),I[1]))),F[2]),v(g(v(c(we,ae),E[1]),g(v(c(Ae,X),-R[1]),v(c(q,O),F[1]))),-I[2]))),N[3])),g(v(g(g(v(g(v(c(Ue,te),R[1]),g(v(c(ze,K),-N[1]),v(c(ee,Q),I[1]))),E[2]),v(g(v(c(Ue,te),E[1]),g(v(c(Ee,$),-N[1]),v(c(V,U),I[1]))),-R[2])),g(v(g(v(c(ze,K),E[1]),g(v(c(Ee,$),-R[1]),v(c(q,O),I[1]))),N[2]),v(g(v(c(ee,Q),E[1]),g(v(c(V,U),-R[1]),v(c(q,O),N[1]))),-I[2]))),-F[3]),v(g(g(v(g(v(c(ce,H),R[1]),g(v(c(we,ae),-N[1]),v(c(ee,Q),F[1]))),E[2]),v(g(v(c(ce,H),E[1]),g(v(c(Ae,X),-N[1]),v(c(V,U),F[1]))),-R[2])),g(v(g(v(c(we,ae),E[1]),g(v(c(Ae,X),-R[1]),v(c(q,O),F[1]))),N[2]),v(g(v(c(ee,Q),E[1]),g(v(c(V,U),-R[1]),v(c(q,O),N[1]))),-F[2]))),I[3]))))),Ne=c(Le,qe);return Ne[Ne.length-1]}return D}var x=[b,y,w];function M(g){var c=x[g.length];return c||(c=x[g.length]=p(g.length)),c.apply(void 0,g)}function d(g,c,A,v,D,E,R,N){function F(I,L,P,O,U,X){switch(arguments.length){case 0:case 1:return 0;case 2:return v(I,L);case 3:return D(I,L,P);case 4:return E(I,L,P,O);case 5:return R(I,L,P,O,U);case 6:return N(I,L,P,O,U,X)}for(var $=new Array(arguments.length),j=0;j<arguments.length;++j)$[j]=arguments[j];return g($)}return F}function _(){for(;x.length<=h;)x.push(p(x.length));a.exports=d.apply(void 0,[M].concat(x));for(var g=0;g<=h;++g)a.exports[g]=x[g]}_()},2651:function(a,o,i){"use strict";var l=i(6859),u=i(2361);a.exports=s;function s(f){var h=u.exponent(f);return h<52?new l(f):new l(f*Math.pow(2,52-h)).ushln(h-52)}},2652:function(a,o,i){var l=i(4335),u=i(6864),s=i(1903),f=i(9921),h=i(7608),p=i(5665),b={length:i(1387),normalize:i(3536),dot:i(244),cross:i(5911)},y=u(),w=u(),T=[0,0,0,0],m=[[0,0,0],[0,0,0],[0,0,0]],k=[0,0,0];a.exports=function(_,g,c,A,v,D){if(g||(g=[0,0,0]),c||(c=[0,0,0]),A||(A=[0,0,0]),v||(v=[0,0,0,1]),D||(D=[0,0,0,1]),!l(y,_)||(s(w,y),w[3]=0,w[7]=0,w[11]=0,w[15]=1,Math.abs(f(w)<1e-8)))return!1;var E=y[3],R=y[7],N=y[11],F=y[12],I=y[13],L=y[14],P=y[15];if(E!==0||R!==0||N!==0){T[0]=E,T[1]=R,T[2]=N,T[3]=P;var O=h(w,w);if(!O)return!1;p(w,w),S(v,T,w)}else v[0]=v[1]=v[2]=0,v[3]=1;if(g[0]=F,g[1]=I,g[2]=L,x(m,y),c[0]=b.length(m[0]),b.normalize(m[0],m[0]),A[0]=b.dot(m[0],m[1]),M(m[1],m[1],m[0],1,-A[0]),c[1]=b.length(m[1]),b.normalize(m[1],m[1]),A[0]/=c[1],A[1]=b.dot(m[0],m[2]),M(m[2],m[2],m[0],1,-A[1]),A[2]=b.dot(m[1],m[2]),M(m[2],m[2],m[1],1,-A[2]),c[2]=b.length(m[2]),b.normalize(m[2],m[2]),A[1]/=c[2],A[2]/=c[2],b.cross(k,m[1],m[2]),b.dot(m[0],k)<0)for(var U=0;U<3;U++)c[U]*=-1,m[U][0]*=-1,m[U][1]*=-1,m[U][2]*=-1;return D[0]=.5*Math.sqrt(Math.max(1+m[0][0]-m[1][1]-m[2][2],0)),D[1]=.5*Math.sqrt(Math.max(1-m[0][0]+m[1][1]-m[2][2],0)),D[2]=.5*Math.sqrt(Math.max(1-m[0][0]-m[1][1]+m[2][2],0)),D[3]=.5*Math.sqrt(Math.max(1+m[0][0]+m[1][1]+m[2][2],0)),m[2][1]>m[1][2]&&(D[0]=-D[0]),m[0][2]>m[2][0]&&(D[1]=-D[1]),m[1][0]>m[0][1]&&(D[2]=-D[2]),!0};function S(d,_,g){var c=_[0],A=_[1],v=_[2],D=_[3];return d[0]=g[0]*c+g[4]*A+g[8]*v+g[12]*D,d[1]=g[1]*c+g[5]*A+g[9]*v+g[13]*D,d[2]=g[2]*c+g[6]*A+g[10]*v+g[14]*D,d[3]=g[3]*c+g[7]*A+g[11]*v+g[15]*D,d}function x(d,_){d[0][0]=_[0],d[0][1]=_[1],d[0][2]=_[2],d[1][0]=_[4],d[1][1]=_[5],d[1][2]=_[6],d[2][0]=_[8],d[2][1]=_[9],d[2][2]=_[10]}function M(d,_,g,c,A){d[0]=_[0]*c+g[0]*A,d[1]=_[1]*c+g[1]*A,d[2]=_[2]*c+g[2]*A}},2653:function(a,o,i){"use strict";var l=i(3865);a.exports=u;function u(s,f){for(var h=s.length,p=new Array(h),b=0;b<h;++b)p[b]=l(s[b],f[b]);return p}},2681:function(a){a.exports=o;function o(i,l){return i[0]=Math.floor(l[0]),i[1]=Math.floor(l[1]),i[2]=Math.floor(l[2]),i}},2690:function(a,o,i){"use strict";a.exports=h;var l=i(8954),u=i(3952);function s(p,b){for(var y=p.length,w=new Array(y),T=0;T<b.length;++T)w[T]=p[b[T]];for(var m=b.length,T=0;T<y;++T)b.indexOf(T)<0&&(w[m++]=p[T]);return w}function f(p,b){for(var y=p.length,w=b.length,T=0;T<y;++T)for(var m=p[T],k=0;k<m.length;++k){var S=m[k];if(S<w)m[k]=b[S];else{S=S-w;for(var x=0;x<w;++x)S>=b[x]&&(S+=1);m[k]=S}}return p}function h(p,b){try{return l(p,!0)}catch(m){var y=u(p);if(y.length<=b)return[];var w=s(p,y),T=l(w,!0);return f(T,y)}}},2762:function(a,o,i){"use strict";var l=i(1888),u=i(5298),s=i(9618),f=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function h(m,k,S,x,M){this.gl=m,this.type=k,this.handle=S,this.length=x,this.usage=M}var p=h.prototype;p.bind=function(){this.gl.bindBuffer(this.type,this.handle)},p.unbind=function(){this.gl.bindBuffer(this.type,null)},p.dispose=function(){this.gl.deleteBuffer(this.handle)};function b(m,k,S,x,M,d){var _=M.length*M.BYTES_PER_ELEMENT;if(d<0)return m.bufferData(k,M,x),_;if(_+d>S)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return m.bufferSubData(k,d,M),S}function y(m,k){for(var S=l.malloc(m.length,k),x=m.length,M=0;M<x;++M)S[M]=m[M];return S}function w(m,k){for(var S=1,x=k.length-1;x>=0;--x){if(k[x]!==S)return!1;S*=m[x]}return!0}p.update=function(m,k){if(typeof k!="number"&&(k=-1),this.bind(),typeof m=="object"&&typeof m.shape!="undefined"){var S=m.dtype;if(f.indexOf(S)<0&&(S="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var x=gl.getExtension("OES_element_index_uint");x&&S!=="uint16"?S="uint32":S="uint16"}if(S===m.dtype&&w(m.shape,m.stride))m.offset===0&&m.data.length===m.shape[0]?this.length=b(this.gl,this.type,this.length,this.usage,m.data,k):this.length=b(this.gl,this.type,this.length,this.usage,m.data.subarray(m.offset,m.shape[0]),k);else{var M=l.malloc(m.size,S),d=s(M,m.shape);u.assign(d,m),k<0?this.length=b(this.gl,this.type,this.length,this.usage,M,k):this.length=b(this.gl,this.type,this.length,this.usage,M.subarray(0,m.size),k),l.free(M)}}else if(Array.isArray(m)){var _;this.type===this.gl.ELEMENT_ARRAY_BUFFER?_=y(m,"uint16"):_=y(m,"float32"),k<0?this.length=b(this.gl,this.type,this.length,this.usage,_,k):this.length=b(this.gl,this.type,this.length,this.usage,_.subarray(0,m.length),k),l.free(_)}else if(typeof m=="object"&&typeof m.length=="number")this.length=b(this.gl,this.type,this.length,this.usage,m,k);else if(typeof m=="number"||m===void 0){if(k>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");m=m|0,m<=0&&(m=1),this.gl.bufferData(this.type,m|0,this.usage),this.length=m}else throw new Error("gl-buffer: Invalid data type")};function T(m,k,S,x){if(S=S||m.ARRAY_BUFFER,x=x||m.DYNAMIC_DRAW,S!==m.ARRAY_BUFFER&&S!==m.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(x!==m.DYNAMIC_DRAW&&x!==m.STATIC_DRAW&&x!==m.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var M=m.createBuffer(),d=new h(m,S,M,0,x);return d.update(k),d}a.exports=T},2825:function(a){a.exports=o;function o(i,l,u){var s=new Float32Array(3);return s[0]=i,s[1]=l,s[2]=u,s}},2931:function(a,o,i){a.exports={EPSILON:i(2613),create:i(1091),clone:i(3126),angle:i(8192),fromValues:i(2825),copy:i(3990),set:i(1463),equals:i(9922),exactEquals:i(9265),add:i(5632),subtract:i(6843),sub:i(2229),multiply:i(5847),mul:i(4505),divide:i(6690),div:i(4008),min:i(8107),max:i(7417),floor:i(2681),ceil:i(9226),round:i(2447),scale:i(6621),scaleAndAdd:i(8489),distance:i(7056),dist:i(5455),squaredDistance:i(2953),sqrDist:i(6141),length:i(1387),len:i(868),squaredLength:i(3066),sqrLen:i(5486),negate:i(5093),inverse:i(811),normalize:i(3536),dot:i(244),cross:i(5911),lerp:i(6658),random:i(7636),transformMat4:i(5673),transformMat3:i(492),transformQuat:i(264),rotateX:i(6894),rotateY:i(109),rotateZ:i(8692),forEach:i(5137)}},2933:function(a){a.exports=o;function o(i,l){return i[0]=l[0],i[1]=l[1],i[2]=l[2],i[3]=l[3],i}},2953:function(a){a.exports=o;function o(i,l){var u=l[0]-i[0],s=l[1]-i[1],f=l[2]-i[2];return u*u+s*s+f*f}},2962:function(a,o,i){"use strict";var l=i(5250),u=i(8210),s=i(3012),f=i(7004),h=6;function p(x,M,d,_){return function(c){return _(x(d(c[0][0],c[1][1]),d(-c[0][1],c[1][0])))}}function b(x,M,d,_){return function(c){return _(x(M(x(d(c[1][1],c[2][2]),d(-c[1][2],c[2][1])),c[0][0]),x(M(x(d(c[1][0],c[2][2]),d(-c[1][2],c[2][0])),-c[0][1]),M(x(d(c[1][0],c[2][1]),d(-c[1][1],c[2][0])),c[0][2]))))}}function y(x,M,d,_){return function(c){return _(x(x(M(x(M(x(d(c[2][2],c[3][3]),d(-c[2][3],c[3][2])),c[1][1]),x(M(x(d(c[2][1],c[3][3]),d(-c[2][3],c[3][1])),-c[1][2]),M(x(d(c[2][1],c[3][2]),d(-c[2][2],c[3][1])),c[1][3]))),c[0][0]),M(x(M(x(d(c[2][2],c[3][3]),d(-c[2][3],c[3][2])),c[1][0]),x(M(x(d(c[2][0],c[3][3]),d(-c[2][3],c[3][0])),-c[1][2]),M(x(d(c[2][0],c[3][2]),d(-c[2][2],c[3][0])),c[1][3]))),-c[0][1])),x(M(x(M(x(d(c[2][1],c[3][3]),d(-c[2][3],c[3][1])),c[1][0]),x(M(x(d(c[2][0],c[3][3]),d(-c[2][3],c[3][0])),-c[1][1]),M(x(d(c[2][0],c[3][1]),d(-c[2][1],c[3][0])),c[1][3]))),c[0][2]),M(x(M(x(d(c[2][1],c[3][2]),d(-c[2][2],c[3][1])),c[1][0]),x(M(x(d(c[2][0],c[3][2]),d(-c[2][2],c[3][0])),-c[1][1]),M(x(d(c[2][0],c[3][1]),d(-c[2][1],c[3][0])),c[1][2]))),-c[0][3]))))}}function w(x,M,d,_){return function(c){return _(x(x(M(x(x(M(x(M(x(d(c[3][3],c[4][4]),d(-c[3][4],c[4][3])),c[2][2]),x(M(x(d(c[3][2],c[4][4]),d(-c[3][4],c[4][2])),-c[2][3]),M(x(d(c[3][2],c[4][3]),d(-c[3][3],c[4][2])),c[2][4]))),c[1][1]),M(x(M(x(d(c[3][3],c[4][4]),d(-c[3][4],c[4][3])),c[2][1]),x(M(x(d(c[3][1],c[4][4]),d(-c[3][4],c[4][1])),-c[2][3]),M(x(d(c[3][1],c[4][3]),d(-c[3][3],c[4][1])),c[2][4]))),-c[1][2])),x(M(x(M(x(d(c[3][2],c[4][4]),d(-c[3][4],c[4][2])),c[2][1]),x(M(x(d(c[3][1],c[4][4]),d(-c[3][4],c[4][1])),-c[2][2]),M(x(d(c[3][1],c[4][2]),d(-c[3][2],c[4][1])),c[2][4]))),c[1][3]),M(x(M(x(d(c[3][2],c[4][3]),d(-c[3][3],c[4][2])),c[2][1]),x(M(x(d(c[3][1],c[4][3]),d(-c[3][3],c[4][1])),-c[2][2]),M(x(d(c[3][1],c[4][2]),d(-c[3][2],c[4][1])),c[2][3]))),-c[1][4]))),c[0][0]),M(x(x(M(x(M(x(d(c[3][3],c[4][4]),d(-c[3][4],c[4][3])),c[2][2]),x(M(x(d(c[3][2],c[4][4]),d(-c[3][4],c[4][2])),-c[2][3]),M(x(d(c[3][2],c[4][3]),d(-c[3][3],c[4][2])),c[2][4]))),c[1][0]),M(x(M(x(d(c[3][3],c[4][4]),d(-c[3][4],c[4][3])),c[2][0]),x(M(x(d(c[3][0],c[4][4]),d(-c[3][4],c[4][0])),-c[2][3]),M(x(d(c[3][0],c[4][3]),d(-c[3][3],c[4][0])),c[2][4]))),-c[1][2])),x(M(x(M(x(d(c[3][2],c[4][4]),d(-c[3][4],c[4][2])),c[2][0]),x(M(x(d(c[3][0],c[4][4]),d(-c[3][4],c[4][0])),-c[2][2]),M(x(d(c[3][0],c[4][2]),d(-c[3][2],c[4][0])),c[2][4]))),c[1][3]),M(x(M(x(d(c[3][2],c[4][3]),d(-c[3][3],c[4][2])),c[2][0]),x(M(x(d(c[3][0],c[4][3]),d(-c[3][3],c[4][0])),-c[2][2]),M(x(d(c[3][0],c[4][2]),d(-c[3][2],c[4][0])),c[2][3]))),-c[1][4]))),-c[0][1])),x(M(x(x(M(x(M(x(d(c[3][3],c[4][4]),d(-c[3][4],c[4][3])),c[2][1]),x(M(x(d(c[3][1],c[4][4]),d(-c[3][4],c[4][1])),-c[2][3]),M(x(d(c[3][1],c[4][3]),d(-c[3][3],c[4][1])),c[2][4]))),c[1][0]),M(x(M(x(d(c[3][3],c[4][4]),d(-c[3][4],c[4][3])),c[2][0]),x(M(x(d(c[3][0],c[4][4]),d(-c[3][4],c[4][0])),-c[2][3]),M(x(d(c[3][0],c[4][3]),d(-c[3][3],c[4][0])),c[2][4]))),-c[1][1])),x(M(x(M(x(d(c[3][1],c[4][4]),d(-c[3][4],c[4][1])),c[2][0]),x(M(x(d(c[3][0],c[4][4]),d(-c[3][4],c[4][0])),-c[2][1]),M(x(d(c[3][0],c[4][1]),d(-c[3][1],c[4][0])),c[2][4]))),c[1][3]),M(x(M(x(d(c[3][1],c[4][3]),d(-c[3][3],c[4][1])),c[2][0]),x(M(x(d(c[3][0],c[4][3]),d(-c[3][3],c[4][0])),-c[2][1]),M(x(d(c[3][0],c[4][1]),d(-c[3][1],c[4][0])),c[2][3]))),-c[1][4]))),c[0][2]),x(M(x(x(M(x(M(x(d(c[3][2],c[4][4]),d(-c[3][4],c[4][2])),c[2][1]),x(M(x(d(c[3][1],c[4][4]),d(-c[3][4],c[4][1])),-c[2][2]),M(x(d(c[3][1],c[4][2]),d(-c[3][2],c[4][1])),c[2][4]))),c[1][0]),M(x(M(x(d(c[3][2],c[4][4]),d(-c[3][4],c[4][2])),c[2][0]),x(M(x(d(c[3][0],c[4][4]),d(-c[3][4],c[4][0])),-c[2][2]),M(x(d(c[3][0],c[4][2]),d(-c[3][2],c[4][0])),c[2][4]))),-c[1][1])),x(M(x(M(x(d(c[3][1],c[4][4]),d(-c[3][4],c[4][1])),c[2][0]),x(M(x(d(c[3][0],c[4][4]),d(-c[3][4],c[4][0])),-c[2][1]),M(x(d(c[3][0],c[4][1]),d(-c[3][1],c[4][0])),c[2][4]))),c[1][2]),M(x(M(x(d(c[3][1],c[4][2]),d(-c[3][2],c[4][1])),c[2][0]),x(M(x(d(c[3][0],c[4][2]),d(-c[3][2],c[4][0])),-c[2][1]),M(x(d(c[3][0],c[4][1]),d(-c[3][1],c[4][0])),c[2][2]))),-c[1][4]))),-c[0][3]),M(x(x(M(x(M(x(d(c[3][2],c[4][3]),d(-c[3][3],c[4][2])),c[2][1]),x(M(x(d(c[3][1],c[4][3]),d(-c[3][3],c[4][1])),-c[2][2]),M(x(d(c[3][1],c[4][2]),d(-c[3][2],c[4][1])),c[2][3]))),c[1][0]),M(x(M(x(d(c[3][2],c[4][3]),d(-c[3][3],c[4][2])),c[2][0]),x(M(x(d(c[3][0],c[4][3]),d(-c[3][3],c[4][0])),-c[2][2]),M(x(d(c[3][0],c[4][2]),d(-c[3][2],c[4][0])),c[2][3]))),-c[1][1])),x(M(x(M(x(d(c[3][1],c[4][3]),d(-c[3][3],c[4][1])),c[2][0]),x(M(x(d(c[3][0],c[4][3]),d(-c[3][3],c[4][0])),-c[2][1]),M(x(d(c[3][0],c[4][1]),d(-c[3][1],c[4][0])),c[2][3]))),c[1][2]),M(x(M(x(d(c[3][1],c[4][2]),d(-c[3][2],c[4][1])),c[2][0]),x(M(x(d(c[3][0],c[4][2]),d(-c[3][2],c[4][0])),-c[2][1]),M(x(d(c[3][0],c[4][1]),d(-c[3][1],c[4][0])),c[2][2]))),-c[1][3]))),c[0][4])))))}}function T(x){var M=x===2?p:x===3?b:x===4?y:x===5?w:void 0;return M(u,s,l,f)}var m=[function(){return[0]},function(M){return[M[0][0]]}];function k(x,M,d,_,g,c,A,v){return function(E){switch(E.length){case 0:return x(E);case 1:return M(E);case 2:return d(E);case 3:return _(E);case 4:return g(E);case 5:return c(E)}var R=A[E.length];return R||(R=A[E.length]=v(E.length)),R(E)}}function S(){for(;m.length<h;)m.push(T(m.length));a.exports=k.apply(void 0,m.concat([m,T]));for(var x=0;x<m.length;++x)a.exports[x]=m[x]}S()},2992:function(a,o,i){var l=i(3387).sprintf,u=i(5171),s=i(1848),f=i(1085);a.exports=h;function h(p,b,y){"use strict";var w=s(b)||"of unknown name (see npm glsl-shader-name)",T="unknown type";y!==void 0&&(T=y===u.FRAGMENT_SHADER?"fragment":"vertex");for(var m=l(`Error compiling %s shader %s:
`,T,w),k=l("%s%s",m,p),S=p.split(`
`),x={},M=0;M<S.length;M++){var d=S[M];if(!(d===""||d==="\0")){var _=parseInt(d.split(":")[2]);if(isNaN(_))throw new Error(l("Could not parse error: %s",d));x[_]=d}}for(var g=f(b).split(`
`),M=0;M<g.length;M++)if(!(!x[M+3]&&!x[M+2]&&!x[M+1])){var c=g[M];if(m+=c+`
`,x[M+1]){var A=x[M+1];A=A.substr(A.split(":",3).join(":").length+1).trim(),m+=l(`^^^ %s

`,A)}}return{long:m.trim(),short:k.trim()}}},3012:function(a,o,i){"use strict";var l=i(5250),u=i(9362);a.exports=s;function s(f,h){var p=f.length;if(p===1){var b=l(f[0],h);return b[0]?b:[b[1]]}var y=new Array(2*p),w=[.1,.1],T=[.1,.1],m=0;l(f[0],h,w),w[0]&&(y[m++]=w[0]);for(var k=1;k<p;++k){l(f[k],h,T);var S=w[1];u(S,T[0],w),w[0]&&(y[m++]=w[0]);var x=T[1],M=w[1],d=x+M,_=d-x,g=M-_;w[1]=d,g&&(y[m++]=g)}return w[1]&&(y[m++]=w[1]),m===0&&(y[m++]=0),y.length=m,y}},3025:function(a,o,i){a.exports=i.g.performance&&i.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},3066:function(a){a.exports=o;function o(i){var l=i[0],u=i[1],s=i[2];return l*l+u*u+s*s}},3088:function(a,o,i){"use strict";a.exports=u;var l=i(3140);function u(s,f){for(var h=f.length|0,p=s.length,b=[new Array(h),new Array(h)],y=0;y<h;++y)b[0][y]=[],b[1][y]=[];for(var y=0;y<p;++y){var w=s[y];b[0][w[0]].push(w),b[1][w[1]].push(w)}for(var T=[],y=0;y<h;++y)b[0][y].length+b[1][y].length===0&&T.push([y]);function m(c,A){var v=b[A][c[A]];v.splice(v.indexOf(c),1)}function k(c,A,v){for(var D,E,R,N=0;N<2;++N)if(b[N][A].length>0){D=b[N][A][0],R=N;break}E=D[R^1];for(var F=0;F<2;++F)for(var I=b[F][A],L=0;L<I.length;++L){var P=I[L],O=P[F^1],U=l(f[c],f[A],f[E],f[O]);U>0&&(D=P,E=O,R=F)}return v||D&&m(D,R),E}function S(c,A){var v=b[A][c][0],D=[c];m(v,A);for(var E=v[A^1],R=A;;){for(;E!==c;)D.push(E),E=k(D[D.length-2],E,!1);if(b[0][c].length+b[1][c].length===0)break;var N=D[D.length-1],F=c,I=D[1],L=k(N,F,!0);if(l(f[N],f[F],f[I],f[L])<0)break;D.push(c),E=k(N,F)}return D}function x(c,A){return A[1]===A[A.length-1]}for(var y=0;y<h;++y)for(var M=0;M<2;++M){for(var d=[];b[M][y].length>0;){var _=b[0][y].length,g=S(y,M);x(d,g)?d.push.apply(d,g):(d.length>0&&T.push(d),d=g)}d.length>0&&T.push(d)}return T}},3090:function(a,o,i){"use strict";a.exports=u;var l=i(3250)[3];function u(s){var f=s.length;if(f<3){for(var k=new Array(f),h=0;h<f;++h)k[h]=h;return f===2&&s[0][0]===s[1][0]&&s[0][1]===s[1][1]?[0]:k}for(var p=new Array(f),h=0;h<f;++h)p[h]=h;p.sort(function(d,_){var g=s[d][0]-s[_][0];return g||s[d][1]-s[_][1]});for(var b=[p[0],p[1]],y=[p[0],p[1]],h=2;h<f;++h){for(var w=p[h],T=s[w],m=b.length;m>1&&l(s[b[m-2]],s[b[m-1]],T)<=0;)m-=1,b.pop();for(b.push(w),m=y.length;m>1&&l(s[y[m-2]],s[y[m-1]],T)>=0;)m-=1,y.pop();y.push(w)}for(var k=new Array(y.length+b.length-2),S=0,h=0,x=b.length;h<x;++h)k[S++]=b[h];for(var M=y.length-2;M>0;--M)k[S++]=y[M];return k}},3105:function(a,o){"use strict";"use restrict";var i=32;o.INT_BITS=i,o.INT_MAX=2147483647,o.INT_MIN=-1<<i-1,o.sign=function(s){return(s>0)-(s<0)},o.abs=function(s){var f=s>>i-1;return(s^f)-f},o.min=function(s,f){return f^(s^f)&-(s<f)},o.max=function(s,f){return s^(s^f)&-(s<f)},o.isPow2=function(s){return!(s&s-1)&&!!s},o.log2=function(s){var f,h;return f=(s>65535)<<4,s>>>=f,h=(s>255)<<3,s>>>=h,f|=h,h=(s>15)<<2,s>>>=h,f|=h,h=(s>3)<<1,s>>>=h,f|=h,f|s>>1},o.log10=function(s){return s>=1e9?9:s>=1e8?8:s>=1e7?7:s>=1e6?6:s>=1e5?5:s>=1e4?4:s>=1e3?3:s>=100?2:s>=10?1:0},o.popCount=function(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),(s+(s>>>4)&252645135)*16843009>>>24};function l(s){var f=32;return s&=-s,s&&f--,s&65535&&(f-=16),s&16711935&&(f-=8),s&252645135&&(f-=4),s&858993459&&(f-=2),s&1431655765&&(f-=1),f}o.countTrailingZeros=l,o.nextPow2=function(s){return s+=s===0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1},o.prevPow2=function(s){return s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s-(s>>>1)},o.parity=function(s){return s^=s>>>16,s^=s>>>8,s^=s>>>4,s&=15,27030>>>s&1};var u=new Array(256);(function(s){for(var f=0;f<256;++f){var h=f,p=f,b=7;for(h>>>=1;h;h>>>=1)p<<=1,p|=h&1,--b;s[f]=p<<b&255}})(u),o.reverse=function(s){return u[s&255]<<24|u[s>>>8&255]<<16|u[s>>>16&255]<<8|u[s>>>24&255]},o.interleave2=function(s,f){return s&=65535,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,s|f<<1},o.deinterleave2=function(s,f){return s=s>>>f&1431655765,s=(s|s>>>1)&858993459,s=(s|s>>>2)&252645135,s=(s|s>>>4)&16711935,s=(s|s>>>16)&65535,s<<16>>16},o.interleave3=function(s,f,h){return s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,s|=f<<1,h&=1023,h=(h|h<<16)&4278190335,h=(h|h<<8)&251719695,h=(h|h<<4)&3272356035,h=(h|h<<2)&1227133513,s|h<<2},o.deinterleave3=function(s,f){return s=s>>>f&1227133513,s=(s|s>>>2)&3272356035,s=(s|s>>>4)&251719695,s=(s|s>>>8)&4278190335,s=(s|s>>>16)&1023,s<<22>>22},o.nextCombination=function(s){var f=s|s-1;return f+1|(~f&-~f)-1>>>l(s)+1}},3126:function(a){a.exports=o;function o(i){var l=new Float32Array(3);return l[0]=i[0],l[1]=i[1],l[2]=i[2],l}},3134:function(a,o,i){"use strict";a.exports=u;var l=i(1682);function u(s,f){var h=s.length;if(typeof f!="number"){f=0;for(var p=0;p<h;++p){var b=s[p];f=Math.max(f,b[0],b[1])}f=(f|0)+1}f=f|0;for(var y=new Array(f),p=0;p<f;++p)y[p]=[];for(var p=0;p<h;++p){var b=s[p];y[b[0]].push(b[1]),y[b[1]].push(b[0])}for(var w=0;w<f;++w)l(y[w],function(T,m){return T-m});return y}},3140:function(a,o,i){"use strict";a.exports=b;var l=i(3250),u=i(8572),s=i(9362),f=i(5382),h=i(8210);function p(y,w,T){var m=s(y[0],-w[0]),k=s(y[1],-w[1]),S=s(T[0],-w[0]),x=s(T[1],-w[1]),M=h(f(m,S),f(k,x));return M[M.length-1]>=0}function b(y,w,T,m){var k=l(w,T,m);if(k===0){var S=u(l(y,w,T)),x=u(l(y,w,m));if(S===x){if(S===0){var M=p(y,w,T),d=p(y,w,m);return M===d?0:M?1:-1}return 0}else{if(x===0)return S>0||p(y,w,m)?-1:1;if(S===0)return x>0||p(y,w,T)?1:-1}return u(x-S)}var _=l(y,w,T);if(_>0)return k>0&&l(y,w,m)>0?1:-1;if(_<0)return k>0||l(y,w,m)>0?1:-1;var g=l(y,w,m);return g>0||p(y,w,T)?1:-1}},3202:function(a){a.exports=function(i,l){l||(l=[0,""]),i=String(i);var u=parseFloat(i,10);return l[0]=u,l[1]=i.match(/[\d.\-\+]*\s*(.*)/)[1]||"",l}},3233:function(a){"use strict";var o="",i;a.exports=l;function l(u,s){if(typeof u!="string")throw new TypeError("expected a string");if(s===1)return u;if(s===2)return u+u;var f=u.length*s;if(i!==u||typeof i=="undefined")i=u,o="";else if(o.length>=f)return o.substr(0,f);for(;f>o.length&&s>1;)s&1&&(o+=u),s>>=1,u+=u;return o+=u,o=o.substr(0,f),o}},3236:function(a){a.exports=function(o){typeof o=="string"&&(o=[o]);for(var i=[].slice.call(arguments,1),l=[],u=0;u<o.length-1;u++)l.push(o[u],i[u]||"");return l.push(o[u]),l.join("")}},3250:function(a,o,i){"use strict";var l=i(5250),u=i(8210),s=i(3012),f=i(8545),h=5,p=11102230246251565e-32,b=(3+16*p)*p,y=(7+56*p)*p;function w(c,A,v,D){return function(R,N,F){var I=c(c(A(N[1],F[0]),A(-F[1],N[0])),c(A(R[1],N[0]),A(-N[1],R[0]))),L=c(A(R[1],F[0]),A(-F[1],R[0])),P=D(I,L);return P[P.length-1]}}function T(c,A,v,D){return function(R,N,F,I){var L=c(c(v(c(A(F[1],I[0]),A(-I[1],F[0])),N[2]),c(v(c(A(N[1],I[0]),A(-I[1],N[0])),-F[2]),v(c(A(N[1],F[0]),A(-F[1],N[0])),I[2]))),c(v(c(A(N[1],I[0]),A(-I[1],N[0])),R[2]),c(v(c(A(R[1],I[0]),A(-I[1],R[0])),-N[2]),v(c(A(R[1],N[0]),A(-N[1],R[0])),I[2])))),P=c(c(v(c(A(F[1],I[0]),A(-I[1],F[0])),R[2]),c(v(c(A(R[1],I[0]),A(-I[1],R[0])),-F[2]),v(c(A(R[1],F[0]),A(-F[1],R[0])),I[2]))),c(v(c(A(N[1],F[0]),A(-F[1],N[0])),R[2]),c(v(c(A(R[1],F[0]),A(-F[1],R[0])),-N[2]),v(c(A(R[1],N[0]),A(-N[1],R[0])),F[2])))),O=D(L,P);return O[O.length-1]}}function m(c,A,v,D){return function(R,N,F,I,L){var P=c(c(c(v(c(v(c(A(I[1],L[0]),A(-L[1],I[0])),F[2]),c(v(c(A(F[1],L[0]),A(-L[1],F[0])),-I[2]),v(c(A(F[1],I[0]),A(-I[1],F[0])),L[2]))),N[3]),c(v(c(v(c(A(I[1],L[0]),A(-L[1],I[0])),N[2]),c(v(c(A(N[1],L[0]),A(-L[1],N[0])),-I[2]),v(c(A(N[1],I[0]),A(-I[1],N[0])),L[2]))),-F[3]),v(c(v(c(A(F[1],L[0]),A(-L[1],F[0])),N[2]),c(v(c(A(N[1],L[0]),A(-L[1],N[0])),-F[2]),v(c(A(N[1],F[0]),A(-F[1],N[0])),L[2]))),I[3]))),c(v(c(v(c(A(F[1],I[0]),A(-I[1],F[0])),N[2]),c(v(c(A(N[1],I[0]),A(-I[1],N[0])),-F[2]),v(c(A(N[1],F[0]),A(-F[1],N[0])),I[2]))),-L[3]),c(v(c(v(c(A(I[1],L[0]),A(-L[1],I[0])),N[2]),c(v(c(A(N[1],L[0]),A(-L[1],N[0])),-I[2]),v(c(A(N[1],I[0]),A(-I[1],N[0])),L[2]))),R[3]),v(c(v(c(A(I[1],L[0]),A(-L[1],I[0])),R[2]),c(v(c(A(R[1],L[0]),A(-L[1],R[0])),-I[2]),v(c(A(R[1],I[0]),A(-I[1],R[0])),L[2]))),-N[3])))),c(c(v(c(v(c(A(N[1],L[0]),A(-L[1],N[0])),R[2]),c(v(c(A(R[1],L[0]),A(-L[1],R[0])),-N[2]),v(c(A(R[1],N[0]),A(-N[1],R[0])),L[2]))),I[3]),c(v(c(v(c(A(N[1],I[0]),A(-I[1],N[0])),R[2]),c(v(c(A(R[1],I[0]),A(-I[1],R[0])),-N[2]),v(c(A(R[1],N[0]),A(-N[1],R[0])),I[2]))),-L[3]),v(c(v(c(A(F[1],I[0]),A(-I[1],F[0])),N[2]),c(v(c(A(N[1],I[0]),A(-I[1],N[0])),-F[2]),v(c(A(N[1],F[0]),A(-F[1],N[0])),I[2]))),R[3]))),c(v(c(v(c(A(F[1],I[0]),A(-I[1],F[0])),R[2]),c(v(c(A(R[1],I[0]),A(-I[1],R[0])),-F[2]),v(c(A(R[1],F[0]),A(-F[1],R[0])),I[2]))),-N[3]),c(v(c(v(c(A(N[1],I[0]),A(-I[1],N[0])),R[2]),c(v(c(A(R[1],I[0]),A(-I[1],R[0])),-N[2]),v(c(A(R[1],N[0]),A(-N[1],R[0])),I[2]))),F[3]),v(c(v(c(A(N[1],F[0]),A(-F[1],N[0])),R[2]),c(v(c(A(R[1],F[0]),A(-F[1],R[0])),-N[2]),v(c(A(R[1],N[0]),A(-N[1],R[0])),F[2]))),-I[3]))))),O=c(c(c(v(c(v(c(A(I[1],L[0]),A(-L[1],I[0])),F[2]),c(v(c(A(F[1],L[0]),A(-L[1],F[0])),-I[2]),v(c(A(F[1],I[0]),A(-I[1],F[0])),L[2]))),R[3]),v(c(v(c(A(I[1],L[0]),A(-L[1],I[0])),R[2]),c(v(c(A(R[1],L[0]),A(-L[1],R[0])),-I[2]),v(c(A(R[1],I[0]),A(-I[1],R[0])),L[2]))),-F[3])),c(v(c(v(c(A(F[1],L[0]),A(-L[1],F[0])),R[2]),c(v(c(A(R[1],L[0]),A(-L[1],R[0])),-F[2]),v(c(A(R[1],F[0]),A(-F[1],R[0])),L[2]))),I[3]),v(c(v(c(A(F[1],I[0]),A(-I[1],F[0])),R[2]),c(v(c(A(R[1],I[0]),A(-I[1],R[0])),-F[2]),v(c(A(R[1],F[0]),A(-F[1],R[0])),I[2]))),-L[3]))),c(c(v(c(v(c(A(F[1],L[0]),A(-L[1],F[0])),N[2]),c(v(c(A(N[1],L[0]),A(-L[1],N[0])),-F[2]),v(c(A(N[1],F[0]),A(-F[1],N[0])),L[2]))),R[3]),v(c(v(c(A(F[1],L[0]),A(-L[1],F[0])),R[2]),c(v(c(A(R[1],L[0]),A(-L[1],R[0])),-F[2]),v(c(A(R[1],F[0]),A(-F[1],R[0])),L[2]))),-N[3])),c(v(c(v(c(A(N[1],L[0]),A(-L[1],N[0])),R[2]),c(v(c(A(R[1],L[0]),A(-L[1],R[0])),-N[2]),v(c(A(R[1],N[0]),A(-N[1],R[0])),L[2]))),F[3]),v(c(v(c(A(N[1],F[0]),A(-F[1],N[0])),R[2]),c(v(c(A(R[1],F[0]),A(-F[1],R[0])),-N[2]),v(c(A(R[1],N[0]),A(-N[1],R[0])),F[2]))),-L[3])))),U=D(P,O);return U[U.length-1]}}function k(c){var A=c===3?w:c===4?T:m;return A(u,l,s,f)}var S=k(3),x=k(4),M=[function(){return 0},function(){return 0},function(A,v){return v[0]-A[0]},function(A,v,D){var E=(A[1]-D[1])*(v[0]-D[0]),R=(A[0]-D[0])*(v[1]-D[1]),N=E-R,F;if(E>0){if(R<=0)return N;F=E+R}else if(E<0){if(R>=0)return N;F=-(E+R)}else return N;var I=b*F;return N>=I||N<=-I?N:S(A,v,D)},function(A,v,D,E){var R=A[0]-E[0],N=v[0]-E[0],F=D[0]-E[0],I=A[1]-E[1],L=v[1]-E[1],P=D[1]-E[1],O=A[2]-E[2],U=v[2]-E[2],X=D[2]-E[2],$=N*P,j=F*L,Y=F*I,q=R*P,Q=R*L,ae=N*I,K=O*($-j)+U*(Y-q)+X*(Q-ae),oe=(Math.abs($)+Math.abs(j))*Math.abs(O)+(Math.abs(Y)+Math.abs(q))*Math.abs(U)+(Math.abs(Q)+Math.abs(ae))*Math.abs(X),re=y*oe;return K>re||-K>re?K:x(A,v,D,E)}];function d(c){var A=M[c.length];return A||(A=M[c.length]=k(c.length)),A.apply(void 0,c)}function _(c,A,v,D,E,R,N){return function(I,L,P,O,U){switch(arguments.length){case 0:case 1:return 0;case 2:return D(I,L);case 3:return E(I,L,P);case 4:return R(I,L,P,O);case 5:return N(I,L,P,O,U)}for(var X=new Array(arguments.length),$=0;$<arguments.length;++$)X[$]=arguments[$];return c(X)}}function g(){for(;M.length<=h;)M.push(k(M.length));a.exports=_.apply(void 0,[d].concat(M));for(var c=0;c<=h;++c)a.exports[c]=M[c]}g()},3327:function(a,o,i){"use strict";var l=i(216),u=i(8866);a.exports=h;function s(p){return function(){return p}}function f(p,b){for(var y=new Array(p),w=0;w<p;++w)y[w]=b;return y}function h(p,b,y,w){function T(_){return function(g,c,A){return g.getUniform(c.program,A[_])}}function m(_){return function(c){for(var A=k("",_),v=0;v<A.length;++v){var D=A[v],E=D[0],R=D[1];if(w[R]){var N=c;if(typeof E=="string"&&(E.indexOf(".")===0||E.indexOf("[")===0)){var F=E;if(E.indexOf(".")===0&&(F=E.slice(1)),F.indexOf("]")===F.length-1){var I=F.indexOf("["),L=F.slice(0,I),P=F.slice(I+1,F.length-1);N=L?c[L][P]:c[P]}else N=c[F]}var O=y[R].type,U;switch(O){case"bool":case"int":case"sampler2D":case"samplerCube":p.uniform1i(w[R],N);break;case"float":p.uniform1f(w[R],N);break;default:var X=O.indexOf("vec");if(0<=X&&X<=1&&O.length===4+X){if(U=O.charCodeAt(O.length-1)-48,U<2||U>4)throw new u("","Invalid data type");switch(O.charAt(0)){case"b":case"i":p["uniform"+U+"iv"](w[R],N);break;case"v":p["uniform"+U+"fv"](w[R],N);break;default:throw new u("","Unrecognized data type for vector "+name+": "+O)}}else if(O.indexOf("mat")===0&&O.length===4){if(U=O.charCodeAt(O.length-1)-48,U<2||U>4)throw new u("","Invalid uniform dimension type for matrix "+name+": "+O);p["uniformMatrix"+U+"fv"](w[R],!1,N);break}else throw new u("","Unknown uniform data type for "+name+": "+O)}}}}}function k(_,g){if(typeof g!="object")return[[_,g]];var c=[];for(var A in g){var v=g[A],D=_;parseInt(A)+""===A?D+="["+A+"]":D+="."+A,typeof v=="object"?c.push.apply(c,k(D,v)):c.push([D,v])}return c}function S(_){switch(_){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var g=_.indexOf("vec");if(0<=g&&g<=1&&_.length===4+g){var c=_.charCodeAt(_.length-1)-48;if(c<2||c>4)throw new u("","Invalid data type");return _.charAt(0)==="b"?f(c,!1):f(c,0)}else if(_.indexOf("mat")===0&&_.length===4){var c=_.charCodeAt(_.length-1)-48;if(c<2||c>4)throw new u("","Invalid uniform dimension type for matrix "+name+": "+_);return f(c*c,0)}else throw new u("","Unknown uniform data type for "+name+": "+_)}}function x(_,g,c){if(typeof c=="object"){var A=M(c);Object.defineProperty(_,g,{get:s(A),set:m(c),enumerable:!0,configurable:!1})}else w[c]?Object.defineProperty(_,g,{get:T(c),set:m(c),enumerable:!0,configurable:!1}):_[g]=S(y[c].type)}function M(_){var g;if(Array.isArray(_)){g=new Array(_.length);for(var c=0;c<_.length;++c)x(g,c,_[c])}else{g={};for(var A in _)x(g,A,_[A])}return g}var d=l(y,!0);return{get:s(M(d)),set:m(d),enumerable:!0,configurable:!0}}},3349:function(a){"use strict";function o(){return function(h,p,b,y,w,T){var m=h[0],k=b[0],S=[0],x=k;y|=0;var M=0,d=k;for(M=0;M<m;++M){{var _=p[y]-T,g=p[y+x]-T;_>=0!=g>=0&&w.push(S[0]+.5+.5*(_+g)/(_-g))}y+=d,++S[0]}}}function i(){return o()}var l=i;function u(h){var p={};return function(y,w,T){var m=y.dtype,k=y.order,S=[m,k.join()].join(),x=p[S];return x||(p[S]=x=h([m,k])),x(y.shape.slice(0),y.data,y.stride,y.offset|0,w,T)}}function s(h){return u(l.bind(void 0,h))}function f(h){return s({funcName:h.funcName})}a.exports=f({funcName:"zeroCrossings"})},3352:function(a,o,i){"use strict";var l=i(2478),u=0,s=1,f=2;a.exports=A;function h(v,D,E,R,N){this.mid=v,this.left=D,this.right=E,this.leftPoints=R,this.rightPoints=N,this.count=(D?D.count:0)+(E?E.count:0)+R.length}var p=h.prototype;function b(v,D){v.mid=D.mid,v.left=D.left,v.right=D.right,v.leftPoints=D.leftPoints,v.rightPoints=D.rightPoints,v.count=D.count}function y(v,D){var E=_(D);v.mid=E.mid,v.left=E.left,v.right=E.right,v.leftPoints=E.leftPoints,v.rightPoints=E.rightPoints,v.count=E.count}function w(v,D){var E=v.intervals([]);E.push(D),y(v,E)}function T(v,D){var E=v.intervals([]),R=E.indexOf(D);return R<0?u:(E.splice(R,1),y(v,E),s)}p.intervals=function(v){return v.push.apply(v,this.leftPoints),this.left&&this.left.intervals(v),this.right&&this.right.intervals(v),v},p.insert=function(v){var D=this.count-this.leftPoints.length;if(this.count+=1,v[1]<this.mid)this.left?4*(this.left.count+1)>3*(D+1)?w(this,v):this.left.insert(v):this.left=_([v]);else if(v[0]>this.mid)this.right?4*(this.right.count+1)>3*(D+1)?w(this,v):this.right.insert(v):this.right=_([v]);else{var E=l.ge(this.leftPoints,v,M),R=l.ge(this.rightPoints,v,d);this.leftPoints.splice(E,0,v),this.rightPoints.splice(R,0,v)}},p.remove=function(v){var D=this.count-this.leftPoints;if(v[1]<this.mid){if(!this.left)return u;var E=this.right?this.right.count:0;if(4*E>3*(D-1))return T(this,v);var R=this.left.remove(v);return R===f?(this.left=null,this.count-=1,s):(R===s&&(this.count-=1),R)}else if(v[0]>this.mid){if(!this.right)return u;var N=this.left?this.left.count:0;if(4*N>3*(D-1))return T(this,v);var R=this.right.remove(v);return R===f?(this.right=null,this.count-=1,s):(R===s&&(this.count-=1),R)}else{if(this.count===1)return this.leftPoints[0]===v?f:u;if(this.leftPoints.length===1&&this.leftPoints[0]===v){if(this.left&&this.right){for(var F=this,I=this.left;I.right;)F=I,I=I.right;if(F===this)I.right=this.right;else{var L=this.left,R=this.right;F.count-=I.count,F.right=I.left,I.left=L,I.right=R}b(this,I),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?b(this,this.left):b(this,this.right);return s}for(var L=l.ge(this.leftPoints,v,M);L<this.leftPoints.length&&this.leftPoints[L][0]===v[0];++L)if(this.leftPoints[L]===v){this.count-=1,this.leftPoints.splice(L,1);for(var R=l.ge(this.rightPoints,v,d);R<this.rightPoints.length&&this.rightPoints[R][1]===v[1];++R)if(this.rightPoints[R]===v)return this.rightPoints.splice(R,1),s}return u}};function m(v,D,E){for(var R=0;R<v.length&&v[R][0]<=D;++R){var N=E(v[R]);if(N)return N}}function k(v,D,E){for(var R=v.length-1;R>=0&&v[R][1]>=D;--R){var N=E(v[R]);if(N)return N}}function S(v,D){for(var E=0;E<v.length;++E){var R=D(v[E]);if(R)return R}}p.queryPoint=function(v,D){if(v<this.mid){if(this.left){var E=this.left.queryPoint(v,D);if(E)return E}return m(this.leftPoints,v,D)}else if(v>this.mid){if(this.right){var E=this.right.queryPoint(v,D);if(E)return E}return k(this.rightPoints,v,D)}else return S(this.leftPoints,D)},p.queryInterval=function(v,D,E){if(v<this.mid&&this.left){var R=this.left.queryInterval(v,D,E);if(R)return R}if(D>this.mid&&this.right){var R=this.right.queryInterval(v,D,E);if(R)return R}return D<this.mid?m(this.leftPoints,D,E):v>this.mid?k(this.rightPoints,v,E):S(this.leftPoints,E)};function x(v,D){return v-D}function M(v,D){var E=v[0]-D[0];return E||v[1]-D[1]}function d(v,D){var E=v[1]-D[1];return E||v[0]-D[0]}function _(v){if(v.length===0)return null;for(var D=[],E=0;E<v.length;++E)D.push(v[E][0],v[E][1]);D.sort(x);for(var R=D[D.length>>1],N=[],F=[],I=[],E=0;E<v.length;++E){var L=v[E];L[1]<R?N.push(L):R<L[0]?F.push(L):I.push(L)}var P=I,O=I.slice();return P.sort(M),O.sort(d),new h(R,_(N),_(F),P,O)}function g(v){this.root=v}var c=g.prototype;c.insert=function(v){this.root?this.root.insert(v):this.root=new h(v[0],null,null,[v],[v])},c.remove=function(v){if(this.root){var D=this.root.remove(v);return D===f&&(this.root=null),D!==u}return!1},c.queryPoint=function(v,D){if(this.root)return this.root.queryPoint(v,D)},c.queryInterval=function(v,D,E){if(v<=D&&this.root)return this.root.queryInterval(v,D,E)},Object.defineProperty(c,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(c,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function A(v){return!v||v.length===0?new g(null):new g(_(v))}},3387:function(a,o,i){var l;(function(){"use strict";var u={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function s(y){return h(b(y),arguments)}function f(y,w){return s.apply(null,[y].concat(w||[]))}function h(y,w){var T=1,m=y.length,k,S="",x,M,d,_,g,c,A,v;for(x=0;x<m;x++)if(typeof y[x]=="string")S+=y[x];else if(typeof y[x]=="object"){if(d=y[x],d.keys)for(k=w[T],M=0;M<d.keys.length;M++){if(k==null)throw new Error(s('[sprintf] Cannot access property "%s" of undefined value "%s"',d.keys[M],d.keys[M-1]));k=k[d.keys[M]]}else d.param_no?k=w[d.param_no]:k=w[T++];if(u.not_type.test(d.type)&&u.not_primitive.test(d.type)&&k instanceof Function&&(k=k()),u.numeric_arg.test(d.type)&&typeof k!="number"&&isNaN(k))throw new TypeError(s("[sprintf] expecting number but found %T",k));switch(u.number.test(d.type)&&(A=k>=0),d.type){case"b":k=parseInt(k,10).toString(2);break;case"c":k=String.fromCharCode(parseInt(k,10));break;case"d":case"i":k=parseInt(k,10);break;case"j":k=JSON.stringify(k,null,d.width?parseInt(d.width):0);break;case"e":k=d.precision?parseFloat(k).toExponential(d.precision):parseFloat(k).toExponential();break;case"f":k=d.precision?parseFloat(k).toFixed(d.precision):parseFloat(k);break;case"g":k=d.precision?String(Number(k.toPrecision(d.precision))):parseFloat(k);break;case"o":k=(parseInt(k,10)>>>0).toString(8);break;case"s":k=String(k),k=d.precision?k.substring(0,d.precision):k;break;case"t":k=String(!!k),k=d.precision?k.substring(0,d.precision):k;break;case"T":k=Object.prototype.toString.call(k).slice(8,-1).toLowerCase(),k=d.precision?k.substring(0,d.precision):k;break;case"u":k=parseInt(k,10)>>>0;break;case"v":k=k.valueOf(),k=d.precision?k.substring(0,d.precision):k;break;case"x":k=(parseInt(k,10)>>>0).toString(16);break;case"X":k=(parseInt(k,10)>>>0).toString(16).toUpperCase();break}u.json.test(d.type)?S+=k:(u.number.test(d.type)&&(!A||d.sign)?(v=A?"+":"-",k=k.toString().replace(u.sign,"")):v="",g=d.pad_char?d.pad_char==="0"?"0":d.pad_char.charAt(1):" ",c=d.width-(v+k).length,_=d.width&&c>0?g.repeat(c):"",S+=d.align?v+k+_:g==="0"?v+_+k:_+v+k)}return S}var p=Object.create(null);function b(y){if(p[y])return p[y];for(var w=y,T,m=[],k=0;w;){if((T=u.text.exec(w))!==null)m.push(T[0]);else if((T=u.modulo.exec(w))!==null)m.push("%");else if((T=u.placeholder.exec(w))!==null){if(T[2]){k|=1;var S=[],x=T[2],M=[];if((M=u.key.exec(x))!==null)for(S.push(M[1]);(x=x.substring(M[0].length))!=="";)if((M=u.key_access.exec(x))!==null)S.push(M[1]);else if((M=u.index_access.exec(x))!==null)S.push(M[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");T[2]=S}else k|=2;if(k===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");m.push({placeholder:T[0],param_no:T[1],keys:T[2],sign:T[3],pad_char:T[4],align:T[5],width:T[6],precision:T[7],type:T[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");w=w.substring(T[0].length)}return p[y]=m}o.sprintf=s,o.vsprintf=f,typeof window!="undefined"&&(window.sprintf=s,window.vsprintf=f,l=function(){return{sprintf:s,vsprintf:f}}.call(o,i,o,a),l!==void 0&&(a.exports=l))})()},3390:function(a){a.exports=o;function o(i,l,u,s){var f=new Float32Array(4);return f[0]=i,f[1]=l,f[2]=u,f[3]=s,f}},3436:function(a,o,i){"use strict";var l=i(3236),u=i(9405),s=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * (view * worldPosition);
  fragColor           = color;
  fragPosition        = position;
}`]),f=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);a.exports=function(h){return u(h,s,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},3502:function(a,o,i){a.exports=s;var l=i(5995),u=i(9127);function s(f,h){return u(l(f,h))}},3508:function(a,o,i){var l=i(6852);l=l.slice().filter(function(u){return!/^(gl\_|texture)/.test(u)}),a.exports=l.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},3536:function(a){a.exports=o;function o(i,l){var u=l[0],s=l[1],f=l[2],h=u*u+s*s+f*f;return h>0&&(h=1/Math.sqrt(h),i[0]=l[0]*h,i[1]=l[1]*h,i[2]=l[2]*h),i}},3545:function(a,o,i){"use strict";a.exports=h;var l=i(8105),u=l("lo<p0"),s=8;function f(p,b,y,w,T,m){for(var k=2*p,S=k*(y+1)+b,x=y+1;x<w;++x,S+=k)for(var M=T[S],d=x,_=k*(x-1);d>y&&T[_+b]>M;--d,_-=k){for(var g=_,c=_+k,A=0;A<k;++A,++g,++c){var v=T[g];T[g]=T[c],T[c]=v}var D=m[d];m[d]=m[d-1],m[d-1]=D}}function h(p,b,y,w,T,m){if(w<=y+1)return y;for(var k=y,S=w,x=w+y>>>1,M=2*p,d=x,_=T[M*x+b];k<S;){if(S-k<s){f(p,b,k,S,T,m),_=T[M*x+b];break}var g=S-k,c=Math.random()*g+k|0,A=T[M*c+b],v=Math.random()*g+k|0,D=T[M*v+b],E=Math.random()*g+k|0,R=T[M*E+b];A<=D?R>=D?(d=v,_=D):A>=R?(d=c,_=A):(d=E,_=R):D>=R?(d=v,_=D):R>=A?(d=c,_=A):(d=E,_=R);for(var I=M*(S-1),L=M*d,N=0;N<M;++N,++I,++L){var F=T[I];T[I]=T[L],T[L]=F}var P=m[S-1];m[S-1]=m[d],m[d]=P,d=u(p,b,k,S-1,T,m,_);for(var I=M*(S-1),L=M*d,N=0;N<M;++N,++I,++L){var F=T[I];T[I]=T[L],T[L]=F}var P=m[S-1];if(m[S-1]=m[d],m[d]=P,x<d){for(S=d-1;k<S&&T[M*(S-1)+b]===_;)S-=1;S+=1}else if(d<x)for(k=d+1;k<S&&T[M*k+b]===_;)k+=1;else break}return u(p,b,y,x,T,m,T[M*x+b])}},3576:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]*u[0],i[1]=l[1]*u[1],i[2]=l[2]*u[2],i[3]=l[3]*u[3],i}},3589:function(a,o,i){"use strict";a.exports=w;var l=i(2260),u=i(1888),s=i(9618),f=i(8828).nextPow2,h=function(T,m,k){for(var S=1e8,x=-1,M=-1,d=T.shape[0],_=T.shape[1],g=0;g<d;g++)for(var c=0;c<_;c++){var A=T.get(g,c,0),v=T.get(g,c,1),D=T.get(g,c,2),E=T.get(g,c,3);if(A<255||v<255||D<255||E<255){var R=m-g,N=k-c,F=R*R+N*N;F<S&&(S=F,x=g,M=c)}}return[x,M,S]};function p(T,m,k,S,x){this.coord=[T,m],this.id=k,this.value=S,this.distance=x}function b(T,m,k){this.gl=T,this.fbo=m,this.buffer=k,this._readTimeout=null;var S=this;this._readCallback=function(){S.gl&&(m.bind(),T.readPixels(0,0,m.shape[0],m.shape[1],T.RGBA,T.UNSIGNED_BYTE,S.buffer),S._readTimeout=null)}}var y=b.prototype;Object.defineProperty(y,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(T){if(this.gl){this.fbo.shape=T;var m=this.fbo.shape[0],k=this.fbo.shape[1];if(k*m*4>this.buffer.length){u.free(this.buffer);for(var S=this.buffer=u.mallocUint8(f(k*m*4)),x=0;x<k*m*4;++x)S[x]=255}return T}}}),y.begin=function(){var T=this.gl,m=this.shape;T&&(this.fbo.bind(),T.clearColor(1,1,1,1),T.clear(T.COLOR_BUFFER_BIT|T.DEPTH_BUFFER_BIT))},y.end=function(){var T=this.gl;T&&(T.bindFramebuffer(T.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},y.query=function(T,m,k){if(!this.gl)return null;var S=this.fbo.shape.slice();T=T|0,m=m|0,typeof k!="number"&&(k=1);var x=Math.min(Math.max(T-k,0),S[0])|0,M=Math.min(Math.max(T+k,0),S[0])|0,d=Math.min(Math.max(m-k,0),S[1])|0,_=Math.min(Math.max(m+k,0),S[1])|0;if(M<=x||_<=d)return null;var g=[M-x,_-d],c=s(this.buffer,[g[0],g[1],4],[4,S[0]*4,1],4*(x+S[0]*d)),A=h(c.hi(g[0],g[1],1),k,k),v=A[0],D=A[1];if(v<0||Math.pow(this.radius,2)<A[2])return null;var E=c.get(v,D,0),R=c.get(v,D,1),N=c.get(v,D,2),F=c.get(v,D,3);return new p(v+x|0,D+d|0,E,[R,N,F],Math.sqrt(A[2]))},y.dispose=function(){this.gl&&(this.fbo.dispose(),u.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function w(T,m){var k=m[0],S=m[1],x={},M=l(T,k,S,x),d=u.mallocUint8(k*S*4);return new b(T,M,d)}},3628:function(a,o,i){"use strict";var l=i(1338),u=i(727);function s(p,b){for(var y=0,w=p.length,T=0;T<w;++T)y+=p[T]*b[T];return y}function f(p){var b=p.length;if(b===0)return[];var y=p[0].length,w=l([p.length+1,p.length+1],1),T=l([p.length+1],1);w[b][b]=0;for(var m=0;m<b;++m){for(var k=0;k<=m;++k)w[k][m]=w[m][k]=2*s(p[m],p[k]);T[m]=s(p[m],p[m])}for(var S=u(w,T),x=0,M=S[b+1],m=0;m<M.length;++m)x+=M[m];for(var d=new Array(b),m=0;m<b;++m){for(var M=S[m],_=0,k=0;k<M.length;++k)_+=M[k];d[m]=_/x}return d}function h(p){if(p.length===0)return[];for(var b=p[0].length,y=l([b]),w=f(p),T=0;T<p.length;++T)for(var m=0;m<b;++m)y[m]+=p[T][m]*w[T];return y}h.barycenetric=f,a.exports=h},3637:function(a,o,i){"use strict";a.exports=w;var l=i(6504),u=i(8697),s=i(5572),f=i(7721),h=i(544),p=i(2653),b=i(8987);function y(T,m){return s(l(T[0],m[1]),l(T[1],m[0]))}function w(T,m,k,S){var x=h(m,T),M=h(S,k),d=y(x,M);if(f(d)===0)return null;var _=h(T,k),g=y(M,_),c=u(g,d),A=b(x,c),v=p(T,A);return v}},3642:function(a){a.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},3711:function(a,o,i){"use strict";a.exports=b;var l=i(2640),u=i(781),s={"2d":function(y,w,T){var m=y({order:w,scalarArguments:3,getters:T==="generic"?[0]:void 0,phase:function(S,x,M,d){return S>d|0},vertex:function(S,x,M,d,_,g,c,A,v,D,E,R,N){var F=(c<<0)+(A<<1)+(v<<2)+(D<<3)|0;if(!(F===0||F===15))switch(F){case 0:E.push([S-.5,x-.5]);break;case 1:E.push([S-.25-.25*(d+M-2*N)/(M-d),x-.25-.25*(_+M-2*N)/(M-_)]);break;case 2:E.push([S-.75-.25*(-d-M+2*N)/(d-M),x-.25-.25*(g+d-2*N)/(d-g)]);break;case 3:E.push([S-.5,x-.5-.5*(_+M+g+d-4*N)/(M-_+d-g)]);break;case 4:E.push([S-.25-.25*(g+_-2*N)/(_-g),x-.75-.25*(-_-M+2*N)/(_-M)]);break;case 5:E.push([S-.5-.5*(d+M+g+_-4*N)/(M-d+_-g),x-.5]);break;case 6:E.push([S-.5-.25*(-d-M+g+_)/(d-M+_-g),x-.5-.25*(-_-M+g+d)/(_-M+d-g)]);break;case 7:E.push([S-.75-.25*(g+_-2*N)/(_-g),x-.75-.25*(g+d-2*N)/(d-g)]);break;case 8:E.push([S-.75-.25*(-g-_+2*N)/(g-_),x-.75-.25*(-g-d+2*N)/(g-d)]);break;case 9:E.push([S-.5-.25*(d+M+-g-_)/(M-d+g-_),x-.5-.25*(_+M+-g-d)/(M-_+g-d)]);break;case 10:E.push([S-.5-.5*(-d-M+-g-_+4*N)/(d-M+g-_),x-.5]);break;case 11:E.push([S-.25-.25*(-g-_+2*N)/(g-_),x-.75-.25*(_+M-2*N)/(M-_)]);break;case 12:E.push([S-.5,x-.5-.5*(-_-M+-g-d+4*N)/(_-M+g-d)]);break;case 13:E.push([S-.75-.25*(d+M-2*N)/(M-d),x-.25-.25*(-g-d+2*N)/(g-d)]);break;case 14:E.push([S-.25-.25*(-d-M+2*N)/(d-M),x-.25-.25*(-_-M+2*N)/(_-M)]);break;case 15:E.push([S-.5,x-.5]);break}},cell:function(S,x,M,d,_,g,c,A,v){_?A.push([S,x]):A.push([x,S])}});return function(k,S){var x=[],M=[];return m(k,x,M,S),{positions:x,cells:M}}}};function f(y,w){var T=y.length+"d",m=s[T];if(m)return m(l,y,w)}function h(y,w){for(var T=u(y,w),m=T.length,k=new Array(m),S=new Array(m),x=0;x<m;++x)k[x]=[T[x]],S[x]=[x];return{positions:k,cells:S}}var p={};function b(y,k){if(y.dimension<=0)return{positions:[],cells:[]};if(y.dimension===1)return h(y,k);var T=y.order.join()+"-"+y.dtype,m=p[T],k=+k||0;return m||(m=p[T]=f(y.order,y.dtype)),m(y,k)}},3750:function(a){a.exports=o;function o(i,l){return i[0]*l[0]+i[1]*l[1]+i[2]*l[2]+i[3]*l[3]}},3778:function(a,o){o.read=function(i,l,u,s,f){var h,p,b=f*8-s-1,y=(1<<b)-1,w=y>>1,T=-7,m=u?f-1:0,k=u?-1:1,S=i[l+m];for(m+=k,h=S&(1<<-T)-1,S>>=-T,T+=b;T>0;h=h*256+i[l+m],m+=k,T-=8);for(p=h&(1<<-T)-1,h>>=-T,T+=s;T>0;p=p*256+i[l+m],m+=k,T-=8);if(h===0)h=1-w;else{if(h===y)return p?NaN:(S?-1:1)*(1/0);p=p+Math.pow(2,s),h=h-w}return(S?-1:1)*p*Math.pow(2,h-s)},o.write=function(i,l,u,s,f,h){var p,b,y,w=h*8-f-1,T=(1<<w)-1,m=T>>1,k=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=s?0:h-1,x=s?1:-1,M=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(b=isNaN(l)?1:0,p=T):(p=Math.floor(Math.log(l)/Math.LN2),l*(y=Math.pow(2,-p))<1&&(p--,y*=2),p+m>=1?l+=k/y:l+=k*Math.pow(2,1-m),l*y>=2&&(p++,y/=2),p+m>=T?(b=0,p=T):p+m>=1?(b=(l*y-1)*Math.pow(2,f),p=p+m):(b=l*Math.pow(2,m-1)*Math.pow(2,f),p=0));f>=8;i[u+S]=b&255,S+=x,b/=256,f-=8);for(p=p<<f|b,w+=f;w>0;i[u+S]=p&255,S+=x,p/=256,w-=8);i[u+S-x]|=M*128}},3788:function(a,o,i){"use strict";var l=i(8507),u=i(2419);a.exports=s;function s(f,h){return l(f,h)||u(f)-u(h)}},3837:function(a,o,i){"use strict";a.exports=E;var l=i(4935),u=i(501),s=i(5304),f=i(6429),h=i(6444),p=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),b=ArrayBuffer,y=DataView;function w(R){return b.isView(R)&&!(R instanceof y)}function T(R){return Array.isArray(R)||w(R)}function m(R,N){return R[0]=N[0],R[1]=N[1],R[2]=N[2],R}function k(R){this.gl=R,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=s(R)}var S=k.prototype;S.update=function(R){R=R||{};function N(K,oe,re){if(re in R){var V=R[re],ee=this[re],H;(K?T(V)&&T(V[0]):T(V))?this[re]=H=[oe(V[0]),oe(V[1]),oe(V[2])]:this[re]=H=[oe(V),oe(V),oe(V)];for(var te=0;te<3;++te)if(H[te]!==ee[te])return!0}return!1}var F=N.bind(this,!1,Number),I=N.bind(this,!1,Boolean),L=N.bind(this,!1,String),P=N.bind(this,!0,function(K){if(T(K)){if(K.length===3)return[+K[0],+K[1],+K[2],1];if(K.length===4)return[+K[0],+K[1],+K[2],+K[3]]}return[0,0,0,1]}),O,U=!1,X=!1;if("bounds"in R)for(var $=R.bounds,j=0;j<2;++j)for(var Y=0;Y<3;++Y)$[j][Y]!==this.bounds[j][Y]&&(X=!0),this.bounds[j][Y]=$[j][Y];if("ticks"in R){O=R.ticks,U=!0,this.autoTicks=!1;for(var j=0;j<3;++j)this.tickSpacing[j]=0}else F("tickSpacing")&&(this.autoTicks=!0,X=!0);if(this._firstInit&&("ticks"in R||"tickSpacing"in R||(this.autoTicks=!0),X=!0,U=!0,this._firstInit=!1),X&&this.autoTicks&&(O=h.create(this.bounds,this.tickSpacing),U=!0),U){for(var j=0;j<3;++j)O[j].sort(function(oe,re){return oe.x-re.x});h.equal(O,this.ticks)?U=!1:this.ticks=O}I("tickEnable"),L("tickFont")&&(U=!0),L("tickFontStyle")&&(U=!0),L("tickFontWeight")&&(U=!0),L("tickFontVariant")&&(U=!0),F("tickSize"),F("tickAngle"),F("tickPad"),P("tickColor");var q=L("labels");L("labelFont")&&(q=!0),L("labelFontStyle")&&(q=!0),L("labelFontWeight")&&(q=!0),L("labelFontVariant")&&(q=!0),I("labelEnable"),F("labelSize"),F("labelPad"),P("labelColor"),I("lineEnable"),I("lineMirror"),F("lineWidth"),P("lineColor"),I("lineTickEnable"),I("lineTickMirror"),F("lineTickLength"),F("lineTickWidth"),P("lineTickColor"),I("gridEnable"),F("gridWidth"),P("gridColor"),I("zeroEnable"),P("zeroLineColor"),F("zeroLineWidth"),I("backgroundEnable"),P("backgroundColor");var Q=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],ae=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(q||U)&&this._text.update(this.bounds,this.labels,Q,this.ticks,ae):this._text=l(this.gl,this.bounds,this.labels,Q,this.ticks,ae),this._lines&&U&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=u(this.gl,this.bounds,this.ticks))};function x(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var M=[new x,new x,new x];function d(R,N,F,I,L){for(var P=R.primalOffset,O=R.primalMinor,U=R.mirrorOffset,X=R.mirrorMinor,$=I[N],j=0;j<3;++j)if(N!==j){var Y=P,q=U,Q=O,ae=X;$&1<<j&&(Y=U,q=P,Q=X,ae=O),Y[j]=F[0][j],q[j]=F[1][j],L[j]>0?(Q[j]=-1,ae[j]=0):(Q[j]=0,ae[j]=1)}}var _=[0,0,0],g={model:p,view:p,projection:p,_ortho:!1};S.isOpaque=function(){return!0},S.isTransparent=function(){return!1},S.drawTransparent=function(R){};var c=0,A=[0,0,0],v=[0,0,0],D=[0,0,0];S.draw=function(R){R=R||g;for(var re=this.gl,N=R.model||p,F=R.view||p,I=R.projection||p,L=this.bounds,P=R._ortho||!1,O=f(N,F,I,L,P),U=O.cubeEdges,X=O.axis,$=F[12],j=F[13],Y=F[14],q=F[15],Q=P?2:1,ae=Q*this.pixelRatio*(I[3]*$+I[7]*j+I[11]*Y+I[15]*q)/re.drawingBufferHeight,K=0;K<3;++K)this.lastCubeProps.cubeEdges[K]=U[K],this.lastCubeProps.axis[K]=X[K];for(var oe=M,K=0;K<3;++K)d(M[K],K,this.bounds,U,X);for(var re=this.gl,V=_,K=0;K<3;++K)this.backgroundEnable[K]?V[K]=X[K]:V[K]=0;this._background.draw(N,F,I,L,V,this.backgroundColor),this._lines.bind(N,F,I,this);for(var K=0;K<3;++K){var ee=[0,0,0];X[K]>0?ee[K]=L[1][K]:ee[K]=L[0][K];for(var H=0;H<2;++H){var te=(K+1+H)%3,le=(K+1+(H^1))%3;this.gridEnable[te]&&this._lines.drawGrid(te,le,this.bounds,ee,this.gridColor[te],this.gridWidth[te]*this.pixelRatio)}for(var H=0;H<2;++H){var te=(K+1+H)%3,le=(K+1+(H^1))%3;this.zeroEnable[le]&&Math.min(L[0][le],L[1][le])<=0&&Math.max(L[0][le],L[1][le])>=0&&this._lines.drawZero(te,le,this.bounds,ee,this.zeroLineColor[le],this.zeroLineWidth[le]*this.pixelRatio)}}for(var K=0;K<3;++K){this.lineEnable[K]&&this._lines.drawAxisLine(K,this.bounds,oe[K].primalOffset,this.lineColor[K],this.lineWidth[K]*this.pixelRatio),this.lineMirror[K]&&this._lines.drawAxisLine(K,this.bounds,oe[K].mirrorOffset,this.lineColor[K],this.lineWidth[K]*this.pixelRatio);for(var ve=m(A,oe[K].primalMinor),Ae=m(v,oe[K].mirrorMinor),we=this.lineTickLength,H=0;H<3;++H){var ce=ae/N[5*H];ve[H]*=we[H]*ce,Ae[H]*=we[H]*ce}this.lineTickEnable[K]&&this._lines.drawAxisTicks(K,oe[K].primalOffset,ve,this.lineTickColor[K],this.lineTickWidth[K]*this.pixelRatio),this.lineTickMirror[K]&&this._lines.drawAxisTicks(K,oe[K].mirrorOffset,Ae,this.lineTickColor[K],this.lineTickWidth[K]*this.pixelRatio)}this._lines.unbind(),this._text.bind(N,F,I,this.pixelRatio);var Se,Ce=.5,Fe,Ee;function ze(ye){Ee=[0,0,0],Ee[ye]=1}function Ue(ye,pe,he){var xe=(ye+1)%3,Le=(ye+2)%3,qe=pe[xe],Ne=pe[Le],$e=he[xe],Ve=he[Le];if(qe>0&&Ve>0){ze(xe);return}else if(qe>0&&Ve<0){ze(xe);return}else if(qe<0&&Ve>0){ze(xe);return}else if(qe<0&&Ve<0){ze(xe);return}else if(Ne>0&&$e>0){ze(Le);return}else if(Ne>0&&$e<0){ze(Le);return}else if(Ne<0&&$e>0){ze(Le);return}else if(Ne<0&&$e<0){ze(Le);return}}for(var K=0;K<3;++K){for(var ge=oe[K].primalMinor,Me=oe[K].mirrorMinor,ke=m(D,oe[K].primalOffset),H=0;H<3;++H)this.lineTickEnable[K]&&(ke[H]+=ae*ge[H]*Math.max(this.lineTickLength[H],0)/N[5*H]);var me=[0,0,0];if(me[K]=1,this.tickEnable[K]){this.tickAngle[K]===-3600?(this.tickAngle[K]=0,this.tickAlign[K]="auto"):this.tickAlign[K]=-1,Fe=1,Se=[this.tickAlign[K],Ce,Fe],Se[0]==="auto"?Se[0]=c:Se[0]=parseInt(""+Se[0]),Ee=[0,0,0],Ue(K,ge,Me);for(var H=0;H<3;++H)ke[H]+=ae*ge[H]*this.tickPad[H]/N[5*H];this._text.drawTicks(K,this.tickSize[K],this.tickAngle[K],ke,this.tickColor[K],me,Ee,Se)}if(this.labelEnable[K]){Fe=0,Ee=[0,0,0],this.labels[K].length>4&&(ze(K),Fe=1),Se=[this.labelAlign[K],Ce,Fe],Se[0]==="auto"?Se[0]=c:Se[0]=parseInt(""+Se[0]);for(var H=0;H<3;++H)ke[H]+=ae*ge[H]*this.labelPad[H]/N[5*H];ke[K]+=.5*(L[0][K]+L[1][K]),this._text.drawLabel(K,this.labelSize[K],this.labelAngle[K],ke,this.labelColor[K],[0,0,0],Ee,Se)}}this._text.unbind()},S.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function E(R,N){var F=new k(R);return F.update(N),F}},3840:function(a){"use strict";a.exports=M;var o=0,i=1;function l(d,_,g,c,A,v){this._color=d,this.key=_,this.value=g,this.left=c,this.right=A,this._count=v}function u(d){return new l(d._color,d.key,d.value,d.left,d.right,d._count)}function s(d,_){return new l(d,_.key,_.value,_.left,_.right,_._count)}function f(d){d._count=1+(d.left?d.left._count:0)+(d.right?d.right._count:0)}function h(d,_){this._compare=d,this.root=_}var p=h.prototype;Object.defineProperty(p,"keys",{get:function(){var d=[];return this.forEach(function(_,g){d.push(_)}),d}}),Object.defineProperty(p,"values",{get:function(){var d=[];return this.forEach(function(_,g){d.push(g)}),d}}),Object.defineProperty(p,"length",{get:function(){return this.root?this.root._count:0}}),p.insert=function(d,_){for(var g=this._compare,c=this.root,A=[],v=[];c;){var D=g(d,c.key);A.push(c),v.push(D),D<=0?c=c.left:c=c.right}A.push(new l(o,d,_,null,null,1));for(var E=A.length-2;E>=0;--E){var c=A[E];v[E]<=0?A[E]=new l(c._color,c.key,c.value,A[E+1],c.right,c._count+1):A[E]=new l(c._color,c.key,c.value,c.left,A[E+1],c._count+1)}for(var E=A.length-1;E>1;--E){var R=A[E-1],c=A[E];if(R._color===i||c._color===i)break;var N=A[E-2];if(N.left===R)if(R.left===c){var F=N.right;if(F&&F._color===o)R._color=i,N.right=s(i,F),N._color=o,E-=1;else{if(N._color=o,N.left=R.right,R._color=i,R.right=N,A[E-2]=R,A[E-1]=c,f(N),f(R),E>=3){var I=A[E-3];I.left===N?I.left=R:I.right=R}break}}else{var F=N.right;if(F&&F._color===o)R._color=i,N.right=s(i,F),N._color=o,E-=1;else{if(R.right=c.left,N._color=o,N.left=c.right,c._color=i,c.left=R,c.right=N,A[E-2]=c,A[E-1]=R,f(N),f(R),f(c),E>=3){var I=A[E-3];I.left===N?I.left=c:I.right=c}break}}else if(R.right===c){var F=N.left;if(F&&F._color===o)R._color=i,N.left=s(i,F),N._color=o,E-=1;else{if(N._color=o,N.right=R.left,R._color=i,R.left=N,A[E-2]=R,A[E-1]=c,f(N),f(R),E>=3){var I=A[E-3];I.right===N?I.right=R:I.left=R}break}}else{var F=N.left;if(F&&F._color===o)R._color=i,N.left=s(i,F),N._color=o,E-=1;else{if(R.left=c.right,N._color=o,N.right=c.left,c._color=i,c.right=R,c.left=N,A[E-2]=c,A[E-1]=R,f(N),f(R),f(c),E>=3){var I=A[E-3];I.right===N?I.right=c:I.left=c}break}}}return A[0]._color=i,new h(g,A[0])};function b(d,_){if(_.left){var g=b(d,_.left);if(g)return g}var g=d(_.key,_.value);if(g)return g;if(_.right)return b(d,_.right)}function y(d,_,g,c){var A=_(d,c.key);if(A<=0){if(c.left){var v=y(d,_,g,c.left);if(v)return v}var v=g(c.key,c.value);if(v)return v}if(c.right)return y(d,_,g,c.right)}function w(d,_,g,c,A){var v=g(d,A.key),D=g(_,A.key),E;if(v<=0&&(A.left&&(E=w(d,_,g,c,A.left),E)||D>0&&(E=c(A.key,A.value),E)))return E;if(D>0&&A.right)return w(d,_,g,c,A.right)}p.forEach=function(_,g,c){if(this.root)switch(arguments.length){case 1:return b(_,this.root);case 2:return y(g,this._compare,_,this.root);case 3:return this._compare(g,c)>=0?void 0:w(g,c,this._compare,_,this.root)}},Object.defineProperty(p,"begin",{get:function(){for(var d=[],_=this.root;_;)d.push(_),_=_.left;return new T(this,d)}}),Object.defineProperty(p,"end",{get:function(){for(var d=[],_=this.root;_;)d.push(_),_=_.right;return new T(this,d)}}),p.at=function(d){if(d<0)return new T(this,[]);for(var _=this.root,g=[];;){if(g.push(_),_.left){if(d<_.left._count){_=_.left;continue}d-=_.left._count}if(!d)return new T(this,g);if(d-=1,_.right){if(d>=_.right._count)break;_=_.right}else break}return new T(this,[])},p.ge=function(d){for(var _=this._compare,g=this.root,c=[],A=0;g;){var v=_(d,g.key);c.push(g),v<=0&&(A=c.length),v<=0?g=g.left:g=g.right}return c.length=A,new T(this,c)},p.gt=function(d){for(var _=this._compare,g=this.root,c=[],A=0;g;){var v=_(d,g.key);c.push(g),v<0&&(A=c.length),v<0?g=g.left:g=g.right}return c.length=A,new T(this,c)},p.lt=function(d){for(var _=this._compare,g=this.root,c=[],A=0;g;){var v=_(d,g.key);c.push(g),v>0&&(A=c.length),v<=0?g=g.left:g=g.right}return c.length=A,new T(this,c)},p.le=function(d){for(var _=this._compare,g=this.root,c=[],A=0;g;){var v=_(d,g.key);c.push(g),v>=0&&(A=c.length),v<0?g=g.left:g=g.right}return c.length=A,new T(this,c)},p.find=function(d){for(var _=this._compare,g=this.root,c=[];g;){var A=_(d,g.key);if(c.push(g),A===0)return new T(this,c);A<=0?g=g.left:g=g.right}return new T(this,[])},p.remove=function(d){var _=this.find(d);return _?_.remove():this},p.get=function(d){for(var _=this._compare,g=this.root;g;){var c=_(d,g.key);if(c===0)return g.value;c<=0?g=g.left:g=g.right}};function T(d,_){this.tree=d,this._stack=_}var m=T.prototype;Object.defineProperty(m,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(m,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),m.clone=function(){return new T(this.tree,this._stack.slice())};function k(d,_){d.key=_.key,d.value=_.value,d.left=_.left,d.right=_.right,d._color=_._color,d._count=_._count}function S(d){for(var _,g,c,A,v=d.length-1;v>=0;--v){if(_=d[v],v===0){_._color=i;return}if(g=d[v-1],g.left===_){if(c=g.right,c.right&&c.right._color===o){if(c=g.right=u(c),A=c.right=u(c.right),g.right=c.left,c.left=g,c.right=A,c._color=g._color,_._color=i,g._color=i,A._color=i,f(g),f(c),v>1){var D=d[v-2];D.left===g?D.left=c:D.right=c}d[v-1]=c;return}else if(c.left&&c.left._color===o){if(c=g.right=u(c),A=c.left=u(c.left),g.right=A.left,c.left=A.right,A.left=g,A.right=c,A._color=g._color,g._color=i,c._color=i,_._color=i,f(g),f(c),f(A),v>1){var D=d[v-2];D.left===g?D.left=A:D.right=A}d[v-1]=A;return}if(c._color===i)if(g._color===o){g._color=i,g.right=s(o,c);return}else{g.right=s(o,c);continue}else{if(c=u(c),g.right=c.left,c.left=g,c._color=g._color,g._color=o,f(g),f(c),v>1){var D=d[v-2];D.left===g?D.left=c:D.right=c}d[v-1]=c,d[v]=g,v+1<d.length?d[v+1]=_:d.push(_),v=v+2}}else{if(c=g.left,c.left&&c.left._color===o){if(c=g.left=u(c),A=c.left=u(c.left),g.left=c.right,c.right=g,c.left=A,c._color=g._color,_._color=i,g._color=i,A._color=i,f(g),f(c),v>1){var D=d[v-2];D.right===g?D.right=c:D.left=c}d[v-1]=c;return}else if(c.right&&c.right._color===o){if(c=g.left=u(c),A=c.right=u(c.right),g.left=A.right,c.right=A.left,A.right=g,A.left=c,A._color=g._color,g._color=i,c._color=i,_._color=i,f(g),f(c),f(A),v>1){var D=d[v-2];D.right===g?D.right=A:D.left=A}d[v-1]=A;return}if(c._color===i)if(g._color===o){g._color=i,g.left=s(o,c);return}else{g.left=s(o,c);continue}else{if(c=u(c),g.left=c.right,c.right=g,c._color=g._color,g._color=o,f(g),f(c),v>1){var D=d[v-2];D.right===g?D.right=c:D.left=c}d[v-1]=c,d[v]=g,v+1<d.length?d[v+1]=_:d.push(_),v=v+2}}}}m.remove=function(){var d=this._stack;if(d.length===0)return this.tree;var _=new Array(d.length),g=d[d.length-1];_[_.length-1]=new l(g._color,g.key,g.value,g.left,g.right,g._count);for(var c=d.length-2;c>=0;--c){var g=d[c];g.left===d[c+1]?_[c]=new l(g._color,g.key,g.value,_[c+1],g.right,g._count):_[c]=new l(g._color,g.key,g.value,g.left,_[c+1],g._count)}if(g=_[_.length-1],g.left&&g.right){var A=_.length;for(g=g.left;g.right;)_.push(g),g=g.right;var v=_[A-1];_.push(new l(g._color,v.key,v.value,g.left,g.right,g._count)),_[A-1].key=g.key,_[A-1].value=g.value;for(var c=_.length-2;c>=A;--c)g=_[c],_[c]=new l(g._color,g.key,g.value,g.left,_[c+1],g._count);_[A-1].left=_[A]}if(g=_[_.length-1],g._color===o){var D=_[_.length-2];D.left===g?D.left=null:D.right===g&&(D.right=null),_.pop();for(var c=0;c<_.length;++c)_[c]._count--;return new h(this.tree._compare,_[0])}else if(g.left||g.right){g.left?k(g,g.left):g.right&&k(g,g.right),g._color=i;for(var c=0;c<_.length-1;++c)_[c]._count--;return new h(this.tree._compare,_[0])}else{if(_.length===1)return new h(this.tree._compare,null);for(var c=0;c<_.length;++c)_[c]._count--;var E=_[_.length-2];S(_),E.left===g?E.left=null:E.right=null}return new h(this.tree._compare,_[0])},Object.defineProperty(m,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(m,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(m,"index",{get:function(){var d=0,_=this._stack;if(_.length===0){var g=this.tree.root;return g?g._count:0}else _[_.length-1].left&&(d=_[_.length-1].left._count);for(var c=_.length-2;c>=0;--c)_[c+1]===_[c].right&&(++d,_[c].left&&(d+=_[c].left._count));return d},enumerable:!0}),m.next=function(){var d=this._stack;if(d.length!==0){var _=d[d.length-1];if(_.right)for(_=_.right;_;)d.push(_),_=_.left;else for(d.pop();d.length>0&&d[d.length-1].right===_;)_=d[d.length-1],d.pop()}},Object.defineProperty(m,"hasNext",{get:function(){var d=this._stack;if(d.length===0)return!1;if(d[d.length-1].right)return!0;for(var _=d.length-1;_>0;--_)if(d[_-1].left===d[_])return!0;return!1}}),m.update=function(d){var _=this._stack;if(_.length===0)throw new Error("Can't update empty node!");var g=new Array(_.length),c=_[_.length-1];g[g.length-1]=new l(c._color,c.key,d,c.left,c.right,c._count);for(var A=_.length-2;A>=0;--A)c=_[A],c.left===_[A+1]?g[A]=new l(c._color,c.key,c.value,g[A+1],c.right,c._count):g[A]=new l(c._color,c.key,c.value,c.left,g[A+1],c._count);return new h(this.tree._compare,g[0])},m.prev=function(){var d=this._stack;if(d.length!==0){var _=d[d.length-1];if(_.left)for(_=_.left;_;)d.push(_),_=_.right;else for(d.pop();d.length>0&&d[d.length-1].left===_;)_=d[d.length-1],d.pop()}},Object.defineProperty(m,"hasPrev",{get:function(){var d=this._stack;if(d.length===0)return!1;if(d[d.length-1].left)return!0;for(var _=d.length-1;_>0;--_)if(d[_-1].right===d[_])return!0;return!1}});function x(d,_){return d<_?-1:d>_?1:0}function M(d){return new h(d||x,null)}},3865:function(a,o,i){"use strict";var l=i(869);a.exports=u;function u(s,f){return l(s[0].mul(f[1]).add(f[0].mul(s[1])),s[1].mul(f[1]))}},3952:function(a,o,i){"use strict";a.exports=s;var l=i(3250);function u(f,h){for(var p=new Array(h+1),b=0;b<f.length;++b)p[b]=f[b];for(var b=0;b<=f.length;++b){for(var y=f.length;y<=h;++y){for(var w=new Array(h),T=0;T<h;++T)w[T]=Math.pow(y+1-b,T);p[y]=w}var m=l.apply(void 0,p);if(m)return!0}return!1}function s(f){var h=f.length;if(h===0)return[];if(h===1)return[0];for(var p=f[0].length,b=[f[0]],y=[0],w=1;w<h;++w){if(b.push(f[w]),!u(b,p)){b.pop();continue}if(y.push(w),y.length===p+1)return y}return y}},3990:function(a){a.exports=o;function o(i,l){return i[0]=l[0],i[1]=l[1],i[2]=l[2],i}},4008:function(a,o,i){a.exports=i(6690)},4025:function(a,o,i){"use strict";var l=i(2361),u=i(8828).countTrailingZeros;a.exports=s;function s(f){var h=u(l.lo(f));if(h<32)return h;var p=u(l.hi(f));return p>20?52:p+32}},4040:function(a){a.exports=o;function o(i,l,u,s,f,h,p){var b=1/(l-u),y=1/(s-f),w=1/(h-p);return i[0]=-2*b,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=-2*y,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2*w,i[11]=0,i[12]=(l+u)*b,i[13]=(f+s)*y,i[14]=(p+h)*w,i[15]=1,i}},4041:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],h=l[2],p=u[0],b=u[1],y=u[2],w=u[3],T=w*s+b*h-y*f,m=w*f+y*s-p*h,k=w*h+p*f-b*s,S=-p*s-b*f-y*h;return i[0]=T*w+S*-p+m*-y-k*-b,i[1]=m*w+S*-b+k*-p-T*-y,i[2]=k*w+S*-y+T*-b-m*-p,i[3]=l[3],i}},4081:function(a){"use strict";a.exports=o;function o(i,l,u,s,f,h,p,b,y,w){var T=l+h+w;if(m>0){var m=Math.sqrt(T+1);i[0]=.5*(p-y)/m,i[1]=.5*(b-s)/m,i[2]=.5*(u-h)/m,i[3]=.5*m}else{var k=Math.max(l,h,w),m=Math.sqrt(2*k-T+1);l>=k?(i[0]=.5*m,i[1]=.5*(f+u)/m,i[2]=.5*(b+s)/m,i[3]=.5*(p-y)/m):h>=k?(i[0]=.5*(u+f)/m,i[1]=.5*m,i[2]=.5*(y+p)/m,i[3]=.5*(b-s)/m):(i[0]=.5*(s+b)/m,i[1]=.5*(p+y)/m,i[2]=.5*m,i[3]=.5*(u-f)/m)}return i}},4100:function(a,o,i){"use strict";var l=i(4437),u=i(3837),s=i(5445),f=i(4449),h=i(3589),p=i(2260),b=i(7169),y=i(351),w=i(4772),T=i(4040),m=i(799),k=i(9216)({tablet:!0,featureDetect:!0});a.exports={createScene:_,createCamera:l};function S(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function x(c,A){var v=null;try{v=c.getContext("webgl",A),v||(v=c.getContext("experimental-webgl",A))}catch(D){return null}return v}function M(c){var A=Math.round(Math.log(Math.abs(c))/Math.log(10));if(A<0){var v=Math.round(Math.pow(10,-A));return Math.ceil(c*v)/v}else if(A>0){var v=Math.round(Math.pow(10,A));return Math.ceil(c/v)*v}return Math.ceil(c)}function d(c){return typeof c=="boolean"?c:!0}function _(c){c=c||{},c.camera=c.camera||{};var A=c.canvas;if(!A)if(A=document.createElement("canvas"),c.container){var v=c.container;v.appendChild(A)}else document.body.appendChild(A);var D=c.gl;if(D||(c.glOptions&&(k=!!c.glOptions.preserveDrawingBuffer),D=x(A,c.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:k})),!D)throw new Error("webgl not supported");var E=c.bounds||[[-10,-10,-10],[10,10,10]],R=new S,N=p(D,D.drawingBufferWidth,D.drawingBufferHeight,{preferFloat:!k}),F=m(D),I=c.cameraObject&&c.cameraObject._ortho===!0||c.camera.projection&&c.camera.projection.type==="orthographic"||!1,L={eye:c.camera.eye||[2,0,0],center:c.camera.center||[0,0,0],up:c.camera.up||[0,1,0],zoomMin:c.camera.zoomMax||.1,zoomMax:c.camera.zoomMin||100,mode:c.camera.mode||"turntable",_ortho:I},P=c.axes||{},O=u(D,P);O.enable=!P.disable;var U=c.spikes||{},X=f(D,U),$=[],j=[],Y=[],q=[],Q=!0,re=!0,ae=new Array(16),K=new Array(16),oe={view:null,projection:ae,model:K,_ortho:!1},re=!0,V=[D.drawingBufferWidth,D.drawingBufferHeight],ee=c.cameraObject||l(A,L),H={gl:D,contextLost:!1,pixelRatio:c.pixelRatio||1,canvas:A,selection:R,camera:ee,axes:O,axesPixels:null,spikes:X,bounds:E,objects:$,shape:V,aspect:c.aspectRatio||[1,1,1],pickRadius:c.pickRadius||10,zNear:c.zNear||.01,zFar:c.zFar||1e3,fovy:c.fovy||Math.PI/4,clearColor:c.clearColor||[0,0,0,0],autoResize:d(c.autoResize),autoBounds:d(c.autoBounds),autoScale:!!c.autoScale,autoCenter:d(c.autoCenter),clipToBounds:d(c.clipToBounds),snapToData:!!c.snapToData,onselect:c.onselect||null,onrender:c.onrender||null,onclick:c.onclick||null,cameraParams:oe,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ee){this.aspect[0]=Ee.x,this.aspect[1]=Ee.y,this.aspect[2]=Ee.z,re=!0},setBounds:function(Ee,ze){this.bounds[0][Ee]=ze.min,this.bounds[1][Ee]=ze.max},setClearColor:function(Ee){this.clearColor=Ee},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},te=[D.drawingBufferWidth/H.pixelRatio|0,D.drawingBufferHeight/H.pixelRatio|0];function le(){if(!H._stopped&&H.autoResize){var Ee=A.parentNode,ze=1,Ue=1;Ee&&Ee!==document.body?(ze=Ee.clientWidth,Ue=Ee.clientHeight):(ze=window.innerWidth,Ue=window.innerHeight);var ge=Math.ceil(ze*H.pixelRatio)|0,Me=Math.ceil(Ue*H.pixelRatio)|0;if(ge!==A.width||Me!==A.height){A.width=ge,A.height=Me;var ke=A.style;ke.position=ke.position||"absolute",ke.left="0px",ke.top="0px",ke.width=ze+"px",ke.height=Ue+"px",Q=!0}}}H.autoResize&&le(),window.addEventListener("resize",le);function ve(){for(var Ee=$.length,ze=q.length,Ue=0;Ue<ze;++Ue)Y[Ue]=0;e:for(var Ue=0;Ue<Ee;++Ue){var ge=$[Ue],Me=ge.pickSlots;if(!Me){j[Ue]=-1;continue}for(var ke=0;ke<ze;++ke)if(Y[ke]+Me<255){j[Ue]=ke,ge.setPickBase(Y[ke]+1),Y[ke]+=Me;continue e}var me=h(D,V);j[Ue]=ze,q.push(me),Y.push(Me),ge.setPickBase(1),ze+=1}for(;ze>0&&Y[ze-1]===0;)Y.pop(),q.pop().dispose()}H.update=function(Ee){H._stopped||(Ee=Ee||{},Q=!0,re=!0)},H.add=function(Ee){H._stopped||(Ee.axes=O,$.push(Ee),j.push(-1),Q=!0,re=!0,ve())},H.remove=function(Ee){if(!H._stopped){var ze=$.indexOf(Ee);ze<0||($.splice(ze,1),j.pop(),Q=!0,re=!0,ve())}},H.dispose=function(){if(!H._stopped&&(H._stopped=!0,window.removeEventListener("resize",le),A.removeEventListener("webglcontextlost",Ae),H.mouseListener.enabled=!1,!H.contextLost)){O.dispose(),X.dispose();for(var Ee=0;Ee<$.length;++Ee)$[Ee].dispose();N.dispose();for(var Ee=0;Ee<q.length;++Ee)q[Ee].dispose();F.dispose(),D=null,O=null,X=null,$=[]}},H._mouseRotating=!1,H._prevButtons=0,H.enableMouseListeners=function(){H.mouseListener=y(A,function(Ee,ze,Ue){if(!H._stopped){var ge=q.length,Me=$.length,ke=R.object;R.distance=1/0,R.mouse[0]=ze,R.mouse[1]=Ue,R.object=null,R.screen=null,R.dataCoordinate=R.dataPosition=null;var me=!1;if(Ee&&H._prevButtons)H._mouseRotating=!0;else{H._mouseRotating&&(re=!0),H._mouseRotating=!1;for(var ye=0;ye<ge;++ye){var pe=q[ye].query(ze,te[1]-Ue-1,H.pickRadius);if(pe){if(pe.distance>R.distance)continue;for(var he=0;he<Me;++he){var xe=$[he];if(j[he]===ye){var Le=xe.pick(pe);Le&&(R.buttons=Ee,R.screen=pe.coord,R.distance=pe.distance,R.object=xe,R.index=Le.distance,R.dataPosition=Le.position,R.dataCoordinate=Le.dataCoordinate,R.data=Le,me=!0)}}}}}ke&&ke!==R.object&&(ke.highlight&&ke.highlight(null),Q=!0),R.object&&(R.object.highlight&&R.object.highlight(R.data),Q=!0),me=me||R.object!==ke,me&&H.onselect&&H.onselect(R),Ee&1&&!(H._prevButtons&1)&&H.onclick&&H.onclick(R),H._prevButtons=Ee}})};function Ae(){if(H.contextLost)return!0;D.isContextLost()&&(H.contextLost=!0,H.mouseListener.enabled=!1,H.selection.object=null,H.oncontextloss&&H.oncontextloss())}A.addEventListener("webglcontextlost",Ae);function we(){if(!Ae()){D.colorMask(!0,!0,!0,!0),D.depthMask(!0),D.disable(D.BLEND),D.enable(D.DEPTH_TEST),D.depthFunc(D.LEQUAL);for(var Ee=$.length,ze=q.length,Ue=0;Ue<ze;++Ue){var ge=q[Ue];ge.shape=te,ge.begin();for(var Me=0;Me<Ee;++Me)if(j[Me]===Ue){var ke=$[Me];ke.drawPick&&(ke.pixelRatio=1,ke.drawPick(oe))}ge.end()}}}var ce=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Se=[ce[0].slice(),ce[1].slice()];function Ce(){if(!Ae()){le();var Ee=H.camera.tick();oe.view=H.camera.matrix,Q=Q||Ee,re=re||Ee,O.pixelRatio=H.pixelRatio,X.pixelRatio=H.pixelRatio;var ze=$.length,Ue=ce[0],ge=ce[1];Ue[0]=Ue[1]=Ue[2]=1/0,ge[0]=ge[1]=ge[2]=-1/0;for(var Me=0;Me<ze;++Me){var ke=$[Me];ke.pixelRatio=H.pixelRatio,ke.axes=H.axes,Q=Q||!!ke.dirty,re=re||!!ke.dirty;var me=ke.bounds;if(me)for(var ye=me[0],pe=me[1],he=0;he<3;++he)Ue[he]=Math.min(Ue[he],ye[he]),ge[he]=Math.max(ge[he],pe[he])}var xe=H.bounds;if(H.autoBounds)for(var he=0;he<3;++he){if(ge[he]<Ue[he])Ue[he]=-1,ge[he]=1;else{Ue[he]===ge[he]&&(Ue[he]-=1,ge[he]+=1);var Le=.05*(ge[he]-Ue[he]);Ue[he]=Ue[he]-Le,ge[he]=ge[he]+Le}xe[0][he]=Ue[he],xe[1][he]=ge[he]}for(var qe=!1,he=0;he<3;++he)qe=qe||Se[0][he]!==xe[0][he]||Se[1][he]!==xe[1][he],Se[0][he]=xe[0][he],Se[1][he]=xe[1][he];if(re=re||qe,Q=Q||qe,!!Q){if(qe){for(var Ne=[0,0,0],Me=0;Me<3;++Me)Ne[Me]=M((xe[1][Me]-xe[0][Me])/10);O.autoTicks?O.update({bounds:xe,tickSpacing:Ne}):O.update({bounds:xe})}var $e=D.drawingBufferWidth,Ve=D.drawingBufferHeight;V[0]=$e,V[1]=Ve,te[0]=Math.max($e/H.pixelRatio,1)|0,te[1]=Math.max(Ve/H.pixelRatio,1)|0,g(H,I);for(var Me=0;Me<ze;++Me){var ke=$[Me];ke.axesBounds=xe,H.clipToBounds&&(ke.clipBounds=xe)}R.object&&(H.snapToData?X.position=R.dataCoordinate:X.position=R.dataPosition,X.bounds=xe),re&&(re=!1,we()),H.axesPixels=s(H.axes,oe,$e,Ve),H.onrender&&H.onrender(),D.bindFramebuffer(D.FRAMEBUFFER,null),D.viewport(0,0,$e,Ve),H.clearRGBA(),D.depthMask(!0),D.colorMask(!0,!0,!0,!0),D.enable(D.DEPTH_TEST),D.depthFunc(D.LEQUAL),D.disable(D.BLEND),D.disable(D.CULL_FACE);var Be=!1;O.enable&&(Be=Be||O.isTransparent(),O.draw(oe)),X.axes=O,R.object&&X.draw(oe),D.disable(D.CULL_FACE);for(var Me=0;Me<ze;++Me){var ke=$[Me];ke.axes=O,ke.pixelRatio=H.pixelRatio,ke.isOpaque&&ke.isOpaque()&&ke.draw(oe),ke.isTransparent&&ke.isTransparent()&&(Be=!0)}if(Be){N.shape=V,N.bind(),D.clear(D.DEPTH_BUFFER_BIT),D.colorMask(!1,!1,!1,!1),D.depthMask(!0),D.depthFunc(D.LESS),O.enable&&O.isTransparent()&&O.drawTransparent(oe);for(var Me=0;Me<ze;++Me){var ke=$[Me];ke.isOpaque&&ke.isOpaque()&&ke.draw(oe)}D.enable(D.BLEND),D.blendEquation(D.FUNC_ADD),D.blendFunc(D.ONE,D.ONE_MINUS_SRC_ALPHA),D.colorMask(!0,!0,!0,!0),D.depthMask(!1),D.clearColor(0,0,0,0),D.clear(D.COLOR_BUFFER_BIT),O.isTransparent()&&O.drawTransparent(oe);for(var Me=0;Me<ze;++Me){var ke=$[Me];ke.isTransparent&&ke.isTransparent()&&ke.drawTransparent(oe)}D.bindFramebuffer(D.FRAMEBUFFER,null),D.blendFunc(D.ONE,D.ONE_MINUS_SRC_ALPHA),D.disable(D.DEPTH_TEST),F.bind(),N.color[0].bind(0),F.uniforms.accumBuffer=0,b(D),D.disable(D.BLEND)}Q=!1;for(var Me=0;Me<ze;++Me)$[Me].dirty=!1}}}function Fe(){H._stopped||H.contextLost||(Ce(),requestAnimationFrame(Fe))}return H.enableMouseListeners(),Fe(),H.redraw=function(){H._stopped||(Q=!0,Ce())},H}function g(c,A){var v=c.bounds,D=c.cameraParams,E=D.projection,R=D.model,N=c.gl.drawingBufferWidth,F=c.gl.drawingBufferHeight,I=c.zNear,L=c.zFar,P=c.fovy,O=N/F;A?(T(E,-O,O,-1,1,I,L),D._ortho=!0):(w(E,P,O,I,L),D._ortho=!1);for(var U=0;U<16;++U)R[U]=0;R[15]=1;for(var X=0,U=0;U<3;++U)X=Math.max(X,v[1][U]-v[0][U]);for(var U=0;U<3;++U)c.autoScale?R[5*U]=c.aspect[U]/(v[1][U]-v[0][U]):R[5*U]=1/X,c.autoCenter&&(R[12+U]=-R[5*U]*.5*(v[0][U]+v[1][U]))}},4192:function(a){"use strict";a.exports=i;var o=32;function i(w,T){T<=4*o?l(0,T-1,w):y(0,T-1,w)}function l(w,T,m){for(var k=2*(w+1),S=w+1;S<=T;++S){for(var x=m[k++],M=m[k++],d=S,_=k-2;d-- >w;){var g=m[_-2],c=m[_-1];if(g<x)break;if(g===x&&c<M)break;m[_]=g,m[_+1]=c,_-=2}m[_]=x,m[_+1]=M}}function u(w,T,m){w*=2,T*=2;var k=m[w],S=m[w+1];m[w]=m[T],m[w+1]=m[T+1],m[T]=k,m[T+1]=S}function s(w,T,m){w*=2,T*=2,m[w]=m[T],m[w+1]=m[T+1]}function f(w,T,m,k){w*=2,T*=2,m*=2;var S=k[w],x=k[w+1];k[w]=k[T],k[w+1]=k[T+1],k[T]=k[m],k[T+1]=k[m+1],k[m]=S,k[m+1]=x}function h(w,T,m,k,S){w*=2,T*=2,S[w]=S[T],S[T]=m,S[w+1]=S[T+1],S[T+1]=k}function p(w,T,m){w*=2,T*=2;var k=m[w],S=m[T];return k<S?!1:k===S?m[w+1]>m[T+1]:!0}function b(w,T,m,k){w*=2;var S=k[w];return S<T?!0:S===T?k[w+1]<m:!1}function y(w,T,m){var k=(T-w+1)/6|0,S=w+k,x=T-k,M=w+T>>1,d=M-k,_=M+k,g=S,c=d,A=M,v=_,D=x,E=w+1,R=T-1,N=0;p(g,c,m)&&(N=g,g=c,c=N),p(v,D,m)&&(N=v,v=D,D=N),p(g,A,m)&&(N=g,g=A,A=N),p(c,A,m)&&(N=c,c=A,A=N),p(g,v,m)&&(N=g,g=v,v=N),p(A,v,m)&&(N=A,A=v,v=N),p(c,D,m)&&(N=c,c=D,D=N),p(c,A,m)&&(N=c,c=A,A=N),p(v,D,m)&&(N=v,v=D,D=N);for(var F=m[2*c],I=m[2*c+1],L=m[2*v],P=m[2*v+1],O=2*g,U=2*A,X=2*D,$=2*S,j=2*M,Y=2*x,q=0;q<2;++q){var Q=m[O+q],ae=m[U+q],K=m[X+q];m[$+q]=Q,m[j+q]=ae,m[Y+q]=K}s(d,w,m),s(_,T,m);for(var oe=E;oe<=R;++oe)if(b(oe,F,I,m))oe!==E&&u(oe,E,m),++E;else if(!b(oe,L,P,m))for(;;)if(b(R,L,P,m)){b(R,F,I,m)?(f(oe,E,R,m),++E,--R):(u(oe,R,m),--R);break}else{if(--R<oe)break;continue}h(w,E-1,F,I,m),h(T,R+1,L,P,m),E-2-w<=o?l(w,E-2,m):y(w,E-2,m),T-(R+2)<=o?l(R+2,T,m):y(R+2,T,m),R-E<=o?l(E,R,m):y(E,R,m)}},4209:function(a,o,i){"use strict";a.exports=m;var l=i(2478),u=i(3840),s=i(3250),f=i(1303);function h(k,S,x){this.slabs=k,this.coordinates=S,this.horizontal=x}var p=h.prototype;function b(k,S){return k.y-S}function y(k,S){for(var x=null;k;){var M=k.key,d,_;M[0][0]<M[1][0]?(d=M[0],_=M[1]):(d=M[1],_=M[0]);var g=s(d,_,S);if(g<0)k=k.left;else if(g>0)if(S[0]!==M[1][0])x=k,k=k.right;else{var c=y(k.right,S);if(c)return c;k=k.left}else{if(S[0]!==M[1][0])return k;var c=y(k.right,S);if(c)return c;k=k.left}}return x}p.castUp=function(k){var S=l.le(this.coordinates,k[0]);if(S<0)return-1;var x=this.slabs[S],M=y(this.slabs[S],k),d=-1;if(M&&(d=M.value),this.coordinates[S]===k[0]){var _=null;if(M&&(_=M.key),S>0){var g=y(this.slabs[S-1],k);g&&(_?f(g.key,_)>0&&(_=g.key,d=g.value):(d=g.value,_=g.key))}var c=this.horizontal[S];if(c.length>0){var A=l.ge(c,k[1],b);if(A<c.length){var v=c[A];if(k[1]===v.y){if(v.closed)return v.index;for(;A<c.length-1&&c[A+1].y===k[1];)if(A=A+1,v=c[A],v.closed)return v.index;if(v.y===k[1]&&!v.start){if(A=A+1,A>=c.length)return d;v=c[A]}}if(v.start)if(_){var D=s(_[0],_[1],[k[0],v.y]);_[0][0]>_[1][0]&&(D=-D),D>0&&(d=v.index)}else d=v.index;else v.y!==k[1]&&(d=v.index)}}}return d};function w(k,S,x,M){this.y=k,this.index=S,this.start=x,this.closed=M}function T(k,S,x,M){this.x=k,this.segment=S,this.create=x,this.index=M}function m(k){for(var S=k.length,x=2*S,M=new Array(x),d=0;d<S;++d){var _=k[d],g=_[0][0]<_[1][0];M[2*d]=new T(_[0][0],_,g,d),M[2*d+1]=new T(_[1][0],_,!g,d)}M.sort(function(I,L){var P=I.x-L.x;return P||(P=I.create-L.create,P)?P:Math.min(I.segment[0][1],I.segment[1][1])-Math.min(L.segment[0][1],L.segment[1][1])});for(var c=u(f),A=[],v=[],D=[],E=-1/0,d=0;d<x;){for(var R=M[d].x,N=[];d<x;){var F=M[d];if(F.x!==R)break;d+=1,F.segment[0][0]===F.x&&F.segment[1][0]===F.x?F.create&&(F.segment[0][1]<F.segment[1][1]?(N.push(new w(F.segment[0][1],F.index,!0,!0)),N.push(new w(F.segment[1][1],F.index,!1,!1))):(N.push(new w(F.segment[1][1],F.index,!0,!1)),N.push(new w(F.segment[0][1],F.index,!1,!0)))):F.create?c=c.insert(F.segment,F.index):c=c.remove(F.segment)}A.push(c.root),v.push(R),D.push(N)}return new h(A,v,D)}},4317:function(a){"use strict";function o(f,h){var p=Math.floor(h),b=h-p,y=0<=p&&p<f.shape[0],w=0<=p+1&&p+1<f.shape[0],T=y?+f.get(p):0,m=w?+f.get(p+1):0;return(1-b)*T+b*m}function i(f,h,p){var b=Math.floor(h),y=h-b,w=0<=b&&b<f.shape[0],T=0<=b+1&&b+1<f.shape[0],m=Math.floor(p),k=p-m,S=0<=m&&m<f.shape[1],x=0<=m+1&&m+1<f.shape[1],M=w&&S?f.get(b,m):0,d=w&&x?f.get(b,m+1):0,_=T&&S?f.get(b+1,m):0,g=T&&x?f.get(b+1,m+1):0;return(1-k)*((1-y)*M+y*_)+k*((1-y)*d+y*g)}function l(f,h,p,b){var y=Math.floor(h),w=h-y,T=0<=y&&y<f.shape[0],m=0<=y+1&&y+1<f.shape[0],k=Math.floor(p),S=p-k,x=0<=k&&k<f.shape[1],M=0<=k+1&&k+1<f.shape[1],d=Math.floor(b),_=b-d,g=0<=d&&d<f.shape[2],c=0<=d+1&&d+1<f.shape[2],A=T&&x&&g?f.get(y,k,d):0,v=T&&M&&g?f.get(y,k+1,d):0,D=m&&x&&g?f.get(y+1,k,d):0,E=m&&M&&g?f.get(y+1,k+1,d):0,R=T&&x&&c?f.get(y,k,d+1):0,N=T&&M&&c?f.get(y,k+1,d+1):0,F=m&&x&&c?f.get(y+1,k,d+1):0,I=m&&M&&c?f.get(y+1,k+1,d+1):0;return(1-_)*((1-S)*((1-w)*A+w*D)+S*((1-w)*v+w*E))+_*((1-S)*((1-w)*R+w*F)+S*((1-w)*N+w*I))}function u(f){var h=f.shape.length|0,p=new Array(h),b=new Array(h),y=new Array(h),w=new Array(h),T,m;for(T=0;T<h;++T)m=+arguments[T+1],p[T]=Math.floor(m),b[T]=m-p[T],y[T]=0<=p[T]&&p[T]<f.shape[T],w[T]=0<=p[T]+1&&p[T]+1<f.shape[T];var k=0,S,x,M;e:for(T=0;T<1<<h;++T){for(x=1,M=f.offset,S=0;S<h;++S)if(T&1<<S){if(!w[S])continue e;x*=b[S],M+=f.stride[S]*(p[S]+1)}else{if(!y[S])continue e;x*=1-b[S],M+=f.stride[S]*p[S]}k+=x*f.data[M]}return k}function s(f,h,p,b){switch(f.shape.length){case 0:return 0;case 1:return o(f,h);case 2:return i(f,h,p);case 3:return l(f,h,p,b);default:return u.apply(void 0,arguments)}}a.exports=s,a.exports.d1=o,a.exports.d2=i,a.exports.d3=l},4335:function(a){a.exports=function(i,l){var u=l[15];if(u===0)return!1;for(var s=1/u,f=0;f<16;f++)i[f]=l[f]*s;return!0}},4359:function(a,o,i){"use strict";a.exports=f;var l=i(7718),u=null,s=null;typeof document!="undefined"&&(u=document.createElement("canvas"),u.width=8192,u.height=1024,s=u.getContext("2d"));function f(h,p){return(typeof p!="object"||p===null)&&(p={}),l(h,p.canvas||u,p.context||s,p)}},4361:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]+u[0],i[1]=l[1]+u[1],i[2]=l[2]+u[2],i[3]=l[3]+u[3],i}},4437:function(a,o,i){"use strict";a.exports=b;var l=i(3025),u=i(6296),s=i(351),f=i(8512),h=i(24),p=i(7520);function b(y,w){y=y||document.body,w=w||{};var T=[.01,1/0];"distanceLimits"in w&&(T[0]=w.distanceLimits[0],T[1]=w.distanceLimits[1]),"zoomMin"in w&&(T[0]=w.zoomMin),"zoomMax"in w&&(T[1]=w.zoomMax);var m=u({center:w.center||[0,0,0],up:w.up||[0,1,0],eye:w.eye||[0,0,10],mode:w.mode||"orbit",distanceLimits:T}),k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S=0,x=y.clientWidth,M=y.clientHeight,d={keyBindingMode:"rotate",enableWheel:!0,view:m,element:y,delay:w.delay||16,rotateSpeed:w.rotateSpeed||1,zoomSpeed:w.zoomSpeed||1,translateSpeed:w.translateSpeed||1,flipX:!!w.flipX,flipY:!!w.flipY,modes:m.modes,_ortho:w._ortho||w.projection&&w.projection.type==="orthographic"||!1,tick:function(){var _=l(),g=this.delay,c=_-2*g;m.idle(_-g),m.recalcMatrix(c),m.flush(_-(100+g*2));for(var A=!0,v=m.computedMatrix,D=0;D<16;++D)A=A&&k[D]===v[D],k[D]=v[D];var E=y.clientWidth===x&&y.clientHeight===M;return x=y.clientWidth,M=y.clientHeight,A?!E:(S=Math.exp(m.computedRadius[0]),!0)},lookAt:function(_,g,c){m.lookAt(m.lastT(),_,g,c)},rotate:function(_,g,c){m.rotate(m.lastT(),_,g,c)},pan:function(_,g,c){m.pan(m.lastT(),_,g,c)},translate:function(_,g,c){m.translate(m.lastT(),_,g,c)}};return Object.defineProperties(d,{matrix:{get:function(){return m.computedMatrix},set:function(_){return m.setMatrix(m.lastT(),_),m.computedMatrix},enumerable:!0},mode:{get:function(){return m.getMode()},set:function(_){var g=m.computedUp.slice(),c=m.computedEye.slice(),A=m.computedCenter.slice();if(m.setMode(_),_==="turntable"){var v=l();m._active.lookAt(v,c,A,g),m._active.lookAt(v+500,c,A,[0,0,1]),m._active.flush(v)}return m.getMode()},enumerable:!0},center:{get:function(){return m.computedCenter},set:function(_){return m.lookAt(m.lastT(),null,_),m.computedCenter},enumerable:!0},eye:{get:function(){return m.computedEye},set:function(_){return m.lookAt(m.lastT(),_),m.computedEye},enumerable:!0},up:{get:function(){return m.computedUp},set:function(_){return m.lookAt(m.lastT(),null,null,_),m.computedUp},enumerable:!0},distance:{get:function(){return S},set:function(_){return m.setDistance(m.lastT(),_),_},enumerable:!0},distanceLimits:{get:function(){return m.getDistanceLimits(T)},set:function(_){return m.setDistanceLimits(_),_},enumerable:!0}}),y.addEventListener("contextmenu",function(_){return _.preventDefault(),!1}),d._lastX=-1,d._lastY=-1,d._lastMods={shift:!1,control:!1,alt:!1,meta:!1},d.enableMouseListeners=function(){d.mouseListener=s(y,_),y.addEventListener("touchstart",function(g){var c=h(g.changedTouches[0],y);_(0,c[0],c[1],d._lastMods),_(1,c[0],c[1],d._lastMods)},p?{passive:!0}:!1),y.addEventListener("touchmove",function(g){var c=h(g.changedTouches[0],y);_(1,c[0],c[1],d._lastMods),g.preventDefault()},p?{passive:!1}:!1),y.addEventListener("touchend",function(g){_(0,d._lastX,d._lastY,d._lastMods)},p?{passive:!0}:!1);function _(g,c,A,v){var D=d.keyBindingMode;if(D!==!1){var E=D==="rotate",R=D==="pan",N=D==="zoom",F=!!v.control,I=!!v.alt,L=!!v.shift,P=!!(g&1),O=!!(g&2),U=!!(g&4),X=1/y.clientHeight,$=X*(c-d._lastX),j=X*(A-d._lastY),Y=d.flipX?1:-1,q=d.flipY?1:-1,Q=Math.PI*d.rotateSpeed,ae=l();if(d._lastX!==-1&&d._lastY!==-1&&((E&&P&&!F&&!I&&!L||P&&!F&&!I&&L)&&m.rotate(ae,Y*Q*$,-q*Q*j,0),(R&&P&&!F&&!I&&!L||O||P&&F&&!I&&!L)&&m.pan(ae,-d.translateSpeed*$*S,d.translateSpeed*j*S,0),N&&P&&!F&&!I&&!L||U||P&&!F&&I&&!L)){var K=-d.zoomSpeed*j/window.innerHeight*(ae-m.lastT())*100;m.pan(ae,0,0,S*(Math.exp(K)-1))}return d._lastX=c,d._lastY=A,d._lastMods=v,!0}}d.wheelListener=f(y,function(g,c){if(d.keyBindingMode!==!1&&d.enableWheel){var A=d.flipX?1:-1,v=d.flipY?1:-1,D=l();if(Math.abs(g)>Math.abs(c))m.rotate(D,0,0,-g*A*Math.PI*d.rotateSpeed/window.innerWidth);else if(!d._ortho){var E=-d.zoomSpeed*v*c/window.innerHeight*(D-m.lastT())/20;m.pan(D,0,0,S*(Math.exp(E)-1))}}},!0)},d.enableMouseListeners(),d}},4449:function(a,o,i){"use strict";var l=i(2762),u=i(8116),s=i(1493);a.exports=T;var f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function h(m,k,S,x){this.gl=m,this.buffer=k,this.vao=S,this.shader=x,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var p=h.prototype,b=[0,0,0],y=[0,0,0],w=[0,0];p.isTransparent=function(){return!1},p.drawTransparent=function(m){},p.draw=function(m){var k=this.gl,S=this.vao,x=this.shader;S.bind(),x.bind();var M=m.model||f,d=m.view||f,_=m.projection||f,g;this.axes&&(g=this.axes.lastCubeProps.axis);for(var c=b,A=y,v=0;v<3;++v)g&&g[v]<0?(c[v]=this.bounds[0][v],A[v]=this.bounds[1][v]):(c[v]=this.bounds[1][v],A[v]=this.bounds[0][v]);w[0]=k.drawingBufferWidth,w[1]=k.drawingBufferHeight,x.uniforms.model=M,x.uniforms.view=d,x.uniforms.projection=_,x.uniforms.coordinates=[this.position,c,A],x.uniforms.colors=this.colors,x.uniforms.screenShape=w;for(var v=0;v<3;++v)x.uniforms.lineWidth=this.lineWidth[v]*this.pixelRatio,this.enabled[v]&&(S.draw(k.TRIANGLES,6,6*v),this.drawSides[v]&&S.draw(k.TRIANGLES,12,18+12*v));S.unbind()},p.update=function(m){m&&("bounds"in m&&(this.bounds=m.bounds),"position"in m&&(this.position=m.position),"lineWidth"in m&&(this.lineWidth=m.lineWidth),"colors"in m&&(this.colors=m.colors),"enabled"in m&&(this.enabled=m.enabled),"drawSides"in m&&(this.drawSides=m.drawSides))},p.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function T(m,k){var S=[];function x(c,A,v,D,E,R){var N=[c,A,v,0,0,0,1];N[D+3]=1,N[D]=E,S.push.apply(S,N),N[6]=-1,S.push.apply(S,N),N[D]=R,S.push.apply(S,N),S.push.apply(S,N),N[6]=1,S.push.apply(S,N),N[D]=E,S.push.apply(S,N)}x(0,0,0,0,0,1),x(0,0,0,1,0,1),x(0,0,0,2,0,1),x(1,0,0,1,-1,1),x(1,0,0,2,-1,1),x(0,1,0,0,-1,1),x(0,1,0,2,-1,1),x(0,0,1,0,-1,1),x(0,0,1,1,-1,1);var M=l(m,S),d=u(m,[{type:m.FLOAT,buffer:M,size:3,offset:0,stride:28},{type:m.FLOAT,buffer:M,size:3,offset:12,stride:28},{type:m.FLOAT,buffer:M,size:1,offset:24,stride:28}]),_=s(m);_.attributes.position.location=0,_.attributes.color.location=1,_.attributes.weight.location=2;var g=new h(m,M,d,_);return g.update(k),g}},4494:function(a){a.exports=o;function o(i,l){return i[0]=1/l[0],i[1]=1/l[1],i[2]=1/l[2],i[3]=1/l[3],i}},4505:function(a,o,i){a.exports=i(5847)},4578:function(a){a.exports=o;function o(i,l,u,s,f){return i[0]=l,i[1]=u,i[2]=s,i[3]=f,i}},4623:function(a){"use strict";"use restrict";a.exports=o;function o(i){this.roots=new Array(i),this.ranks=new Array(i);for(var l=0;l<i;++l)this.roots[l]=l,this.ranks[l]=0}o.prototype.length=function(){return this.roots.length},o.prototype.makeSet=function(){var i=this.roots.length;return this.roots.push(i),this.ranks.push(0),i},o.prototype.find=function(i){for(var l=this.roots;l[i]!==i;){var u=l[i];l[i]=l[u],i=u}return i},o.prototype.link=function(i,l){var u=this.find(i),s=this.find(l);if(u!==s){var f=this.ranks,h=this.roots,p=f[u],b=f[s];p<b?h[u]=s:b<p?h[s]=u:(h[s]=u,++f[u])}}},4687:function(a,o){"use strict";function i(f){if(typeof f=="object"){if("buttons"in f)return f.buttons;if("which"in f){var h=f.which;if(h===2)return 4;if(h===3)return 2;if(h>0)return 1<<h-1}else if("button"in f){var h=f.button;if(h===1)return 4;if(h===2)return 2;if(h>=0)return 1<<h}}return 0}o.buttons=i;function l(f){return f.target||f.srcElement||window}o.element=l;function u(f){if(typeof f=="object"){if("offsetX"in f)return f.offsetX;var h=l(f),p=h.getBoundingClientRect();return f.clientX-p.left}return 0}o.x=u;function s(f){if(typeof f=="object"){if("offsetY"in f)return f.offsetY;var h=l(f),p=h.getBoundingClientRect();return f.clientY-p.top}return 0}o.y=s},4691:function(a){a.exports=o;function o(i,l){var u=l[0]-i[0],s=l[1]-i[1],f=l[2]-i[2],h=l[3]-i[3];return Math.sqrt(u*u+s*s+f*f+h*h)}},4750:function(a,o,i){"use strict";a.exports=u;var l=i(3090);function u(s){var f=l(s),h=f.length;if(h<=2)return[];for(var p=new Array(h),b=f[h-1],y=0;y<h;++y){var w=f[y];p[y]=[b,w],b=w}return p}},4769:function(a){"use strict";function o(l,u,s,f,h,p){var b=6*h*h-6*h,y=3*h*h-4*h+1,w=-6*h*h+6*h,T=3*h*h-2*h;if(l.length){p||(p=new Array(l.length));for(var m=l.length-1;m>=0;--m)p[m]=b*l[m]+y*u[m]+w*s[m]+T*f[m];return p}return b*l+y*u+w*s[m]+T*f}function i(l,u,s,f,h,p){var b=h-1,y=h*h,w=b*b,T=(1+2*h)*w,m=h*w,k=y*(3-2*h),S=y*b;if(l.length){p||(p=new Array(l.length));for(var x=l.length-1;x>=0;--x)p[x]=T*l[x]+m*u[x]+k*s[x]+S*f[x];return p}return T*l+m*u+k*s+S*f}a.exports=i,a.exports.derivative=o},4772:function(a){a.exports=o;function o(i,l,u,s,f){var h=1/Math.tan(l/2),p=1/(s-f);return i[0]=h/u,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=h,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=(f+s)*p,i[11]=-1,i[12]=0,i[13]=0,i[14]=2*f*s*p,i[15]=0,i}},4793:function(a,o,i){"use strict";var l;function u(ue,J){if(!(ue instanceof J))throw new TypeError("Cannot call a class as a function")}function s(ue,J){for(var ne=0;ne<J.length;ne++){var De=J[ne];De.enumerable=De.enumerable||!1,De.configurable=!0,"value"in De&&(De.writable=!0),Object.defineProperty(ue,h(De.key),De)}}function f(ue,J,ne){return J&&s(ue.prototype,J),ne&&s(ue,ne),Object.defineProperty(ue,"prototype",{writable:!1}),ue}function h(ue){var J=p(ue,"string");return x(J)=="symbol"?J:J+""}function p(ue,J){if(x(ue)!="object"||!ue)return ue;var ne=ue[Symbol.toPrimitive];if(ne!==void 0){var De=ne.call(ue,J||"default");if(x(De)!="object")return De;throw new TypeError("@@toPrimitive must return a primitive value.")}return(J==="string"?String:Number)(ue)}function b(ue,J,ne){return J=m(J),y(ue,T()?Reflect.construct(J,ne||[],m(ue).constructor):J.apply(ue,ne))}function y(ue,J){if(J&&(x(J)=="object"||typeof J=="function"))return J;if(J!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(ue)}function w(ue){if(ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ue}function T(){try{var ue=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(J){}return(T=function(){return!!ue})()}function m(ue){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(J){return J.__proto__||Object.getPrototypeOf(J)},m(ue)}function k(ue,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");ue.prototype=Object.create(J&&J.prototype,{constructor:{value:ue,writable:!0,configurable:!0}}),Object.defineProperty(ue,"prototype",{writable:!1}),J&&S(ue,J)}function S(ue,J){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ne,De){return ne.__proto__=De,ne},S(ue,J)}function x(ue){"@babel/helpers - typeof";return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},x(ue)}var M=i(7507),d=i(3778),_=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;o.hp=v,l=X,o.IS=50;var g=2147483647;l=g,v.TYPED_ARRAY_SUPPORT=c(),!v.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{var ue=new Uint8Array(1),J={foo:function(){return 42}};return Object.setPrototypeOf(J,Uint8Array.prototype),Object.setPrototypeOf(ue,J),ue.foo()===42}catch(ne){return!1}}Object.defineProperty(v.prototype,"parent",{enumerable:!0,get:function(){if(v.isBuffer(this))return this.buffer}}),Object.defineProperty(v.prototype,"offset",{enumerable:!0,get:function(){if(v.isBuffer(this))return this.byteOffset}});function A(ue){if(ue>g)throw new RangeError('The value "'+ue+'" is invalid for option "size"');var J=new Uint8Array(ue);return Object.setPrototypeOf(J,v.prototype),J}function v(ue,J,ne){if(typeof ue=="number"){if(typeof J=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return N(ue)}return D(ue,J,ne)}v.poolSize=8192;function D(ue,J,ne){if(typeof ue=="string")return F(ue,J);if(ArrayBuffer.isView(ue))return L(ue);if(ue==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+x(ue));if(Te(ue,ArrayBuffer)||ue&&Te(ue.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Te(ue,SharedArrayBuffer)||ue&&Te(ue.buffer,SharedArrayBuffer)))return P(ue,J,ne);if(typeof ue=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var De=ue.valueOf&&ue.valueOf();if(De!=null&&De!==ue)return v.from(De,J,ne);var He=O(ue);if(He)return He;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof ue[Symbol.toPrimitive]=="function")return v.from(ue[Symbol.toPrimitive]("string"),J,ne);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+x(ue))}v.from=function(ue,J,ne){return D(ue,J,ne)},Object.setPrototypeOf(v.prototype,Uint8Array.prototype),Object.setPrototypeOf(v,Uint8Array);function E(ue){if(typeof ue!="number")throw new TypeError('"size" argument must be of type number');if(ue<0)throw new RangeError('The value "'+ue+'" is invalid for option "size"')}function R(ue,J,ne){return E(ue),ue<=0?A(ue):J!==void 0?typeof ne=="string"?A(ue).fill(J,ne):A(ue).fill(J):A(ue)}v.alloc=function(ue,J,ne){return R(ue,J,ne)};function N(ue){return E(ue),A(ue<0?0:U(ue)|0)}v.allocUnsafe=function(ue){return N(ue)},v.allocUnsafeSlow=function(ue){return N(ue)};function F(ue,J){if((typeof J!="string"||J==="")&&(J="utf8"),!v.isEncoding(J))throw new TypeError("Unknown encoding: "+J);var ne=$(ue,J)|0,De=A(ne),He=De.write(ue,J);return He!==ne&&(De=De.slice(0,He)),De}function I(ue){for(var J=ue.length<0?0:U(ue.length)|0,ne=A(J),De=0;De<J;De+=1)ne[De]=ue[De]&255;return ne}function L(ue){if(Te(ue,Uint8Array)){var J=new Uint8Array(ue);return P(J.buffer,J.byteOffset,J.byteLength)}return I(ue)}function P(ue,J,ne){if(J<0||ue.byteLength<J)throw new RangeError('"offset" is outside of buffer bounds');if(ue.byteLength<J+(ne||0))throw new RangeError('"length" is outside of buffer bounds');var De;return J===void 0&&ne===void 0?De=new Uint8Array(ue):ne===void 0?De=new Uint8Array(ue,J):De=new Uint8Array(ue,J,ne),Object.setPrototypeOf(De,v.prototype),De}function O(ue){if(v.isBuffer(ue)){var J=U(ue.length)|0,ne=A(J);return ne.length===0||ue.copy(ne,0,0,J),ne}if(ue.length!==void 0)return typeof ue.length!="number"||Re(ue.length)?A(0):I(ue);if(ue.type==="Buffer"&&Array.isArray(ue.data))return I(ue.data)}function U(ue){if(ue>=g)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g.toString(16)+" bytes");return ue|0}function X(ue){return+ue!=ue&&(ue=0),v.alloc(+ue)}v.isBuffer=function(J){return J!=null&&J._isBuffer===!0&&J!==v.prototype},v.compare=function(J,ne){if(Te(J,Uint8Array)&&(J=v.from(J,J.offset,J.byteLength)),Te(ne,Uint8Array)&&(ne=v.from(ne,ne.offset,ne.byteLength)),!v.isBuffer(J)||!v.isBuffer(ne))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(J===ne)return 0;for(var De=J.length,He=ne.length,er=0,nr=Math.min(De,He);er<nr;++er)if(J[er]!==ne[er]){De=J[er],He=ne[er];break}return De<He?-1:He<De?1:0},v.isEncoding=function(J){switch(String(J).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},v.concat=function(J,ne){if(!Array.isArray(J))throw new TypeError('"list" argument must be an Array of Buffers');if(J.length===0)return v.alloc(0);var De;if(ne===void 0)for(ne=0,De=0;De<J.length;++De)ne+=J[De].length;var He=v.allocUnsafe(ne),er=0;for(De=0;De<J.length;++De){var nr=J[De];if(Te(nr,Uint8Array))er+nr.length>He.length?(v.isBuffer(nr)||(nr=v.from(nr)),nr.copy(He,er)):Uint8Array.prototype.set.call(He,nr,er);else if(v.isBuffer(nr))nr.copy(He,er);else throw new TypeError('"list" argument must be an Array of Buffers');er+=nr.length}return He};function $(ue,J){if(v.isBuffer(ue))return ue.length;if(ArrayBuffer.isView(ue)||Te(ue,ArrayBuffer))return ue.byteLength;if(typeof ue!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+x(ue));var ne=ue.length,De=arguments.length>2&&arguments[2]===!0;if(!De&&ne===0)return 0;for(var He=!1;;)switch(J){case"ascii":case"latin1":case"binary":return ne;case"utf8":case"utf-8":return Ne(ue).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne*2;case"hex":return ne>>>1;case"base64":return Be(ue).length;default:if(He)return De?-1:Ne(ue).length;J=(""+J).toLowerCase(),He=!0}}v.byteLength=$;function j(ue,J,ne){var De=!1;if((J===void 0||J<0)&&(J=0),J>this.length||((ne===void 0||ne>this.length)&&(ne=this.length),ne<=0)||(ne>>>=0,J>>>=0,ne<=J))return"";for(ue||(ue="utf8");;)switch(ue){case"hex":return we(this,J,ne);case"utf8":case"utf-8":return H(this,J,ne);case"ascii":return ve(this,J,ne);case"latin1":case"binary":return Ae(this,J,ne);case"base64":return ee(this,J,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,J,ne);default:if(De)throw new TypeError("Unknown encoding: "+ue);ue=(ue+"").toLowerCase(),De=!0}}v.prototype._isBuffer=!0;function Y(ue,J,ne){var De=ue[J];ue[J]=ue[ne],ue[ne]=De}v.prototype.swap16=function(){var J=this.length;if(J%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ne=0;ne<J;ne+=2)Y(this,ne,ne+1);return this},v.prototype.swap32=function(){var J=this.length;if(J%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ne=0;ne<J;ne+=4)Y(this,ne,ne+3),Y(this,ne+1,ne+2);return this},v.prototype.swap64=function(){var J=this.length;if(J%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ne=0;ne<J;ne+=8)Y(this,ne,ne+7),Y(this,ne+1,ne+6),Y(this,ne+2,ne+5),Y(this,ne+3,ne+4);return this},v.prototype.toString=function(){var J=this.length;return J===0?"":arguments.length===0?H(this,0,J):j.apply(this,arguments)},v.prototype.toLocaleString=v.prototype.toString,v.prototype.equals=function(J){if(!v.isBuffer(J))throw new TypeError("Argument must be a Buffer");return this===J?!0:v.compare(this,J)===0},v.prototype.inspect=function(){var J="",ne=o.IS;return J=this.toString("hex",0,ne).replace(/(.{2})/g,"$1 ").trim(),this.length>ne&&(J+=" ... "),"<Buffer "+J+">"},_&&(v.prototype[_]=v.prototype.inspect),v.prototype.compare=function(J,ne,De,He,er){if(Te(J,Uint8Array)&&(J=v.from(J,J.offset,J.byteLength)),!v.isBuffer(J))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+x(J));if(ne===void 0&&(ne=0),De===void 0&&(De=J?J.length:0),He===void 0&&(He=0),er===void 0&&(er=this.length),ne<0||De>J.length||He<0||er>this.length)throw new RangeError("out of range index");if(He>=er&&ne>=De)return 0;if(He>=er)return-1;if(ne>=De)return 1;if(ne>>>=0,De>>>=0,He>>>=0,er>>>=0,this===J)return 0;for(var nr=er-He,fr=De-ne,br=Math.min(nr,fr),Sr=this.slice(He,er),Mr=J.slice(ne,De),Ar=0;Ar<br;++Ar)if(Sr[Ar]!==Mr[Ar]){nr=Sr[Ar],fr=Mr[Ar];break}return nr<fr?-1:fr<nr?1:0};function q(ue,J,ne,De,He){if(ue.length===0)return-1;if(typeof ne=="string"?(De=ne,ne=0):ne>2147483647?ne=2147483647:ne<-2147483648&&(ne=-2147483648),ne=+ne,Re(ne)&&(ne=He?0:ue.length-1),ne<0&&(ne=ue.length+ne),ne>=ue.length){if(He)return-1;ne=ue.length-1}else if(ne<0)if(He)ne=0;else return-1;if(typeof J=="string"&&(J=v.from(J,De)),v.isBuffer(J))return J.length===0?-1:Q(ue,J,ne,De,He);if(typeof J=="number")return J=J&255,typeof Uint8Array.prototype.indexOf=="function"?He?Uint8Array.prototype.indexOf.call(ue,J,ne):Uint8Array.prototype.lastIndexOf.call(ue,J,ne):Q(ue,[J],ne,De,He);throw new TypeError("val must be string, number or Buffer")}function Q(ue,J,ne,De,He){var er=1,nr=ue.length,fr=J.length;if(De!==void 0&&(De=String(De).toLowerCase(),De==="ucs2"||De==="ucs-2"||De==="utf16le"||De==="utf-16le")){if(ue.length<2||J.length<2)return-1;er=2,nr/=2,fr/=2,ne/=2}function br(sr,Pr){return er===1?sr[Pr]:sr.readUInt16BE(Pr*er)}var Sr;if(He){var Mr=-1;for(Sr=ne;Sr<nr;Sr++)if(br(ue,Sr)===br(J,Mr===-1?0:Sr-Mr)){if(Mr===-1&&(Mr=Sr),Sr-Mr+1===fr)return Mr*er}else Mr!==-1&&(Sr-=Sr-Mr),Mr=-1}else for(ne+fr>nr&&(ne=nr-fr),Sr=ne;Sr>=0;Sr--){for(var Ar=!0,ft=0;ft<fr;ft++)if(br(ue,Sr+ft)!==br(J,ft)){Ar=!1;break}if(Ar)return Sr}return-1}v.prototype.includes=function(J,ne,De){return this.indexOf(J,ne,De)!==-1},v.prototype.indexOf=function(J,ne,De){return q(this,J,ne,De,!0)},v.prototype.lastIndexOf=function(J,ne,De){return q(this,J,ne,De,!1)};function ae(ue,J,ne,De){ne=Number(ne)||0;var He=ue.length-ne;De?(De=Number(De),De>He&&(De=He)):De=He;var er=J.length;De>er/2&&(De=er/2);var nr;for(nr=0;nr<De;++nr){var fr=parseInt(J.substr(nr*2,2),16);if(Re(fr))return nr;ue[ne+nr]=fr}return nr}function K(ue,J,ne,De){return Ye(Ne(J,ue.length-ne),ue,ne,De)}function oe(ue,J,ne,De){return Ye($e(J),ue,ne,De)}function re(ue,J,ne,De){return Ye(Be(J),ue,ne,De)}function V(ue,J,ne,De){return Ye(Ve(J,ue.length-ne),ue,ne,De)}v.prototype.write=function(J,ne,De,He){if(ne===void 0)He="utf8",De=this.length,ne=0;else if(De===void 0&&typeof ne=="string")He=ne,De=this.length,ne=0;else if(isFinite(ne))ne=ne>>>0,isFinite(De)?(De=De>>>0,He===void 0&&(He="utf8")):(He=De,De=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var er=this.length-ne;if((De===void 0||De>er)&&(De=er),J.length>0&&(De<0||ne<0)||ne>this.length)throw new RangeError("Attempt to write outside buffer bounds");He||(He="utf8");for(var nr=!1;;)switch(He){case"hex":return ae(this,J,ne,De);case"utf8":case"utf-8":return K(this,J,ne,De);case"ascii":case"latin1":case"binary":return oe(this,J,ne,De);case"base64":return re(this,J,ne,De);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,J,ne,De);default:if(nr)throw new TypeError("Unknown encoding: "+He);He=(""+He).toLowerCase(),nr=!0}},v.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ee(ue,J,ne){return J===0&&ne===ue.length?M.fromByteArray(ue):M.fromByteArray(ue.slice(J,ne))}function H(ue,J,ne){ne=Math.min(ue.length,ne);for(var De=[],He=J;He<ne;){var er=ue[He],nr=null,fr=er>239?4:er>223?3:er>191?2:1;if(He+fr<=ne){var br=void 0,Sr=void 0,Mr=void 0,Ar=void 0;switch(fr){case 1:er<128&&(nr=er);break;case 2:br=ue[He+1],(br&192)===128&&(Ar=(er&31)<<6|br&63,Ar>127&&(nr=Ar));break;case 3:br=ue[He+1],Sr=ue[He+2],(br&192)===128&&(Sr&192)===128&&(Ar=(er&15)<<12|(br&63)<<6|Sr&63,Ar>2047&&(Ar<55296||Ar>57343)&&(nr=Ar));break;case 4:br=ue[He+1],Sr=ue[He+2],Mr=ue[He+3],(br&192)===128&&(Sr&192)===128&&(Mr&192)===128&&(Ar=(er&15)<<18|(br&63)<<12|(Sr&63)<<6|Mr&63,Ar>65535&&Ar<1114112&&(nr=Ar))}}nr===null?(nr=65533,fr=1):nr>65535&&(nr-=65536,De.push(nr>>>10&1023|55296),nr=56320|nr&1023),De.push(nr),He+=fr}return le(De)}var te=4096;function le(ue){var J=ue.length;if(J<=te)return String.fromCharCode.apply(String,ue);for(var ne="",De=0;De<J;)ne+=String.fromCharCode.apply(String,ue.slice(De,De+=te));return ne}function ve(ue,J,ne){var De="";ne=Math.min(ue.length,ne);for(var He=J;He<ne;++He)De+=String.fromCharCode(ue[He]&127);return De}function Ae(ue,J,ne){var De="";ne=Math.min(ue.length,ne);for(var He=J;He<ne;++He)De+=String.fromCharCode(ue[He]);return De}function we(ue,J,ne){var De=ue.length;(!J||J<0)&&(J=0),(!ne||ne<0||ne>De)&&(ne=De);for(var He="",er=J;er<ne;++er)He+=Qe[ue[er]];return He}function ce(ue,J,ne){for(var De=ue.slice(J,ne),He="",er=0;er<De.length-1;er+=2)He+=String.fromCharCode(De[er]+De[er+1]*256);return He}v.prototype.slice=function(J,ne){var De=this.length;J=~~J,ne=ne===void 0?De:~~ne,J<0?(J+=De,J<0&&(J=0)):J>De&&(J=De),ne<0?(ne+=De,ne<0&&(ne=0)):ne>De&&(ne=De),ne<J&&(ne=J);var He=this.subarray(J,ne);return Object.setPrototypeOf(He,v.prototype),He};function Se(ue,J,ne){if(ue%1!==0||ue<0)throw new RangeError("offset is not uint");if(ue+J>ne)throw new RangeError("Trying to access beyond buffer length")}v.prototype.readUintLE=v.prototype.readUIntLE=function(J,ne,De){J=J>>>0,ne=ne>>>0,De||Se(J,ne,this.length);for(var He=this[J],er=1,nr=0;++nr<ne&&(er*=256);)He+=this[J+nr]*er;return He},v.prototype.readUintBE=v.prototype.readUIntBE=function(J,ne,De){J=J>>>0,ne=ne>>>0,De||Se(J,ne,this.length);for(var He=this[J+--ne],er=1;ne>0&&(er*=256);)He+=this[J+--ne]*er;return He},v.prototype.readUint8=v.prototype.readUInt8=function(J,ne){return J=J>>>0,ne||Se(J,1,this.length),this[J]},v.prototype.readUint16LE=v.prototype.readUInt16LE=function(J,ne){return J=J>>>0,ne||Se(J,2,this.length),this[J]|this[J+1]<<8},v.prototype.readUint16BE=v.prototype.readUInt16BE=function(J,ne){return J=J>>>0,ne||Se(J,2,this.length),this[J]<<8|this[J+1]},v.prototype.readUint32LE=v.prototype.readUInt32LE=function(J,ne){return J=J>>>0,ne||Se(J,4,this.length),(this[J]|this[J+1]<<8|this[J+2]<<16)+this[J+3]*16777216},v.prototype.readUint32BE=v.prototype.readUInt32BE=function(J,ne){return J=J>>>0,ne||Se(J,4,this.length),this[J]*16777216+(this[J+1]<<16|this[J+2]<<8|this[J+3])},v.prototype.readBigUInt64LE=Ke(function(J){J=J>>>0,he(J,"offset");var ne=this[J],De=this[J+7];(ne===void 0||De===void 0)&&xe(J,this.length-8);var He=ne+this[++J]*Math.pow(2,8)+this[++J]*Math.pow(2,16)+this[++J]*Math.pow(2,24),er=this[++J]+this[++J]*Math.pow(2,8)+this[++J]*Math.pow(2,16)+De*Math.pow(2,24);return BigInt(He)+(BigInt(er)<<BigInt(32))}),v.prototype.readBigUInt64BE=Ke(function(J){J=J>>>0,he(J,"offset");var ne=this[J],De=this[J+7];(ne===void 0||De===void 0)&&xe(J,this.length-8);var He=ne*Math.pow(2,24)+this[++J]*Math.pow(2,16)+this[++J]*Math.pow(2,8)+this[++J],er=this[++J]*Math.pow(2,24)+this[++J]*Math.pow(2,16)+this[++J]*Math.pow(2,8)+De;return(BigInt(He)<<BigInt(32))+BigInt(er)}),v.prototype.readIntLE=function(J,ne,De){J=J>>>0,ne=ne>>>0,De||Se(J,ne,this.length);for(var He=this[J],er=1,nr=0;++nr<ne&&(er*=256);)He+=this[J+nr]*er;return er*=128,He>=er&&(He-=Math.pow(2,8*ne)),He},v.prototype.readIntBE=function(J,ne,De){J=J>>>0,ne=ne>>>0,De||Se(J,ne,this.length);for(var He=ne,er=1,nr=this[J+--He];He>0&&(er*=256);)nr+=this[J+--He]*er;return er*=128,nr>=er&&(nr-=Math.pow(2,8*ne)),nr},v.prototype.readInt8=function(J,ne){return J=J>>>0,ne||Se(J,1,this.length),this[J]&128?(255-this[J]+1)*-1:this[J]},v.prototype.readInt16LE=function(J,ne){J=J>>>0,ne||Se(J,2,this.length);var De=this[J]|this[J+1]<<8;return De&32768?De|4294901760:De},v.prototype.readInt16BE=function(J,ne){J=J>>>0,ne||Se(J,2,this.length);var De=this[J+1]|this[J]<<8;return De&32768?De|4294901760:De},v.prototype.readInt32LE=function(J,ne){return J=J>>>0,ne||Se(J,4,this.length),this[J]|this[J+1]<<8|this[J+2]<<16|this[J+3]<<24},v.prototype.readInt32BE=function(J,ne){return J=J>>>0,ne||Se(J,4,this.length),this[J]<<24|this[J+1]<<16|this[J+2]<<8|this[J+3]},v.prototype.readBigInt64LE=Ke(function(J){J=J>>>0,he(J,"offset");var ne=this[J],De=this[J+7];(ne===void 0||De===void 0)&&xe(J,this.length-8);var He=this[J+4]+this[J+5]*Math.pow(2,8)+this[J+6]*Math.pow(2,16)+(De<<24);return(BigInt(He)<<BigInt(32))+BigInt(ne+this[++J]*Math.pow(2,8)+this[++J]*Math.pow(2,16)+this[++J]*Math.pow(2,24))}),v.prototype.readBigInt64BE=Ke(function(J){J=J>>>0,he(J,"offset");var ne=this[J],De=this[J+7];(ne===void 0||De===void 0)&&xe(J,this.length-8);var He=(ne<<24)+this[++J]*Math.pow(2,16)+this[++J]*Math.pow(2,8)+this[++J];return(BigInt(He)<<BigInt(32))+BigInt(this[++J]*Math.pow(2,24)+this[++J]*Math.pow(2,16)+this[++J]*Math.pow(2,8)+De)}),v.prototype.readFloatLE=function(J,ne){return J=J>>>0,ne||Se(J,4,this.length),d.read(this,J,!0,23,4)},v.prototype.readFloatBE=function(J,ne){return J=J>>>0,ne||Se(J,4,this.length),d.read(this,J,!1,23,4)},v.prototype.readDoubleLE=function(J,ne){return J=J>>>0,ne||Se(J,8,this.length),d.read(this,J,!0,52,8)},v.prototype.readDoubleBE=function(J,ne){return J=J>>>0,ne||Se(J,8,this.length),d.read(this,J,!1,52,8)};function Ce(ue,J,ne,De,He,er){if(!v.isBuffer(ue))throw new TypeError('"buffer" argument must be a Buffer instance');if(J>He||J<er)throw new RangeError('"value" argument is out of bounds');if(ne+De>ue.length)throw new RangeError("Index out of range")}v.prototype.writeUintLE=v.prototype.writeUIntLE=function(J,ne,De,He){if(J=+J,ne=ne>>>0,De=De>>>0,!He){var er=Math.pow(2,8*De)-1;Ce(this,J,ne,De,er,0)}var nr=1,fr=0;for(this[ne]=J&255;++fr<De&&(nr*=256);)this[ne+fr]=J/nr&255;return ne+De},v.prototype.writeUintBE=v.prototype.writeUIntBE=function(J,ne,De,He){if(J=+J,ne=ne>>>0,De=De>>>0,!He){var er=Math.pow(2,8*De)-1;Ce(this,J,ne,De,er,0)}var nr=De-1,fr=1;for(this[ne+nr]=J&255;--nr>=0&&(fr*=256);)this[ne+nr]=J/fr&255;return ne+De},v.prototype.writeUint8=v.prototype.writeUInt8=function(J,ne,De){return J=+J,ne=ne>>>0,De||Ce(this,J,ne,1,255,0),this[ne]=J&255,ne+1},v.prototype.writeUint16LE=v.prototype.writeUInt16LE=function(J,ne,De){return J=+J,ne=ne>>>0,De||Ce(this,J,ne,2,65535,0),this[ne]=J&255,this[ne+1]=J>>>8,ne+2},v.prototype.writeUint16BE=v.prototype.writeUInt16BE=function(J,ne,De){return J=+J,ne=ne>>>0,De||Ce(this,J,ne,2,65535,0),this[ne]=J>>>8,this[ne+1]=J&255,ne+2},v.prototype.writeUint32LE=v.prototype.writeUInt32LE=function(J,ne,De){return J=+J,ne=ne>>>0,De||Ce(this,J,ne,4,4294967295,0),this[ne+3]=J>>>24,this[ne+2]=J>>>16,this[ne+1]=J>>>8,this[ne]=J&255,ne+4},v.prototype.writeUint32BE=v.prototype.writeUInt32BE=function(J,ne,De){return J=+J,ne=ne>>>0,De||Ce(this,J,ne,4,4294967295,0),this[ne]=J>>>24,this[ne+1]=J>>>16,this[ne+2]=J>>>8,this[ne+3]=J&255,ne+4};function Fe(ue,J,ne,De,He){pe(J,De,He,ue,ne,7);var er=Number(J&BigInt(4294967295));ue[ne++]=er,er=er>>8,ue[ne++]=er,er=er>>8,ue[ne++]=er,er=er>>8,ue[ne++]=er;var nr=Number(J>>BigInt(32)&BigInt(4294967295));return ue[ne++]=nr,nr=nr>>8,ue[ne++]=nr,nr=nr>>8,ue[ne++]=nr,nr=nr>>8,ue[ne++]=nr,ne}function Ee(ue,J,ne,De,He){pe(J,De,He,ue,ne,7);var er=Number(J&BigInt(4294967295));ue[ne+7]=er,er=er>>8,ue[ne+6]=er,er=er>>8,ue[ne+5]=er,er=er>>8,ue[ne+4]=er;var nr=Number(J>>BigInt(32)&BigInt(4294967295));return ue[ne+3]=nr,nr=nr>>8,ue[ne+2]=nr,nr=nr>>8,ue[ne+1]=nr,nr=nr>>8,ue[ne]=nr,ne+8}v.prototype.writeBigUInt64LE=Ke(function(J){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Fe(this,J,ne,BigInt(0),BigInt("0xffffffffffffffff"))}),v.prototype.writeBigUInt64BE=Ke(function(J){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ee(this,J,ne,BigInt(0),BigInt("0xffffffffffffffff"))}),v.prototype.writeIntLE=function(J,ne,De,He){if(J=+J,ne=ne>>>0,!He){var er=Math.pow(2,8*De-1);Ce(this,J,ne,De,er-1,-er)}var nr=0,fr=1,br=0;for(this[ne]=J&255;++nr<De&&(fr*=256);)J<0&&br===0&&this[ne+nr-1]!==0&&(br=1),this[ne+nr]=(J/fr>>0)-br&255;return ne+De},v.prototype.writeIntBE=function(J,ne,De,He){if(J=+J,ne=ne>>>0,!He){var er=Math.pow(2,8*De-1);Ce(this,J,ne,De,er-1,-er)}var nr=De-1,fr=1,br=0;for(this[ne+nr]=J&255;--nr>=0&&(fr*=256);)J<0&&br===0&&this[ne+nr+1]!==0&&(br=1),this[ne+nr]=(J/fr>>0)-br&255;return ne+De},v.prototype.writeInt8=function(J,ne,De){return J=+J,ne=ne>>>0,De||Ce(this,J,ne,1,127,-128),J<0&&(J=255+J+1),this[ne]=J&255,ne+1},v.prototype.writeInt16LE=function(J,ne,De){return J=+J,ne=ne>>>0,De||Ce(this,J,ne,2,32767,-32768),this[ne]=J&255,this[ne+1]=J>>>8,ne+2},v.prototype.writeInt16BE=function(J,ne,De){return J=+J,ne=ne>>>0,De||Ce(this,J,ne,2,32767,-32768),this[ne]=J>>>8,this[ne+1]=J&255,ne+2},v.prototype.writeInt32LE=function(J,ne,De){return J=+J,ne=ne>>>0,De||Ce(this,J,ne,4,2147483647,-2147483648),this[ne]=J&255,this[ne+1]=J>>>8,this[ne+2]=J>>>16,this[ne+3]=J>>>24,ne+4},v.prototype.writeInt32BE=function(J,ne,De){return J=+J,ne=ne>>>0,De||Ce(this,J,ne,4,2147483647,-2147483648),J<0&&(J=4294967295+J+1),this[ne]=J>>>24,this[ne+1]=J>>>16,this[ne+2]=J>>>8,this[ne+3]=J&255,ne+4},v.prototype.writeBigInt64LE=Ke(function(J){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Fe(this,J,ne,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),v.prototype.writeBigInt64BE=Ke(function(J){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ee(this,J,ne,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ze(ue,J,ne,De,He,er){if(ne+De>ue.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("Index out of range")}function Ue(ue,J,ne,De,He){return J=+J,ne=ne>>>0,He||ze(ue,J,ne,4,34028234663852886e22,-34028234663852886e22),d.write(ue,J,ne,De,23,4),ne+4}v.prototype.writeFloatLE=function(J,ne,De){return Ue(this,J,ne,!0,De)},v.prototype.writeFloatBE=function(J,ne,De){return Ue(this,J,ne,!1,De)};function ge(ue,J,ne,De,He){return J=+J,ne=ne>>>0,He||ze(ue,J,ne,8,17976931348623157e292,-17976931348623157e292),d.write(ue,J,ne,De,52,8),ne+8}v.prototype.writeDoubleLE=function(J,ne,De){return ge(this,J,ne,!0,De)},v.prototype.writeDoubleBE=function(J,ne,De){return ge(this,J,ne,!1,De)},v.prototype.copy=function(J,ne,De,He){if(!v.isBuffer(J))throw new TypeError("argument should be a Buffer");if(De||(De=0),!He&&He!==0&&(He=this.length),ne>=J.length&&(ne=J.length),ne||(ne=0),He>0&&He<De&&(He=De),He===De||J.length===0||this.length===0)return 0;if(ne<0)throw new RangeError("targetStart out of bounds");if(De<0||De>=this.length)throw new RangeError("Index out of range");if(He<0)throw new RangeError("sourceEnd out of bounds");He>this.length&&(He=this.length),J.length-ne<He-De&&(He=J.length-ne+De);var er=He-De;return this===J&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ne,De,He):Uint8Array.prototype.set.call(J,this.subarray(De,He),ne),er},v.prototype.fill=function(J,ne,De,He){if(typeof J=="string"){if(typeof ne=="string"?(He=ne,ne=0,De=this.length):typeof De=="string"&&(He=De,De=this.length),He!==void 0&&typeof He!="string")throw new TypeError("encoding must be a string");if(typeof He=="string"&&!v.isEncoding(He))throw new TypeError("Unknown encoding: "+He);if(J.length===1){var er=J.charCodeAt(0);(He==="utf8"&&er<128||He==="latin1")&&(J=er)}}else typeof J=="number"?J=J&255:typeof J=="boolean"&&(J=Number(J));if(ne<0||this.length<ne||this.length<De)throw new RangeError("Out of range index");if(De<=ne)return this;ne=ne>>>0,De=De===void 0?this.length:De>>>0,J||(J=0);var nr;if(typeof J=="number")for(nr=ne;nr<De;++nr)this[nr]=J;else{var fr=v.isBuffer(J)?J:v.from(J,He),br=fr.length;if(br===0)throw new TypeError('The value "'+J+'" is invalid for argument "value"');for(nr=0;nr<De-ne;++nr)this[nr+ne]=fr[nr%br]}return this};var Me={};function ke(ue,J,ne){Me[ue]=function(De){function He(){var er;return u(this,He),er=b(this,He),Object.defineProperty(er,"message",{value:J.apply(er,arguments),writable:!0,configurable:!0}),er.name="".concat(er.name," [").concat(ue,"]"),er.stack,delete er.name,er}return k(He,De),f(He,[{key:"code",get:function(){return ue},set:function(nr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:nr,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(ue,"]: ").concat(this.message)}}])}(ne)}ke("ERR_BUFFER_OUT_OF_BOUNDS",function(ue){return ue?"".concat(ue," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),ke("ERR_INVALID_ARG_TYPE",function(ue,J){return'The "'.concat(ue,'" argument must be of type number. Received type ').concat(x(J))},TypeError),ke("ERR_OUT_OF_RANGE",function(ue,J,ne){var De='The value of "'.concat(ue,'" is out of range.'),He=ne;return Number.isInteger(ne)&&Math.abs(ne)>Math.pow(2,32)?He=me(String(ne)):typeof ne=="bigint"&&(He=String(ne),(ne>Math.pow(BigInt(2),BigInt(32))||ne<-Math.pow(BigInt(2),BigInt(32)))&&(He=me(He)),He+="n"),De+=" It must be ".concat(J,". Received ").concat(He),De},RangeError);function me(ue){for(var J="",ne=ue.length,De=ue[0]==="-"?1:0;ne>=De+4;ne-=3)J="_".concat(ue.slice(ne-3,ne)).concat(J);return"".concat(ue.slice(0,ne)).concat(J)}function ye(ue,J,ne){he(J,"offset"),(ue[J]===void 0||ue[J+ne]===void 0)&&xe(J,ue.length-(ne+1))}function pe(ue,J,ne,De,He,er){if(ue>ne||ue<J){var nr=typeof J=="bigint"?"n":"",fr;throw er>3?J===0||J===BigInt(0)?fr=">= 0".concat(nr," and < 2").concat(nr," ** ").concat((er+1)*8).concat(nr):fr=">= -(2".concat(nr," ** ").concat((er+1)*8-1).concat(nr,") and < 2 ** ")+"".concat((er+1)*8-1).concat(nr):fr=">= ".concat(J).concat(nr," and <= ").concat(ne).concat(nr),new Me.ERR_OUT_OF_RANGE("value",fr,ue)}ye(De,He,er)}function he(ue,J){if(typeof ue!="number")throw new Me.ERR_INVALID_ARG_TYPE(J,"number",ue)}function xe(ue,J,ne){throw Math.floor(ue)!==ue?(he(ue,ne),new Me.ERR_OUT_OF_RANGE(ne||"offset","an integer",ue)):J<0?new Me.ERR_BUFFER_OUT_OF_BOUNDS:new Me.ERR_OUT_OF_RANGE(ne||"offset",">= ".concat(ne?1:0," and <= ").concat(J),ue)}var Le=/[^+/0-9A-Za-z-_]/g;function qe(ue){if(ue=ue.split("=")[0],ue=ue.trim().replace(Le,""),ue.length<2)return"";for(;ue.length%4!==0;)ue=ue+"=";return ue}function Ne(ue,J){J=J||1/0;for(var ne,De=ue.length,He=null,er=[],nr=0;nr<De;++nr){if(ne=ue.charCodeAt(nr),ne>55295&&ne<57344){if(!He){if(ne>56319){(J-=3)>-1&&er.push(239,191,189);continue}else if(nr+1===De){(J-=3)>-1&&er.push(239,191,189);continue}He=ne;continue}if(ne<56320){(J-=3)>-1&&er.push(239,191,189),He=ne;continue}ne=(He-55296<<10|ne-56320)+65536}else He&&(J-=3)>-1&&er.push(239,191,189);if(He=null,ne<128){if((J-=1)<0)break;er.push(ne)}else if(ne<2048){if((J-=2)<0)break;er.push(ne>>6|192,ne&63|128)}else if(ne<65536){if((J-=3)<0)break;er.push(ne>>12|224,ne>>6&63|128,ne&63|128)}else if(ne<1114112){if((J-=4)<0)break;er.push(ne>>18|240,ne>>12&63|128,ne>>6&63|128,ne&63|128)}else throw new Error("Invalid code point")}return er}function $e(ue){for(var J=[],ne=0;ne<ue.length;++ne)J.push(ue.charCodeAt(ne)&255);return J}function Ve(ue,J){for(var ne,De,He,er=[],nr=0;nr<ue.length&&!((J-=2)<0);++nr)ne=ue.charCodeAt(nr),De=ne>>8,He=ne%256,er.push(He),er.push(De);return er}function Be(ue){return M.toByteArray(qe(ue))}function Ye(ue,J,ne,De){var He;for(He=0;He<De&&!(He+ne>=J.length||He>=ue.length);++He)J[He+ne]=ue[He];return He}function Te(ue,J){return ue instanceof J||ue!=null&&ue.constructor!=null&&ue.constructor.name!=null&&ue.constructor.name===J.name}function Re(ue){return ue!==ue}var Qe=function(){for(var ue="0123456789abcdef",J=new Array(256),ne=0;ne<16;++ne)for(var De=ne*16,He=0;He<16;++He)J[De+He]=ue[ne]+ue[He];return J}();function Ke(ue){return typeof BigInt=="undefined"?ar:ue}function ar(){throw new Error("BigInt not supported")}},4844:function(a){a.exports=o;function o(i,l,u,s){return i[0]=l[0]+u[0]*s,i[1]=l[1]+u[1]*s,i[2]=l[2]+u[2]*s,i[3]=l[3]+u[3]*s,i}},4905:function(a,o,i){var l=i(5874);a.exports=u;function u(s,f){var h=l(f),p=[];return p=p.concat(h(s)),p=p.concat(h(null)),p}},4935:function(a,o,i){"use strict";a.exports=k;var l=i(2762),u=i(8116),s=i(4359),f=i(1879).Q,h=window||process.global||{},p=h.__TEXT_CACHE||{};h.__TEXT_CACHE={};var b=3;function y(S,x,M,d){this.gl=S,this.shader=x,this.buffer=M,this.vao=d,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var w=y.prototype,T=[0,0];w.bind=function(S,x,M,d){this.vao.bind(),this.shader.bind();var _=this.shader.uniforms;_.model=S,_.view=x,_.projection=M,_.pixelScale=d,T[0]=this.gl.drawingBufferWidth,T[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=T},w.unbind=function(){this.vao.unbind()},w.update=function(S,x,M,d,_){var g=[];function c(P,O,U,X,$,j){var Y=[U.style,U.weight,U.variant,U.family].join("_"),q=p[Y];q||(q=p[Y]={});var Q=q[O];Q||(Q=q[O]=m(O,{triangles:!0,font:U.family,fontStyle:U.style,fontWeight:U.weight,fontVariant:U.variant,textAlign:"center",textBaseline:"middle",lineSpacing:$,styletags:j}));for(var ae=(X||12)/12,K=Q.positions,oe=Q.cells,re=0,V=oe.length;re<V;++re)for(var ee=oe[re],H=2;H>=0;--H){var te=K[ee[H]];g.push(ae*te[0],-ae*te[1],P)}}for(var A=[0,0,0],v=[0,0,0],D=[0,0,0],E=[0,0,0],R=1.25,N={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},F=0;F<3;++F){D[F]=g.length/b|0,c(.5*(S[0][F]+S[1][F]),x[F],M[F],12,R,N),E[F]=(g.length/b|0)-D[F],A[F]=g.length/b|0;for(var I=0;I<d[F].length;++I)if(d[F][I].text){var L={family:d[F][I].font||_[F].family,style:_[F].fontStyle||_[F].style,weight:_[F].fontWeight||_[F].weight,variant:_[F].fontVariant||_[F].variant};c(d[F][I].x,d[F][I].text,L,d[F][I].fontSize||12,R,N)}v[F]=(g.length/b|0)-A[F]}this.buffer.update(g),this.tickOffset=A,this.tickCount=v,this.labelOffset=D,this.labelCount=E},w.drawTicks=function(S,x,M,d,_,g,c,A){this.tickCount[S]&&(this.shader.uniforms.axis=g,this.shader.uniforms.color=_,this.shader.uniforms.angle=M,this.shader.uniforms.scale=x,this.shader.uniforms.offset=d,this.shader.uniforms.alignDir=c,this.shader.uniforms.alignOpt=A,this.vao.draw(this.gl.TRIANGLES,this.tickCount[S],this.tickOffset[S]))},w.drawLabel=function(S,x,M,d,_,g,c,A){this.labelCount[S]&&(this.shader.uniforms.axis=g,this.shader.uniforms.color=_,this.shader.uniforms.angle=M,this.shader.uniforms.scale=x,this.shader.uniforms.offset=d,this.shader.uniforms.alignDir=c,this.shader.uniforms.alignOpt=A,this.vao.draw(this.gl.TRIANGLES,this.labelCount[S],this.labelOffset[S]))},w.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function m(S,x){try{return s(S,x)}catch(M){return console.warn('error vectorizing text:"'+S+'" error:',M),{cells:[],positions:[]}}}function k(S,x,M,d,_,g){var c=l(S),A=u(S,[{buffer:c,size:3}]),v=f(S);v.attributes.position.location=0;var D=new y(S,v,c,A);return D.update(x,M,d,_,g),D}},5023:function(a,o,i){"use strict";var l=i(2478);a.exports=b;function u(y,w,T,m,k,S,x){this.cells=y,this.neighbor=w,this.flags=m,this.constraint=T,this.active=k,this.next=S,this.boundary=x}var s=u.prototype;function f(y,w){return y[0]-w[0]||y[1]-w[1]||y[2]-w[2]}s.locate=function(){var y=[0,0,0];return function(w,T,m){var k=w,S=T,x=m;return T<m?T<w&&(k=T,S=m,x=w):m<w&&(k=m,S=w,x=T),k<0?-1:(y[0]=k,y[1]=S,y[2]=x,l.eq(this.cells,y,f))}}();function h(y,w){for(var T=y.cells(),m=T.length,k=0;k<m;++k){var S=T[k],x=S[0],M=S[1],d=S[2];M<d?M<x&&(S[0]=M,S[1]=d,S[2]=x):d<x&&(S[0]=d,S[1]=x,S[2]=M)}T.sort(f);for(var _=new Array(m),k=0;k<_.length;++k)_[k]=0;var g=[],c=[],A=new Array(3*m),v=new Array(3*m),D=null;w&&(D=[]);for(var E=new u(T,A,v,_,g,c,D),k=0;k<m;++k)for(var S=T[k],R=0;R<3;++R){var x=S[R],M=S[(R+1)%3],N=A[3*k+R]=E.locate(M,x,y.opposite(M,x)),F=v[3*k+R]=y.isConstraint(x,M);N<0&&(F?c.push(k):(g.push(k),_[k]=1),w&&D.push([M,x,-1]))}return E}function p(y,w,T){for(var m=0,k=0;k<y.length;++k)w[k]===T&&(y[m++]=y[k]);return y.length=m,y}function b(y,w,T){var m=h(y,T);if(w===0)return T?m.cells.concat(m.boundary):m.cells;for(var k=1,S=m.active,x=m.next,M=m.flags,d=m.cells,_=m.constraint,g=m.neighbor;S.length>0||x.length>0;){for(;S.length>0;){var c=S.pop();if(M[c]!==-k){M[c]=k;for(var A=d[c],v=0;v<3;++v){var D=g[3*c+v];D>=0&&M[D]===0&&(_[3*c+v]?x.push(D):(S.push(D),M[D]=k))}}}var E=x;x=S,S=E,x.length=0,k=-k}var R=p(d,M,w);return T?R.concat(m.boundary):R}},5033:function(a){"use strict";a.exports=o;function o(i,l,u){var s=l||0,f=u||1;return[[i[12]+i[0],i[13]+i[1],i[14]+i[2],i[15]+i[3]],[i[12]-i[0],i[13]-i[1],i[14]-i[2],i[15]-i[3]],[i[12]+i[4],i[13]+i[5],i[14]+i[6],i[15]+i[7]],[i[12]-i[4],i[13]-i[5],i[14]-i[6],i[15]-i[7]],[s*i[12]+i[8],s*i[13]+i[9],s*i[14]+i[10],s*i[15]+i[11]],[f*i[12]-i[8],f*i[13]-i[9],f*i[14]-i[10],f*i[15]-i[11]]]}},5085:function(a,o,i){a.exports=k;var l=i(3250)[3],u=i(4209),s=i(3352),f=i(2478);function h(){return!0}function p(S){return function(x,M){var d=S[x];return d?!!d.queryPoint(M,h):!1}}function b(S){for(var x={},M=0;M<S.length;++M){var d=S[M],_=d[0][0],g=d[0][1],c=d[1][1],A=[Math.min(g,c),Math.max(g,c)];_ in x?x[_].push(A):x[_]=[A]}for(var v={},D=Object.keys(x),M=0;M<D.length;++M){var E=x[D[M]];v[D[M]]=s(E)}return p(v)}function y(S,x){return function(M){var d=f.le(x,M[0]);if(d<0)return 1;var _=S[d];if(!_)if(d>0&&x[d]===M[0])_=S[d-1];else return 1;for(var g=1;_;){var c=_.key,A=l(M,c[0],c[1]);if(c[0][0]<c[1][0])if(A<0)_=_.left;else if(A>0)g=-1,_=_.right;else return 0;else if(A>0)_=_.left;else if(A<0)g=1,_=_.right;else return 0}return g}}function w(S){return 1}function T(S){return function(M){return S(M[0],M[1])?0:1}}function m(S,x){return function(d){return S(d[0],d[1])?0:x(d)}}function k(S){for(var x=S.length,M=[],d=[],_=0,g=0;g<x;++g)for(var c=S[g],A=c.length,v=A-1,D=0;D<A;v=D++){var E=c[v],R=c[D];E[0]===R[0]?d.push([E,R]):M.push([E,R])}if(M.length===0)return d.length===0?w:T(b(d));var N=u(M),F=y(N.slabs,N.coordinates);return d.length===0?F:m(b(d),F)}},5091:function(a,o,i){"use strict";o.shader=k,o.program=S;var l=i(8866),u=i(2992),s=typeof WeakMap=="undefined"?i(606):WeakMap,f=new s,h=0;function p(x,M,d,_,g,c,A){this.id=x,this.src=M,this.type=d,this.shader=_,this.count=c,this.programs=[],this.cache=A}p.prototype.dispose=function(){if(--this.count===0){for(var x=this.cache,M=x.gl,d=this.programs,_=0,g=d.length;_<g;++_){var c=x.programs[d[_]];c&&(delete x.programs[_],M.deleteProgram(c))}M.deleteShader(this.shader),delete x.shaders[this.type===M.FRAGMENT_SHADER|0][this.src]}};function b(x){this.gl=x,this.shaders=[{},{}],this.programs={}}var y=b.prototype;function w(x,M,d){var _=x.createShader(M);if(x.shaderSource(_,d),x.compileShader(_),!x.getShaderParameter(_,x.COMPILE_STATUS)){var g=x.getShaderInfoLog(_);try{var c=u(g,d,M)}catch(A){throw console.warn("Failed to format compiler error: "+A),new l(g,`Error compiling shader:
`+g)}throw new l(g,c.short,c.long)}return _}y.getShaderReference=function(x,M){var d=this.gl,_=this.shaders[x===d.FRAGMENT_SHADER|0],g=_[M];if(!g||!d.isShader(g.shader)){var c=w(d,x,M);g=_[M]=new p(h++,M,x,c,[],1,this)}else g.count+=1;return g};function T(x,M,d,_,g){var c=x.createProgram();x.attachShader(c,M),x.attachShader(c,d);for(var A=0;A<_.length;++A)x.bindAttribLocation(c,g[A],_[A]);if(x.linkProgram(c),!x.getProgramParameter(c,x.LINK_STATUS)){var v=x.getProgramInfoLog(c);throw new l(v,"Error linking program: "+v)}return c}y.getProgram=function(x,M,d,_){var g=[x.id,M.id,d.join(":"),_.join(":")].join("@"),c=this.programs[g];return(!c||!this.gl.isProgram(c))&&(this.programs[g]=c=T(this.gl,x.shader,M.shader,d,_),x.programs.push(g),M.programs.push(g)),c};function m(x){var M=f.get(x);return M||(M=new b(x),f.set(x,M)),M}function k(x,M,d){return m(x).getShaderReference(M,d)}function S(x,M,d,_,g){return m(x).getProgram(M,d,_,g)}},5093:function(a){a.exports=o;function o(i,l){return i[0]=-l[0],i[1]=-l[1],i[2]=-l[2],i}},5137:function(a,o,i){a.exports=u;var l=i(1091)();function u(s,f,h,p,b,y){var w,T;for(f||(f=3),h||(h=0),p?T=Math.min(p*f+h,s.length):T=s.length,w=h;w<T;w+=f)l[0]=s[w],l[1]=s[w+1],l[2]=s[w+2],b(l,l,y),s[w]=l[0],s[w+1]=l[1],s[w+2]=l[2];return s}},5171:function(a,o,i){var l=i(737);a.exports=function(s){return l[s]}},5177:function(a){a.exports=o;function o(i,l){var u=l[0],s=l[1],f=l[2],h=l[3],p=u*u+s*s+f*f+h*h;return p>0&&(p=1/Math.sqrt(p),i[0]=u*p,i[1]=s*p,i[2]=f*p,i[3]=h*p),i}},5202:function(a,o,i){"use strict";var l=i(1944),u=i(8210);a.exports=h,a.exports.positive=p,a.exports.negative=b;function s(y,w){var T=u(l(y,w),[w[w.length-1]]);return T[T.length-1]}function f(y,w,T,m){var k=m-w,S=-w/k;S<0?S=0:S>1&&(S=1);for(var x=1-S,M=y.length,d=new Array(M),_=0;_<M;++_)d[_]=S*y[_]+x*T[_];return d}function h(y,w){for(var T=[],m=[],k=s(y[y.length-1],w),S=y[y.length-1],x=y[0],M=0;M<y.length;++M,S=x){x=y[M];var d=s(x,w);if(k<0&&d>0||k>0&&d<0){var _=f(S,d,x,k);T.push(_),m.push(_.slice())}d<0?m.push(x.slice()):d>0?T.push(x.slice()):(T.push(x.slice()),m.push(x.slice())),k=d}return{positive:T,negative:m}}function p(y,w){for(var T=[],m=s(y[y.length-1],w),k=y[y.length-1],S=y[0],x=0;x<y.length;++x,k=S){S=y[x];var M=s(S,w);(m<0&&M>0||m>0&&M<0)&&T.push(f(k,M,S,m)),M>=0&&T.push(S.slice()),m=M}return T}function b(y,w){for(var T=[],m=s(y[y.length-1],w),k=y[y.length-1],S=y[0],x=0;x<y.length;++x,k=S){S=y[x];var M=s(S,w);(m<0&&M>0||m>0&&M<0)&&T.push(f(k,M,S,m)),M<=0&&T.push(S.slice()),m=M}return T}},5219:function(a){"use strict";a.exports=function(o){for(var i=o.length,l,u=0;u<i;u++)if(l=o.charCodeAt(u),(l<9||l>13)&&l!==32&&l!==133&&l!==160&&l!==5760&&l!==6158&&(l<8192||l>8205)&&l!==8232&&l!==8233&&l!==8239&&l!==8287&&l!==8288&&l!==12288&&l!==65279)return!1;return!0}},5250:function(a){"use strict";a.exports=i;var o=+(Math.pow(2,27)+1);function i(l,u,s){var f=l*u,h=o*l,p=h-l,b=h-p,y=l-b,w=o*u,T=w-u,m=w-T,k=u-m,S=f-b*m,x=S-y*m,M=x-b*k,d=y*k-M;return s?(s[0]=d,s[1]=f,s):[d,f]}},5298:function(a,o){"use strict";var i={"float64,2,1,0":function(){return function(y,w,T,m,k){var S=y[0],x=y[1],M=y[2],d=T[0],_=T[1],g=T[2];m|=0;var c=0,A=0,v=0,D=g,E=_-M*g,R=d-x*_;for(v=0;v<S;++v){for(A=0;A<x;++A){for(c=0;c<M;++c)w[m]/=k,m+=D;m+=E}m+=R}}},"uint8,2,0,1,float64,2,1,0":function(){return function(y,w,T,m,k,S,x,M){var d=y[0],_=y[1],g=y[2],c=T[0],A=T[1],v=T[2],D=S[0],E=S[1],R=S[2];m|=0,x|=0;for(var N=m,F=x,I=y[0]|0;I>0;){I<64?(d=I,I=0):(d=64,I-=64);for(var L=y[1]|0;L>0;){L<64?(_=L,L=0):(_=64,L-=64),m=N+I*c+L*A,x=F+I*D+L*E;var P=0,O=0,U=0,X=v,$=c-g*v,j=A-d*c,Y=R,q=D-g*R,Q=E-d*D;for(U=0;U<_;++U){for(O=0;O<d;++O){for(P=0;P<g;++P)w[m]=k[x]*M,m+=X,x+=Y;m+=$,x+=q}m+=j,x+=Q}}}}},"float32,1,0,float32,1,0":function(){return function(y,w,T,m,k,S,x){var M=y[0],d=y[1],_=T[0],g=T[1],c=S[0],A=S[1];m|=0,x|=0;var v=0,D=0,E=g,R=_-d*g,N=A,F=c-d*A;for(D=0;D<M;++D){for(v=0;v<d;++v)w[m]=k[x],m+=E,x+=N;m+=R,x+=F}}},"float32,1,0,float32,0,1":function(){return function(y,w,T,m,k,S,x){var M=y[0],d=y[1],_=T[0],g=T[1],c=S[0],A=S[1];m|=0,x|=0;for(var v=m,D=x,E=y[1]|0;E>0;){E<64?(d=E,E=0):(d=64,E-=64);for(var R=y[0]|0;R>0;){R<64?(M=R,R=0):(M=64,R-=64),m=v+E*g+R*_,x=D+E*A+R*c;var N=0,F=0,I=g,L=_-d*g,P=A,O=c-d*A;for(F=0;F<M;++F){for(N=0;N<d;++N)w[m]=k[x],m+=I,x+=P;m+=L,x+=O}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(y,w,T,m,k,S,x){var M=y[0],d=y[1],_=y[2],g=T[0],c=T[1],A=T[2],v=S[0],D=S[1],E=S[2];m|=0,x|=0;for(var R=m,N=x,F=y[2]|0;F>0;){F<64?(_=F,F=0):(_=64,F-=64);for(var I=y[0]|0;I>0;){I<64?(M=I,I=0):(M=64,I-=64);for(var L=y[1]|0;L>0;){L<64?(d=L,L=0):(d=64,L-=64),m=R+F*A+I*g+L*c,x=N+F*E+I*v+L*D;var P=0,O=0,U=0,X=A,$=g-_*A,j=c-M*g,Y=E,q=v-_*E,Q=D-M*v;for(U=0;U<d;++U){for(O=0;O<M;++O){for(P=0;P<_;++P)w[m]=k[x],m+=X,x+=Y;m+=$,x+=q}m+=j,x+=Q}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(y,w,T,m,k,S,x){var M=y[0],d=y[1],_=y[2],g=T[0],c=T[1],A=T[2],v=S[0],D=S[1],E=S[2];m|=0,x|=0;var R=0,N=0,F=0,I=A,L=g-_*A,P=c-M*g,O=E,U=v-_*E,X=D-M*v;for(F=0;F<d;++F){for(N=0;N<M;++N){for(R=0;R<_;++R)w[m]=k[x],m+=I,x+=O;m+=L,x+=U}m+=P,x+=X}}}};function l(b,y){var w=y.join(","),T=i[w];return T()}var u=l,s={mul:function(b){var y={};return function(T,m,k){var S=T.dtype,x=T.order,M=m.dtype,d=m.order,_=k.dtype,g=k.order,c=[S,x.join(),M,d.join(),_,g.join()].join(),A=y[c];return A||(y[c]=A=b([S,x,M,d,_,g])),A(T.shape.slice(0),T.data,T.stride,T.offset|0,m.data,m.stride,m.offset|0,k.data,k.stride,k.offset|0)}},muls:function(b){var y={};return function(T,m,k){var S=T.dtype,x=T.order,M=m.dtype,d=m.order,_=[S,x.join(),M,d.join()].join(),g=y[_];return g||(y[_]=g=b([S,x,M,d])),g(T.shape.slice(0),T.data,T.stride,T.offset|0,m.data,m.stride,m.offset|0,k)}},mulseq:function(b){var y={};return function(T,m){var k=T.dtype,S=T.order,x=[k,S.join()].join(),M=y[x];return M||(y[x]=M=b([k,S])),M(T.shape.slice(0),T.data,T.stride,T.offset|0,m)}},div:function(b){var y={};return function(T,m,k){var S=T.dtype,x=T.order,M=m.dtype,d=m.order,_=k.dtype,g=k.order,c=[S,x.join(),M,d.join(),_,g.join()].join(),A=y[c];return A||(y[c]=A=b([S,x,M,d,_,g])),A(T.shape.slice(0),T.data,T.stride,T.offset|0,m.data,m.stride,m.offset|0,k.data,k.stride,k.offset|0)}},divs:function(b){var y={};return function(T,m,k){var S=T.dtype,x=T.order,M=m.dtype,d=m.order,_=[S,x.join(),M,d.join()].join(),g=y[_];return g||(y[_]=g=b([S,x,M,d])),g(T.shape.slice(0),T.data,T.stride,T.offset|0,m.data,m.stride,m.offset|0,k)}},divseq:function(b){var y={};return function(T,m){var k=T.dtype,S=T.order,x=[k,S.join()].join(),M=y[x];return M||(y[x]=M=b([k,S])),M(T.shape.slice(0),T.data,T.stride,T.offset|0,m)}},assign:function(b){var y={};return function(T,m){var k=T.dtype,S=T.order,x=m.dtype,M=m.order,d=[k,S.join(),x,M.join()].join(),_=y[d];return _||(y[d]=_=b([k,S,x,M])),_(T.shape.slice(0),T.data,T.stride,T.offset|0,m.data,m.stride,m.offset|0)}}};function f(b){var y=s[b.funcName];return y(u.bind(void 0,b))}function h(b){return f({funcName:b.funcName})}var p={mul:"*",div:"/"};(function(){for(var b in p)o[b]=h({funcName:b}),o[b+"s"]=h({funcName:b+"s"}),o[b+"seq"]=h({funcName:b+"seq"})})(),o.assign=h({funcName:"assign"})},5304:function(a,o,i){"use strict";a.exports=p;var l=i(2762),u=i(8116),s=i(1879).bg;function f(b,y,w,T){this.gl=b,this.buffer=y,this.vao=w,this.shader=T}var h=f.prototype;h.draw=function(b,y,w,T,m,k){for(var S=!1,x=0;x<3;++x)S=S||m[x];if(S){var M=this.gl;M.enable(M.POLYGON_OFFSET_FILL),M.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:b,view:y,projection:w,bounds:T,enable:m,colors:k},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),M.disable(M.POLYGON_OFFSET_FILL)}},h.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function p(b){for(var y=[],w=[],T=0,m=0;m<3;++m)for(var k=(m+1)%3,S=(m+2)%3,x=[0,0,0],M=[0,0,0],d=-1;d<=1;d+=2){w.push(T,T+2,T+1,T+1,T+2,T+3),x[m]=d,M[m]=d;for(var _=-1;_<=1;_+=2){x[k]=_;for(var g=-1;g<=1;g+=2)x[S]=g,y.push(x[0],x[1],x[2],M[0],M[1],M[2]),T+=1}var c=k;k=S,S=c}var A=l(b,new Float32Array(y)),v=l(b,new Uint16Array(w),b.ELEMENT_ARRAY_BUFFER),D=u(b,[{buffer:A,type:b.FLOAT,size:3,offset:0,stride:24},{buffer:A,type:b.FLOAT,size:3,offset:12,stride:24}],v),E=s(b);return E.attributes.position.location=0,E.attributes.normal.location=1,new f(b,A,D,E)}},5352:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],h=l[2],p=l[3];return i[0]=u[0]*s+u[4]*f+u[8]*h+u[12]*p,i[1]=u[1]*s+u[5]*f+u[9]*h+u[13]*p,i[2]=u[2]*s+u[6]*f+u[10]*h+u[14]*p,i[3]=u[3]*s+u[7]*f+u[11]*h+u[15]*p,i}},5382:function(a,o,i){"use strict";var l=i(8210),u=i(3012);a.exports=s;function s(f,h){if(f.length===1)return u(h,f[0]);if(h.length===1)return u(f,h[0]);if(f.length===0||h.length===0)return[0];var p=[0];if(f.length<h.length)for(var b=0;b<f.length;++b)p=l(p,u(h,f[b]));else for(var b=0;b<h.length;++b)p=l(p,u(f,h[b]));return p}},5445:function(a,o,i){"use strict";a.exports=M;var l=i(5033),u=i(5202),s=i(6429),f=i(6760),h=i(5665),p=i(5352),b=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),y=new Float32Array(16);function w(d,_,g){this.lo=d,this.hi=_,this.pixelsPerDataUnit=g}var T=[0,0,0,1],m=[0,0,0,1];function k(d,_,g,c,A){for(var v=0;v<3;++v){for(var D=T,E=m,R=0;R<3;++R)E[R]=D[R]=g[R];E[3]=D[3]=1,E[v]+=1,p(E,E,_),E[3]<0&&(d[v]=1/0),D[v]-=1,p(D,D,_),D[3]<0&&(d[v]=1/0);var N=(D[0]/D[3]-E[0]/E[3])*c,F=(D[1]/D[3]-E[1]/E[3])*A;d[v]=.25*Math.sqrt(N*N+F*F)}return d}var S=[new w(1/0,-1/0,1/0),new w(1/0,-1/0,1/0),new w(1/0,-1/0,1/0)],x=[0,0,0];function M(d,_,g,c,F){var v=_.model||b,D=_.view||b,E=_.projection||b,R=_._ortho||!1,N=d.bounds,F=F||s(v,D,E,N,R),I=F.axis;f(y,D,v),f(y,E,y);for(var L=S,P=0;P<3;++P)L[P].lo=1/0,L[P].hi=-1/0,L[P].pixelsPerDataUnit=1/0;var O=l(h(y,y));h(y,y);for(var U=0;U<3;++U){var X=(U+1)%3,$=(U+2)%3,j=x;e:for(var P=0;P<2;++P){var Y=[];if(I[U]<0!=!!P){j[U]=N[P][U];for(var q=0;q<2;++q){j[X]=N[q^P][X];for(var Q=0;Q<2;++Q)j[$]=N[Q^q^P][$],Y.push(j.slice())}for(var ae=R?5:4,q=ae;q===ae;++q){if(Y.length===0)continue e;Y=u.positive(Y,O[q])}for(var q=0;q<Y.length;++q)for(var $=Y[q],K=k(x,y,$,g,c),Q=0;Q<3;++Q)L[Q].lo=Math.min(L[Q].lo,$[Q]),L[Q].hi=Math.max(L[Q].hi,$[Q]),Q!==U&&(L[Q].pixelsPerDataUnit=Math.min(L[Q].pixelsPerDataUnit,Math.abs(K[Q])))}}}return L}},5455:function(a,o,i){a.exports=i(7056)},5486:function(a,o,i){a.exports=i(3066)},5542:function(a,o,i){"use strict";var l=i(2478);a.exports=h;function u(p,b){this.stars=p,this.edges=b}var s=u.prototype;function f(p,b,y){for(var w=1,T=p.length;w<T;w+=2)if(p[w-1]===b&&p[w]===y){p[w-1]=p[T-2],p[w]=p[T-1],p.length=T-2;return}}s.isConstraint=function(){var p=[0,0];function b(y,w){return y[0]-w[0]||y[1]-w[1]}return function(y,w){return p[0]=Math.min(y,w),p[1]=Math.max(y,w),l.eq(this.edges,p,b)>=0}}(),s.removeTriangle=function(p,b,y){var w=this.stars;f(w[p],b,y),f(w[b],y,p),f(w[y],p,b)},s.addTriangle=function(p,b,y){var w=this.stars;w[p].push(b,y),w[b].push(y,p),w[y].push(p,b)},s.opposite=function(p,b){for(var y=this.stars[b],w=1,T=y.length;w<T;w+=2)if(y[w]===p)return y[w-1];return-1},s.flip=function(p,b){var y=this.opposite(p,b),w=this.opposite(b,p);this.removeTriangle(p,b,y),this.removeTriangle(b,p,w),this.addTriangle(p,w,y),this.addTriangle(b,y,w)},s.edges=function(){for(var p=this.stars,b=[],y=0,w=p.length;y<w;++y)for(var T=p[y],m=0,k=T.length;m<k;m+=2)b.push([T[m],T[m+1]]);return b},s.cells=function(){for(var p=this.stars,b=[],y=0,w=p.length;y<w;++y)for(var T=p[y],m=0,k=T.length;m<k;m+=2){var S=T[m],x=T[m+1];y<Math.min(S,x)&&b.push([y,S,x])}return b};function h(p,b){for(var y=new Array(p),w=0;w<p;++w)y[w]=[];return new u(y,b)}},5567:function(a){a.exports=o;function o(i,l,u){var s=Math.sin(u),f=Math.cos(u),h=l[4],p=l[5],b=l[6],y=l[7],w=l[8],T=l[9],m=l[10],k=l[11];return l!==i&&(i[0]=l[0],i[1]=l[1],i[2]=l[2],i[3]=l[3],i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15]),i[4]=h*f+w*s,i[5]=p*f+T*s,i[6]=b*f+m*s,i[7]=y*f+k*s,i[8]=w*f-h*s,i[9]=T*f-p*s,i[10]=m*f-b*s,i[11]=k*f-y*s,i}},5572:function(a,o,i){"use strict";var l=i(869);a.exports=u;function u(s,f){return l(s[0].mul(f[1]).sub(s[1].mul(f[0])),s[1].mul(f[1]))}},5609:function(a,o,i){"use strict";a.exports=u;var l=i(3134);function u(s,f){for(var h=l(s,f.length),p=new Array(f.length),b=new Array(f.length),y=[],w=0;w<f.length;++w){var T=h[w].length;b[w]=T,p[w]=!0,T<=1&&y.push(w)}for(;y.length>0;){var m=y.pop();p[m]=!1;for(var k=h[m],w=0;w<k.length;++w){var S=k[w];--b[S]===0&&y.push(S)}}for(var x=new Array(f.length),M=[],w=0;w<f.length;++w)if(p[w]){var m=M.length;x[w]=m,M.push(f[w])}else x[w]=-1;for(var d=[],w=0;w<s.length;++w){var _=s[w];p[_[0]]&&p[_[1]]&&d.push([x[_[0]],x[_[1]]])}return[d,M]}},5632:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]+u[0],i[1]=l[1]+u[1],i[2]=l[2]+u[2],i}},5665:function(a){a.exports=o;function o(i,l){if(i===l){var u=l[1],s=l[2],f=l[3],h=l[6],p=l[7],b=l[11];i[1]=l[4],i[2]=l[8],i[3]=l[12],i[4]=u,i[6]=l[9],i[7]=l[13],i[8]=s,i[9]=h,i[11]=l[14],i[12]=f,i[13]=p,i[14]=b}else i[0]=l[0],i[1]=l[4],i[2]=l[8],i[3]=l[12],i[4]=l[1],i[5]=l[5],i[6]=l[9],i[7]=l[13],i[8]=l[2],i[9]=l[6],i[10]=l[10],i[11]=l[14],i[12]=l[3],i[13]=l[7],i[14]=l[11],i[15]=l[15];return i}},5673:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],h=l[2],p=u[3]*s+u[7]*f+u[11]*h+u[15];return p=p||1,i[0]=(u[0]*s+u[4]*f+u[8]*h+u[12])/p,i[1]=(u[1]*s+u[5]*f+u[9]*h+u[13])/p,i[2]=(u[2]*s+u[6]*f+u[10]*h+u[14])/p,i}},5714:function(a,o,i){"use strict";a.exports=g;var l=i(2762),u=i(8116),s=i(7766),f=new Uint8Array(4),h=new Float32Array(f.buffer);function p(c,A,v,D){return f[0]=D,f[1]=v,f[2]=A,f[3]=c,h[0]}var b=i(2478),y=i(9618),w=i(7319),T=w.createShader,m=w.createPickShader,k=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function S(c,A){for(var v=0,D=0;D<3;++D){var E=c[D]-A[D];v+=E*E}return Math.sqrt(v)}function x(c){for(var A=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],v=0;v<3;++v)A[0][v]=Math.max(c[0][v],A[0][v]),A[1][v]=Math.min(c[1][v],A[1][v]);return A}function M(c,A,v,D){this.arcLength=c,this.position=A,this.index=v,this.dataCoordinate=D}function d(c,A,v,D,E,R){this.gl=c,this.shader=A,this.pickShader=v,this.buffer=D,this.vao=E,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=R,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var _=d.prototype;_.isTransparent=function(){return this.hasAlpha},_.isOpaque=function(){return!this.hasAlpha},_.pickSlots=1,_.setPickBase=function(c){this.pickId=c},_.drawTransparent=_.draw=function(c){if(this.vertexCount){var A=this.gl,v=this.shader,D=this.vao;v.bind(),v.uniforms={model:c.model||k,view:c.view||k,projection:c.projection||k,clipBounds:x(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[A.drawingBufferWidth,A.drawingBufferHeight],pixelRatio:this.pixelRatio},D.bind(),D.draw(A.TRIANGLE_STRIP,this.vertexCount),D.unbind()}},_.drawPick=function(c){if(this.vertexCount){var A=this.gl,v=this.pickShader,D=this.vao;v.bind(),v.uniforms={model:c.model||k,view:c.view||k,projection:c.projection||k,pickId:this.pickId,clipBounds:x(this.clipBounds),screenShape:[A.drawingBufferWidth,A.drawingBufferHeight],pixelRatio:this.pixelRatio},D.bind(),D.draw(A.TRIANGLE_STRIP,this.vertexCount),D.unbind()}},_.update=function(c){var A,v;this.dirty=!0;var D=!!c.connectGaps;"dashScale"in c&&(this.dashScale=c.dashScale),this.hasAlpha=!1,"opacity"in c&&(this.opacity=+c.opacity,this.opacity<1&&(this.hasAlpha=!0));var E=[],R=[],N=[],F=0,I=0,L=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],P=c.position||c.positions;if(P){var O=c.color||c.colors||[0,0,0,1],U=c.lineWidth||1,X=!1;e:for(A=1;A<P.length;++A){var $=P[A-1],j=P[A];for(R.push(F),N.push($.slice()),v=0;v<3;++v){if(isNaN($[v])||isNaN(j[v])||!isFinite($[v])||!isFinite(j[v])){if(!D&&E.length>0){for(var Y=0;Y<24;++Y)E.push(E[E.length-12]);I+=2,X=!0}continue e}L[0][v]=Math.min(L[0][v],$[v],j[v]),L[1][v]=Math.max(L[1][v],$[v],j[v])}var q,Q;Array.isArray(O[0])?(q=O.length>A-1?O[A-1]:O.length>0?O[O.length-1]:[0,0,0,1],Q=O.length>A?O[A]:O.length>0?O[O.length-1]:[0,0,0,1]):q=Q=O,q.length===3&&(q=[q[0],q[1],q[2],1]),Q.length===3&&(Q=[Q[0],Q[1],Q[2],1]),!this.hasAlpha&&q[3]<1&&(this.hasAlpha=!0);var ae;Array.isArray(U)?ae=U.length>A-1?U[A-1]:U.length>0?U[U.length-1]:[0,0,0,1]:ae=U;var K=F;if(F+=S($,j),X){for(v=0;v<2;++v)E.push($[0],$[1],$[2],j[0],j[1],j[2],K,ae,q[0],q[1],q[2],q[3]);I+=2,X=!1}E.push($[0],$[1],$[2],j[0],j[1],j[2],K,ae,q[0],q[1],q[2],q[3],$[0],$[1],$[2],j[0],j[1],j[2],K,-ae,q[0],q[1],q[2],q[3],j[0],j[1],j[2],$[0],$[1],$[2],F,-ae,Q[0],Q[1],Q[2],Q[3],j[0],j[1],j[2],$[0],$[1],$[2],F,ae,Q[0],Q[1],Q[2],Q[3]),I+=4}}if(this.buffer.update(E),R.push(F),N.push(P[P.length-1].slice()),this.bounds=L,this.vertexCount=I,this.points=N,this.arcLength=R,"dashes"in c){var oe=c.dashes,re=oe.slice();for(re.unshift(0),A=1;A<re.length;++A)re[A]=re[A-1]+re[A];var V=y(new Array(256*4),[256,1,4]);for(A=0;A<256;++A){for(v=0;v<4;++v)V.set(A,0,v,0);b.le(re,re[re.length-1]*A/255)&1?V.set(A,0,0,0):V.set(A,0,0,255)}this.texture.setPixels(V)}},_.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},_.pick=function(c){if(!c||c.id!==this.pickId)return null;var A=p(c.value[0],c.value[1],c.value[2],0),v=b.le(this.arcLength,A);if(v<0)return null;if(v===this.arcLength.length-1)return new M(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),v);for(var D=this.points[v],E=this.points[Math.min(v+1,this.points.length-1)],R=(A-this.arcLength[v])/(this.arcLength[v+1]-this.arcLength[v]),N=1-R,F=[0,0,0],I=0;I<3;++I)F[I]=N*D[I]+R*E[I];var L=Math.min(R<.5?v:v+1,this.points.length-1);return new M(A,F,L,this.points[L])};function g(c){var A=c.gl||c.scene&&c.scene.gl,v=T(A);v.attributes.position.location=0,v.attributes.nextPosition.location=1,v.attributes.arcLength.location=2,v.attributes.lineWidth.location=3,v.attributes.color.location=4;var D=m(A);D.attributes.position.location=0,D.attributes.nextPosition.location=1,D.attributes.arcLength.location=2,D.attributes.lineWidth.location=3,D.attributes.color.location=4;for(var E=l(A),R=u(A,[{buffer:E,size:3,offset:0,stride:48},{buffer:E,size:3,offset:12,stride:48},{buffer:E,size:1,offset:24,stride:48},{buffer:E,size:1,offset:28,stride:48},{buffer:E,size:4,offset:32,stride:48}]),N=y(new Array(256*4),[256,1,4]),F=0;F<1024;++F)N.data[F]=255;var I=s(A,N);I.wrap=A.REPEAT;var L=new d(A,v,D,E,R,I);return L.update(c),L}},5716:function(a,o,i){"use strict";var l=i(6859);a.exports=u;function u(s){return s.cmp(new l(0))}},5721:function(a){"use strict";a.exports=o;function o(i){for(var l=0,u=0,s=1;s<i.length;++s)i[s][0]<i[l][0]&&(l=s),i[s][0]>i[u][0]&&(u=s);return l<u?[[l],[u]]:l>u?[[u],[l]]:[[l]]}},5771:function(a,o,i){"use strict";var l=i(8507),u=i(3788),s=i(2419);a.exports=f;function f(h){h.sort(u);for(var p=h.length,b=0,y=0;y<p;++y){var w=h[y],T=s(w);if(T!==0){if(b>0){var m=h[b-1];if(l(w,m)===0&&s(m)!==T){b-=1;continue}}h[b++]=w}}return h.length=b,h}},5838:function(a,o,i){"use strict";a.exports=u;var l=i(7842);function u(s){for(var f=new Array(s.length),h=0;h<s.length;++h)f[h]=l(s[h]);return f}},5847:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]*u[0],i[1]=l[1]*u[1],i[2]=l[2]*u[2],i}},5874:function(a,o,i){a.exports=v;var l=i(620),u=i(7827),s=i(6852),f=i(7932),h=i(3508),p=999,b=9999,y=0,w=1,T=2,m=3,k=4,S=5,x=6,M=7,d=8,_=9,g=10,c=11,A=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function v(D){var E=0,R=0,N=p,F,I,L=[],P=[],O=0,U=0,X=1,$=0,j=0,Y=!1,q=!1,Q="",ae;D=D||{};var K=s,oe=l;D.version==="300 es"&&(K=h,oe=f);for(var re={},V={},E=0;E<K.length;E++)re[K[E]]=!0;for(var E=0;E<oe.length;E++)V[oe[E]]=!0;return function(ge){return P=[],ge!==null?H(ge):te()};function ee(ge){ge.length&&P.push({type:A[N],data:ge,position:j,line:X,column:$})}function H(ge){E=0,ge.toString&&(ge=ge.toString()),Q+=ge.replace(/\r\n/g,`
`),ae=Q.length;for(var Me;F=Q[E],E<ae;){switch(Me=E,N){case y:E=ce();break;case w:E=we();break;case T:E=Ae();break;case m:E=Se();break;case k:E=Ee();break;case c:E=Fe();break;case S:E=ze();break;case b:E=Ue();break;case _:E=ve();break;case p:E=le();break}if(Me!==E)switch(Q[Me]){case`
`:$=0,++X;break;default:++$;break}}return R+=E,Q=Q.slice(E),P}function te(ge){return L.length&&ee(L.join("")),N=g,ee("(eof)"),P}function le(){return L=L.length?[]:L,I==="/"&&F==="*"?(j=R+E-1,N=y,I=F,E+1):I==="/"&&F==="/"?(j=R+E-1,N=w,I=F,E+1):F==="#"?(N=T,j=R+E,E):/\s/.test(F)?(N=_,j=R+E,E):(Y=/\d/.test(F),q=/[^\w_]/.test(F),j=R+E,N=Y?k:q?m:b,E)}function ve(){return/[^\s]/g.test(F)?(ee(L.join("")),N=p,E):(L.push(F),I=F,E+1)}function Ae(){return(F==="\r"||F===`
`)&&I!=="\\"?(ee(L.join("")),N=p,E):(L.push(F),I=F,E+1)}function we(){return Ae()}function ce(){return F==="/"&&I==="*"?(L.push(F),ee(L.join("")),N=p,E+1):(L.push(F),I=F,E+1)}function Se(){if(I==="."&&/\d/.test(F))return N=S,E;if(I==="/"&&F==="*")return N=y,E;if(I==="/"&&F==="/")return N=w,E;if(F==="."&&L.length){for(;Ce(L););return N=S,E}if(F===";"||F===")"||F==="("){if(L.length)for(;Ce(L););return ee(F),N=p,E+1}var ge=L.length===2&&F!=="=";if(/[\w_\d\s]/.test(F)||ge){for(;Ce(L););return N=p,E}return L.push(F),I=F,E+1}function Ce(ge){var Me=0,ke,me;do{if(ke=u.indexOf(ge.slice(0,ge.length+Me).join("")),me=u[ke],ke===-1){if(Me--+ge.length>0)continue;me=ge.slice(0,1).join("")}return ee(me),j+=me.length,L=L.slice(me.length),L.length}while(!0)}function Fe(){return/[^a-fA-F0-9]/.test(F)?(ee(L.join("")),N=p,E):(L.push(F),I=F,E+1)}function Ee(){return F==="."||/[eE]/.test(F)?(L.push(F),N=S,I=F,E+1):F==="x"&&L.length===1&&L[0]==="0"?(N=c,L.push(F),I=F,E+1):/[^\d]/.test(F)?(ee(L.join("")),N=p,E):(L.push(F),I=F,E+1)}function ze(){return F==="f"&&(L.push(F),I=F,E+=1),/[eE]/.test(F)||(F==="-"||F==="+")&&/[eE]/.test(I)?(L.push(F),I=F,E+1):/[^\d]/.test(F)?(ee(L.join("")),N=p,E):(L.push(F),I=F,E+1)}function Ue(){if(/[^\d\w_]/.test(F)){var ge=L.join("");return V[ge]?N=d:re[ge]?N=M:N=x,ee(L.join("")),N=p,E}return L.push(F),I=F,E+1}}},5878:function(a,o,i){"use strict";a.exports=f;var l=i(3250),u=i(2014);function s(h,p,b){var y=Math.abs(l(h,p,b)),w=Math.sqrt(Math.pow(p[0]-b[0],2)+Math.pow(p[1]-b[1],2));return y/w}function f(h,p,b){for(var y=p.length,w=h.length,T=new Array(y),m=new Array(y),k=new Array(y),S=new Array(y),x=0;x<y;++x)T[x]=m[x]=-1,k[x]=1/0,S[x]=!1;for(var x=0;x<w;++x){var M=h[x];if(M.length!==2)throw new Error("Input must be a graph");var d=M[1],_=M[0];m[_]!==-1?m[_]=-2:m[_]=d,T[d]!==-1?T[d]=-2:T[d]=_}function g(q){if(S[q])return 1/0;var Q=T[q],ae=m[q];return Q<0||ae<0?1/0:s(p[q],p[Q],p[ae])}function c(q,Q){var ae=I[q],K=I[Q];I[q]=K,I[Q]=ae,L[ae]=Q,L[K]=q}function A(q){return k[I[q]]}function v(q){return q&1?q-1>>1:(q>>1)-1}function D(q){for(var Q=A(q);;){var ae=Q,K=2*q+1,oe=2*(q+1),re=q;if(K<O){var V=A(K);V<ae&&(re=K,ae=V)}if(oe<O){var ee=A(oe);ee<ae&&(re=oe)}if(re===q)return q;c(q,re),q=re}}function E(q){for(var Q=A(q);q>0;){var ae=v(q);if(ae>=0){var K=A(ae);if(Q<K){c(q,ae),q=ae;continue}}return q}}function R(){if(O>0){var q=I[0];return c(0,O-1),O-=1,D(0),q}return-1}function N(q,Q){var ae=I[q];return k[ae]===Q?q:(k[ae]=-1/0,E(q),R(),k[ae]=Q,O+=1,E(O-1))}function F(q){if(!S[q]){S[q]=!0;var Q=T[q],ae=m[q];T[ae]>=0&&(T[ae]=Q),m[Q]>=0&&(m[Q]=ae),L[Q]>=0&&N(L[Q],g(Q)),L[ae]>=0&&N(L[ae],g(ae))}}for(var I=[],L=new Array(y),x=0;x<y;++x){var P=k[x]=g(x);P<1/0?(L[x]=I.length,I.push(x)):L[x]=-1}for(var O=I.length,x=O>>1;x>=0;--x)D(x);for(;;){var U=R();if(U<0||k[U]>b)break;F(U)}for(var X=[],x=0;x<y;++x)S[x]||(L[x]=X.length,X.push(p[x].slice()));var $=X.length;function j(q,Q){if(q[Q]<0)return Q;var ae=Q,K=Q;do{var oe=q[K];if(!S[K]||oe<0||oe===K||(K=oe,oe=q[K],!S[K]||oe<0||oe===K))break;K=oe,ae=q[ae]}while(ae!==K);for(var re=Q;re!==K;re=q[re])q[re]=K;return K}var Y=[];return h.forEach(function(q){var Q=j(T,q[0]),ae=j(m,q[1]);if(Q>=0&&ae>=0&&Q!==ae){var K=L[Q],oe=L[ae];K!==oe&&Y.push([K,oe])}}),u.unique(u.normalize(Y)),{positions:X,edges:Y}}},5911:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],h=l[2],p=u[0],b=u[1],y=u[2];return i[0]=f*y-h*b,i[1]=h*p-s*y,i[2]=s*b-f*p,i}},5964:function(a){"use strict";a.exports=function(o){return!o&&o!==0?"":o.toString()}},5995:function(a,o,i){"use strict";a.exports=s;var l=i(7642),u=i(6037);function s(f,h){return l(h).filter(function(p){for(var b=new Array(p.length),y=0;y<p.length;++y)b[y]=h[p[y]];return u(b)*f<1})}},6037:function(a,o,i){a.exports=u;var l=i(3628);function u(s){for(var f=l(s),h=0,p=0;p<s.length;++p)for(var b=s[p],y=0;y<f.length;++y)h+=Math.pow(b[y]-f[y],2);return Math.sqrt(h/s.length)}},6079:function(a){a.exports=o;function o(i,l,u,s){var f=s[0],h=s[1],p=s[2],b=Math.sqrt(f*f+h*h+p*p),y,w,T,m,k,S,x,M,d,_,g,c,A,v,D,E,R,N,F,I,L,P,O,U;return Math.abs(b)<1e-6?null:(b=1/b,f*=b,h*=b,p*=b,y=Math.sin(u),w=Math.cos(u),T=1-w,m=l[0],k=l[1],S=l[2],x=l[3],M=l[4],d=l[5],_=l[6],g=l[7],c=l[8],A=l[9],v=l[10],D=l[11],E=f*f*T+w,R=h*f*T+p*y,N=p*f*T-h*y,F=f*h*T-p*y,I=h*h*T+w,L=p*h*T+f*y,P=f*p*T+h*y,O=h*p*T-f*y,U=p*p*T+w,i[0]=m*E+M*R+c*N,i[1]=k*E+d*R+A*N,i[2]=S*E+_*R+v*N,i[3]=x*E+g*R+D*N,i[4]=m*F+M*I+c*L,i[5]=k*F+d*I+A*L,i[6]=S*F+_*I+v*L,i[7]=x*F+g*I+D*L,i[8]=m*P+M*O+c*U,i[9]=k*P+d*O+A*U,i[10]=S*P+_*O+v*U,i[11]=x*P+g*O+D*U,l!==i&&(i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15]),i)}},6141:function(a,o,i){a.exports=i(2953)},6199:function(a,o,i){"use strict";var l=i(1338),u={zero:function(M,d,_,g){var c=M[0],A=_[0];g|=0;var v=0,D=A;for(v=0;v<c;++v)d[g]=0,g+=D},fdTemplate1:function(M,d,_,g,c,A,v){var D=M[0],E=_[0],R=A[0],N=-1*E,F=E;g|=0,v|=0;var I=0,L=E,P=R;for(I=0;I<D;++I)c[v]=.5*(d[g+N]-d[g+F]),g+=L,v+=P},fdTemplate2:function(M,d,_,g,c,A,v,D,E,R){var N=M[0],F=M[1],I=_[0],L=_[1],P=A[0],O=A[1],U=E[0],X=E[1],$=-1*I,j=I,Y=-1*L,q=L;g|=0,v|=0,R|=0;var Q=0,ae=0,K=L,oe=I-F*L,re=O,V=P-F*O,ee=X,H=U-F*X;for(ae=0;ae<N;++ae){for(Q=0;Q<F;++Q)c[v]=.5*(d[g+$]-d[g+j]),D[R]=.5*(d[g+Y]-d[g+q]),g+=K,v+=re,R+=ee;g+=oe,v+=V,R+=H}}},s={cdiff:function(M){var d={};return function(g,c,A){var v=g.dtype,D=g.order,E=c.dtype,R=c.order,N=A.dtype,F=A.order,I=[v,D.join(),E,R.join(),N,F.join()].join(),L=d[I];return L||(d[I]=L=M([v,D,E,R,N,F])),L(g.shape.slice(0),g.data,g.stride,g.offset|0,c.data,c.stride,c.offset|0,A.data,A.stride,A.offset|0)}},zero:function(M){var d={};return function(g){var c=g.dtype,A=g.order,v=[c,A.join()].join(),D=d[v];return D||(d[v]=D=M([c,A])),D(g.shape.slice(0),g.data,g.stride,g.offset|0)}},fdTemplate1:function(M){var d={};return function(g,c){var A=g.dtype,v=g.order,D=c.dtype,E=c.order,R=[A,v.join(),D,E.join()].join(),N=d[R];return N||(d[R]=N=M([A,v,D,E])),N(g.shape.slice(0),g.data,g.stride,g.offset|0,c.data,c.stride,c.offset|0)}},fdTemplate2:function(M){var d={};return function(g,c,A){var v=g.dtype,D=g.order,E=c.dtype,R=c.order,N=A.dtype,F=A.order,I=[v,D.join(),E,R.join(),N,F.join()].join(),L=d[I];return L||(d[I]=L=M([v,D,E,R,N,F])),L(g.shape.slice(0),g.data,g.stride,g.offset|0,c.data,c.stride,c.offset|0,A.data,A.stride,A.offset|0)}}};function f(M){var d=s[M.funcName];return d(h.bind(void 0,M))}function h(M){return u[M.funcName]}function p(M){return f({funcName:M.funcName})}var b={},y={},w={body:"",args:[],thisVars:[],localVars:[]},T=p({funcName:"cdiff"}),m=p({funcName:"zero"});function k(M){return M in b?b[M]:b[M]=p({funcName:"fdTemplate"+M})}function S(M,d,_,g){return function(c,A){var v=A.shape.slice();return v[0]>2&&v[1]>2&&g(A.pick(-1,-1).lo(1,1).hi(v[0]-2,v[1]-2),c.pick(-1,-1,0).lo(1,1).hi(v[0]-2,v[1]-2),c.pick(-1,-1,1).lo(1,1).hi(v[0]-2,v[1]-2)),v[1]>2&&(_(A.pick(0,-1).lo(1).hi(v[1]-2),c.pick(0,-1,1).lo(1).hi(v[1]-2)),d(c.pick(0,-1,0).lo(1).hi(v[1]-2))),v[1]>2&&(_(A.pick(v[0]-1,-1).lo(1).hi(v[1]-2),c.pick(v[0]-1,-1,1).lo(1).hi(v[1]-2)),d(c.pick(v[0]-1,-1,0).lo(1).hi(v[1]-2))),v[0]>2&&(_(A.pick(-1,0).lo(1).hi(v[0]-2),c.pick(-1,0,0).lo(1).hi(v[0]-2)),d(c.pick(-1,0,1).lo(1).hi(v[0]-2))),v[0]>2&&(_(A.pick(-1,v[1]-1).lo(1).hi(v[0]-2),c.pick(-1,v[1]-1,0).lo(1).hi(v[0]-2)),d(c.pick(-1,v[1]-1,1).lo(1).hi(v[0]-2))),c.set(0,0,0,0),c.set(0,0,1,0),c.set(v[0]-1,0,0,0),c.set(v[0]-1,0,1,0),c.set(0,v[1]-1,0,0),c.set(0,v[1]-1,1,0),c.set(v[0]-1,v[1]-1,0,0),c.set(v[0]-1,v[1]-1,1,0),c}}function x(M){var d=M.join(),v=y[d];if(v)return v;for(var _=M.length,g=[T,m],c=1;c<=_;++c)g.push(k(c));var A=S,v=A.apply(void 0,g);return y[d]=v,v}a.exports=function(d,_,g){if(Array.isArray(g)||(typeof g=="string"?g=l(_.dimension,g):g=l(_.dimension,"clamp")),_.size===0)return d;if(_.dimension===0)return d.set(0),d;var c=x(g);return c(d,_)}},6204:function(a){"use strict";a.exports=o;function o(i){var l,u,s,f=i.length,h=0;for(l=0;l<f;++l)h+=i[l].length;var p=new Array(h),b=0;for(l=0;l<f;++l){var y=i[l],w=y.length;for(u=0;u<w;++u){var T=p[b++]=new Array(w-1),m=0;for(s=0;s<w;++s)s!==u&&(T[m++]=y[s]);if(u&1){var k=T[1];T[1]=T[0],T[0]=k}}}return p}},6296:function(a,o,i){"use strict";a.exports=p;var l=i(7261),u=i(9977),s=i(1811);function f(b,y){this._controllerNames=Object.keys(b),this._controllerList=this._controllerNames.map(function(w){return b[w]}),this._mode=y,this._active=b[y],this._active||(this._mode="turntable",this._active=b.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var h=f.prototype;h.flush=function(b){for(var y=this._controllerList,w=0;w<y.length;++w)y[w].flush(b)},h.idle=function(b){for(var y=this._controllerList,w=0;w<y.length;++w)y[w].idle(b)},h.lookAt=function(b,y,w,T){for(var m=this._controllerList,k=0;k<m.length;++k)m[k].lookAt(b,y,w,T)},h.rotate=function(b,y,w,T){for(var m=this._controllerList,k=0;k<m.length;++k)m[k].rotate(b,y,w,T)},h.pan=function(b,y,w,T){for(var m=this._controllerList,k=0;k<m.length;++k)m[k].pan(b,y,w,T)},h.translate=function(b,y,w,T){for(var m=this._controllerList,k=0;k<m.length;++k)m[k].translate(b,y,w,T)},h.setMatrix=function(b,y){for(var w=this._controllerList,T=0;T<w.length;++T)w[T].setMatrix(b,y)},h.setDistanceLimits=function(b,y){for(var w=this._controllerList,T=0;T<w.length;++T)w[T].setDistanceLimits(b,y)},h.setDistance=function(b,y){for(var w=this._controllerList,T=0;T<w.length;++T)w[T].setDistance(b,y)},h.recalcMatrix=function(b){this._active.recalcMatrix(b)},h.getDistance=function(b){return this._active.getDistance(b)},h.getDistanceLimits=function(b){return this._active.getDistanceLimits(b)},h.lastT=function(){return this._active.lastT()},h.setMode=function(b){if(b!==this._mode){var y=this._controllerNames.indexOf(b);if(!(y<0)){var w=this._active,T=this._controllerList[y],m=Math.max(w.lastT(),T.lastT());w.recalcMatrix(m),T.setMatrix(m,w.computedMatrix),this._active=T,this._mode=b,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},h.getMode=function(){return this._mode};function p(b){b=b||{};var y=b.eye||[0,0,1],w=b.center||[0,0,0],T=b.up||[0,1,0],m=b.distanceLimits||[0,1/0],k=b.mode||"turntable",S=l(),x=u(),M=s();return S.setDistanceLimits(m[0],m[1]),S.lookAt(0,y,w,T),x.setDistanceLimits(m[0],m[1]),x.lookAt(0,y,w,T),M.setDistanceLimits(m[0],m[1]),M.lookAt(0,y,w,T),new f({turntable:S,orbit:x,matrix:M},k)}},6330:function(a,o,i){"use strict";var l=i(1533);a.exports=u;function u(s){return Array.isArray(s)&&s.length===2&&l(s[0])&&l(s[1])}},6405:function(a,o,i){"use strict";var l=i(2931);a.exports=function(s,f){var h=s.positions,p=s.vectors,b={positions:[],vertexIntensity:[],vertexIntensityBounds:s.vertexIntensityBounds,vectors:[],cells:[],coneOffset:s.coneOffset,colormap:s.colormap};if(s.positions.length===0)return f&&(f[0]=[0,0,0],f[1]=[0,0,0]),b;for(var y=0,w=1/0,T=-1/0,m=1/0,k=-1/0,S=1/0,x=-1/0,M=null,d=null,_=[],g=1/0,c=!1,A=s.coneSizemode==="raw",v=0;v<h.length;v++){var D=h[v];w=Math.min(D[0],w),T=Math.max(D[0],T),m=Math.min(D[1],m),k=Math.max(D[1],k),S=Math.min(D[2],S),x=Math.max(D[2],x);var E=p[v];if(l.length(E)>y&&(y=l.length(E)),v&&!A){var R=2*l.distance(M,D)/(l.length(d)+l.length(E));R?(g=Math.min(g,R),c=!1):c=!0}c||(M=D,d=E),_.push(E)}var N=[w,m,S],F=[T,k,x];f&&(f[0]=N,f[1]=F),y===0&&(y=1);var I=1/y;isFinite(g)||(g=1),b.vectorScale=g;var L=s.coneSize||(A?1:.5);s.absoluteConeSize&&(L=s.absoluteConeSize*I),b.coneScale=L;for(var v=0,P=0;v<h.length;v++)for(var D=h[v],O=D[0],U=D[1],X=D[2],$=_[v],j=l.length($)*I,Y=0,q=8;Y<q;Y++){b.positions.push([O,U,X,P++]),b.positions.push([O,U,X,P++]),b.positions.push([O,U,X,P++]),b.positions.push([O,U,X,P++]),b.positions.push([O,U,X,P++]),b.positions.push([O,U,X,P++]),b.vectors.push($),b.vectors.push($),b.vectors.push($),b.vectors.push($),b.vectors.push($),b.vectors.push($),b.vertexIntensity.push(j,j,j),b.vertexIntensity.push(j,j,j);var Q=b.positions.length;b.cells.push([Q-6,Q-5,Q-4],[Q-3,Q-2,Q-1])}return b};var u=i(614);a.exports.createMesh=i(9060),a.exports.createConeMesh=function(s,f){return a.exports.createMesh(s,f,{shaders:u,traceType:"cone"})}},6429:function(a,o,i){"use strict";a.exports=d;var l=i(8828),u=i(6760),s=i(5202),f=i(3250),h=new Array(16),p=new Array(8),b=new Array(8),y=new Array(3),w=[0,0,0];(function(){for(var _=0;_<8;++_)p[_]=[1,1,1,1],b[_]=[1,1,1]})();function T(_,g,c){for(var A=0;A<4;++A){_[A]=c[12+A];for(var v=0;v<3;++v)_[A]+=g[v]*c[4*v+A]}}var m=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function k(_){for(var g=0;g<m.length;++g)if(_=s.positive(_,m[g]),_.length<3)return 0;for(var c=_[0],A=c[0]/c[3],v=c[1]/c[3],D=0,g=1;g+1<_.length;++g){var E=_[g],R=_[g+1],N=E[0]/E[3],F=E[1]/E[3],I=R[0]/R[3],L=R[1]/R[3],P=N-A,O=F-v,U=I-A,X=L-v;D+=Math.abs(P*X-O*U)}return D}var S=[1,1,1],x=[0,0,0],M={cubeEdges:S,axis:x};function d(_,g,c,A,v){u(h,g,_),u(h,c,h);for(var D=0,E=0;E<2;++E){y[2]=A[E][2];for(var R=0;R<2;++R){y[1]=A[R][1];for(var N=0;N<2;++N)y[0]=A[N][0],T(p[D],y,h),D+=1}}for(var F=-1,E=0;E<8;++E){for(var I=p[E][3],L=0;L<3;++L)b[E][L]=p[E][L]/I;v&&(b[E][2]*=-1),I<0&&(F<0||b[E][2]<b[F][2])&&(F=E)}if(F<0){F=0;for(var P=0;P<3;++P){for(var O=(P+2)%3,U=(P+1)%3,X=-1,$=-1,j=0;j<2;++j){var Y=j<<P,q=Y+(j<<O)+(1-j<<U),Q=Y+(1-j<<O)+(j<<U);f(b[Y],b[q],b[Q],w)<0||(j?X=1:$=1)}if(X<0||$<0){$>X&&(F|=1<<P);continue}for(var j=0;j<2;++j){var Y=j<<P,q=Y+(j<<O)+(1-j<<U),Q=Y+(1-j<<O)+(j<<U),ae=k([p[Y],p[q],p[Q],p[Y+(1<<O)+(1<<U)]]);j?X=ae:$=ae}if($>X){F|=1<<P;continue}}}for(var K=7^F,oe=-1,E=0;E<8;++E)E===F||E===K||(oe<0||b[oe][1]>b[E][1])&&(oe=E);for(var re=-1,E=0;E<3;++E){var V=oe^1<<E;if(!(V===F||V===K)){re<0&&(re=V);var U=b[V];U[0]<b[re][0]&&(re=V)}}for(var ee=-1,E=0;E<3;++E){var V=oe^1<<E;if(!(V===F||V===K||V===re)){ee<0&&(ee=V);var U=b[V];U[0]>b[ee][0]&&(ee=V)}}var H=S;H[0]=H[1]=H[2]=0,H[l.log2(re^oe)]=oe&re,H[l.log2(oe^ee)]=oe&ee;var te=ee^7;te===F||te===K?(te=re^7,H[l.log2(ee^te)]=te&ee):H[l.log2(re^te)]=te&re;for(var le=x,ve=F,P=0;P<3;++P)ve&1<<P?le[P]=-1:le[P]=1;return M}},6444:function(a,o){"use strict";o.create=l,o.equal=u;function i(s,f){var h=s+"",p=h.indexOf("."),b=0;p>=0&&(b=h.length-p-1);var y=Math.pow(10,b),w=Math.round(s*f*y),T=w+"";if(T.indexOf("e")>=0)return T;var m=w/y,k=w%y;w<0?(m=-Math.ceil(m)|0,k=-k|0):(m=Math.floor(m)|0,k=k|0);var S=""+m;if(w<0&&(S="-"+S),b){for(var x=""+k;x.length<b;)x="0"+x;return S+"."+x}else return S}function l(s,f){for(var h=[],p=0;p<3;++p){for(var b=[],y=.5*(s[0][p]+s[1][p]),w=0;w*f[p]<=s[1][p];++w)b.push({x:w*f[p],text:i(f[p],w)});for(var w=-1;w*f[p]>=s[0][p];--w)b.push({x:w*f[p],text:i(f[p],w)});h.push(b)}return h}function u(s,f){for(var h=0;h<3;++h){if(s[h].length!==f[h].length)return!1;for(var p=0;p<s[h].length;++p){var b=s[h][p],y=f[h][p];if(b.x!==y.x||b.text!==y.text||b.font!==y.font||b.fontColor!==y.fontColor||b.fontSize!==y.fontSize||b.dx!==y.dx||b.dy!==y.dy)return!1}}return!0}},6468:function(a){a.exports=function(i){return atob(i)}},6504:function(a,o,i){"use strict";var l=i(869);a.exports=u;function u(s,f){return l(s[0].mul(f[0]),s[1].mul(f[1]))}},6582:function(a,o,i){var l=i(7894);a.exports=u;function u(s,f,h,p){var b,y,w,T,m,k,S,x,M,d,_=f[0],g=f[1],c=f[2],A=p[0],v=p[1],D=p[2],E=h[0],R=h[1],N=h[2];return Math.abs(_-E)<1e-6&&Math.abs(g-R)<1e-6&&Math.abs(c-N)<1e-6?l(s):(S=_-E,x=g-R,M=c-N,d=1/Math.sqrt(S*S+x*x+M*M),S*=d,x*=d,M*=d,b=v*M-D*x,y=D*S-A*M,w=A*x-v*S,d=Math.sqrt(b*b+y*y+w*w),d?(d=1/d,b*=d,y*=d,w*=d):(b=0,y=0,w=0),T=x*w-M*y,m=M*b-S*w,k=S*y-x*b,d=Math.sqrt(T*T+m*m+k*k),d?(d=1/d,T*=d,m*=d,k*=d):(T=0,m=0,k=0),s[0]=b,s[1]=T,s[2]=S,s[3]=0,s[4]=y,s[5]=m,s[6]=x,s[7]=0,s[8]=w,s[9]=k,s[10]=M,s[11]=0,s[12]=-(b*_+y*g+w*c),s[13]=-(T*_+m*g+k*c),s[14]=-(S*_+x*g+M*c),s[15]=1,s)}},6621:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]*u,i[1]=l[1]*u,i[2]=l[2]*u,i}},6658:function(a){a.exports=o;function o(i,l,u,s){var f=l[0],h=l[1],p=l[2];return i[0]=f+s*(u[0]-f),i[1]=h+s*(u[1]-h),i[2]=p+s*(u[2]-p),i}},6690:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]/u[0],i[1]=l[1]/u[1],i[2]=l[2]/u[2],i}},6729:function(a,o,i){"use strict";var l=i(3642),u=i(395);a.exports=s;function s(b){var y,w,T,m,k,S,x,M,c,d,_;if(b||(b={}),M=(b.nshades||72)-1,x=b.format||"hex",S=b.colormap,S||(S="jet"),typeof S=="string"){if(S=S.toLowerCase(),!l[S])throw Error(S+" not a supported colorscale");k=l[S]}else if(Array.isArray(S))k=S.slice();else throw Error("unsupported colormap option",S);if(k.length>M+1)throw new Error(S+" map requires nshades to be at least size "+k.length);Array.isArray(b.alpha)?b.alpha.length!==2?d=[1,1]:d=b.alpha.slice():typeof b.alpha=="number"?d=[b.alpha,b.alpha]:d=[1,1],y=k.map(function(D){return Math.round(D.index*M)}),d[0]=Math.min(Math.max(d[0],0),1),d[1]=Math.min(Math.max(d[1],0),1);var g=k.map(function(D,E){var R=k[E].index,N=k[E].rgb.slice();return N.length===4&&N[3]>=0&&N[3]<=1||(N[3]=d[0]+(d[1]-d[0])*R),N}),c=[];for(_=0;_<y.length-1;++_){m=y[_+1]-y[_],w=g[_],T=g[_+1];for(var A=0;A<m;A++){var v=A/m;c.push([Math.round(u(w[0],T[0],v)),Math.round(u(w[1],T[1],v)),Math.round(u(w[2],T[2],v)),u(w[3],T[3],v)])}}return c.push(k[k.length-1].rgb.concat(d[1])),x==="hex"?c=c.map(h):x==="rgbaString"?c=c.map(p):x==="float"&&(c=c.map(f)),c}function f(b){return[b[0]/255,b[1]/255,b[2]/255,b[3]]}function h(b){for(var y,w="#",T=0;T<3;++T)y=b[T],y=y.toString(16),w+=("00"+y).substr(y.length);return w}function p(b){return"rgba("+b.join(",")+")"}},6740:function(a,o,i){var l=i(3236),u=l([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),s=l([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=l([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * (view * tubePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),h=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);o.meshShader={vertex:u,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},o.pickShader={vertex:f,fragment:h,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},6743:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],h=l[2],p=l[3],b=s+s,y=f+f,w=h+h,T=s*b,m=s*y,k=s*w,S=f*y,x=f*w,M=h*w,d=p*b,_=p*y,g=p*w;return i[0]=1-(S+M),i[1]=m+g,i[2]=k-_,i[3]=0,i[4]=m-g,i[5]=1-(T+M),i[6]=x+d,i[7]=0,i[8]=k+_,i[9]=x-d,i[10]=1-(T+S),i[11]=0,i[12]=u[0],i[13]=u[1],i[14]=u[2],i[15]=1,i}},6760:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],h=l[2],p=l[3],b=l[4],y=l[5],w=l[6],T=l[7],m=l[8],k=l[9],S=l[10],x=l[11],M=l[12],d=l[13],_=l[14],g=l[15],c=u[0],A=u[1],v=u[2],D=u[3];return i[0]=c*s+A*b+v*m+D*M,i[1]=c*f+A*y+v*k+D*d,i[2]=c*h+A*w+v*S+D*_,i[3]=c*p+A*T+v*x+D*g,c=u[4],A=u[5],v=u[6],D=u[7],i[4]=c*s+A*b+v*m+D*M,i[5]=c*f+A*y+v*k+D*d,i[6]=c*h+A*w+v*S+D*_,i[7]=c*p+A*T+v*x+D*g,c=u[8],A=u[9],v=u[10],D=u[11],i[8]=c*s+A*b+v*m+D*M,i[9]=c*f+A*y+v*k+D*d,i[10]=c*h+A*w+v*S+D*_,i[11]=c*p+A*T+v*x+D*g,c=u[12],A=u[13],v=u[14],D=u[15],i[12]=c*s+A*b+v*m+D*M,i[13]=c*f+A*y+v*k+D*d,i[14]=c*h+A*w+v*S+D*_,i[15]=c*p+A*T+v*x+D*g,i}},6768:function(a,o,i){"use strict";var l=i(6859);a.exports=u;function u(s){return new l(s)}},6803:function(a,o,i){"use strict";var l,u=i(8828),s=i(1755);function f(A){for(var v=0,D=Math.max,E=0,R=A.length;E<R;++E)v=D(v,A[E].length);return v-1}l=f;function h(A){for(var v=-1,D=Math.max,E=0,R=A.length;E<R;++E)for(var N=A[E],F=0,I=N.length;F<I;++F)v=D(v,N[F]);return v+1}l=h;function p(A){for(var v=new Array(A.length),D=0,E=A.length;D<E;++D)v[D]=A[D].slice(0);return v}l=p;function b(A,v){var D=A.length,E=A.length-v.length,R=Math.min;if(E)return E;switch(D){case 0:return 0;case 1:return A[0]-v[0];case 2:var P=A[0]+A[1]-v[0]-v[1];return P||R(A[0],A[1])-R(v[0],v[1]);case 3:var N=A[0]+A[1],F=v[0]+v[1];if(P=N+A[2]-(F+v[2]),P)return P;var I=R(A[0],A[1]),L=R(v[0],v[1]),P=R(I,A[2])-R(L,v[2]);return P||R(I+A[2],N)-R(L+v[2],F);default:var O=A.slice(0);O.sort();var U=v.slice(0);U.sort();for(var X=0;X<D;++X)if(E=O[X]-U[X],E)return E;return 0}}o.Fw=b;function y(A,v){return b(A[0],v[0])}function w(A,v){if(v){for(var D=A.length,E=new Array(D),R=0;R<D;++R)E[R]=[A[R],v[R]];E.sort(y);for(var R=0;R<D;++R)A[R]=E[R][0],v[R]=E[R][1];return A}else return A.sort(b),A}l=w;function T(A){if(A.length===0)return[];for(var v=1,D=A.length,E=1;E<D;++E){var R=A[E];if(b(R,A[E-1])){if(E===v){v++;continue}A[v++]=R}}return A.length=v,A}l=T;function m(A,v){for(var D=0,E=A.length-1,R=-1;D<=E;){var N=D+E>>1,F=b(A[N],v);F<=0?(F===0&&(R=N),D=N+1):F>0&&(E=N-1)}return R}l=m;function k(A,v){for(var D=new Array(A.length),E=0,R=D.length;E<R;++E)D[E]=[];for(var N=[],E=0,F=v.length;E<F;++E)for(var I=v[E],L=I.length,P=1,O=1<<L;P<O;++P){N.length=u.popCount(P);for(var U=0,X=0;X<L;++X)P&1<<X&&(N[U++]=I[X]);var $=m(A,N);if(!($<0))for(;D[$++].push(E),!($>=A.length||b(A[$],N)!==0););}return D}l=k;function S(A,v){if(!v)return k(T(M(A,0)),A,0);for(var D=new Array(v),E=0;E<v;++E)D[E]=[];for(var E=0,R=A.length;E<R;++E)for(var N=A[E],F=0,I=N.length;F<I;++F)D[N[F]].push(E);return D}l=S;function x(A){for(var v=[],D=0,E=A.length;D<E;++D)for(var R=A[D],N=R.length|0,F=1,I=1<<N;F<I;++F){for(var L=[],P=0;P<N;++P)F>>>P&1&&L.push(R[P]);v.push(L)}return w(v)}l=x;function M(A,v){if(v<0)return[];for(var D=[],E=(1<<v+1)-1,R=0;R<A.length;++R)for(var N=A[R],F=E;F<1<<N.length;F=u.nextCombination(F)){for(var I=new Array(v+1),L=0,P=0;P<N.length;++P)F&1<<P&&(I[L++]=N[P]);D.push(I)}return w(D)}l=M;function d(A){for(var v=[],D=0,E=A.length;D<E;++D)for(var R=A[D],N=0,F=R.length;N<F;++N){for(var I=new Array(R.length-1),L=0,P=0;L<F;++L)L!==N&&(I[P++]=R[L]);v.push(I)}return w(v)}l=d;function _(A,v){for(var D=new s(v),E=0;E<A.length;++E)for(var R=A[E],N=0;N<R.length;++N)for(var F=N+1;F<R.length;++F)D.link(R[N],R[F]);for(var I=[],L=D.ranks,E=0;E<L.length;++E)L[E]=-1;for(var E=0;E<A.length;++E){var P=D.find(A[E][0]);L[P]<0?(L[P]=I.length,I.push([A[E].slice(0)])):I[L[P]].push(A[E].slice(0))}return I}function g(A){for(var v=T(w(M(A,0))),D=new s(v.length),E=0;E<A.length;++E)for(var R=A[E],N=0;N<R.length;++N)for(var F=m(v,[R[N]]),I=N+1;I<R.length;++I)D.link(F,m(v,[R[I]]));for(var L=[],P=D.ranks,E=0;E<P.length;++E)P[E]=-1;for(var E=0;E<A.length;++E){var O=D.find(m(v,[A[E][0]]));P[O]<0?(P[O]=L.length,L.push([A[E].slice(0)])):L[P[O]].push(A[E].slice(0))}return L}function c(A,v){return v?_(A,v):g(A)}l=c},6808:function(a){a.exports=o;function o(i){var l=i[0],u=i[1],s=i[2],f=i[3];return Math.sqrt(l*l+u*u+s*s+f*f)}},6843:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]-u[0],i[1]=l[1]-u[1],i[2]=l[2]-u[2],i}},6852:function(a){a.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},6859:function(a,o,i){a=i.nmd(a),function(l,u){"use strict";function s(I,L){if(!I)throw new Error(L||"Assertion failed")}function f(I,L){I.super_=L;var P=function(){};P.prototype=L.prototype,I.prototype=new P,I.prototype.constructor=I}function h(I,L,P){if(h.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&((L==="le"||L==="be")&&(P=L,L=10),this._init(I||0,L||10,P||"be"))}typeof l=="object"?l.exports=h:u.BN=h,h.BN=h,h.wordSize=26;var p;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?p=window.Buffer:p=i(7790).Buffer}catch(I){}h.isBN=function(L){return L instanceof h?!0:L!==null&&typeof L=="object"&&L.constructor.wordSize===h.wordSize&&Array.isArray(L.words)},h.max=function(L,P){return L.cmp(P)>0?L:P},h.min=function(L,P){return L.cmp(P)<0?L:P},h.prototype._init=function(L,P,O){if(typeof L=="number")return this._initNumber(L,P,O);if(typeof L=="object")return this._initArray(L,P,O);P==="hex"&&(P=16),s(P===(P|0)&&P>=2&&P<=36),L=L.toString().replace(/\s+/g,"");var U=0;L[0]==="-"&&(U++,this.negative=1),U<L.length&&(P===16?this._parseHex(L,U,O):(this._parseBase(L,P,U),O==="le"&&this._initArray(this.toArray(),P,O)))},h.prototype._initNumber=function(L,P,O){L<0&&(this.negative=1,L=-L),L<67108864?(this.words=[L&67108863],this.length=1):L<4503599627370496?(this.words=[L&67108863,L/67108864&67108863],this.length=2):(s(L<9007199254740992),this.words=[L&67108863,L/67108864&67108863,1],this.length=3),O==="le"&&this._initArray(this.toArray(),P,O)},h.prototype._initArray=function(L,P,O){if(s(typeof L.length=="number"),L.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(L.length/3),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var X,$,j=0;if(O==="be")for(U=L.length-1,X=0;U>=0;U-=3)$=L[U]|L[U-1]<<8|L[U-2]<<16,this.words[X]|=$<<j&67108863,this.words[X+1]=$>>>26-j&67108863,j+=24,j>=26&&(j-=26,X++);else if(O==="le")for(U=0,X=0;U<L.length;U+=3)$=L[U]|L[U+1]<<8|L[U+2]<<16,this.words[X]|=$<<j&67108863,this.words[X+1]=$>>>26-j&67108863,j+=24,j>=26&&(j-=26,X++);return this.strip()};function b(I,L){var P=I.charCodeAt(L);return P>=65&&P<=70?P-55:P>=97&&P<=102?P-87:P-48&15}function y(I,L,P){var O=b(I,P);return P-1>=L&&(O|=b(I,P-1)<<4),O}h.prototype._parseHex=function(L,P,O){this.length=Math.ceil((L.length-P)/6),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var X=0,$=0,j;if(O==="be")for(U=L.length-1;U>=P;U-=2)j=y(L,P,U)<<X,this.words[$]|=j&67108863,X>=18?(X-=18,$+=1,this.words[$]|=j>>>26):X+=8;else{var Y=L.length-P;for(U=Y%2===0?P+1:P;U<L.length;U+=2)j=y(L,P,U)<<X,this.words[$]|=j&67108863,X>=18?(X-=18,$+=1,this.words[$]|=j>>>26):X+=8}this.strip()};function w(I,L,P,O){for(var U=0,X=Math.min(I.length,P),$=L;$<X;$++){var j=I.charCodeAt($)-48;U*=O,j>=49?U+=j-49+10:j>=17?U+=j-17+10:U+=j}return U}h.prototype._parseBase=function(L,P,O){this.words=[0],this.length=1;for(var U=0,X=1;X<=67108863;X*=P)U++;U--,X=X/P|0;for(var $=L.length-O,j=$%U,Y=Math.min($,$-j)+O,q=0,Q=O;Q<Y;Q+=U)q=w(L,Q,Q+U,P),this.imuln(X),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q);if(j!==0){var ae=1;for(q=w(L,Q,L.length,P),Q=0;Q<j;Q++)ae*=P;this.imuln(ae),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q)}this.strip()},h.prototype.copy=function(L){L.words=new Array(this.length);for(var P=0;P<this.length;P++)L.words[P]=this.words[P];L.length=this.length,L.negative=this.negative,L.red=this.red},h.prototype.clone=function(){var L=new h(null);return this.copy(L),L},h.prototype._expand=function(L){for(;this.length<L;)this.words[this.length++]=0;return this},h.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},h.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},h.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var T=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];h.prototype.toString=function(L,P){L=L||10,P=P|0||1;var O;if(L===16||L==="hex"){O="";for(var U=0,X=0,$=0;$<this.length;$++){var j=this.words[$],Y=((j<<U|X)&16777215).toString(16);X=j>>>24-U&16777215,X!==0||$!==this.length-1?O=T[6-Y.length]+Y+O:O=Y+O,U+=2,U>=26&&(U-=26,$--)}for(X!==0&&(O=X.toString(16)+O);O.length%P!==0;)O="0"+O;return this.negative!==0&&(O="-"+O),O}if(L===(L|0)&&L>=2&&L<=36){var q=m[L],Q=k[L];O="";var ae=this.clone();for(ae.negative=0;!ae.isZero();){var K=ae.modn(Q).toString(L);ae=ae.idivn(Q),ae.isZero()?O=K+O:O=T[q-K.length]+K+O}for(this.isZero()&&(O="0"+O);O.length%P!==0;)O="0"+O;return this.negative!==0&&(O="-"+O),O}s(!1,"Base should be between 2 and 36")},h.prototype.toNumber=function(){var L=this.words[0];return this.length===2?L+=this.words[1]*67108864:this.length===3&&this.words[2]===1?L+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-L:L},h.prototype.toJSON=function(){return this.toString(16)},h.prototype.toBuffer=function(L,P){return s(typeof p!="undefined"),this.toArrayLike(p,L,P)},h.prototype.toArray=function(L,P){return this.toArrayLike(Array,L,P)},h.prototype.toArrayLike=function(L,P,O){var U=this.byteLength(),X=O||Math.max(1,U);s(U<=X,"byte array longer than desired length"),s(X>0,"Requested array length <= 0"),this.strip();var $=P==="le",j=new L(X),Y,q,Q=this.clone();if($){for(q=0;!Q.isZero();q++)Y=Q.andln(255),Q.iushrn(8),j[q]=Y;for(;q<X;q++)j[q]=0}else{for(q=0;q<X-U;q++)j[q]=0;for(q=0;!Q.isZero();q++)Y=Q.andln(255),Q.iushrn(8),j[X-q-1]=Y}return j},Math.clz32?h.prototype._countBits=function(L){return 32-Math.clz32(L)}:h.prototype._countBits=function(L){var P=L,O=0;return P>=4096&&(O+=13,P>>>=13),P>=64&&(O+=7,P>>>=7),P>=8&&(O+=4,P>>>=4),P>=2&&(O+=2,P>>>=2),O+P},h.prototype._zeroBits=function(L){if(L===0)return 26;var P=L,O=0;return(P&8191)===0&&(O+=13,P>>>=13),(P&127)===0&&(O+=7,P>>>=7),(P&15)===0&&(O+=4,P>>>=4),(P&3)===0&&(O+=2,P>>>=2),(P&1)===0&&O++,O},h.prototype.bitLength=function(){var L=this.words[this.length-1],P=this._countBits(L);return(this.length-1)*26+P};function S(I){for(var L=new Array(I.bitLength()),P=0;P<L.length;P++){var O=P/26|0,U=P%26;L[P]=(I.words[O]&1<<U)>>>U}return L}h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var L=0,P=0;P<this.length;P++){var O=this._zeroBits(this.words[P]);if(L+=O,O!==26)break}return L},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(L){return this.negative!==0?this.abs().inotn(L).iaddn(1):this.clone()},h.prototype.fromTwos=function(L){return this.testn(L-1)?this.notn(L).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return this.negative!==0},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(L){for(;this.length<L.length;)this.words[this.length++]=0;for(var P=0;P<L.length;P++)this.words[P]=this.words[P]|L.words[P];return this.strip()},h.prototype.ior=function(L){return s((this.negative|L.negative)===0),this.iuor(L)},h.prototype.or=function(L){return this.length>L.length?this.clone().ior(L):L.clone().ior(this)},h.prototype.uor=function(L){return this.length>L.length?this.clone().iuor(L):L.clone().iuor(this)},h.prototype.iuand=function(L){var P;this.length>L.length?P=L:P=this;for(var O=0;O<P.length;O++)this.words[O]=this.words[O]&L.words[O];return this.length=P.length,this.strip()},h.prototype.iand=function(L){return s((this.negative|L.negative)===0),this.iuand(L)},h.prototype.and=function(L){return this.length>L.length?this.clone().iand(L):L.clone().iand(this)},h.prototype.uand=function(L){return this.length>L.length?this.clone().iuand(L):L.clone().iuand(this)},h.prototype.iuxor=function(L){var P,O;this.length>L.length?(P=this,O=L):(P=L,O=this);for(var U=0;U<O.length;U++)this.words[U]=P.words[U]^O.words[U];if(this!==P)for(;U<P.length;U++)this.words[U]=P.words[U];return this.length=P.length,this.strip()},h.prototype.ixor=function(L){return s((this.negative|L.negative)===0),this.iuxor(L)},h.prototype.xor=function(L){return this.length>L.length?this.clone().ixor(L):L.clone().ixor(this)},h.prototype.uxor=function(L){return this.length>L.length?this.clone().iuxor(L):L.clone().iuxor(this)},h.prototype.inotn=function(L){s(typeof L=="number"&&L>=0);var P=Math.ceil(L/26)|0,O=L%26;this._expand(P),O>0&&P--;for(var U=0;U<P;U++)this.words[U]=~this.words[U]&67108863;return O>0&&(this.words[U]=~this.words[U]&67108863>>26-O),this.strip()},h.prototype.notn=function(L){return this.clone().inotn(L)},h.prototype.setn=function(L,P){s(typeof L=="number"&&L>=0);var O=L/26|0,U=L%26;return this._expand(O+1),P?this.words[O]=this.words[O]|1<<U:this.words[O]=this.words[O]&~(1<<U),this.strip()},h.prototype.iadd=function(L){var P;if(this.negative!==0&&L.negative===0)return this.negative=0,P=this.isub(L),this.negative^=1,this._normSign();if(this.negative===0&&L.negative!==0)return L.negative=0,P=this.isub(L),L.negative=1,P._normSign();var O,U;this.length>L.length?(O=this,U=L):(O=L,U=this);for(var X=0,$=0;$<U.length;$++)P=(O.words[$]|0)+(U.words[$]|0)+X,this.words[$]=P&67108863,X=P>>>26;for(;X!==0&&$<O.length;$++)P=(O.words[$]|0)+X,this.words[$]=P&67108863,X=P>>>26;if(this.length=O.length,X!==0)this.words[this.length]=X,this.length++;else if(O!==this)for(;$<O.length;$++)this.words[$]=O.words[$];return this},h.prototype.add=function(L){var P;return L.negative!==0&&this.negative===0?(L.negative=0,P=this.sub(L),L.negative^=1,P):L.negative===0&&this.negative!==0?(this.negative=0,P=L.sub(this),this.negative=1,P):this.length>L.length?this.clone().iadd(L):L.clone().iadd(this)},h.prototype.isub=function(L){if(L.negative!==0){L.negative=0;var P=this.iadd(L);return L.negative=1,P._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(L),this.negative=1,this._normSign();var O=this.cmp(L);if(O===0)return this.negative=0,this.length=1,this.words[0]=0,this;var U,X;O>0?(U=this,X=L):(U=L,X=this);for(var $=0,j=0;j<X.length;j++)P=(U.words[j]|0)-(X.words[j]|0)+$,$=P>>26,this.words[j]=P&67108863;for(;$!==0&&j<U.length;j++)P=(U.words[j]|0)+$,$=P>>26,this.words[j]=P&67108863;if($===0&&j<U.length&&U!==this)for(;j<U.length;j++)this.words[j]=U.words[j];return this.length=Math.max(this.length,j),U!==this&&(this.negative=1),this.strip()},h.prototype.sub=function(L){return this.clone().isub(L)};function x(I,L,P){P.negative=L.negative^I.negative;var O=I.length+L.length|0;P.length=O,O=O-1|0;var U=I.words[0]|0,X=L.words[0]|0,$=U*X,j=$&67108863,Y=$/67108864|0;P.words[0]=j;for(var q=1;q<O;q++){for(var Q=Y>>>26,ae=Y&67108863,K=Math.min(q,L.length-1),oe=Math.max(0,q-I.length+1);oe<=K;oe++){var re=q-oe|0;U=I.words[re]|0,X=L.words[oe]|0,$=U*X+ae,Q+=$/67108864|0,ae=$&67108863}P.words[q]=ae|0,Y=Q|0}return Y!==0?P.words[q]=Y|0:P.length--,P.strip()}var M=function(L,P,O){var U=L.words,X=P.words,$=O.words,j=0,Y,q,Q,ae=U[0]|0,K=ae&8191,oe=ae>>>13,re=U[1]|0,V=re&8191,ee=re>>>13,H=U[2]|0,te=H&8191,le=H>>>13,ve=U[3]|0,Ae=ve&8191,we=ve>>>13,ce=U[4]|0,Se=ce&8191,Ce=ce>>>13,Fe=U[5]|0,Ee=Fe&8191,ze=Fe>>>13,Ue=U[6]|0,ge=Ue&8191,Me=Ue>>>13,ke=U[7]|0,me=ke&8191,ye=ke>>>13,pe=U[8]|0,he=pe&8191,xe=pe>>>13,Le=U[9]|0,qe=Le&8191,Ne=Le>>>13,$e=X[0]|0,Ve=$e&8191,Be=$e>>>13,Ye=X[1]|0,Te=Ye&8191,Re=Ye>>>13,Qe=X[2]|0,Ke=Qe&8191,ar=Qe>>>13,ue=X[3]|0,J=ue&8191,ne=ue>>>13,De=X[4]|0,He=De&8191,er=De>>>13,nr=X[5]|0,fr=nr&8191,br=nr>>>13,Sr=X[6]|0,Mr=Sr&8191,Ar=Sr>>>13,ft=X[7]|0,sr=ft&8191,Pr=ft>>>13,$r=X[8]|0,Fr=$r&8191,Gr=$r>>>13,pt=X[9]|0,Rr=pt&8191,jr=pt>>>13;O.negative=L.negative^P.negative,O.length=19,Y=Math.imul(K,Ve),q=Math.imul(K,Be),q=q+Math.imul(oe,Ve)|0,Q=Math.imul(oe,Be);var vn=(j+Y|0)+((q&8191)<<13)|0;j=(Q+(q>>>13)|0)+(vn>>>26)|0,vn&=67108863,Y=Math.imul(V,Ve),q=Math.imul(V,Be),q=q+Math.imul(ee,Ve)|0,Q=Math.imul(ee,Be),Y=Y+Math.imul(K,Te)|0,q=q+Math.imul(K,Re)|0,q=q+Math.imul(oe,Te)|0,Q=Q+Math.imul(oe,Re)|0;var Et=(j+Y|0)+((q&8191)<<13)|0;j=(Q+(q>>>13)|0)+(Et>>>26)|0,Et&=67108863,Y=Math.imul(te,Ve),q=Math.imul(te,Be),q=q+Math.imul(le,Ve)|0,Q=Math.imul(le,Be),Y=Y+Math.imul(V,Te)|0,q=q+Math.imul(V,Re)|0,q=q+Math.imul(ee,Te)|0,Q=Q+Math.imul(ee,Re)|0,Y=Y+Math.imul(K,Ke)|0,q=q+Math.imul(K,ar)|0,q=q+Math.imul(oe,Ke)|0,Q=Q+Math.imul(oe,ar)|0;var Tn=(j+Y|0)+((q&8191)<<13)|0;j=(Q+(q>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,Y=Math.imul(Ae,Ve),q=Math.imul(Ae,Be),q=q+Math.imul(we,Ve)|0,Q=Math.imul(we,Be),Y=Y+Math.imul(te,Te)|0,q=q+Math.imul(te,Re)|0,q=q+Math.imul(le,Te)|0,Q=Q+Math.imul(le,Re)|0,Y=Y+Math.imul(V,Ke)|0,q=q+Math.imul(V,ar)|0,q=q+Math.imul(ee,Ke)|0,Q=Q+Math.imul(ee,ar)|0,Y=Y+Math.imul(K,J)|0,q=q+Math.imul(K,ne)|0,q=q+Math.imul(oe,J)|0,Q=Q+Math.imul(oe,ne)|0;var Ot=(j+Y|0)+((q&8191)<<13)|0;j=(Q+(q>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,Y=Math.imul(Se,Ve),q=Math.imul(Se,Be),q=q+Math.imul(Ce,Ve)|0,Q=Math.imul(Ce,Be),Y=Y+Math.imul(Ae,Te)|0,q=q+Math.imul(Ae,Re)|0,q=q+Math.imul(we,Te)|0,Q=Q+Math.imul(we,Re)|0,Y=Y+Math.imul(te,Ke)|0,q=q+Math.imul(te,ar)|0,q=q+Math.imul(le,Ke)|0,Q=Q+Math.imul(le,ar)|0,Y=Y+Math.imul(V,J)|0,q=q+Math.imul(V,ne)|0,q=q+Math.imul(ee,J)|0,Q=Q+Math.imul(ee,ne)|0,Y=Y+Math.imul(K,He)|0,q=q+Math.imul(K,er)|0,q=q+Math.imul(oe,He)|0,Q=Q+Math.imul(oe,er)|0;var bt=(j+Y|0)+((q&8191)<<13)|0;j=(Q+(q>>>13)|0)+(bt>>>26)|0,bt&=67108863,Y=Math.imul(Ee,Ve),q=Math.imul(Ee,Be),q=q+Math.imul(ze,Ve)|0,Q=Math.imul(ze,Be),Y=Y+Math.imul(Se,Te)|0,q=q+Math.imul(Se,Re)|0,q=q+Math.imul(Ce,Te)|0,Q=Q+Math.imul(Ce,Re)|0,Y=Y+Math.imul(Ae,Ke)|0,q=q+Math.imul(Ae,ar)|0,q=q+Math.imul(we,Ke)|0,Q=Q+Math.imul(we,ar)|0,Y=Y+Math.imul(te,J)|0,q=q+Math.imul(te,ne)|0,q=q+Math.imul(le,J)|0,Q=Q+Math.imul(le,ne)|0,Y=Y+Math.imul(V,He)|0,q=q+Math.imul(V,er)|0,q=q+Math.imul(ee,He)|0,Q=Q+Math.imul(ee,er)|0,Y=Y+Math.imul(K,fr)|0,q=q+Math.imul(K,br)|0,q=q+Math.imul(oe,fr)|0,Q=Q+Math.imul(oe,br)|0;var gt=(j+Y|0)+((q&8191)<<13)|0;j=(Q+(q>>>13)|0)+(gt>>>26)|0,gt&=67108863,Y=Math.imul(ge,Ve),q=Math.imul(ge,Be),q=q+Math.imul(Me,Ve)|0,Q=Math.imul(Me,Be),Y=Y+Math.imul(Ee,Te)|0,q=q+Math.imul(Ee,Re)|0,q=q+Math.imul(ze,Te)|0,Q=Q+Math.imul(ze,Re)|0,Y=Y+Math.imul(Se,Ke)|0,q=q+Math.imul(Se,ar)|0,q=q+Math.imul(Ce,Ke)|0,Q=Q+Math.imul(Ce,ar)|0,Y=Y+Math.imul(Ae,J)|0,q=q+Math.imul(Ae,ne)|0,q=q+Math.imul(we,J)|0,Q=Q+Math.imul(we,ne)|0,Y=Y+Math.imul(te,He)|0,q=q+Math.imul(te,er)|0,q=q+Math.imul(le,He)|0,Q=Q+Math.imul(le,er)|0,Y=Y+Math.imul(V,fr)|0,q=q+Math.imul(V,br)|0,q=q+Math.imul(ee,fr)|0,Q=Q+Math.imul(ee,br)|0,Y=Y+Math.imul(K,Mr)|0,q=q+Math.imul(K,Ar)|0,q=q+Math.imul(oe,Mr)|0,Q=Q+Math.imul(oe,Ar)|0;var Nt=(j+Y|0)+((q&8191)<<13)|0;j=(Q+(q>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,Y=Math.imul(me,Ve),q=Math.imul(me,Be),q=q+Math.imul(ye,Ve)|0,Q=Math.imul(ye,Be),Y=Y+Math.imul(ge,Te)|0,q=q+Math.imul(ge,Re)|0,q=q+Math.imul(Me,Te)|0,Q=Q+Math.imul(Me,Re)|0,Y=Y+Math.imul(Ee,Ke)|0,q=q+Math.imul(Ee,ar)|0,q=q+Math.imul(ze,Ke)|0,Q=Q+Math.imul(ze,ar)|0,Y=Y+Math.imul(Se,J)|0,q=q+Math.imul(Se,ne)|0,q=q+Math.imul(Ce,J)|0,Q=Q+Math.imul(Ce,ne)|0,Y=Y+Math.imul(Ae,He)|0,q=q+Math.imul(Ae,er)|0,q=q+Math.imul(we,He)|0,Q=Q+Math.imul(we,er)|0,Y=Y+Math.imul(te,fr)|0,q=q+Math.imul(te,br)|0,q=q+Math.imul(le,fr)|0,Q=Q+Math.imul(le,br)|0,Y=Y+Math.imul(V,Mr)|0,q=q+Math.imul(V,Ar)|0,q=q+Math.imul(ee,Mr)|0,Q=Q+Math.imul(ee,Ar)|0,Y=Y+Math.imul(K,sr)|0,q=q+Math.imul(K,Pr)|0,q=q+Math.imul(oe,sr)|0,Q=Q+Math.imul(oe,Pr)|0;var ha=(j+Y|0)+((q&8191)<<13)|0;j=(Q+(q>>>13)|0)+(ha>>>26)|0,ha&=67108863,Y=Math.imul(he,Ve),q=Math.imul(he,Be),q=q+Math.imul(xe,Ve)|0,Q=Math.imul(xe,Be),Y=Y+Math.imul(me,Te)|0,q=q+Math.imul(me,Re)|0,q=q+Math.imul(ye,Te)|0,Q=Q+Math.imul(ye,Re)|0,Y=Y+Math.imul(ge,Ke)|0,q=q+Math.imul(ge,ar)|0,q=q+Math.imul(Me,Ke)|0,Q=Q+Math.imul(Me,ar)|0,Y=Y+Math.imul(Ee,J)|0,q=q+Math.imul(Ee,ne)|0,q=q+Math.imul(ze,J)|0,Q=Q+Math.imul(ze,ne)|0,Y=Y+Math.imul(Se,He)|0,q=q+Math.imul(Se,er)|0,q=q+Math.imul(Ce,He)|0,Q=Q+Math.imul(Ce,er)|0,Y=Y+Math.imul(Ae,fr)|0,q=q+Math.imul(Ae,br)|0,q=q+Math.imul(we,fr)|0,Q=Q+Math.imul(we,br)|0,Y=Y+Math.imul(te,Mr)|0,q=q+Math.imul(te,Ar)|0,q=q+Math.imul(le,Mr)|0,Q=Q+Math.imul(le,Ar)|0,Y=Y+Math.imul(V,sr)|0,q=q+Math.imul(V,Pr)|0,q=q+Math.imul(ee,sr)|0,Q=Q+Math.imul(ee,Pr)|0,Y=Y+Math.imul(K,Fr)|0,q=q+Math.imul(K,Gr)|0,q=q+Math.imul(oe,Fr)|0,Q=Q+Math.imul(oe,Gr)|0;var $n=(j+Y|0)+((q&8191)<<13)|0;j=(Q+(q>>>13)|0)+($n>>>26)|0,$n&=67108863,Y=Math.imul(qe,Ve),q=Math.imul(qe,Be),q=q+Math.imul(Ne,Ve)|0,Q=Math.imul(Ne,Be),Y=Y+Math.imul(he,Te)|0,q=q+Math.imul(he,Re)|0,q=q+Math.imul(xe,Te)|0,Q=Q+Math.imul(xe,Re)|0,Y=Y+Math.imul(me,Ke)|0,q=q+Math.imul(me,ar)|0,q=q+Math.imul(ye,Ke)|0,Q=Q+Math.imul(ye,ar)|0,Y=Y+Math.imul(ge,J)|0,q=q+Math.imul(ge,ne)|0,q=q+Math.imul(Me,J)|0,Q=Q+Math.imul(Me,ne)|0,Y=Y+Math.imul(Ee,He)|0,q=q+Math.imul(Ee,er)|0,q=q+Math.imul(ze,He)|0,Q=Q+Math.imul(ze,er)|0,Y=Y+Math.imul(Se,fr)|0,q=q+Math.imul(Se,br)|0,q=q+Math.imul(Ce,fr)|0,Q=Q+Math.imul(Ce,br)|0,Y=Y+Math.imul(Ae,Mr)|0,q=q+Math.imul(Ae,Ar)|0,q=q+Math.imul(we,Mr)|0,Q=Q+Math.imul(we,Ar)|0,Y=Y+Math.imul(te,sr)|0,q=q+Math.imul(te,Pr)|0,q=q+Math.imul(le,sr)|0,Q=Q+Math.imul(le,Pr)|0,Y=Y+Math.imul(V,Fr)|0,q=q+Math.imul(V,Gr)|0,q=q+Math.imul(ee,Fr)|0,Q=Q+Math.imul(ee,Gr)|0,Y=Y+Math.imul(K,Rr)|0,q=q+Math.imul(K,jr)|0,q=q+Math.imul(oe,Rr)|0,Q=Q+Math.imul(oe,jr)|0;var Fn=(j+Y|0)+((q&8191)<<13)|0;j=(Q+(q>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,Y=Math.imul(qe,Te),q=Math.imul(qe,Re),q=q+Math.imul(Ne,Te)|0,Q=Math.imul(Ne,Re),Y=Y+Math.imul(he,Ke)|0,q=q+Math.imul(he,ar)|0,q=q+Math.imul(xe,Ke)|0,Q=Q+Math.imul(xe,ar)|0,Y=Y+Math.imul(me,J)|0,q=q+Math.imul(me,ne)|0,q=q+Math.imul(ye,J)|0,Q=Q+Math.imul(ye,ne)|0,Y=Y+Math.imul(ge,He)|0,q=q+Math.imul(ge,er)|0,q=q+Math.imul(Me,He)|0,Q=Q+Math.imul(Me,er)|0,Y=Y+Math.imul(Ee,fr)|0,q=q+Math.imul(Ee,br)|0,q=q+Math.imul(ze,fr)|0,Q=Q+Math.imul(ze,br)|0,Y=Y+Math.imul(Se,Mr)|0,q=q+Math.imul(Se,Ar)|0,q=q+Math.imul(Ce,Mr)|0,Q=Q+Math.imul(Ce,Ar)|0,Y=Y+Math.imul(Ae,sr)|0,q=q+Math.imul(Ae,Pr)|0,q=q+Math.imul(we,sr)|0,Q=Q+Math.imul(we,Pr)|0,Y=Y+Math.imul(te,Fr)|0,q=q+Math.imul(te,Gr)|0,q=q+Math.imul(le,Fr)|0,Q=Q+Math.imul(le,Gr)|0,Y=Y+Math.imul(V,Rr)|0,q=q+Math.imul(V,jr)|0,q=q+Math.imul(ee,Rr)|0,Q=Q+Math.imul(ee,jr)|0;var Ma=(j+Y|0)+((q&8191)<<13)|0;j=(Q+(q>>>13)|0)+(Ma>>>26)|0,Ma&=67108863,Y=Math.imul(qe,Ke),q=Math.imul(qe,ar),q=q+Math.imul(Ne,Ke)|0,Q=Math.imul(Ne,ar),Y=Y+Math.imul(he,J)|0,q=q+Math.imul(he,ne)|0,q=q+Math.imul(xe,J)|0,Q=Q+Math.imul(xe,ne)|0,Y=Y+Math.imul(me,He)|0,q=q+Math.imul(me,er)|0,q=q+Math.imul(ye,He)|0,Q=Q+Math.imul(ye,er)|0,Y=Y+Math.imul(ge,fr)|0,q=q+Math.imul(ge,br)|0,q=q+Math.imul(Me,fr)|0,Q=Q+Math.imul(Me,br)|0,Y=Y+Math.imul(Ee,Mr)|0,q=q+Math.imul(Ee,Ar)|0,q=q+Math.imul(ze,Mr)|0,Q=Q+Math.imul(ze,Ar)|0,Y=Y+Math.imul(Se,sr)|0,q=q+Math.imul(Se,Pr)|0,q=q+Math.imul(Ce,sr)|0,Q=Q+Math.imul(Ce,Pr)|0,Y=Y+Math.imul(Ae,Fr)|0,q=q+Math.imul(Ae,Gr)|0,q=q+Math.imul(we,Fr)|0,Q=Q+Math.imul(we,Gr)|0,Y=Y+Math.imul(te,Rr)|0,q=q+Math.imul(te,jr)|0,q=q+Math.imul(le,Rr)|0,Q=Q+Math.imul(le,jr)|0;var wi=(j+Y|0)+((q&8191)<<13)|0;j=(Q+(q>>>13)|0)+(wi>>>26)|0,wi&=67108863,Y=Math.imul(qe,J),q=Math.imul(qe,ne),q=q+Math.imul(Ne,J)|0,Q=Math.imul(Ne,ne),Y=Y+Math.imul(he,He)|0,q=q+Math.imul(he,er)|0,q=q+Math.imul(xe,He)|0,Q=Q+Math.imul(xe,er)|0,Y=Y+Math.imul(me,fr)|0,q=q+Math.imul(me,br)|0,q=q+Math.imul(ye,fr)|0,Q=Q+Math.imul(ye,br)|0,Y=Y+Math.imul(ge,Mr)|0,q=q+Math.imul(ge,Ar)|0,q=q+Math.imul(Me,Mr)|0,Q=Q+Math.imul(Me,Ar)|0,Y=Y+Math.imul(Ee,sr)|0,q=q+Math.imul(Ee,Pr)|0,q=q+Math.imul(ze,sr)|0,Q=Q+Math.imul(ze,Pr)|0,Y=Y+Math.imul(Se,Fr)|0,q=q+Math.imul(Se,Gr)|0,q=q+Math.imul(Ce,Fr)|0,Q=Q+Math.imul(Ce,Gr)|0,Y=Y+Math.imul(Ae,Rr)|0,q=q+Math.imul(Ae,jr)|0,q=q+Math.imul(we,Rr)|0,Q=Q+Math.imul(we,jr)|0;var Ki=(j+Y|0)+((q&8191)<<13)|0;j=(Q+(q>>>13)|0)+(Ki>>>26)|0,Ki&=67108863,Y=Math.imul(qe,He),q=Math.imul(qe,er),q=q+Math.imul(Ne,He)|0,Q=Math.imul(Ne,er),Y=Y+Math.imul(he,fr)|0,q=q+Math.imul(he,br)|0,q=q+Math.imul(xe,fr)|0,Q=Q+Math.imul(xe,br)|0,Y=Y+Math.imul(me,Mr)|0,q=q+Math.imul(me,Ar)|0,q=q+Math.imul(ye,Mr)|0,Q=Q+Math.imul(ye,Ar)|0,Y=Y+Math.imul(ge,sr)|0,q=q+Math.imul(ge,Pr)|0,q=q+Math.imul(Me,sr)|0,Q=Q+Math.imul(Me,Pr)|0,Y=Y+Math.imul(Ee,Fr)|0,q=q+Math.imul(Ee,Gr)|0,q=q+Math.imul(ze,Fr)|0,Q=Q+Math.imul(ze,Gr)|0,Y=Y+Math.imul(Se,Rr)|0,q=q+Math.imul(Se,jr)|0,q=q+Math.imul(Ce,Rr)|0,Q=Q+Math.imul(Ce,jr)|0;var Qi=(j+Y|0)+((q&8191)<<13)|0;j=(Q+(q>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,Y=Math.imul(qe,fr),q=Math.imul(qe,br),q=q+Math.imul(Ne,fr)|0,Q=Math.imul(Ne,br),Y=Y+Math.imul(he,Mr)|0,q=q+Math.imul(he,Ar)|0,q=q+Math.imul(xe,Mr)|0,Q=Q+Math.imul(xe,Ar)|0,Y=Y+Math.imul(me,sr)|0,q=q+Math.imul(me,Pr)|0,q=q+Math.imul(ye,sr)|0,Q=Q+Math.imul(ye,Pr)|0,Y=Y+Math.imul(ge,Fr)|0,q=q+Math.imul(ge,Gr)|0,q=q+Math.imul(Me,Fr)|0,Q=Q+Math.imul(Me,Gr)|0,Y=Y+Math.imul(Ee,Rr)|0,q=q+Math.imul(Ee,jr)|0,q=q+Math.imul(ze,Rr)|0,Q=Q+Math.imul(ze,jr)|0;var $i=(j+Y|0)+((q&8191)<<13)|0;j=(Q+(q>>>13)|0)+($i>>>26)|0,$i&=67108863,Y=Math.imul(qe,Mr),q=Math.imul(qe,Ar),q=q+Math.imul(Ne,Mr)|0,Q=Math.imul(Ne,Ar),Y=Y+Math.imul(he,sr)|0,q=q+Math.imul(he,Pr)|0,q=q+Math.imul(xe,sr)|0,Q=Q+Math.imul(xe,Pr)|0,Y=Y+Math.imul(me,Fr)|0,q=q+Math.imul(me,Gr)|0,q=q+Math.imul(ye,Fr)|0,Q=Q+Math.imul(ye,Gr)|0,Y=Y+Math.imul(ge,Rr)|0,q=q+Math.imul(ge,jr)|0,q=q+Math.imul(Me,Rr)|0,Q=Q+Math.imul(Me,jr)|0;var tn=(j+Y|0)+((q&8191)<<13)|0;j=(Q+(q>>>13)|0)+(tn>>>26)|0,tn&=67108863,Y=Math.imul(qe,sr),q=Math.imul(qe,Pr),q=q+Math.imul(Ne,sr)|0,Q=Math.imul(Ne,Pr),Y=Y+Math.imul(he,Fr)|0,q=q+Math.imul(he,Gr)|0,q=q+Math.imul(xe,Fr)|0,Q=Q+Math.imul(xe,Gr)|0,Y=Y+Math.imul(me,Rr)|0,q=q+Math.imul(me,jr)|0,q=q+Math.imul(ye,Rr)|0,Q=Q+Math.imul(ye,jr)|0;var ko=(j+Y|0)+((q&8191)<<13)|0;j=(Q+(q>>>13)|0)+(ko>>>26)|0,ko&=67108863,Y=Math.imul(qe,Fr),q=Math.imul(qe,Gr),q=q+Math.imul(Ne,Fr)|0,Q=Math.imul(Ne,Gr),Y=Y+Math.imul(he,Rr)|0,q=q+Math.imul(he,jr)|0,q=q+Math.imul(xe,Rr)|0,Q=Q+Math.imul(xe,jr)|0;var Mi=(j+Y|0)+((q&8191)<<13)|0;j=(Q+(q>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,Y=Math.imul(qe,Rr),q=Math.imul(qe,jr),q=q+Math.imul(Ne,Rr)|0,Q=Math.imul(Ne,jr);var Ti=(j+Y|0)+((q&8191)<<13)|0;return j=(Q+(q>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,$[0]=vn,$[1]=Et,$[2]=Tn,$[3]=Ot,$[4]=bt,$[5]=gt,$[6]=Nt,$[7]=ha,$[8]=$n,$[9]=Fn,$[10]=Ma,$[11]=wi,$[12]=Ki,$[13]=Qi,$[14]=$i,$[15]=tn,$[16]=ko,$[17]=Mi,$[18]=Ti,j!==0&&($[19]=j,O.length++),O};Math.imul||(M=x);function d(I,L,P){P.negative=L.negative^I.negative,P.length=I.length+L.length;for(var O=0,U=0,X=0;X<P.length-1;X++){var $=U;U=0;for(var j=O&67108863,Y=Math.min(X,L.length-1),q=Math.max(0,X-I.length+1);q<=Y;q++){var Q=X-q,ae=I.words[Q]|0,K=L.words[q]|0,oe=ae*K,re=oe&67108863;$=$+(oe/67108864|0)|0,re=re+j|0,j=re&67108863,$=$+(re>>>26)|0,U+=$>>>26,$&=67108863}P.words[X]=j,O=$,$=U}return O!==0?P.words[X]=O:P.length--,P.strip()}function _(I,L,P){var O=new g;return O.mulp(I,L,P)}h.prototype.mulTo=function(L,P){var O,U=this.length+L.length;return this.length===10&&L.length===10?O=M(this,L,P):U<63?O=x(this,L,P):U<1024?O=d(this,L,P):O=_(this,L,P),O};function g(I,L){this.x=I,this.y=L}g.prototype.makeRBT=function(L){for(var P=new Array(L),O=h.prototype._countBits(L)-1,U=0;U<L;U++)P[U]=this.revBin(U,O,L);return P},g.prototype.revBin=function(L,P,O){if(L===0||L===O-1)return L;for(var U=0,X=0;X<P;X++)U|=(L&1)<<P-X-1,L>>=1;return U},g.prototype.permute=function(L,P,O,U,X,$){for(var j=0;j<$;j++)U[j]=P[L[j]],X[j]=O[L[j]]},g.prototype.transform=function(L,P,O,U,X,$){this.permute($,L,P,O,U,X);for(var j=1;j<X;j<<=1)for(var Y=j<<1,q=Math.cos(2*Math.PI/Y),Q=Math.sin(2*Math.PI/Y),ae=0;ae<X;ae+=Y)for(var K=q,oe=Q,re=0;re<j;re++){var V=O[ae+re],ee=U[ae+re],H=O[ae+re+j],te=U[ae+re+j],le=K*H-oe*te;te=K*te+oe*H,H=le,O[ae+re]=V+H,U[ae+re]=ee+te,O[ae+re+j]=V-H,U[ae+re+j]=ee-te,re!==Y&&(le=q*K-Q*oe,oe=q*oe+Q*K,K=le)}},g.prototype.guessLen13b=function(L,P){var O=Math.max(P,L)|1,U=O&1,X=0;for(O=O/2|0;O;O=O>>>1)X++;return 1<<X+1+U},g.prototype.conjugate=function(L,P,O){if(!(O<=1))for(var U=0;U<O/2;U++){var X=L[U];L[U]=L[O-U-1],L[O-U-1]=X,X=P[U],P[U]=-P[O-U-1],P[O-U-1]=-X}},g.prototype.normalize13b=function(L,P){for(var O=0,U=0;U<P/2;U++){var X=Math.round(L[2*U+1]/P)*8192+Math.round(L[2*U]/P)+O;L[U]=X&67108863,X<67108864?O=0:O=X/67108864|0}return L},g.prototype.convert13b=function(L,P,O,U){for(var X=0,$=0;$<P;$++)X=X+(L[$]|0),O[2*$]=X&8191,X=X>>>13,O[2*$+1]=X&8191,X=X>>>13;for($=2*P;$<U;++$)O[$]=0;s(X===0),s((X&-8192)===0)},g.prototype.stub=function(L){for(var P=new Array(L),O=0;O<L;O++)P[O]=0;return P},g.prototype.mulp=function(L,P,O){var U=2*this.guessLen13b(L.length,P.length),X=this.makeRBT(U),$=this.stub(U),j=new Array(U),Y=new Array(U),q=new Array(U),Q=new Array(U),ae=new Array(U),K=new Array(U),oe=O.words;oe.length=U,this.convert13b(L.words,L.length,j,U),this.convert13b(P.words,P.length,Q,U),this.transform(j,$,Y,q,U,X),this.transform(Q,$,ae,K,U,X);for(var re=0;re<U;re++){var V=Y[re]*ae[re]-q[re]*K[re];q[re]=Y[re]*K[re]+q[re]*ae[re],Y[re]=V}return this.conjugate(Y,q,U),this.transform(Y,q,oe,$,U,X),this.conjugate(oe,$,U),this.normalize13b(oe,U),O.negative=L.negative^P.negative,O.length=L.length+P.length,O.strip()},h.prototype.mul=function(L){var P=new h(null);return P.words=new Array(this.length+L.length),this.mulTo(L,P)},h.prototype.mulf=function(L){var P=new h(null);return P.words=new Array(this.length+L.length),_(this,L,P)},h.prototype.imul=function(L){return this.clone().mulTo(L,this)},h.prototype.imuln=function(L){s(typeof L=="number"),s(L<67108864);for(var P=0,O=0;O<this.length;O++){var U=(this.words[O]|0)*L,X=(U&67108863)+(P&67108863);P>>=26,P+=U/67108864|0,P+=X>>>26,this.words[O]=X&67108863}return P!==0&&(this.words[O]=P,this.length++),this},h.prototype.muln=function(L){return this.clone().imuln(L)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(L){var P=S(L);if(P.length===0)return new h(1);for(var O=this,U=0;U<P.length&&P[U]===0;U++,O=O.sqr());if(++U<P.length)for(var X=O.sqr();U<P.length;U++,X=X.sqr())P[U]!==0&&(O=O.mul(X));return O},h.prototype.iushln=function(L){s(typeof L=="number"&&L>=0);var P=L%26,O=(L-P)/26,U=67108863>>>26-P<<26-P,X;if(P!==0){var $=0;for(X=0;X<this.length;X++){var j=this.words[X]&U,Y=(this.words[X]|0)-j<<P;this.words[X]=Y|$,$=j>>>26-P}$&&(this.words[X]=$,this.length++)}if(O!==0){for(X=this.length-1;X>=0;X--)this.words[X+O]=this.words[X];for(X=0;X<O;X++)this.words[X]=0;this.length+=O}return this.strip()},h.prototype.ishln=function(L){return s(this.negative===0),this.iushln(L)},h.prototype.iushrn=function(L,P,O){s(typeof L=="number"&&L>=0);var U;P?U=(P-P%26)/26:U=0;var X=L%26,$=Math.min((L-X)/26,this.length),j=67108863^67108863>>>X<<X,Y=O;if(U-=$,U=Math.max(0,U),Y){for(var q=0;q<$;q++)Y.words[q]=this.words[q];Y.length=$}if($!==0)if(this.length>$)for(this.length-=$,q=0;q<this.length;q++)this.words[q]=this.words[q+$];else this.words[0]=0,this.length=1;var Q=0;for(q=this.length-1;q>=0&&(Q!==0||q>=U);q--){var ae=this.words[q]|0;this.words[q]=Q<<26-X|ae>>>X,Q=ae&j}return Y&&Q!==0&&(Y.words[Y.length++]=Q),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},h.prototype.ishrn=function(L,P,O){return s(this.negative===0),this.iushrn(L,P,O)},h.prototype.shln=function(L){return this.clone().ishln(L)},h.prototype.ushln=function(L){return this.clone().iushln(L)},h.prototype.shrn=function(L){return this.clone().ishrn(L)},h.prototype.ushrn=function(L){return this.clone().iushrn(L)},h.prototype.testn=function(L){s(typeof L=="number"&&L>=0);var P=L%26,O=(L-P)/26,U=1<<P;if(this.length<=O)return!1;var X=this.words[O];return!!(X&U)},h.prototype.imaskn=function(L){s(typeof L=="number"&&L>=0);var P=L%26,O=(L-P)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=O)return this;if(P!==0&&O++,this.length=Math.min(O,this.length),P!==0){var U=67108863^67108863>>>P<<P;this.words[this.length-1]&=U}return this.strip()},h.prototype.maskn=function(L){return this.clone().imaskn(L)},h.prototype.iaddn=function(L){return s(typeof L=="number"),s(L<67108864),L<0?this.isubn(-L):this.negative!==0?this.length===1&&(this.words[0]|0)<L?(this.words[0]=L-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(L),this.negative=1,this):this._iaddn(L)},h.prototype._iaddn=function(L){this.words[0]+=L;for(var P=0;P<this.length&&this.words[P]>=67108864;P++)this.words[P]-=67108864,P===this.length-1?this.words[P+1]=1:this.words[P+1]++;return this.length=Math.max(this.length,P+1),this},h.prototype.isubn=function(L){if(s(typeof L=="number"),s(L<67108864),L<0)return this.iaddn(-L);if(this.negative!==0)return this.negative=0,this.iaddn(L),this.negative=1,this;if(this.words[0]-=L,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var P=0;P<this.length&&this.words[P]<0;P++)this.words[P]+=67108864,this.words[P+1]-=1;return this.strip()},h.prototype.addn=function(L){return this.clone().iaddn(L)},h.prototype.subn=function(L){return this.clone().isubn(L)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(L,P,O){var U=L.length+O,X;this._expand(U);var $,j=0;for(X=0;X<L.length;X++){$=(this.words[X+O]|0)+j;var Y=(L.words[X]|0)*P;$-=Y&67108863,j=($>>26)-(Y/67108864|0),this.words[X+O]=$&67108863}for(;X<this.length-O;X++)$=(this.words[X+O]|0)+j,j=$>>26,this.words[X+O]=$&67108863;if(j===0)return this.strip();for(s(j===-1),j=0,X=0;X<this.length;X++)$=-(this.words[X]|0)+j,j=$>>26,this.words[X]=$&67108863;return this.negative=1,this.strip()},h.prototype._wordDiv=function(L,P){var O=this.length-L.length,U=this.clone(),X=L,$=X.words[X.length-1]|0,j=this._countBits($);O=26-j,O!==0&&(X=X.ushln(O),U.iushln(O),$=X.words[X.length-1]|0);var Y=U.length-X.length,q;if(P!=="mod"){q=new h(null),q.length=Y+1,q.words=new Array(q.length);for(var Q=0;Q<q.length;Q++)q.words[Q]=0}var ae=U.clone()._ishlnsubmul(X,1,Y);ae.negative===0&&(U=ae,q&&(q.words[Y]=1));for(var K=Y-1;K>=0;K--){var oe=(U.words[X.length+K]|0)*67108864+(U.words[X.length+K-1]|0);for(oe=Math.min(oe/$|0,67108863),U._ishlnsubmul(X,oe,K);U.negative!==0;)oe--,U.negative=0,U._ishlnsubmul(X,1,K),U.isZero()||(U.negative^=1);q&&(q.words[K]=oe)}return q&&q.strip(),U.strip(),P!=="div"&&O!==0&&U.iushrn(O),{div:q||null,mod:U}},h.prototype.divmod=function(L,P,O){if(s(!L.isZero()),this.isZero())return{div:new h(0),mod:new h(0)};var U,X,$;return this.negative!==0&&L.negative===0?($=this.neg().divmod(L,P),P!=="mod"&&(U=$.div.neg()),P!=="div"&&(X=$.mod.neg(),O&&X.negative!==0&&X.iadd(L)),{div:U,mod:X}):this.negative===0&&L.negative!==0?($=this.divmod(L.neg(),P),P!=="mod"&&(U=$.div.neg()),{div:U,mod:$.mod}):(this.negative&L.negative)!==0?($=this.neg().divmod(L.neg(),P),P!=="div"&&(X=$.mod.neg(),O&&X.negative!==0&&X.isub(L)),{div:$.div,mod:X}):L.length>this.length||this.cmp(L)<0?{div:new h(0),mod:this}:L.length===1?P==="div"?{div:this.divn(L.words[0]),mod:null}:P==="mod"?{div:null,mod:new h(this.modn(L.words[0]))}:{div:this.divn(L.words[0]),mod:new h(this.modn(L.words[0]))}:this._wordDiv(L,P)},h.prototype.div=function(L){return this.divmod(L,"div",!1).div},h.prototype.mod=function(L){return this.divmod(L,"mod",!1).mod},h.prototype.umod=function(L){return this.divmod(L,"mod",!0).mod},h.prototype.divRound=function(L){var P=this.divmod(L);if(P.mod.isZero())return P.div;var O=P.div.negative!==0?P.mod.isub(L):P.mod,U=L.ushrn(1),X=L.andln(1),$=O.cmp(U);return $<0||X===1&&$===0?P.div:P.div.negative!==0?P.div.isubn(1):P.div.iaddn(1)},h.prototype.modn=function(L){s(L<=67108863);for(var P=(1<<26)%L,O=0,U=this.length-1;U>=0;U--)O=(P*O+(this.words[U]|0))%L;return O},h.prototype.idivn=function(L){s(L<=67108863);for(var P=0,O=this.length-1;O>=0;O--){var U=(this.words[O]|0)+P*67108864;this.words[O]=U/L|0,P=U%L}return this.strip()},h.prototype.divn=function(L){return this.clone().idivn(L)},h.prototype.egcd=function(L){s(L.negative===0),s(!L.isZero());var P=this,O=L.clone();P.negative!==0?P=P.umod(L):P=P.clone();for(var U=new h(1),X=new h(0),$=new h(0),j=new h(1),Y=0;P.isEven()&&O.isEven();)P.iushrn(1),O.iushrn(1),++Y;for(var q=O.clone(),Q=P.clone();!P.isZero();){for(var ae=0,K=1;(P.words[0]&K)===0&&ae<26;++ae,K<<=1);if(ae>0)for(P.iushrn(ae);ae-- >0;)(U.isOdd()||X.isOdd())&&(U.iadd(q),X.isub(Q)),U.iushrn(1),X.iushrn(1);for(var oe=0,re=1;(O.words[0]&re)===0&&oe<26;++oe,re<<=1);if(oe>0)for(O.iushrn(oe);oe-- >0;)($.isOdd()||j.isOdd())&&($.iadd(q),j.isub(Q)),$.iushrn(1),j.iushrn(1);P.cmp(O)>=0?(P.isub(O),U.isub($),X.isub(j)):(O.isub(P),$.isub(U),j.isub(X))}return{a:$,b:j,gcd:O.iushln(Y)}},h.prototype._invmp=function(L){s(L.negative===0),s(!L.isZero());var P=this,O=L.clone();P.negative!==0?P=P.umod(L):P=P.clone();for(var U=new h(1),X=new h(0),$=O.clone();P.cmpn(1)>0&&O.cmpn(1)>0;){for(var j=0,Y=1;(P.words[0]&Y)===0&&j<26;++j,Y<<=1);if(j>0)for(P.iushrn(j);j-- >0;)U.isOdd()&&U.iadd($),U.iushrn(1);for(var q=0,Q=1;(O.words[0]&Q)===0&&q<26;++q,Q<<=1);if(q>0)for(O.iushrn(q);q-- >0;)X.isOdd()&&X.iadd($),X.iushrn(1);P.cmp(O)>=0?(P.isub(O),U.isub(X)):(O.isub(P),X.isub(U))}var ae;return P.cmpn(1)===0?ae=U:ae=X,ae.cmpn(0)<0&&ae.iadd(L),ae},h.prototype.gcd=function(L){if(this.isZero())return L.abs();if(L.isZero())return this.abs();var P=this.clone(),O=L.clone();P.negative=0,O.negative=0;for(var U=0;P.isEven()&&O.isEven();U++)P.iushrn(1),O.iushrn(1);do{for(;P.isEven();)P.iushrn(1);for(;O.isEven();)O.iushrn(1);var X=P.cmp(O);if(X<0){var $=P;P=O,O=$}else if(X===0||O.cmpn(1)===0)break;P.isub(O)}while(!0);return O.iushln(U)},h.prototype.invm=function(L){return this.egcd(L).a.umod(L)},h.prototype.isEven=function(){return(this.words[0]&1)===0},h.prototype.isOdd=function(){return(this.words[0]&1)===1},h.prototype.andln=function(L){return this.words[0]&L},h.prototype.bincn=function(L){s(typeof L=="number");var P=L%26,O=(L-P)/26,U=1<<P;if(this.length<=O)return this._expand(O+1),this.words[O]|=U,this;for(var X=U,$=O;X!==0&&$<this.length;$++){var j=this.words[$]|0;j+=X,X=j>>>26,j&=67108863,this.words[$]=j}return X!==0&&(this.words[$]=X,this.length++),this},h.prototype.isZero=function(){return this.length===1&&this.words[0]===0},h.prototype.cmpn=function(L){var P=L<0;if(this.negative!==0&&!P)return-1;if(this.negative===0&&P)return 1;this.strip();var O;if(this.length>1)O=1;else{P&&(L=-L),s(L<=67108863,"Number is too big");var U=this.words[0]|0;O=U===L?0:U<L?-1:1}return this.negative!==0?-O|0:O},h.prototype.cmp=function(L){if(this.negative!==0&&L.negative===0)return-1;if(this.negative===0&&L.negative!==0)return 1;var P=this.ucmp(L);return this.negative!==0?-P|0:P},h.prototype.ucmp=function(L){if(this.length>L.length)return 1;if(this.length<L.length)return-1;for(var P=0,O=this.length-1;O>=0;O--){var U=this.words[O]|0,X=L.words[O]|0;if(U!==X){U<X?P=-1:U>X&&(P=1);break}}return P},h.prototype.gtn=function(L){return this.cmpn(L)===1},h.prototype.gt=function(L){return this.cmp(L)===1},h.prototype.gten=function(L){return this.cmpn(L)>=0},h.prototype.gte=function(L){return this.cmp(L)>=0},h.prototype.ltn=function(L){return this.cmpn(L)===-1},h.prototype.lt=function(L){return this.cmp(L)===-1},h.prototype.lten=function(L){return this.cmpn(L)<=0},h.prototype.lte=function(L){return this.cmp(L)<=0},h.prototype.eqn=function(L){return this.cmpn(L)===0},h.prototype.eq=function(L){return this.cmp(L)===0},h.red=function(L){return new N(L)},h.prototype.toRed=function(L){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),L.convertTo(this)._forceRed(L)},h.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},h.prototype._forceRed=function(L){return this.red=L,this},h.prototype.forceRed=function(L){return s(!this.red,"Already a number in reduction context"),this._forceRed(L)},h.prototype.redAdd=function(L){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,L)},h.prototype.redIAdd=function(L){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,L)},h.prototype.redSub=function(L){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,L)},h.prototype.redISub=function(L){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,L)},h.prototype.redShl=function(L){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,L)},h.prototype.redMul=function(L){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,L),this.red.mul(this,L)},h.prototype.redIMul=function(L){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,L),this.red.imul(this,L)},h.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(L){return s(this.red&&!L.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,L)};var c={k256:null,p224:null,p192:null,p25519:null};function A(I,L){this.name=I,this.p=new h(L,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}A.prototype._tmp=function(){var L=new h(null);return L.words=new Array(Math.ceil(this.n/13)),L},A.prototype.ireduce=function(L){var P=L,O;do this.split(P,this.tmp),P=this.imulK(P),P=P.iadd(this.tmp),O=P.bitLength();while(O>this.n);var U=O<this.n?-1:P.ucmp(this.p);return U===0?(P.words[0]=0,P.length=1):U>0?P.isub(this.p):P.strip!==void 0?P.strip():P._strip(),P},A.prototype.split=function(L,P){L.iushrn(this.n,0,P)},A.prototype.imulK=function(L){return L.imul(this.k)};function v(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}f(v,A),v.prototype.split=function(L,P){for(var O=4194303,U=Math.min(L.length,9),X=0;X<U;X++)P.words[X]=L.words[X];if(P.length=U,L.length<=9){L.words[0]=0,L.length=1;return}var $=L.words[9];for(P.words[P.length++]=$&O,X=10;X<L.length;X++){var j=L.words[X]|0;L.words[X-10]=(j&O)<<4|$>>>22,$=j}$>>>=22,L.words[X-10]=$,$===0&&L.length>10?L.length-=10:L.length-=9},v.prototype.imulK=function(L){L.words[L.length]=0,L.words[L.length+1]=0,L.length+=2;for(var P=0,O=0;O<L.length;O++){var U=L.words[O]|0;P+=U*977,L.words[O]=P&67108863,P=U*64+(P/67108864|0)}return L.words[L.length-1]===0&&(L.length--,L.words[L.length-1]===0&&L.length--),L};function D(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}f(D,A);function E(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}f(E,A);function R(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}f(R,A),R.prototype.imulK=function(L){for(var P=0,O=0;O<L.length;O++){var U=(L.words[O]|0)*19+P,X=U&67108863;U>>>=26,L.words[O]=X,P=U}return P!==0&&(L.words[L.length++]=P),L},h._prime=function(L){if(c[L])return c[L];var P;if(L==="k256")P=new v;else if(L==="p224")P=new D;else if(L==="p192")P=new E;else if(L==="p25519")P=new R;else throw new Error("Unknown prime "+L);return c[L]=P,P};function N(I){if(typeof I=="string"){var L=h._prime(I);this.m=L.p,this.prime=L}else s(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}N.prototype._verify1=function(L){s(L.negative===0,"red works only with positives"),s(L.red,"red works only with red numbers")},N.prototype._verify2=function(L,P){s((L.negative|P.negative)===0,"red works only with positives"),s(L.red&&L.red===P.red,"red works only with red numbers")},N.prototype.imod=function(L){return this.prime?this.prime.ireduce(L)._forceRed(this):L.umod(this.m)._forceRed(this)},N.prototype.neg=function(L){return L.isZero()?L.clone():this.m.sub(L)._forceRed(this)},N.prototype.add=function(L,P){this._verify2(L,P);var O=L.add(P);return O.cmp(this.m)>=0&&O.isub(this.m),O._forceRed(this)},N.prototype.iadd=function(L,P){this._verify2(L,P);var O=L.iadd(P);return O.cmp(this.m)>=0&&O.isub(this.m),O},N.prototype.sub=function(L,P){this._verify2(L,P);var O=L.sub(P);return O.cmpn(0)<0&&O.iadd(this.m),O._forceRed(this)},N.prototype.isub=function(L,P){this._verify2(L,P);var O=L.isub(P);return O.cmpn(0)<0&&O.iadd(this.m),O},N.prototype.shl=function(L,P){return this._verify1(L),this.imod(L.ushln(P))},N.prototype.imul=function(L,P){return this._verify2(L,P),this.imod(L.imul(P))},N.prototype.mul=function(L,P){return this._verify2(L,P),this.imod(L.mul(P))},N.prototype.isqr=function(L){return this.imul(L,L.clone())},N.prototype.sqr=function(L){return this.mul(L,L)},N.prototype.sqrt=function(L){if(L.isZero())return L.clone();var P=this.m.andln(3);if(s(P%2===1),P===3){var O=this.m.add(new h(1)).iushrn(2);return this.pow(L,O)}for(var U=this.m.subn(1),X=0;!U.isZero()&&U.andln(1)===0;)X++,U.iushrn(1);s(!U.isZero());var $=new h(1).toRed(this),j=$.redNeg(),Y=this.m.subn(1).iushrn(1),q=this.m.bitLength();for(q=new h(2*q*q).toRed(this);this.pow(q,Y).cmp(j)!==0;)q.redIAdd(j);for(var Q=this.pow(q,U),ae=this.pow(L,U.addn(1).iushrn(1)),K=this.pow(L,U),oe=X;K.cmp($)!==0;){for(var re=K,V=0;re.cmp($)!==0;V++)re=re.redSqr();s(V<oe);var ee=this.pow(Q,new h(1).iushln(oe-V-1));ae=ae.redMul(ee),Q=ee.redSqr(),K=K.redMul(Q),oe=V}return ae},N.prototype.invm=function(L){var P=L._invmp(this.m);return P.negative!==0?(P.negative=0,this.imod(P).redNeg()):this.imod(P)},N.prototype.pow=function(L,P){if(P.isZero())return new h(1).toRed(this);if(P.cmpn(1)===0)return L.clone();var O=4,U=new Array(1<<O);U[0]=new h(1).toRed(this),U[1]=L;for(var X=2;X<U.length;X++)U[X]=this.mul(U[X-1],L);var $=U[0],j=0,Y=0,q=P.bitLength()%26;for(q===0&&(q=26),X=P.length-1;X>=0;X--){for(var Q=P.words[X],ae=q-1;ae>=0;ae--){var K=Q>>ae&1;if($!==U[0]&&($=this.sqr($)),K===0&&j===0){Y=0;continue}j<<=1,j|=K,Y++,!(Y!==O&&(X!==0||ae!==0))&&($=this.mul($,U[j]),Y=0,j=0)}q=26}return $},N.prototype.convertTo=function(L){var P=L.umod(this.m);return P===L?P.clone():P},N.prototype.convertFrom=function(L){var P=L.clone();return P.red=null,P},h.mont=function(L){return new F(L)};function F(I){N.call(this,I),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}f(F,N),F.prototype.convertTo=function(L){return this.imod(L.ushln(this.shift))},F.prototype.convertFrom=function(L){var P=this.imod(L.mul(this.rinv));return P.red=null,P},F.prototype.imul=function(L,P){if(L.isZero()||P.isZero())return L.words[0]=0,L.length=1,L;var O=L.imul(P),U=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),X=O.isub(U).iushrn(this.shift),$=X;return X.cmp(this.m)>=0?$=X.isub(this.m):X.cmpn(0)<0&&($=X.iadd(this.m)),$._forceRed(this)},F.prototype.mul=function(L,P){if(L.isZero()||P.isZero())return new h(0)._forceRed(this);var O=L.mul(P),U=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),X=O.isub(U).iushrn(this.shift),$=X;return X.cmp(this.m)>=0?$=X.isub(this.m):X.cmpn(0)<0&&($=X.iadd(this.m)),$._forceRed(this)},F.prototype.invm=function(L){var P=this.imod(L._invmp(this.m).mul(this.r2));return P._forceRed(this)}}(a,this)},6860:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]-u[0],i[1]=l[1]-u[1],i[2]=l[2]-u[2],i[3]=l[3]-u[3],i}},6864:function(a){a.exports=o;function o(){var i=new Float32Array(16);return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}},6867:function(a,o,i){"use strict";a.exports=m;var l=i(1888),u=i(855),s=i(7150);function f(k,S){for(var x=0;x<k;++x)if(!(S[x]<=S[x+k]))return!0;return!1}function h(k,S,x,M){for(var d=0,_=0,g=0,c=k.length;g<c;++g){var A=k[g];if(!f(S,A)){for(var v=0;v<2*S;++v)x[d++]=A[v];M[_++]=g}}return _}function p(k,S,x,M){var d=k.length,_=S.length;if(!(d<=0||_<=0)){var g=k[0].length>>>1;if(!(g<=0)){var c,A=l.mallocDouble(2*g*d),v=l.mallocInt32(d);if(d=h(k,g,A,v),d>0){if(g===1&&M)u.init(d),c=u.sweepComplete(g,x,0,d,A,v,0,d,A,v);else{var D=l.mallocDouble(2*g*_),E=l.mallocInt32(_);_=h(S,g,D,E),_>0&&(u.init(d+_),g===1?c=u.sweepBipartite(g,x,0,d,A,v,0,_,D,E):c=s(g,x,M,d,A,v,_,D,E),l.free(D),l.free(E))}l.free(A),l.free(v)}return c}}}var b;function y(k,S){b.push([k,S])}function w(k){return b=[],p(k,k,y,!0),b}function T(k,S){return b=[],p(k,S,y,!1),b}function m(k,S,x){switch(arguments.length){case 1:return w(k);case 2:return typeof S=="function"?p(k,k,S,!0):T(k,S);case 3:return p(k,S,x,!1);default:throw new Error("box-intersect: Invalid arguments")}}},6894:function(a){a.exports=o;function o(i,l,u,s){var f=u[1],h=u[2],p=l[1]-f,b=l[2]-h,y=Math.sin(s),w=Math.cos(s);return i[0]=l[0],i[1]=f+p*w-b*y,i[2]=h+p*y+b*w,i}},7004:function(a){"use strict";a.exports=o;function o(i){for(var l=i.length,u=i[i.length-1],s=l,f=l-2;f>=0;--f){var h=u,p=i[f];u=h+p;var b=u-h,y=p-b;y&&(i[--s]=u,u=y)}for(var w=0,f=s;f<l;++f){var h=i[f],p=u;u=h+p;var b=u-h,y=p-b;y&&(i[w++]=y)}return i[w++]=u,i.length=w,i}},7056:function(a){a.exports=o;function o(i,l){var u=l[0]-i[0],s=l[1]-i[1],f=l[2]-i[2];return Math.sqrt(u*u+s*s+f*f)}},7089:function(a){a.exports=o;function o(i,l,u){var s=Math.sin(u),f=Math.cos(u),h=l[0],p=l[1],b=l[2],y=l[3],w=l[4],T=l[5],m=l[6],k=l[7];return l!==i&&(i[8]=l[8],i[9]=l[9],i[10]=l[10],i[11]=l[11],i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15]),i[0]=h*f+w*s,i[1]=p*f+T*s,i[2]=b*f+m*s,i[3]=y*f+k*s,i[4]=w*f-h*s,i[5]=T*f-p*s,i[6]=m*f-b*s,i[7]=k*f-y*s,i}},7150:function(a,o,i){"use strict";a.exports=I;var l=i(1888),u=i(8828),s=i(2455),f=s.partial,h=s.full,p=i(855),b=i(3545),y=i(8105),w=128,T=1<<22,m=1<<22,k=y("!(lo>=p0)&&!(p1>=hi)"),S=y("lo===p0"),x=y("lo<p0"),M=y("hi<=p0"),d=y("lo<=p0&&p0<=hi"),_=y("lo<p0&&p0<=hi"),g=6,c=2,A=1024,v=l.mallocInt32(A),D=l.mallocDouble(A);function E(L,P){var O=8*u.log2(P+1)*(L+1)|0,U=u.nextPow2(g*O);v.length<U&&(l.free(v),v=l.mallocInt32(U));var X=u.nextPow2(c*O);D.length<X&&(l.free(D),D=l.mallocDouble(X))}function R(L,P,O,U,X,$,j,Y,q){var Q=g*L;v[Q]=P,v[Q+1]=O,v[Q+2]=U,v[Q+3]=X,v[Q+4]=$,v[Q+5]=j;var ae=c*L;D[ae]=Y,D[ae+1]=q}function N(L,P,O,U,X,$,j,Y,q,Q,ae){var K=2*L,oe=q*K,re=Q[oe+P];e:for(var V=X,ee=X*K;V<$;++V,ee+=K){var H=j[ee+P],te=j[ee+P+L];if(!(re<H||te<re)&&!(U&&re===H)){for(var le=Y[V],ve=P+1;ve<L;++ve){var H=j[ee+ve],te=j[ee+ve+L],Ae=Q[oe+ve],we=Q[oe+ve+L];if(te<Ae||we<H)continue e}var ce;if(U?ce=O(ae,le):ce=O(le,ae),ce!==void 0)return ce}}}function F(L,P,O,U,X,$,j,Y,q,Q){var ae=2*L,K=Y*ae,oe=q[K+P];e:for(var re=U,V=U*ae;re<X;++re,V+=ae){var ee=j[re];if(ee!==Q){var H=$[V+P],te=$[V+P+L];if(!(oe<H||te<oe)){for(var le=P+1;le<L;++le){var H=$[V+le],te=$[V+le+L],ve=q[K+le],Ae=q[K+le+L];if(te<ve||Ae<H)continue e}var we=O(ee,Q);if(we!==void 0)return we}}}}function I(L,P,O,U,X,$,j,Y,q){E(L,U+j);var Q=0,ae=2*L,K;for(R(Q++,0,0,U,0,j,O?16:0,-1/0,1/0),O||R(Q++,0,0,j,0,U,1,-1/0,1/0);Q>0;){Q-=1;var oe=Q*g,re=v[oe],V=v[oe+1],ee=v[oe+2],H=v[oe+3],te=v[oe+4],le=v[oe+5],ve=Q*c,Ae=D[ve],we=D[ve+1],ce=le&1,Se=!!(le&16),Ce=X,Fe=$,Ee=Y,ze=q;if(ce&&(Ce=Y,Fe=q,Ee=X,ze=$),!(le&2&&(ee=x(L,re,V,ee,Ce,Fe,we),V>=ee))&&!(le&4&&(V=M(L,re,V,ee,Ce,Fe,Ae),V>=ee))){var Ue=ee-V,ge=te-H;if(Se){if(L*Ue*(Ue+ge)<m){if(K=p.scanComplete(L,re,P,V,ee,Ce,Fe,H,te,Ee,ze),K!==void 0)return K;continue}}else if(L*Math.min(Ue,ge)<w){if(K=f(L,re,P,ce,V,ee,Ce,Fe,H,te,Ee,ze),K!==void 0)return K;continue}else if(L*Ue*ge<T){if(K=p.scanBipartite(L,re,P,ce,V,ee,Ce,Fe,H,te,Ee,ze),K!==void 0)return K;continue}var Me=k(L,re,V,ee,Ce,Fe,Ae,we);if(V<Me)if(L*(Me-V)<w){if(K=h(L,re+1,P,V,Me,Ce,Fe,H,te,Ee,ze),K!==void 0)return K}else if(re===L-2){if(ce?K=p.sweepBipartite(L,P,H,te,Ee,ze,V,Me,Ce,Fe):K=p.sweepBipartite(L,P,V,Me,Ce,Fe,H,te,Ee,ze),K!==void 0)return K}else R(Q++,re+1,V,Me,H,te,ce,-1/0,1/0),R(Q++,re+1,H,te,V,Me,ce^1,-1/0,1/0);if(Me<ee){var ke=b(L,re,H,te,Ee,ze),me=Ee[ae*ke+re],ye=S(L,re,ke,te,Ee,ze,me);if(ye<te&&R(Q++,re,Me,ee,ye,te,(ce|4)+(Se?16:0),me,we),H<ke&&R(Q++,re,Me,ee,H,ke,(ce|2)+(Se?16:0),Ae,me),ke+1===ye){if(Se?K=F(L,re,P,Me,ee,Ce,Fe,ke,Ee,ze[ke]):K=N(L,re,P,ce,Me,ee,Ce,Fe,ke,Ee,ze[ke]),K!==void 0)return K}else if(ke<ye){var pe;if(Se){if(pe=d(L,re,Me,ee,Ce,Fe,me),Me<pe){var he=S(L,re,Me,pe,Ce,Fe,me);if(re===L-2){if(Me<he&&(K=p.sweepComplete(L,P,Me,he,Ce,Fe,ke,ye,Ee,ze),K!==void 0)||he<pe&&(K=p.sweepBipartite(L,P,he,pe,Ce,Fe,ke,ye,Ee,ze),K!==void 0))return K}else Me<he&&R(Q++,re+1,Me,he,ke,ye,16,-1/0,1/0),he<pe&&(R(Q++,re+1,he,pe,ke,ye,0,-1/0,1/0),R(Q++,re+1,ke,ye,he,pe,1,-1/0,1/0))}}else ce?pe=_(L,re,Me,ee,Ce,Fe,me):pe=d(L,re,Me,ee,Ce,Fe,me),Me<pe&&(re===L-2?ce?K=p.sweepBipartite(L,P,ke,ye,Ee,ze,Me,pe,Ce,Fe):K=p.sweepBipartite(L,P,Me,pe,Ce,Fe,ke,ye,Ee,ze):(R(Q++,re+1,Me,pe,ke,ye,ce,-1/0,1/0),R(Q++,re+1,ke,ye,Me,pe,ce^1,-1/0,1/0)))}}}}}},7163:function(a){a.exports=function(l){return l!=null&&(o(l)||i(l)||!!l._isBuffer)};function o(l){return!!l.constructor&&typeof l.constructor.isBuffer=="function"&&l.constructor.isBuffer(l)}function i(l){return typeof l.readFloatLE=="function"&&typeof l.slice=="function"&&o(l.slice(0,0))}},7169:function(a,o,i){"use strict";var l=typeof WeakMap=="undefined"?i(1538):WeakMap,u=i(2762),s=i(8116),f=new l;function h(p){var b=f.get(p),y=b&&(b._triangleBuffer.handle||b._triangleBuffer.buffer);if(!y||!p.isBuffer(y)){var w=u(p,new Float32Array([-1,-1,-1,4,4,-1]));b=s(p,[{buffer:w,type:p.FLOAT,size:2}]),b._triangleBuffer=w,f.set(p,b)}b.bind(),p.drawArrays(p.TRIANGLES,0,3),b.unbind()}a.exports=h},7182:function(a,o,i){var l={identity:i(7894),translate:i(7656),multiply:i(6760),create:i(6864),scale:i(2504),fromRotationTranslation:i(6743)},u=l.create(),s=l.create();a.exports=function(h,p,b,y,w,T){return l.identity(h),l.fromRotationTranslation(h,T,p),h[3]=w[0],h[7]=w[1],h[11]=w[2],h[15]=w[3],l.identity(s),y[2]!==0&&(s[9]=y[2],l.multiply(h,h,s)),y[1]!==0&&(s[9]=0,s[8]=y[1],l.multiply(h,h,s)),y[0]!==0&&(s[8]=0,s[4]=y[0],l.multiply(h,h,s)),l.scale(h,h,b),h}},7201:function(a,o,i){"use strict";var l=1e-6,u=1e-6,s=i(9405),f=i(2762),h=i(8116),p=i(7766),b=i(8406),y=i(6760),w=i(7608),T=i(9618),m=i(6729),k=i(7765),S=i(1888),x=i(840),M=i(7626),d=x.meshShader,_=x.wireShader,g=x.pointShader,c=x.pickShader,A=x.pointPickShader,v=x.contourShader,D=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function E(Y,q,Q,ae,K,oe,re,V,ee,H,te,le,ve,Ae,we,ce,Se,Ce,Fe,Ee,ze,Ue,ge,Me,ke,me,ye){this.gl=Y,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=q,this.dirty=!0,this.triShader=Q,this.lineShader=ae,this.pointShader=K,this.pickShader=oe,this.pointPickShader=re,this.contourShader=V,this.trianglePositions=ee,this.triangleColors=te,this.triangleNormals=ve,this.triangleUVs=le,this.triangleIds=H,this.triangleVAO=Ae,this.triangleCount=0,this.lineWidth=1,this.edgePositions=we,this.edgeColors=Se,this.edgeUVs=Ce,this.edgeIds=ce,this.edgeVAO=Fe,this.edgeCount=0,this.pointPositions=Ee,this.pointColors=Ue,this.pointUVs=ge,this.pointSizes=Me,this.pointIds=ze,this.pointVAO=ke,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=me,this.contourVAO=ye,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=D,this._view=D,this._projection=D,this._resolution=[1,1]}var R=E.prototype;R.isOpaque=function(){return!this.hasAlpha},R.isTransparent=function(){return this.hasAlpha},R.pickSlots=1,R.setPickBase=function(Y){this.pickId=Y};function N(Y,q){if(!q||!q.length)return 1;for(var Q=0;Q<q.length;++Q){if(q.length<2)return 1;if(q[Q][0]===Y)return q[Q][1];if(q[Q][0]>Y&&Q>0){var ae=(q[Q][0]-Y)/(q[Q][0]-q[Q-1][0]);return q[Q][1]*(1-ae)+ae*q[Q-1][1]}}return 1}function F(Y,q){for(var Q=m({colormap:Y,nshades:256,format:"rgba"}),ae=new Uint8Array(256*4),K=0;K<256;++K){for(var oe=Q[K],re=0;re<3;++re)ae[4*K+re]=oe[re];q?ae[4*K+3]=255*N(K/255,q):ae[4*K+3]=255*oe[3]}return T(ae,[256,256,4],[4,0,1])}function I(Y){for(var q=Y.length,Q=new Array(q),ae=0;ae<q;++ae)Q[ae]=Y[ae][2];return Q}R.highlight=function(Y){if(!Y||!this.contourEnable){this.contourCount=0;return}for(var q=k(this.cells,this.intensity,Y.intensity),Q=q.cells,ae=q.vertexIds,K=q.vertexWeights,oe=Q.length,re=S.mallocFloat32(2*3*oe),V=0,ee=0;ee<oe;++ee)for(var H=Q[ee],te=0;te<2;++te){var le=H[0];H.length===2&&(le=H[te]);for(var ve=ae[le][0],Ae=ae[le][1],we=K[le],ce=1-we,Se=this.positions[ve],Ce=this.positions[Ae],Fe=0;Fe<3;++Fe)re[V++]=we*Se[Fe]+ce*Ce[Fe]}this.contourCount=V/3|0,this.contourPositions.update(re.subarray(0,V)),S.free(re)},R.update=function(Y){Y=Y||{};var q=this.gl;this.dirty=!0,"contourEnable"in Y&&(this.contourEnable=Y.contourEnable),"contourColor"in Y&&(this.contourColor=Y.contourColor),"lineWidth"in Y&&(this.lineWidth=Y.lineWidth),"lightPosition"in Y&&(this.lightPosition=Y.lightPosition),this.hasAlpha=!1,"opacity"in Y&&(this.opacity=Y.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in Y&&(this.opacityscale=Y.opacityscale,this.hasAlpha=!0),"ambient"in Y&&(this.ambientLight=Y.ambient),"diffuse"in Y&&(this.diffuseLight=Y.diffuse),"specular"in Y&&(this.specularLight=Y.specular),"roughness"in Y&&(this.roughness=Y.roughness),"fresnel"in Y&&(this.fresnel=Y.fresnel),Y.texture?(this.texture.dispose(),this.texture=p(q,Y.texture)):Y.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=q.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=q.LINEAR,this.texture.setPixels(F(Y.colormap,this.opacityscale)),this.texture.generateMipmap());var Q=Y.cells,ae=Y.positions;if(!(!ae||!Q)){var K=[],oe=[],re=[],V=[],ee=[],H=[],te=[],le=[],ve=[],Ae=[],we=[],ce=[],Se=[],Ce=[];this.cells=Q,this.positions=ae;var Fe=Y.vertexNormals,Ee=Y.cellNormals,ze=Y.vertexNormalsEpsilon===void 0?l:Y.vertexNormalsEpsilon,Ue=Y.faceNormalsEpsilon===void 0?u:Y.faceNormalsEpsilon;Y.useFacetNormals&&!Ee&&(Ee=b.faceNormals(Q,ae,Ue)),!Ee&&!Fe&&(Fe=b.vertexNormals(Q,ae,ze));var ge=Y.vertexColors,Me=Y.cellColors,ke=Y.meshColor||[1,1,1,1],me=Y.vertexUVs,ye=Y.vertexIntensity,pe=Y.cellUVs,he=Y.cellIntensity,xe=1/0,Le=-1/0;if(!me&&!pe)if(ye)if(Y.vertexIntensityBounds)xe=+Y.vertexIntensityBounds[0],Le=+Y.vertexIntensityBounds[1];else for(var qe=0;qe<ye.length;++qe){var Ne=ye[qe];xe=Math.min(xe,Ne),Le=Math.max(Le,Ne)}else if(he)if(Y.cellIntensityBounds)xe=+Y.cellIntensityBounds[0],Le=+Y.cellIntensityBounds[1];else for(var qe=0;qe<he.length;++qe){var Ne=he[qe];xe=Math.min(xe,Ne),Le=Math.max(Le,Ne)}else for(var qe=0;qe<ae.length;++qe){var Ne=ae[qe][2];xe=Math.min(xe,Ne),Le=Math.max(Le,Ne)}ye?this.intensity=ye:he?this.intensity=he:this.intensity=I(ae),this.pickVertex=!(he||Me);var $e=Y.pointSizes,Ve=Y.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var qe=0;qe<ae.length;++qe)for(var Be=ae[qe],Ye=0;Ye<3;++Ye)isNaN(Be[Ye])||!isFinite(Be[Ye])||(this.bounds[0][Ye]=Math.min(this.bounds[0][Ye],Be[Ye]),this.bounds[1][Ye]=Math.max(this.bounds[1][Ye],Be[Ye]));var Te=0,Re=0,Qe=0;e:for(var qe=0;qe<Q.length;++qe){var Ke=Q[qe];switch(Ke.length){case 1:for(var ar=Ke[0],Be=ae[ar],Ye=0;Ye<3;++Ye)if(isNaN(Be[Ye])||!isFinite(Be[Ye]))continue e;Ae.push(Be[0],Be[1],Be[2]);var ue;ge?ue=ge[ar]:Me?ue=Me[qe]:ue=ke,this.opacityscale&&ye?oe.push(ue[0],ue[1],ue[2],this.opacity*N((ye[ar]-xe)/(Le-xe),this.opacityscale)):ue.length===3?we.push(ue[0],ue[1],ue[2],this.opacity):(we.push(ue[0],ue[1],ue[2],ue[3]*this.opacity),ue[3]<1&&(this.hasAlpha=!0));var J;me?J=me[ar]:ye?J=[(ye[ar]-xe)/(Le-xe),0]:pe?J=pe[qe]:he?J=[(he[qe]-xe)/(Le-xe),0]:J=[(Be[2]-xe)/(Le-xe),0],ce.push(J[0],J[1]),$e?Se.push($e[ar]):Se.push(Ve),Ce.push(qe),Qe+=1;break;case 2:for(var Ye=0;Ye<2;++Ye)for(var ar=Ke[Ye],Be=ae[ar],ne=0;ne<3;++ne)if(isNaN(Be[ne])||!isFinite(Be[ne]))continue e;for(var Ye=0;Ye<2;++Ye){var ar=Ke[Ye],Be=ae[ar];H.push(Be[0],Be[1],Be[2]);var ue;ge?ue=ge[ar]:Me?ue=Me[qe]:ue=ke,this.opacityscale&&ye?oe.push(ue[0],ue[1],ue[2],this.opacity*N((ye[ar]-xe)/(Le-xe),this.opacityscale)):ue.length===3?te.push(ue[0],ue[1],ue[2],this.opacity):(te.push(ue[0],ue[1],ue[2],ue[3]*this.opacity),ue[3]<1&&(this.hasAlpha=!0));var J;me?J=me[ar]:ye?J=[(ye[ar]-xe)/(Le-xe),0]:pe?J=pe[qe]:he?J=[(he[qe]-xe)/(Le-xe),0]:J=[(Be[2]-xe)/(Le-xe),0],le.push(J[0],J[1]),ve.push(qe)}Re+=1;break;case 3:for(var Ye=0;Ye<3;++Ye)for(var ar=Ke[Ye],Be=ae[ar],ne=0;ne<3;++ne)if(isNaN(Be[ne])||!isFinite(Be[ne]))continue e;for(var Ye=0;Ye<3;++Ye){var ar=Ke[2-Ye],Be=ae[ar];K.push(Be[0],Be[1],Be[2]);var ue;ge?ue=ge[ar]:Me?ue=Me[qe]:ue=ke,ue?this.opacityscale&&ye?oe.push(ue[0],ue[1],ue[2],this.opacity*N((ye[ar]-xe)/(Le-xe),this.opacityscale)):ue.length===3?oe.push(ue[0],ue[1],ue[2],this.opacity):(oe.push(ue[0],ue[1],ue[2],ue[3]*this.opacity),ue[3]<1&&(this.hasAlpha=!0)):oe.push(.5,.5,.5,1);var J;me?J=me[ar]:ye?J=[(ye[ar]-xe)/(Le-xe),0]:pe?J=pe[qe]:he?J=[(he[qe]-xe)/(Le-xe),0]:J=[(Be[2]-xe)/(Le-xe),0],V.push(J[0],J[1]);var De;Fe?De=Fe[ar]:De=Ee[qe],re.push(De[0],De[1],De[2]),ee.push(qe)}Te+=1;break;default:break}}this.pointCount=Qe,this.edgeCount=Re,this.triangleCount=Te,this.pointPositions.update(Ae),this.pointColors.update(we),this.pointUVs.update(ce),this.pointSizes.update(Se),this.pointIds.update(new Uint32Array(Ce)),this.edgePositions.update(H),this.edgeColors.update(te),this.edgeUVs.update(le),this.edgeIds.update(new Uint32Array(ve)),this.trianglePositions.update(K),this.triangleColors.update(oe),this.triangleUVs.update(V),this.triangleNormals.update(re),this.triangleIds.update(new Uint32Array(ee))}},R.drawTransparent=R.draw=function(Y){Y=Y||{};for(var q=this.gl,Q=Y.model||D,ae=Y.view||D,K=Y.projection||D,oe=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],re=0;re<3;++re)oe[0][re]=Math.max(oe[0][re],this.clipBounds[0][re]),oe[1][re]=Math.min(oe[1][re],this.clipBounds[1][re]);var V={model:Q,view:ae,projection:K,inverseModel:D.slice(),clipBounds:oe,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};V.inverseModel=w(V.inverseModel,V.model),q.disable(q.CULL_FACE),this.texture.bind(0);var ee=new Array(16);y(ee,V.view,V.model),y(ee,V.projection,ee),w(ee,ee);for(var re=0;re<3;++re)V.eyePosition[re]=ee[12+re]/ee[15];for(var H=ee[15],re=0;re<3;++re)H+=this.lightPosition[re]*ee[4*re+3];for(var re=0;re<3;++re){for(var te=ee[12+re],le=0;le<3;++le)te+=ee[4*le+re]*this.lightPosition[le];V.lightPosition[re]=te/H}if(this.triangleCount>0){var ve=this.triShader;ve.bind(),ve.uniforms=V,this.triangleVAO.bind(),q.drawArrays(q.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var ve=this.lineShader;ve.bind(),ve.uniforms=V,this.edgeVAO.bind(),q.lineWidth(this.lineWidth*this.pixelRatio),q.drawArrays(q.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var ve=this.pointShader;ve.bind(),ve.uniforms=V,this.pointVAO.bind(),q.drawArrays(q.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var ve=this.contourShader;ve.bind(),ve.uniforms=V,this.contourVAO.bind(),q.drawArrays(q.LINES,0,this.contourCount),this.contourVAO.unbind()}},R.drawPick=function(Y){Y=Y||{};for(var q=this.gl,Q=Y.model||D,ae=Y.view||D,K=Y.projection||D,oe=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],re=0;re<3;++re)oe[0][re]=Math.max(oe[0][re],this.clipBounds[0][re]),oe[1][re]=Math.min(oe[1][re],this.clipBounds[1][re]);this._model=[].slice.call(Q),this._view=[].slice.call(ae),this._projection=[].slice.call(K),this._resolution=[q.drawingBufferWidth,q.drawingBufferHeight];var V={model:Q,view:ae,projection:K,clipBounds:oe,pickId:this.pickId/255},ee=this.pickShader;if(ee.bind(),ee.uniforms=V,this.triangleCount>0&&(this.triangleVAO.bind(),q.drawArrays(q.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),q.lineWidth(this.lineWidth*this.pixelRatio),q.drawArrays(q.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var ee=this.pointPickShader;ee.bind(),ee.uniforms=V,this.pointVAO.bind(),q.drawArrays(q.POINTS,0,this.pointCount),this.pointVAO.unbind()}},R.pick=function(Y){if(!Y||Y.id!==this.pickId)return null;for(var q=Y.value[0]+256*Y.value[1]+65536*Y.value[2],Q=this.cells[q],ae=this.positions,K=new Array(Q.length),oe=0;oe<Q.length;++oe)K[oe]=ae[Q[oe]];var re=Y.coord[0],V=Y.coord[1];if(!this.pickVertex){var ee=this.positions[Q[0]],H=this.positions[Q[1]],te=this.positions[Q[2]],le=[(ee[0]+H[0]+te[0])/3,(ee[1]+H[1]+te[1])/3,(ee[2]+H[2]+te[2])/3];return{_cellCenter:!0,position:[re,V],index:q,cell:Q,cellId:q,intensity:this.intensity[q],dataCoordinate:le}}var ve=M(K,[re*this.pixelRatio,this._resolution[1]-V*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!ve)return null;for(var Ae=ve[2],we=0,oe=0;oe<Q.length;++oe)we+=Ae[oe]*this.intensity[Q[oe]];return{position:ve[1],index:Q[ve[0]],cell:Q,cellId:q,intensity:we,dataCoordinate:this.positions[Q[ve[0]]]}},R.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function L(Y){var q=s(Y,d.vertex,d.fragment);return q.attributes.position.location=0,q.attributes.color.location=2,q.attributes.uv.location=3,q.attributes.normal.location=4,q}function P(Y){var q=s(Y,_.vertex,_.fragment);return q.attributes.position.location=0,q.attributes.color.location=2,q.attributes.uv.location=3,q}function O(Y){var q=s(Y,g.vertex,g.fragment);return q.attributes.position.location=0,q.attributes.color.location=2,q.attributes.uv.location=3,q.attributes.pointSize.location=4,q}function U(Y){var q=s(Y,c.vertex,c.fragment);return q.attributes.position.location=0,q.attributes.id.location=1,q}function X(Y){var q=s(Y,A.vertex,A.fragment);return q.attributes.position.location=0,q.attributes.id.location=1,q.attributes.pointSize.location=4,q}function $(Y){var q=s(Y,v.vertex,v.fragment);return q.attributes.position.location=0,q}function j(Y,q){arguments.length===1&&(q=Y,Y=q.gl);var Q=Y.getExtension("OES_standard_derivatives")||Y.getExtension("MOZ_OES_standard_derivatives")||Y.getExtension("WEBKIT_OES_standard_derivatives");if(!Q)throw new Error("derivatives not supported");var ae=L(Y),K=P(Y),oe=O(Y),re=U(Y),V=X(Y),ee=$(Y),H=p(Y,T(new Uint8Array([255,255,255,255]),[1,1,4]));H.generateMipmap(),H.minFilter=Y.LINEAR_MIPMAP_LINEAR,H.magFilter=Y.LINEAR;var te=f(Y),le=f(Y),ve=f(Y),Ae=f(Y),we=f(Y),ce=h(Y,[{buffer:te,type:Y.FLOAT,size:3},{buffer:we,type:Y.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:le,type:Y.FLOAT,size:4},{buffer:ve,type:Y.FLOAT,size:2},{buffer:Ae,type:Y.FLOAT,size:3}]),Se=f(Y),Ce=f(Y),Fe=f(Y),Ee=f(Y),ze=h(Y,[{buffer:Se,type:Y.FLOAT,size:3},{buffer:Ee,type:Y.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Ce,type:Y.FLOAT,size:4},{buffer:Fe,type:Y.FLOAT,size:2}]),Ue=f(Y),ge=f(Y),Me=f(Y),ke=f(Y),me=f(Y),ye=h(Y,[{buffer:Ue,type:Y.FLOAT,size:3},{buffer:me,type:Y.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ge,type:Y.FLOAT,size:4},{buffer:Me,type:Y.FLOAT,size:2},{buffer:ke,type:Y.FLOAT,size:1}]),pe=f(Y),he=h(Y,[{buffer:pe,type:Y.FLOAT,size:3}]),xe=new E(Y,H,ae,K,oe,re,V,ee,te,we,le,ve,Ae,ce,Se,Ee,Ce,Fe,ze,Ue,me,ge,Me,ke,ye,pe,he);return xe.update(q),xe}a.exports=j},7261:function(a,o,i){"use strict";a.exports=S;var l=i(9215),u=i(7608),s=i(6079),f=i(5911),h=i(3536),p=i(244);function b(x,M,d){return Math.sqrt(Math.pow(x,2)+Math.pow(M,2)+Math.pow(d,2))}function y(x){return Math.min(1,Math.max(-1,x))}function w(x){var M=Math.abs(x[0]),d=Math.abs(x[1]),_=Math.abs(x[2]),g=[0,0,0];M>Math.max(d,_)?g[2]=1:d>Math.max(M,_)?g[0]=1:g[1]=1;for(var c=0,A=0,v=0;v<3;++v)c+=x[v]*x[v],A+=g[v]*x[v];for(var v=0;v<3;++v)g[v]-=A/c*x[v];return h(g,g),g}function T(x,M,d,_,g,c,A,v){this.center=l(d),this.up=l(_),this.right=l(g),this.radius=l([c]),this.angle=l([A,v]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(x,M),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var D=0;D<16;++D)this.computedMatrix[D]=.5;this.recalcMatrix(0)}var m=T.prototype;m.setDistanceLimits=function(x,M){x>0?x=Math.log(x):x=-1/0,M>0?M=Math.log(M):M=1/0,M=Math.max(M,x),this.radius.bounds[0][0]=x,this.radius.bounds[1][0]=M},m.getDistanceLimits=function(x){var M=this.radius.bounds[0];return x?(x[0]=Math.exp(M[0][0]),x[1]=Math.exp(M[1][0]),x):[Math.exp(M[0][0]),Math.exp(M[1][0])]},m.recalcMatrix=function(x){this.center.curve(x),this.up.curve(x),this.right.curve(x),this.radius.curve(x),this.angle.curve(x);for(var M=this.computedUp,d=this.computedRight,_=0,g=0,c=0;c<3;++c)g+=M[c]*d[c],_+=M[c]*M[c];for(var A=Math.sqrt(_),v=0,c=0;c<3;++c)d[c]-=M[c]*g/_,v+=d[c]*d[c],M[c]/=A;for(var D=Math.sqrt(v),c=0;c<3;++c)d[c]/=D;var E=this.computedToward;f(E,M,d),h(E,E);for(var R=Math.exp(this.computedRadius[0]),N=this.computedAngle[0],F=this.computedAngle[1],I=Math.cos(N),L=Math.sin(N),P=Math.cos(F),O=Math.sin(F),U=this.computedCenter,X=I*P,$=L*P,j=O,Y=-I*O,q=-L*O,Q=P,ae=this.computedEye,K=this.computedMatrix,c=0;c<3;++c){var oe=X*d[c]+$*E[c]+j*M[c];K[4*c+1]=Y*d[c]+q*E[c]+Q*M[c],K[4*c+2]=oe,K[4*c+3]=0}var re=K[1],V=K[5],ee=K[9],H=K[2],te=K[6],le=K[10],ve=V*le-ee*te,Ae=ee*H-re*le,we=re*te-V*H,ce=b(ve,Ae,we);ve/=ce,Ae/=ce,we/=ce,K[0]=ve,K[4]=Ae,K[8]=we;for(var c=0;c<3;++c)ae[c]=U[c]+K[2+4*c]*R;for(var c=0;c<3;++c){for(var v=0,Se=0;Se<3;++Se)v+=K[c+4*Se]*ae[Se];K[12+c]=-v}K[15]=1},m.getMatrix=function(x,M){this.recalcMatrix(x);var d=this.computedMatrix;if(M){for(var _=0;_<16;++_)M[_]=d[_];return M}return d};var k=[0,0,0];m.rotate=function(x,M,d,_){if(this.angle.move(x,M,d),_){this.recalcMatrix(x);var g=this.computedMatrix;k[0]=g[2],k[1]=g[6],k[2]=g[10];for(var c=this.computedUp,A=this.computedRight,v=this.computedToward,D=0;D<3;++D)g[4*D]=c[D],g[4*D+1]=A[D],g[4*D+2]=v[D];s(g,g,_,k);for(var D=0;D<3;++D)c[D]=g[4*D],A[D]=g[4*D+1];this.up.set(x,c[0],c[1],c[2]),this.right.set(x,A[0],A[1],A[2])}},m.pan=function(x,M,d,_){M=M||0,d=d||0,_=_||0,this.recalcMatrix(x);var g=this.computedMatrix,c=Math.exp(this.computedRadius[0]),A=g[1],v=g[5],D=g[9],E=b(A,v,D);A/=E,v/=E,D/=E;var R=g[0],N=g[4],F=g[8],I=R*A+N*v+F*D;R-=A*I,N-=v*I,F-=D*I;var L=b(R,N,F);R/=L,N/=L,F/=L;var P=R*M+A*d,O=N*M+v*d,U=F*M+D*d;this.center.move(x,P,O,U);var X=Math.exp(this.computedRadius[0]);X=Math.max(1e-4,X+_),this.radius.set(x,Math.log(X))},m.translate=function(x,M,d,_){this.center.move(x,M||0,d||0,_||0)},m.setMatrix=function(x,M,d,_){var g=1;typeof d=="number"&&(g=d|0),(g<0||g>3)&&(g=1);var c=(g+2)%3,A=(g+1)%3;M||(this.recalcMatrix(x),M=this.computedMatrix);var v=M[g],D=M[g+4],E=M[g+8];if(_){var N=Math.abs(v),F=Math.abs(D),I=Math.abs(E),L=Math.max(N,F,I);N===L?(v=v<0?-1:1,D=E=0):I===L?(E=E<0?-1:1,v=D=0):(D=D<0?-1:1,v=E=0)}else{var R=b(v,D,E);v/=R,D/=R,E/=R}var P=M[c],O=M[c+4],U=M[c+8],X=P*v+O*D+U*E;P-=v*X,O-=D*X,U-=E*X;var $=b(P,O,U);P/=$,O/=$,U/=$;var j=D*U-E*O,Y=E*P-v*U,q=v*O-D*P,Q=b(j,Y,q);j/=Q,Y/=Q,q/=Q,this.center.jump(x,Ue,ge,Me),this.radius.idle(x),this.up.jump(x,v,D,E),this.right.jump(x,P,O,U);var ae,K;if(g===2){var oe=M[1],re=M[5],V=M[9],ee=oe*P+re*O+V*U,H=oe*j+re*Y+V*q;Ae<0?ae=-Math.PI/2:ae=Math.PI/2,K=Math.atan2(H,ee)}else{var te=M[2],le=M[6],ve=M[10],Ae=te*v+le*D+ve*E,we=te*P+le*O+ve*U,ce=te*j+le*Y+ve*q;ae=Math.asin(y(Ae)),K=Math.atan2(ce,we)}this.angle.jump(x,K,ae),this.recalcMatrix(x);var Se=M[2],Ce=M[6],Fe=M[10],Ee=this.computedMatrix;u(Ee,M);var ze=Ee[15],Ue=Ee[12]/ze,ge=Ee[13]/ze,Me=Ee[14]/ze,ke=Math.exp(this.computedRadius[0]);this.center.jump(x,Ue-Se*ke,ge-Ce*ke,Me-Fe*ke)},m.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},m.idle=function(x){this.center.idle(x),this.up.idle(x),this.right.idle(x),this.radius.idle(x),this.angle.idle(x)},m.flush=function(x){this.center.flush(x),this.up.flush(x),this.right.flush(x),this.radius.flush(x),this.angle.flush(x)},m.setDistance=function(x,M){M>0&&this.radius.set(x,Math.log(M))},m.lookAt=function(x,M,d,_){this.recalcMatrix(x),M=M||this.computedEye,d=d||this.computedCenter,_=_||this.computedUp;var g=_[0],c=_[1],A=_[2],v=b(g,c,A);if(!(v<1e-6)){g/=v,c/=v,A/=v;var D=M[0]-d[0],E=M[1]-d[1],R=M[2]-d[2],N=b(D,E,R);if(!(N<1e-6)){D/=N,E/=N,R/=N;var F=this.computedRight,I=F[0],L=F[1],P=F[2],O=g*I+c*L+A*P;I-=O*g,L-=O*c,P-=O*A;var U=b(I,L,P);if(!(U<.01&&(I=c*R-A*E,L=A*D-g*R,P=g*E-c*D,U=b(I,L,P),U<1e-6))){I/=U,L/=U,P/=U,this.up.set(x,g,c,A),this.right.set(x,I,L,P),this.center.set(x,d[0],d[1],d[2]),this.radius.set(x,Math.log(N));var X=c*P-A*L,$=A*I-g*P,j=g*L-c*I,Y=b(X,$,j);X/=Y,$/=Y,j/=Y;var q=g*D+c*E+A*R,Q=I*D+L*E+P*R,ae=X*D+$*E+j*R,K=Math.asin(y(q)),oe=Math.atan2(ae,Q),re=this.angle._state,V=re[re.length-1],ee=re[re.length-2];V=V%(2*Math.PI);var H=Math.abs(V+2*Math.PI-oe),te=Math.abs(V-oe),le=Math.abs(V-2*Math.PI-oe);H<te&&(V+=2*Math.PI),le<te&&(V-=2*Math.PI),this.angle.jump(this.angle.lastT(),V,ee),this.angle.set(x,oe,K)}}}};function S(x){x=x||{};var M=x.center||[0,0,0],d=x.up||[0,1,0],_=x.right||w(d),g=x.radius||1,c=x.theta||0,A=x.phi||0;if(M=[].slice.call(M,0,3),d=[].slice.call(d,0,3),h(d,d),_=[].slice.call(_,0,3),h(_,_),"eye"in x){var v=x.eye,D=[v[0]-M[0],v[1]-M[1],v[2]-M[2]];f(_,D,d),b(_[0],_[1],_[2])<1e-6?_=w(d):h(_,_),g=b(D[0],D[1],D[2]);var E=p(d,D)/g,R=p(_,D)/g;A=Math.acos(E),c=Math.acos(R)}return g=Math.log(g),new T(x.zoomMin,x.zoomMax,M,d,_,g,c,A)}},7319:function(a,o,i){var l=i(3236),u=i(9405),s=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),f=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),h=l([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),p=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];o.createShader=function(b){return u(b,s,f,null,p)},o.createPickShader=function(b){return u(b,s,h,null,p)}},7352:function(a,o,i){"use strict";var l=i(5721),u=i(4750),s=i(2690);a.exports=f;function f(h){var p=h.length;if(p===0)return[];if(p===1)return[[0]];var b=h[0].length;return b===0?[]:b===1?l(h):b===2?u(h):s(h,b)}},7399:function(a){a.exports=o;function o(i,l){var u=l[0],s=l[1],f=l[2],h=l[3],p=u+u,b=s+s,y=f+f,w=u*p,T=s*p,m=s*b,k=f*p,S=f*b,x=f*y,M=h*p,d=h*b,_=h*y;return i[0]=1-m-x,i[1]=T+_,i[2]=k-d,i[3]=0,i[4]=T-_,i[5]=1-w-x,i[6]=S+M,i[7]=0,i[8]=k+d,i[9]=S-M,i[10]=1-w-m,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}},7417:function(a){a.exports=o;function o(i,l,u){return i[0]=Math.max(l[0],u[0]),i[1]=Math.max(l[1],u[1]),i[2]=Math.max(l[2],u[2]),i}},7442:function(a,o,i){var l=i(6658),u=i(7182),s=i(2652),f=i(9921),h=i(8648),p=T(),b=T(),y=T();a.exports=w;function w(S,x,M,d){if(f(x)===0||f(M)===0)return!1;var _=s(x,p.translate,p.scale,p.skew,p.perspective,p.quaternion),g=s(M,b.translate,b.scale,b.skew,b.perspective,b.quaternion);return!_||!g?!1:(l(y.translate,p.translate,b.translate,d),l(y.skew,p.skew,b.skew,d),l(y.scale,p.scale,b.scale,d),l(y.perspective,p.perspective,b.perspective,d),h(y.quaternion,p.quaternion,b.quaternion,d),u(S,y.translate,y.scale,y.skew,y.perspective,y.quaternion),!0)}function T(){return{translate:m(),scale:m(1),skew:m(),perspective:k(),quaternion:k()}}function m(S){return[S||0,S||0,S||0]}function k(){return[0,0,0,1]}},7507:function(a,o){"use strict";o.byteLength=b,o.toByteArray=w,o.fromByteArray=k;for(var i=[],l=[],u=typeof Uint8Array!="undefined"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,h=s.length;f<h;++f)i[f]=s[f],l[s.charCodeAt(f)]=f;l[45]=62,l[95]=63;function p(S){var x=S.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var M=S.indexOf("=");M===-1&&(M=x);var d=M===x?0:4-M%4;return[M,d]}function b(S){var x=p(S),M=x[0],d=x[1];return(M+d)*3/4-d}function y(S,x,M){return(x+M)*3/4-M}function w(S){var x,M=p(S),d=M[0],_=M[1],g=new u(y(S,d,_)),c=0,A=_>0?d-4:d,v;for(v=0;v<A;v+=4)x=l[S.charCodeAt(v)]<<18|l[S.charCodeAt(v+1)]<<12|l[S.charCodeAt(v+2)]<<6|l[S.charCodeAt(v+3)],g[c++]=x>>16&255,g[c++]=x>>8&255,g[c++]=x&255;return _===2&&(x=l[S.charCodeAt(v)]<<2|l[S.charCodeAt(v+1)]>>4,g[c++]=x&255),_===1&&(x=l[S.charCodeAt(v)]<<10|l[S.charCodeAt(v+1)]<<4|l[S.charCodeAt(v+2)]>>2,g[c++]=x>>8&255,g[c++]=x&255),g}function T(S){return i[S>>18&63]+i[S>>12&63]+i[S>>6&63]+i[S&63]}function m(S,x,M){for(var d,_=[],g=x;g<M;g+=3)d=(S[g]<<16&16711680)+(S[g+1]<<8&65280)+(S[g+2]&255),_.push(T(d));return _.join("")}function k(S){for(var x,M=S.length,d=M%3,_=[],g=16383,c=0,A=M-d;c<A;c+=g)_.push(m(S,c,c+g>A?A:c+g));return d===1?(x=S[M-1],_.push(i[x>>2]+i[x<<4&63]+"==")):d===2&&(x=(S[M-2]<<8)+S[M-1],_.push(i[x>>10]+i[x>>4&63]+i[x<<2&63]+"=")),_.join("")}},7518:function(a,o,i){"use strict";var l=i(1433);function u(h,p,b,y,w,T){this.location=h,this.dimension=p,this.a=b,this.b=y,this.c=w,this.d=T}u.prototype.bind=function(h){switch(this.dimension){case 1:h.vertexAttrib1f(this.location,this.a);break;case 2:h.vertexAttrib2f(this.location,this.a,this.b);break;case 3:h.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:h.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function s(h,p,b){this.gl=h,this._ext=p,this.handle=b,this._attribs=[],this._useElements=!1,this._elementsType=h.UNSIGNED_SHORT}s.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var h=0;h<this._attribs.length;++h)this._attribs[h].bind(this.gl)},s.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},s.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},s.prototype.update=function(h,p,b){if(this.bind(),l(this.gl,p,h),this.unbind(),this._attribs.length=0,h)for(var y=0;y<h.length;++y){var w=h[y];typeof w=="number"?this._attribs.push(new u(y,1,w)):Array.isArray(w)&&this._attribs.push(new u(y,w.length,w[0],w[1],w[2],w[3]))}this._useElements=!!p,this._elementsType=b||this.gl.UNSIGNED_SHORT},s.prototype.draw=function(h,p,b){b=b||0;var y=this.gl;this._useElements?y.drawElements(h,p,this._elementsType,b):y.drawArrays(h,b,p)};function f(h,p){return new s(h,p,p.createVertexArrayOES())}a.exports=f},7520:function(a,o,i){"use strict";var l=i(9507);function u(){var s=!1;try{var f=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("test",null,f),window.removeEventListener("test",null,f)}catch(h){s=!1}return s}a.exports=l&&u()},7536:function(a){a.exports=o;function o(){var i=new Float32Array(4);return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i}},7608:function(a){a.exports=o;function o(i,l){var u=l[0],s=l[1],f=l[2],h=l[3],p=l[4],b=l[5],y=l[6],w=l[7],T=l[8],m=l[9],k=l[10],S=l[11],x=l[12],M=l[13],d=l[14],_=l[15],g=u*b-s*p,c=u*y-f*p,A=u*w-h*p,v=s*y-f*b,D=s*w-h*b,E=f*w-h*y,R=T*M-m*x,N=T*d-k*x,F=T*_-S*x,I=m*d-k*M,L=m*_-S*M,P=k*_-S*d,O=g*P-c*L+A*I+v*F-D*N+E*R;return O?(O=1/O,i[0]=(b*P-y*L+w*I)*O,i[1]=(f*L-s*P-h*I)*O,i[2]=(M*E-d*D+_*v)*O,i[3]=(k*D-m*E-S*v)*O,i[4]=(y*F-p*P-w*N)*O,i[5]=(u*P-f*F+h*N)*O,i[6]=(d*A-x*E-_*c)*O,i[7]=(T*E-k*A+S*c)*O,i[8]=(p*L-b*F+w*R)*O,i[9]=(s*F-u*L-h*R)*O,i[10]=(x*D-M*A+_*g)*O,i[11]=(m*A-T*D-S*g)*O,i[12]=(b*N-p*I-y*R)*O,i[13]=(u*I-s*N+f*R)*O,i[14]=(M*c-x*v-d*g)*O,i[15]=(T*v-m*c+k*g)*O,i):null}},7626:function(a,o,i){"use strict";var l=i(2642),u=i(9346);a.exports=b;function s(y,w){for(var T=[0,0,0,0],m=0;m<4;++m)for(var k=0;k<4;++k)T[k]+=y[4*m+k]*w[m];return T}function f(y,w,T,m,k){for(var S=s(m,s(T,s(w,[y[0],y[1],y[2],1]))),x=0;x<3;++x)S[x]/=S[3];return[.5*k[0]*(1+S[0]),.5*k[1]*(1-S[1])]}function h(y,w){if(y.length===2){for(var T=0,m=0,k=0;k<2;++k)T+=Math.pow(w[k]-y[0][k],2),m+=Math.pow(w[k]-y[1][k],2);return T=Math.sqrt(T),m=Math.sqrt(m),T+m<1e-6?[1,0]:[m/(T+m),T/(m+T)]}else if(y.length===3){var S=[0,0];return u(y[0],y[1],y[2],w,S),l(y,S)}return[]}function p(y,w){for(var T=[0,0,0],m=0;m<y.length;++m)for(var k=y[m],S=w[m],x=0;x<3;++x)T[x]+=S*k[x];return T}function b(y,w,T,m,k,S){if(y.length===1)return[0,y[0].slice()];for(var x=new Array(y.length),M=0;M<y.length;++M)x[M]=f(y[M],T,m,k,S);for(var d=0,_=1/0,M=0;M<x.length;++M){for(var g=0,c=0;c<2;++c)g+=Math.pow(x[M][c]-w[c],2);g<_&&(_=g,d=M)}for(var A=h(x,w),v=0,M=0;M<3;++M){if(A[M]<-.001||A[M]>1.0001)return null;v+=A[M]}return Math.abs(v-1)>.001?null:[d,p(y,A),A]}},7636:function(a){a.exports=o;function o(i,l){l=l||1;var u=Math.random()*2*Math.PI,s=Math.random()*2-1,f=Math.sqrt(1-s*s)*l;return i[0]=Math.cos(u)*f,i[1]=Math.sin(u)*f,i[2]=s*l,i}},7640:function(a,o,i){"use strict";var l=i(1888);function u(w){switch(w){case"uint32":return[l.mallocUint32,l.freeUint32];default:return null}}var s={"uint32,1,0":function(w,T){return function(k,S,x,M,d,_,g,c,A,v,D){var E,R,N,F=k*d+M,I,L=w(c),P,O,U,X;for(E=k+1;E<=S;++E){for(R=E,F+=d,N=F,P=0,O=F,I=0;I<c;++I)L[P++]=x[O],O+=A;e:for(;R-- >k;){P=0,O=N-d;r:for(I=0;I<c;++I){if(U=x[O],X=L[P],U<X)break e;if(U>X)break r;O+=v,P+=D}for(P=N,O=N-d,I=0;I<c;++I)x[P]=x[O],P+=A,O+=A;N-=d}for(P=N,O=0,I=0;I<c;++I)x[P]=L[O++],P+=A}T(L)}}};function f(w,T){var m=u(T),k=[T,w].join(","),S=s[k];return m?S(m[0],m[1]):S()}var h={"uint32,1,0":function(w,T,m){return function k(S,x,M,d,_,g,c,A,v,D,E){var R=(x-S+1)/6|0,N=S+R,F=x-R,I=S+x>>1,L=I-R,P=I+R,O=N,U=L,X=I,$=P,j=F,Y=S+1,q=x-1,Q=!0,ae,K,oe,re,V,ee,H,te,le,ve=0,Ae=0,we=0,ce,Se,Ce,Fe,Ee,ze,Ue,ge,Me,ke,me,ye,pe,he,xe,Le,qe=A,Ne=T(qe),$e=T(qe);Se=_*O,Ce=_*U,Le=d;e:for(ce=0;ce<A;++ce){if(H=Se+Le,te=Ce+Le,we=M[H]-M[te],we>0){K=O,O=U,U=K;break e}if(we<0)break e;Le+=D}Se=_*$,Ce=_*j,Le=d;e:for(ce=0;ce<A;++ce){if(H=Se+Le,te=Ce+Le,we=M[H]-M[te],we>0){K=$,$=j,j=K;break e}if(we<0)break e;Le+=D}Se=_*O,Ce=_*X,Le=d;e:for(ce=0;ce<A;++ce){if(H=Se+Le,te=Ce+Le,we=M[H]-M[te],we>0){K=O,O=X,X=K;break e}if(we<0)break e;Le+=D}Se=_*U,Ce=_*X,Le=d;e:for(ce=0;ce<A;++ce){if(H=Se+Le,te=Ce+Le,we=M[H]-M[te],we>0){K=U,U=X,X=K;break e}if(we<0)break e;Le+=D}Se=_*O,Ce=_*$,Le=d;e:for(ce=0;ce<A;++ce){if(H=Se+Le,te=Ce+Le,we=M[H]-M[te],we>0){K=O,O=$,$=K;break e}if(we<0)break e;Le+=D}Se=_*X,Ce=_*$,Le=d;e:for(ce=0;ce<A;++ce){if(H=Se+Le,te=Ce+Le,we=M[H]-M[te],we>0){K=X,X=$,$=K;break e}if(we<0)break e;Le+=D}Se=_*U,Ce=_*j,Le=d;e:for(ce=0;ce<A;++ce){if(H=Se+Le,te=Ce+Le,we=M[H]-M[te],we>0){K=U,U=j,j=K;break e}if(we<0)break e;Le+=D}Se=_*U,Ce=_*X,Le=d;e:for(ce=0;ce<A;++ce){if(H=Se+Le,te=Ce+Le,we=M[H]-M[te],we>0){K=U,U=X,X=K;break e}if(we<0)break e;Le+=D}Se=_*$,Ce=_*j,Le=d;e:for(ce=0;ce<A;++ce){if(H=Se+Le,te=Ce+Le,we=M[H]-M[te],we>0){K=$,$=j,j=K;break e}if(we<0)break e;Le+=D}for(Se=_*O,Ce=_*U,Fe=_*X,Ee=_*$,ze=_*j,Ue=_*N,ge=_*I,Me=_*F,xe=0,Le=d,ce=0;ce<A;++ce)H=Se+Le,te=Ce+Le,le=Fe+Le,ke=Ee+Le,me=ze+Le,ye=Ue+Le,pe=ge+Le,he=Me+Le,Ne[xe]=M[te],$e[xe]=M[ke],Q=Q&&Ne[xe]===$e[xe],oe=M[H],re=M[le],V=M[me],M[ye]=oe,M[pe]=re,M[he]=V,++xe,Le+=v;for(Se=_*L,Ce=_*S,Le=d,ce=0;ce<A;++ce)H=Se+Le,te=Ce+Le,M[H]=M[te],Le+=v;for(Se=_*P,Ce=_*x,Le=d,ce=0;ce<A;++ce)H=Se+Le,te=Ce+Le,M[H]=M[te],Le+=v;if(Q)for(ee=Y;ee<=q;++ee){H=d+ee*_,xe=0;e:for(ce=0;ce<A;++ce){if(we=M[H]-Ne[xe],we!==0)break e;xe+=E,H+=D}if(we!==0)if(we<0){if(ee!==Y)for(Se=_*ee,Ce=_*Y,Le=d,ce=0;ce<A;++ce)H=Se+Le,te=Ce+Le,ae=M[H],M[H]=M[te],M[te]=ae,Le+=v;++Y}else for(;;){H=d+q*_,xe=0;e:for(ce=0;ce<A;++ce){if(we=M[H]-Ne[xe],we!==0)break e;xe+=E,H+=D}if(we>0)q--;else if(we<0){for(Se=_*ee,Ce=_*Y,Fe=_*q,Le=d,ce=0;ce<A;++ce)H=Se+Le,te=Ce+Le,le=Fe+Le,ae=M[H],M[H]=M[te],M[te]=M[le],M[le]=ae,Le+=v;++Y,--q;break}else{for(Se=_*ee,Ce=_*q,Le=d,ce=0;ce<A;++ce)H=Se+Le,te=Ce+Le,ae=M[H],M[H]=M[te],M[te]=ae,Le+=v;--q;break}}}else for(ee=Y;ee<=q;++ee){H=d+ee*_,xe=0;e:for(ce=0;ce<A;++ce){if(ve=M[H]-Ne[xe],ve!==0)break e;xe+=E,H+=D}if(ve<0){if(ee!==Y)for(Se=_*ee,Ce=_*Y,Le=d,ce=0;ce<A;++ce)H=Se+Le,te=Ce+Le,ae=M[H],M[H]=M[te],M[te]=ae,Le+=v;++Y}else{H=d+ee*_,xe=0;e:for(ce=0;ce<A;++ce){if(Ae=M[H]-$e[xe],Ae!==0)break e;xe+=E,H+=D}if(Ae>0)for(;;){H=d+q*_,xe=0;e:for(ce=0;ce<A;++ce){if(we=M[H]-$e[xe],we!==0)break e;xe+=E,H+=D}if(we>0){if(--q<ee)break;continue}else{H=d+q*_,xe=0;e:for(ce=0;ce<A;++ce){if(we=M[H]-Ne[xe],we!==0)break e;xe+=E,H+=D}if(we<0){for(Se=_*ee,Ce=_*Y,Fe=_*q,Le=d,ce=0;ce<A;++ce)H=Se+Le,te=Ce+Le,le=Fe+Le,ae=M[H],M[H]=M[te],M[te]=M[le],M[le]=ae,Le+=v;++Y,--q}else{for(Se=_*ee,Ce=_*q,Le=d,ce=0;ce<A;++ce)H=Se+Le,te=Ce+Le,ae=M[H],M[H]=M[te],M[te]=ae,Le+=v;--q}break}}}}for(Se=_*S,Ce=_*(Y-1),xe=0,Le=d,ce=0;ce<A;++ce)H=Se+Le,te=Ce+Le,M[H]=M[te],M[te]=Ne[xe],++xe,Le+=v;for(Se=_*x,Ce=_*(q+1),xe=0,Le=d,ce=0;ce<A;++ce)H=Se+Le,te=Ce+Le,M[H]=M[te],M[te]=$e[xe],++xe,Le+=v;if(Y-2-S<=32?w(S,Y-2,M,d,_,g,c,A,v,D,E):k(S,Y-2,M,d,_,g,c,A,v,D,E),x-(q+2)<=32?w(q+2,x,M,d,_,g,c,A,v,D,E):k(q+2,x,M,d,_,g,c,A,v,D,E),Q){m(Ne),m($e);return}if(Y<N&&q>F){e:for(;;){for(H=d+Y*_,xe=0,Le=d,ce=0;ce<A;++ce){if(M[H]!==Ne[xe])break e;++xe,H+=v}++Y}e:for(;;){for(H=d+q*_,xe=0,Le=d,ce=0;ce<A;++ce){if(M[H]!==$e[xe])break e;++xe,H+=v}--q}for(ee=Y;ee<=q;++ee){H=d+ee*_,xe=0;e:for(ce=0;ce<A;++ce){if(ve=M[H]-Ne[xe],ve!==0)break e;xe+=E,H+=D}if(ve===0){if(ee!==Y)for(Se=_*ee,Ce=_*Y,Le=d,ce=0;ce<A;++ce)H=Se+Le,te=Ce+Le,ae=M[H],M[H]=M[te],M[te]=ae,Le+=v;++Y}else{H=d+ee*_,xe=0;e:for(ce=0;ce<A;++ce){if(Ae=M[H]-$e[xe],Ae!==0)break e;xe+=E,H+=D}if(Ae===0)for(;;){H=d+q*_,xe=0;e:for(ce=0;ce<A;++ce){if(we=M[H]-$e[xe],we!==0)break e;xe+=E,H+=D}if(we===0){if(--q<ee)break;continue}else{H=d+q*_,xe=0;e:for(ce=0;ce<A;++ce){if(we=M[H]-Ne[xe],we!==0)break e;xe+=E,H+=D}if(we<0){for(Se=_*ee,Ce=_*Y,Fe=_*q,Le=d,ce=0;ce<A;++ce)H=Se+Le,te=Ce+Le,le=Fe+Le,ae=M[H],M[H]=M[te],M[te]=M[le],M[le]=ae,Le+=v;++Y,--q}else{for(Se=_*ee,Ce=_*q,Le=d,ce=0;ce<A;++ce)H=Se+Le,te=Ce+Le,ae=M[H],M[H]=M[te],M[te]=ae,Le+=v;--q}break}}}}}m(Ne),m($e),q-Y<=32?w(Y,q,M,d,_,g,c,A,v,D,E):k(Y,q,M,d,_,g,c,A,v,D,E)}}};function p(w,T,m){var k=u(T),S=[T,w].join(","),x=h[S];return w.length>1&&k?x(m,k[0],k[1]):x(m)}var b={"uint32,1,0":function(w,T){return function(m){var k=m.data,S=m.offset|0,x=m.shape,M=m.stride,d=M[0]|0,_=x[0]|0,g=M[1]|0,c=x[1]|0,A=g,v=g,D=1;_<=32?w(0,_-1,k,S,d,g,_,c,A,v,D):T(0,_-1,k,S,d,g,_,c,A,v,D)}}};function y(w,T){var m=[T,w].join(","),k=b[m],S=f(w,T),x=p(w,T,S);return k(S,x)}a.exports=y},7642:function(a,o,i){"use strict";var l=i(8954),u=i(1682);a.exports=p;function s(b,y){this.point=b,this.index=y}function f(b,y){for(var w=b.point,T=y.point,m=w.length,k=0;k<m;++k){var S=T[k]-w[k];if(S)return S}return 0}function h(b,y,w){if(b===1)return w?[[-1,0]]:[];var T=y.map(function(M,d){return[M[0],d]});T.sort(function(M,d){return M[0]-d[0]});for(var m=new Array(b-1),k=1;k<b;++k){var S=T[k-1],x=T[k];m[k-1]=[S[1],x[1]]}return w&&m.push([-1,m[0][1]],[m[b-1][1],-1]),m}function p(b,y){var w=b.length;if(w===0)return[];var T=b[0].length;if(T<1)return[];if(T===1)return h(w,b,y);for(var m=new Array(w),k=1,S=0;S<w;++S){for(var x=b[S],M=new Array(T+1),d=0,_=0;_<T;++_){var g=x[_];M[_]=g,d+=g*g}M[T]=d,m[S]=new s(M,S),k=Math.max(d,k)}u(m,f),w=m.length;for(var c=new Array(w+T+1),A=new Array(w+T+1),v=(T+1)*(T+1)*k,D=new Array(T+1),S=0;S<=T;++S)D[S]=0;D[T]=v,c[0]=D.slice(),A[0]=-1;for(var S=0;S<=T;++S){var M=D.slice();M[S]=1,c[S+1]=M,A[S+1]=-1}for(var S=0;S<w;++S){var E=m[S];c[S+T+1]=E.point,A[S+T+1]=E.index}var R=l(c,!1);if(y?R=R.filter(function(N){for(var F=0,I=0;I<=T;++I){var L=A[N[I]];if(L<0&&++F>=2)return!1;N[I]=L}return!0}):R=R.filter(function(N){for(var F=0;F<=T;++F){var I=A[N[F]];if(I<0)return!1;N[F]=I}return!0}),T&1)for(var S=0;S<R.length;++S){var E=R[S],M=E[0];E[0]=E[1],E[1]=M}return R}},7656:function(a){a.exports=o;function o(i,l,u){var s=u[0],f=u[1],h=u[2],p,b,y,w,T,m,k,S,x,M,d,_;return l===i?(i[12]=l[0]*s+l[4]*f+l[8]*h+l[12],i[13]=l[1]*s+l[5]*f+l[9]*h+l[13],i[14]=l[2]*s+l[6]*f+l[10]*h+l[14],i[15]=l[3]*s+l[7]*f+l[11]*h+l[15]):(p=l[0],b=l[1],y=l[2],w=l[3],T=l[4],m=l[5],k=l[6],S=l[7],x=l[8],M=l[9],d=l[10],_=l[11],i[0]=p,i[1]=b,i[2]=y,i[3]=w,i[4]=T,i[5]=m,i[6]=k,i[7]=S,i[8]=x,i[9]=M,i[10]=d,i[11]=_,i[12]=p*s+T*f+x*h+l[12],i[13]=b*s+m*f+M*h+l[13],i[14]=y*s+k*f+d*h+l[14],i[15]=w*s+S*f+_*h+l[15]),i}},7718:function(a,o,i){a.exports=E,a.exports.processPixels=D;var l=i(3711),u=i(9618),s=i(5878),f=i(332),h=i(2538),p=i(2095),b="b",y="b|",w="i",T="i|",m="sup",k="+",S="+1",x="sub",M="-",d="-1";function _(R,N,F,I){for(var L="<"+R+">",P="</"+R+">",O=L.length,U=P.length,X=N[0]===k||N[0]===M,$=0,j=-U;$>-1&&($=F.indexOf(L,$),!($===-1||(j=F.indexOf(P,$+O),j===-1)||j<=$));){for(var Y=$;Y<j+U;++Y)if(Y<$+O||Y>=j)I[Y]=null,F=F.substr(0,Y)+" "+F.substr(Y+1);else if(I[Y]!==null){var q=I[Y].indexOf(N[0]);q===-1?I[Y]+=N:X&&(I[Y]=I[Y].substr(0,q+1)+(1+parseInt(I[Y][q+1]))+I[Y].substr(q+2))}var Q=$+O,ae=F.substr(Q,j-Q),K=ae.indexOf(L);K!==-1?$=K:$=j+U}return I}function g(R,N,F){for(var I=N.textAlign||"start",L=N.textBaseline||"alphabetic",P=[1<<30,1<<30],O=[0,0],U=R.length,X=0;X<U;++X)for(var $=R[X],j=0;j<2;++j)P[j]=Math.min(P[j],$[j])|0,O[j]=Math.max(O[j],$[j])|0;var Y=0;switch(I){case"center":Y=-.5*(P[0]+O[0]);break;case"right":case"end":Y=-O[0];break;case"left":case"start":Y=-P[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+I+"'")}var q=0;switch(L){case"hanging":case"top":q=-P[1];break;case"middle":q=-.5*(P[1]+O[1]);break;case"alphabetic":case"ideographic":q=-3*F;break;case"bottom":q=-O[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+L+"'")}var Q=1/F;return"lineHeight"in N?Q*=+N.lineHeight:"width"in N?Q=N.width/(O[0]-P[0]):"height"in N&&(Q=N.height/(O[1]-P[1])),R.map(function(ae){return[Q*(ae[0]+Y),Q*(ae[1]+q)]})}function c(R,N,F,I,L,P){F=F.replace(/\n/g,""),P.breaklines===!0?F=F.replace(/\<br\>/g,`
`):F=F.replace(/\<br\>/g," ");var O="",U=[];for(V=0;V<F.length;++V)U[V]=O;P.bolds===!0&&(U=_(b,y,F,U)),P.italics===!0&&(U=_(w,T,F,U)),P.superscripts===!0&&(U=_(m,S,F,U)),P.subscripts===!0&&(U=_(x,d,F,U));var X=[],$="";for(V=0;V<F.length;++V)U[V]!==null&&($+=F[V],X.push(U[V]));var j=$.split(`
`),Y=j.length,q=Math.round(L*I),Q=I,ae=I*2,K=0,oe=Y*q+ae;R.height<oe&&(R.height=oe),N.fillStyle="#000",N.fillRect(0,0,R.width,R.height),N.fillStyle="#fff";var re,V,ee,H,te,le=0,ve="";function Ae(){if(ve!==""){var ge=N.measureText(ve).width;N.fillText(ve,Q+ee,ae+H),ee+=ge}}function we(){return""+Math.round(te)+"px "}function ce(ge,Me){var ke=""+N.font;if(P.subscripts===!0){var me=ge.indexOf(M),ye=Me.indexOf(M),pe=me>-1?parseInt(ge[1+me]):0,he=ye>-1?parseInt(Me[1+ye]):0;pe!==he&&(ke=ke.replace(we(),"?px "),te*=Math.pow(.75,he-pe),ke=ke.replace("?px ",we())),H+=.25*q*(he-pe)}if(P.superscripts===!0){var xe=ge.indexOf(k),Le=Me.indexOf(k),qe=xe>-1?parseInt(ge[1+xe]):0,Ne=Le>-1?parseInt(Me[1+Le]):0;qe!==Ne&&(ke=ke.replace(we(),"?px "),te*=Math.pow(.75,Ne-qe),ke=ke.replace("?px ",we())),H-=.25*q*(Ne-qe)}if(P.bolds===!0){var $e=ge.indexOf(y)>-1,Ve=Me.indexOf(y)>-1;!$e&&Ve&&(Be?ke=ke.replace("italic ","italic bold "):ke="bold "+ke),$e&&!Ve&&(ke=ke.replace("bold ",""))}if(P.italics===!0){var Be=ge.indexOf(T)>-1,Ye=Me.indexOf(T)>-1;!Be&&Ye&&(ke="italic "+ke),Be&&!Ye&&(ke=ke.replace("italic ",""))}N.font=ke}for(re=0;re<Y;++re){var Se=j[re]+`
`;for(ee=0,H=re*q,te=I,ve="",V=0;V<Se.length;++V){var Ce=V+le<X.length?X[V+le]:X[X.length-1];O===Ce?ve+=Se[V]:(Ae(),ve=Se[V],Ce!==void 0&&(ce(O,Ce),O=Ce))}Ae(),le+=Se.length;var Fe=Math.round(ee+2*Q)|0;K<Fe&&(K=Fe)}var Ee=K,ze=ae+q*Y,Ue=u(N.getImageData(0,0,Ee,ze).data,[ze,Ee,4]);return Ue.pick(-1,-1,0).transpose(1,0)}function A(R,N){var F=l(R,128);return N?s(F.cells,F.positions,.25):{edges:F.cells,positions:F.positions}}function v(R,N,F,I){var L=A(R,I),P=g(L.positions,N,F),O=L.edges,U=N.orientation==="ccw";if(f(P,O),N.polygons||N.polygon||N.polyline){for(var X=p(O,P),$=new Array(X.length),j=0;j<X.length;++j){for(var Y=X[j],q=new Array(Y.length),Q=0;Q<Y.length;++Q){for(var ae=Y[Q],K=new Array(ae.length),oe=0;oe<ae.length;++oe)K[oe]=P[ae[oe]].slice();U&&K.reverse(),q[Q]=K}$[j]=q}return $}else return N.triangles||N.triangulate||N.triangle?{cells:h(P,O,{delaunay:!1,exterior:!1,interior:!0}),positions:P}:{edges:O,positions:P}}function D(R,N,F){try{return v(R,N,F,!0)}catch(I){}try{return v(R,N,F,!1)}catch(I){}return N.polygons||N.polyline||N.polygon?[]:N.triangles||N.triangulate||N.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function E(R,N,F,I){var L=64,P=1.25,O={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};I&&(I.size&&I.size>0&&(L=I.size),I.lineSpacing&&I.lineSpacing>0&&(P=I.lineSpacing),I.styletags&&I.styletags.breaklines&&(O.breaklines=!!I.styletags.breaklines),I.styletags&&I.styletags.bolds&&(O.bolds=!!I.styletags.bolds),I.styletags&&I.styletags.italics&&(O.italics=!!I.styletags.italics),I.styletags&&I.styletags.subscripts&&(O.subscripts=!!I.styletags.subscripts),I.styletags&&I.styletags.superscripts&&(O.superscripts=!!I.styletags.superscripts)),F.font=[I.fontStyle,I.fontVariant,I.fontWeight,L+"px",I.font].filter(function(X){return X}).join(" "),F.textAlign="start",F.textBaseline="alphabetic",F.direction="ltr";var U=c(N,F,R,L,P,O);return D(U,I,L)}},7721:function(a,o,i){"use strict";var l=i(5716);a.exports=u;function u(s){return l(s[0])*l(s[1])}},7765:function(a,o,i){"use strict";a.exports=m;var l=i(9618),u=i(1888),s=i(446),f=i(1570);function h(k){for(var S=k.length,x=0,M=0;M<S;++M)x=Math.max(x,k[M].length)|0;return x-1}function p(k,S){for(var x=k.length,M=u.mallocUint8(x),d=0;d<x;++d)M[d]=k[d]<S|0;return M}function b(k,S){for(var x=k.length,M=S*(S+1)/2*x|0,d=u.mallocUint32(M*2),_=0,g=0;g<x;++g)for(var c=k[g],S=c.length,A=0;A<S;++A)for(var v=0;v<A;++v){var D=c[v],E=c[A];d[_++]=Math.min(D,E)|0,d[_++]=Math.max(D,E)|0}var R=_/2|0;s(l(d,[R,2]));for(var N=2,g=2;g<_;g+=2)d[g-2]===d[g]&&d[g-1]===d[g+1]||(d[N++]=d[g],d[N++]=d[g+1]);return l(d,[N/2|0,2])}function y(k,S,x,M){for(var d=k.data,_=k.shape[0],g=u.mallocDouble(_),c=0,A=0;A<_;++A){var v=d[2*A],D=d[2*A+1];if(x[v]!==x[D]){var E=S[v],R=S[D];d[2*c]=v,d[2*c+1]=D,g[c++]=(R-M)/(R-E)}}return k.shape[0]=c,l(g,[c])}function w(k,S){var x=u.mallocInt32(S*2),M=k.shape[0],d=k.data;x[0]=0;for(var _=0,g=0;g<M;++g){var c=d[2*g];if(c!==_){for(x[2*_+1]=g;++_<c;)x[2*_]=g,x[2*_+1]=g;x[2*_]=g}}for(x[2*_+1]=M;++_<S;)x[2*_]=x[2*_+1]=M;return x}function T(k){for(var S=k.shape[0]|0,x=k.data,M=new Array(S),d=0;d<S;++d)M[d]=[x[2*d],x[2*d+1]];return M}function m(k,S,x,M){x=x||0,typeof M=="undefined"&&(M=h(k));var d=k.length;if(d===0||M<1)return{cells:[],vertexIds:[],vertexWeights:[]};var _=p(S,+x),g=b(k,M),c=y(g,S,_,+x),A=w(g,S.length|0),v=f(M)(k,g.data,A,_),D=T(g),E=[].slice.call(c.data,0,c.shape[0]);return u.free(_),u.free(g.data),u.free(c.data),u.free(A),{cells:v,vertexIds:D,vertexWeights:E}}},7766:function(a,o,i){"use strict";var l=i(9618),u=i(5298),s=i(1888);a.exports=c;var f=null,h=null,p=null;function b(A){f=[A.LINEAR,A.NEAREST_MIPMAP_LINEAR,A.LINEAR_MIPMAP_NEAREST,A.LINEAR_MIPMAP_NEAREST],h=[A.NEAREST,A.LINEAR,A.NEAREST_MIPMAP_NEAREST,A.NEAREST_MIPMAP_LINEAR,A.LINEAR_MIPMAP_NEAREST,A.LINEAR_MIPMAP_LINEAR],p=[A.REPEAT,A.CLAMP_TO_EDGE,A.MIRRORED_REPEAT]}function y(A){return typeof HTMLCanvasElement!="undefined"&&A instanceof HTMLCanvasElement||typeof HTMLImageElement!="undefined"&&A instanceof HTMLImageElement||typeof HTMLVideoElement!="undefined"&&A instanceof HTMLVideoElement||typeof ImageData!="undefined"&&A instanceof ImageData}var w=function(A,v){u.muls(A,v,255)};function T(A,v,D){var E=A.gl,R=E.getParameter(E.MAX_TEXTURE_SIZE);if(v<0||v>R||D<0||D>R)throw new Error("gl-texture2d: Invalid texture size");return A._shape=[v,D],A.bind(),E.texImage2D(E.TEXTURE_2D,0,A.format,v,D,0,A.format,A.type,null),A._mipLevels=[0],A}function m(A,v,D,E,R,N){this.gl=A,this.handle=v,this.format=R,this.type=N,this._shape=[D,E],this._mipLevels=[0],this._magFilter=A.NEAREST,this._minFilter=A.NEAREST,this._wrapS=A.CLAMP_TO_EDGE,this._wrapT=A.CLAMP_TO_EDGE,this._anisoSamples=1;var F=this,I=[this._wrapS,this._wrapT];Object.defineProperties(I,[{get:function(){return F._wrapS},set:function(P){return F.wrapS=P}},{get:function(){return F._wrapT},set:function(P){return F.wrapT=P}}]),this._wrapVector=I;var L=[this._shape[0],this._shape[1]];Object.defineProperties(L,[{get:function(){return F._shape[0]},set:function(P){return F.width=P}},{get:function(){return F._shape[1]},set:function(P){return F.height=P}}]),this._shapeVector=L}var k=m.prototype;Object.defineProperties(k,{minFilter:{get:function(){return this._minFilter},set:function(A){this.bind();var v=this.gl;if(this.type===v.FLOAT&&f.indexOf(A)>=0&&(v.getExtension("OES_texture_float_linear")||(A=v.NEAREST)),h.indexOf(A)<0)throw new Error("gl-texture2d: Unknown filter mode "+A);return v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,A),this._minFilter=A}},magFilter:{get:function(){return this._magFilter},set:function(A){this.bind();var v=this.gl;if(this.type===v.FLOAT&&f.indexOf(A)>=0&&(v.getExtension("OES_texture_float_linear")||(A=v.NEAREST)),h.indexOf(A)<0)throw new Error("gl-texture2d: Unknown filter mode "+A);return v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,A),this._magFilter=A}},mipSamples:{get:function(){return this._anisoSamples},set:function(A){var v=this._anisoSamples;if(this._anisoSamples=Math.max(A,1)|0,v!==this._anisoSamples){var D=this.gl.getExtension("EXT_texture_filter_anisotropic");D&&this.gl.texParameterf(this.gl.TEXTURE_2D,D.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(A){if(this.bind(),p.indexOf(A)<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,A),this._wrapS=A}},wrapT:{get:function(){return this._wrapT},set:function(A){if(this.bind(),p.indexOf(A)<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,A),this._wrapT=A}},wrap:{get:function(){return this._wrapVector},set:function(A){if(Array.isArray(A)||(A=[A,A]),A.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var v=0;v<2;++v)if(p.indexOf(A[v])<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);this._wrapS=A[0],this._wrapT=A[1];var D=this.gl;return this.bind(),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_S,this._wrapS),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_T,this._wrapT),A}},shape:{get:function(){return this._shapeVector},set:function(A){if(!Array.isArray(A))A=[A|0,A|0];else if(A.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return T(this,A[0]|0,A[1]|0),[A[0]|0,A[1]|0]}},width:{get:function(){return this._shape[0]},set:function(A){return A=A|0,T(this,A,this._shape[1]),A}},height:{get:function(){return this._shape[1]},set:function(A){return A=A|0,T(this,this._shape[0],A),A}}}),k.bind=function(A){var v=this.gl;return A!==void 0&&v.activeTexture(v.TEXTURE0+(A|0)),v.bindTexture(v.TEXTURE_2D,this.handle),A!==void 0?A|0:v.getParameter(v.ACTIVE_TEXTURE)-v.TEXTURE0},k.dispose=function(){this.gl.deleteTexture(this.handle)},k.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var A=Math.min(this._shape[0],this._shape[1]),v=0;A>0;++v,A>>>=1)this._mipLevels.indexOf(v)<0&&this._mipLevels.push(v)},k.setPixels=function(A,v,D,E){var R=this.gl;this.bind(),Array.isArray(v)?(E=D,D=v[1]|0,v=v[0]|0):(v=v||0,D=D||0),E=E||0;var N=y(A)?A:A.raw;if(N){var F=this._mipLevels.indexOf(E)<0;F?(R.texImage2D(R.TEXTURE_2D,0,this.format,this.format,this.type,N),this._mipLevels.push(E)):R.texSubImage2D(R.TEXTURE_2D,E,v,D,this.format,this.type,N)}else if(A.shape&&A.stride&&A.data){if(A.shape.length<2||v+A.shape[1]>this._shape[1]>>>E||D+A.shape[0]>this._shape[0]>>>E||v<0||D<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");x(R,v,D,E,this.format,this.type,this._mipLevels,A)}else throw new Error("gl-texture2d: Unsupported data type")};function S(A,v){return A.length===3?v[2]===1&&v[1]===A[0]*A[2]&&v[0]===A[2]:v[0]===1&&v[1]===A[0]}function x(A,v,D,E,R,N,F,I){var L=I.dtype,P=I.shape.slice();if(P.length<2||P.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var O=0,U=0,X=S(P,I.stride.slice());L==="float32"?O=A.FLOAT:L==="float64"?(O=A.FLOAT,X=!1,L="float32"):L==="uint8"?O=A.UNSIGNED_BYTE:(O=A.UNSIGNED_BYTE,X=!1,L="uint8");var $=1;if(P.length===2)U=A.LUMINANCE,P=[P[0],P[1],1],I=l(I.data,P,[I.stride[0],I.stride[1],1],I.offset);else if(P.length===3){if(P[2]===1)U=A.ALPHA;else if(P[2]===2)U=A.LUMINANCE_ALPHA;else if(P[2]===3)U=A.RGB;else if(P[2]===4)U=A.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");$=P[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((U===A.LUMINANCE||U===A.ALPHA)&&(R===A.LUMINANCE||R===A.ALPHA)&&(U=R),U!==R)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var j=I.size,Y=F.indexOf(E)<0;if(Y&&F.push(E),O===N&&X)I.offset===0&&I.data.length===j?Y?A.texImage2D(A.TEXTURE_2D,E,R,P[0],P[1],0,R,N,I.data):A.texSubImage2D(A.TEXTURE_2D,E,v,D,P[0],P[1],R,N,I.data):Y?A.texImage2D(A.TEXTURE_2D,E,R,P[0],P[1],0,R,N,I.data.subarray(I.offset,I.offset+j)):A.texSubImage2D(A.TEXTURE_2D,E,v,D,P[0],P[1],R,N,I.data.subarray(I.offset,I.offset+j));else{var q;N===A.FLOAT?q=s.mallocFloat32(j):q=s.mallocUint8(j);var Q=l(q,P,[P[2],P[2]*P[0],1]);O===A.FLOAT&&N===A.UNSIGNED_BYTE?w(Q,I):u.assign(Q,I),Y?A.texImage2D(A.TEXTURE_2D,E,R,P[0],P[1],0,R,N,q.subarray(0,j)):A.texSubImage2D(A.TEXTURE_2D,E,v,D,P[0],P[1],R,N,q.subarray(0,j)),N===A.FLOAT?s.freeFloat32(q):s.freeUint8(q)}}function M(A){var v=A.createTexture();return A.bindTexture(A.TEXTURE_2D,v),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),v}function d(A,v,D,E,R){var N=A.getParameter(A.MAX_TEXTURE_SIZE);if(v<0||v>N||D<0||D>N)throw new Error("gl-texture2d: Invalid texture shape");if(R===A.FLOAT&&!A.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var F=M(A);return A.texImage2D(A.TEXTURE_2D,0,E,v,D,0,E,R,null),new m(A,F,v,D,E,R)}function _(A,v,D,E,R,N){var F=M(A);return A.texImage2D(A.TEXTURE_2D,0,R,R,N,v),new m(A,F,D,E,R,N)}function g(A,v){var D=v.dtype,E=v.shape.slice(),R=A.getParameter(A.MAX_TEXTURE_SIZE);if(E[0]<0||E[0]>R||E[1]<0||E[1]>R)throw new Error("gl-texture2d: Invalid texture size");var N=S(E,v.stride.slice()),F=0;D==="float32"?F=A.FLOAT:D==="float64"?(F=A.FLOAT,N=!1,D="float32"):D==="uint8"?F=A.UNSIGNED_BYTE:(F=A.UNSIGNED_BYTE,N=!1,D="uint8");var I=0;if(E.length===2)I=A.LUMINANCE,E=[E[0],E[1],1],v=l(v.data,E,[v.stride[0],v.stride[1],1],v.offset);else if(E.length===3)if(E[2]===1)I=A.ALPHA;else if(E[2]===2)I=A.LUMINANCE_ALPHA;else if(E[2]===3)I=A.RGB;else if(E[2]===4)I=A.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");F===A.FLOAT&&!A.getExtension("OES_texture_float")&&(F=A.UNSIGNED_BYTE,N=!1);var L,P,O=v.size;if(N)v.offset===0&&v.data.length===O?L=v.data:L=v.data.subarray(v.offset,v.offset+O);else{var U=[E[2],E[2]*E[0],1];P=s.malloc(O,D);var X=l(P,E,U,0);(D==="float32"||D==="float64")&&F===A.UNSIGNED_BYTE?w(X,v):u.assign(X,v),L=P.subarray(0,O)}var $=M(A);return A.texImage2D(A.TEXTURE_2D,0,I,E[0],E[1],0,I,F,L),N||s.free(P),new m(A,$,E[0],E[1],I,F)}function c(A){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(f||b(A),typeof arguments[1]=="number")return d(A,arguments[1],arguments[2],arguments[3]||A.RGBA,arguments[4]||A.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return d(A,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||A.RGBA,arguments[3]||A.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var v=arguments[1],D=y(v)?v:v.raw;if(D)return _(A,D,v.width|0,v.height|0,arguments[2]||A.RGBA,arguments[3]||A.UNSIGNED_BYTE);if(v.shape&&v.data&&v.stride)return g(A,v)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},7790:function(){},7815:function(a,o,i){"use strict";var l=i(2931),u=i(9970),s=["xyz","xzy","yxz","yzx","zxy","zyx"],f=function(x,M,d,_){for(var g=x.points,c=x.velocities,A=x.divergences,v=[],D=[],E=[],R=[],N=[],F=[],I=0,L=0,P=u.create(),O=u.create(),U=8,X=0;X<g.length;X++){var $=g[X],j=c[X],Y=A[X];M===0&&(Y=d*.05),L=l.length(j)/_,P=u.create(),l.copy(P,j),P[3]=Y;for(var q=0;q<U;q++)N[q]=[$[0],$[1],$[2],q];if(R.length>0)for(var q=0;q<U;q++){var Q=(q+1)%U;v.push(R[q],N[q],N[Q],N[Q],R[Q],R[q]),E.push(O,P,P,P,O,O),F.push(I,L,L,L,I,I);var ae=v.length;D.push([ae-6,ae-5,ae-4],[ae-3,ae-2,ae-1])}var K=R;R=N,N=K;var oe=O;O=P,P=oe;var re=I;I=L,L=re}return{positions:v,cells:D,vectors:E,vertexIntensity:F}},h=function(x,M,d,_){for(var g=0,c=0;c<x.length;c++)for(var A=x[c].velocities,v=0;v<A.length;v++)g=Math.max(g,l.length(A[v]));for(var D=x.map(function(X){return f(X,d,_,g)}),E=[],R=[],N=[],F=[],c=0;c<D.length;c++){var I=D[c],L=E.length;E=E.concat(I.positions),N=N.concat(I.vectors),F=F.concat(I.vertexIntensity);for(var v=0;v<I.cells.length;v++){var P=I.cells[v],O=[];R.push(O);for(var U=0;U<P.length;U++)O.push(P[U]+L)}}return{positions:E,cells:R,vectors:N,vertexIntensity:F,colormap:M}},p=function(x,M){var d=x.length,_;for(_=0;_<d;_++){var g=x[_];if(g===M)return _;if(g>M)return _-1}return _},b=function(x,M,d){return x<M?M:x>d?d:x},y=function(x,M,d){var _=M.vectors,g=M.meshgrid,c=x[0],A=x[1],v=x[2],D=g[0].length,E=g[1].length,R=g[2].length,N=p(g[0],c),F=p(g[1],A),I=p(g[2],v),L=N+1,P=F+1,O=I+1;if(N=b(N,0,D-1),L=b(L,0,D-1),F=b(F,0,E-1),P=b(P,0,E-1),I=b(I,0,R-1),O=b(O,0,R-1),N<0||F<0||I<0||L>D-1||P>E-1||O>R-1)return l.create();var U=g[0][N],X=g[0][L],$=g[1][F],j=g[1][P],Y=g[2][I],q=g[2][O],Q=(c-U)/(X-U),ae=(A-$)/(j-$),K=(v-Y)/(q-Y);isFinite(Q)||(Q=.5),isFinite(ae)||(ae=.5),isFinite(K)||(K=.5);var oe,re,V,ee,H,te;switch(d.reversedX&&(N=D-1-N,L=D-1-L),d.reversedY&&(F=E-1-F,P=E-1-P),d.reversedZ&&(I=R-1-I,O=R-1-O),d.filled){case 5:H=I,te=O,V=F*R,ee=P*R,oe=N*R*E,re=L*R*E;break;case 4:H=I,te=O,oe=N*R,re=L*R,V=F*R*D,ee=P*R*D;break;case 3:V=F,ee=P,H=I*E,te=O*E,oe=N*E*R,re=L*E*R;break;case 2:V=F,ee=P,oe=N*E,re=L*E,H=I*E*D,te=O*E*D;break;case 1:oe=N,re=L,H=I*D,te=O*D,V=F*D*R,ee=P*D*R;break;default:oe=N,re=L,V=F*D,ee=P*D,H=I*D*E,te=O*D*E;break}var le=_[oe+V+H],ve=_[oe+V+te],Ae=_[oe+ee+H],we=_[oe+ee+te],ce=_[re+V+H],Se=_[re+V+te],Ce=_[re+ee+H],Fe=_[re+ee+te],Ee=l.create(),ze=l.create(),Ue=l.create(),ge=l.create();l.lerp(Ee,le,ce,Q),l.lerp(ze,ve,Se,Q),l.lerp(Ue,Ae,Ce,Q),l.lerp(ge,we,Fe,Q);var Me=l.create(),ke=l.create();l.lerp(Me,Ee,Ue,ae),l.lerp(ke,ze,ge,ae);var me=l.create();return l.lerp(me,Me,ke,K),me},w=function(x,M){var d=M[0],_=M[1],g=M[2];return x[0]=d<0?-d:d,x[1]=_<0?-_:_,x[2]=g<0?-g:g,x},T=function(x){var M=1/0;x.sort(function(c,A){return c-A});for(var d=x.length,_=1;_<d;_++){var g=Math.abs(x[_]-x[_-1]);g<M&&(M=g)}return M},m=function(x){for(var M=[],d=[],_=[],g={},c={},A={},v=x.length,D=0;D<v;D++){var E=x[D],R=E[0],N=E[1],F=E[2];g[R]||(M.push(R),g[R]=!0),c[N]||(d.push(N),c[N]=!0),A[F]||(_.push(F),A[F]=!0)}var I=T(M),L=T(d),P=T(_),O=Math.min(I,L,P);return isFinite(O)?O:1};a.exports=function(x,M){var d=x.startingPositions,_=x.maxLength||1e3,g=x.tubeSize||1,c=x.absoluteTubeSize,A=x.gridFill||"+x+y+z",v={};A.indexOf("-x")!==-1&&(v.reversedX=!0),A.indexOf("-y")!==-1&&(v.reversedY=!0),A.indexOf("-z")!==-1&&(v.reversedZ=!0),v.filled=s.indexOf(A.replace(/-/g,"").replace(/\+/g,""));var D=x.getVelocity||function(Se){return y(Se,x,v)},E=x.getDivergence||function(Se,Ce){var Fe=l.create(),Ee=1e-4;l.add(Fe,Se,[Ee,0,0]);var ze=D(Fe);l.subtract(ze,ze,Ce),l.scale(ze,ze,1/Ee),l.add(Fe,Se,[0,Ee,0]);var Ue=D(Fe);l.subtract(Ue,Ue,Ce),l.scale(Ue,Ue,1/Ee),l.add(Fe,Se,[0,0,Ee]);var ge=D(Fe);return l.subtract(ge,ge,Ce),l.scale(ge,ge,1/Ee),l.add(Fe,ze,Ue),l.add(Fe,Fe,ge),Fe},R=[],N=M[0][0],F=M[0][1],I=M[0][2],L=M[1][0],P=M[1][1],O=M[1][2],U=function(Se){var Ce=Se[0],Fe=Se[1],Ee=Se[2];return!(Ce<N||Ce>L||Fe<F||Fe>P||Ee<I||Ee>O)},X=l.distance(M[0],M[1]),$=10*X/_,j=$*$,Y=1,q=0,Q=d.length;Q>1&&(Y=m(d));for(var ae=0;ae<Q;ae++){var K=l.create();l.copy(K,d[ae]);var oe=[K],re=[],V=D(K),ee=K;re.push(V);var H=[],te=E(K,V),le=l.length(te);isFinite(le)&&le>q&&(q=le),H.push(le),R.push({points:oe,velocities:re,divergences:H});for(var ve=0;ve<_*100&&oe.length<_&&U(K);){ve++;var Ae=l.clone(V),we=l.squaredLength(Ae);if(we===0)break;if(we>j&&l.scale(Ae,Ae,$/Math.sqrt(we)),l.add(Ae,Ae,K),V=D(Ae),l.squaredDistance(ee,Ae)-j>-1e-4*j){oe.push(Ae),ee=Ae,re.push(V);var te=E(Ae,V),le=l.length(te);isFinite(le)&&le>q&&(q=le),H.push(le)}K=Ae}}var ce=h(R,x.colormap,q,Y);return c?ce.tubeScale=c:(q===0&&(q=1),ce.tubeScale=g*.5*Y/q),ce};var k=i(6740),S=i(6405).createMesh;a.exports.createTubeMesh=function(x,M){return S(x,M,{shaders:k,traceType:"streamtube"})}},7827:function(a){a.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},7842:function(a,o,i){"use strict";var l=i(6330),u=i(1533),s=i(2651),f=i(6768),h=i(869),p=i(8697);a.exports=b;function b(y,w){if(l(y))return w?p(y,b(w)):[y[0].clone(),y[1].clone()];var T=0,m,k;if(u(y))m=y.clone();else if(typeof y=="string")m=f(y);else{if(y===0)return[s(0),s(1)];if(y===Math.floor(y))m=s(y);else{for(;y!==Math.floor(y);)y=y*Math.pow(2,256),T-=256;m=s(y)}}if(l(w))m.mul(w[1]),k=w[0].clone();else if(u(w))k=w.clone();else if(typeof w=="string")k=f(w);else if(!w)k=s(1);else if(w===Math.floor(w))k=s(w);else{for(;w!==Math.floor(w);)w=w*Math.pow(2,256),T+=256;k=s(w)}return T>0?m=m.ushln(T):T<0&&(k=k.ushln(-T)),h(m,k)}},7894:function(a){a.exports=o;function o(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}},7932:function(a,o,i){var l=i(620);a.exports=l.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},7960:function(a){a.exports=o;function o(i,l){var u=l[0]-i[0],s=l[1]-i[1],f=l[2]-i[2],h=l[3]-i[3];return u*u+s*s+f*f+h*h}},8105:function(a){"use strict";a.exports=i;var o={"lo===p0":l,"lo<p0":u,"lo<=p0":s,"hi<=p0":f,"lo<p0&&p0<=hi":p,"lo<=p0&&p0<=hi":h,"!(lo>=p0)&&!(p1>=hi)":b};function i(y){return o[y]}function l(y,w,T,m,k,S,x){for(var M=2*y,d=M*T,_=d,g=T,c=w,A=y+w,v=T;m>v;++v,d+=M){var D=k[d+c];if(D===x)if(g===v)g+=1,_+=M;else{for(var E=0;M>E;++E){var R=k[d+E];k[d+E]=k[_],k[_++]=R}var N=S[v];S[v]=S[g],S[g++]=N}}return g}function u(y,w,T,m,k,S,x){for(var M=2*y,d=M*T,_=d,g=T,c=w,A=y+w,v=T;m>v;++v,d+=M){var D=k[d+c];if(D<x)if(g===v)g+=1,_+=M;else{for(var E=0;M>E;++E){var R=k[d+E];k[d+E]=k[_],k[_++]=R}var N=S[v];S[v]=S[g],S[g++]=N}}return g}function s(y,w,T,m,k,S,x){for(var M=2*y,d=M*T,_=d,g=T,c=w,A=y+w,v=T;m>v;++v,d+=M){var D=k[d+A];if(D<=x)if(g===v)g+=1,_+=M;else{for(var E=0;M>E;++E){var R=k[d+E];k[d+E]=k[_],k[_++]=R}var N=S[v];S[v]=S[g],S[g++]=N}}return g}function f(y,w,T,m,k,S,x){for(var M=2*y,d=M*T,_=d,g=T,c=w,A=y+w,v=T;m>v;++v,d+=M){var D=k[d+A];if(D<=x)if(g===v)g+=1,_+=M;else{for(var E=0;M>E;++E){var R=k[d+E];k[d+E]=k[_],k[_++]=R}var N=S[v];S[v]=S[g],S[g++]=N}}return g}function h(y,w,T,m,k,S,x){for(var M=2*y,d=M*T,_=d,g=T,c=w,A=y+w,v=T;m>v;++v,d+=M){var D=k[d+c],E=k[d+A];if(D<=x&&x<=E)if(g===v)g+=1,_+=M;else{for(var R=0;M>R;++R){var N=k[d+R];k[d+R]=k[_],k[_++]=N}var F=S[v];S[v]=S[g],S[g++]=F}}return g}function p(y,w,T,m,k,S,x){for(var M=2*y,d=M*T,_=d,g=T,c=w,A=y+w,v=T;m>v;++v,d+=M){var D=k[d+c],E=k[d+A];if(D<x&&x<=E)if(g===v)g+=1,_+=M;else{for(var R=0;M>R;++R){var N=k[d+R];k[d+R]=k[_],k[_++]=N}var F=S[v];S[v]=S[g],S[g++]=F}}return g}function b(y,w,T,m,k,S,x,M){for(var d=2*y,_=d*T,g=_,c=T,A=w,v=y+w,D=T;m>D;++D,_+=d){var E=k[_+A],R=k[_+v];if(!(E>=x)&&!(M>=R))if(c===D)c+=1,g+=d;else{for(var N=0;d>N;++N){var F=k[_+N];k[_+N]=k[g],k[g++]=F}var I=S[D];S[D]=S[c],S[c++]=I}}return c}},8107:function(a){a.exports=o;function o(i,l,u){return i[0]=Math.min(l[0],u[0]),i[1]=Math.min(l[1],u[1]),i[2]=Math.min(l[2],u[2]),i}},8116:function(a,o,i){"use strict";var l=i(7518),u=i(870);function s(h){this.bindVertexArrayOES=h.bindVertexArray.bind(h),this.createVertexArrayOES=h.createVertexArray.bind(h),this.deleteVertexArrayOES=h.deleteVertexArray.bind(h)}function f(h,p,b,y){var w=h.createVertexArray?new s(h):h.getExtension("OES_vertex_array_object"),T;return w?T=l(h,w):T=u(h),T.update(p,b,y),T}a.exports=f},8192:function(a,o,i){a.exports=f;var l=i(2825),u=i(3536),s=i(244);function f(h,p){var b=l(h[0],h[1],h[2]),y=l(p[0],p[1],p[2]);u(b,b),u(y,y);var w=s(b,y);return w>1?0:Math.acos(w)}},8210:function(a){"use strict";a.exports=i;function o(l,u){var s=l+u,f=s-l,h=s-f,p=u-f,b=l-h,y=b+p;return y?[y,s]:[s]}function i(l,u){var s=l.length|0,f=u.length|0;if(s===1&&f===1)return o(l[0],u[0]);var h=s+f,p=new Array(h),b=0,y=0,w=0,T=Math.abs,m=l[y],k=T(m),S=u[w],x=T(S),M,d;k<x?(d=m,y+=1,y<s&&(m=l[y],k=T(m))):(d=S,w+=1,w<f&&(S=u[w],x=T(S))),y<s&&k<x||w>=f?(M=m,y+=1,y<s&&(m=l[y],k=T(m))):(M=S,w+=1,w<f&&(S=u[w],x=T(S)));for(var _=M+d,g=_-M,c=d-g,A=c,v=_,D,E,R,N,F;y<s&&w<f;)k<x?(M=m,y+=1,y<s&&(m=l[y],k=T(m))):(M=S,w+=1,w<f&&(S=u[w],x=T(S))),d=A,_=M+d,g=_-M,c=d-g,c&&(p[b++]=c),D=v+_,E=D-v,R=D-E,N=_-E,F=v-R,A=F+N,v=D;for(;y<s;)M=m,d=A,_=M+d,g=_-M,c=d-g,c&&(p[b++]=c),D=v+_,E=D-v,R=D-E,N=_-E,F=v-R,A=F+N,v=D,y+=1,y<s&&(m=l[y]);for(;w<f;)M=S,d=A,_=M+d,g=_-M,c=d-g,c&&(p[b++]=c),D=v+_,E=D-v,R=D-E,N=_-E,F=v-R,A=F+N,v=D,w+=1,w<f&&(S=u[w]);return A&&(p[b++]=A),v&&(p[b++]=v),b||(p[b++]=0),p.length=b,p}},8277:function(a){"use strict";function o(){return function(h,p,b,y,w){var T=h[0],m=h[1],k=h[2],S=b[0],x=b[1],M=b[2],d=[0,0,0];y|=0;var _=0,g=0,c=0,A=M,v=x-k*M,D=S-m*x;for(c=0;c<T;++c){for(g=0;g<m;++g){for(_=0;_<k;++_){{var E=w,R;for(R=0;R<d.length-1;++R)E=E[d[R]];p[y]=E[d[d.length-1]]}y+=A,++d[2]}y+=v,d[2]-=k,++d[1]}y+=D,d[1]-=m,++d[0]}}}function i(){return o()}var l=i;function u(h){var p={};return function(y,w){var T=y.dtype,m=y.order,k=[T,m.join()].join(),S=p[k];return S||(p[k]=S=h([T,m])),S(y.shape.slice(0),y.data,y.stride,y.offset|0,w)}}function s(h){return u(l.bind(void 0,h))}function f(h){return s({funcName:h.funcName})}a.exports=f({funcName:"convert"})},8284:function(a){a.exports=o;function o(i,l){var u={identity:l},s=i.valueOf;return Object.defineProperty(i,"valueOf",{value:function(f){return f!==l?s.apply(this,arguments):u},writable:!0}),u}},8406:function(a,o){var i=1e-6,l=1e-6;o.vertexNormals=function(u,s,f){for(var h=s.length,p=new Array(h),b=f===void 0?i:f,y=0;y<h;++y)p[y]=[0,0,0];for(var y=0;y<u.length;++y)for(var w=u[y],T=0,m=w[w.length-1],k=w[0],S=0;S<w.length;++S){T=m,m=k,k=w[(S+1)%w.length];for(var x=s[T],M=s[m],d=s[k],_=new Array(3),g=0,c=new Array(3),A=0,v=0;v<3;++v)_[v]=x[v]-M[v],g+=_[v]*_[v],c[v]=d[v]-M[v],A+=c[v]*c[v];if(g*A>b)for(var D=p[m],E=1/Math.sqrt(g*A),v=0;v<3;++v){var R=(v+1)%3,N=(v+2)%3;D[v]+=E*(c[R]*_[N]-c[N]*_[R])}}for(var y=0;y<h;++y){for(var D=p[y],F=0,v=0;v<3;++v)F+=D[v]*D[v];if(F>b)for(var E=1/Math.sqrt(F),v=0;v<3;++v)D[v]*=E;else for(var v=0;v<3;++v)D[v]=0}return p},o.faceNormals=function(u,s,f){for(var h=u.length,p=new Array(h),b=f===void 0?l:f,y=0;y<h;++y){for(var w=u[y],T=new Array(3),m=0;m<3;++m)T[m]=s[w[m]];for(var k=new Array(3),S=new Array(3),m=0;m<3;++m)k[m]=T[1][m]-T[0][m],S[m]=T[2][m]-T[0][m];for(var x=new Array(3),M=0,m=0;m<3;++m){var d=(m+1)%3,_=(m+2)%3;x[m]=k[d]*S[_]-k[_]*S[d],M+=x[m]*x[m]}M>b?M=1/Math.sqrt(M):M=0;for(var m=0;m<3;++m)x[m]*=M;p[y]=x}return p}},8418:function(a,o,i){"use strict";var l=i(5219),u=i(2762),s=i(8116),f=i(1888),h=i(6760),p=i(1283),b=i(9366),y=i(5964),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],T=ArrayBuffer,m=DataView;function k(K){return T.isView(K)&&!(K instanceof m)}function S(K){return Array.isArray(K)||k(K)}a.exports=ae;function x(K,oe){var re=K[0],V=K[1],ee=K[2],H=K[3];return K[0]=oe[0]*re+oe[4]*V+oe[8]*ee+oe[12]*H,K[1]=oe[1]*re+oe[5]*V+oe[9]*ee+oe[13]*H,K[2]=oe[2]*re+oe[6]*V+oe[10]*ee+oe[14]*H,K[3]=oe[3]*re+oe[7]*V+oe[11]*ee+oe[15]*H,K}function M(K,oe,re,V){return x(V,V,re),x(V,V,oe),x(V,V,K)}function d(K,oe){this.index=K,this.dataCoordinate=this.position=oe}function _(K){return K===!0||K>1?1:K}function g(K,oe,re,V,ee,H,te,le,ve,Ae,we,ce){this.gl=K,this.pixelRatio=1,this.shader=oe,this.orthoShader=re,this.projectShader=V,this.pointBuffer=ee,this.colorBuffer=H,this.glyphBuffer=te,this.idBuffer=le,this.vao=ve,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=Ae,this.pickOrthoShader=we,this.pickProjectShader=ce,this.points=[],this._selectResult=new d(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var c=g.prototype;c.pickSlots=1,c.setPickBase=function(K){this.pickId=K},c.isTransparent=function(){if(this.hasAlpha)return!0;for(var K=0;K<3;++K)if(this.axesProject[K]&&this.projectHasAlpha)return!0;return!1},c.isOpaque=function(){if(!this.hasAlpha)return!0;for(var K=0;K<3;++K)if(this.axesProject[K]&&!this.projectHasAlpha)return!0;return!1};var A=[0,0],v=[0,0,0],D=[0,0,0],E=[0,0,0,1],R=[0,0,0,1],N=w.slice(),F=[0,0,0],I=[[0,0,0],[0,0,0]];function L(K){return K[0]=K[1]=K[2]=0,K}function P(K,oe){return K[0]=oe[0],K[1]=oe[1],K[2]=oe[2],K[3]=1,K}function O(K,oe,re,V){return K[0]=oe[0],K[1]=oe[1],K[2]=oe[2],K[re]=V,K}function U(K){for(var oe=I,re=0;re<2;++re)for(var V=0;V<3;++V)oe[re][V]=Math.max(Math.min(K[re][V],1e8),-1e8);return oe}function X(K,oe,re,V){var ee=oe.axesProject,H=oe.gl,te=K.uniforms,le=re.model||w,ve=re.view||w,Ae=re.projection||w,we=oe.axesBounds,ce=U(oe.clipBounds),Se;oe.axes&&oe.axes.lastCubeProps?Se=oe.axes.lastCubeProps.axis:Se=[1,1,1],A[0]=2/H.drawingBufferWidth,A[1]=2/H.drawingBufferHeight,K.bind(),te.view=ve,te.projection=Ae,te.screenSize=A,te.highlightId=oe.highlightId,te.highlightScale=oe.highlightScale,te.clipBounds=ce,te.pickGroup=oe.pickId/255,te.pixelRatio=V;for(var Ce=0;Ce<3;++Ce)if(ee[Ce]){te.scale=oe.projectScale[Ce],te.opacity=oe.projectOpacity[Ce];for(var Fe=N,Ee=0;Ee<16;++Ee)Fe[Ee]=0;for(var Ee=0;Ee<4;++Ee)Fe[5*Ee]=1;Fe[5*Ce]=0,Se[Ce]<0?Fe[12+Ce]=we[0][Ce]:Fe[12+Ce]=we[1][Ce],h(Fe,le,Fe),te.model=Fe;var ze=(Ce+1)%3,Ue=(Ce+2)%3,ge=L(v),Me=L(D);ge[ze]=1,Me[Ue]=1;var ke=M(Ae,ve,le,P(E,ge)),me=M(Ae,ve,le,P(R,Me));if(Math.abs(ke[1])>Math.abs(me[1])){var ye=ke;ke=me,me=ye,ye=ge,ge=Me,Me=ye;var pe=ze;ze=Ue,Ue=pe}ke[0]<0&&(ge[ze]=-1),me[1]>0&&(Me[Ue]=-1);for(var he=0,xe=0,Ee=0;Ee<4;++Ee)he+=Math.pow(le[4*ze+Ee],2),xe+=Math.pow(le[4*Ue+Ee],2);ge[ze]/=Math.sqrt(he),Me[Ue]/=Math.sqrt(xe),te.axes[0]=ge,te.axes[1]=Me,te.fragClipBounds[0]=O(F,ce[0],Ce,-1e8),te.fragClipBounds[1]=O(F,ce[1],Ce,1e8),oe.vao.bind(),oe.vao.draw(H.TRIANGLES,oe.vertexCount),oe.lineWidth>0&&(H.lineWidth(oe.lineWidth*V),oe.vao.draw(H.LINES,oe.lineVertexCount,oe.vertexCount)),oe.vao.unbind()}}var $=[-1e8,-1e8,-1e8],j=[1e8,1e8,1e8],Y=[$,j];function q(K,oe,re,V,ee,H,te){var le=re.gl;if((H===re.projectHasAlpha||te)&&X(oe,re,V,ee),H===re.hasAlpha||te){K.bind();var ve=K.uniforms;ve.model=V.model||w,ve.view=V.view||w,ve.projection=V.projection||w,A[0]=2/le.drawingBufferWidth,A[1]=2/le.drawingBufferHeight,ve.screenSize=A,ve.highlightId=re.highlightId,ve.highlightScale=re.highlightScale,ve.fragClipBounds=Y,ve.clipBounds=re.axes.bounds,ve.opacity=re.opacity,ve.pickGroup=re.pickId/255,ve.pixelRatio=ee,re.vao.bind(),re.vao.draw(le.TRIANGLES,re.vertexCount),re.lineWidth>0&&(le.lineWidth(re.lineWidth*ee),re.vao.draw(le.LINES,re.lineVertexCount,re.vertexCount)),re.vao.unbind()}}c.draw=function(K){var oe=this.useOrtho?this.orthoShader:this.shader;q(oe,this.projectShader,this,K,this.pixelRatio,!1,!1)},c.drawTransparent=function(K){var oe=this.useOrtho?this.orthoShader:this.shader;q(oe,this.projectShader,this,K,this.pixelRatio,!0,!1)},c.drawPick=function(K){var oe=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;q(oe,this.pickProjectShader,this,K,1,!0,!0)},c.pick=function(K){if(!K||K.id!==this.pickId)return null;var oe=K.value[2]+(K.value[1]<<8)+(K.value[0]<<16);if(oe>=this.pointCount||oe<0)return null;var re=this.points[oe],V=this._selectResult;V.index=oe;for(var ee=0;ee<3;++ee)V.position[ee]=V.dataCoordinate[ee]=re[ee];return V},c.highlight=function(K){if(!K)this.highlightId=[1,1,1,1];else{var oe=K.index,re=oe&255,V=oe>>8&255,ee=oe>>16&255;this.highlightId=[re/255,V/255,ee/255,0]}};function Q(K,oe,re,V){var ee;S(K)?oe<K.length?ee=K[oe]:ee=void 0:ee=K,ee=y(ee);var H=!0;l(ee)&&(ee="\u25BC",H=!1),re||(re={});var te=re.family;S(te)&&(te=te[oe]),te||(te="normal");var le=re.weight;S(le)&&(le=le[oe]),le||(le="normal");var ve=re.style;S(ve)&&(ve=ve[oe]),ve||(ve="normal");var Ae=re.variant;S(Ae)&&(Ae=Ae[oe]),Ae||(Ae="normal");var we=b(ee,{family:te,weight:le,style:ve,variant:Ae},V),we=b(ee,re,V);return{mesh:we[0],lines:we[1],bounds:we[2],visible:H}}c.update=function(K){if(K=K||{},"perspective"in K&&(this.useOrtho=!K.perspective),"orthographic"in K&&(this.useOrtho=!!K.orthographic),"lineWidth"in K&&(this.lineWidth=K.lineWidth),"project"in K)if(S(K.project))this.axesProject=K.project;else{var oe=!!K.project;this.axesProject=[oe,oe,oe]}if("projectScale"in K)if(S(K.projectScale))this.projectScale=K.projectScale.slice();else{var re=+K.projectScale;this.projectScale=[re,re,re]}if(this.projectHasAlpha=!1,"projectOpacity"in K){if(S(K.projectOpacity))this.projectOpacity=K.projectOpacity.slice();else{var re=+K.projectOpacity;this.projectOpacity=[re,re,re]}for(var V=0;V<3;++V)this.projectOpacity[V]=_(this.projectOpacity[V]),this.projectOpacity[V]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in K&&(this.opacity=_(K.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var ee=K.position,H={family:K.font||"normal",style:K.fontStyle||"normal",weight:K.fontWeight||"normal",variant:K.fontVariant||"normal"},te=K.alignment||[0,0],le,ve;if(te.length===2)le=te[0],ve=te[1];else{le=[],ve=[];for(var V=0;V<te.length;++V)le[V]=te[V][0],ve[V]=te[V][1]}var Ae=[1/0,1/0,1/0],we=[-1/0,-1/0,-1/0],ce=K.glyph,Se=K.color,Ce=K.size,Fe=K.angle,Ee=K.lineColor,ze=-1,Ue=0,ge=0,Me=0;if(ee.length){Me=ee.length;e:for(var V=0;V<Me;++V){for(var ke=ee[V],me=0;me<3;++me)if(isNaN(ke[me])||!isFinite(ke[me]))continue e;var ye=Q(ce,V,H,this.pixelRatio),pe=ye.mesh,he=ye.lines,xe=ye.bounds;Ue+=pe.cells.length*3,ge+=he.edges.length*2}}var Le=Ue+ge,qe=f.mallocFloat(3*Le),Ne=f.mallocFloat(4*Le),$e=f.mallocFloat(2*Le),Ve=f.mallocUint32(Le);if(Le>0){var Be=0,Ye=Ue,Te=[0,0,0,1],Re=[0,0,0,1],Qe=S(Se)&&S(Se[0]),Ke=S(Ee)&&S(Ee[0]);e:for(var V=0;V<Me;++V){ze+=1;for(var ke=ee[V],me=0;me<3;++me){if(isNaN(ke[me])||!isFinite(ke[me]))continue e;we[me]=Math.max(we[me],ke[me]),Ae[me]=Math.min(Ae[me],ke[me])}var ye=Q(ce,V,H,this.pixelRatio),pe=ye.mesh,he=ye.lines,xe=ye.bounds,ar=ye.visible;if(!ar)Te=[1,1,1,0];else if(S(Se)){var ue;if(Qe?V<Se.length?ue=Se[V]:ue=[0,0,0,0]:ue=Se,ue.length===3){for(var me=0;me<3;++me)Te[me]=ue[me];Te[3]=1}else if(ue.length===4){for(var me=0;me<4;++me)Te[me]=ue[me];!this.hasAlpha&&ue[3]<1&&(this.hasAlpha=!0)}}else Te[0]=Te[1]=Te[2]=0,Te[3]=1;if(!ar)Re=[1,1,1,0];else if(S(Ee)){var ue;if(Ke?V<Ee.length?ue=Ee[V]:ue=[0,0,0,0]:ue=Ee,ue.length===3){for(var me=0;me<3;++me)Re[me]=ue[me];Re[me]=1}else if(ue.length===4){for(var me=0;me<4;++me)Re[me]=ue[me];!this.hasAlpha&&ue[3]<1&&(this.hasAlpha=!0)}}else Re[0]=Re[1]=Re[2]=0,Re[3]=1;var J=.5;ar?S(Ce)?V<Ce.length?J=+Ce[V]:J=12:Ce?J=+Ce:this.useOrtho&&(J=12):J=0;var ne=0;S(Fe)?V<Fe.length?ne=+Fe[V]:ne=0:Fe&&(ne=+Fe);for(var De=Math.cos(ne),He=Math.sin(ne),ke=ee[V],me=0;me<3;++me)we[me]=Math.max(we[me],ke[me]),Ae[me]=Math.min(Ae[me],ke[me]);var er=le,nr=ve,er=0;S(le)?V<le.length?er=le[V]:er=0:le&&(er=le);var nr=0;S(ve)?V<ve.length?nr=ve[V]:nr=0:ve&&(nr=ve),er*=er>0?1-xe[0][0]:er<0?1+xe[1][0]:1,nr*=nr>0?1-xe[0][1]:nr<0?1+xe[1][1]:1;for(var fr=[er,nr],ft=pe.cells||[],sr=pe.positions||[],me=0;me<ft.length;++me)for(var br=ft[me],Sr=0;Sr<3;++Sr){for(var Mr=0;Mr<3;++Mr)qe[3*Be+Mr]=ke[Mr];for(var Mr=0;Mr<4;++Mr)Ne[4*Be+Mr]=Te[Mr];Ve[Be]=ze;var Ar=sr[br[Sr]];$e[2*Be]=J*(De*Ar[0]-He*Ar[1]+fr[0]),$e[2*Be+1]=J*(He*Ar[0]+De*Ar[1]+fr[1]),Be+=1}for(var ft=he.edges,sr=he.positions,me=0;me<ft.length;++me)for(var br=ft[me],Sr=0;Sr<2;++Sr){for(var Mr=0;Mr<3;++Mr)qe[3*Ye+Mr]=ke[Mr];for(var Mr=0;Mr<4;++Mr)Ne[4*Ye+Mr]=Re[Mr];Ve[Ye]=ze;var Ar=sr[br[Sr]];$e[2*Ye]=J*(De*Ar[0]-He*Ar[1]+fr[0]),$e[2*Ye+1]=J*(He*Ar[0]+De*Ar[1]+fr[1]),Ye+=1}}}this.bounds=[Ae,we],this.points=ee,this.pointCount=ee.length,this.vertexCount=Ue,this.lineVertexCount=ge,this.pointBuffer.update(qe),this.colorBuffer.update(Ne),this.glyphBuffer.update($e),this.idBuffer.update(Ve),f.free(qe),f.free(Ne),f.free($e),f.free(Ve)},c.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function ae(K){var oe=K.gl,re=p.createPerspective(oe),V=p.createOrtho(oe),ee=p.createProject(oe),H=p.createPickPerspective(oe),te=p.createPickOrtho(oe),le=p.createPickProject(oe),ve=u(oe),Ae=u(oe),we=u(oe),ce=u(oe),Se=s(oe,[{buffer:ve,size:3,type:oe.FLOAT},{buffer:Ae,size:4,type:oe.FLOAT},{buffer:we,size:2,type:oe.FLOAT},{buffer:ce,size:4,type:oe.UNSIGNED_BYTE,normalized:!0}]),Ce=new g(oe,re,V,ee,ve,Ae,we,ce,Se,H,te,le);return Ce.update(K),Ce}},8489:function(a){a.exports=o;function o(i,l,u,s){return i[0]=l[0]+u[0]*s,i[1]=l[1]+u[1]*s,i[2]=l[2]+u[2]*s,i}},8507:function(a){a.exports=l;var o=Math.min;function i(u,s){return u-s}function l(u,s){var f=u.length,h=u.length-s.length;if(h)return h;switch(f){case 0:return 0;case 1:return u[0]-s[0];case 2:return u[0]+u[1]-s[0]-s[1]||o(u[0],u[1])-o(s[0],s[1]);case 3:var p=u[0]+u[1],b=s[0]+s[1];if(h=p+u[2]-(b+s[2]),h)return h;var y=o(u[0],u[1]),w=o(s[0],s[1]);return o(y,u[2])-o(w,s[2])||o(y+u[2],p)-o(w+s[2],b);case 4:var T=u[0],m=u[1],k=u[2],S=u[3],x=s[0],M=s[1],d=s[2],_=s[3];return T+m+k+S-(x+M+d+_)||o(T,m,k,S)-o(x,M,d,_,x)||o(T+m,T+k,T+S,m+k,m+S,k+S)-o(x+M,x+d,x+_,M+d,M+_,d+_)||o(T+m+k,T+m+S,T+k+S,m+k+S)-o(x+M+d,x+M+_,x+d+_,M+d+_);default:for(var g=u.slice().sort(i),c=s.slice().sort(i),A=0;A<f;++A)if(h=g[A]-c[A],h)return h;return 0}}},8512:function(a,o,i){"use strict";var l=i(665);a.exports=u;function u(s,f,h){typeof s=="function"&&(h=!!f,f=s,s=window);var p=l("ex",s),b=function(y){h&&y.preventDefault();var w=y.deltaX||0,T=y.deltaY||0,m=y.deltaZ||0,k=y.deltaMode,S=1;switch(k){case 1:S=p;break;case 2:S=window.innerHeight;break}if(w*=S,T*=S,m*=S,w||T||m)return f(w,T,m,y)};return s.addEventListener("wheel",b),b}},8545:function(a){"use strict";a.exports=i;function o(l,u){var s=l+u,f=s-l,h=s-f,p=u-f,b=l-h,y=b+p;return y?[y,s]:[s]}function i(l,u){var s=l.length|0,f=u.length|0;if(s===1&&f===1)return o(l[0],-u[0]);var h=s+f,p=new Array(h),b=0,y=0,w=0,T=Math.abs,m=l[y],k=T(m),S=-u[w],x=T(S),M,d;k<x?(d=m,y+=1,y<s&&(m=l[y],k=T(m))):(d=S,w+=1,w<f&&(S=-u[w],x=T(S))),y<s&&k<x||w>=f?(M=m,y+=1,y<s&&(m=l[y],k=T(m))):(M=S,w+=1,w<f&&(S=-u[w],x=T(S)));for(var _=M+d,g=_-M,c=d-g,A=c,v=_,D,E,R,N,F;y<s&&w<f;)k<x?(M=m,y+=1,y<s&&(m=l[y],k=T(m))):(M=S,w+=1,w<f&&(S=-u[w],x=T(S))),d=A,_=M+d,g=_-M,c=d-g,c&&(p[b++]=c),D=v+_,E=D-v,R=D-E,N=_-E,F=v-R,A=F+N,v=D;for(;y<s;)M=m,d=A,_=M+d,g=_-M,c=d-g,c&&(p[b++]=c),D=v+_,E=D-v,R=D-E,N=_-E,F=v-R,A=F+N,v=D,y+=1,y<s&&(m=l[y]);for(;w<f;)M=S,d=A,_=M+d,g=_-M,c=d-g,c&&(p[b++]=c),D=v+_,E=D-v,R=D-E,N=_-E,F=v-R,A=F+N,v=D,w+=1,w<f&&(S=-u[w]);return A&&(p[b++]=A),v&&(p[b++]=v),b||(p[b++]=0),p.length=b,p}},8572:function(a){"use strict";a.exports=function(i){return i<0?-1:i>0?1:0}},8648:function(a,o,i){a.exports=i(783)},8692:function(a){a.exports=o;function o(i,l,u,s){var f=u[0],h=u[1],p=l[0]-f,b=l[1]-h,y=Math.sin(s),w=Math.cos(s);return i[0]=f+p*w-b*y,i[1]=h+p*y+b*w,i[2]=l[2],i}},8697:function(a,o,i){"use strict";var l=i(869);a.exports=u;function u(s,f){return l(s[0].mul(f[1]),s[1].mul(f[0]))}},8731:function(a,o,i){"use strict";a.exports=b;var l=i(8866);function u(y,w,T,m,k,S){this._gl=y,this._wrapper=w,this._index=T,this._locations=m,this._dimension=k,this._constFunc=S}var s=u.prototype;s.pointer=function(w,T,m,k){var S=this,x=S._gl,M=S._locations[S._index];x.vertexAttribPointer(M,S._dimension,w||x.FLOAT,!!T,m||0,k||0),x.enableVertexAttribArray(M)},s.set=function(y,w,T,m){return this._constFunc(this._locations[this._index],y,w,T,m)},Object.defineProperty(s,"location",{get:function(){return this._locations[this._index]},set:function(y){return y!==this._locations[this._index]&&(this._locations[this._index]=y|0,this._wrapper.program=null),y|0}});var f=[function(y,w,T){return T.length===void 0?y.vertexAttrib1f(w,T):y.vertexAttrib1fv(w,T)},function(y,w,T,m){return T.length===void 0?y.vertexAttrib2f(w,T,m):y.vertexAttrib2fv(w,T)},function(y,w,T,m,k){return T.length===void 0?y.vertexAttrib3f(w,T,m,k):y.vertexAttrib3fv(w,T)},function(y,w,T,m,k,S){return T.length===void 0?y.vertexAttrib4f(w,T,m,k,S):y.vertexAttrib4fv(w,T)}];function h(y,w,T,m,k,S,x){var M=f[k],d=new u(y,w,T,m,k,M);Object.defineProperty(S,x,{set:function(_){return y.disableVertexAttribArray(m[T]),M(y,m[T],_),_},get:function(){return d},enumerable:!0})}function p(y,w,T,m,k,S,x){for(var M=new Array(k),d=new Array(k),_=0;_<k;++_)h(y,w,T[_],m,k,M,_),d[_]=M[_];Object.defineProperty(M,"location",{set:function(A){if(Array.isArray(A))for(var v=0;v<k;++v)d[v].location=A[v];else for(var v=0;v<k;++v)d[v].location=A+v;return A},get:function(){for(var A=new Array(k),v=0;v<k;++v)A[v]=m[T[v]];return A},enumerable:!0}),M.pointer=function(A,v,D,E){A=A||y.FLOAT,v=!!v,D=D||k*k,E=E||0;for(var R=0;R<k;++R){var N=m[T[R]];y.vertexAttribPointer(N,k,A,v,D,E+R*k),y.enableVertexAttribArray(N)}};var g=new Array(k),c=y["vertexAttrib"+k+"fv"];Object.defineProperty(S,x,{set:function(A){for(var v=0;v<k;++v){var D=m[T[v]];if(y.disableVertexAttribArray(D),Array.isArray(A[0]))c.call(y,D,A[v]);else{for(var E=0;E<k;++E)g[E]=A[k*v+E];c.call(y,D,g)}}return A},get:function(){return M},enumerable:!0})}function b(y,w,T,m){for(var k={},S=0,x=T.length;S<x;++S){var M=T[S],d=M.name,_=M.type,g=M.locations;switch(_){case"bool":case"int":case"float":h(y,w,g[0],m,1,k,d);break;default:if(_.indexOf("vec")>=0){var c=_.charCodeAt(_.length-1)-48;if(c<2||c>4)throw new l("","Invalid data type for attribute "+d+": "+_);h(y,w,g[0],m,c,k,d)}else if(_.indexOf("mat")>=0){var c=_.charCodeAt(_.length-1)-48;if(c<2||c>4)throw new l("","Invalid data type for attribute "+d+": "+_);p(y,w,g,m,c,k,d)}else throw new l("","Unknown data type for attribute "+d+": "+_);break}}return k}},8828:function(a,o){"use strict";"use restrict";var i=32;o.INT_BITS=i,o.INT_MAX=2147483647,o.INT_MIN=-1<<i-1,o.sign=function(s){return(s>0)-(s<0)},o.abs=function(s){var f=s>>i-1;return(s^f)-f},o.min=function(s,f){return f^(s^f)&-(s<f)},o.max=function(s,f){return s^(s^f)&-(s<f)},o.isPow2=function(s){return!(s&s-1)&&!!s},o.log2=function(s){var f,h;return f=(s>65535)<<4,s>>>=f,h=(s>255)<<3,s>>>=h,f|=h,h=(s>15)<<2,s>>>=h,f|=h,h=(s>3)<<1,s>>>=h,f|=h,f|s>>1},o.log10=function(s){return s>=1e9?9:s>=1e8?8:s>=1e7?7:s>=1e6?6:s>=1e5?5:s>=1e4?4:s>=1e3?3:s>=100?2:s>=10?1:0},o.popCount=function(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),(s+(s>>>4)&252645135)*16843009>>>24};function l(s){var f=32;return s&=-s,s&&f--,s&65535&&(f-=16),s&16711935&&(f-=8),s&252645135&&(f-=4),s&858993459&&(f-=2),s&1431655765&&(f-=1),f}o.countTrailingZeros=l,o.nextPow2=function(s){return s+=s===0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1},o.prevPow2=function(s){return s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s-(s>>>1)},o.parity=function(s){return s^=s>>>16,s^=s>>>8,s^=s>>>4,s&=15,27030>>>s&1};var u=new Array(256);(function(s){for(var f=0;f<256;++f){var h=f,p=f,b=7;for(h>>>=1;h;h>>>=1)p<<=1,p|=h&1,--b;s[f]=p<<b&255}})(u),o.reverse=function(s){return u[s&255]<<24|u[s>>>8&255]<<16|u[s>>>16&255]<<8|u[s>>>24&255]},o.interleave2=function(s,f){return s&=65535,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,s|f<<1},o.deinterleave2=function(s,f){return s=s>>>f&1431655765,s=(s|s>>>1)&858993459,s=(s|s>>>2)&252645135,s=(s|s>>>4)&16711935,s=(s|s>>>16)&65535,s<<16>>16},o.interleave3=function(s,f,h){return s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,s|=f<<1,h&=1023,h=(h|h<<16)&4278190335,h=(h|h<<8)&251719695,h=(h|h<<4)&3272356035,h=(h|h<<2)&1227133513,s|h<<2},o.deinterleave3=function(s,f){return s=s>>>f&1227133513,s=(s|s>>>2)&3272356035,s=(s|s>>>4)&251719695,s=(s|s>>>8)&4278190335,s=(s|s>>>16)&1023,s<<22>>22},o.nextCombination=function(s){var f=s|s-1;return f+1|(~f&-~f)-1>>>l(s)+1}},8866:function(a){function o(i,l,u){this.shortMessage=l||"",this.longMessage=u||"",this.rawError=i||"",this.message="gl-shader: "+(l||i||"")+(u?`
`+u:""),this.stack=new Error().stack}o.prototype=new Error,o.prototype.name="GLError",o.prototype.constructor=o,a.exports=o},8902:function(a,o,i){"use strict";var l=i(2478),u=i(3250)[3],s=0,f=1,h=2;a.exports=x;function p(M,d,_,g,c){this.a=M,this.b=d,this.idx=_,this.lowerIds=g,this.upperIds=c}function b(M,d,_,g){this.a=M,this.b=d,this.type=_,this.idx=g}function y(M,d){var _=M.a[0]-d.a[0]||M.a[1]-d.a[1]||M.type-d.type;return _||M.type!==s&&(_=u(M.a,M.b,d.b),_)?_:M.idx-d.idx}function w(M,d){return u(M.a,M.b,d)}function T(M,d,_,g,c){for(var A=l.lt(d,g,w),v=l.gt(d,g,w),D=A;D<v;++D){for(var E=d[D],R=E.lowerIds,F=R.length;F>1&&u(_[R[F-2]],_[R[F-1]],g)>0;)M.push([R[F-1],R[F-2],c]),F-=1;R.length=F,R.push(c);for(var N=E.upperIds,F=N.length;F>1&&u(_[N[F-2]],_[N[F-1]],g)<0;)M.push([N[F-2],N[F-1],c]),F-=1;N.length=F,N.push(c)}}function m(M,d){var _;return M.a[0]<d.a[0]?_=u(M.a,M.b,d.a):_=u(d.b,d.a,M.a),_||(d.b[0]<M.b[0]?_=u(M.a,M.b,d.b):_=u(d.b,d.a,M.b),_||M.idx-d.idx)}function k(M,d,_){var g=l.le(M,_,m),c=M[g],A=c.upperIds,v=A[A.length-1];c.upperIds=[v],M.splice(g+1,0,new p(_.a,_.b,_.idx,[v],A))}function S(M,d,_){var g=_.a;_.a=_.b,_.b=g;var c=l.eq(M,_,m),A=M[c],v=M[c-1];v.upperIds=A.upperIds,M.splice(c,1)}function x(M,d){for(var _=M.length,g=d.length,c=[],A=0;A<_;++A)c.push(new b(M[A],null,s,A));for(var A=0;A<g;++A){var v=d[A],D=M[v[0]],E=M[v[1]];D[0]<E[0]?c.push(new b(D,E,h,A),new b(E,D,f,A)):D[0]>E[0]&&c.push(new b(E,D,h,A),new b(D,E,f,A))}c.sort(y);for(var R=c[0].a[0]-(1+Math.abs(c[0].a[0]))*Math.pow(2,-52),N=[new p([R,1],[R,0],-1,[],[],[],[])],F=[],A=0,I=c.length;A<I;++A){var L=c[A],P=L.type;P===s?T(F,N,M,L.a,L.idx):P===h?k(N,M,L):S(N,M,L)}return F}},8954:function(a,o,i){"use strict";a.exports=m;var l=i(3250),u=i(6803).Fw;function s(k,S,x){this.vertices=k,this.adjacent=S,this.boundary=x,this.lastVisited=-1}s.prototype.flip=function(){var k=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=k;var S=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=S};function f(k,S,x){this.vertices=k,this.cell=S,this.index=x}function h(k,S){return u(k.vertices,S.vertices)}function p(k){return function(){var S=this.tuple;return k.apply(this,S)}}function b(k){var S=l[k+1];return S||(S=l),p(S)}var y=[];function w(k,S,x){this.dimension=k,this.vertices=S,this.simplices=x,this.interior=x.filter(function(_){return!_.boundary}),this.tuple=new Array(k+1);for(var M=0;M<=k;++M)this.tuple[M]=this.vertices[M];var d=y[k];d||(d=y[k]=b(k)),this.orient=d}var T=w.prototype;T.handleBoundaryDegeneracy=function(k,S){var x=this.dimension,M=this.vertices.length-1,d=this.tuple,_=this.vertices,g=[k];for(k.lastVisited=-M;g.length>0;){k=g.pop();for(var c=k.adjacent,A=0;A<=x;++A){var v=c[A];if(!(!v.boundary||v.lastVisited<=-M)){for(var D=v.vertices,E=0;E<=x;++E){var R=D[E];R<0?d[E]=S:d[E]=_[R]}var N=this.orient();if(N>0)return v;v.lastVisited=-M,N===0&&g.push(v)}}}return null},T.walk=function(k,S){var x=this.vertices.length-1,M=this.dimension,d=this.vertices,_=this.tuple,g=S?this.interior.length*Math.random()|0:this.interior.length-1,c=this.interior[g];e:for(;!c.boundary;){for(var A=c.vertices,v=c.adjacent,D=0;D<=M;++D)_[D]=d[A[D]];c.lastVisited=x;for(var D=0;D<=M;++D){var E=v[D];if(!(E.lastVisited>=x)){var R=_[D];_[D]=k;var N=this.orient();if(_[D]=R,N<0){c=E;continue e}else E.boundary?E.lastVisited=-x:E.lastVisited=x}}return}return c},T.addPeaks=function(k,S){var x=this.vertices.length-1,M=this.dimension,d=this.vertices,_=this.tuple,g=this.interior,c=this.simplices,A=[S];S.lastVisited=x,S.vertices[S.vertices.indexOf(-1)]=x,S.boundary=!1,g.push(S);for(var v=[];A.length>0;){var S=A.pop(),D=S.vertices,E=S.adjacent,R=D.indexOf(x);if(!(R<0)){for(var N=0;N<=M;++N)if(N!==R){var F=E[N];if(!(!F.boundary||F.lastVisited>=x)){var I=F.vertices;if(F.lastVisited!==-x){for(var L=0,P=0;P<=M;++P)I[P]<0?(L=P,_[P]=k):_[P]=d[I[P]];var O=this.orient();if(O>0){I[L]=x,F.boundary=!1,g.push(F),A.push(F),F.lastVisited=x;continue}else F.lastVisited=-x}var U=F.adjacent,X=D.slice(),$=E.slice(),j=new s(X,$,!0);c.push(j);var Y=U.indexOf(S);if(!(Y<0)){U[Y]=j,$[R]=F,X[N]=-1,$[N]=S,E[N]=j,j.flip();for(var P=0;P<=M;++P){var q=X[P];if(!(q<0||q===x)){for(var Q=new Array(M-1),ae=0,K=0;K<=M;++K){var oe=X[K];oe<0||K===P||(Q[ae++]=oe)}v.push(new f(Q,j,P))}}}}}}}v.sort(h);for(var N=0;N+1<v.length;N+=2){var re=v[N],V=v[N+1],ee=re.index,H=V.index;ee<0||H<0||(re.cell.adjacent[re.index]=V.cell,V.cell.adjacent[V.index]=re.cell)}},T.insert=function(k,S){var x=this.vertices;x.push(k);var M=this.walk(k,S);if(M){for(var d=this.dimension,_=this.tuple,g=0;g<=d;++g){var c=M.vertices[g];c<0?_[g]=k:_[g]=x[c]}var A=this.orient(_);A<0||A===0&&(M=this.handleBoundaryDegeneracy(M,k),!M)||this.addPeaks(k,M)}},T.boundary=function(){for(var k=this.dimension,S=[],x=this.simplices,M=x.length,d=0;d<M;++d){var _=x[d];if(_.boundary){for(var g=new Array(k),c=_.vertices,A=0,v=0,D=0;D<=k;++D)c[D]>=0?g[A++]=c[D]:v=D&1;if(v===(k&1)){var E=g[0];g[0]=g[1],g[1]=E}S.push(g)}}return S};function m(k,S){var x=k.length;if(x===0)throw new Error("Must have at least d+1 points");var M=k[0].length;if(x<=M)throw new Error("Must input at least d+1 points");var d=k.slice(0,M+1),_=l.apply(void 0,d);if(_===0)throw new Error("Input not in general position");for(var g=new Array(M+1),c=0;c<=M;++c)g[c]=c;_<0&&(g[0]=1,g[1]=0);for(var A=new s(g,new Array(M+1),!1),v=A.adjacent,D=new Array(M+2),c=0;c<=M;++c){for(var E=g.slice(),R=0;R<=M;++R)R===c&&(E[R]=-1);var N=E[0];E[0]=E[1],E[1]=N;var F=new s(E,new Array(M+1),!0);v[c]=F,D[c]=F}D[M+1]=A;for(var c=0;c<=M;++c)for(var E=v[c].vertices,I=v[c].adjacent,R=0;R<=M;++R){var L=E[R];if(L<0){I[R]=A;continue}for(var P=0;P<=M;++P)v[P].vertices.indexOf(L)<0&&(I[R]=v[P])}for(var O=new w(M,d,D),U=!!S,c=M+1;c<x;++c)O.insert(k[c],U);return O.boundary()}},8987:function(a,o,i){"use strict";var l=i(7842),u=i(6504);a.exports=s;function s(f,h){for(var p=l(h),b=f.length,y=new Array(b),w=0;w<b;++w)y[w]=u(f[w],p);return y}},9060:function(a,o,i){"use strict";var l=i(9405),u=i(2762),s=i(8116),f=i(7766),h=i(6760),p=i(7608),b=i(9618),y=i(6729),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function T(_,g,c,A,v,D,E,R,N,F,I){this.gl=_,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=g,this.dirty=!0,this.triShader=c,this.pickShader=A,this.trianglePositions=v,this.triangleVectors=D,this.triangleColors=R,this.triangleUVs=N,this.triangleIds=E,this.triangleVAO=F,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=I,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=w,this._view=w,this._projection=w,this._resolution=[1,1]}var m=T.prototype;m.isOpaque=function(){return this.opacity>=1},m.isTransparent=function(){return this.opacity<1},m.pickSlots=1,m.setPickBase=function(_){this.pickId=_};function k(_){for(var g=y({colormap:_,nshades:256,format:"rgba"}),c=new Uint8Array(256*4),A=0;A<256;++A){for(var v=g[A],D=0;D<3;++D)c[4*A+D]=v[D];c[4*A+3]=v[3]*255}return b(c,[256,256,4],[4,0,1])}function S(_){for(var g=_.length,c=new Array(g),A=0;A<g;++A)c[A]=_[A][2];return c}m.update=function(_){_=_||{};var g=this.gl;this.dirty=!0,"lightPosition"in _&&(this.lightPosition=_.lightPosition),"opacity"in _&&(this.opacity=_.opacity),"ambient"in _&&(this.ambientLight=_.ambient),"diffuse"in _&&(this.diffuseLight=_.diffuse),"specular"in _&&(this.specularLight=_.specular),"roughness"in _&&(this.roughness=_.roughness),"fresnel"in _&&(this.fresnel=_.fresnel),_.tubeScale!==void 0&&(this.tubeScale=_.tubeScale),_.vectorScale!==void 0&&(this.vectorScale=_.vectorScale),_.coneScale!==void 0&&(this.coneScale=_.coneScale),_.coneOffset!==void 0&&(this.coneOffset=_.coneOffset),_.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=g.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=g.LINEAR,this.texture.setPixels(k(_.colormap)),this.texture.generateMipmap());var c=_.cells,A=_.positions,v=_.vectors;if(!(!A||!c||!v)){var D=[],E=[],R=[],N=[],F=[];this.cells=c,this.positions=A,this.vectors=v;var I=_.meshColor||[1,1,1,1],L=_.vertexIntensity,P=1/0,O=-1/0;if(L)if(_.vertexIntensityBounds)P=+_.vertexIntensityBounds[0],O=+_.vertexIntensityBounds[1];else for(var U=0;U<L.length;++U){var X=L[U];P=Math.min(P,X),O=Math.max(O,X)}else for(var U=0;U<A.length;++U){var X=A[U][2];P=Math.min(P,X),O=Math.max(O,X)}L?this.intensity=L:this.intensity=S(A),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var U=0;U<A.length;++U)for(var $=A[U],j=0;j<3;++j)isNaN($[j])||!isFinite($[j])||(this.bounds[0][j]=Math.min(this.bounds[0][j],$[j]),this.bounds[1][j]=Math.max(this.bounds[1][j],$[j]));var Y=0;e:for(var U=0;U<c.length;++U){var q=c[U];switch(q.length){case 3:for(var j=0;j<3;++j)for(var Q=q[j],$=A[Q],ae=0;ae<3;++ae)if(isNaN($[ae])||!isFinite($[ae]))continue e;for(var j=0;j<3;++j){var Q=q[2-j],$=A[Q];D.push($[0],$[1],$[2],$[3]);var K=v[Q];E.push(K[0],K[1],K[2],K[3]||0);var oe=I;oe.length===3?R.push(oe[0],oe[1],oe[2],1):R.push(oe[0],oe[1],oe[2],oe[3]);var re;L?re=[(L[Q]-P)/(O-P),0]:re=[($[2]-P)/(O-P),0],N.push(re[0],re[1]),F.push(U)}Y+=1;break;default:break}}this.triangleCount=Y,this.trianglePositions.update(D),this.triangleVectors.update(E),this.triangleColors.update(R),this.triangleUVs.update(N),this.triangleIds.update(new Uint32Array(F))}},m.drawTransparent=m.draw=function(_){_=_||{};for(var g=this.gl,c=_.model||w,A=_.view||w,v=_.projection||w,D=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],E=0;E<3;++E)D[0][E]=Math.max(D[0][E],this.clipBounds[0][E]),D[1][E]=Math.min(D[1][E],this.clipBounds[1][E]);var R={model:c,view:A,projection:v,inverseModel:w.slice(),clipBounds:D,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};R.inverseModel=p(R.inverseModel,R.model),g.disable(g.CULL_FACE),this.texture.bind(0);var N=new Array(16);h(N,R.view,R.model),h(N,R.projection,N),p(N,N);for(var E=0;E<3;++E)R.eyePosition[E]=N[12+E]/N[15];for(var F=N[15],E=0;E<3;++E)F+=this.lightPosition[E]*N[4*E+3];for(var E=0;E<3;++E){for(var I=N[12+E],L=0;L<3;++L)I+=N[4*L+E]*this.lightPosition[L];R.lightPosition[E]=I/F}if(this.triangleCount>0){var P=this.triShader;P.bind(),P.uniforms=R,this.triangleVAO.bind(),g.drawArrays(g.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},m.drawPick=function(_){_=_||{};for(var g=this.gl,c=_.model||w,A=_.view||w,v=_.projection||w,D=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],E=0;E<3;++E)D[0][E]=Math.max(D[0][E],this.clipBounds[0][E]),D[1][E]=Math.min(D[1][E],this.clipBounds[1][E]);this._model=[].slice.call(c),this._view=[].slice.call(A),this._projection=[].slice.call(v),this._resolution=[g.drawingBufferWidth,g.drawingBufferHeight];var R={model:c,view:A,projection:v,clipBounds:D,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},N=this.pickShader;N.bind(),N.uniforms=R,this.triangleCount>0&&(this.triangleVAO.bind(),g.drawArrays(g.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},m.pick=function(_){if(!_||_.id!==this.pickId)return null;var g=_.value[0]+256*_.value[1]+65536*_.value[2],c=this.cells[g],A=this.positions[c[1]].slice(0,3),v={position:A,dataCoordinate:A,index:Math.floor(c[1]/48)};return this.traceType==="cone"?v.index=Math.floor(c[1]/48):this.traceType==="streamtube"&&(v.intensity=this.intensity[c[1]],v.velocity=this.vectors[c[1]].slice(0,3),v.divergence=this.vectors[c[1]][3],v.index=g),v},m.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function x(_,g){var c=l(_,g.meshShader.vertex,g.meshShader.fragment,null,g.meshShader.attributes);return c.attributes.position.location=0,c.attributes.color.location=2,c.attributes.uv.location=3,c.attributes.vector.location=4,c}function M(_,g){var c=l(_,g.pickShader.vertex,g.pickShader.fragment,null,g.pickShader.attributes);return c.attributes.position.location=0,c.attributes.id.location=1,c.attributes.vector.location=4,c}function d(_,g,c){var A=c.shaders;arguments.length===1&&(g=_,_=g.gl);var v=x(_,A),D=M(_,A),E=f(_,b(new Uint8Array([255,255,255,255]),[1,1,4]));E.generateMipmap(),E.minFilter=_.LINEAR_MIPMAP_LINEAR,E.magFilter=_.LINEAR;var R=u(_),N=u(_),F=u(_),I=u(_),L=u(_),P=s(_,[{buffer:R,type:_.FLOAT,size:4},{buffer:L,type:_.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:F,type:_.FLOAT,size:4},{buffer:I,type:_.FLOAT,size:2},{buffer:N,type:_.FLOAT,size:4}]),O=new T(_,E,v,D,R,N,L,F,I,P,c.traceType||"cone");return O.update(g),O}a.exports=d},9127:function(a,o,i){"use strict";a.exports=s;var l=i(6204),u=i(5771);function s(f){return u(l(f))}},9131:function(a,o,i){var l=i(5177),u=i(9288);a.exports=s;function s(f,h){return h=h||1,f[0]=Math.random(),f[1]=Math.random(),f[2]=Math.random(),f[3]=Math.random(),l(f,f),u(f,f,h),f}},9165:function(a,o,i){"use strict";a.exports=T;var l=i(2762),u=i(8116),s=i(3436),f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function h(m,k,S,x){this.gl=m,this.shader=x,this.buffer=k,this.vao=S,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var p=h.prototype;p.isOpaque=function(){return!this.hasAlpha},p.isTransparent=function(){return this.hasAlpha},p.drawTransparent=p.draw=function(m){var k=this.gl,S=this.shader.uniforms;this.shader.bind();var x=S.view=m.view||f,M=S.projection=m.projection||f;S.model=m.model||f,S.clipBounds=this.clipBounds,S.opacity=this.opacity;var d=x[12],_=x[13],g=x[14],c=x[15],A=m._ortho||!1,v=A?2:1,D=v*this.pixelRatio*(M[3]*d+M[7]*_+M[11]*g+M[15]*c)/k.drawingBufferHeight;this.vao.bind();for(var E=0;E<3;++E)k.lineWidth(this.lineWidth[E]*this.pixelRatio),S.capSize=this.capSize[E]*D,this.lineCount[E]&&k.drawArrays(k.LINES,this.lineOffset[E],this.lineCount[E]);this.vao.unbind()};function b(m,k){for(var S=0;S<3;++S)m[0][S]=Math.min(m[0][S],k[S]),m[1][S]=Math.max(m[1][S],k[S])}var y=function(){for(var m=new Array(3),k=0;k<3;++k){for(var S=[],x=1;x<=2;++x)for(var M=-1;M<=1;M+=2){var d=(x+k)%3,_=[0,0,0];_[d]=M,S.push(_)}m[k]=S}return m}();function w(m,k,S,x){for(var M=y[x],d=0;d<M.length;++d){var _=M[d];m.push(k[0],k[1],k[2],S[0],S[1],S[2],S[3],_[0],_[1],_[2])}return M.length}p.update=function(m){m=m||{},"lineWidth"in m&&(this.lineWidth=m.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in m&&(this.capSize=m.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in m&&(this.opacity=+m.opacity,this.opacity<1&&(this.hasAlpha=!0));var k=m.color||[[0,0,0],[0,0,0],[0,0,0]],S=m.position,x=m.error;if(Array.isArray(k[0])||(k=[k,k,k]),S&&x){var M=[],d=S.length,_=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var g=0;g<3;++g){this.lineOffset[g]=_;e:for(var c=0;c<d;++c){for(var A=S[c],v=0;v<3;++v)if(isNaN(A[v])||!isFinite(A[v]))continue e;var D=x[c],E=k[g];if(Array.isArray(E[0])&&(E=k[c]),E.length===3?E=[E[0],E[1],E[2],1]:E.length===4&&(E=[E[0],E[1],E[2],E[3]],!this.hasAlpha&&E[3]<1&&(this.hasAlpha=!0)),!(isNaN(D[0][g])||isNaN(D[1][g]))){if(D[0][g]<0){var R=A.slice();R[g]+=D[0][g],M.push(A[0],A[1],A[2],E[0],E[1],E[2],E[3],0,0,0,R[0],R[1],R[2],E[0],E[1],E[2],E[3],0,0,0),b(this.bounds,R),_+=2+w(M,R,E,g)}if(D[1][g]>0){var R=A.slice();R[g]+=D[1][g],M.push(A[0],A[1],A[2],E[0],E[1],E[2],E[3],0,0,0,R[0],R[1],R[2],E[0],E[1],E[2],E[3],0,0,0),b(this.bounds,R),_+=2+w(M,R,E,g)}}}this.lineCount[g]=_-this.lineOffset[g]}this.buffer.update(M)}},p.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function T(m){var k=m.gl,S=l(k),x=u(k,[{buffer:S,type:k.FLOAT,size:3,offset:0,stride:40},{buffer:S,type:k.FLOAT,size:4,offset:12,stride:40},{buffer:S,type:k.FLOAT,size:3,offset:28,stride:40}]),M=s(k);M.attributes.position.location=0,M.attributes.color.location=1,M.attributes.offset.location=2;var d=new h(k,S,x,M);return d.update(m),d}},9215:function(a,o,i){"use strict";a.exports=b;var l=i(4769),u=i(2478);function s(y,w,T){return Math.min(w,Math.max(y,T))}function f(y,w,T){this.dimension=y.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var m=0;m<this.dimension;++m)this.bounds[0][m]=-1/0,this.bounds[1][m]=1/0;this._state=y.slice().reverse(),this._velocity=w.slice().reverse(),this._time=[T],this._scratch=[y.slice(),y.slice(),y.slice(),y.slice(),y.slice()]}var h=f.prototype;h.flush=function(y){var w=u.gt(this._time,y)-1;w<=0||(this._time.splice(0,w),this._state.splice(0,w*this.dimension),this._velocity.splice(0,w*this.dimension))},h.curve=function(y){var w=this._time,T=w.length,m=u.le(w,y),k=this._scratch[0],S=this._state,x=this._velocity,M=this.dimension,d=this.bounds;if(m<0)for(var _=M-1,g=0;g<M;++g,--_)k[g]=S[_];else if(m>=T-1)for(var _=S.length-1,c=y-w[T-1],g=0;g<M;++g,--_)k[g]=S[_]+c*x[_];else{for(var _=M*(m+1)-1,A=w[m],v=w[m+1],D=v-A||1,E=this._scratch[1],R=this._scratch[2],N=this._scratch[3],F=this._scratch[4],I=!0,g=0;g<M;++g,--_)E[g]=S[_],N[g]=x[_]*D,R[g]=S[_+M],F[g]=x[_+M]*D,I=I&&E[g]===R[g]&&N[g]===F[g]&&N[g]===0;if(I)for(var g=0;g<M;++g)k[g]=E[g];else l(E,N,R,F,(y-A)/D,k)}for(var L=d[0],P=d[1],g=0;g<M;++g)k[g]=s(L[g],P[g],k[g]);return k},h.dcurve=function(y){var w=this._time,T=w.length,m=u.le(w,y),k=this._scratch[0],S=this._state,x=this._velocity,M=this.dimension;if(m>=T-1)for(var d=S.length-1,_=y-w[T-1],g=0;g<M;++g,--d)k[g]=x[d];else{for(var d=M*(m+1)-1,c=w[m],A=w[m+1],v=A-c||1,D=this._scratch[1],E=this._scratch[2],R=this._scratch[3],N=this._scratch[4],F=!0,g=0;g<M;++g,--d)D[g]=S[d],R[g]=x[d]*v,E[g]=S[d+M],N[g]=x[d+M]*v,F=F&&D[g]===E[g]&&R[g]===N[g]&&R[g]===0;if(F)for(var g=0;g<M;++g)k[g]=0;else{l.derivative(D,R,E,N,(y-c)/v,k);for(var g=0;g<M;++g)k[g]/=v}}return k},h.lastT=function(){var y=this._time;return y[y.length-1]},h.stable=function(){for(var y=this._velocity,w=y.length,T=this.dimension-1;T>=0;--T)if(y[--w])return!1;return!0},h.jump=function(y){var w=this.lastT(),T=this.dimension;if(!(y<w||arguments.length!==T+1)){var m=this._state,k=this._velocity,S=m.length-this.dimension,x=this.bounds,M=x[0],d=x[1];this._time.push(w,y);for(var _=0;_<2;++_)for(var g=0;g<T;++g)m.push(m[S++]),k.push(0);this._time.push(y);for(var g=T;g>0;--g)m.push(s(M[g-1],d[g-1],arguments[g])),k.push(0)}},h.push=function(y){var w=this.lastT(),T=this.dimension;if(!(y<w||arguments.length!==T+1)){var m=this._state,k=this._velocity,S=m.length-this.dimension,x=y-w,M=this.bounds,d=M[0],_=M[1],g=x>1e-6?1/x:0;this._time.push(y);for(var c=T;c>0;--c){var A=s(d[c-1],_[c-1],arguments[c]);m.push(A),k.push((A-m[S++])*g)}}},h.set=function(y){var w=this.dimension;if(!(y<this.lastT()||arguments.length!==w+1)){var T=this._state,m=this._velocity,k=this.bounds,S=k[0],x=k[1];this._time.push(y);for(var M=w;M>0;--M)T.push(s(S[M-1],x[M-1],arguments[M])),m.push(0)}},h.move=function(y){var w=this.lastT(),T=this.dimension;if(!(y<=w||arguments.length!==T+1)){var m=this._state,k=this._velocity,S=m.length-this.dimension,x=this.bounds,M=x[0],d=x[1],_=y-w,g=_>1e-6?1/_:0;this._time.push(y);for(var c=T;c>0;--c){var A=arguments[c];m.push(s(M[c-1],d[c-1],m[S++]+A)),k.push(A*g)}}},h.idle=function(y){var w=this.lastT();if(!(y<w)){var T=this.dimension,m=this._state,k=this._velocity,S=m.length-T,x=this.bounds,M=x[0],d=x[1],_=y-w;this._time.push(y);for(var g=T-1;g>=0;--g)m.push(s(M[g],d[g],m[S]+_*k[S])),k.push(0),S+=1}};function p(y){for(var w=new Array(y),T=0;T<y;++T)w[T]=0;return w}function b(y,w,T){switch(arguments.length){case 0:return new f([0],[0],0);case 1:if(typeof y=="number"){var m=p(y);return new f(m,m,0)}else return new f(y,p(y.length),0);case 2:if(typeof w=="number"){var m=p(y.length);return new f(y,m,+w)}else T=0;case 3:if(y.length!==w.length)throw new Error("state and velocity lengths must match");return new f(y,w,T)}}},9216:function(a){"use strict";a.exports=u,a.exports.isMobile=u,a.exports.default=u;var o=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,i=/CrOS/,l=/android|ipad|playbook|silk/i;function u(s){s||(s={});var f=s.ua;if(!f&&typeof navigator!="undefined"&&(f=navigator.userAgent),f&&f.headers&&typeof f.headers["user-agent"]=="string"&&(f=f.headers["user-agent"]),typeof f!="string")return!1;var h=o.test(f)&&!i.test(f)||!!s.tablet&&l.test(f);return!h&&s.tablet&&s.featureDetect&&navigator&&navigator.maxTouchPoints>1&&f.indexOf("Macintosh")!==-1&&f.indexOf("Safari")!==-1&&(h=!0),h}},9226:function(a){a.exports=o;function o(i,l){return i[0]=Math.ceil(l[0]),i[1]=Math.ceil(l[1]),i[2]=Math.ceil(l[2]),i}},9265:function(a){a.exports=o;function o(i,l){return i[0]===l[0]&&i[1]===l[1]&&i[2]===l[2]}},9288:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]*u,i[1]=l[1]*u,i[2]=l[2]*u,i[3]=l[3]*u,i}},9346:function(a){"use strict";var o=new Float64Array(4),i=new Float64Array(4),l=new Float64Array(4);function u(s,f,h,p,b){o.length<p.length&&(o=new Float64Array(p.length),i=new Float64Array(p.length),l=new Float64Array(p.length));for(var y=0;y<p.length;++y)o[y]=s[y]-p[y],i[y]=f[y]-s[y],l[y]=h[y]-s[y];for(var w=0,T=0,m=0,k=0,S=0,x=0,y=0;y<p.length;++y){var M=i[y],d=l[y],_=o[y];w+=M*M,T+=M*d,m+=d*d,k+=_*M,S+=_*d,x+=_*_}var g=Math.abs(w*m-T*T),c=T*S-m*k,A=T*k-w*S,v;if(c+A<=g)if(c<0)A<0&&k<0?(A=0,-k>=w?(c=1,v=w+2*k+x):(c=-k/w,v=k*c+x)):(c=0,S>=0?(A=0,v=x):-S>=m?(A=1,v=m+2*S+x):(A=-S/m,v=S*A+x));else if(A<0)A=0,k>=0?(c=0,v=x):-k>=w?(c=1,v=w+2*k+x):(c=-k/w,v=k*c+x);else{var D=1/g;c*=D,A*=D,v=c*(w*c+T*A+2*k)+A*(T*c+m*A+2*S)+x}else{var E,R,N,F;c<0?(E=T+k,R=m+S,R>E?(N=R-E,F=w-2*T+m,N>=F?(c=1,A=0,v=w+2*k+x):(c=N/F,A=1-c,v=c*(w*c+T*A+2*k)+A*(T*c+m*A+2*S)+x)):(c=0,R<=0?(A=1,v=m+2*S+x):S>=0?(A=0,v=x):(A=-S/m,v=S*A+x))):A<0?(E=T+S,R=w+k,R>E?(N=R-E,F=w-2*T+m,N>=F?(A=1,c=0,v=m+2*S+x):(A=N/F,c=1-A,v=c*(w*c+T*A+2*k)+A*(T*c+m*A+2*S)+x)):(A=0,R<=0?(c=1,v=w+2*k+x):k>=0?(c=0,v=x):(c=-k/w,v=k*c+x))):(N=m+S-T-k,N<=0?(c=0,A=1,v=m+2*S+x):(F=w-2*T+m,N>=F?(c=1,A=0,v=w+2*k+x):(c=N/F,A=1-c,v=c*(w*c+T*A+2*k)+A*(T*c+m*A+2*S)+x)))}for(var I=1-c-A,y=0;y<p.length;++y)b[y]=I*s[y]+c*f[y]+A*h[y];return v<0?0:v}a.exports=u},9362:function(a){"use strict";a.exports=o;function o(i,l,u){var s=i+l,f=s-i,h=s-f,p=l-f,b=i-h;return u?(u[0]=b+p,u[1]=s,u):[b+p,s]}},9366:function(a,o,i){"use strict";var l=i(4359);a.exports=s;var u={};function s(f,h,p){var b=[h.style,h.weight,h.variant,h.family].join("_"),y=u[b];if(y||(y=u[b]={}),f in y)return y[f];var w={textAlign:"center",textBaseline:"middle",lineHeight:1,font:h.family,fontStyle:h.style,fontWeight:h.weight,fontVariant:h.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};w.triangles=!0;var T=l(f,w);w.triangles=!1;var m=l(f,w),k,S;if(p&&p!==1){for(k=0;k<T.positions.length;++k)for(S=0;S<T.positions[k].length;++S)T.positions[k][S]/=p;for(k=0;k<m.positions.length;++k)for(S=0;S<m.positions[k].length;++S)m.positions[k][S]/=p}var x=[[1/0,1/0],[-1/0,-1/0]],M=m.positions.length;for(k=0;k<M;++k){var d=m.positions[k];for(S=0;S<2;++S)x[0][S]=Math.min(x[0][S],d[S]),x[1][S]=Math.max(x[1][S],d[S])}return y[f]=[T,m,x]}},9405:function(a,o,i){"use strict";var l=i(3327),u=i(8731),s=i(216),f=i(5091),h=i(2145),p=i(8866);function b(m){this.gl=m,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var y=b.prototype;y.bind=function(){this.program||this._relink();var m,k=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),S=this.gl.lastAttribCount;if(k>S)for(m=S;m<k;m++)this.gl.enableVertexAttribArray(m);else if(S>k)for(m=k;m<S;m++)this.gl.disableVertexAttribArray(m);this.gl.lastAttribCount=k,this.gl.useProgram(this.program)},y.dispose=function(){for(var m=this.gl.lastAttribCount,k=0;k<m;k++)this.gl.disableVertexAttribArray(k);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function w(m,k){return m.name<k.name?-1:1}y.update=function(m,k,S,x){if(!k||arguments.length===1){var M=m;m=M.vertex,k=M.fragment,S=M.uniforms,x=M.attributes}var d=this,_=d.gl,g=d._vref;d._vref=f.shader(_,_.VERTEX_SHADER,m),g&&g.dispose(),d.vertShader=d._vref.shader;var c=this._fref;if(d._fref=f.shader(_,_.FRAGMENT_SHADER,k),c&&c.dispose(),d.fragShader=d._fref.shader,!S||!x){var A=_.createProgram();if(_.attachShader(A,d.fragShader),_.attachShader(A,d.vertShader),_.linkProgram(A),!_.getProgramParameter(A,_.LINK_STATUS)){var v=_.getProgramInfoLog(A);throw new p(v,"Error linking program:"+v)}S=S||h.uniforms(_,A),x=x||h.attributes(_,A),_.deleteProgram(A)}x=x.slice(),x.sort(w);var D=[],E=[],R=[],N;for(N=0;N<x.length;++N){var F=x[N];if(F.type.indexOf("mat")>=0){for(var I=F.type.charAt(F.type.length-1)|0,L=new Array(I),P=0;P<I;++P)L[P]=R.length,E.push(F.name+"["+P+"]"),typeof F.location=="number"?R.push(F.location+P):Array.isArray(F.location)&&F.location.length===I&&typeof F.location[P]=="number"?R.push(F.location[P]|0):R.push(-1);D.push({name:F.name,type:F.type,locations:L})}else D.push({name:F.name,type:F.type,locations:[R.length]}),E.push(F.name),typeof F.location=="number"?R.push(F.location|0):R.push(-1)}var O=0;for(N=0;N<R.length;++N)if(R[N]<0){for(;R.indexOf(O)>=0;)O+=1;R[N]=O}var U=new Array(S.length);function X(){d.program=f.program(_,d._vref,d._fref,E,R);for(var $=0;$<S.length;++$)U[$]=_.getUniformLocation(d.program,S[$].name)}X(),d._relink=X,d.types={uniforms:s(S),attributes:s(x)},d.attributes=u(_,d,D,R),Object.defineProperty(d,"uniforms",l(_,d,S,U))};function T(m,k,S,x,M){var d=new b(m);return d.update(k,S,x,M),d}a.exports=T},9499:function(a,o,i){"use strict";a.exports=oe;var l=i(8828),u=i(2762),s=i(8116),f=i(7766),h=i(1888),p=i(6729),b=i(5298),y=i(9994),w=i(9618),T=i(3711),m=i(6760),k=i(7608),S=i(2478),x=i(6199),M=i(990),d=M.createShader,_=M.createContourShader,g=M.createPickShader,c=M.createPickContourShader,A=4*10,v=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],D=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],E=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var re=0;re<3;++re){var V=E[re],ee=(re+1)%3,H=(re+2)%3;V[ee+0]=1,V[H+3]=1,V[re+6]=1}})();function R(re,V,ee,H,te){this.position=re,this.index=V,this.uv=ee,this.level=H,this.dataCoordinate=te}var N=256;function F(re,V,ee,H,te,le,ve,Ae,we,ce,Se,Ce,Fe,Ee,ze){this.gl=re,this.shape=V,this.bounds=ee,this.objectOffset=ze,this.intensityBounds=[],this._shader=H,this._pickShader=te,this._coordinateBuffer=le,this._vao=ve,this._colorMap=Ae,this._contourShader=we,this._contourPickShader=ce,this._contourBuffer=Se,this._contourVAO=Ce,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new R([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Fe,this._dynamicVAO=Ee,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[w(h.mallocFloat(1024),[0,0]),w(h.mallocFloat(1024),[0,0]),w(h.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var I=F.prototype;I.genColormap=function(re,V){var ee=!1,H=y([p({colormap:re,nshades:N,format:"rgba"}).map(function(te,le){var ve=V?L(le/255,V):te[3];return ve<1&&(ee=!0),[te[0],te[1],te[2],255*ve]})]);return b.divseq(H,255),this.hasAlphaScale=ee,H},I.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},I.isOpaque=function(){return!this.isTransparent()},I.pickSlots=1,I.setPickBase=function(re){this.pickId=re};function L(re,V){if(!V||!V.length)return 1;for(var ee=0;ee<V.length;++ee){if(V.length<2)return 1;if(V[ee][0]===re)return V[ee][1];if(V[ee][0]>re&&ee>0){var H=(V[ee][0]-re)/(V[ee][0]-V[ee-1][0]);return V[ee][1]*(1-H)+H*V[ee-1][1]}}return 1}var P=[0,0,0],O={showSurface:!1,showContour:!1,projections:[v.slice(),v.slice(),v.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function U(re,V){var ee,H,te,le=V.axes&&V.axes.lastCubeProps.axis||P,ve=V.showSurface,Ae=V.showContour;for(ee=0;ee<3;++ee)for(ve=ve||V.surfaceProject[ee],H=0;H<3;++H)Ae=Ae||V.contourProject[ee][H];for(ee=0;ee<3;++ee){var we=O.projections[ee];for(H=0;H<16;++H)we[H]=0;for(H=0;H<4;++H)we[5*H]=1;we[5*ee]=0,we[12+ee]=V.axesBounds[+(le[ee]>0)][ee],m(we,re.model,we);var ce=O.clipBounds[ee];for(te=0;te<2;++te)for(H=0;H<3;++H)ce[te][H]=re.clipBounds[te][H];ce[0][ee]=-1e8,ce[1][ee]=1e8}return O.showSurface=ve,O.showContour=Ae,O}var X={model:v,view:v,projection:v,inverseModel:v.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},$=v.slice(),j=[1,0,0,0,1,0,0,0,1];function Y(re,V){re=re||{};var ee=this.gl;ee.disable(ee.CULL_FACE),this._colorMap.bind(0);var H=X;H.model=re.model||v,H.view=re.view||v,H.projection=re.projection||v,H.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],H.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],H.objectOffset=this.objectOffset,H.contourColor=this.contourColor[0],H.inverseModel=k(H.inverseModel,H.model);for(var te=0;te<2;++te)for(var le=H.clipBounds[te],ve=0;ve<3;++ve)le[ve]=Math.min(Math.max(this.clipBounds[te][ve],-1e8),1e8);H.kambient=this.ambientLight,H.kdiffuse=this.diffuseLight,H.kspecular=this.specularLight,H.roughness=this.roughness,H.fresnel=this.fresnel,H.opacity=this.opacity,H.height=0,H.permutation=j,H.vertexColor=this.vertexColor;var Ae=$;for(m(Ae,H.view,H.model),m(Ae,H.projection,Ae),k(Ae,Ae),te=0;te<3;++te)H.eyePosition[te]=Ae[12+te]/Ae[15];var we=Ae[15];for(te=0;te<3;++te)we+=this.lightPosition[te]*Ae[4*te+3];for(te=0;te<3;++te){var ce=Ae[12+te];for(ve=0;ve<3;++ve)ce+=Ae[4*ve+te]*this.lightPosition[ve];H.lightPosition[te]=ce/we}var Se=U(H,this);if(Se.showSurface){for(this._shader.bind(),this._shader.uniforms=H,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(ee.TRIANGLES,this._vertexCount),te=0;te<3;++te)!this.surfaceProject[te]||!this.vertexCount||(this._shader.uniforms.model=Se.projections[te],this._shader.uniforms.clipBounds=Se.clipBounds[te],this._vao.draw(ee.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Se.showContour){var Ce=this._contourShader;H.kambient=1,H.kdiffuse=0,H.kspecular=0,H.opacity=1,Ce.bind(),Ce.uniforms=H;var Fe=this._contourVAO;for(Fe.bind(),te=0;te<3;++te)for(Ce.uniforms.permutation=E[te],ee.lineWidth(this.contourWidth[te]*this.pixelRatio),ve=0;ve<this.contourLevels[te].length;++ve)ve===this.highlightLevel[te]?(Ce.uniforms.contourColor=this.highlightColor[te],Ce.uniforms.contourTint=this.highlightTint[te]):(ve===0||ve-1===this.highlightLevel[te])&&(Ce.uniforms.contourColor=this.contourColor[te],Ce.uniforms.contourTint=this.contourTint[te]),this._contourCounts[te][ve]&&(Ce.uniforms.height=this.contourLevels[te][ve],Fe.draw(ee.LINES,this._contourCounts[te][ve],this._contourOffsets[te][ve]));for(te=0;te<3;++te)for(Ce.uniforms.model=Se.projections[te],Ce.uniforms.clipBounds=Se.clipBounds[te],ve=0;ve<3;++ve)if(this.contourProject[te][ve]){Ce.uniforms.permutation=E[ve],ee.lineWidth(this.contourWidth[ve]*this.pixelRatio);for(var Ee=0;Ee<this.contourLevels[ve].length;++Ee)Ee===this.highlightLevel[ve]?(Ce.uniforms.contourColor=this.highlightColor[ve],Ce.uniforms.contourTint=this.highlightTint[ve]):(Ee===0||Ee-1===this.highlightLevel[ve])&&(Ce.uniforms.contourColor=this.contourColor[ve],Ce.uniforms.contourTint=this.contourTint[ve]),this._contourCounts[ve][Ee]&&(Ce.uniforms.height=this.contourLevels[ve][Ee],Fe.draw(ee.LINES,this._contourCounts[ve][Ee],this._contourOffsets[ve][Ee]))}for(Fe.unbind(),Fe=this._dynamicVAO,Fe.bind(),te=0;te<3;++te)if(this._dynamicCounts[te]!==0)for(Ce.uniforms.model=H.model,Ce.uniforms.clipBounds=H.clipBounds,Ce.uniforms.permutation=E[te],ee.lineWidth(this.dynamicWidth[te]*this.pixelRatio),Ce.uniforms.contourColor=this.dynamicColor[te],Ce.uniforms.contourTint=this.dynamicTint[te],Ce.uniforms.height=this.dynamicLevel[te],Fe.draw(ee.LINES,this._dynamicCounts[te],this._dynamicOffsets[te]),ve=0;ve<3;++ve)this.contourProject[ve][te]&&(Ce.uniforms.model=Se.projections[ve],Ce.uniforms.clipBounds=Se.clipBounds[ve],Fe.draw(ee.LINES,this._dynamicCounts[te],this._dynamicOffsets[te]));Fe.unbind()}}I.draw=function(re){return Y.call(this,re,!1)},I.drawTransparent=function(re){return Y.call(this,re,!0)};var q={model:v,view:v,projection:v,inverseModel:v,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};I.drawPick=function(re){re=re||{};var V=this.gl;V.disable(V.CULL_FACE);var ee=q;ee.model=re.model||v,ee.view=re.view||v,ee.projection=re.projection||v,ee.shape=this._field[2].shape,ee.pickId=this.pickId/255,ee.lowerBound=this.bounds[0],ee.upperBound=this.bounds[1],ee.objectOffset=this.objectOffset,ee.permutation=j;for(var H=0;H<2;++H)for(var te=ee.clipBounds[H],le=0;le<3;++le)te[le]=Math.min(Math.max(this.clipBounds[H][le],-1e8),1e8);var ve=U(ee,this);if(ve.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=ee,this._vao.bind(),this._vao.draw(V.TRIANGLES,this._vertexCount),H=0;H<3;++H)this.surfaceProject[H]&&(this._pickShader.uniforms.model=ve.projections[H],this._pickShader.uniforms.clipBounds=ve.clipBounds[H],this._vao.draw(V.TRIANGLES,this._vertexCount));this._vao.unbind()}if(ve.showContour){var Ae=this._contourPickShader;Ae.bind(),Ae.uniforms=ee;var we=this._contourVAO;for(we.bind(),le=0;le<3;++le)for(V.lineWidth(this.contourWidth[le]*this.pixelRatio),Ae.uniforms.permutation=E[le],H=0;H<this.contourLevels[le].length;++H)this._contourCounts[le][H]&&(Ae.uniforms.height=this.contourLevels[le][H],we.draw(V.LINES,this._contourCounts[le][H],this._contourOffsets[le][H]));for(H=0;H<3;++H)for(Ae.uniforms.model=ve.projections[H],Ae.uniforms.clipBounds=ve.clipBounds[H],le=0;le<3;++le)if(this.contourProject[H][le]){Ae.uniforms.permutation=E[le],V.lineWidth(this.contourWidth[le]*this.pixelRatio);for(var ce=0;ce<this.contourLevels[le].length;++ce)this._contourCounts[le][ce]&&(Ae.uniforms.height=this.contourLevels[le][ce],we.draw(V.LINES,this._contourCounts[le][ce],this._contourOffsets[le][ce]))}we.unbind()}},I.pick=function(re){if(!re||re.id!==this.pickId)return null;var V=this._field[2].shape,ee=this._pickResult,H=V[0]*(re.value[0]+(re.value[2]>>4)/16)/255,te=Math.floor(H),le=H-te,ve=V[1]*(re.value[1]+(re.value[2]&15)/16)/255,Ae=Math.floor(ve),we=ve-Ae;te+=1,Ae+=1;var ce=ee.position;ce[0]=ce[1]=ce[2]=0;for(var Se=0;Se<2;++Se)for(var Ce=Se?le:1-le,Fe=0;Fe<2;++Fe)for(var Ee=Fe?we:1-we,ze=te+Se,Ue=Ae+Fe,ge=Ce*Ee,Me=0;Me<3;++Me)ce[Me]+=this._field[Me].get(ze,Ue)*ge;for(var ke=this._pickResult.level,me=0;me<3;++me)if(ke[me]=S.le(this.contourLevels[me],ce[me]),ke[me]<0)this.contourLevels[me].length>0&&(ke[me]=0);else if(ke[me]<this.contourLevels[me].length-1){var ye=this.contourLevels[me][ke[me]],pe=this.contourLevels[me][ke[me]+1];Math.abs(ye-ce[me])>Math.abs(pe-ce[me])&&(ke[me]+=1)}for(ee.index[0]=le<.5?te:te+1,ee.index[1]=we<.5?Ae:Ae+1,ee.uv[0]=H/V[0],ee.uv[1]=ve/V[1],Me=0;Me<3;++Me)ee.dataCoordinate[Me]=this._field[Me].get(ee.index[0],ee.index[1]);return ee},I.padField=function(re,V){var ee=V.shape.slice(),H=re.shape.slice();b.assign(re.lo(1,1).hi(ee[0],ee[1]),V),b.assign(re.lo(1).hi(ee[0],1),V.hi(ee[0],1)),b.assign(re.lo(1,H[1]-1).hi(ee[0],1),V.lo(0,ee[1]-1).hi(ee[0],1)),b.assign(re.lo(0,1).hi(1,ee[1]),V.hi(1)),b.assign(re.lo(H[0]-1,1).hi(1,ee[1]),V.lo(ee[0]-1)),re.set(0,0,V.get(0,0)),re.set(0,H[1]-1,V.get(0,ee[1]-1)),re.set(H[0]-1,0,V.get(ee[0]-1,0)),re.set(H[0]-1,H[1]-1,V.get(ee[0]-1,ee[1]-1))};function Q(re,V){return Array.isArray(re)?[V(re[0]),V(re[1]),V(re[2])]:[V(re),V(re),V(re)]}function ae(re){return Array.isArray(re)?re.length===3?[re[0],re[1],re[2],1]:[re[0],re[1],re[2],re[3]]:[0,0,0,1]}function K(re){if(Array.isArray(re)){if(Array.isArray(re))return[ae(re[0]),ae(re[1]),ae(re[2])];var V=ae(re);return[V.slice(),V.slice(),V.slice()]}}I.update=function(re){re=re||{},this.objectOffset=re.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in re&&(this.contourWidth=Q(re.contourWidth,Number)),"showContour"in re&&(this.showContour=Q(re.showContour,Boolean)),"showSurface"in re&&(this.showSurface=!!re.showSurface),"contourTint"in re&&(this.contourTint=Q(re.contourTint,Boolean)),"contourColor"in re&&(this.contourColor=K(re.contourColor)),"contourProject"in re&&(this.contourProject=Q(re.contourProject,function(Ma){return Q(Ma,Boolean)})),"surfaceProject"in re&&(this.surfaceProject=re.surfaceProject),"dynamicColor"in re&&(this.dynamicColor=K(re.dynamicColor)),"dynamicTint"in re&&(this.dynamicTint=Q(re.dynamicTint,Number)),"dynamicWidth"in re&&(this.dynamicWidth=Q(re.dynamicWidth,Number)),"opacity"in re&&(this.opacity=re.opacity),"opacityscale"in re&&(this.opacityscale=re.opacityscale),"colorBounds"in re&&(this.colorBounds=re.colorBounds),"vertexColor"in re&&(this.vertexColor=re.vertexColor?1:0),"colormap"in re&&this._colorMap.setPixels(this.genColormap(re.colormap,this.opacityscale));var V=re.field||re.coords&&re.coords[2]||null,ee=!1;if(V||(this._field[2].shape[0]||this._field[2].shape[2]?V=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):V=this._field[2].hi(0,0)),"field"in re||"coords"in re){var H=(V.shape[0]+2)*(V.shape[1]+2);H>this._field[2].data.length&&(h.freeFloat(this._field[2].data),this._field[2].data=h.mallocFloat(l.nextPow2(H))),this._field[2]=w(this._field[2].data,[V.shape[0]+2,V.shape[1]+2]),this.padField(this._field[2],V),this.shape=V.shape.slice();for(var te=this.shape,le=0;le<2;++le)this._field[2].size>this._field[le].data.length&&(h.freeFloat(this._field[le].data),this._field[le].data=h.mallocFloat(this._field[2].size)),this._field[le]=w(this._field[le].data,[te[0]+2,te[1]+2]);if(re.coords){var ve=re.coords;if(!Array.isArray(ve)||ve.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(le=0;le<2;++le){var Ae=ve[le];for(Fe=0;Fe<2;++Fe)if(Ae.shape[Fe]!==te[Fe])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[le],Ae)}}else if(re.ticks){var we=re.ticks;if(!Array.isArray(we)||we.length!==2)throw new Error("gl-surface: invalid ticks");for(le=0;le<2;++le){var ce=we[le];if((Array.isArray(ce)||ce.length)&&(ce=w(ce)),ce.shape[0]!==te[le])throw new Error("gl-surface: invalid tick length");var Se=w(ce.data,te);Se.stride[le]=ce.stride[0],Se.stride[le^1]=0,this.padField(this._field[le],Se)}}else{for(le=0;le<2;++le){var Ce=[0,0];Ce[le]=1,this._field[le]=w(this._field[le].data,[te[0]+2,te[1]+2],Ce,0)}this._field[0].set(0,0,0);for(var Fe=0;Fe<te[0];++Fe)this._field[0].set(Fe+1,0,Fe);for(this._field[0].set(te[0]+1,0,te[0]-1),this._field[1].set(0,0,0),Fe=0;Fe<te[1];++Fe)this._field[1].set(0,Fe+1,Fe);this._field[1].set(0,te[1]+1,te[1]-1)}var Ee=this._field,ze=w(h.mallocFloat(Ee[2].size*3*2),[3,te[0]+2,te[1]+2,2]);for(le=0;le<3;++le)x(ze.pick(le),Ee[le],"mirror");var Ue=w(h.mallocFloat(Ee[2].size*3),[te[0]+2,te[1]+2,3]);for(le=0;le<te[0]+2;++le)for(Fe=0;Fe<te[1]+2;++Fe){var ge=ze.get(0,le,Fe,0),Me=ze.get(0,le,Fe,1),ke=ze.get(1,le,Fe,0),me=ze.get(1,le,Fe,1),ye=ze.get(2,le,Fe,0),pe=ze.get(2,le,Fe,1),he=ke*pe-me*ye,xe=ye*Me-pe*ge,Le=ge*me-Me*ke,qe=Math.sqrt(he*he+xe*xe+Le*Le);qe<1e-8?(qe=Math.max(Math.abs(he),Math.abs(xe),Math.abs(Le)),qe<1e-8?(Le=1,xe=he=0,qe=1):qe=1/qe):qe=1/Math.sqrt(qe),Ue.set(le,Fe,0,he*qe),Ue.set(le,Fe,1,xe*qe),Ue.set(le,Fe,2,Le*qe)}h.free(ze.data);var Ne=[1/0,1/0,1/0],$e=[-1/0,-1/0,-1/0],Ve=1/0,Be=-1/0,Ye=(te[0]-1)*(te[1]-1)*6,Te=h.mallocFloat(l.nextPow2(10*Ye)),Re=0,Qe=0;for(le=0;le<te[0]-1;++le)e:for(Fe=0;Fe<te[1]-1;++Fe){for(var Ke=0;Ke<2;++Ke)for(var ar=0;ar<2;++ar)for(var ue=0;ue<3;++ue){var J=this._field[ue].get(1+le+Ke,1+Fe+ar);if(isNaN(J)||!isFinite(J))continue e}for(ue=0;ue<6;++ue){var ne=le+D[ue][0],De=Fe+D[ue][1],He=this._field[0].get(ne+1,De+1),er=this._field[1].get(ne+1,De+1);J=this._field[2].get(ne+1,De+1),he=Ue.get(ne+1,De+1,0),xe=Ue.get(ne+1,De+1,1),Le=Ue.get(ne+1,De+1,2),re.intensity&&(nr=re.intensity.get(ne,De));var nr=re.intensity?re.intensity.get(ne,De):J+this.objectOffset[2];Te[Re++]=ne,Te[Re++]=De,Te[Re++]=He,Te[Re++]=er,Te[Re++]=J,Te[Re++]=0,Te[Re++]=nr,Te[Re++]=he,Te[Re++]=xe,Te[Re++]=Le,Ne[0]=Math.min(Ne[0],He+this.objectOffset[0]),Ne[1]=Math.min(Ne[1],er+this.objectOffset[1]),Ne[2]=Math.min(Ne[2],J+this.objectOffset[2]),Ve=Math.min(Ve,nr),$e[0]=Math.max($e[0],He+this.objectOffset[0]),$e[1]=Math.max($e[1],er+this.objectOffset[1]),$e[2]=Math.max($e[2],J+this.objectOffset[2]),Be=Math.max(Be,nr),Qe+=1}}for(re.intensityBounds&&(Ve=+re.intensityBounds[0],Be=+re.intensityBounds[1]),le=6;le<Re;le+=10)Te[le]=(Te[le]-Ve)/(Be-Ve);this._vertexCount=Qe,this._coordinateBuffer.update(Te.subarray(0,Re)),h.freeFloat(Te),h.free(Ue.data),this.bounds=[Ne,$e],this.intensity=re.intensity||this._field[2],(this.intensityBounds[0]!==Ve||this.intensityBounds[1]!==Be)&&(ee=!0),this.intensityBounds=[Ve,Be]}if("levels"in re){var fr=re.levels;for(Array.isArray(fr[0])?fr=fr.slice():fr=[[],[],fr],le=0;le<3;++le)fr[le]=fr[le].slice(),fr[le].sort(function(Ma,wi){return Ma-wi});for(le=0;le<3;++le)for(Fe=0;Fe<fr[le].length;++Fe)fr[le][Fe]-=this.objectOffset[le];e:for(le=0;le<3;++le){if(fr[le].length!==this.contourLevels[le].length){ee=!0;break}for(Fe=0;Fe<fr[le].length;++Fe)if(fr[le][Fe]!==this.contourLevels[le][Fe]){ee=!0;break e}}this.contourLevels=fr}if(ee){Ee=this._field,te=this.shape;for(var br=[],Sr=0;Sr<3;++Sr){var Mr=this.contourLevels[Sr],Ar=[],ft=[],sr=[0,0,0];for(le=0;le<Mr.length;++le){var Pr=T(this._field[Sr],Mr[le]);Ar.push(br.length/5|0),Qe=0;e:for(Fe=0;Fe<Pr.cells.length;++Fe){var $r=Pr.cells[Fe];for(ue=0;ue<2;++ue){var Fr=Pr.positions[$r[ue]],Gr=Fr[0],pt=Math.floor(Gr)|0,Rr=Gr-pt,jr=Fr[1],vn=Math.floor(jr)|0,Et=jr-vn,Tn=!1;r:for(var Ot=0;Ot<3;++Ot){sr[Ot]=0;var bt=(Sr+Ot+1)%3;for(Ke=0;Ke<2;++Ke){var gt=Ke?Rr:1-Rr;for(ne=Math.min(Math.max(pt+Ke,0),te[0])|0,ar=0;ar<2;++ar){var Nt=ar?Et:1-Et;if(De=Math.min(Math.max(vn+ar,0),te[1])|0,Ot<2?J=this._field[bt].get(ne,De):J=(this.intensity.get(ne,De)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(J)||isNaN(J)){Tn=!0;break r}var ha=gt*Nt;sr[Ot]+=ha*J}}}if(!Tn)br.push(sr[0],sr[1],Fr[0],Fr[1],sr[2]),Qe+=1;else{if(ue>0){for(var $n=0;$n<5;++$n)br.pop();Qe-=1}continue e}}}ft.push(Qe)}this._contourOffsets[Sr]=Ar,this._contourCounts[Sr]=ft}var Fn=h.mallocFloat(br.length);for(le=0;le<br.length;++le)Fn[le]=br[le];this._contourBuffer.update(Fn),h.freeFloat(Fn)}},I.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var re=0;re<3;++re)h.freeFloat(this._field[re].data)},I.highlight=function(re){var V;if(!re){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(V=0;V<3;++V)this.enableHighlight[V]?this.highlightLevel[V]=re.level[V]:this.highlightLevel[V]=-1;var ee;for(this.snapToData?ee=re.dataCoordinate:ee=re.position,V=0;V<3;++V)ee[V]-=this.objectOffset[V];if(!((!this.enableDynamic[0]||ee[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||ee[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||ee[2]===this.dynamicLevel[2]))){for(var H=0,te=this.shape,le=h.mallocFloat(12*te[0]*te[1]),ve=0;ve<3;++ve){if(!this.enableDynamic[ve]){this.dynamicLevel[ve]=NaN,this._dynamicCounts[ve]=0;continue}this.dynamicLevel[ve]=ee[ve];var Ae=(ve+1)%3,we=(ve+2)%3,ce=this._field[ve],Se=this._field[Ae],Ce=this._field[we],Fe=T(ce,ee[ve]),Ee=Fe.cells,ze=Fe.positions;for(this._dynamicOffsets[ve]=H,V=0;V<Ee.length;++V)for(var Ue=Ee[V],ge=0;ge<2;++ge){var Me=ze[Ue[ge]],ke=+Me[0],me=ke|0,ye=Math.min(me+1,te[0])|0,pe=ke-me,he=1-pe,xe=+Me[1],Le=xe|0,qe=Math.min(Le+1,te[1])|0,Ne=xe-Le,$e=1-Ne,Ve=he*$e,Be=he*Ne,Ye=pe*$e,Te=pe*Ne,Re=Ve*Se.get(me,Le)+Be*Se.get(me,qe)+Ye*Se.get(ye,Le)+Te*Se.get(ye,qe),Qe=Ve*Ce.get(me,Le)+Be*Ce.get(me,qe)+Ye*Ce.get(ye,Le)+Te*Ce.get(ye,qe);if(isNaN(Re)||isNaN(Qe)){ge&&(H-=1);break}le[2*H+0]=Re,le[2*H+1]=Qe,H+=1}this._dynamicCounts[ve]=H-this._dynamicOffsets[ve]}this._dynamicBuffer.update(le.subarray(0,2*H)),h.freeFloat(le)}};function oe(re){var V=re.gl,ee=d(V),H=g(V),te=_(V),le=c(V),ve=u(V),Ae=s(V,[{buffer:ve,size:4,stride:A,offset:0},{buffer:ve,size:3,stride:A,offset:16},{buffer:ve,size:3,stride:A,offset:28}]),we=u(V),ce=s(V,[{buffer:we,size:4,stride:20,offset:0},{buffer:we,size:1,stride:20,offset:16}]),Se=u(V),Ce=s(V,[{buffer:Se,size:2,type:V.FLOAT}]),Fe=f(V,1,N,V.RGBA,V.UNSIGNED_BYTE);Fe.minFilter=V.LINEAR,Fe.magFilter=V.LINEAR;var Ee=new F(V,[0,0],[[0,0,0],[0,0,0]],ee,H,ve,Ae,Fe,te,le,we,ce,Se,Ce,[0,0,0]),ze={levels:[[],[],[]]};for(var Ue in re)ze[Ue]=re[Ue];return ze.colormap=ze.colormap||"jet",Ee.update(ze),Ee}},9507:function(a){a.exports=!0},9618:function(a,o,i){var l=i(7163),u=typeof Float64Array!="undefined";function s(T,m){return T[0]-m[0]}function f(){var T=this.stride,m=new Array(T.length),k;for(k=0;k<m.length;++k)m[k]=[Math.abs(T[k]),k];m.sort(s);var S=new Array(m.length);for(k=0;k<S.length;++k)S[k]=m[k][1];return S}var h={T:function(T){function m(S){this.data=S}var k=m.prototype;return k.dtype=T,k.index=function(){return-1},k.size=0,k.dimension=-1,k.shape=k.stride=k.order=[],k.lo=k.hi=k.transpose=k.step=function(){return new m(this.data)},k.get=k.set=function(){},k.pick=function(){return null},function(x){return new m(x)}},0:function(T,m){function k(x,M){this.data=x,this.offset=M}var S=k.prototype;return S.dtype=T,S.index=function(){return this.offset},S.dimension=0,S.size=1,S.shape=S.stride=S.order=[],S.lo=S.hi=S.transpose=S.step=function(){return new k(this.data,this.offset)},S.pick=function(){return m(this.data)},S.valueOf=S.get=function(){return T==="generic"?this.data.get(this.offset):this.data[this.offset]},S.set=function(M){return T==="generic"?this.data.set(this.offset,M):this.data[this.offset]=M},function(M,d,_,g){return new k(M,g)}},1:function(T,m,k){function S(M,d,_,g){this.data=M,this.shape=[d],this.stride=[_],this.offset=g|0}var x=S.prototype;return x.dtype=T,x.dimension=1,Object.defineProperty(x,"size",{get:function(){return this.shape[0]}}),x.order=[0],x.set=function(d,_){return T==="generic"?this.data.set(this.offset+this.stride[0]*d,_):this.data[this.offset+this.stride[0]*d]=_},x.get=function(d){return T==="generic"?this.data.get(this.offset+this.stride[0]*d):this.data[this.offset+this.stride[0]*d]},x.index=function(d){return this.offset+this.stride[0]*d},x.hi=function(d){return new S(this.data,typeof d!="number"||d<0?this.shape[0]:d|0,this.stride[0],this.offset)},x.lo=function(d){var _=this.offset,g=0,c=this.shape[0],A=this.stride[0];return typeof d=="number"&&d>=0&&(g=d|0,_+=A*g,c-=g),new S(this.data,c,A,_)},x.step=function(d){var _=this.shape[0],g=this.stride[0],c=this.offset,A=0,v=Math.ceil;return typeof d=="number"&&(A=d|0,A<0?(c+=g*(_-1),_=v(-_/A)):_=v(_/A),g*=A),new S(this.data,_,g,c)},x.transpose=function(d){d=d===void 0?0:d|0;var _=this.shape,g=this.stride;return new S(this.data,_[d],g[d],this.offset)},x.pick=function(d){var _=[],g=[],c=this.offset;typeof d=="number"&&d>=0?c=c+this.stride[0]*d|0:(_.push(this.shape[0]),g.push(this.stride[0]));var A=m[_.length+1];return A(this.data,_,g,c)},function(d,_,g,c){return new S(d,_[0],g[0],c)}},2:function(T,m,k){function S(M,d,_,g,c,A){this.data=M,this.shape=[d,_],this.stride=[g,c],this.offset=A|0}var x=S.prototype;return x.dtype=T,x.dimension=2,Object.defineProperty(x,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(x,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),x.set=function(d,_,g){return T==="generic"?this.data.set(this.offset+this.stride[0]*d+this.stride[1]*_,g):this.data[this.offset+this.stride[0]*d+this.stride[1]*_]=g},x.get=function(d,_){return T==="generic"?this.data.get(this.offset+this.stride[0]*d+this.stride[1]*_):this.data[this.offset+this.stride[0]*d+this.stride[1]*_]},x.index=function(d,_){return this.offset+this.stride[0]*d+this.stride[1]*_},x.hi=function(d,_){return new S(this.data,typeof d!="number"||d<0?this.shape[0]:d|0,typeof _!="number"||_<0?this.shape[1]:_|0,this.stride[0],this.stride[1],this.offset)},x.lo=function(d,_){var g=this.offset,c=0,A=this.shape[0],v=this.shape[1],D=this.stride[0],E=this.stride[1];return typeof d=="number"&&d>=0&&(c=d|0,g+=D*c,A-=c),typeof _=="number"&&_>=0&&(c=_|0,g+=E*c,v-=c),new S(this.data,A,v,D,E,g)},x.step=function(d,_){var g=this.shape[0],c=this.shape[1],A=this.stride[0],v=this.stride[1],D=this.offset,E=0,R=Math.ceil;return typeof d=="number"&&(E=d|0,E<0?(D+=A*(g-1),g=R(-g/E)):g=R(g/E),A*=E),typeof _=="number"&&(E=_|0,E<0?(D+=v*(c-1),c=R(-c/E)):c=R(c/E),v*=E),new S(this.data,g,c,A,v,D)},x.transpose=function(d,_){d=d===void 0?0:d|0,_=_===void 0?1:_|0;var g=this.shape,c=this.stride;return new S(this.data,g[d],g[_],c[d],c[_],this.offset)},x.pick=function(d,_){var g=[],c=[],A=this.offset;typeof d=="number"&&d>=0?A=A+this.stride[0]*d|0:(g.push(this.shape[0]),c.push(this.stride[0])),typeof _=="number"&&_>=0?A=A+this.stride[1]*_|0:(g.push(this.shape[1]),c.push(this.stride[1]));var v=m[g.length+1];return v(this.data,g,c,A)},function(d,_,g,c){return new S(d,_[0],_[1],g[0],g[1],c)}},3:function(T,m,k){function S(M,d,_,g,c,A,v,D){this.data=M,this.shape=[d,_,g],this.stride=[c,A,v],this.offset=D|0}var x=S.prototype;return x.dtype=T,x.dimension=3,Object.defineProperty(x,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(x,"order",{get:function(){var d=Math.abs(this.stride[0]),_=Math.abs(this.stride[1]),g=Math.abs(this.stride[2]);return d>_?_>g?[2,1,0]:d>g?[1,2,0]:[1,0,2]:d>g?[2,0,1]:g>_?[0,1,2]:[0,2,1]}}),x.set=function(d,_,g,c){return T==="generic"?this.data.set(this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*g,c):this.data[this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*g]=c},x.get=function(d,_,g){return T==="generic"?this.data.get(this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*g):this.data[this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*g]},x.index=function(d,_,g){return this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*g},x.hi=function(d,_,g){return new S(this.data,typeof d!="number"||d<0?this.shape[0]:d|0,typeof _!="number"||_<0?this.shape[1]:_|0,typeof g!="number"||g<0?this.shape[2]:g|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},x.lo=function(d,_,g){var c=this.offset,A=0,v=this.shape[0],D=this.shape[1],E=this.shape[2],R=this.stride[0],N=this.stride[1],F=this.stride[2];return typeof d=="number"&&d>=0&&(A=d|0,c+=R*A,v-=A),typeof _=="number"&&_>=0&&(A=_|0,c+=N*A,D-=A),typeof g=="number"&&g>=0&&(A=g|0,c+=F*A,E-=A),new S(this.data,v,D,E,R,N,F,c)},x.step=function(d,_,g){var c=this.shape[0],A=this.shape[1],v=this.shape[2],D=this.stride[0],E=this.stride[1],R=this.stride[2],N=this.offset,F=0,I=Math.ceil;return typeof d=="number"&&(F=d|0,F<0?(N+=D*(c-1),c=I(-c/F)):c=I(c/F),D*=F),typeof _=="number"&&(F=_|0,F<0?(N+=E*(A-1),A=I(-A/F)):A=I(A/F),E*=F),typeof g=="number"&&(F=g|0,F<0?(N+=R*(v-1),v=I(-v/F)):v=I(v/F),R*=F),new S(this.data,c,A,v,D,E,R,N)},x.transpose=function(d,_,g){d=d===void 0?0:d|0,_=_===void 0?1:_|0,g=g===void 0?2:g|0;var c=this.shape,A=this.stride;return new S(this.data,c[d],c[_],c[g],A[d],A[_],A[g],this.offset)},x.pick=function(d,_,g){var c=[],A=[],v=this.offset;typeof d=="number"&&d>=0?v=v+this.stride[0]*d|0:(c.push(this.shape[0]),A.push(this.stride[0])),typeof _=="number"&&_>=0?v=v+this.stride[1]*_|0:(c.push(this.shape[1]),A.push(this.stride[1])),typeof g=="number"&&g>=0?v=v+this.stride[2]*g|0:(c.push(this.shape[2]),A.push(this.stride[2]));var D=m[c.length+1];return D(this.data,c,A,v)},function(d,_,g,c){return new S(d,_[0],_[1],_[2],g[0],g[1],g[2],c)}},4:function(T,m,k){function S(M,d,_,g,c,A,v,D,E,R){this.data=M,this.shape=[d,_,g,c],this.stride=[A,v,D,E],this.offset=R|0}var x=S.prototype;return x.dtype=T,x.dimension=4,Object.defineProperty(x,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(x,"order",{get:k}),x.set=function(d,_,g,c,A){return T==="generic"?this.data.set(this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*g+this.stride[3]*c,A):this.data[this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*g+this.stride[3]*c]=A},x.get=function(d,_,g,c){return T==="generic"?this.data.get(this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*g+this.stride[3]*c):this.data[this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*g+this.stride[3]*c]},x.index=function(d,_,g,c){return this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*g+this.stride[3]*c},x.hi=function(d,_,g,c){return new S(this.data,typeof d!="number"||d<0?this.shape[0]:d|0,typeof _!="number"||_<0?this.shape[1]:_|0,typeof g!="number"||g<0?this.shape[2]:g|0,typeof c!="number"||c<0?this.shape[3]:c|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},x.lo=function(d,_,g,c){var A=this.offset,v=0,D=this.shape[0],E=this.shape[1],R=this.shape[2],N=this.shape[3],F=this.stride[0],I=this.stride[1],L=this.stride[2],P=this.stride[3];return typeof d=="number"&&d>=0&&(v=d|0,A+=F*v,D-=v),typeof _=="number"&&_>=0&&(v=_|0,A+=I*v,E-=v),typeof g=="number"&&g>=0&&(v=g|0,A+=L*v,R-=v),typeof c=="number"&&c>=0&&(v=c|0,A+=P*v,N-=v),new S(this.data,D,E,R,N,F,I,L,P,A)},x.step=function(d,_,g,c){var A=this.shape[0],v=this.shape[1],D=this.shape[2],E=this.shape[3],R=this.stride[0],N=this.stride[1],F=this.stride[2],I=this.stride[3],L=this.offset,P=0,O=Math.ceil;return typeof d=="number"&&(P=d|0,P<0?(L+=R*(A-1),A=O(-A/P)):A=O(A/P),R*=P),typeof _=="number"&&(P=_|0,P<0?(L+=N*(v-1),v=O(-v/P)):v=O(v/P),N*=P),typeof g=="number"&&(P=g|0,P<0?(L+=F*(D-1),D=O(-D/P)):D=O(D/P),F*=P),typeof c=="number"&&(P=c|0,P<0?(L+=I*(E-1),E=O(-E/P)):E=O(E/P),I*=P),new S(this.data,A,v,D,E,R,N,F,I,L)},x.transpose=function(d,_,g,c){d=d===void 0?0:d|0,_=_===void 0?1:_|0,g=g===void 0?2:g|0,c=c===void 0?3:c|0;var A=this.shape,v=this.stride;return new S(this.data,A[d],A[_],A[g],A[c],v[d],v[_],v[g],v[c],this.offset)},x.pick=function(d,_,g,c){var A=[],v=[],D=this.offset;typeof d=="number"&&d>=0?D=D+this.stride[0]*d|0:(A.push(this.shape[0]),v.push(this.stride[0])),typeof _=="number"&&_>=0?D=D+this.stride[1]*_|0:(A.push(this.shape[1]),v.push(this.stride[1])),typeof g=="number"&&g>=0?D=D+this.stride[2]*g|0:(A.push(this.shape[2]),v.push(this.stride[2])),typeof c=="number"&&c>=0?D=D+this.stride[3]*c|0:(A.push(this.shape[3]),v.push(this.stride[3]));var E=m[A.length+1];return E(this.data,A,v,D)},function(d,_,g,c){return new S(d,_[0],_[1],_[2],_[3],g[0],g[1],g[2],g[3],c)}},5:function(m,k,S){function x(d,_,g,c,A,v,D,E,R,N,F,I){this.data=d,this.shape=[_,g,c,A,v],this.stride=[D,E,R,N,F],this.offset=I|0}var M=x.prototype;return M.dtype=m,M.dimension=5,Object.defineProperty(M,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(M,"order",{get:S}),M.set=function(_,g,c,A,v,D){return m==="generic"?this.data.set(this.offset+this.stride[0]*_+this.stride[1]*g+this.stride[2]*c+this.stride[3]*A+this.stride[4]*v,D):this.data[this.offset+this.stride[0]*_+this.stride[1]*g+this.stride[2]*c+this.stride[3]*A+this.stride[4]*v]=D},M.get=function(_,g,c,A,v){return m==="generic"?this.data.get(this.offset+this.stride[0]*_+this.stride[1]*g+this.stride[2]*c+this.stride[3]*A+this.stride[4]*v):this.data[this.offset+this.stride[0]*_+this.stride[1]*g+this.stride[2]*c+this.stride[3]*A+this.stride[4]*v]},M.index=function(_,g,c,A,v){return this.offset+this.stride[0]*_+this.stride[1]*g+this.stride[2]*c+this.stride[3]*A+this.stride[4]*v},M.hi=function(_,g,c,A,v){return new x(this.data,typeof _!="number"||_<0?this.shape[0]:_|0,typeof g!="number"||g<0?this.shape[1]:g|0,typeof c!="number"||c<0?this.shape[2]:c|0,typeof A!="number"||A<0?this.shape[3]:A|0,typeof v!="number"||v<0?this.shape[4]:v|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},M.lo=function(_,g,c,A,v){var D=this.offset,E=0,R=this.shape[0],N=this.shape[1],F=this.shape[2],I=this.shape[3],L=this.shape[4],P=this.stride[0],O=this.stride[1],U=this.stride[2],X=this.stride[3],$=this.stride[4];return typeof _=="number"&&_>=0&&(E=_|0,D+=P*E,R-=E),typeof g=="number"&&g>=0&&(E=g|0,D+=O*E,N-=E),typeof c=="number"&&c>=0&&(E=c|0,D+=U*E,F-=E),typeof A=="number"&&A>=0&&(E=A|0,D+=X*E,I-=E),typeof v=="number"&&v>=0&&(E=v|0,D+=$*E,L-=E),new x(this.data,R,N,F,I,L,P,O,U,X,$,D)},M.step=function(_,g,c,A,v){var D=this.shape[0],E=this.shape[1],R=this.shape[2],N=this.shape[3],F=this.shape[4],I=this.stride[0],L=this.stride[1],P=this.stride[2],O=this.stride[3],U=this.stride[4],X=this.offset,$=0,j=Math.ceil;return typeof _=="number"&&($=_|0,$<0?(X+=I*(D-1),D=j(-D/$)):D=j(D/$),I*=$),typeof g=="number"&&($=g|0,$<0?(X+=L*(E-1),E=j(-E/$)):E=j(E/$),L*=$),typeof c=="number"&&($=c|0,$<0?(X+=P*(R-1),R=j(-R/$)):R=j(R/$),P*=$),typeof A=="number"&&($=A|0,$<0?(X+=O*(N-1),N=j(-N/$)):N=j(N/$),O*=$),typeof v=="number"&&($=v|0,$<0?(X+=U*(F-1),F=j(-F/$)):F=j(F/$),U*=$),new x(this.data,D,E,R,N,F,I,L,P,O,U,X)},M.transpose=function(_,g,c,A,v){_=_===void 0?0:_|0,g=g===void 0?1:g|0,c=c===void 0?2:c|0,A=A===void 0?3:A|0,v=v===void 0?4:v|0;var D=this.shape,E=this.stride;return new x(this.data,D[_],D[g],D[c],D[A],D[v],E[_],E[g],E[c],E[A],E[v],this.offset)},M.pick=function(_,g,c,A,v){var D=[],E=[],R=this.offset;typeof _=="number"&&_>=0?R=R+this.stride[0]*_|0:(D.push(this.shape[0]),E.push(this.stride[0])),typeof g=="number"&&g>=0?R=R+this.stride[1]*g|0:(D.push(this.shape[1]),E.push(this.stride[1])),typeof c=="number"&&c>=0?R=R+this.stride[2]*c|0:(D.push(this.shape[2]),E.push(this.stride[2])),typeof A=="number"&&A>=0?R=R+this.stride[3]*A|0:(D.push(this.shape[3]),E.push(this.stride[3])),typeof v=="number"&&v>=0?R=R+this.stride[4]*v|0:(D.push(this.shape[4]),E.push(this.stride[4]));var N=k[D.length+1];return N(this.data,D,E,R)},function(_,g,c,A){return new x(_,g[0],g[1],g[2],g[3],g[4],c[0],c[1],c[2],c[3],c[4],A)}}};function p(T,m){var k=m===-1?"T":String(m),S=h[k];return m===-1?S(T):m===0?S(T,y[T][0]):S(T,y[T],f)}function b(T){if(l(T))return"buffer";if(u)switch(Object.prototype.toString.call(T)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(T)?"array":"generic"}var y={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function w(T,m,k,S){if(T===void 0){var c=y.array[0];return c([])}else typeof T=="number"&&(T=[T]);m===void 0&&(m=[T.length]);var x=m.length;if(k===void 0){k=new Array(x);for(var M=x-1,d=1;M>=0;--M)k[M]=d,d*=m[M]}if(S===void 0){S=0;for(var M=0;M<x;++M)k[M]<0&&(S-=(m[M]-1)*k[M])}for(var _=b(T),g=y[_];g.length<=x+1;)g.push(p(_,g.length-1));var c=g[x+1];return c(T,m,k,S)}a.exports=w},9921:function(a){a.exports=o;function o(i){var l=i[0],u=i[1],s=i[2],f=i[3],h=i[4],p=i[5],b=i[6],y=i[7],w=i[8],T=i[9],m=i[10],k=i[11],S=i[12],x=i[13],M=i[14],d=i[15],_=l*p-u*h,g=l*b-s*h,c=l*y-f*h,A=u*b-s*p,v=u*y-f*p,D=s*y-f*b,E=w*x-T*S,R=w*M-m*S,N=w*d-k*S,F=T*M-m*x,I=T*d-k*x,L=m*d-k*M;return _*L-g*I+c*F+A*N-v*R+D*E}},9922:function(a,o,i){a.exports=u;var l=i(2613);function u(s,f){var h=s[0],p=s[1],b=s[2],y=f[0],w=f[1],T=f[2];return Math.abs(h-y)<=l*Math.max(1,Math.abs(h),Math.abs(y))&&Math.abs(p-w)<=l*Math.max(1,Math.abs(p),Math.abs(w))&&Math.abs(b-T)<=l*Math.max(1,Math.abs(b),Math.abs(T))}},9970:function(a,o,i){a.exports={create:i(7536),clone:i(2335),fromValues:i(3390),copy:i(2933),set:i(4578),add:i(4361),subtract:i(6860),multiply:i(3576),divide:i(1373),min:i(2334),max:i(160),scale:i(9288),scaleAndAdd:i(4844),distance:i(4691),squaredDistance:i(7960),length:i(6808),squaredLength:i(483),negate:i(1498),inverse:i(4494),normalize:i(5177),dot:i(3750),lerp:i(2573),random:i(9131),transformMat4:i(5352),transformQuat:i(4041)}},9977:function(a,o,i){"use strict";a.exports=m;var l=i(9215),u=i(6582),s=i(7399),f=i(7608),h=i(4081);function p(k,S,x){return Math.sqrt(Math.pow(k,2)+Math.pow(S,2)+Math.pow(x,2))}function b(k,S,x,M){return Math.sqrt(Math.pow(k,2)+Math.pow(S,2)+Math.pow(x,2)+Math.pow(M,2))}function y(k,S){var x=S[0],M=S[1],d=S[2],_=S[3],g=b(x,M,d,_);g>1e-6?(k[0]=x/g,k[1]=M/g,k[2]=d/g,k[3]=_/g):(k[0]=k[1]=k[2]=0,k[3]=1)}function w(k,S,x){this.radius=l([x]),this.center=l(S),this.rotation=l(k),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var T=w.prototype;T.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},T.recalcMatrix=function(k){this.radius.curve(k),this.center.curve(k),this.rotation.curve(k);var S=this.computedRotation;y(S,S);var x=this.computedMatrix;s(x,S);var M=this.computedCenter,d=this.computedEye,_=this.computedUp,g=Math.exp(this.computedRadius[0]);d[0]=M[0]+g*x[2],d[1]=M[1]+g*x[6],d[2]=M[2]+g*x[10],_[0]=x[1],_[1]=x[5],_[2]=x[9];for(var c=0;c<3;++c){for(var A=0,v=0;v<3;++v)A+=x[c+4*v]*d[v];x[12+c]=-A}},T.getMatrix=function(k,S){this.recalcMatrix(k);var x=this.computedMatrix;if(S){for(var M=0;M<16;++M)S[M]=x[M];return S}return x},T.idle=function(k){this.center.idle(k),this.radius.idle(k),this.rotation.idle(k)},T.flush=function(k){this.center.flush(k),this.radius.flush(k),this.rotation.flush(k)},T.pan=function(k,S,x,M){S=S||0,x=x||0,M=M||0,this.recalcMatrix(k);var d=this.computedMatrix,_=d[1],g=d[5],c=d[9],A=p(_,g,c);_/=A,g/=A,c/=A;var v=d[0],D=d[4],E=d[8],R=v*_+D*g+E*c;v-=_*R,D-=g*R,E-=c*R;var N=p(v,D,E);v/=N,D/=N,E/=N;var F=d[2],I=d[6],L=d[10],P=F*_+I*g+L*c,O=F*v+I*D+L*E;F-=P*_+O*v,I-=P*g+O*D,L-=P*c+O*E;var U=p(F,I,L);F/=U,I/=U,L/=U;var X=v*S+_*x,$=D*S+g*x,j=E*S+c*x;this.center.move(k,X,$,j);var Y=Math.exp(this.computedRadius[0]);Y=Math.max(1e-4,Y+M),this.radius.set(k,Math.log(Y))},T.rotate=function(k,S,x,M){this.recalcMatrix(k),S=S||0,x=x||0;var d=this.computedMatrix,_=d[0],g=d[4],c=d[8],A=d[1],v=d[5],D=d[9],E=d[2],R=d[6],N=d[10],F=S*_+x*A,I=S*g+x*v,L=S*c+x*D,P=-(R*L-N*I),O=-(N*F-E*L),U=-(E*I-R*F),X=Math.sqrt(Math.max(0,1-Math.pow(P,2)-Math.pow(O,2)-Math.pow(U,2))),$=b(P,O,U,X);$>1e-6?(P/=$,O/=$,U/=$,X/=$):(P=O=U=0,X=1);var j=this.computedRotation,Y=j[0],q=j[1],Q=j[2],ae=j[3],K=Y*X+ae*P+q*U-Q*O,oe=q*X+ae*O+Q*P-Y*U,re=Q*X+ae*U+Y*O-q*P,V=ae*X-Y*P-q*O-Q*U;if(M){P=E,O=R,U=N;var ee=Math.sin(M)/p(P,O,U);P*=ee,O*=ee,U*=ee,X=Math.cos(S),K=K*X+V*P+oe*U-re*O,oe=oe*X+V*O+re*P-K*U,re=re*X+V*U+K*O-oe*P,V=V*X-K*P-oe*O-re*U}var H=b(K,oe,re,V);H>1e-6?(K/=H,oe/=H,re/=H,V/=H):(K=oe=re=0,V=1),this.rotation.set(k,K,oe,re,V)},T.lookAt=function(k,S,x,M){this.recalcMatrix(k),x=x||this.computedCenter,S=S||this.computedEye,M=M||this.computedUp;var d=this.computedMatrix;u(d,S,x,M);var _=this.computedRotation;h(_,d[0],d[1],d[2],d[4],d[5],d[6],d[8],d[9],d[10]),y(_,_),this.rotation.set(k,_[0],_[1],_[2],_[3]);for(var g=0,c=0;c<3;++c)g+=Math.pow(x[c]-S[c],2);this.radius.set(k,.5*Math.log(Math.max(g,1e-6))),this.center.set(k,x[0],x[1],x[2])},T.translate=function(k,S,x,M){this.center.move(k,S||0,x||0,M||0)},T.setMatrix=function(k,S){var x=this.computedRotation;h(x,S[0],S[1],S[2],S[4],S[5],S[6],S[8],S[9],S[10]),y(x,x),this.rotation.set(k,x[0],x[1],x[2],x[3]);var M=this.computedMatrix;f(M,S);var d=M[15];if(Math.abs(d)>1e-6){var _=M[12]/d,g=M[13]/d,c=M[14]/d;this.recalcMatrix(k);var A=Math.exp(this.computedRadius[0]);this.center.set(k,_-M[2]*A,g-M[6]*A,c-M[10]*A),this.radius.idle(k)}else this.center.idle(k),this.radius.idle(k)},T.setDistance=function(k,S){S>0&&this.radius.set(k,Math.log(S))},T.setDistanceLimits=function(k,S){k>0?k=Math.log(k):k=-1/0,S>0?S=Math.log(S):S=1/0,S=Math.max(S,k),this.radius.bounds[0][0]=k,this.radius.bounds[1][0]=S},T.getDistanceLimits=function(k){var S=this.radius.bounds;return k?(k[0]=Math.exp(S[0][0]),k[1]=Math.exp(S[1][0]),k):[Math.exp(S[0][0]),Math.exp(S[1][0])]},T.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},T.fromJSON=function(k){var S=this.lastT(),x=k.center;x&&this.center.set(S,x[0],x[1],x[2]);var M=k.rotation;M&&this.rotation.set(S,M[0],M[1],M[2],M[3]);var d=k.distance;d&&d>0&&this.radius.set(S,Math.log(d)),this.setDistanceLimits(k.zoomMin,k.zoomMax)};function m(k){k=k||{};var S=k.center||[0,0,0],x=k.rotation||[0,0,0,1],M=k.radius||1;S=[].slice.call(S,0,3),x=[].slice.call(x,0,4),y(x,x);var d=new w(x,S,Math.log(M));return d.setDistanceLimits(k.zoomMin,k.zoomMax),("eye"in k||"up"in k)&&d.lookAt(0,k.eye,k.center,k.up),d}},9994:function(a,o,i){"use strict";var l=i(9618),u=i(8277);a.exports=function(f,h){for(var p=[],b=f,y=1;Array.isArray(b);)p.push(b.length),y*=b.length,b=b[0];return p.length===0?l():(h||(h=l(new Float64Array(y),p)),u(h,f),h)}}},r={};function t(a){var o=r[a];if(o!==void 0)return o.exports;var i=r[a]={id:a,loaded:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}(function(){t.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(a){if(typeof window=="object")return window}}()})(),function(){t.nmd=function(a){return a.paths=[],a.children||(a.children=[]),a}}();var n=t(1964);PI.exports=n})()});var FI=de((Zde,II)=>{"use strict";II.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var OI=de((Jde,qI)=>{"use strict";var NI=FI();qI.exports=Tie;var zI={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function Tie(e){var r,t=[],n=1,a;if(typeof e=="string")if(e=e.toLowerCase(),NI[e])t=NI[e].slice(),a="rgb";else if(e==="transparent")n=0,a="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(e)){var o=e.slice(1),i=o.length,l=i<=4;n=1,l?(t=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],i===4&&(n=parseInt(o[3]+o[3],16)/255)):(t=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],i===8&&(n=parseInt(o[6]+o[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),a="rgb"}else if(r=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(e)){var u=r[1],s=u==="rgb",o=u.replace(/a$/,"");a=o;var i=o==="cmyk"?4:o==="gray"?1:3;t=r[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(p,b){if(/%$/.test(p))return b===i?parseFloat(p)/100:o==="rgb"?parseFloat(p)*255/100:parseFloat(p);if(o[b]==="h"){if(/deg$/.test(p))return parseFloat(p);if(zI[p]!==void 0)return zI[p]}return parseFloat(p)}),u===o&&t.push(1),n=s||t[i]===void 0?1:t[i],t=t.slice(0,i)}else e.length>10&&/[0-9](?:\s|\/)/.test(e)&&(t=e.match(/([0-9]+)/g).map(function(f){return parseFloat(f)}),a=e.match(/([a-z])/ig).join("").toLowerCase());else isNaN(e)?Array.isArray(e)||e.length?(t=[e[0],e[1],e[2]],a="rgb",n=e.length===4?e[3]:1):e instanceof Object&&(e.r!=null||e.red!=null||e.R!=null?(a="rgb",t=[e.r||e.red||e.R||0,e.g||e.green||e.G||0,e.b||e.blue||e.B||0]):(a="hsl",t=[e.h||e.hue||e.H||0,e.s||e.saturation||e.S||0,e.l||e.lightness||e.L||e.b||e.brightness]),n=e.a||e.alpha||e.opacity||1,e.opacity!=null&&(n/=100)):(a="rgb",t=[e>>>16,(e&65280)>>>8,e&255]);return{space:a,values:t,alpha:n}}});var UI=de((Kde,BI)=>{"use strict";var Aie=OI();BI.exports=function(r){Array.isArray(r)&&r.raw&&(r=String.raw.apply(null,arguments));var t,n,a,o=Aie(r);if(!o.space)return[];var i=[0,0,0],l=o.space[0]==="h"?[360,100,100]:[255,255,255];return t=Array(3),t[0]=Math.min(Math.max(o.values[0],i[0]),l[0]),t[1]=Math.min(Math.max(o.values[1],i[1]),l[1]),t[2]=Math.min(Math.max(o.values[2],i[2]),l[2]),o.space[0]==="h"&&(t=kie(t)),t.push(Math.min(Math.max(o.alpha,0),1)),t};function kie(e){var r=e[0]/360,t=e[1]/100,n=e[2]/100,a,o,i,l,u,s=0;if(t===0)return u=n*255,[u,u,u];for(o=n<.5?n*(1+t):n+t-n*t,a=2*n-o,l=[0,0,0];s<3;)i=r+1/3*-(s-1),i<0?i++:i>1&&i--,u=6*i<1?a+(o-a)*6*i:2*i<1?o:3*i<2?a+(o-a)*(2/3-i)*6:a,l[s++]=u*255;return l}});var VI=de((Qde,HI)=>{HI.exports=Sie;function Sie(e,r,t){return r<t?e<r?r:e>t?t:e:e<t?t:e>r?r:e}});var YI=de(($de,GI)=>{GI.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}});var R3=de((jde,WI)=>{"use strict";var Cie=UI(),hd=VI(),Eie=YI();WI.exports=function(r,t){(t==="float"||!t)&&(t="array"),t==="uint"&&(t="uint8"),t==="uint_clamped"&&(t="uint8_clamped");var n=Eie(t),a=new n(4),o=t!=="uint8"&&t!=="uint8_clamped";return(!r.length||typeof r=="string")&&(r=Cie(r),r[0]/=255,r[1]/=255,r[2]/=255),Lie(r)?(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3]!=null?r[3]:255,o&&(a[0]/=255,a[1]/=255,a[2]/=255,a[3]/=255),a):(o?(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3]!=null?r[3]:1):(a[0]=hd(Math.floor(r[0]*255),0,255),a[1]=hd(Math.floor(r[1]*255),0,255),a[2]=hd(Math.floor(r[2]*255),0,255),a[3]=r[3]==null?255:hd(Math.floor(r[3]*255),0,255)),a)};function Lie(e){return!!(e instanceof Uint8Array||e instanceof Uint8ClampedArray||Array.isArray(e)&&(e[0]>1||e[0]===0)&&(e[1]>1||e[1]===0)&&(e[2]>1||e[2]===0)&&(!e[3]||e[3]>1))}});var wo=de((epe,XI)=>{"use strict";var Die=R3();function Rie(e){return e?Die(e):[0,0,0,1]}XI.exports=Rie});var hl=de((rpe,eF)=>{"use strict";var $I=nt(),Pie=Sa(),vd=R3(),dd=Ri(),Iie=Si().defaultLine,ZI=ra().isArrayOrTypedArray,P3=vd(Iie),jI=1;function JI(e,r){var t=e;return t[3]*=r,t}function KI(e){if($I(e))return P3;var r=vd(e);return r.length?r:P3}function QI(e){return $I(e)?e:jI}function Fie(e,r,t){var n=e.color;n&&n._inputArray&&(n=n._inputArray);var a=ZI(n),o=ZI(r),i=dd.extractOpts(e),l=[],u,s,f,h,p;if(i.colorscale!==void 0?u=dd.makeColorScaleFuncFromTrace(e):u=KI,a?s=function(y,w){return y[w]===void 0?P3:vd(u(y[w]))}:s=KI,o?f=function(y,w){return y[w]===void 0?jI:QI(y[w])}:f=QI,a||o)for(var b=0;b<t;b++)h=s(n,b),p=f(r,b),l[b]=JI(h,p);else l=JI(vd(n),r);return l}function Nie(e){var r=dd.extractOpts(e),t=r.colorscale;return r.reversescale&&(t=dd.flipScale(r.colorscale)),t.map(function(n){var a=n[0],o=Pie(n[1]),i=o.toRgb();return{index:a,rgb:[i.r,i.g,i.b,i.a]}})}eF.exports={formatColor:Fie,parseColorScale:Nie}});var I3=de((tpe,rF)=>{"use strict";rF.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}});var pd=de((npe,tF)=>{"use strict";tF.exports={circle:"\u25CF","circle-open":"\u25CB",square:"\u25A0","square-open":"\u25A1",diamond:"\u25C6","diamond-open":"\u25C7",cross:"+",x:"\u274C"}});var aF=de((ape,nF)=>{"use strict";var zie=Er();function F3(e,r,t,n){if(!r||!r.visible)return null;for(var a=zie.getComponentMethod("errorbars","makeComputeError")(r),o=new Array(e.length),i=0;i<e.length;i++){var l=a(+e[i],i);if(n.type==="log"){var u=n.c2l(e[i]),s=e[i]-l[0],f=e[i]+l[1];if(o[i]=[(n.c2l(s,!0)-u)*t,(n.c2l(f,!0)-u)*t],s>0){var h=n.c2l(s);n._lowerLogErrorBound||(n._lowerLogErrorBound=h),n._lowerErrorBound=Math.min(n._lowerLogErrorBound,h)}}else o[i]=[-l[0]*t,l[1]*t]}return o}function qie(e){for(var r=0;r<e.length;r++)if(e[r])return e[r].length;return 0}function Oie(e,r,t){var n=[F3(e.x,e.error_x,r[0],t.xaxis),F3(e.y,e.error_y,r[1],t.yaxis),F3(e.z,e.error_z,r[2],t.zaxis)],a=qie(n);if(a===0)return null;for(var o=new Array(a),i=0;i<a;i++){for(var l=[[0,0,0],[0,0,0]],u=0;u<3;u++)if(n[u])for(var s=0;s<2;s++)l[s][u]=n[u][i][s];o[i]=l}return o}nF.exports=Oie});var vF=de((ipe,hF)=>{"use strict";var Bie=pn().gl_line3d,iF=pn().gl_scatter3d,Uie=pn().gl_error3d,Hie=pn().gl_mesh3d,Vie=pn().delaunay_triangulate,Mo=ir(),fF=wo(),gd=hl().formatColor,Gie=Rg(),N3=I3(),Yie=pd(),Wie=Lt(),Xie=so().appendArrayPointValue,Zie=aF();function cF(e,r){this.scene=e,this.uid=r,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var q3=cF.prototype;q3.handlePick=function(e){if(e.object&&(e.object===this.linePlot||e.object===this.delaunayMesh||e.object===this.textMarkers||e.object===this.scatterPlot)){var r=e.index=e.data.index;return e.object.highlight&&e.object.highlight(null),this.scatterPlot&&(e.object=this.scatterPlot,this.scatterPlot.highlight(e.data)),e.textLabel="",this.textLabels&&(Mo.isArrayOrTypedArray(this.textLabels)?(this.textLabels[r]||this.textLabels[r]===0)&&(e.textLabel=this.textLabels[r]):e.textLabel=this.textLabels),e.traceCoordinate=[this.data.x[r],this.data.y[r],this.data.z[r]],!0}};function Jie(e,r,t){var n=(t+1)%3,a=(t+2)%3,o=[],i=[],l;for(l=0;l<e.length;++l){var u=e[l];isNaN(u[n])||!isFinite(u[n])||isNaN(u[a])||!isFinite(u[a])||(o.push([u[n],u[a]]),i.push(l))}var s=Vie(o);for(l=0;l<s.length;++l)for(var f=s[l],h=0;h<f.length;++h)f[h]=i[f[h]];return{positions:e,cells:s,meshColor:r}}function Kie(e){for(var r=[0,0,0],t=[[0,0,0],[0,0,0],[0,0,0]],n=[1,1,1],a=0;a<3;a++){var o=e[a];o&&o.copy_zstyle!==!1&&e[2].visible!==!1&&(o=e[2]),!(!o||!o.visible)&&(r[a]=o.width/2,t[a]=fF(o.color),n[a]=o.thickness)}return{capSize:r,color:t,lineWidth:n}}function oF(e){return e==null?0:e.indexOf("left")>-1?-1:e.indexOf("right")>-1?1:0}function lF(e){return e==null?0:e.indexOf("top")>-1?-1:e.indexOf("bottom")>-1?1:0}function Qie(e){var r=0,t=0,n=[r,t];if(Array.isArray(e))for(var a=0;a<e.length;a++)n[a]=[r,t],e[a]&&(n[a][0]=oF(e[a]),n[a][1]=lF(e[a]));else n[0]=oF(e),n[1]=lF(e);return n}function $ie(e,r){return r(e*4)}function jie(e){return Yie[e]}function z3(e,r,t,n,a){var o=null;if(Mo.isArrayOrTypedArray(e)){o=[];for(var i=0;i<r;i++)e[i]===void 0?o[i]=n:o[i]=t(e[i],a)}else o=t(e,Mo.identity);return o}function eoe(e,r){var t=[],n=e.fullSceneLayout,a=e.dataScale,o=n.xaxis,i=n.yaxis,l=n.zaxis,u=r.marker,s=r.line,f=r.x||[],h=r.y||[],p=r.z||[],b=f.length,y=r.xcalendar,w=r.ycalendar,T=r.zcalendar,m,k,S,x,M,d;for(M=0;M<b;M++)m=o.d2l(f[M],0,y)*a[0],k=i.d2l(h[M],0,w)*a[1],S=l.d2l(p[M],0,T)*a[2],t[M]=[m,k,S];if(Array.isArray(r.text))d=r.text;else if(Mo.isTypedArray(r.text))d=Array.from(r.text);else if(r.text!==void 0)for(d=new Array(b),M=0;M<b;M++)d[M]=r.text;function _(U,X){var $=n[U];return Wie.tickText($,$.d2l(X),!0).text}var g=r.texttemplate;if(g){var c=e.fullLayout,A=c._d3locale,v=Array.isArray(g),D=v?Math.min(g.length,b):b,E=v?function(U){return g[U]}:function(){return g};for(d=new Array(D),M=0;M<D;M++){var R={x:f[M],y:h[M],z:p[M]},N={xLabel:_("xaxis",f[M]),yLabel:_("yaxis",h[M]),zLabel:_("zaxis",p[M])},F={};Xie(F,r,M),d[M]=Mo.texttemplateString({data:[F,R,r._meta],fallback:r.texttemplatefallback,labels:N,locale:A,template:E(M)})}}if(x={position:t,mode:r.mode,text:d},"line"in r&&(x.lineColor=gd(s,1,b),x.lineWidth=s.width,x.lineDashes=s.dash),"marker"in r){var I=Gie(r);x.scatterColor=gd(u,1,b),x.scatterSize=z3(u.size,b,$ie,20,I),x.scatterMarker=z3(u.symbol,b,jie,"\u25CF"),x.scatterLineWidth=u.line.width,x.scatterLineColor=gd(u.line,1,b),x.scatterAngle=0}"textposition"in r&&(x.textOffset=Qie(r.textposition),x.textColor=gd(r.textfont,1,b),x.textSize=z3(r.textfont.size,b,Mo.identity,12),x.textFontFamily=r.textfont.family,x.textFontWeight=r.textfont.weight,x.textFontStyle=r.textfont.style,x.textFontVariant=r.textfont.variant,x.textAngle=0);var L=["x","y","z"];for(x.project=[!1,!1,!1],x.projectScale=[1,1,1],x.projectOpacity=[1,1,1],M=0;M<3;++M){var P=r.projection[L[M]];(x.project[M]=P.show)&&(x.projectOpacity[M]=P.opacity,x.projectScale[M]=P.scale)}x.errorBounds=Zie(r,a,n);var O=Kie([r.error_x,r.error_y,r.error_z]);return x.errorColor=O.color,x.errorLineWidth=O.lineWidth,x.errorCapSize=O.capSize,x.delaunayAxis=r.surfaceaxis,x.delaunayColor=fF(r.surfacecolor),x}function sF(e){if(Mo.isArrayOrTypedArray(e)){var r=e[0];return Mo.isArrayOrTypedArray(r)&&(e=r),"rgb("+e.slice(0,3).map(function(t){return Math.round(t*255)})+")"}return null}function uF(e){return Mo.isArrayOrTypedArray(e)?e.length===4&&typeof e[0]=="number"?sF(e):e.map(sF):null}q3.update=function(e){var r=this.scene.glplot.gl,t,n,a,o,i=N3.solid;this.data=e;var l=eoe(this.scene,e);"mode"in l&&(this.mode=l.mode),"lineDashes"in l&&l.lineDashes in N3&&(i=N3[l.lineDashes]),this.color=uF(l.scatterColor)||uF(l.lineColor),this.dataPoints=l.position,t={gl:this.scene.glplot.gl,position:l.position,color:l.lineColor,lineWidth:l.lineWidth||1,dashes:i[0],dashScale:i[1],opacity:e.opacity,connectGaps:e.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(t):(this.linePlot=Bie(t),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var u=e.opacity;if(e.marker&&e.marker.opacity!==void 0&&(u*=e.marker.opacity),n={gl:this.scene.glplot.gl,position:l.position,color:l.scatterColor,size:l.scatterSize,glyph:l.scatterMarker,opacity:u,orthographic:!0,lineWidth:l.scatterLineWidth,lineColor:l.scatterLineColor,project:l.project,projectScale:l.projectScale,projectOpacity:l.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(n):(this.scatterPlot=iF(n),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),o={gl:this.scene.glplot.gl,position:l.position,glyph:l.text,color:l.textColor,size:l.textSize,angle:l.textAngle,alignment:l.textOffset,font:l.textFontFamily,fontWeight:l.textFontWeight,fontStyle:l.textFontStyle,fontVariant:l.textFontVariant,orthographic:!0,lineWidth:0,project:!1,opacity:e.opacity},this.textLabels=e.hovertext||e.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(o):(this.textMarkers=iF(o),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),a={gl:this.scene.glplot.gl,position:l.position,color:l.errorColor,error:l.errorBounds,lineWidth:l.errorLineWidth,capSize:l.errorCapSize,opacity:e.opacity},this.errorBars?l.errorBounds?this.errorBars.update(a):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):l.errorBounds&&(this.errorBars=Uie(a),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),l.delaunayAxis>=0){var s=Jie(l.position,l.delaunayColor,l.delaunayAxis);s.opacity=e.opacity,this.delaunayMesh?this.delaunayMesh.update(s):(s.gl=r,this.delaunayMesh=Hie(s),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)};q3.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function roe(e,r){var t=new cF(e,r.uid);return t.update(r),t}hF.exports=roe});var V3=de((ope,yF)=>{"use strict";var To=ss(),toe=kn(),H3=ni(),O3=lo().axisHoverFormat,{hovertemplateAttrs:noe,texttemplateAttrs:aoe,templatefallbackAttrs:dF}=ja(),pF=Sn(),ioe=I3(),ooe=pd(),xi=Tt().extendFlat,loe=qn().overrideAll,gF=nh(),soe=To.line,bs=To.marker,uoe=bs.line,foe=xi({width:soe.width,dash:{valType:"enumerated",values:gF(ioe),dflt:"solid"}},H3("line"));function B3(e){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}}var U3=yF.exports=loe({x:To.x,y:To.y,z:{valType:"data_array"},text:xi({},To.text,{}),texttemplate:aoe(),texttemplatefallback:dF({editType:"calc"}),hovertext:xi({},To.hovertext,{}),hovertemplate:noe(),hovertemplatefallback:dF(),xhoverformat:O3("x"),yhoverformat:O3("y"),zhoverformat:O3("z"),mode:xi({},To.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:B3("x"),y:B3("y"),z:B3("z")},connectgaps:To.connectgaps,line:foe,marker:xi({symbol:{valType:"enumerated",values:gF(ooe),dflt:"circle",arrayOk:!0},size:xi({},bs.size,{dflt:8}),sizeref:bs.sizeref,sizemin:bs.sizemin,sizemode:bs.sizemode,opacity:xi({},bs.opacity,{arrayOk:!1}),colorbar:bs.colorbar,line:xi({width:xi({},uoe.width,{arrayOk:!1})},H3("marker.line"))},H3("marker")),textposition:xi({},To.textposition,{dflt:"top center"}),textfont:toe({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),opacity:pF.opacity,hoverinfo:xi({},pF.hoverinfo)},"calc","nested");U3.x.editType=U3.y.editType=U3.z.editType="calc+clearAxisTypes"});var bF=de((lpe,xF)=>{"use strict";var mF=Er(),coe=ir(),G3=la(),hoe=lm(),voe=sm(),doe=um(),poe=V3();xF.exports=function(r,t,n,a){function o(b,y){return coe.coerce(r,t,poe,b,y)}var i=goe(r,t,o,a);if(!i){t.visible=!1;return}o("text"),o("hovertext"),o("hovertemplate"),o("hovertemplatefallback"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),o("mode"),G3.hasMarkers(t)&&hoe(r,t,n,a,o,{noAngle:!0,noLineDash:!0,noSelect:!0}),G3.hasLines(t)&&(o("connectgaps"),voe(r,t,n,a,o)),G3.hasText(t)&&(o("texttemplate"),o("texttemplatefallback"),doe(r,t,a,o,{noSelect:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var l=(t.line||{}).color,u=(t.marker||{}).color;o("surfaceaxis")>=0&&o("surfacecolor",l||u);for(var s=["x","y","z"],f=0;f<3;++f){var h="projection."+s[f];o(h+".show")&&(o(h+".opacity"),o(h+".scale"))}var p=mF.getComponentMethod("errorbars","supplyDefaults");p(r,t,l||u||n,{axis:"z"}),p(r,t,l||u||n,{axis:"y",inherit:"z"}),p(r,t,l||u||n,{axis:"x",inherit:"z"})};function goe(e,r,t,n){var a=0,o=t("x"),i=t("y"),l=t("z"),u=mF.getComponentMethod("calendars","handleTraceDefaults");return u(e,r,["x","y","z"],n),o&&i&&l&&(a=Math.min(o.length,i.length,l.length),r._length=r._xlength=r._ylength=r._zlength=a),a}});var wF=de((spe,_F)=>{"use strict";var yoe=T1(),moe=hm();_F.exports=function(r,t){var n=[{x:!1,y:!1,trace:t,t:{}}];return yoe(n,t),moe(r,t),n}});var TF=de((upe,MF)=>{MF.exports=xoe;function xoe(e,r){if(typeof e!="string")throw new TypeError("must specify type string");if(r=r||{},typeof document=="undefined"&&!r.canvas)return null;var t=r.canvas||document.createElement("canvas");typeof r.width=="number"&&(t.width=r.width),typeof r.height=="number"&&(t.height=r.height);var n=r,a;try{var o=[e];e.indexOf("webgl")===0&&o.push("experimental-"+e);for(var i=0;i<o.length;i++)if(a=t.getContext(o[i],n),a)return a}catch(l){a=null}return a||null}});var kF=de((fpe,AF)=>{var boe=TF();AF.exports=function(r){return boe("webgl",r)}});var EF=de((cpe,CF)=>{"use strict";var SF=Xr(),_oe=function(){};CF.exports=function(r){for(var t in r)typeof r[t]=="function"&&(r[t]=_oe);r.destroy=function(){r.container.parentNode.removeChild(r.container)};var n=document.createElement("div");n.className="no-webgl",n.style.cursor="pointer",n.style.fontSize="24px",n.style.color=SF.defaults[0],n.style.position="absolute",n.style.left=n.style.top="0px",n.style.width=n.style.height="100%",n.style["background-color"]=SF.lightLine,n.style["z-index"]=30;var a=document.createElement("p");return a.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",a.style.position="relative",a.style.top="50%",a.style.left="50%",a.style.height="30%",a.style.width="50%",a.style.margin="-15% 0 0 -25%",n.appendChild(a),r.container.appendChild(n),r.container.style.background="#FFFFFF",r.container.onclick=function(){window.open("https://get.webgl.org")},!1}});var RF=de((hpe,DF)=>{"use strict";var _s=wo(),woe=ir(),Moe=["xaxis","yaxis","zaxis"];function LF(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickFontWeight=["normal","normal","normal","normal"],this.tickFontStyle=["normal","normal","normal","normal"],this.tickFontVariant=["normal","normal","normal","normal"],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelFontWeight=["normal","normal","normal","normal"],this.labelFontStyle=["normal","normal","normal","normal"],this.labelFontVariant=["normal","normal","normal","normal"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var Toe=LF.prototype;Toe.merge=function(e,r){for(var t=this,n=0;n<3;++n){var a=r[Moe[n]];if(!a.visible){t.tickEnable[n]=!1,t.labelEnable[n]=!1,t.lineEnable[n]=!1,t.lineTickEnable[n]=!1,t.gridEnable[n]=!1,t.zeroEnable[n]=!1,t.backgroundEnable[n]=!1;continue}t.labels[n]=e._meta?woe.templateString(a.title.text,e._meta):a.title.text,"font"in a.title&&(a.title.font.color&&(t.labelColor[n]=_s(a.title.font.color)),a.title.font.family&&(t.labelFont[n]=a.title.font.family),a.title.font.size&&(t.labelSize[n]=a.title.font.size),a.title.font.weight&&(t.labelFontWeight[n]=a.title.font.weight),a.title.font.style&&(t.labelFontStyle[n]=a.title.font.style),a.title.font.variant&&(t.labelFontVariant[n]=a.title.font.variant)),"showline"in a&&(t.lineEnable[n]=a.showline),"linecolor"in a&&(t.lineColor[n]=_s(a.linecolor)),"linewidth"in a&&(t.lineWidth[n]=a.linewidth),"showgrid"in a&&(t.gridEnable[n]=a.showgrid),"gridcolor"in a&&(t.gridColor[n]=_s(a.gridcolor)),"gridwidth"in a&&(t.gridWidth[n]=a.gridwidth),a.type==="log"?t.zeroEnable[n]=!1:"zeroline"in a&&(t.zeroEnable[n]=a.zeroline),"zerolinecolor"in a&&(t.zeroLineColor[n]=_s(a.zerolinecolor)),"zerolinewidth"in a&&(t.zeroLineWidth[n]=a.zerolinewidth),"ticks"in a&&a.ticks?t.lineTickEnable[n]=!0:t.lineTickEnable[n]=!1,"ticklen"in a&&(t.lineTickLength[n]=t._defaultLineTickLength[n]=a.ticklen),"tickcolor"in a&&(t.lineTickColor[n]=_s(a.tickcolor)),"tickwidth"in a&&(t.lineTickWidth[n]=a.tickwidth),"tickangle"in a&&(t.tickAngle[n]=a.tickangle==="auto"?-3600:Math.PI*-a.tickangle/180),"showticklabels"in a&&(t.tickEnable[n]=a.showticklabels),"tickfont"in a&&(a.tickfont.color&&(t.tickColor[n]=_s(a.tickfont.color)),a.tickfont.family&&(t.tickFont[n]=a.tickfont.family),a.tickfont.size&&(t.tickSize[n]=a.tickfont.size),a.tickfont.weight&&(t.tickFontWeight[n]=a.tickfont.weight),a.tickfont.style&&(t.tickFontStyle[n]=a.tickfont.style),a.tickfont.variant&&(t.tickFontVariant[n]=a.tickfont.variant)),"mirror"in a?["ticks","all","allticks"].indexOf(a.mirror)!==-1?(t.lineTickMirror[n]=!0,t.lineMirror[n]=!0):a.mirror===!0?(t.lineTickMirror[n]=!1,t.lineMirror[n]=!0):(t.lineTickMirror[n]=!1,t.lineMirror[n]=!1):t.lineMirror[n]=!1,"showbackground"in a&&a.showbackground!==!1?(t.backgroundEnable[n]=!0,t.backgroundColor[n]=_s(a.backgroundcolor)):t.backgroundEnable[n]=!1}};function Aoe(e,r){var t=new LF;return t.merge(e,r),t}DF.exports=Aoe});var FF=de((vpe,IF)=>{"use strict";var koe=wo(),Soe=["xaxis","yaxis","zaxis"];function PF(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var Coe=PF.prototype;Coe.merge=function(e){for(var r=0;r<3;++r){var t=e[Soe[r]];if(!t.visible){this.enabled[r]=!1,this.drawSides[r]=!1;continue}this.enabled[r]=t.showspikes,this.colors[r]=koe(t.spikecolor),this.drawSides[r]=t.spikesides,this.lineWidth[r]=t.spikethickness}};function Eoe(e){var r=new PF;return r.merge(e),r}IF.exports=Eoe});var qF=de((dpe,zF)=>{"use strict";zF.exports=Ioe;var NF=Lt(),Loe=ir(),Doe=["xaxis","yaxis","zaxis"],Roe=[0,0,0];function Poe(e){for(var r=new Array(3),t=0;t<3;++t){for(var n=e[t],a=new Array(n.length),o=0;o<n.length;++o)a[o]=n[o].x;r[t]=a}return r}function Ioe(e){for(var r=e.axesOptions,t=e.glplot.axesPixels,n=e.fullSceneLayout,a=[[],[],[]],o=0;o<3;++o){var i=n[Doe[o]];if(i._length=(t[o].hi-t[o].lo)*t[o].pixelsPerDataUnit/e.dataScale[o],Math.abs(i._length)===1/0||isNaN(i._length))a[o]=[];else{i._input_range=i.range.slice(),i.range[0]=t[o].lo/e.dataScale[o],i.range[1]=t[o].hi/e.dataScale[o],i._m=1/(e.dataScale[o]*t[o].pixelsPerDataUnit),i.range[0]===i.range[1]&&(i.range[0]-=1,i.range[1]+=1);var l=i.tickmode;if(i.tickmode==="auto"){i.tickmode="linear";var u=i.nticks||Loe.constrain(i._length/40,4,9);NF.autoTicks(i,Math.abs(i.range[1]-i.range[0])/u)}for(var s=NF.calcTicks(i,{msUTC:!0}),f=0;f<s.length;++f)s[f].x=s[f].x*e.dataScale[o],i.type==="date"&&(s[f].text=s[f].text.replace(/\<br\>/g," "));a[o]=s,i.tickmode=l}}r.ticks=a;for(var o=0;o<3;++o){Roe[o]=.5*(e.glplot.bounds[0][o]+e.glplot.bounds[1][o]);for(var f=0;f<2;++f)r.bounds[f][o]=e.glplot.bounds[f][o]}e.contourLevels=Poe(a)}});var YF=de((ppe,GF)=>{"use strict";var UF=pn().gl_plot3d,Foe=UF.createCamera,OF=UF.createScene,Noe=kF(),zoe=iv(),xd=Er(),Kn=ir(),md=Kn.preserveDrawingBuffer(),bd=Lt(),bi=fo(),qoe=wo(),Ooe=EF(),Boe=Jm(),Uoe=RF(),Hoe=FF(),Voe=qF(),Goe=uu().applyAutorangeOptions,Jc,yd,HF=!1;function VF(e,r){var t=document.createElement("div"),n=e.container;this.graphDiv=e.graphDiv;var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.style.position="absolute",a.style.top=a.style.left="0px",a.style.width=a.style.height="100%",a.style["z-index"]=20,a.style["pointer-events"]="none",t.appendChild(a),this.svgContainer=a,t.id=e.id,t.style.position="absolute",t.style.top=t.style.left="0px",t.style.width=t.style.height="100%",n.appendChild(t),this.fullLayout=r,this.id=e.id||"scene",this.fullSceneLayout=r[this.id],this.plotArgs=[[],{},{}],this.axesOptions=Uoe(r,r[this.id]),this.spikeOptions=Hoe(r[this.id]),this.container=t,this.staticMode=!!e.staticPlot,this.pixelRatio=this.pixelRatio||e.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=xd.getComponentMethod("annotations3d","convert"),this.drawAnnotations=xd.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var Rn=VF.prototype;Rn.prepareOptions=function(){var e=this,r={canvas:e.canvas,gl:e.gl,glOptions:{preserveDrawingBuffer:md,premultipliedAlpha:!0,antialias:!0},container:e.container,axes:e.axesOptions,spikes:e.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:e.camera,pixelRatio:e.pixelRatio};if(e.staticMode){if(!yd&&(Jc=document.createElement("canvas"),yd=Noe({canvas:Jc,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!yd))throw new Error("error creating static canvas/context for image server");r.gl=yd,r.canvas=Jc}return r};var BF=!0;Rn.tryCreatePlot=function(){var e=this,r=e.prepareOptions(),t=!0;try{e.glplot=OF(r)}catch(n){if(e.staticMode||!BF||md)t=!1;else{Kn.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{md=r.glOptions.preserveDrawingBuffer=!0,e.glplot=OF(r)}catch(a){md=r.glOptions.preserveDrawingBuffer=!1,t=!1}}}return BF=!1,t};Rn.initializeGLCamera=function(){var e=this,r=e.fullSceneLayout.camera,t=r.projection.type==="orthographic";e.camera=Foe(e.container,{center:[r.center.x,r.center.y,r.center.z],eye:[r.eye.x,r.eye.y,r.eye.z],up:[r.up.x,r.up.y,r.up.z],_ortho:t,zoomMin:.01,zoomMax:100,mode:"orbit"})};Rn.initializeGLPlot=function(){var e=this;e.initializeGLCamera();var r=e.tryCreatePlot();if(!r)return Ooe(e);e.traces={},e.make4thDimension();var t=e.graphDiv,n=t.layout,a=function(){var i={};return e.isCameraChanged(n)&&(i[e.id+".camera"]=e.getCamera()),e.isAspectChanged(n)&&(i[e.id+".aspectratio"]=e.glplot.getAspectratio(),n[e.id].aspectmode!=="manual"&&(e.fullSceneLayout.aspectmode=n[e.id].aspectmode=i[e.id+".aspectmode"]="manual")),i},o=function(i){if(i.fullSceneLayout.dragmode!==!1){var l=a();i.saveLayout(n),i.graphDiv.emit("plotly_relayout",l)}};return e.glplot.canvas&&(e.glplot.canvas.addEventListener("mouseup",function(){o(e)}),e.glplot.canvas.addEventListener("touchstart",function(){HF=!0}),e.glplot.canvas.addEventListener("wheel",function(i){if(t._context._scrollZoom.gl3d){if(e.camera._ortho){var l=i.deltaX>i.deltaY?1.1:.9090909090909091,u=e.glplot.getAspectratio();e.glplot.setAspectratio({x:l*u.x,y:l*u.y,z:l*u.z})}o(e)}},zoe?{passive:!1}:!1),e.glplot.canvas.addEventListener("mousemove",function(){if(e.fullSceneLayout.dragmode!==!1&&e.camera.mouseListener.buttons!==0){var i=a();e.graphDiv.emit("plotly_relayouting",i)}}),e.staticMode||e.glplot.canvas.addEventListener("webglcontextlost",function(i){t&&t.emit&&t.emit("plotly_webglcontextlost",{event:i,layer:e.id})},!1)),e.glplot.oncontextloss=function(){e.recoverContext()},e.glplot.onrender=function(){e.render()},!0};Rn.render=function(){var e=this,r=e.graphDiv,t,n=e.svgContainer,a=e.container.getBoundingClientRect();r._fullLayout._calcInverseTransform(r);var o=r._fullLayout._invScaleX,i=r._fullLayout._invScaleY,l=a.width*o,u=a.height*i;n.setAttributeNS(null,"viewBox","0 0 "+l+" "+u),n.setAttributeNS(null,"width",l),n.setAttributeNS(null,"height",u),Voe(e),e.glplot.axes.update(e.axesOptions);for(var s=Object.keys(e.traces),f=null,h=e.glplot.selection,p=0;p<s.length;++p)t=e.traces[s[p]],t.data.hoverinfo!=="skip"&&t.handlePick(h)&&(f=t),t.setContourLevels&&t.setContourLevels();function b(A,v,D){var E=e.fullSceneLayout[A+"axis"];return E.type!=="log"&&(v=E.d2l(v)),bd.hoverLabelText(E,v,D)}if(f!==null){var y=Boe(e.glplot.cameraParams,h.dataCoordinate);t=f.data;var w=r._fullData[t.index],T=h.index,m={xLabel:b("x",h.traceCoordinate[0],t.xhoverformat),yLabel:b("y",h.traceCoordinate[1],t.yhoverformat),zLabel:b("z",h.traceCoordinate[2],t.zhoverformat)},k=bi.castHoverinfo(w,e.fullLayout,T),S=(k||"").split("+"),x=k&&k==="all";!w.hovertemplate&&!x&&(S.indexOf("x")===-1&&(m.xLabel=void 0),S.indexOf("y")===-1&&(m.yLabel=void 0),S.indexOf("z")===-1&&(m.zLabel=void 0),S.indexOf("text")===-1&&(h.textLabel=void 0),S.indexOf("name")===-1&&(f.name=void 0));var M,d=[];t.type==="cone"||t.type==="streamtube"?(m.uLabel=b("x",h.traceCoordinate[3],t.uhoverformat),(x||S.indexOf("u")!==-1)&&d.push("u: "+m.uLabel),m.vLabel=b("y",h.traceCoordinate[4],t.vhoverformat),(x||S.indexOf("v")!==-1)&&d.push("v: "+m.vLabel),m.wLabel=b("z",h.traceCoordinate[5],t.whoverformat),(x||S.indexOf("w")!==-1)&&d.push("w: "+m.wLabel),m.normLabel=h.traceCoordinate[6].toPrecision(3),(x||S.indexOf("norm")!==-1)&&d.push("norm: "+m.normLabel),t.type==="streamtube"&&(m.divergenceLabel=h.traceCoordinate[7].toPrecision(3),(x||S.indexOf("divergence")!==-1)&&d.push("divergence: "+m.divergenceLabel)),h.textLabel&&d.push(h.textLabel),M=d.join("<br>")):t.type==="isosurface"||t.type==="volume"?(m.valueLabel=bd.hoverLabelText(e._mockAxis,e._mockAxis.d2l(h.traceCoordinate[3]),t.valuehoverformat),d.push("value: "+m.valueLabel),h.textLabel&&d.push(h.textLabel),M=d.join("<br>")):M=h.textLabel;var _={x:h.traceCoordinate[0],y:h.traceCoordinate[1],z:h.traceCoordinate[2],data:w._input,fullData:w,curveNumber:w.index,pointNumber:T};bi.appendArrayPointValue(_,w,T),t._module.eventData&&(_=w._module.eventData(_,h,w,{},T));var g={points:[_]};if(e.fullSceneLayout.hovermode){var c=[];bi.loneHover({trace:w,x:(.5+.5*y[0]/y[3])*l,y:(.5-.5*y[1]/y[3])*u,xLabel:m.xLabel,yLabel:m.yLabel,zLabel:m.zLabel,text:M,name:f.name,color:bi.castHoverOption(w,T,"bgcolor")||f.color,borderColor:bi.castHoverOption(w,T,"bordercolor"),fontFamily:bi.castHoverOption(w,T,"font.family"),fontSize:bi.castHoverOption(w,T,"font.size"),fontColor:bi.castHoverOption(w,T,"font.color"),nameLength:bi.castHoverOption(w,T,"namelength"),textAlign:bi.castHoverOption(w,T,"align"),hovertemplate:Kn.castOption(w,T,"hovertemplate"),hovertemplateLabels:Kn.extendFlat({},_,m),eventData:[_]},{container:n,gd:r,inOut_bbox:c}),_.bbox=c[0]}h.distance<5&&(h.buttons||HF)?r.emit("plotly_click",g):r.emit("plotly_hover",g),this.oldEventData=g}else bi.loneUnhover(n),this.oldEventData&&r.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;e.drawAnnotations(e)};Rn.recoverContext=function(){var e=this;e.glplot.dispose();var r=function(){if(e.glplot.gl.isContextLost()){requestAnimationFrame(r);return}if(!e.initializeGLPlot()){Kn.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}e.plot.apply(e,e.plotArgs)};requestAnimationFrame(r)};var Kc=["xaxis","yaxis","zaxis"];function Yoe(e,r,t){for(var n=e.fullSceneLayout,a=0;a<3;a++){var o=Kc[a],i=o.charAt(0),l=n[o],u=r[i],s=r[i+"calendar"],f=r["_"+i+"length"];if(!Kn.isArrayOrTypedArray(u))t[0][a]=Math.min(t[0][a],0),t[1][a]=Math.max(t[1][a],f-1);else for(var h,p=0;p<(f||u.length);p++)if(Kn.isArrayOrTypedArray(u[p]))for(var b=0;b<u[p].length;++b)h=l.d2l(u[p][b],0,s),!isNaN(h)&&isFinite(h)&&(t[0][a]=Math.min(t[0][a],h),t[1][a]=Math.max(t[1][a],h));else h=l.d2l(u[p],0,s),!isNaN(h)&&isFinite(h)&&(t[0][a]=Math.min(t[0][a],h),t[1][a]=Math.max(t[1][a],h))}}function Woe(e,r){for(var t=e.fullSceneLayout,n=t.annotations||[],a=0;a<3;a++)for(var o=Kc[a],i=o.charAt(0),l=t[o],u=0;u<n.length;u++){var s=n[u];if(s.visible){var f=l.r2l(s[i]);!isNaN(f)&&isFinite(f)&&(r[0][a]=Math.min(r[0][a],f),r[1][a]=Math.max(r[1][a],f))}}}Rn.plot=function(e,r,t){var n=this;if(n.plotArgs=[e,r,t],!n.glplot.contextLost){var a,o,i,l,u,s,f=r[n.id],h=t[n.id];n.fullLayout=r,n.fullSceneLayout=f,n.axesOptions.merge(r,f),n.spikeOptions.merge(f),n.setViewport(f),n.updateFx(f.dragmode,f.hovermode),n.camera.enableWheel=n.graphDiv._context._scrollZoom.gl3d,n.glplot.setClearColor(qoe(f.bgcolor)),n.setConvert(u),e?Array.isArray(e)||(e=[e]):e=[];var p=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(i=0;i<e.length;++i)a=e[i],!(a.visible!==!0||a._length===0)&&Yoe(this,a,p);Woe(this,p);var b=[1,1,1];for(l=0;l<3;++l)p[1][l]===p[0][l]?b[l]=1:b[l]=1/(p[1][l]-p[0][l]);for(n.dataScale=b,n.convertAnnotations(this),i=0;i<e.length;++i)a=e[i],!(a.visible!==!0||a._length===0)&&(o=n.traces[a.uid],o?o.data.type===a.type?o.update(a):(o.dispose(),o=a._module.plot(this,a),n.traces[a.uid]=o):(o=a._module.plot(this,a),n.traces[a.uid]=o),o.name=a.name);var y=Object.keys(n.traces);e:for(i=0;i<y.length;++i){for(l=0;l<e.length;++l)if(e[l].uid===y[i]&&e[l].visible===!0&&e[l]._length!==0)continue e;o=n.traces[y[i]],o.dispose(),delete n.traces[y[i]]}n.glplot.objects.sort(function(U,X){return U._trace.data.index-X._trace.data.index});var w=[[0,0,0],[0,0,0]],T=[],m={};for(i=0;i<3;++i){u=f[Kc[i]],s=u.type,s in m?(m[s].acc*=b[i],m[s].count+=1):m[s]={acc:b[i],count:1};var k;if(u.autorange){w[0][i]=1/0,w[1][i]=-1/0;var S=n.glplot.objects,x=n.fullSceneLayout.annotations||[],M=u._name.charAt(0);for(l=0;l<S.length;l++){var d=S[l],_=d.bounds,g=d._trace.data._pad||0;d.constructor.name==="ErrorBars"&&u._lowerLogErrorBound?w[0][i]=Math.min(w[0][i],u._lowerLogErrorBound):w[0][i]=Math.min(w[0][i],_[0][i]/b[i]-g),w[1][i]=Math.max(w[1][i],_[1][i]/b[i]+g)}for(l=0;l<x.length;l++){var c=x[l];if(c.visible){var A=u.r2l(c[M]);w[0][i]=Math.min(w[0][i],A),w[1][i]=Math.max(w[1][i],A)}}if("rangemode"in u&&u.rangemode==="tozero"&&(w[0][i]=Math.min(w[0][i],0),w[1][i]=Math.max(w[1][i],0)),w[0][i]>w[1][i])w[0][i]=-1,w[1][i]=1;else{var v=w[1][i]-w[0][i];w[0][i]-=v/32,w[1][i]+=v/32}if(k=[w[0][i],w[1][i]],k=Goe(k,u),w[0][i]=k[0],w[1][i]=k[1],u.isReversed()){var D=w[0][i];w[0][i]=w[1][i],w[1][i]=D}}else k=u.range,w[0][i]=u.r2l(k[0]),w[1][i]=u.r2l(k[1]);w[0][i]===w[1][i]&&(w[0][i]-=1,w[1][i]+=1),T[i]=w[1][i]-w[0][i],u.range=[w[0][i],w[1][i]],u.limitRange(),n.glplot.setBounds(i,{min:u.range[0]*b[i],max:u.range[1]*b[i]})}var E,R=f.aspectmode;if(R==="cube")E=[1,1,1];else if(R==="manual"){var N=f.aspectratio;E=[N.x,N.y,N.z]}else if(R==="auto"||R==="data"){var F=[1,1,1];for(i=0;i<3;++i){u=f[Kc[i]],s=u.type;var I=m[s];F[i]=Math.pow(I.acc,1/I.count)/b[i]}R==="data"||Math.max.apply(null,F)/Math.min.apply(null,F)<=4?E=F:E=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");f.aspectratio.x=h.aspectratio.x=E[0],f.aspectratio.y=h.aspectratio.y=E[1],f.aspectratio.z=h.aspectratio.z=E[2],n.glplot.setAspectratio(f.aspectratio),n.viewInitial.aspectratio||(n.viewInitial.aspectratio={x:f.aspectratio.x,y:f.aspectratio.y,z:f.aspectratio.z}),n.viewInitial.aspectmode||(n.viewInitial.aspectmode=f.aspectmode);var L=f.domain||null,P=r._size||null;if(L&&P){var O=n.container.style;O.position="absolute",O.left=P.l+L.x[0]*P.w+"px",O.top=P.t+(1-L.y[1])*P.h+"px",O.width=P.w*(L.x[1]-L.x[0])+"px",O.height=P.h*(L.y[1]-L.y[0])+"px"}n.glplot.redraw()}};Rn.destroy=function(){var e=this;e.glplot&&(e.camera.mouseListener.enabled=!1,e.container.removeEventListener("wheel",e.camera.wheelListener),e.camera=null,e.glplot.dispose(),e.container.parentNode.removeChild(e.container),e.glplot=null)};function Xoe(e){return[[e.eye.x,e.eye.y,e.eye.z],[e.center.x,e.center.y,e.center.z],[e.up.x,e.up.y,e.up.z]]}function Zoe(e){return{up:{x:e.up[0],y:e.up[1],z:e.up[2]},center:{x:e.center[0],y:e.center[1],z:e.center[2]},eye:{x:e.eye[0],y:e.eye[1],z:e.eye[2]},projection:{type:e._ortho===!0?"orthographic":"perspective"}}}Rn.getCamera=function(){var e=this;return e.camera.view.recalcMatrix(e.camera.view.lastT()),Zoe(e.camera)};Rn.setViewport=function(e){var r=this,t=e.camera;r.camera.lookAt.apply(this,Xoe(t)),r.glplot.setAspectratio(e.aspectratio);var n=t.projection.type==="orthographic",a=r.camera._ortho;n!==a&&(r.glplot.redraw(),r.glplot.clearRGBA(),r.glplot.dispose(),r.initializeGLPlot())};Rn.isCameraChanged=function(e){var r=this,t=r.getCamera(),n=Kn.nestedProperty(e,r.id+".camera"),a=n.get();function o(s,f,h,p){var b=["up","center","eye"],y=["x","y","z"];return f[b[h]]&&s[b[h]][y[p]]===f[b[h]][y[p]]}var i=!1;if(a===void 0)i=!0;else{for(var l=0;l<3;l++)for(var u=0;u<3;u++)if(!o(t,a,l,u)){i=!0;break}(!a.projection||t.projection&&t.projection.type!==a.projection.type)&&(i=!0)}return i};Rn.isAspectChanged=function(e){var r=this,t=r.glplot.getAspectratio(),n=Kn.nestedProperty(e,r.id+".aspectratio"),a=n.get();return a===void 0||a.x!==t.x||a.y!==t.y||a.z!==t.z};Rn.saveLayout=function(e){var r=this,t=r.fullLayout,n,a,o,i,l,u,s=r.isCameraChanged(e),f=r.isAspectChanged(e),h=s||f;if(h){var p={};if(s&&(n=r.getCamera(),a=Kn.nestedProperty(e,r.id+".camera"),o=a.get(),p[r.id+".camera"]=o),f&&(i=r.glplot.getAspectratio(),l=Kn.nestedProperty(e,r.id+".aspectratio"),u=l.get(),p[r.id+".aspectratio"]=u),xd.call("_storeDirectGUIEdit",e,t._preGUI,p),s){a.set(n);var b=Kn.nestedProperty(t,r.id+".camera");b.set(n)}if(f){l.set(i);var y=Kn.nestedProperty(t,r.id+".aspectratio");y.set(i),r.glplot.redraw()}}return h};Rn.updateFx=function(e,r){var t=this,n=t.camera;if(n)if(e==="orbit")n.mode="orbit",n.keyBindingMode="rotate";else if(e==="turntable"){n.up=[0,0,1],n.mode="turntable",n.keyBindingMode="rotate";var a=t.graphDiv,o=a._fullLayout,i=t.fullSceneLayout.camera,l=i.up.x,u=i.up.y,s=i.up.z;if(s/Math.sqrt(l*l+u*u+s*s)<.999){var f=t.id+".camera.up",h={x:0,y:0,z:1},p={};p[f]=h;var b=a.layout;xd.call("_storeDirectGUIEdit",b,o._preGUI,p),i.up=h,Kn.nestedProperty(b,f).set(h)}}else n.keyBindingMode=e;t.fullSceneLayout.hovermode=r};function Joe(e,r,t){for(var n=0,a=t-1;n<a;++n,--a)for(var o=0;o<r;++o)for(var i=0;i<4;++i){var l=4*(r*n+o)+i,u=4*(r*a+o)+i,s=e[l];e[l]=e[u],e[u]=s}}function Koe(e,r,t){for(var n=0;n<t;++n)for(var a=0;a<r;++a){var o=4*(r*n+a),i=e[o+3];if(i>0)for(var l=255/i,u=0;u<3;++u)e[o+u]=Math.min(l*e[o+u],255)}}Rn.toImage=function(e){var r=this;e||(e="png"),r.staticMode&&r.container.appendChild(Jc),r.glplot.redraw();var t=r.glplot.gl,n=t.drawingBufferWidth,a=t.drawingBufferHeight;t.bindFramebuffer(t.FRAMEBUFFER,null);var o=new Uint8Array(n*a*4);t.readPixels(0,0,n,a,t.RGBA,t.UNSIGNED_BYTE,o),Joe(o,n,a),Koe(o,n,a);var i=document.createElement("canvas");i.width=n,i.height=a;var l=i.getContext("2d",{willReadFrequently:!0}),u=l.createImageData(n,a);u.data.set(o),l.putImageData(u,0,0);var s;switch(e){case"jpeg":s=i.toDataURL("image/jpeg");break;case"webp":s=i.toDataURL("image/webp");break;default:s=i.toDataURL("image/png")}return r.staticMode&&r.container.removeChild(Jc),s};Rn.setConvert=function(){for(var e=this,r=0;r<3;r++){var t=e.fullSceneLayout[Kc[r]];bd.setConvert(t,e.fullLayout),t.setScale=Kn.noop}};Rn.make4thDimension=function(){var e=this,r=e.graphDiv,t=r._fullLayout;e._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},bd.setConvert(e._mockAxis,t)};GF.exports=VF});var XF=de((gpe,WF)=>{"use strict";WF.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}});var W3=de((ype,ZF)=>{"use strict";var Qoe=Xr(),Ur=Da(),Y3=Tt().extendFlat,$oe=qn().overrideAll;ZF.exports=$oe({visible:Ur.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:Qoe.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:Ur.color,categoryorder:Ur.categoryorder,categoryarray:Ur.categoryarray,title:{text:Ur.title.text,font:Ur.title.font},type:Y3({},Ur.type,{values:["-","linear","log","date","category"]}),autotypenumbers:Ur.autotypenumbers,autorange:Ur.autorange,autorangeoptions:{minallowed:Ur.autorangeoptions.minallowed,maxallowed:Ur.autorangeoptions.maxallowed,clipmin:Ur.autorangeoptions.clipmin,clipmax:Ur.autorangeoptions.clipmax,include:Ur.autorangeoptions.include,editType:"plot"},rangemode:Ur.rangemode,minallowed:Ur.minallowed,maxallowed:Ur.maxallowed,range:Y3({},Ur.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:Ur.minor.tickmode,nticks:Ur.nticks,tick0:Ur.tick0,dtick:Ur.dtick,tickvals:Ur.tickvals,ticktext:Ur.ticktext,ticks:Ur.ticks,mirror:Ur.mirror,ticklen:Ur.ticklen,tickwidth:Ur.tickwidth,tickcolor:Ur.tickcolor,showticklabels:Ur.showticklabels,labelalias:Ur.labelalias,tickfont:Ur.tickfont,tickangle:Ur.tickangle,tickprefix:Ur.tickprefix,showtickprefix:Ur.showtickprefix,ticksuffix:Ur.ticksuffix,showticksuffix:Ur.showticksuffix,showexponent:Ur.showexponent,exponentformat:Ur.exponentformat,minexponent:Ur.minexponent,separatethousands:Ur.separatethousands,tickformat:Ur.tickformat,tickformatstops:Ur.tickformatstops,hoverformat:Ur.hoverformat,showline:Ur.showline,linecolor:Ur.linecolor,linewidth:Ur.linewidth,showgrid:Ur.showgrid,gridcolor:Y3({},Ur.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:Ur.gridwidth,zeroline:Ur.zeroline,zerolinecolor:Ur.zerolinecolor,zerolinewidth:Ur.zerolinewidth},"plot","from-root")});var K3=de((mpe,JF)=>{"use strict";var X3=W3(),joe=od().attributes,Z3=Tt().extendFlat,ele=ir().counterRegex;function J3(e,r,t){return{x:{valType:"number",dflt:e,editType:"camera"},y:{valType:"number",dflt:r,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}JF.exports={_arrayAttrRegexps:[ele("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:Z3(J3(0,0,1),{}),center:Z3(J3(0,0,0),{}),eye:Z3(J3(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:joe({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:X3,yaxis:X3,zaxis:X3,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot"}});var QF=de((xpe,KF)=>{"use strict";var rle=ir(),tle=yt(),nle=od().defaults;KF.exports=function(r,t,n,a){var o=a.type,i=a.attributes,l=a.handleDefaults,u=a.partition||"x",s=t._subplots[o],f=s.length,h=f&&s[0].replace(/\d+$/,""),p,b;function y(k,S){return rle.coerce(p,b,i,k,S)}for(var w=0;w<f;w++){var T=s[w];r[T]?p=r[T]:p=r[T]={},b=tle.newContainer(t,T,h),a.noUirevision||y("uirevision",t.uirevision);var m={};m[u]=[w/f,(w+1)/f],nle(b,t,y,m),a.id=T,l(p,b,y,a)}}});var rN=de((bpe,eN)=>{"use strict";var ale=Sa().mix,$F=ir(),ile=yt(),ole=W3(),lle=Dm(),sle=R1(),jF=["xaxis","yaxis","zaxis"],ule=100*136/187;eN.exports=function(r,t,n){var a,o;function i(s,f){return $F.coerce(a,o,ole,s,f)}for(var l=0;l<jF.length;l++){var u=jF[l];a=r[u]||{},o=ile.newContainer(t,u),o._id=u[0]+n.scene,o._name=u,lle(a,o,i,n),sle(a,o,i,{font:n.font,letter:u[0],data:n.data,showGrid:!0,noAutotickangles:!0,noMinorloglabels:!0,noTicklabelindex:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,noUnifiedhovertitle:!0,bgColor:n.bgColor,calendar:n.calendar},n.fullLayout),i("gridcolor",ale(o.color,n.bgColor,ule).toRgbString()),i("title.text",u[0]),o.setScale=$F.noop,i("showspikes")&&(i("spikesides"),i("spikethickness"),i("spikecolor",o.color)),i("showaxeslabels"),i("showbackground")&&i("backgroundcolor")}}});var iN=de((_pe,aN)=>{"use strict";var fle=ir(),cle=Xr(),hle=Er(),vle=QF(),dle=rN(),tN=K3(),ple=Lf().getSubplotData,nN="gl3d";aN.exports=function(r,t,n){var a=t._basePlotModules.length>1;function o(i){if(!a){var l=fle.validate(r[i],tN[i]);if(l)return r[i]}}vle(r,t,n,{type:nN,attributes:tN,handleDefaults:gle,fullLayout:t,font:t.font,fullData:n,getDfltFromLayout:o,autotypenumbersDflt:t.autotypenumbers,paper_bgcolor:t.paper_bgcolor,calendar:t.calendar})};function gle(e,r,t,n){for(var a=t("bgcolor"),o=cle.combine(a,n.paper_bgcolor),i=["up","center","eye"],l=0;l<i.length;l++)t("camera."+i[l]+".x"),t("camera."+i[l]+".y"),t("camera."+i[l]+".z");t("camera.projection.type");var u=!!t("aspectratio.x")&&!!t("aspectratio.y")&&!!t("aspectratio.z"),s=u?"manual":"auto",f=t("aspectmode",s);u||(e.aspectratio=r.aspectratio={x:1,y:1,z:1},f==="manual"&&(r.aspectmode="auto"),e.aspectmode=r.aspectmode);var h=ple(n.fullData,nN,n.id);dle(e,r,{font:n.font,scene:n.id,data:h,bgColor:o,calendar:n.calendar,autotypenumbersDflt:n.autotypenumbersDflt,fullLayout:n.fullLayout}),hle.getComponentMethod("annotations3d","handleDefaults")(e,r,n);var p=n.getDfltFromLayout("dragmode");if(p!==!1&&!p)if(p="orbit",e.camera&&e.camera.up){var b=e.camera.up.x,y=e.camera.up.y,w=e.camera.up.z;w!==0&&(!b||!y||!w||w/Math.sqrt(b*b+y*y+w*w)>.999)&&(p="turntable")}else p="turntable";t("dragmode",p),t("hovermode",n.getDfltFromLayout("hovermode"))}});var vl=de(Qn=>{"use strict";var yle=qn().overrideAll,mle=Ll(),xle=YF(),ble=Lf().getSubplotData,_le=ir(),wle=Ho(),Yu="gl3d",Q3="scene";Qn.name=Yu;Qn.attr=Q3;Qn.idRoot=Q3;Qn.idRegex=Qn.attrRegex=_le.counterRegex("scene");Qn.attributes=XF();Qn.layoutAttributes=K3();Qn.baseLayoutAttrOverrides=yle({hoverlabel:mle.hoverlabel},"plot","nested");Qn.supplyLayoutDefaults=iN();Qn.plot=function(r){for(var t=r._fullLayout,n=r._fullData,a=t._subplots[Yu],o=0;o<a.length;o++){var i=a[o],l=ble(n,Yu,i),u=t[i],s=u.camera,f=u._scene;f||(f=new xle({id:i,graphDiv:r,container:r.querySelector(".gl-container"),staticPlot:r._context.staticPlot,plotGlPixelRatio:r._context.plotGlPixelRatio,camera:s},t),u._scene=f),f.viewInitial||(f.viewInitial={up:{x:s.up.x,y:s.up.y,z:s.up.z},eye:{x:s.eye.x,y:s.eye.y,z:s.eye.z},center:{x:s.center.x,y:s.center.y,z:s.center.z}}),f.plot(l,t,r.layout)}};Qn.clean=function(e,r,t,n){for(var a=n._subplots[Yu]||[],o=0;o<a.length;o++){var i=a[o];!r[i]&&n[i]._scene&&(n[i]._scene.destroy(),n._infolayer&&n._infolayer.selectAll(".annotation-"+i).remove())}};Qn.toSVG=function(e){for(var r=e._fullLayout,t=r._subplots[Yu],n=r._size,a=0;a<t.length;a++){var o=r[t[a]],i=o.domain,l=o._scene,u=l.toImage("png"),s=r._glimages.append("svg:image");s.attr({xmlns:wle.svg,"xlink:href":u,x:n.l+n.w*i.x[0],y:n.t+n.h*(1-i.y[1]),width:n.w*(i.x[1]-i.x[0]),height:n.h*(i.y[1]-i.y[0]),preserveAspectRatio:"none"}),l.destroy()}};Qn.cleanId=function(r){if(r.match(/^scene[0-9]*$/)){var t=r.slice(5);return t==="1"&&(t=""),Q3+t}};Qn.updateFx=function(e){for(var r=e._fullLayout,t=r._subplots[Yu],n=0;n<t.length;n++){var a=r[t[n]]._scene;a.updateFx(r.dragmode,r.hovermode)}}});var lN=de((Mpe,oN)=>{"use strict";oN.exports={plot:vF(),attributes:V3(),markerSymbols:pd(),supplyDefaults:bF(),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:wF(),moduleType:"trace",name:"scatter3d",basePlotModule:vl(),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}});var uN=de((Tpe,sN)=>{"use strict";sN.exports=lN()});var Qc=de((Ape,hN)=>{"use strict";var fN=Xr(),Mle=ni(),$3=lo().axisHoverFormat,{hovertemplateAttrs:Tle,templatefallbackAttrs:Ale}=ja(),cN=Sn(),j3=Tt().extendFlat,kle=qn().overrideAll;function e5(e){return{valType:"boolean",dflt:!1}}function r5(e){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:e5("x"),y:e5("y"),z:e5("z")},color:{valType:"color",dflt:fN.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:fN.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var t5=hN.exports=kle(j3({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:Tle(),hovertemplatefallback:Ale(),xhoverformat:$3("x"),yhoverformat:$3("y"),zhoverformat:$3("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},Mle("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:r5("x"),y:r5("y"),z:r5("z")},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05,description:"Represents the level that incident rays are reflected in a single direction, causing shine."},roughness:{valType:"number",min:0,max:1,dflt:.5,description:"Alters specular reflection; the rougher the surface, the wider and less contrasty the shine."},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},hoverinfo:j3({},cN.hoverinfo),showlegend:j3({},cN.showlegend,{dflt:!1})}),"calc","nested");t5.x.editType=t5.y.editType=t5.z.editType="calc+clearAxisTypes"});var a5=de((kpe,pN)=>{"use strict";var Sle=Er(),vN=ir(),Cle=Di(),Ele=Qc(),n5=.1;function Lle(e,r){for(var t=[],n=32,a=0;a<n;a++){var o=a/(n-1),i=r+(1-r)*(1-Math.pow(Math.sin(e*o*Math.PI),2));t.push([o,Math.max(0,Math.min(1,i))])}return t}function Dle(e){var r=0;if(!Array.isArray(e)||e.length<2||!e[0]||!e[e.length-1]||+e[0][0]!=0||+e[e.length-1][0]!=1)return!1;for(var t=0;t<e.length;t++){var n=e[t];if(n.length!==2||+n[0]<r)return!1;r=+n[0]}return!0}function Rle(e,r,t,n){var a,o;function i(T,m){return vN.coerce(e,r,Ele,T,m)}var l=i("x"),u=i("y"),s=i("z");if(!s||!s.length||l&&l.length<1||u&&u.length<1){r.visible=!1;return}r._xlength=Array.isArray(l)&&vN.isArrayOrTypedArray(l[0])?s.length:s[0].length,r._ylength=s.length;var f=Sle.getComponentMethod("calendars","handleTraceDefaults");f(e,r,["x","y","z"],n),i("text"),i("hovertext"),i("hovertemplate"),i("hovertemplatefallback"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(T){i(T)});var h=i("surfacecolor"),p=["x","y","z"];for(a=0;a<3;++a){var b="contours."+p[a],y=i(b+".show"),w=i(b+".highlight");if(y||w)for(o=0;o<3;++o)i(b+".project."+p[o]);y&&(i(b+".color"),i(b+".width"),i(b+".usecolormap")),w&&(i(b+".highlightcolor"),i(b+".highlightwidth")),i(b+".start"),i(b+".end"),i(b+".size")}Cle(e,r,n,i,{prefix:"",cLetter:"c"}),dN(e,r,n,i),r._length=null}function dN(e,r,t,n){var a=n("opacityscale");a==="max"?r.opacityscale=[[0,n5],[1,1]]:a==="min"?r.opacityscale=[[0,1],[1,n5]]:a==="extremes"?r.opacityscale=Lle(1,n5):Dle(a)||(r.opacityscale=void 0)}pN.exports={supplyDefaults:Rle,opacityscaleDefaults:dN}});var mN=de((Spe,yN)=>{"use strict";var gN=Go();yN.exports=function(r,t){t.surfacecolor?gN(r,t,{vals:t.surfacecolor,containerStr:"",cLetter:"c"}):gN(r,t,{vals:t.z,containerStr:"",cLetter:"c"})}});var wN=de((Cpe,_N)=>{"use strict";var Ple=ir(),xN=.01,Ile=[[-1,0],[1,0],[0,-1],[0,1]];function Fle(e){return .5-.25*Math.min(1,e*.5)}_N.exports=function(r,t){var n=1,a;for(bN(r,t),a=0;a<t.length&&!(t[a][2]<4);a++);for(t=t.slice(a),a=0;a<100&&n>xN;a++)n=bN(r,t,Fle(n));return n>xN&&Ple.log("interp2d didn't converge quickly",n),r};function bN(e,r,t){var n=0,a,o,i,l,u,s,f,h,p,b,y,w,T;for(l=0;l<r.length;l++){for(a=r[l],o=a[0],i=a[1],y=e[o][i],b=0,p=0,u=0;u<4;u++)s=Ile[u],f=e[o+s[0]],f&&(h=f[i+s[1]],h!==void 0&&(b===0?w=T=h:(w=Math.min(w,h),T=Math.max(T,h)),p++,b+=h));if(p===0)throw"iterateInterp2d order is wrong: no defined neighbors";e[o][i]=b/p,y===void 0?p<4&&(n=1):(e[o][i]=(1+t)*e[o][i]-t*y,T>w&&(n=Math.max(n,Math.abs(e[o][i]-y)/(T-w))))}return n}});var TN=de((Epe,MN)=>{"use strict";var Nle=ir().maxRowLength;MN.exports=function(r){var t=[],n={},a=[],o=r[0],i=[],l=[0,0,0],u=Nle(r),s,f,h,p,b,y,w,T;for(f=0;f<r.length;f++)for(s=i,i=o,o=r[f+1]||[],h=0;h<u;h++)i[h]===void 0&&(y=(i[h-1]!==void 0?1:0)+(i[h+1]!==void 0?1:0)+(s[h]!==void 0?1:0)+(o[h]!==void 0?1:0),y?(f===0&&y++,h===0&&y++,f===r.length-1&&y++,h===i.length-1&&y++,y<4&&(n[[f,h]]=[f,h,y]),t.push([f,h,y])):a.push([f,h]));for(;a.length;){for(w={},T=!1,b=a.length-1;b>=0;b--)p=a[b],f=p[0],h=p[1],y=((n[[f-1,h]]||l)[2]+(n[[f+1,h]]||l)[2]+(n[[f,h-1]]||l)[2]+(n[[f,h+1]]||l)[2])/20,y&&(w[p]=[f,h,y],a.splice(b,1),T=!0);if(!T)throw"findEmpties iterated with no new neighbors";for(p in w)n[p]=w[p],t.push(w[p])}return t.sort(function(m,k){return k[2]-m[2]})}});var LN=de((Lpe,EN)=>{"use strict";var zle=pn().gl_surface3d,Wu=pn().ndarray,qle=pn().ndarray_linear_interpolate.d2,Ole=wN(),Ble=TN(),$c=ir().isArrayOrTypedArray,Ule=hl().parseColorScale,AN=wo(),Hle=Ri().extractOpts;function SN(e,r,t){this.scene=e,this.uid=t,this.surface=r,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var _i=SN.prototype;_i.getXat=function(e,r,t,n){var a=$c(this.data.x)?$c(this.data.x[0])?this.data.x[r][e]:this.data.x[e]:e;return t===void 0?a:n.d2l(a,0,t)};_i.getYat=function(e,r,t,n){var a=$c(this.data.y)?$c(this.data.y[0])?this.data.y[r][e]:this.data.y[r]:r;return t===void 0?a:n.d2l(a,0,t)};_i.getZat=function(e,r,t,n){var a=this.data.z[r][e];return a===null&&this.data.connectgaps&&this.data._interpolatedZ&&(a=this.data._interpolatedZ[r][e]),t===void 0?a:n.d2l(a,0,t)};_i.handlePick=function(e){if(e.object===this.surface){var r=(e.data.index[0]-1)/this.dataScaleX-1,t=(e.data.index[1]-1)/this.dataScaleY-1,n=Math.max(Math.min(Math.round(r),this.data.z[0].length-1),0),a=Math.max(Math.min(Math.round(t),this.data._ylength-1),0);e.index=[n,a],e.traceCoordinate=[this.getXat(n,a),this.getYat(n,a),this.getZat(n,a)],e.dataCoordinate=[this.getXat(n,a,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(n,a,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(n,a,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var o=0;o<3;o++){var i=e.dataCoordinate[o];i!=null&&(e.dataCoordinate[o]*=this.scene.dataScale[o])}var l=this.data.hovertext||this.data.text;return $c(l)&&l[a]&&l[a][n]!==void 0?e.textLabel=l[a][n]:l?e.textLabel=l:e.textLabel="",e.data.dataCoordinate=e.dataCoordinate.slice(),this.surface.highlight(e.data),this.scene.glplot.spikes.position=e.dataCoordinate,!0}};function Vle(e){var r=e[0].rgb,t=e[e.length-1].rgb;return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]&&r[3]===t[3]}var Xu=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function Gle(e,r){if(e<r)return 0;for(var t=0;Math.floor(e%r)===0;)e/=r,t++;return t}function i5(e){for(var r=[],t=0;t<Xu.length;t++){var n=Xu[t];r.push(Gle(e,n))}return r}function Yle(e){for(var r=i5(e),t=e,n=0;n<Xu.length;n++)if(r[n]>0){t=Xu[n];break}return t}function Wle(e,r){if(!(e<1||r<1)){for(var t=i5(e),n=i5(r),a=1,o=0;o<Xu.length;o++)a*=Math.pow(Xu[o],Math.max(t[o],n[o]));return a}}function Xle(e){if(e.length!==0){for(var r=1,t=0;t<e.length;t++)r=Wle(r,e[t]);return r}}_i.calcXnums=function(e){var r,t=[];for(r=1;r<e;r++){var n=this.getXat(r-1,0),a=this.getXat(r,0);a!==n&&n!==void 0&&n!==null&&a!==void 0&&a!==null?t[r-1]=Math.abs(a-n):t[r-1]=0}var o=0;for(r=1;r<e;r++)o+=t[r-1];for(r=1;r<e;r++)t[r-1]===0?t[r-1]=1:t[r-1]=Math.round(o/t[r-1]);return t};_i.calcYnums=function(e){var r,t=[];for(r=1;r<e;r++){var n=this.getYat(0,r-1),a=this.getYat(0,r);a!==n&&n!==void 0&&n!==null&&a!==void 0&&a!==null?t[r-1]=Math.abs(a-n):t[r-1]=0}var o=0;for(r=1;r<e;r++)o+=t[r-1];for(r=1;r<e;r++)t[r-1]===0?t[r-1]=1:t[r-1]=Math.round(o/t[r-1]);return t};var CN=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],kN=CN[9],_d=CN[13];_i.estimateScale=function(e,r){for(var t=r===0?this.calcXnums(e):this.calcYnums(e),n=1+Xle(t);n<kN;)n*=2;for(;n>_d;)n--,n/=Yle(n),n++,n<kN&&(n=_d);var a=Math.round(n/e);return a>1?a:1};function Zle(e,r,t){var n=t[8]+t[2]*r[0]+t[5]*r[1];return e[0]=(t[6]+t[0]*r[0]+t[3]*r[1])/n,e[1]=(t[7]+t[1]*r[0]+t[4]*r[1])/n,e}function Jle(e,r,t){return Kle(e,r,Zle,t),e}function Kle(e,r,t,n){for(var a=[0,0],o=e.shape[0],i=e.shape[1],l=0;l<o;l++)for(var u=0;u<i;u++)t(a,[l,u],n),e.set(l,u,qle(r,a[0],a[1]));return e}_i.refineCoords=function(e){for(var r=this.dataScaleX,t=this.dataScaleY,n=e[0].shape[0],a=e[0].shape[1],o=Math.floor(e[0].shape[0]*r+1)|0,i=Math.floor(e[0].shape[1]*t+1)|0,l=1+n+1,u=1+a+1,s=Wu(new Float32Array(l*u),[l,u]),f=[1/r,0,0,0,1/t,0,0,0,1],h=0;h<e.length;++h){this.surface.padField(s,e[h]);var p=Wu(new Float32Array(o*i),[o,i]);Jle(p,s,f),e[h]=p}};function Qle(e,r){for(var t=!1,n=0;n<e.length;n++)if(r===e[n]){t=!0;break}t===!1&&e.push(r)}_i.setContourLevels=function(){var e=[[],[],[]],r=[!1,!1,!1],t=!1,n,a,o;for(n=0;n<3;++n)if(this.showContour[n]&&(t=!0,this.contourSize[n]>0&&this.contourStart[n]!==null&&this.contourEnd[n]!==null&&this.contourEnd[n]>this.contourStart[n]))for(r[n]=!0,a=this.contourStart[n];a<this.contourEnd[n];a+=this.contourSize[n])o=a*this.scene.dataScale[n],Qle(e[n],o);if(t){var i=[[],[],[]];for(n=0;n<3;++n)this.showContour[n]&&(i[n]=r[n]?e[n]:this.scene.contourLevels[n]);this.surface.update({levels:i})}};_i.update=function(e){var r=this.scene,t=r.fullSceneLayout,n=this.surface,a=Ule(e),o=r.dataScale,i=e.z[0].length,l=e._ylength,u=r.contourLevels;this.data=e;var s,f,h,p,b=[];for(s=0;s<3;s++)for(b[s]=[],f=0;f<i;f++)b[s][f]=[];for(f=0;f<i;f++)for(h=0;h<l;h++)b[0][f][h]=this.getXat(f,h,e.xcalendar,t.xaxis),b[1][f][h]=this.getYat(f,h,e.ycalendar,t.yaxis),b[2][f][h]=this.getZat(f,h,e.zcalendar,t.zaxis);if(e.connectgaps)for(e._emptypoints=Ble(b[2]),Ole(b[2],e._emptypoints),e._interpolatedZ=[],f=0;f<i;f++)for(e._interpolatedZ[f]=[],h=0;h<l;h++)e._interpolatedZ[f][h]=b[2][f][h];for(s=0;s<3;s++)for(f=0;f<i;f++)for(h=0;h<l;h++)p=b[s][f][h],p==null?b[s][f][h]=NaN:p=b[s][f][h]*=o[s];for(s=0;s<3;s++)for(f=0;f<i;f++)for(h=0;h<l;h++)p=b[s][f][h],p!=null&&(this.minValues[s]>p&&(this.minValues[s]=p),this.maxValues[s]<p&&(this.maxValues[s]=p));for(s=0;s<3;s++)this.objectOffset[s]=.5*(this.minValues[s]+this.maxValues[s]);for(s=0;s<3;s++)for(f=0;f<i;f++)for(h=0;h<l;h++)p=b[s][f][h],p!=null&&(b[s][f][h]-=this.objectOffset[s]);var y=[Wu(new Float32Array(i*l),[i,l]),Wu(new Float32Array(i*l),[i,l]),Wu(new Float32Array(i*l),[i,l])];for(s=0;s<3;s++)for(f=0;f<i;f++)for(h=0;h<l;h++)y[s].set(f,h,b[s][f][h]);b=[];var w={colormap:a,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!e.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:e.opacityscale,opacity:e.opacity},T=Hle(e);if(w.intensityBounds=[T.min,T.max],e.surfacecolor){var m=Wu(new Float32Array(i*l),[i,l]);for(f=0;f<i;f++)for(h=0;h<l;h++)m.set(f,h,e.surfacecolor[h][f]);y.push(m)}else w.intensityBounds[0]*=o[2],w.intensityBounds[1]*=o[2];(_d<y[0].shape[0]||_d<y[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(y[0].shape[0],0),this.dataScaleY=this.estimateScale(y[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(y)),e.surfacecolor&&(w.intensity=y.pop());var k=[!0,!0,!0],S=["x","y","z"];for(s=0;s<3;++s){var x=e.contours[S[s]];k[s]=x.highlight,w.showContour[s]=x.show||x.highlight,w.showContour[s]&&(w.contourProject[s]=[x.project.x,x.project.y,x.project.z],x.show?(this.showContour[s]=!0,w.levels[s]=u[s],n.highlightColor[s]=w.contourColor[s]=AN(x.color),x.usecolormap?n.highlightTint[s]=w.contourTint[s]=0:n.highlightTint[s]=w.contourTint[s]=1,w.contourWidth[s]=x.width,this.contourStart[s]=x.start,this.contourEnd[s]=x.end,this.contourSize[s]=x.size):(this.showContour[s]=!1,this.contourStart[s]=null,this.contourEnd[s]=null,this.contourSize[s]=0),x.highlight&&(w.dynamicColor[s]=AN(x.highlightcolor),w.dynamicWidth[s]=x.highlightwidth))}Vle(a)&&(w.vertexColor=!0),w.objectOffset=this.objectOffset,w.coords=y,n.update(w),n.visible=e.visible,n.enableDynamic=k,n.enableHighlight=k,n.snapToData=!0,"lighting"in e&&(n.ambientLight=e.lighting.ambient,n.diffuseLight=e.lighting.diffuse,n.specularLight=e.lighting.specular,n.roughness=e.lighting.roughness,n.fresnel=e.lighting.fresnel),"lightposition"in e&&(n.lightPosition=[e.lightposition.x,e.lightposition.y,e.lightposition.z])};_i.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function $le(e,r){var t=e.glplot.gl,n=zle({gl:t}),a=new SN(e,n,r.uid);return n._trace=a,a.update(r),e.glplot.add(n),a}EN.exports=$le});var RN=de((Dpe,DN)=>{"use strict";DN.exports={attributes:Qc(),supplyDefaults:a5().supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:mN(),plot:LN(),moduleType:"trace",name:"surface",basePlotModule:vl(),categories:["gl3d","2dMap","showLegend"],meta:{}}});var IN=de((Rpe,PN)=>{"use strict";PN.exports=RN()});var Zu=de((Ppe,NN)=>{"use strict";var jle=ni(),o5=lo().axisHoverFormat,{hovertemplateAttrs:ese,templatefallbackAttrs:rse}=ja(),dl=Qc(),FN=Sn(),pl=Tt().extendFlat;NN.exports=pl({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:ese({editType:"calc"}),hovertemplatefallback:rse({editType:"calc"}),xhoverformat:o5("x"),yhoverformat:o5("y"),zhoverformat:o5("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"}},jle("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:dl.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:pl({},dl.contours.x.show,{}),color:dl.contours.x.color,width:dl.contours.x.width,editType:"calc"},lightposition:{x:pl({},dl.lightposition.x,{dflt:1e5}),y:pl({},dl.lightposition.y,{dflt:1e5}),z:pl({},dl.lightposition.z,{dflt:0}),editType:"calc"},lighting:pl({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc",description:"Epsilon for vertex normals calculation avoids math issues arising from degenerate geometry."},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc",description:"Epsilon for face normals calculation avoids math issues arising from degenerate geometry."},editType:"calc"},dl.lighting),hoverinfo:pl({},FN.hoverinfo,{editType:"calc"}),showlegend:pl({},FN.showlegend,{dflt:!1})})});var Md=de((Ipe,qN)=>{"use strict";var tse=ni(),wd=lo().axisHoverFormat,{hovertemplateAttrs:nse,templatefallbackAttrs:ase}=ja(),jc=Zu(),zN=Sn(),l5=Tt().extendFlat,ise=qn().overrideAll;function s5(e){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function u5(e){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var Ju=qN.exports=ise(l5({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:s5("x"),y:s5("y"),z:s5("z")},caps:{x:u5("x"),y:u5("y"),z:u5("z")},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:nse(),hovertemplatefallback:ase(),xhoverformat:wd("x"),yhoverformat:wd("y"),zhoverformat:wd("z"),valuehoverformat:wd("value",1),showlegend:l5({},zN.showlegend,{dflt:!1})},tse("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:jc.opacity,lightposition:jc.lightposition,lighting:jc.lighting,flatshading:jc.flatshading,contour:jc.contour,hoverinfo:l5({},zN.hoverinfo)}),"calc","nested");Ju.flatshading.dflt=!0;Ju.lighting.facenormalsepsilon.dflt=0;Ju.x.editType=Ju.y.editType=Ju.z.editType=Ju.value.editType="calc+clearAxisTypes"});var f5=de((Fpe,BN)=>{"use strict";var ose=ir(),lse=Er(),sse=Md(),use=Di();function fse(e,r,t,n){function a(o,i){return ose.coerce(e,r,sse,o,i)}ON(e,r,t,n,a)}function ON(e,r,t,n,a){var o=a("isomin"),i=a("isomax");i!=null&&o!==void 0&&o!==null&&o>i&&(r.isomin=null,r.isomax=null);var l=a("x"),u=a("y"),s=a("z"),f=a("value");if(!l||!l.length||!u||!u.length||!s||!s.length||!f||!f.length){r.visible=!1;return}var h=lse.getComponentMethod("calendars","handleTraceDefaults");h(e,r,["x","y","z"],n),a("valuehoverformat"),["x","y","z"].forEach(function(w){a(w+"hoverformat");var T="caps."+w,m=a(T+".show");m&&a(T+".fill");var k="slices."+w,S=a(k+".show");S&&(a(k+".fill"),a(k+".locations"))});var p=a("spaceframe.show");p&&a("spaceframe.fill");var b=a("surface.show");b&&(a("surface.count"),a("surface.fill"),a("surface.pattern"));var y=a("contour.show");y&&(a("contour.color"),a("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(w){a(w)}),use(e,r,n,a,{prefix:"",cLetter:"c"}),r._length=null}BN.exports={supplyDefaults:fse,supplyIsoDefaults:ON}});var Td=de((Npe,HN)=>{"use strict";var h5=ir(),cse=Go();function hse(e,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=Zi(r.u,r._len),r._v=Zi(r.v,r._len),r._w=Zi(r.w,r._len),r._x=Zi(r.x,r._len),r._y=Zi(r.y,r._len),r._z=Zi(r.z,r._len);var t=UN(r);r._gridFill=t.fill,r._Xs=t.Xs,r._Ys=t.Ys,r._Zs=t.Zs,r._len=t.len;var n=0,a,o,i;r.starts&&(a=Zi(r.starts.x||[]),o=Zi(r.starts.y||[]),i=Zi(r.starts.z||[]),n=Math.min(a.length,o.length,i.length)),r._startsX=a||[],r._startsY=o||[],r._startsZ=i||[];var l=0,u=1/0,s;for(s=0;s<r._len;s++){var f=r._u[s],h=r._v[s],p=r._w[s],b=Math.sqrt(f*f+h*h+p*p);l=Math.max(l,b),u=Math.min(u,b)}for(cse(e,r,{vals:[u,l],containerStr:"",cLetter:"c"}),s=0;s<n;s++){var y=a[s];t.xMax=Math.max(t.xMax,y),t.xMin=Math.min(t.xMin,y);var w=o[s];t.yMax=Math.max(t.yMax,w),t.yMin=Math.min(t.yMin,w);var T=i[s];t.zMax=Math.max(t.zMax,T),t.zMin=Math.min(t.zMin,T)}r._slen=n,r._normMax=l,r._xbnds=[t.xMin,t.xMax],r._ybnds=[t.yMin,t.yMax],r._zbnds=[t.zMin,t.zMax]}function UN(e){var r=e._x,t=e._y,n=e._z,a=e._len,o,i,l,u=-1/0,s=1/0,f=-1/0,h=1/0,p=-1/0,b=1/0,y="",w,T,m,k,S,x,M,d,_;for(a&&(k=r[0],x=t[0],d=n[0]),a>1&&(S=r[a-1],M=t[a-1],_=n[a-1]),o=0;o<a;o++)u=Math.max(u,r[o]),s=Math.min(s,r[o]),f=Math.max(f,t[o]),h=Math.min(h,t[o]),p=Math.max(p,n[o]),b=Math.min(b,n[o]),!w&&r[o]!==k&&(w=!0,y+="x"),!T&&t[o]!==x&&(T=!0,y+="y"),!m&&n[o]!==d&&(m=!0,y+="z");w||(y+="x"),T||(y+="y"),m||(y+="z");var g=c5(e._x),c=c5(e._y),A=c5(e._z);y=y.replace("x",(k>S?"-":"+")+"x"),y=y.replace("y",(x>M?"-":"+")+"y"),y=y.replace("z",(d>_?"-":"+")+"z");var v=function(){a=0,g=[],c=[],A=[]};(!a||a<g.length*c.length*A.length)&&v();var D=function(oe){return oe==="x"?r:oe==="y"?t:n},E=function(oe){return oe==="x"?g:oe==="y"?c:A},R=function(oe){return oe[a-1]<oe[0]?-1:1},N=D(y[1]),F=D(y[3]),I=D(y[5]),L=E(y[1]).length,P=E(y[3]).length,O=E(y[5]).length,U=!1,X=function(oe,re,V){return L*(P*oe+re)+V},$=R(D(y[1])),j=R(D(y[3])),Y=R(D(y[5]));for(o=0;o<O-1;o++){for(i=0;i<P-1;i++){for(l=0;l<L-1;l++){var q=X(o,i,l),Q=X(o,i,l+1),ae=X(o,i+1,l),K=X(o+1,i,l);if((!(N[q]*$<N[Q]*$)||!(F[q]*j<F[ae]*j)||!(I[q]*Y<I[K]*Y))&&(U=!0),U)break}if(U)break}if(U)break}return U&&(h5.warn("Encountered arbitrary coordinates! Unable to input data grid."),v()),{xMin:s,yMin:h,zMin:b,xMax:u,yMax:f,zMax:p,Xs:g,Ys:c,Zs:A,len:a,fill:y}}function c5(e){return h5.distinctVals(e).vals}function Zi(e,r){if(r===void 0&&(r=e.length),h5.isTypedArray(e))return e.subarray(0,r);for(var t=[],n=0;n<r;n++)t[n]=+e[n];return t}HN.exports={calc:hse,filter:Zi,processGrid:UN}});var v5=de((zpe,VN)=>{"use strict";var vse=Go(),dse=Td().processGrid,Ad=Td().filter;VN.exports=function(r,t){t._len=Math.min(t.x.length,t.y.length,t.z.length,t.value.length),t._x=Ad(t.x,t._len),t._y=Ad(t.y,t._len),t._z=Ad(t.z,t._len),t._value=Ad(t.value,t._len);var n=dse(t);t._gridFill=n.fill,t._Xs=n.Xs,t._Ys=n.Ys,t._Zs=n.Zs,t._len=n.len;for(var a=1/0,o=-1/0,i=0;i<t._len;i++){var l=t._value[i];a=Math.min(a,l),o=Math.max(o,l)}t._minValues=a,t._maxValues=o,t._vMin=t.isomin===void 0||t.isomin===null?a:t.isomin,t._vMax=t.isomax===void 0||t.isomax===null?o:t.isomax,vse(r,t,{vals:[t._vMin,t._vMax],containerStr:"",cLetter:"c"})}});var Ku=de((qpe,GN)=>{"use strict";GN.exports=function(r,t,n,a){a=a||r.length;for(var o=new Array(a),i=0;i<a;i++)o[i]=[r[i],t[i],n[i]];return o}});var kd=de((Ope,ZN)=>{"use strict";var pse=pn().gl_mesh3d,gse=hl().parseColorScale,yse=ir().isArrayOrTypedArray,mse=wo(),xse=Ri().extractOpts,YN=Ku(),e0=function(e,r){for(var t=r.length-1;t>0;t--){var n=Math.min(r[t],r[t-1]),a=Math.max(r[t],r[t-1]);if(a>n&&n<e&&e<=a)return{id:t,distRatio:(a-e)/(a-n)}}return{id:0,distRatio:0}};function WN(e,r,t){this.scene=e,this.uid=t,this.mesh=r,this.name="",this.data=null,this.showContour=!1}var d5=WN.prototype;d5.handlePick=function(e){if(e.object===this.mesh){var r=e.data.index,t=this.data._meshX[r],n=this.data._meshY[r],a=this.data._meshZ[r],o=this.data._Ys.length,i=this.data._Zs.length,l=e0(t,this.data._Xs).id,u=e0(n,this.data._Ys).id,s=e0(a,this.data._Zs).id,f=e.index=s+i*u+i*o*l;e.traceCoordinate=[this.data._meshX[f],this.data._meshY[f],this.data._meshZ[f],this.data._value[f]];var h=this.data.hovertext||this.data.text;return yse(h)&&h[f]!==void 0?e.textLabel=h[f]:h&&(e.textLabel=h),!0}};d5.update=function(e){var r=this.scene,t=r.fullSceneLayout;this.data=XN(e);function n(u,s,f,h){return s.map(function(p){return u.d2l(p,0,h)*f})}var a=YN(n(t.xaxis,e._meshX,r.dataScale[0],e.xcalendar),n(t.yaxis,e._meshY,r.dataScale[1],e.ycalendar),n(t.zaxis,e._meshZ,r.dataScale[2],e.zcalendar)),o=YN(e._meshI,e._meshJ,e._meshK),i={positions:a,cells:o,lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,contourEnable:e.contour.show,contourColor:mse(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading},l=xse(e);i.vertexIntensity=e._meshIntensity,i.vertexIntensityBounds=[l.min,l.max],i.colormap=gse(e),this.mesh.update(i)};d5.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var bse=["xyz","xzy","yxz","yzx","zxy","zyx"];function XN(e){e._meshI=[],e._meshJ=[],e._meshK=[];var r=e.surface.show,t=e.spaceframe.show,n=e.surface.fill,a=e.spaceframe.fill,o=!1,i=!1,l=0,u,s,f=e._Xs,h=e._Ys,p=e._Zs,b=f.length,y=h.length,w=p.length,T=bse.indexOf(e._gridFill.replace(/-/g,"").replace(/\+/g,"")),m=function(ke,me,ye){switch(T){case 5:return ye+w*me+w*y*ke;case 4:return ye+w*ke+w*b*me;case 3:return me+y*ye+y*w*ke;case 2:return me+y*ke+y*b*ye;case 1:return ke+b*ye+b*w*me;default:return ke+b*me+b*y*ye}},k=e._minValues,S=e._maxValues,x=e._vMin,M=e._vMax,d,_,g,c;function A(ke,me,ye){for(var pe=c.length,he=s;he<pe;he++)if(ke===d[he]&&me===_[he]&&ye===g[he])return he;return-1}function v(){s=u}function D(){d=[],_=[],g=[],c=[],u=0,v()}function E(ke,me,ye,pe){return d.push(ke),_.push(me),g.push(ye),c.push(pe),u++,u-1}function R(ke,me,ye){return e._meshI.push(ke),e._meshJ.push(me),e._meshK.push(ye),l++,l-1}function N(ke,me,ye){for(var pe=[],he=0;he<ke.length;he++)pe[he]=(ke[he]+me[he]+ye[he])/3;return pe}function F(ke,me,ye){for(var pe=[],he=0;he<ke.length;he++)pe[he]=ke[he]*(1-ye)+ye*me[he];return pe}var I;function L(ke){I=ke}function P(ke,me){var ye=ke[0],pe=ke[1],he=ke[2],xe=N(ye,pe,he),Le=Math.sqrt(1-I),qe=F(xe,ye,Le),Ne=F(xe,pe,Le),$e=F(xe,he,Le),Ve=me[0],Be=me[1],Ye=me[2];return{xyzv:[[ye,pe,Ne],[Ne,qe,ye],[pe,he,$e],[$e,Ne,pe],[he,ye,qe],[qe,$e,he]],abc:[[Ve,Be,-1],[-1,-1,Ve],[Be,Ye,-1],[-1,-1,Be],[Ye,Ve,-1],[-1,-1,Ye]]}}function O(ke,me){return ke==="all"||ke===null?!0:ke.indexOf(me)>-1}function U(ke,me){return ke===null?me:ke}function X(ke,me,ye){v();var pe=[me],he=[ye];if(I>=1)pe=[me],he=[ye];else if(I>0){var xe=P(me,ye);pe=xe.xyzv,he=xe.abc}for(var Le=0;Le<pe.length;Le++){me=pe[Le],ye=he[Le];for(var qe=[],Ne=0;Ne<3;Ne++){var $e=me[Ne][0],Ve=me[Ne][1],Be=me[Ne][2],Ye=me[Ne][3],Te=ye[Ne]>-1?ye[Ne]:A($e,Ve,Be);Te>-1?qe[Ne]=Te:qe[Ne]=E($e,Ve,Be,U(ke,Ye))}R(qe[0],qe[1],qe[2])}}function $(ke,me,ye){var pe=function(he,xe,Le){X(ke,[me[he],me[xe],me[Le]],[ye[he],ye[xe],ye[Le]])};pe(0,1,2),pe(2,3,0)}function j(ke,me,ye){var pe=function(he,xe,Le){X(ke,[me[he],me[xe],me[Le]],[ye[he],ye[xe],ye[Le]])};pe(0,1,2),pe(3,0,1),pe(2,3,0),pe(1,2,3)}function Y(ke,me,ye,pe){var he=ke[3];he<ye&&(he=ye),he>pe&&(he=pe);for(var xe=(ke[3]-he)/(ke[3]-me[3]+1e-9),Le=[],qe=0;qe<4;qe++)Le[qe]=(1-xe)*ke[qe]+xe*me[qe];return Le}function q(ke,me,ye){return ke>=me&&ke<=ye}function Q(ke){var me=.001*(M-x);return ke>=x-me&&ke<=M+me}function ae(ke){for(var me=[],ye=0;ye<4;ye++){var pe=ke[ye];me.push([e._x[pe],e._y[pe],e._z[pe],e._value[pe]])}return me}var K=3;function oe(ke,me,ye,pe,he,xe){xe||(xe=1),ye=[-1,-1,-1];var Le=!1,qe=[q(me[0][3],pe,he),q(me[1][3],pe,he),q(me[2][3],pe,he)];if(!qe[0]&&!qe[1]&&!qe[2])return!1;var Ne=function(Ve,Be,Ye){return Q(Be[0][3])&&Q(Be[1][3])&&Q(Be[2][3])?(X(Ve,Be,Ye),!0):xe<K?oe(Ve,Be,Ye,x,M,++xe):!1};if(qe[0]&&qe[1]&&qe[2])return Ne(ke,me,ye)||Le;var $e=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(Ve){if(qe[Ve[0]]&&qe[Ve[1]]&&!qe[Ve[2]]){var Be=me[Ve[0]],Ye=me[Ve[1]],Te=me[Ve[2]],Re=Y(Te,Be,pe,he),Qe=Y(Te,Ye,pe,he);Le=Ne(ke,[Qe,Re,Be],[-1,-1,ye[Ve[0]]])||Le,Le=Ne(ke,[Be,Ye,Qe],[ye[Ve[0]],ye[Ve[1]],-1])||Le,$e=!0}}),$e||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(Ve){if(qe[Ve[0]]&&!qe[Ve[1]]&&!qe[Ve[2]]){var Be=me[Ve[0]],Ye=me[Ve[1]],Te=me[Ve[2]],Re=Y(Ye,Be,pe,he),Qe=Y(Te,Be,pe,he);Le=Ne(ke,[Qe,Re,Be],[-1,-1,ye[Ve[0]]])||Le,$e=!0}}),Le}function re(ke,me,ye,pe){var he=!1,xe=ae(me),Le=[q(xe[0][3],ye,pe),q(xe[1][3],ye,pe),q(xe[2][3],ye,pe),q(xe[3][3],ye,pe)];if(!Le[0]&&!Le[1]&&!Le[2]&&!Le[3])return he;if(Le[0]&&Le[1]&&Le[2]&&Le[3])return i&&(he=j(ke,xe,me)||he),he;var qe=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Ne){if(Le[Ne[0]]&&Le[Ne[1]]&&Le[Ne[2]]&&!Le[Ne[3]]){var $e=xe[Ne[0]],Ve=xe[Ne[1]],Be=xe[Ne[2]],Ye=xe[Ne[3]];if(i)he=X(ke,[$e,Ve,Be],[me[Ne[0]],me[Ne[1]],me[Ne[2]]])||he;else{var Te=Y(Ye,$e,ye,pe),Re=Y(Ye,Ve,ye,pe),Qe=Y(Ye,Be,ye,pe);he=X(null,[Te,Re,Qe],[-1,-1,-1])||he}qe=!0}}),qe||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Ne){if(Le[Ne[0]]&&Le[Ne[1]]&&!Le[Ne[2]]&&!Le[Ne[3]]){var $e=xe[Ne[0]],Ve=xe[Ne[1]],Be=xe[Ne[2]],Ye=xe[Ne[3]],Te=Y(Be,$e,ye,pe),Re=Y(Be,Ve,ye,pe),Qe=Y(Ye,Ve,ye,pe),Ke=Y(Ye,$e,ye,pe);i?(he=X(ke,[$e,Ke,Te],[me[Ne[0]],-1,-1])||he,he=X(ke,[Ve,Re,Qe],[me[Ne[1]],-1,-1])||he):he=$(null,[Te,Re,Qe,Ke],[-1,-1,-1,-1])||he,qe=!0}}),qe)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Ne){if(Le[Ne[0]]&&!Le[Ne[1]]&&!Le[Ne[2]]&&!Le[Ne[3]]){var $e=xe[Ne[0]],Ve=xe[Ne[1]],Be=xe[Ne[2]],Ye=xe[Ne[3]],Te=Y(Ve,$e,ye,pe),Re=Y(Be,$e,ye,pe),Qe=Y(Ye,$e,ye,pe);i?(he=X(ke,[$e,Te,Re],[me[Ne[0]],-1,-1])||he,he=X(ke,[$e,Re,Qe],[me[Ne[0]],-1,-1])||he,he=X(ke,[$e,Qe,Te],[me[Ne[0]],-1,-1])||he):he=X(null,[Te,Re,Qe],[-1,-1,-1])||he,qe=!0}}),he}function V(ke,me,ye,pe,he,xe,Le,qe,Ne,$e,Ve){var Be=!1;return o&&(O(ke,"A")&&(Be=re(null,[me,ye,pe,xe],$e,Ve)||Be),O(ke,"B")&&(Be=re(null,[ye,pe,he,Ne],$e,Ve)||Be),O(ke,"C")&&(Be=re(null,[ye,xe,Le,Ne],$e,Ve)||Be),O(ke,"D")&&(Be=re(null,[pe,xe,qe,Ne],$e,Ve)||Be),O(ke,"E")&&(Be=re(null,[ye,pe,xe,Ne],$e,Ve)||Be)),i&&(Be=re(ke,[ye,pe,xe,Ne],$e,Ve)||Be),Be}function ee(ke,me,ye,pe,he,xe,Le,qe){return[qe[0]===!0?!0:oe(ke,ae([me,ye,pe]),[me,ye,pe],xe,Le),qe[1]===!0?!0:oe(ke,ae([pe,he,me]),[pe,he,me],xe,Le)]}function H(ke,me,ye,pe,he,xe,Le,qe,Ne){return qe?ee(ke,me,ye,he,pe,xe,Le,Ne):ee(ke,ye,he,pe,me,xe,Le,Ne)}function te(ke,me,ye,pe,he,xe,Le){var qe=!1,Ne,$e,Ve,Be,Ye=function(){qe=oe(ke,[Ne,$e,Ve],[-1,-1,-1],he,xe)||qe,qe=oe(ke,[Ve,Be,Ne],[-1,-1,-1],he,xe)||qe},Te=Le[0],Re=Le[1],Qe=Le[2];return Te&&(Ne=F(ae([m(me,ye-0,pe-0)])[0],ae([m(me-1,ye-0,pe-0)])[0],Te),$e=F(ae([m(me,ye-0,pe-1)])[0],ae([m(me-1,ye-0,pe-1)])[0],Te),Ve=F(ae([m(me,ye-1,pe-1)])[0],ae([m(me-1,ye-1,pe-1)])[0],Te),Be=F(ae([m(me,ye-1,pe-0)])[0],ae([m(me-1,ye-1,pe-0)])[0],Te),Ye()),Re&&(Ne=F(ae([m(me-0,ye,pe-0)])[0],ae([m(me-0,ye-1,pe-0)])[0],Re),$e=F(ae([m(me-0,ye,pe-1)])[0],ae([m(me-0,ye-1,pe-1)])[0],Re),Ve=F(ae([m(me-1,ye,pe-1)])[0],ae([m(me-1,ye-1,pe-1)])[0],Re),Be=F(ae([m(me-1,ye,pe-0)])[0],ae([m(me-1,ye-1,pe-0)])[0],Re),Ye()),Qe&&(Ne=F(ae([m(me-0,ye-0,pe)])[0],ae([m(me-0,ye-0,pe-1)])[0],Qe),$e=F(ae([m(me-0,ye-1,pe)])[0],ae([m(me-0,ye-1,pe-1)])[0],Qe),Ve=F(ae([m(me-1,ye-1,pe)])[0],ae([m(me-1,ye-1,pe-1)])[0],Qe),Be=F(ae([m(me-1,ye-0,pe)])[0],ae([m(me-1,ye-0,pe-1)])[0],Qe),Ye()),qe}function le(ke,me,ye,pe,he,xe,Le,qe,Ne,$e,Ve,Be){var Ye=ke;return Be?(o&&ke==="even"&&(Ye=null),V(Ye,me,ye,pe,he,xe,Le,qe,Ne,$e,Ve)):(o&&ke==="odd"&&(Ye=null),V(Ye,Ne,qe,Le,xe,he,pe,ye,me,$e,Ve))}function ve(ke,me,ye,pe,he){for(var xe=[],Le=0,qe=0;qe<me.length;qe++)for(var Ne=me[qe],$e=1;$e<w;$e++)for(var Ve=1;Ve<y;Ve++)xe.push(H(ke,m(Ne,Ve-1,$e-1),m(Ne,Ve-1,$e),m(Ne,Ve,$e-1),m(Ne,Ve,$e),ye,pe,(Ne+Ve+$e)%2,he&&he[Le]?he[Le]:[])),Le++;return xe}function Ae(ke,me,ye,pe,he){for(var xe=[],Le=0,qe=0;qe<me.length;qe++)for(var Ne=me[qe],$e=1;$e<b;$e++)for(var Ve=1;Ve<w;Ve++)xe.push(H(ke,m($e-1,Ne,Ve-1),m($e,Ne,Ve-1),m($e-1,Ne,Ve),m($e,Ne,Ve),ye,pe,($e+Ne+Ve)%2,he&&he[Le]?he[Le]:[])),Le++;return xe}function we(ke,me,ye,pe,he){for(var xe=[],Le=0,qe=0;qe<me.length;qe++)for(var Ne=me[qe],$e=1;$e<y;$e++)for(var Ve=1;Ve<b;Ve++)xe.push(H(ke,m(Ve-1,$e-1,Ne),m(Ve-1,$e,Ne),m(Ve,$e-1,Ne),m(Ve,$e,Ne),ye,pe,(Ve+$e+Ne)%2,he&&he[Le]?he[Le]:[])),Le++;return xe}function ce(ke,me,ye){for(var pe=1;pe<w;pe++)for(var he=1;he<y;he++)for(var xe=1;xe<b;xe++)le(ke,m(xe-1,he-1,pe-1),m(xe-1,he-1,pe),m(xe-1,he,pe-1),m(xe-1,he,pe),m(xe,he-1,pe-1),m(xe,he-1,pe),m(xe,he,pe-1),m(xe,he,pe),me,ye,(xe+he+pe)%2)}function Se(ke,me,ye){i=!0,ce(ke,me,ye),i=!1}function Ce(ke,me,ye){o=!0,ce(ke,me,ye),o=!1}function Fe(ke,me,ye,pe,he,xe){for(var Le=[],qe=0,Ne=0;Ne<me.length;Ne++)for(var $e=me[Ne],Ve=1;Ve<w;Ve++)for(var Be=1;Be<y;Be++)Le.push(te(ke,$e,Be,Ve,ye,pe,he[Ne],xe&&xe[qe]?xe[qe]:[])),qe++;return Le}function Ee(ke,me,ye,pe,he,xe){for(var Le=[],qe=0,Ne=0;Ne<me.length;Ne++)for(var $e=me[Ne],Ve=1;Ve<b;Ve++)for(var Be=1;Be<w;Be++)Le.push(te(ke,Ve,$e,Be,ye,pe,he[Ne],xe&&xe[qe]?xe[qe]:[])),qe++;return Le}function ze(ke,me,ye,pe,he,xe){for(var Le=[],qe=0,Ne=0;Ne<me.length;Ne++)for(var $e=me[Ne],Ve=1;Ve<y;Ve++)for(var Be=1;Be<b;Be++)Le.push(te(ke,Be,Ve,$e,ye,pe,he[Ne],xe&&xe[qe]?xe[qe]:[])),qe++;return Le}function Ue(ke,me){for(var ye=[],pe=ke;pe<me;pe++)ye.push(pe);return ye}function ge(){for(var ke=0;ke<b;ke++)for(var me=0;me<y;me++)for(var ye=0;ye<w;ye++){var pe=m(ke,me,ye);E(e._x[pe],e._y[pe],e._z[pe],e._value[pe])}}function Me(){D(),ge();var ke=null;if(t&&a&&(L(a),Se(ke,x,M)),r&&n){L(n);for(var me=e.surface.pattern,ye=e.surface.count,pe=0;pe<ye;pe++){var he=ye===1?.5:pe/(ye-1),xe=(1-he)*x+he*M,Le=Math.abs(xe-k),qe=Math.abs(xe-S),Ne=Le>qe?[k,xe]:[xe,S];Ce(me,Ne[0],Ne[1])}}var $e=[[Math.min(x,S),Math.max(x,S)],[Math.min(k,M),Math.max(k,M)]];["x","y","z"].forEach(function(Ve){for(var Be=[],Ye=0;Ye<$e.length;Ye++){var Te=0,Re=$e[Ye][0],Qe=$e[Ye][1],Ke=e.slices[Ve];if(Ke.show&&Ke.fill){L(Ke.fill);var ar=[],ue=[],J=[];if(Ke.locations.length)for(var ne=0;ne<Ke.locations.length;ne++){var De=e0(Ke.locations[ne],Ve==="x"?f:Ve==="y"?h:p);De.distRatio===0?ar.push(De.id):De.id>0&&(ue.push(De.id),Ve==="x"?J.push([De.distRatio,0,0]):Ve==="y"?J.push([0,De.distRatio,0]):J.push([0,0,De.distRatio]))}else Ve==="x"?ar=Ue(1,b-1):Ve==="y"?ar=Ue(1,y-1):ar=Ue(1,w-1);ue.length>0&&(Ve==="x"?Be[Te]=Fe(ke,ue,Re,Qe,J,Be[Te]):Ve==="y"?Be[Te]=Ee(ke,ue,Re,Qe,J,Be[Te]):Be[Te]=ze(ke,ue,Re,Qe,J,Be[Te]),Te++),ar.length>0&&(Ve==="x"?Be[Te]=ve(ke,ar,Re,Qe,Be[Te]):Ve==="y"?Be[Te]=Ae(ke,ar,Re,Qe,Be[Te]):Be[Te]=we(ke,ar,Re,Qe,Be[Te]),Te++)}var He=e.caps[Ve];He.show&&He.fill&&(L(He.fill),Ve==="x"?Be[Te]=ve(ke,[0,b-1],Re,Qe,Be[Te]):Ve==="y"?Be[Te]=Ae(ke,[0,y-1],Re,Qe,Be[Te]):Be[Te]=we(ke,[0,w-1],Re,Qe,Be[Te]),Te++)}}),l===0&&D(),e._meshX=d,e._meshY=_,e._meshZ=g,e._meshIntensity=c,e._Xs=f,e._Ys=h,e._Zs=p}return Me(),e}function _se(e,r){var t=e.glplot.gl,n=pse({gl:t}),a=new WN(e,n,r.uid);return n._trace=a,a.update(r),e.glplot.add(n),a}ZN.exports={findNearestOnAxis:e0,generateIsoMeshes:XN,createIsosurfaceTrace:_se}});var KN=de((Bpe,JN)=>{"use strict";JN.exports={attributes:Md(),supplyDefaults:f5().supplyDefaults,calc:v5(),colorbar:{min:"cmin",max:"cmax"},plot:kd().createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:vl(),categories:["gl3d","showLegend"],meta:{}}});var $N=de((Upe,QN)=>{"use strict";QN.exports=KN()});var g5=de((Hpe,ez)=>{"use strict";var wse=ni(),Xt=Md(),Mse=Qc(),jN=Sn(),p5=Tt().extendFlat,Tse=qn().overrideAll,Sd=ez.exports=Tse(p5({x:Xt.x,y:Xt.y,z:Xt.z,value:Xt.value,isomin:Xt.isomin,isomax:Xt.isomax,surface:Xt.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:Xt.slices,caps:Xt.caps,text:Xt.text,hovertext:Xt.hovertext,xhoverformat:Xt.xhoverformat,yhoverformat:Xt.yhoverformat,zhoverformat:Xt.zhoverformat,valuehoverformat:Xt.valuehoverformat,hovertemplate:Xt.hovertemplate,hovertemplatefallback:Xt.hovertemplatefallback},wse("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:Xt.colorbar,opacity:Xt.opacity,opacityscale:Mse.opacityscale,lightposition:Xt.lightposition,lighting:Xt.lighting,flatshading:Xt.flatshading,contour:Xt.contour,hoverinfo:p5({},jN.hoverinfo),showlegend:p5({},jN.showlegend,{dflt:!1})}),"calc","nested");Sd.x.editType=Sd.y.editType=Sd.z.editType=Sd.value.editType="calc+clearAxisTypes"});var tz=de((Vpe,rz)=>{"use strict";var Ase=ir(),kse=g5(),Sse=f5().supplyIsoDefaults,Cse=a5().opacityscaleDefaults;rz.exports=function(r,t,n,a){function o(i,l){return Ase.coerce(r,t,kse,i,l)}Sse(r,t,n,a,o),Cse(r,t,a,o)}});var oz=de((Gpe,iz)=>{"use strict";var Ese=pn().gl_mesh3d,Lse=hl().parseColorScale,Dse=ir().isArrayOrTypedArray,Rse=wo(),Pse=Ri().extractOpts,nz=Ku(),y5=kd().findNearestOnAxis,Ise=kd().generateIsoMeshes;function az(e,r,t){this.scene=e,this.uid=t,this.mesh=r,this.name="",this.data=null,this.showContour=!1}var m5=az.prototype;m5.handlePick=function(e){if(e.object===this.mesh){var r=e.data.index,t=this.data._meshX[r],n=this.data._meshY[r],a=this.data._meshZ[r],o=this.data._Ys.length,i=this.data._Zs.length,l=y5(t,this.data._Xs).id,u=y5(n,this.data._Ys).id,s=y5(a,this.data._Zs).id,f=e.index=s+i*u+i*o*l;e.traceCoordinate=[this.data._meshX[f],this.data._meshY[f],this.data._meshZ[f],this.data._value[f]];var h=this.data.hovertext||this.data.text;return Dse(h)&&h[f]!==void 0?e.textLabel=h[f]:h&&(e.textLabel=h),!0}};m5.update=function(e){var r=this.scene,t=r.fullSceneLayout;this.data=Ise(e);function n(u,s,f,h){return s.map(function(p){return u.d2l(p,0,h)*f})}var a=nz(n(t.xaxis,e._meshX,r.dataScale[0],e.xcalendar),n(t.yaxis,e._meshY,r.dataScale[1],e.ycalendar),n(t.zaxis,e._meshZ,r.dataScale[2],e.zcalendar)),o=nz(e._meshI,e._meshJ,e._meshK),i={positions:a,cells:o,lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,opacityscale:e.opacityscale,contourEnable:e.contour.show,contourColor:Rse(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading},l=Pse(e);i.vertexIntensity=e._meshIntensity,i.vertexIntensityBounds=[l.min,l.max],i.colormap=Lse(e),this.mesh.update(i)};m5.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function Fse(e,r){var t=e.glplot.gl,n=Ese({gl:t}),a=new az(e,n,r.uid);return n._trace=a,a.update(r),e.glplot.add(n),a}iz.exports=Fse});var sz=de((Ype,lz)=>{"use strict";lz.exports={attributes:g5(),supplyDefaults:tz(),calc:v5(),colorbar:{min:"cmin",max:"cmax"},plot:oz(),moduleType:"trace",name:"volume",basePlotModule:vl(),categories:["gl3d","showLegend"],meta:{}}});var fz=de((Wpe,uz)=>{"use strict";uz.exports=sz()});var vz=de((Xpe,hz)=>{"use strict";var Nse=Er(),cz=ir(),zse=Di(),qse=Zu();hz.exports=function(r,t,n,a){function o(f,h){return cz.coerce(r,t,qse,f,h)}function i(f){var h=f.map(function(p){var b=o(p);return b&&cz.isArrayOrTypedArray(b)?b:null});return h.every(function(p){return p&&p.length===h[0].length})&&h}var l=i(["x","y","z"]);if(!l){t.visible=!1;return}if(i(["i","j","k"]),t.i&&(!t.j||!t.k)||t.j&&(!t.k||!t.i)||t.k&&(!t.i||!t.j)){t.visible=!1;return}var u=Nse.getComponentMethod("calendars","handleTraceDefaults");u(r,t,["x","y","z"],a),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(f){o(f)});var s=o("contour.show");s&&(o("contour.color"),o("contour.width")),"intensity"in r?(o("intensity"),o("intensitymode"),zse(r,t,a,o,{prefix:"",cLetter:"c"})):(t.showscale=!1,"facecolor"in r?o("facecolor"):"vertexcolor"in r?o("vertexcolor"):o("color",n)),o("text"),o("hovertext"),o("hovertemplate"),o("hovertemplatefallback"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),t._length=null}});var pz=de((Zpe,dz)=>{"use strict";var Ose=Go();dz.exports=function(r,t){t.intensity&&Ose(r,t,{vals:t.intensity,containerStr:"",cLetter:"c"})}});var bz=de((Jpe,xz)=>{"use strict";var Bse=pn().gl_mesh3d,Use=pn().delaunay_triangulate,Hse=pn().alpha_shape,Vse=pn().convex_hull,Gse=hl().parseColorScale,Yse=ir().isArrayOrTypedArray,w5=wo(),Wse=Ri().extractOpts,gz=Ku();function mz(e,r,t){this.scene=e,this.uid=t,this.mesh=r,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var M5=mz.prototype;M5.handlePick=function(e){if(e.object===this.mesh){var r=e.index=e.data.index;e.data._cellCenter?e.traceCoordinate=e.data.dataCoordinate:e.traceCoordinate=[this.data.x[r],this.data.y[r],this.data.z[r]];var t=this.data.hovertext||this.data.text;return Yse(t)&&t[r]!==void 0?e.textLabel=t[r]:t&&(e.textLabel=t),!0}};function yz(e){for(var r=[],t=e.length,n=0;n<t;n++)r[n]=w5(e[n]);return r}function x5(e,r,t,n){for(var a=[],o=r.length,i=0;i<o;i++)a[i]=e.d2l(r[i],0,n)*t;return a}function b5(e){for(var r=[],t=e.length,n=0;n<t;n++)r[n]=Math.round(e[n]);return r}function Xse(e,r){for(var t=["x","y","z"].indexOf(e),n=[],a=r.length,o=0;o<a;o++)n[o]=[r[o][(t+1)%3],r[o][(t+2)%3]];return Use(n)}function _5(e,r){for(var t=e.length,n=0;n<t;n++)if(e[n]<=-.5||e[n]>=r-.5)return!1;return!0}M5.update=function(e){var r=this.scene,t=r.fullSceneLayout;this.data=e;var n=e.x.length,a=gz(x5(t.xaxis,e.x,r.dataScale[0],e.xcalendar),x5(t.yaxis,e.y,r.dataScale[1],e.ycalendar),x5(t.zaxis,e.z,r.dataScale[2],e.zcalendar)),o;if(e.i&&e.j&&e.k){if(e.i.length!==e.j.length||e.j.length!==e.k.length||!_5(e.i,n)||!_5(e.j,n)||!_5(e.k,n))return;o=gz(b5(e.i),b5(e.j),b5(e.k))}else e.alphahull===0?o=Vse(a):e.alphahull>0?o=Hse(e.alphahull,a):o=Xse(e.delaunayaxis,a);var i={positions:a,cells:o,lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,contourEnable:e.contour.show,contourColor:w5(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading};if(e.intensity){var l=Wse(e);this.color="#fff";var u=e.intensitymode;i[u+"Intensity"]=e.intensity,i[u+"IntensityBounds"]=[l.min,l.max],i.colormap=Gse(e)}else e.vertexcolor?(this.color=e.vertexcolor[0],i.vertexColors=yz(e.vertexcolor)):e.facecolor?(this.color=e.facecolor[0],i.cellColors=yz(e.facecolor)):(this.color=e.color,i.meshColor=w5(e.color));this.mesh.update(i)};M5.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function Zse(e,r){var t=e.glplot.gl,n=Bse({gl:t}),a=new mz(e,n,r.uid);return n._trace=a,a.update(r),e.glplot.add(n),a}xz.exports=Zse});var wz=de((Kpe,_z)=>{"use strict";_z.exports={attributes:Zu(),supplyDefaults:vz(),calc:pz(),colorbar:{min:"cmin",max:"cmax"},plot:bz(),moduleType:"trace",name:"mesh3d",basePlotModule:vl(),categories:["gl3d","showLegend"],meta:{}}});var Tz=de((Qpe,Mz)=>{"use strict";Mz.exports=wz()});var A5=de(($pe,kz)=>{"use strict";var Jse=ni(),Qu=lo().axisHoverFormat,{hovertemplateAttrs:Kse,templatefallbackAttrs:Qse}=ja(),$se=Zu(),Az=Sn(),T5=Tt().extendFlat,Cd={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute","raw"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:Kse({editType:"calc"},{keys:["norm"]}),hovertemplatefallback:Qse({editType:"calc"}),uhoverformat:Qu("u",1),vhoverformat:Qu("v",1),whoverformat:Qu("w",1),xhoverformat:Qu("x"),yhoverformat:Qu("y"),zhoverformat:Qu("z"),showlegend:T5({},Az.showlegend,{dflt:!1})};T5(Cd,Jse("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var jse=["opacity","lightposition","lighting"];jse.forEach(function(e){Cd[e]=$se[e]});Cd.hoverinfo=T5({},Az.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"});kz.exports=Cd});var Cz=de((jpe,Sz)=>{"use strict";var eue=ir(),rue=Di(),tue=A5();Sz.exports=function(r,t,n,a){function o(b,y){return eue.coerce(r,t,tue,b,y)}var i=o("u"),l=o("v"),u=o("w"),s=o("x"),f=o("y"),h=o("z");if(!i||!i.length||!l||!l.length||!u||!u.length||!s||!s.length||!f||!f.length||!h||!h.length){t.visible=!1;return}var p=o("sizemode");o("sizeref",p==="raw"?1:.5),o("anchor"),o("lighting.ambient"),o("lighting.diffuse"),o("lighting.specular"),o("lighting.roughness"),o("lighting.fresnel"),o("lightposition.x"),o("lightposition.y"),o("lightposition.z"),rue(r,t,a,o,{prefix:"",cLetter:"c"}),o("text"),o("hovertext"),o("hovertemplate"),o("hovertemplatefallback"),o("uhoverformat"),o("vhoverformat"),o("whoverformat"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),t._length=null}});var Lz=de((ege,Ez)=>{"use strict";var nue=Go();Ez.exports=function(r,t){for(var n=t.u,a=t.v,o=t.w,i=Math.min(t.x.length,t.y.length,t.z.length,n.length,a.length,o.length),l=-1/0,u=1/0,s=0;s<i;s++){var f=n[s],h=a[s],p=o[s],b=Math.sqrt(f*f+h*h+p*p);l=Math.max(l,b),u=Math.min(u,b)}t._len=i,t._normMax=l,nue(r,t,{vals:[u,l],containerStr:"",cLetter:"c"})}});var Fz=de((rge,Iz)=>{"use strict";var aue=pn().gl_cone3d,iue=pn().gl_cone3d.createConeMesh,oue=ir().simpleMap,lue=hl().parseColorScale,sue=Ri().extractOpts,uue=ir().isArrayOrTypedArray,Dz=Ku();function Rz(e,r){this.scene=e,this.uid=r,this.mesh=null,this.data=null}var k5=Rz.prototype;k5.handlePick=function(e){if(e.object===this.mesh){var r=e.index=e.data.index,t=this.data.x[r],n=this.data.y[r],a=this.data.z[r],o=this.data.u[r],i=this.data.v[r],l=this.data.w[r];e.traceCoordinate=[t,n,a,o,i,l,Math.sqrt(o*o+i*i+l*l)];var u=this.data.hovertext||this.data.text;return uue(u)&&u[r]!==void 0?e.textLabel=u[r]:u&&(e.textLabel=u),!0}};var fue={xaxis:0,yaxis:1,zaxis:2},cue={tip:1,tail:0,cm:.25,center:.5},hue={tip:1,tail:1,cm:.75,center:.5};function Pz(e,r){var t=e.fullSceneLayout,n=e.dataScale,a={};function o(f,h){var p=t[h],b=n[fue[h]];return oue(f,function(y){return p.d2l(y)*b})}a.vectors=Dz(o(r.u,"xaxis"),o(r.v,"yaxis"),o(r.w,"zaxis"),r._len),a.positions=Dz(o(r.x,"xaxis"),o(r.y,"yaxis"),o(r.z,"zaxis"),r._len);var i=sue(r);a.colormap=lue(r),a.vertexIntensityBounds=[i.min/r._normMax,i.max/r._normMax],a.coneOffset=cue[r.anchor];var l=r.sizemode;l==="scaled"?a.coneSize=r.sizeref||.5:l==="absolute"?a.coneSize=r.sizeref&&r._normMax?r.sizeref/r._normMax:.5:l==="raw"&&(a.coneSize=r.sizeref),a.coneSizemode=l;var u=aue(a),s=r.lightposition;return u.lightPosition=[s.x,s.y,s.z],u.ambient=r.lighting.ambient,u.diffuse=r.lighting.diffuse,u.specular=r.lighting.specular,u.roughness=r.lighting.roughness,u.fresnel=r.lighting.fresnel,u.opacity=r.opacity,r._pad=hue[r.anchor]*u.vectorScale*u.coneScale*r._normMax,u}k5.update=function(e){this.data=e;var r=Pz(this.scene,e);this.mesh.update(r)};k5.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function vue(e,r){var t=e.glplot.gl,n=Pz(e,r),a=iue(t,n),o=new Rz(e,r.uid);return o.mesh=a,o.data=r,a._trace=o,e.glplot.add(a),o}Iz.exports=vue});var zz=de((tge,Nz)=>{"use strict";Nz.exports={moduleType:"trace",name:"cone",basePlotModule:vl(),categories:["gl3d","showLegend"],attributes:A5(),supplyDefaults:Cz(),colorbar:{min:"cmin",max:"cmax"},calc:Lz(),plot:Fz(),eventData:function(e,r){return e.norm=r.traceCoordinate[6],e},meta:{}}});var Oz=de((nge,qz)=>{"use strict";qz.exports=zz()});var C5=de((age,Uz)=>{"use strict";var due=ni(),$u=lo().axisHoverFormat,{hovertemplateAttrs:pue,templatefallbackAttrs:gue}=ja(),yue=Zu(),Bz=Sn(),S5=Tt().extendFlat,Ed={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:pue({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),hovertemplatefallback:gue({editType:"calc"}),uhoverformat:$u("u",1),vhoverformat:$u("v",1),whoverformat:$u("w",1),xhoverformat:$u("x"),yhoverformat:$u("y"),zhoverformat:$u("z"),showlegend:S5({},Bz.showlegend,{dflt:!1})};S5(Ed,due("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var mue=["opacity","lightposition","lighting"];mue.forEach(function(e){Ed[e]=yue[e]});Ed.hoverinfo=S5({},Bz.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"});Uz.exports=Ed});var Vz=de((ige,Hz)=>{"use strict";var xue=ir(),bue=Di(),_ue=C5();Hz.exports=function(r,t,n,a){function o(p,b){return xue.coerce(r,t,_ue,p,b)}var i=o("u"),l=o("v"),u=o("w"),s=o("x"),f=o("y"),h=o("z");if(!i||!i.length||!l||!l.length||!u||!u.length||!s||!s.length||!f||!f.length||!h||!h.length){t.visible=!1;return}o("starts.x"),o("starts.y"),o("starts.z"),o("maxdisplayed"),o("sizeref"),o("lighting.ambient"),o("lighting.diffuse"),o("lighting.specular"),o("lighting.roughness"),o("lighting.fresnel"),o("lightposition.x"),o("lightposition.y"),o("lightposition.z"),bue(r,t,a,o,{prefix:"",cLetter:"c"}),o("text"),o("hovertext"),o("hovertemplate"),o("hovertemplatefallback"),o("uhoverformat"),o("vhoverformat"),o("whoverformat"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),t._length=null}});var Qz=de((oge,Kz)=>{"use strict";var Wz=pn().gl_streamtube3d,wue=Wz.createTubeMesh,Mue=ir(),Tue=hl().parseColorScale,Aue=Ri().extractOpts,Gz=Ku(),Xz={xaxis:0,yaxis:1,zaxis:2};function Zz(e,r){this.scene=e,this.uid=r,this.mesh=null,this.data=null}var L5=Zz.prototype;L5.handlePick=function(e){var r=this.scene.fullSceneLayout,t=this.scene.dataScale;function n(i,l){var u=r[l],s=t[Xz[l]];return u.l2c(i)/s}if(e.object===this.mesh){var a=e.data.position,o=e.data.velocity;return e.traceCoordinate=[n(a[0],"xaxis"),n(a[1],"yaxis"),n(a[2],"zaxis"),n(o[0],"xaxis"),n(o[1],"yaxis"),n(o[2],"zaxis"),e.data.intensity*this.data._normMax,e.data.divergence],e.textLabel=this.data.hovertext||this.data.text,!0}};function Yz(e){var r=e.length,t;return r>2?t=e.slice(1,r-1):r===2?t=[(e[0]+e[1])/2]:t=e,t}function E5(e){var r=e.length;return r===1?[.5,.5]:[e[1]-e[0],e[r-1]-e[r-2]]}function Jz(e,r){var t=e.fullSceneLayout,n=e.dataScale,a=r._len,o={};function i(D,E){var R=t[E],N=n[Xz[E]];return Mue.simpleMap(D,function(F){return R.d2l(F)*N})}if(o.vectors=Gz(i(r._u,"xaxis"),i(r._v,"yaxis"),i(r._w,"zaxis"),a),!a)return{positions:[],cells:[]};var l=i(r._Xs,"xaxis"),u=i(r._Ys,"yaxis"),s=i(r._Zs,"zaxis");o.meshgrid=[l,u,s],o.gridFill=r._gridFill;var f=r._slen;if(f)o.startingPositions=Gz(i(r._startsX,"xaxis"),i(r._startsY,"yaxis"),i(r._startsZ,"zaxis"));else{for(var h=u[0],p=Yz(l),b=Yz(s),y=new Array(p.length*b.length),w=0,T=0;T<p.length;T++)for(var m=0;m<b.length;m++)y[w++]=[p[T],h,b[m]];o.startingPositions=y}o.colormap=Tue(r),o.tubeSize=r.sizeref,o.maxLength=r.maxdisplayed;var k=i(r._xbnds,"xaxis"),S=i(r._ybnds,"yaxis"),x=i(r._zbnds,"zaxis"),M=E5(l),d=E5(u),_=E5(s),g=[[k[0]-M[0],S[0]-d[0],x[0]-_[0]],[k[1]+M[1],S[1]+d[1],x[1]+_[1]]],c=Wz(o,g),A=Aue(r);c.vertexIntensityBounds=[A.min/r._normMax,A.max/r._normMax];var v=r.lightposition;return c.lightPosition=[v.x,v.y,v.z],c.ambient=r.lighting.ambient,c.diffuse=r.lighting.diffuse,c.specular=r.lighting.specular,c.roughness=r.lighting.roughness,c.fresnel=r.lighting.fresnel,c.opacity=r.opacity,r._pad=c.tubeScale*r.sizeref*2,c}L5.update=function(e){this.data=e;var r=Jz(this.scene,e);this.mesh.update(r)};L5.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function kue(e,r){var t=e.glplot.gl,n=Jz(e,r),a=wue(t,n),o=new Zz(e,r.uid);return o.mesh=a,o.data=r,a._trace=o,e.glplot.add(a),o}Kz.exports=kue});var jz=de((lge,$z)=>{"use strict";$z.exports={moduleType:"trace",name:"streamtube",basePlotModule:vl(),categories:["gl3d","showLegend"],attributes:C5(),supplyDefaults:Vz(),colorbar:{min:"cmin",max:"cmax"},calc:Td().calc,plot:Qz(),eventData:function(e,r){return e.tubex=e.x,e.tubey=e.y,e.tubez=e.z,e.tubeu=r.traceCoordinate[3],e.tubev=r.traceCoordinate[4],e.tubew=r.traceCoordinate[5],e.norm=r.traceCoordinate[6],e.divergence=r.traceCoordinate[7],delete e.x,delete e.y,delete e.z,e},meta:{}}});var rq=de((sge,eq)=>{"use strict";eq.exports=jz()});var Pn=de((uge,nq)=>{"use strict";var tq=Object.getOwnPropertySymbols,Sue=Object.prototype.hasOwnProperty,Cue=Object.prototype.propertyIsEnumerable;function Eue(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Lue(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var r={},t=0;t<10;t++)r["_"+String.fromCharCode(t)]=t;var n=Object.getOwnPropertyNames(r).map(function(o){return r[o]});if(n.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(o){a[o]=o}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch(o){return!1}}nq.exports=Lue()?Object.assign:function(e,r){for(var t,n=Eue(e),a,o=1;o<arguments.length;o++){t=Object(arguments[o]);for(var i in t)Sue.call(t,i)&&(n[i]=t[i]);if(tq){a=tq(t);for(var l=0;l<a.length;l++)Cue.call(t,a[l])&&(n[a[l]]=t[a[l]])}}return n}});var In=de((fge,iq)=>{var Dd=Pn();function aq(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}Dd(aq.prototype,{instance:function(e,r){e=(e||"gregorian").toLowerCase(),r=r||"";var t=this._localCals[e+"-"+r];if(!t&&this.calendars[e]&&(t=new this.calendars[e](r),this._localCals[e+"-"+r]=t),!t)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,e);return t},newDate:function(e,r,t,n,a){return n=(e!=null&&e.year?e.calendar():typeof n=="string"?this.instance(n,a):n)||this.instance(),n.newDate(e,r,t)},substituteDigits:function(e){return function(r){return(r+"").replace(/[0-9]/g,function(t){return e[t]})}},substituteChineseDigits:function(e,r){return function(t){for(var n="",a=0;t>0;){var o=t%10;n=(o===0?"":e[o]+r[a])+n,a++,t=Math.floor(t/10)}return n.indexOf(e[1]+r[1])===0&&(n=n.substr(1)),n||e[0]}}});function D5(e,r,t,n){if(this._calendar=e,this._year=r,this._month=t,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(Yr.local.invalidDate||Yr.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function Ld(e,r){return e=""+e,"000000".substring(0,r-e.length)+e}Dd(D5.prototype,{newDate:function(e,r,t){return this._calendar.newDate(e==null?this:e,r,t)},year:function(e){return arguments.length===0?this._year:this.set(e,"y")},month:function(e){return arguments.length===0?this._month:this.set(e,"m")},day:function(e){return arguments.length===0?this._day:this.set(e,"d")},date:function(e,r,t){if(!this._calendar.isValid(e,r,t))throw(Yr.local.invalidDate||Yr.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=e,this._month=r,this._day=t,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(e,r){return this._calendar.add(this,e,r)},set:function(e,r){return this._calendar.set(this,e,r)},compareTo:function(e){if(this._calendar.name!==e._calendar.name)throw(Yr.local.differentCalendars||Yr.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,e._calendar.local.name);var r=this._year!==e._year?this._year-e._year:this._month!==e._month?this.monthOfYear()-e.monthOfYear():this._day-e._day;return r===0?0:r<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(e){return this._calendar.fromJD(e)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(e){return this._calendar.fromJSDate(e)},toString:function(){return(this.year()<0?"-":"")+Ld(Math.abs(this.year()),4)+"-"+Ld(this.month(),2)+"-"+Ld(this.day(),2)}});function R5(){this.shortYearCutoff="+10"}Dd(R5.prototype,{_validateLevel:0,newDate:function(e,r,t){return e==null?this.today():(e.year&&(this._validate(e,r,t,Yr.local.invalidDate||Yr.regionalOptions[""].invalidDate),t=e.day(),r=e.month(),e=e.year()),new D5(this,e,r,t))},today:function(){return this.fromJSDate(new Date)},epoch:function(e){var r=this._validate(e,this.minMonth,this.minDay,Yr.local.invalidYear||Yr.regionalOptions[""].invalidYear);return r.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Yr.local.invalidYear||Yr.regionalOptions[""].invalidYear);return(r.year()<0?"-":"")+Ld(Math.abs(r.year()),4)},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Yr.local.invalidYear||Yr.regionalOptions[""].invalidYear),12},monthOfYear:function(e,r){var t=this._validate(e,r,this.minDay,Yr.local.invalidMonth||Yr.regionalOptions[""].invalidMonth);return(t.month()+this.monthsInYear(t)-this.firstMonth)%this.monthsInYear(t)+this.minMonth},fromMonthOfYear:function(e,r){var t=(r+this.firstMonth-2*this.minMonth)%this.monthsInYear(e)+this.minMonth;return this._validate(e,t,this.minDay,Yr.local.invalidMonth||Yr.regionalOptions[""].invalidMonth),t},daysInYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Yr.local.invalidYear||Yr.regionalOptions[""].invalidYear);return this.leapYear(r)?366:365},dayOfYear:function(e,r,t){var n=this._validate(e,r,t,Yr.local.invalidDate||Yr.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(e,r,t){var n=this._validate(e,r,t,Yr.local.invalidDate||Yr.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(e,r,t){return this._validate(e,r,t,Yr.local.invalidDate||Yr.regionalOptions[""].invalidDate),{}},add:function(e,r,t){return this._validate(e,this.minMonth,this.minDay,Yr.local.invalidDate||Yr.regionalOptions[""].invalidDate),this._correctAdd(e,this._add(e,r,t),r,t)},_add:function(e,r,t){if(this._validateLevel++,t==="d"||t==="w"){var n=e.toJD()+r*(t==="w"?this.daysInWeek():1),a=e.calendar().fromJD(n);return this._validateLevel--,[a.year(),a.month(),a.day()]}try{var o=e.year()+(t==="y"?r:0),i=e.monthOfYear()+(t==="m"?r:0),a=e.day(),l=function(f){for(;i<f.minMonth;)o--,i+=f.monthsInYear(o);for(var h=f.monthsInYear(o);i>h-1+f.minMonth;)o++,i-=h,h=f.monthsInYear(o)};t==="y"?(e.month()!==this.fromMonthOfYear(o,i)&&(i=this.newDate(o,e.month(),this.minDay).monthOfYear()),i=Math.min(i,this.monthsInYear(o)),a=Math.min(a,this.daysInMonth(o,this.fromMonthOfYear(o,i)))):t==="m"&&(l(this),a=Math.min(a,this.daysInMonth(o,this.fromMonthOfYear(o,i))));var u=[o,this.fromMonthOfYear(o,i),a];return this._validateLevel--,u}catch(s){throw this._validateLevel--,s}},_correctAdd:function(e,r,t,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(r[0]===0||e.year()>0!=r[0]>0)){var a={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],o=t<0?-1:1;r=this._add(e,t*a[0]+o*a[1],a[2])}return e.date(r[0],r[1],r[2])},set:function(e,r,t){this._validate(e,this.minMonth,this.minDay,Yr.local.invalidDate||Yr.regionalOptions[""].invalidDate);var n=t==="y"?r:e.year(),a=t==="m"?r:e.month(),o=t==="d"?r:e.day();return(t==="y"||t==="m")&&(o=Math.min(o,this.daysInMonth(n,a))),e.date(n,a,o)},isValid:function(e,r,t){this._validateLevel++;var n=this.hasYearZero||e!==0;if(n){var a=this.newDate(e,r,this.minDay);n=r>=this.minMonth&&r-this.minMonth<this.monthsInYear(a)&&t>=this.minDay&&t-this.minDay<this.daysInMonth(a)}return this._validateLevel--,n},toJSDate:function(e,r,t){var n=this._validate(e,r,t,Yr.local.invalidDate||Yr.regionalOptions[""].invalidDate);return Yr.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(e){return this.fromJD(Yr.instance().fromJSDate(e).toJD())},_validate:function(e,r,t,n){if(e.year){if(this._validateLevel===0&&this.name!==e.calendar().name)throw(Yr.local.differentCalendars||Yr.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,e.calendar().local.name);return e}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(e,r,t))throw n.replace(/\{0\}/,this.local.name);var a=this.newDate(e,r,t);return this._validateLevel--,a}catch(o){throw this._validateLevel--,o}}});function P5(e){this.local=this.regionalOptions[e]||this.regionalOptions[""]}P5.prototype=new R5;Dd(P5.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,Yr.local.invalidYear||Yr.regionalOptions[""].invalidYear),t=r.year()+(r.year()<0?1:0);return t%4===0&&(t%100!==0||t%400===0)},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,Yr.local.invalidMonth||Yr.regionalOptions[""].invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,r,t,Yr.local.invalidDate||Yr.regionalOptions[""].invalidDate);e=n.year(),r=n.month(),t=n.day(),e<0&&e++,r<3&&(r+=12,e--);var a=Math.floor(e/100),o=2-a+Math.floor(a/4);return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(r+1))+t+o-1524.5},fromJD:function(e){var r=Math.floor(e+.5),t=Math.floor((r-186721625e-2)/36524.25);t=r+1+t-Math.floor(t/4);var n=t+1524,a=Math.floor((n-122.1)/365.25),o=Math.floor(365.25*a),i=Math.floor((n-o)/30.6001),l=n-o-Math.floor(i*30.6001),u=i-(i>13.5?13:1),s=a-(u>2.5?4716:4715);return s<=0&&s--,this.newDate(s,u,l)},toJSDate:function(e,r,t){var n=this._validate(e,r,t,Yr.local.invalidDate||Yr.regionalOptions[""].invalidDate),a=new Date(n.year(),n.month()-1,n.day());return a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.setHours(a.getHours()>12?a.getHours()+2:0),a},fromJSDate:function(e){return this.newDate(e.getFullYear(),e.getMonth()+1,e.getDate())}});var Yr=iq.exports=new aq;Yr.cdate=D5;Yr.baseCalendar=R5;Yr.calendars.gregorian=P5});var oq=de(()=>{var I5=Pn(),gn=In();I5(gn.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"});gn.local=gn.regionalOptions[""];I5(gn.cdate.prototype,{formatDate:function(e,r){return typeof e!="string"&&(r=e,e=""),this._calendar.formatDate(e||"",this,r)}});I5(gn.baseCalendar.prototype,{UNIX_EPOCH:gn.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:24*60*60,TICKS_EPOCH:gn.instance().jdEpoch,TICKS_PER_DAY:24*60*60*1e7,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(e,r,t){if(typeof e!="string"&&(t=r,r=e,e=""),!r)return"";if(r.calendar()!==this)throw gn.local.invalidFormat||gn.regionalOptions[""].invalidFormat;e=e||this.local.dateFormat,t=t||{};for(var n=t.dayNamesShort||this.local.dayNamesShort,a=t.dayNames||this.local.dayNames,o=t.monthNumbers||this.local.monthNumbers,i=t.monthNamesShort||this.local.monthNamesShort,l=t.monthNames||this.local.monthNames,u=t.calculateWeek||this.local.calculateWeek,s=function(x,M){for(var d=1;S+d<e.length&&e.charAt(S+d)===x;)d++;return S+=d-1,Math.floor(d/(M||1))>1},f=function(x,M,d,_){var g=""+M;if(s(x,_))for(;g.length<d;)g="0"+g;return g},h=function(x,M,d,_){return s(x)?_[M]:d[M]},p=this,b=function(x){return typeof o=="function"?o.call(p,x,s("m")):T(f("m",x.month(),2))},y=function(x,M){return M?typeof l=="function"?l.call(p,x):l[x.month()-p.minMonth]:typeof i=="function"?i.call(p,x):i[x.month()-p.minMonth]},w=this.local.digits,T=function(x){return t.localNumbers&&w?w(x):x},m="",k=!1,S=0;S<e.length;S++)if(k)e.charAt(S)==="'"&&!s("'")?k=!1:m+=e.charAt(S);else switch(e.charAt(S)){case"d":m+=T(f("d",r.day(),2));break;case"D":m+=h("D",r.dayOfWeek(),n,a);break;case"o":m+=f("o",r.dayOfYear(),3);break;case"w":m+=f("w",r.weekOfYear(),2);break;case"m":m+=b(r);break;case"M":m+=y(r,s("M"));break;case"y":m+=s("y",2)?r.year():(r.year()%100<10?"0":"")+r.year()%100;break;case"Y":s("Y",2),m+=r.formatYear();break;case"J":m+=r.toJD();break;case"@":m+=(r.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":m+=(r.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":s("'")?m+="'":k=!0;break;default:m+=e.charAt(S)}return m},parseDate:function(e,r,t){if(r==null)throw gn.local.invalidArguments||gn.regionalOptions[""].invalidArguments;if(r=typeof r=="object"?r.toString():r+"",r==="")return null;e=e||this.local.dateFormat,t=t||{};var n=t.shortYearCutoff||this.shortYearCutoff;n=typeof n!="string"?n:this.today().year()%100+parseInt(n,10);for(var a=t.dayNamesShort||this.local.dayNamesShort,o=t.dayNames||this.local.dayNames,i=t.parseMonth||this.local.parseMonth,l=t.monthNumbers||this.local.monthNumbers,u=t.monthNamesShort||this.local.monthNamesShort,s=t.monthNames||this.local.monthNames,f=-1,h=-1,p=-1,b=-1,y=-1,w=!1,T=!1,m=function(D,E){for(var R=1;c+R<e.length&&e.charAt(c+R)===D;)R++;return c+=R-1,Math.floor(R/(E||1))>1},k=function(D,E){var R=m(D,E),N=[2,3,R?4:2,R?4:2,10,11,20]["oyYJ@!".indexOf(D)+1],F=new RegExp("^-?\\d{1,"+N+"}"),I=r.substring(g).match(F);if(!I)throw(gn.local.missingNumberAt||gn.regionalOptions[""].missingNumberAt).replace(/\{0\}/,g);return g+=I[0].length,parseInt(I[0],10)},S=this,x=function(){if(typeof l=="function"){m("m");var D=l.call(S,r.substring(g));return g+=D.length,D}return k("m")},M=function(D,E,R,N){for(var F=m(D,N)?R:E,I=0;I<F.length;I++)if(r.substr(g,F[I].length).toLowerCase()===F[I].toLowerCase())return g+=F[I].length,I+S.minMonth;throw(gn.local.unknownNameAt||gn.regionalOptions[""].unknownNameAt).replace(/\{0\}/,g)},d=function(){if(typeof s=="function"){var D=m("M")?s.call(S,r.substring(g)):u.call(S,r.substring(g));return g+=D.length,D}return M("M",u,s)},_=function(){if(r.charAt(g)!==e.charAt(c))throw(gn.local.unexpectedLiteralAt||gn.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,g);g++},g=0,c=0;c<e.length;c++)if(T)e.charAt(c)==="'"&&!m("'")?T=!1:_();else switch(e.charAt(c)){case"d":b=k("d");break;case"D":M("D",a,o);break;case"o":y=k("o");break;case"w":k("w");break;case"m":p=x();break;case"M":p=d();break;case"y":var A=c;w=!m("y",2),c=A,h=k("y",2);break;case"Y":h=k("Y",2);break;case"J":f=k("J")+.5,r.charAt(g)==="."&&(g++,k("J"));break;case"@":f=k("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":f=k("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":g=r.length;break;case"'":m("'")?_():T=!0;break;default:_()}if(g<r.length)throw gn.local.unexpectedText||gn.regionalOptions[""].unexpectedText;if(h===-1?h=this.today().year():h<100&&w&&(h+=n===-1?1900:this.today().year()-this.today().year()%100-(h<=n?0:100)),typeof p=="string"&&(p=i.call(this,h,p)),y>-1){p=1,b=y;for(var v=this.daysInMonth(h,p);b>v;v=this.daysInMonth(h,p))p++,b-=v}return f>-1?this.fromJD(f):this.newDate(h,p,b)},determineDate:function(e,r,t,n,a){t&&typeof t!="object"&&(a=n,n=t,t=null),typeof n!="string"&&(a=n,n="");var o=this,i=function(l){try{return o.parseDate(n,l,a)}catch(h){}l=l.toLowerCase();for(var u=(l.match(/^c/)&&t?t.newDate():null)||o.today(),s=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,f=s.exec(l);f;)u.add(parseInt(f[1],10),f[2]||"d"),f=s.exec(l);return u};return r=r?r.newDate():null,e=e==null?r:typeof e=="string"?i(e):typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?r:o.today().add(e,"d"):o.newDate(e),e}})});var lq=de(()=>{var yl=In(),Due=Pn(),F5=yl.instance();function Rd(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}Rd.prototype=new yl.baseCalendar;Due(Rd.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(e,r){if(typeof e=="string"){var t=e.match(Pue);return t?t[0]:""}var n=this._validateYear(e),a=e.month(),o=""+this.toChineseMonth(n,a);return r&&o.length<2&&(o="0"+o),this.isIntercalaryMonth(n,a)&&(o+="i"),o},monthNames:function(e){if(typeof e=="string"){var r=e.match(Iue);return r?r[0]:""}var t=this._validateYear(e),n=e.month(),a=this.toChineseMonth(t,n),o=["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"][a-1];return this.isIntercalaryMonth(t,n)&&(o="\u95F0"+o),o},monthNamesShort:function(e){if(typeof e=="string"){var r=e.match(Fue);return r?r[0]:""}var t=this._validateYear(e),n=e.month(),a=this.toChineseMonth(t,n),o=["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"][a-1];return this.isIntercalaryMonth(t,n)&&(o="\u95F0"+o),o},parseMonth:function(e,r){e=this._validateYear(e);var t=parseInt(r),n;if(isNaN(t))r[0]==="\u95F0"&&(n=!0,r=r.substring(1)),r[r.length-1]==="\u6708"&&(r=r.substring(0,r.length-1)),t=1+["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"].indexOf(r);else{var a=r[r.length-1];n=a==="i"||a==="I"}var o=this.toMonthIndex(e,t,n);return o},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(e,r){if(e.year&&(e=e.year()),typeof e!="number"||e<1888||e>2111)throw r.replace(/\{0\}/,this.local.name);return e},toMonthIndex:function(e,r,t){var n=this.intercalaryMonth(e),a=t&&r!==n;if(a||r<1||r>12)throw yl.local.invalidMonth.replace(/\{0\}/,this.local.name);var o;return n?!t&&r<=n?o=r-1:o=r:o=r-1,o},toChineseMonth:function(e,r){e.year&&(e=e.year(),r=e.month());var t=this.intercalaryMonth(e),n=t?12:11;if(r<0||r>n)throw yl.local.invalidMonth.replace(/\{0\}/,this.local.name);var a;return t?r<t?a=r+1:a=r:a=r+1,a},intercalaryMonth:function(e){e=this._validateYear(e);var r=ml[e-ml[0]],t=r>>13;return t},isIntercalaryMonth:function(e,r){e.year&&(e=e.year(),r=e.month());var t=this.intercalaryMonth(e);return!!t&&t===r},leapYear:function(e){return this.intercalaryMonth(e)!==0},weekOfYear:function(e,r,t){var n=this._validateYear(e,yl.local.invalidyear),a=xl[n-xl[0]],o=a>>9&4095,i=a>>5&15,l=a&31,u;u=F5.newDate(o,i,l),u.add(4-(u.dayOfWeek()||7),"d");var s=this.toJD(e,r,t)-u.toJD();return 1+Math.floor(s/7)},monthsInYear:function(e){return this.leapYear(e)?13:12},daysInMonth:function(e,r){e.year&&(r=e.month(),e=e.year()),e=this._validateYear(e);var t=ml[e-ml[0]],n=t>>13,a=n?12:11;if(r>a)throw yl.local.invalidMonth.replace(/\{0\}/,this.local.name);var o=t&1<<12-r?30:29;return o},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,o,t,yl.local.invalidDate);e=this._validateYear(n.year()),r=n.month(),t=n.day();var a=this.isIntercalaryMonth(e,r),o=this.toChineseMonth(e,r),i=zue(e,o,t,a);return F5.toJD(i.year,i.month,i.day)},fromJD:function(e){var r=F5.fromJD(e),t=Nue(r.year(),r.month(),r.day()),n=this.toMonthIndex(t.year,t.month,t.isIntercalary);return this.newDate(t.year,n,t.day)},fromString:function(e){var r=e.match(Rue),t=this._validateYear(+r[1]),n=+r[2],a=!!r[3],o=this.toMonthIndex(t,n,a),i=+r[4];return this.newDate(t,o,i)},add:function(e,r,t){var n=e.year(),a=e.month(),o=this.isIntercalaryMonth(n,a),i=this.toChineseMonth(n,a),l=Object.getPrototypeOf(Rd.prototype).add.call(this,e,r,t);if(t==="y"){var u=l.year(),s=l.month(),f=this.isIntercalaryMonth(u,i),h=o&&f?this.toMonthIndex(u,i,!0):this.toMonthIndex(u,i,!1);h!==s&&l.month(h)}return l}});var Rue=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,Pue=/^\d?\d[iI]?/m,Iue=/^??[]?/m,Fue=/^??[]?/m;yl.calendars.chinese=Rd;var ml=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],xl=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function Nue(e,r,t,n){var a,o;if(typeof e=="object")a=e,o=r||{};else{var i=typeof e=="number"&&e>=1888&&e<=2111;if(!i)throw new Error("Solar year outside range 1888-2111");var l=typeof r=="number"&&r>=1&&r<=12;if(!l)throw new Error("Solar month outside range 1 - 12");var u=typeof t=="number"&&t>=1&&t<=31;if(!u)throw new Error("Solar day outside range 1 - 31");a={year:e,month:r,day:t},o=n||{}}var s=xl[a.year-xl[0]],f=a.year<<9|a.month<<5|a.day;o.year=f>=s?a.year:a.year-1,s=xl[o.year-xl[0]];var h=s>>9&4095,p=s>>5&15,b=s&31,y,w=new Date(h,p-1,b),T=new Date(a.year,a.month-1,a.day);y=Math.round((T-w)/(24*3600*1e3));var m=ml[o.year-ml[0]],k;for(k=0;k<13;k++){var S=m&1<<12-k?30:29;if(y<S)break;y-=S}var x=m>>13;return!x||k<x?(o.isIntercalary=!1,o.month=1+k):k===x?(o.isIntercalary=!0,o.month=k):(o.isIntercalary=!1,o.month=k),o.day=1+y,o}function zue(e,r,t,n,a){var o,i;if(typeof e=="object")i=e,o=r||{};else{var l=typeof e=="number"&&e>=1888&&e<=2111;if(!l)throw new Error("Lunar year outside range 1888-2111");var u=typeof r=="number"&&r>=1&&r<=12;if(!u)throw new Error("Lunar month outside range 1 - 12");var s=typeof t=="number"&&t>=1&&t<=30;if(!s)throw new Error("Lunar day outside range 1 - 30");var f;typeof n=="object"?(f=!1,o=n):(f=!!n,o=a||{}),i={year:e,month:r,day:t,isIntercalary:f}}var h;h=i.day-1;var p=ml[i.year-ml[0]],b=p>>13,y;b&&(i.month>b||i.isIntercalary)?y=i.month:y=i.month-1;for(var w=0;w<y;w++){var T=p&1<<12-w?30:29;h+=T}var m=xl[i.year-xl[0]],k=m>>9&4095,S=m>>5&15,x=m&31,M=new Date(k,S-1,x+h);return o.year=M.getFullYear(),o.month=1+M.getMonth(),o.day=M.getDate(),o}});var sq=de(()=>{var ws=In(),que=Pn();function N5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}N5.prototype=new ws.baseCalendar;que(N5.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,ws.local.invalidYear),t=r.year()+(r.year()<0?1:0);return t%4===3||t%4===-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,ws.local.invalidYear||ws.regionalOptions[""].invalidYear),13},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,ws.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===13&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,r,t,ws.local.invalidDate);return e=n.year(),e<0&&e++,n.day()+(n.month()-1)*30+(e-1)*365+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var r=Math.floor(e)+.5-this.jdEpoch,t=Math.floor((r-Math.floor((r+366)/1461))/365)+1;t<=0&&t--,r=Math.floor(e)+.5-this.newDate(t,1,1).toJD();var n=Math.floor(r/30)+1,a=r-(n-1)*30+1;return this.newDate(t,n,a)}});ws.calendars.coptic=N5});var uq=de(()=>{var Ao=In(),Oue=Pn();function z5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}z5.prototype=new Ao.baseCalendar;Oue(z5.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,Ao.local.invalidYear),!1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Ao.local.invalidYear),13},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Ao.local.invalidYear),400},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/8)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,Ao.local.invalidMonth);return this.daysPerMonth[t.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(e,r,t){var n=this._validate(e,r,t,Ao.local.invalidDate);return(n.day()+1)%8},weekDay:function(e,r,t){var n=this.dayOfWeek(e,r,t);return n>=2&&n<=6},extraInfo:function(e,r,t){var n=this._validate(e,r,t,Ao.local.invalidDate);return{century:Bue[Math.floor((n.year()-1)/100)+1]||""}},toJD:function(e,r,t){var n=this._validate(e,r,t,Ao.local.invalidDate);return e=n.year()+(n.year()<0?1:0),r=n.month(),t=n.day(),t+(r>1?16:0)+(r>2?(r-2)*32:0)+(e-1)*400+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e+.5)-Math.floor(this.jdEpoch)-1;var r=Math.floor(e/400)+1;e-=(r-1)*400,e+=e>15?16:0;var t=Math.floor(e/32)+1,n=e-(t-1)*32+1;return this.newDate(r<=0?r-1:r,t,n)}});var Bue={20:"Fruitbat",21:"Anchovy"};Ao.calendars.discworld=z5});var fq=de(()=>{var Ms=In(),Uue=Pn();function q5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}q5.prototype=new Ms.baseCalendar;Uue(q5.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,Ms.local.invalidYear),t=r.year()+(r.year()<0?1:0);return t%4===3||t%4===-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Ms.local.invalidYear||Ms.regionalOptions[""].invalidYear),13},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,Ms.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===13&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,r,t,Ms.local.invalidDate);return e=n.year(),e<0&&e++,n.day()+(n.month()-1)*30+(e-1)*365+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var r=Math.floor(e)+.5-this.jdEpoch,t=Math.floor((r-Math.floor((r+366)/1461))/365)+1;t<=0&&t--,r=Math.floor(e)+.5-this.newDate(t,1,1).toJD();var n=Math.floor(r/30)+1,a=r-(n-1)*30+1;return this.newDate(t,n,a)}});Ms.calendars.ethiopian=q5});var cq=de(()=>{var bl=In(),Hue=Pn();function O5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}O5.prototype=new bl.baseCalendar;Hue(O5.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,bl.local.invalidYear);return this._leapYear(r.year())},_leapYear:function(e){return e=e<0?e+1:e,Pd(e*7+1,19)<7},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,bl.local.invalidYear),this._leapYear(e.year?e.year():e)?13:12},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,bl.local.invalidYear);return e=r.year(),this.toJD(e===-1?1:e+1,7,1)-this.toJD(e,7,1)},daysInMonth:function(e,r){return e.year&&(r=e.month(),e=e.year()),this._validate(e,r,this.minDay,bl.local.invalidMonth),r===12&&this.leapYear(e)||r===8&&Pd(this.daysInYear(e),10)===5?30:r===9&&Pd(this.daysInYear(e),10)===3?29:this.daysPerMonth[r-1]},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==6},extraInfo:function(e,r,t){var n=this._validate(e,r,t,bl.local.invalidDate);return{yearType:(this.leapYear(n)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(n)%10-3]}},toJD:function(e,r,t){var n=this._validate(e,r,t,bl.local.invalidDate);e=n.year(),r=n.month(),t=n.day();var a=e<=0?e+1:e,o=this.jdEpoch+this._delay1(a)+this._delay2(a)+t+1;if(r<7){for(var i=7;i<=this.monthsInYear(e);i++)o+=this.daysInMonth(e,i);for(var i=1;i<r;i++)o+=this.daysInMonth(e,i)}else for(var i=7;i<r;i++)o+=this.daysInMonth(e,i);return o},_delay1:function(e){var r=Math.floor((235*e-234)/19),t=12084+13753*r,n=r*29+Math.floor(t/25920);return Pd(3*(n+1),7)<3&&n++,n},_delay2:function(e){var r=this._delay1(e-1),t=this._delay1(e),n=this._delay1(e+1);return n-t===356?2:t-r===382?1:0},fromJD:function(e){e=Math.floor(e)+.5;for(var r=Math.floor((e-this.jdEpoch)*98496/35975351)-1;e>=this.toJD(r===-1?1:r+1,7,1);)r++;for(var t=e<this.toJD(r,1,1)?7:1;e>this.toJD(r,t,this.daysInMonth(r,t));)t++;var n=e-this.toJD(r,t,1)+1;return this.newDate(r,t,n)}});function Pd(e,r){return e-r*Math.floor(e/r)}bl.calendars.hebrew=O5});var hq=de(()=>{var r0=In(),Vue=Pn();function B5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}B5.prototype=new r0.baseCalendar;Vue(B5.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012Bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,r0.local.invalidYear);return(r.year()*11+14)%30<11},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){return this.leapYear(e)?355:354},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,r0.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===12&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==5},toJD:function(e,r,t){var n=this._validate(e,r,t,r0.local.invalidDate);return e=n.year(),r=n.month(),t=n.day(),e=e<=0?e+1:e,t+Math.ceil(29.5*(r-1))+(e-1)*354+Math.floor((3+11*e)/30)+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var r=Math.floor((30*(e-this.jdEpoch)+10646)/10631);r=r<=0?r-1:r;var t=Math.min(12,Math.ceil((e-29-this.toJD(r,1,1))/29.5)+1),n=e-this.toJD(r,t,1)+1;return this.newDate(r,t,n)}});r0.calendars.islamic=B5});var vq=de(()=>{var t0=In(),Gue=Pn();function U5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}U5.prototype=new t0.baseCalendar;Gue(U5.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,t0.local.invalidYear),t=r.year()<0?r.year()+1:r.year();return t%4===0},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,t0.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,r,t,t0.local.invalidDate);return e=n.year(),r=n.month(),t=n.day(),e<0&&e++,r<=2&&(e--,r+=12),Math.floor(365.25*(e+4716))+Math.floor(30.6001*(r+1))+t-1524.5},fromJD:function(e){var r=Math.floor(e+.5),t=r+1524,n=Math.floor((t-122.1)/365.25),a=Math.floor(365.25*n),o=Math.floor((t-a)/30.6001),i=o-Math.floor(o<14?1:13),l=n-Math.floor(i>2?4716:4715),u=t-a-Math.floor(30.6001*o);return l<=0&&l--,this.newDate(l,i,u)}});t0.calendars.julian=U5});var pq=de(()=>{var Xa=In(),Yue=Pn();function V5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}V5.prototype=new Xa.baseCalendar;Yue(V5.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,Xa.local.invalidYear),!1},formatYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Xa.local.invalidYear);e=r.year();var t=Math.floor(e/400);e=e%400,e+=e<0?400:0;var n=Math.floor(e/20);return t+"."+n+"."+e%20},forYear:function(e){if(e=e.split("."),e.length<3)throw"Invalid Mayan year";for(var r=0,t=0;t<e.length;t++){var n=parseInt(e[t],10);if(Math.abs(n)>19||t>0&&n<0)throw"Invalid Mayan year";r=r*20+n}return r},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Xa.local.invalidYear),18},weekOfYear:function(e,r,t){return this._validate(e,r,t,Xa.local.invalidDate),0},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Xa.local.invalidYear),360},daysInMonth:function(e,r){return this._validate(e,r,this.minDay,Xa.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(e,r,t){var n=this._validate(e,r,t,Xa.local.invalidDate);return n.day()},weekDay:function(e,r,t){return this._validate(e,r,t,Xa.local.invalidDate),!0},extraInfo:function(e,r,t){var n=this._validate(e,r,t,Xa.local.invalidDate),a=n.toJD(),o=this._toHaab(a),i=this._toTzolkin(a);return{haabMonthName:this.local.haabMonths[o[0]-1],haabMonth:o[0],haabDay:o[1],tzolkinDayName:this.local.tzolkinMonths[i[0]-1],tzolkinDay:i[0],tzolkinTrecena:i[1]}},_toHaab:function(e){e-=this.jdEpoch;var r=H5(e+8+17*20,365);return[Math.floor(r/20)+1,H5(r,20)]},_toTzolkin:function(e){return e-=this.jdEpoch,[dq(e+20,20),dq(e+4,13)]},toJD:function(e,r,t){var n=this._validate(e,r,t,Xa.local.invalidDate);return n.day()+n.month()*20+n.year()*360+this.jdEpoch},fromJD:function(e){e=Math.floor(e)+.5-this.jdEpoch;var r=Math.floor(e/360);e=e%360,e+=e<0?360:0;var t=Math.floor(e/20),n=e%20;return this.newDate(r,t,n)}});function H5(e,r){return e-r*Math.floor(e/r)}function dq(e,r){return H5(e-1,r)+1}Xa.calendars.mayan=V5});var yq=de(()=>{var Ts=In(),Wue=Pn();function G5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}G5.prototype=new Ts.baseCalendar;var gq=Ts.instance("gregorian");Wue(G5.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Ts.local.invalidYear||Ts.regionalOptions[""].invalidYear);return gq.leapYear(r.year()+(r.year()<1?1:0)+1469)},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(1-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,Ts.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===12&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(a,r,t){var n=this._validate(a,r,t,Ts.local.invalidMonth),a=n.year();a<0&&a++;for(var o=n.day(),i=1;i<n.month();i++)o+=this.daysPerMonth[i-1];return o+gq.toJD(a+1468,3,13)},fromJD:function(e){e=Math.floor(e+.5);for(var r=Math.floor((e-(this.jdEpoch-1))/366);e>=this.toJD(r+1,1,1);)r++;for(var t=e-Math.floor(this.toJD(r,1,1)+.5)+1,n=1;t>this.daysInMonth(r,n);)t-=this.daysInMonth(r,n),n++;return this.newDate(r,n,t)}});Ts.calendars.nanakshahi=G5});var mq=de(()=>{var As=In(),Xue=Pn();function Y5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}Y5.prototype=new As.baseCalendar;Xue(Y5.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(e){return this.daysInYear(e)!==this.daysPerYear},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,As.local.invalidYear);if(e=r.year(),typeof this.NEPALI_CALENDAR_DATA[e]=="undefined")return this.daysPerYear;for(var t=0,n=this.minMonth;n<=12;n++)t+=this.NEPALI_CALENDAR_DATA[e][n];return t},daysInMonth:function(e,r){return e.year&&(r=e.month(),e=e.year()),this._validate(e,r,this.minDay,As.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[e]=="undefined"?this.daysPerMonth[r-1]:this.NEPALI_CALENDAR_DATA[e][r]},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==6},toJD:function(e,r,t){var n=this._validate(e,r,t,As.local.invalidDate);e=n.year(),r=n.month(),t=n.day();var a=As.instance(),o=0,i=r,l=e;this._createMissingCalendarData(e);var u=e-(i>9||i===9&&t>=this.NEPALI_CALENDAR_DATA[l][0]?56:57);for(r!==9&&(o=t,i--);i!==9;)i<=0&&(i=12,l--),o+=this.NEPALI_CALENDAR_DATA[l][i],i--;return r===9?(o+=t-this.NEPALI_CALENDAR_DATA[l][0],o<0&&(o+=a.daysInYear(u))):o+=this.NEPALI_CALENDAR_DATA[l][9]-this.NEPALI_CALENDAR_DATA[l][0],a.newDate(u,1,1).add(o,"d").toJD()},fromJD:function(e){var r=As.instance(),t=r.fromJD(e),n=t.year(),a=t.dayOfYear(),o=n+56;this._createMissingCalendarData(o);for(var i=9,l=this.NEPALI_CALENDAR_DATA[o][0],u=this.NEPALI_CALENDAR_DATA[o][i]-l+1;a>u;)i++,i>12&&(i=1,o++),u+=this.NEPALI_CALENDAR_DATA[o][i];var s=this.NEPALI_CALENDAR_DATA[o][i]-(u-a);return this.newDate(o,i,s)},_createMissingCalendarData:function(e){var r=this.daysPerMonth.slice(0);r.unshift(17);for(var t=e-1;t<e+2;t++)typeof this.NEPALI_CALENDAR_DATA[t]=="undefined"&&(this.NEPALI_CALENDAR_DATA[t]=r)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}});As.calendars.nepali=Y5});var xq=de(()=>{var ju=In(),Zue=Pn();function Fd(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}function Id(e){var r=e-475;e<0&&r++;var t=.242197,n=t*r,a=t*(r+1),o=n-Math.floor(n),i=a-Math.floor(a);return o>i}Fd.prototype=new ju.baseCalendar;Zue(Fd.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Dey","Bah","Esf"],dayNames:["Yekshanbeh","Doshanbeh","Seshanbeh","Chah\u0101rshanbeh","Panjshanbeh","Jom'eh","Shanbeh"],dayNamesShort:["Yek","Do","Se","Cha","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,ju.local.invalidYear);return Id(r.year())},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-((n.dayOfWeek()+1)%7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,ju.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===12&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==5},toJD:function(e,r,t){var n=this._validate(e,r,t,ju.local.invalidDate);e=n.year(),r=n.month(),t=n.day();var a=0;if(e>0)for(var o=1;o<e;o++)Id(o)&&a++;else if(e<0)for(var o=e;o<0;o++)Id(o)&&a--;return t+(r<=7?(r-1)*31:(r-1)*30+6)+(e>0?e-1:e)*365+a+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var r=475+(e-this.toJD(475,1,1))/365.242197,t=Math.floor(r);t<=0&&t--,e>this.toJD(t,12,Id(t)?30:29)&&(t++,t===0&&t++);var n=e-this.toJD(t,1,1)+1,a=n<=186?Math.ceil(n/31):Math.ceil((n-6)/30),o=e-this.toJD(t,a,1)+1;return this.newDate(t,a,o)}});ju.calendars.persian=Fd;ju.calendars.jalali=Fd});var bq=de(()=>{var ks=In(),Jue=Pn(),Nd=ks.instance();function W5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}W5.prototype=new ks.baseCalendar;Jue(W5.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,ks.local.invalidYear),t=this._t2gYear(r.year());return Nd.leapYear(t)},weekOfYear:function(a,r,t){var n=this._validate(a,this.minMonth,this.minDay,ks.local.invalidYear),a=this._t2gYear(n.year());return Nd.weekOfYear(a,n.month(),n.day())},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,ks.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(a,r,t){var n=this._validate(a,r,t,ks.local.invalidDate),a=this._t2gYear(n.year());return Nd.toJD(a,n.month(),n.day())},fromJD:function(e){var r=Nd.fromJD(e),t=this._g2tYear(r.year());return this.newDate(t,r.month(),r.day())},_t2gYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)},_g2tYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)}});ks.calendars.taiwan=W5});var _q=de(()=>{var Ss=In(),Kue=Pn(),zd=Ss.instance();function X5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}X5.prototype=new Ss.baseCalendar;Kue(X5.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,Ss.local.invalidYear),t=this._t2gYear(r.year());return zd.leapYear(t)},weekOfYear:function(a,r,t){var n=this._validate(a,this.minMonth,this.minDay,Ss.local.invalidYear),a=this._t2gYear(n.year());return zd.weekOfYear(a,n.month(),n.day())},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,Ss.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(a,r,t){var n=this._validate(a,r,t,Ss.local.invalidDate),a=this._t2gYear(n.year());return zd.toJD(a,n.month(),n.day())},fromJD:function(e){var r=zd.fromJD(e),t=this._g2tYear(r.year());return this.newDate(t,r.month(),r.day())},_t2gYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)},_g2tYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)}});Ss.calendars.thai=X5});var wq=de(()=>{var Cs=In(),Que=Pn();function Z5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}Z5.prototype=new Cs.baseCalendar;Que(Z5.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012Bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Cs.local.invalidYear);return this.daysInYear(r.year())===355},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){for(var r=0,t=1;t<=12;t++)r+=this.daysInMonth(e,t);return r},daysInMonth:function(e,r){for(var t=this._validate(e,r,this.minDay,Cs.local.invalidMonth),n=t.toJD()-24e5+.5,a=0,o=0;o<_l.length;o++){if(_l[o]>n)return _l[a]-_l[a-1];a++}return 30},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==5},toJD:function(e,r,t){var n=this._validate(e,r,t,Cs.local.invalidDate),a=12*(n.year()-1)+n.month()-15292,o=n.day()+_l[a-1]-1;return o+24e5-.5},fromJD:function(e){for(var r=e-24e5+.5,t=0,n=0;n<_l.length&&!(_l[n]>r);n++)t++;var a=t+15292,o=Math.floor((a-1)/12),i=o+1,l=a-12*o,u=r-_l[t-1]+1;return this.newDate(i,l,u)},isValid:function(e,r,t){var n=Cs.baseCalendar.prototype.isValid.apply(this,arguments);return n&&(e=e.year!=null?e.year:e,n=e>=1276&&e<=1500),n},_validate:function(e,r,t,n){var a=Cs.baseCalendar.prototype._validate.apply(this,arguments);if(a.year<1276||a.year>1500)throw n.replace(/\{0\}/,this.local.name);return a}});Cs.calendars.ummalqura=Z5;var _l=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]});var Tq=de((Uge,Mq)=>{"use strict";Mq.exports=In();oq();lq();sq();uq();fq();cq();hq();vq();pq();yq();mq();xq();bq();_q();wq()});var Dq=de((Hge,Lq)=>{"use strict";var kq=Tq(),n0=ir(),Sq=nn(),$ue=Sq.EPOCHJD,jue=Sq.ONEDAY,Q5={valType:"enumerated",values:n0.sortObjectKeys(kq.calendars),editType:"calc",dflt:"gregorian"},Cq=function(e,r,t,n){var a={};return a[t]=Q5,n0.coerce(e,r,a,t,n)},efe=function(e,r,t,n){for(var a=0;a<t.length;a++)Cq(e,r,t[a]+"calendar",n.calendar)},rfe={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},tfe={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},nfe={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},qd="##",afe={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:qd,w:qd,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function ife(e,r,t){for(var n=Math.floor((r+.05)/jue)+$ue,a=Eq(t).fromJD(n),o=0,i,l,u,s,f;(o=e.indexOf("%",o))!==-1;)i=e.charAt(o+1),i==="0"||i==="-"||i==="_"?(u=3,l=e.charAt(o+2),i==="_"&&(i="-")):(l=i,i="0",u=2),s=afe[l],s?(s===qd?f=qd:f=a.formatDate(s[i]),e=e.slice(0,o)+f+e.slice(o+u),o+=f.length):o+=u;return e}var Aq={};function Eq(e){var r=Aq[e];return r||(r=Aq[e]=kq.instance(e),r)}function a0(e){return n0.extendFlat({},Q5,{description:e})}function $5(e){return"Sets the calendar system to use with `"+e+"` date data."}var K5={xcalendar:a0($5("x"))},Ji=n0.extendFlat({},K5,{ycalendar:a0($5("y"))}),J5=n0.extendFlat({},Ji,{zcalendar:a0($5("z"))}),ef=a0(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));Lq.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:Ji,bar:Ji,box:Ji,heatmap:Ji,contour:Ji,histogram:Ji,histogram2d:Ji,histogram2dcontour:Ji,scatter3d:J5,surface:J5,mesh3d:J5,scattergl:Ji,ohlc:K5,candlestick:K5},layout:{calendar:a0(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:ef},yaxis:{calendar:ef},scene:{xaxis:{calendar:ef},yaxis:{calendar:ef},zaxis:{calendar:ef}},polar:{radialaxis:{calendar:ef}}}},layoutAttributes:Q5,handleDefaults:Cq,handleTraceDefaults:efe,CANONICAL_SUNDAY:tfe,CANONICAL_TICK:rfe,DFLTRANGE:nfe,getCal:Eq,worldCalFmt:ife}});var Pq=de((Vge,Rq)=>{"use strict";Rq.exports=Dq()});var ofe=de((Gge,Fq)=>{var Iq=RI();Iq.register([uN(),IN(),$N(),fz(),Tz(),Oz(),rq(),Pq()]);Fq.exports=Iq});return ofe();})();
/*!
 * pad-left <https://github.com/jonschlinkert/pad-left>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT license.
 */
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! Bundled license information:

native-promise-only/lib/npo.src.js:
  (*! Native Promise Only
      v0.8.1 (c) Kyle Simpson
      MIT License: http://getify.mit-license.org
  *)

polybooljs/index.js:
  (*
   * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
   * @license MIT
   * @preserve Project Home: https://github.com/voidqk/polybooljs
   *)

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)
*/

window.Plotly = Plotly;
return Plotly;
}));