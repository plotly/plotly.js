/**
* plotly.js (gl3d - minified) v3.0.1
* Copyright 2012-2025, Plotly, Inc.
* All rights reserved.
* Licensed under the MIT license
*/
(
 function(root, factory) {
  if (typeof module === "object" && module.exports) {
   module.exports = factory();
  } else {
   root.moduleName = factory();
  }
} (typeof self !== "undefined" ? self : this, () => {
"use strict";var Plotly=(()=>{var ab=Object.defineProperty;var AB=Object.getOwnPropertyDescriptor;var kB=Object.getOwnPropertyNames;var SB=Object.prototype.hasOwnProperty;var ib=(e,r)=>()=>(e&&(r=e(e=0)),r);var pe=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var CB=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of kB(r))!SB.call(e,a)&&a!==t&&ab(e,a,{get:()=>r[a],enumerable:!(n=AB(r,a))||n.enumerable});return e};var EB=e=>CB(ab({},"__esModule",{value:!0}),e);var pc=pe(ob=>{"use strict";ob.version="3.0.1"});var sb=pe((lb,gc)=>{(function(r,t,n){t[r]=t[r]||n(),typeof gc!="undefined"&&gc.exports&&(gc.exports=t[r])})("Promise",typeof window!="undefined"?window:lb,function(){"use strict";var r,t,n,a=Object.prototype.toString,o=typeof setImmediate!="undefined"?function(k){return setImmediate(k)}:setTimeout;try{Object.defineProperty({},"x",{}),r=function(k,S,x,T){return Object.defineProperty(k,S,{value:x,writable:!0,configurable:T!==!1})}}catch(m){r=function(S,x,T){return S[x]=T,S}}n=function(){var k,S,x;function T(d,_){this.fn=d,this.self=_,this.next=void 0}return{add:function(_,g){x=new T(_,g),S?S.next=x:k=x,S=x,x=void 0},drain:function(){var _=k;for(k=S=t=void 0;_;)_.fn.call(_.self),_=_.next}}}();function i(m,k){n.add(m,k),t||(t=o(n.drain))}function l(m){var k,S=typeof m;return m!=null&&(S=="object"||S=="function")&&(k=m.then),typeof k=="function"?k:!1}function u(){for(var m=0;m<this.chain.length;m++)s(this,this.state===1?this.chain[m].success:this.chain[m].failure,this.chain[m]);this.chain.length=0}function s(m,k,S){var x,T;try{k===!1?S.reject(m.msg):(k===!0?x=m.msg:x=k.call(void 0,m.msg),x===S.promise?S.reject(TypeError("Promise-chain cycle")):(T=l(x))?T.call(x,S.resolve,S.reject):S.resolve(x))}catch(d){S.reject(d)}}function f(m){var k,S=this;if(!S.triggered){S.triggered=!0,S.def&&(S=S.def);try{(k=l(m))?i(function(){var x=new b(S);try{k.call(m,function(){f.apply(x,arguments)},function(){v.apply(x,arguments)})}catch(T){v.call(x,T)}}):(S.msg=m,S.state=1,S.chain.length>0&&i(u,S))}catch(x){v.call(new b(S),x)}}}function v(m){var k=this;k.triggered||(k.triggered=!0,k.def&&(k=k.def),k.msg=m,k.state=2,k.chain.length>0&&i(u,k))}function p(m,k,S,x){for(var T=0;T<k.length;T++)(function(_){m.resolve(k[_]).then(function(c){S(_,c)},x)})(T)}function b(m){this.def=m,this.triggered=!1}function y(m){this.promise=m,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function w(m){if(typeof m!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var k=new y(this);this.then=function(x,T){var d={success:typeof x=="function"?x:!0,failure:typeof T=="function"?T:!1};return d.promise=new this.constructor(function(g,c){if(typeof g!="function"||typeof c!="function")throw TypeError("Not a function");d.resolve=g,d.reject=c}),k.chain.push(d),k.state!==0&&i(u,k),d.promise},this.catch=function(x){return this.then(void 0,x)};try{m.call(void 0,function(x){f.call(k,x)},function(x){v.call(k,x)})}catch(S){v.call(k,S)}}var M=r({},"constructor",w,!1);return w.prototype=M,r(M,"__NPO__",0,!1),r(w,"resolve",function(k){var S=this;return k&&typeof k=="object"&&k.__NPO__===1?k:new S(function(T,d){if(typeof T!="function"||typeof d!="function")throw TypeError("Not a function");T(k)})}),r(w,"reject",function(k){return new this(function(x,T){if(typeof x!="function"||typeof T!="function")throw TypeError("Not a function");T(k)})}),r(w,"all",function(k){var S=this;return a.call(k)!="[object Array]"?S.reject(TypeError("Not an array")):k.length===0?S.resolve([]):new S(function(T,d){if(typeof T!="function"||typeof d!="function")throw TypeError("Not a function");var _=k.length,g=Array(_),c=0;p(S,k,function(h,R){g[h]=R,++c===_&&T(g)},d)})}),r(w,"race",function(k){var S=this;return a.call(k)!="[object Array]"?S.reject(TypeError("Not an array")):new S(function(T,d){if(typeof T!="function"||typeof d!="function")throw TypeError("Not a function");p(S,k,function(g,c){T(c)},d)})}),w})});var it=pe((Nue,yc)=>{(function(){var e={version:"3.8.2"},r=[].slice,t=function(C){return r.call(C)},n=self.document;function a(C){return C&&(C.ownerDocument||C.document||C).documentElement}function o(C){return C&&(C.ownerDocument&&C.ownerDocument.defaultView||C.document&&C||C.defaultView)}if(n)try{t(n.documentElement.childNodes)[0].nodeType}catch(C){t=function(z){for(var B=z.length,V=new Array(B);B--;)V[B]=z[B];return V}}if(Date.now||(Date.now=function(){return+new Date}),n)try{n.createElement("DIV").style.setProperty("opacity",0,"")}catch(C){var i=this.Element.prototype,l=i.setAttribute,u=i.setAttributeNS,s=this.CSSStyleDeclaration.prototype,f=s.setProperty;i.setAttribute=function(z,B){l.call(this,z,B+"")},i.setAttributeNS=function(z,B,V){u.call(this,z,B,V+"")},s.setProperty=function(z,B,V){f.call(this,z,B+"",V)}}e.ascending=v;function v(C,z){return C<z?-1:C>z?1:C>=z?0:NaN}e.descending=function(C,z){return z<C?-1:z>C?1:z>=C?0:NaN},e.min=function(C,z){var B=-1,V=C.length,W,J;if(arguments.length===1){for(;++B<V;)if((J=C[B])!=null&&J>=J){W=J;break}for(;++B<V;)(J=C[B])!=null&&W>J&&(W=J)}else{for(;++B<V;)if((J=z.call(C,C[B],B))!=null&&J>=J){W=J;break}for(;++B<V;)(J=z.call(C,C[B],B))!=null&&W>J&&(W=J)}return W},e.max=function(C,z){var B=-1,V=C.length,W,J;if(arguments.length===1){for(;++B<V;)if((J=C[B])!=null&&J>=J){W=J;break}for(;++B<V;)(J=C[B])!=null&&J>W&&(W=J)}else{for(;++B<V;)if((J=z.call(C,C[B],B))!=null&&J>=J){W=J;break}for(;++B<V;)(J=z.call(C,C[B],B))!=null&&J>W&&(W=J)}return W},e.extent=function(C,z){var B=-1,V=C.length,W,J,le;if(arguments.length===1){for(;++B<V;)if((J=C[B])!=null&&J>=J){W=le=J;break}for(;++B<V;)(J=C[B])!=null&&(W>J&&(W=J),le<J&&(le=J))}else{for(;++B<V;)if((J=z.call(C,C[B],B))!=null&&J>=J){W=le=J;break}for(;++B<V;)(J=z.call(C,C[B],B))!=null&&(W>J&&(W=J),le<J&&(le=J))}return[W,le]};function p(C){return C===null?NaN:+C}function b(C){return!isNaN(C)}e.sum=function(C,z){var B=0,V=C.length,W,J=-1;if(arguments.length===1)for(;++J<V;)b(W=+C[J])&&(B+=W);else for(;++J<V;)b(W=+z.call(C,C[J],J))&&(B+=W);return B},e.mean=function(C,z){var B=0,V=C.length,W,J=-1,le=V;if(arguments.length===1)for(;++J<V;)b(W=p(C[J]))?B+=W:--le;else for(;++J<V;)b(W=p(z.call(C,C[J],J)))?B+=W:--le;if(le)return B/le},e.quantile=function(C,z){var B=(C.length-1)*z+1,V=Math.floor(B),W=+C[V-1],J=B-V;return J?W+J*(C[V]-W):W},e.median=function(C,z){var B=[],V=C.length,W,J=-1;if(arguments.length===1)for(;++J<V;)b(W=p(C[J]))&&B.push(W);else for(;++J<V;)b(W=p(z.call(C,C[J],J)))&&B.push(W);if(B.length)return e.quantile(B.sort(v),.5)},e.variance=function(C,z){var B=C.length,V=0,W,J,le=0,ie=-1,fe=0;if(arguments.length===1)for(;++ie<B;)b(W=p(C[ie]))&&(J=W-V,V+=J/++fe,le+=J*(W-V));else for(;++ie<B;)b(W=p(z.call(C,C[ie],ie)))&&(J=W-V,V+=J/++fe,le+=J*(W-V));if(fe>1)return le/(fe-1)},e.deviation=function(){var C=e.variance.apply(this,arguments);return C&&Math.sqrt(C)};function y(C){return{left:function(z,B,V,W){for(arguments.length<3&&(V=0),arguments.length<4&&(W=z.length);V<W;){var J=V+W>>>1;C(z[J],B)<0?V=J+1:W=J}return V},right:function(z,B,V,W){for(arguments.length<3&&(V=0),arguments.length<4&&(W=z.length);V<W;){var J=V+W>>>1;C(z[J],B)>0?W=J:V=J+1}return V}}}var w=y(v);e.bisectLeft=w.left,e.bisect=e.bisectRight=w.right,e.bisector=function(C){return y(C.length===1?function(z,B){return v(C(z),B)}:C)},e.shuffle=function(C,z,B){(V=arguments.length)<3&&(B=C.length,V<2&&(z=0));for(var V=B-z,W,J;V;)J=Math.random()*V--|0,W=C[V+z],C[V+z]=C[J+z],C[J+z]=W;return C},e.permute=function(C,z){for(var B=z.length,V=new Array(B);B--;)V[B]=C[z[B]];return V},e.pairs=function(C){for(var z=0,B=C.length-1,V,W=C[0],J=new Array(B<0?0:B);z<B;)J[z]=[V=W,W=C[++z]];return J},e.transpose=function(C){if(!(J=C.length))return[];for(var z=-1,B=e.min(C,M),V=new Array(B);++z<B;)for(var W=-1,J,le=V[z]=new Array(J);++W<J;)le[W]=C[W][z];return V};function M(C){return C.length}e.zip=function(){return e.transpose(arguments)},e.keys=function(C){var z=[];for(var B in C)z.push(B);return z},e.values=function(C){var z=[];for(var B in C)z.push(C[B]);return z},e.entries=function(C){var z=[];for(var B in C)z.push({key:B,value:C[B]});return z},e.merge=function(C){for(var z=C.length,B,V=-1,W=0,J,le;++V<z;)W+=C[V].length;for(J=new Array(W);--z>=0;)for(le=C[z],B=le.length;--B>=0;)J[--W]=le[B];return J};var m=Math.abs;e.range=function(C,z,B){if(arguments.length<3&&(B=1,arguments.length<2&&(z=C,C=0)),(z-C)/B===1/0)throw new Error("infinite range");var V=[],W=k(m(B)),J=-1,le;if(C*=W,z*=W,B*=W,B<0)for(;(le=C+B*++J)>z;)V.push(le/W);else for(;(le=C+B*++J)<z;)V.push(le/W);return V};function k(C){for(var z=1;C*z%1;)z*=10;return z}function S(C,z){for(var B in z)Object.defineProperty(C.prototype,B,{value:z[B],enumerable:!1})}e.map=function(C,z){var B=new x;if(C instanceof x)C.forEach(function(ie,fe){B.set(ie,fe)});else if(Array.isArray(C)){var V=-1,W=C.length,J;if(arguments.length===1)for(;++V<W;)B.set(V,C[V]);else for(;++V<W;)B.set(z.call(C,J=C[V],V),J)}else for(var le in C)B.set(le,C[le]);return B};function x(){this._=Object.create(null)}var T="__proto__",d="\0";S(x,{has:c,get:function(C){return this._[_(C)]},set:function(C,z){return this._[_(C)]=z},remove:A,keys:h,values:function(){var C=[];for(var z in this._)C.push(this._[z]);return C},entries:function(){var C=[];for(var z in this._)C.push({key:g(z),value:this._[z]});return C},size:R,empty:E,forEach:function(C){for(var z in this._)C.call(this,g(z),this._[z])}});function _(C){return(C+="")===T||C[0]===d?d+C:C}function g(C){return(C+="")[0]===d?C.slice(1):C}function c(C){return _(C)in this._}function A(C){return(C=_(C))in this._&&delete this._[C]}function h(){var C=[];for(var z in this._)C.push(g(z));return C}function R(){var C=0;for(var z in this._)++C;return C}function E(){for(var C in this._)return!1;return!0}e.nest=function(){var C={},z=[],B=[],V,W;function J(ie,fe,xe){if(xe>=z.length)return W?W.call(C,fe):V?fe.sort(V):fe;for(var _e=-1,Ie=fe.length,Ne=z[xe++],$e,rr,qe,He=new x,Xe;++_e<Ie;)(Xe=He.get($e=Ne(rr=fe[_e])))?Xe.push(rr):He.set($e,[rr]);return ie?(rr=ie(),qe=function(er,tr){rr.set(er,J(ie,tr,xe))}):(rr={},qe=function(er,tr){rr[er]=J(ie,tr,xe)}),He.forEach(qe),rr}function le(ie,fe){if(fe>=z.length)return ie;var xe=[],_e=B[fe++];return ie.forEach(function(Ie,Ne){xe.push({key:Ie,values:le(Ne,fe)})}),_e?xe.sort(function(Ie,Ne){return _e(Ie.key,Ne.key)}):xe}return C.map=function(ie,fe){return J(fe,ie,0)},C.entries=function(ie){return le(J(e.map,ie,0),0)},C.key=function(ie){return z.push(ie),C},C.sortKeys=function(ie){return B[z.length-1]=ie,C},C.sortValues=function(ie){return V=ie,C},C.rollup=function(ie){return W=ie,C},C},e.set=function(C){var z=new D;if(C)for(var B=0,V=C.length;B<V;++B)z.add(C[B]);return z};function D(){this._=Object.create(null)}S(D,{has:c,add:function(C){return this._[_(C+="")]=!0,C},remove:A,values:h,size:R,empty:E,forEach:function(C){for(var z in this._)C.call(this,g(z))}}),e.behavior={};function N(C){return C}e.rebind=function(C,z){for(var B=1,V=arguments.length,W;++B<V;)C[W=arguments[B]]=I(C,z,z[W]);return C};function I(C,z,B){return function(){var V=B.apply(z,arguments);return V===z?C:V}}function F(C,z){if(z in C)return z;z=z.charAt(0).toUpperCase()+z.slice(1);for(var B=0,V=L.length;B<V;++B){var W=L[B]+z;if(W in C)return W}}var L=["webkit","ms","moz","Moz","o","O"];function P(){}e.dispatch=function(){for(var C=new O,z=-1,B=arguments.length;++z<B;)C[arguments[z]]=U(C);return C};function O(){}O.prototype.on=function(C,z){var B=C.indexOf("."),V="";if(B>=0&&(V=C.slice(B+1),C=C.slice(0,B)),C)return arguments.length<2?this[C].on(V):this[C].on(V,z);if(arguments.length===2){if(z==null)for(C in this)this.hasOwnProperty(C)&&this[C].on(V,null);return this}};function U(C){var z=[],B=new x;function V(){for(var W=z,J=-1,le=W.length,ie;++J<le;)(ie=W[J].on)&&ie.apply(this,arguments);return C}return V.on=function(W,J){var le=B.get(W),ie;return arguments.length<2?le&&le.on:(le&&(le.on=null,z=z.slice(0,ie=z.indexOf(le)).concat(z.slice(ie+1)),B.remove(W)),J&&z.push(B.set(W,{on:J})),C)},V}e.event=null;function X(){e.event.preventDefault()}function j(){for(var C=e.event,z;z=C.sourceEvent;)C=z;return C}function $(C){for(var z=new O,B=0,V=arguments.length;++B<V;)z[arguments[B]]=U(z);return z.of=function(W,J){return function(le){try{var ie=le.sourceEvent=e.event;le.target=C,e.event=le,z[le.type].apply(W,J)}finally{e.event=ie}}},z}e.requote=function(C){return C.replace(Y,"\\$&")};var Y=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,q={}.__proto__?function(C,z){C.__proto__=z}:function(C,z){for(var B in z)C[B]=z[B]};function Z(C){return q(C,ee),C}var ne=function(C,z){return z.querySelector(C)},Q=function(C,z){return z.querySelectorAll(C)},oe=function(C,z){var B=C.matches||C[F(C,"matchesSelector")];return oe=function(V,W){return B.call(V,W)},oe(C,z)};typeof Sizzle=="function"&&(ne=function(C,z){return Sizzle(C,z)[0]||null},Q=Sizzle,oe=Sizzle.matchesSelector),e.selection=function(){return e.select(n.documentElement)};var ee=e.selection.prototype=[];ee.select=function(C){var z=[],B,V,W,J;C=G(C);for(var le=-1,ie=this.length;++le<ie;){z.push(B=[]),B.parentNode=(W=this[le]).parentNode;for(var fe=-1,xe=W.length;++fe<xe;)(J=W[fe])?(B.push(V=C.call(J,J.__data__,fe,le)),V&&"__data__"in J&&(V.__data__=J.__data__)):B.push(null)}return Z(z)};function G(C){return typeof C=="function"?C:function(){return ne(C,this)}}ee.selectAll=function(C){var z=[],B,V;C=re(C);for(var W=-1,J=this.length;++W<J;)for(var le=this[W],ie=-1,fe=le.length;++ie<fe;)(V=le[ie])&&(z.push(B=t(C.call(V,V.__data__,ie,W))),B.parentNode=V);return Z(z)};function re(C){return typeof C=="function"?C:function(){return Q(C,this)}}var H="http://www.w3.org/1999/xhtml",te={svg:"http://www.w3.org/2000/svg",xhtml:H,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};e.ns={prefix:te,qualify:function(C){var z=C.indexOf(":"),B=C;return z>=0&&(B=C.slice(0,z))!=="xmlns"&&(C=C.slice(z+1)),te.hasOwnProperty(B)?{space:te[B],local:C}:C}},ee.attr=function(C,z){if(arguments.length<2){if(typeof C=="string"){var B=this.node();return C=e.ns.qualify(C),C.local?B.getAttributeNS(C.space,C.local):B.getAttribute(C)}for(z in C)this.each(ue(z,C[z]));return this}return this.each(ue(C,z))};function ue(C,z){C=e.ns.qualify(C);function B(){this.removeAttribute(C)}function V(){this.removeAttributeNS(C.space,C.local)}function W(){this.setAttribute(C,z)}function J(){this.setAttributeNS(C.space,C.local,z)}function le(){var fe=z.apply(this,arguments);fe==null?this.removeAttribute(C):this.setAttribute(C,fe)}function ie(){var fe=z.apply(this,arguments);fe==null?this.removeAttributeNS(C.space,C.local):this.setAttributeNS(C.space,C.local,fe)}return z==null?C.local?V:B:typeof z=="function"?C.local?ie:le:C.local?J:W}function de(C){return C.trim().replace(/\s+/g," ")}ee.classed=function(C,z){if(arguments.length<2){if(typeof C=="string"){var B=this.node(),V=(C=Me(C)).length,W=-1;if(z=B.classList){for(;++W<V;)if(!z.contains(C[W]))return!1}else for(z=B.getAttribute("class");++W<V;)if(!Ee(C[W]).test(z))return!1;return!0}for(z in C)this.each(ve(z,C[z]));return this}return this.each(ve(C,z))};function Ee(C){return new RegExp("(?:^|\\s+)"+e.requote(C)+"(?:\\s+|$)","g")}function Me(C){return(C+"").trim().split(/^|\s+/)}function ve(C,z){C=Me(C).map(Ae);var B=C.length;function V(){for(var J=-1;++J<B;)C[J](this,z)}function W(){for(var J=-1,le=z.apply(this,arguments);++J<B;)C[J](this,le)}return typeof z=="function"?W:V}function Ae(C){var z=Ee(C);return function(B,V){if(W=B.classList)return V?W.add(C):W.remove(C);var W=B.getAttribute("class")||"";V?(z.lastIndex=0,z.test(W)||B.setAttribute("class",de(W+" "+C))):B.setAttribute("class",de(W.replace(z," ")))}}ee.style=function(C,z,B){var V=arguments.length;if(V<3){if(typeof C!="string"){V<2&&(z="");for(B in C)this.each(ke(B,C[B],z));return this}if(V<2){var W=this.node();return o(W).getComputedStyle(W,null).getPropertyValue(C)}B=""}return this.each(ke(C,z,B))};function ke(C,z,B){function V(){this.style.removeProperty(C)}function W(){this.style.setProperty(C,z,B)}function J(){var le=z.apply(this,arguments);le==null?this.style.removeProperty(C):this.style.setProperty(C,le,B)}return z==null?V:typeof z=="function"?J:W}ee.property=function(C,z){if(arguments.length<2){if(typeof C=="string")return this.node()[C];for(z in C)this.each(De(z,C[z]));return this}return this.each(De(C,z))};function De(C,z){function B(){delete this[C]}function V(){this[C]=z}function W(){var J=z.apply(this,arguments);J==null?delete this[C]:this[C]=J}return z==null?B:typeof z=="function"?W:V}ee.text=function(C){return arguments.length?this.each(typeof C=="function"?function(){var z=C.apply(this,arguments);this.textContent=z==null?"":z}:C==null?function(){this.textContent=""}:function(){this.textContent=C}):this.node().textContent},ee.html=function(C){return arguments.length?this.each(typeof C=="function"?function(){var z=C.apply(this,arguments);this.innerHTML=z==null?"":z}:C==null?function(){this.innerHTML=""}:function(){this.innerHTML=C}):this.node().innerHTML},ee.append=function(C){return C=Ce(C),this.select(function(){return this.appendChild(C.apply(this,arguments))})};function Ce(C){function z(){var V=this.ownerDocument,W=this.namespaceURI;return W===H&&V.documentElement.namespaceURI===H?V.createElement(C):V.createElementNS(W,C)}function B(){return this.ownerDocument.createElementNS(C.space,C.local)}return typeof C=="function"?C:(C=e.ns.qualify(C)).local?B:z}ee.insert=function(C,z){return C=Ce(C),z=G(z),this.select(function(){return this.insertBefore(C.apply(this,arguments),z.apply(this,arguments)||null)})},ee.remove=function(){return this.each(Oe)};function Oe(){var C=this.parentNode;C&&C.removeChild(this)}ee.data=function(C,z){var B=-1,V=this.length,W,J;if(!arguments.length){for(C=new Array(V=(W=this[0]).length);++B<V;)(J=W[B])&&(C[B]=J.__data__);return C}function le(_e,Ie){var Ne,$e=_e.length,rr=Ie.length,qe=Math.min($e,rr),He=new Array(rr),Xe=new Array(rr),er=new Array($e),tr,Ke;if(z){var or=new x,dr=new Array($e),yr;for(Ne=-1;++Ne<$e;)(tr=_e[Ne])&&(or.has(yr=z.call(tr,tr.__data__,Ne))?er[Ne]=tr:or.set(yr,tr),dr[Ne]=yr);for(Ne=-1;++Ne<rr;)(tr=or.get(yr=z.call(Ie,Ke=Ie[Ne],Ne)))?tr!==!0&&(He[Ne]=tr,tr.__data__=Ke):Xe[Ne]=Ue(Ke),or.set(yr,!0);for(Ne=-1;++Ne<$e;)Ne in dr&&or.get(dr[Ne])!==!0&&(er[Ne]=_e[Ne])}else{for(Ne=-1;++Ne<qe;)tr=_e[Ne],Ke=Ie[Ne],tr?(tr.__data__=Ke,He[Ne]=tr):Xe[Ne]=Ue(Ke);for(;Ne<rr;++Ne)Xe[Ne]=Ue(Ie[Ne]);for(;Ne<$e;++Ne)er[Ne]=_e[Ne]}Xe.update=He,Xe.parentNode=He.parentNode=er.parentNode=_e.parentNode,ie.push(Xe),fe.push(He),xe.push(er)}var ie=ye([]),fe=Z([]),xe=Z([]);if(typeof C=="function")for(;++B<V;)le(W=this[B],C.call(W,W.parentNode.__data__,B));else for(;++B<V;)le(W=this[B],C);return fe.enter=function(){return ie},fe.exit=function(){return xe},fe};function Ue(C){return{__data__:C}}ee.datum=function(C){return arguments.length?this.property("__data__",C):this.property("__data__")},ee.filter=function(C){var z=[],B,V,W;typeof C!="function"&&(C=ge(C));for(var J=0,le=this.length;J<le;J++){z.push(B=[]),B.parentNode=(V=this[J]).parentNode;for(var ie=0,fe=V.length;ie<fe;ie++)(W=V[ie])&&C.call(W,W.__data__,ie,J)&&B.push(W)}return Z(z)};function ge(C){return function(){return oe(this,C)}}ee.order=function(){for(var C=-1,z=this.length;++C<z;)for(var B=this[C],V=B.length-1,W=B[V],J;--V>=0;)(J=B[V])&&(W&&W!==J.nextSibling&&W.parentNode.insertBefore(J,W),W=J);return this},ee.sort=function(C){C=Te.apply(this,arguments);for(var z=-1,B=this.length;++z<B;)this[z].sort(C);return this.order()};function Te(C){return arguments.length||(C=v),function(z,B){return z&&B?C(z.__data__,B.__data__):!z-!B}}ee.each=function(C){return ce(this,function(z,B,V){C.call(z,z.__data__,B,V)})};function ce(C,z){for(var B=0,V=C.length;B<V;B++)for(var W=C[B],J=0,le=W.length,ie;J<le;J++)(ie=W[J])&&z(ie,J,B);return C}ee.call=function(C){var z=t(arguments);return C.apply(z[0]=this,z),this},ee.empty=function(){return!this.node()},ee.node=function(){for(var C=0,z=this.length;C<z;C++)for(var B=this[C],V=0,W=B.length;V<W;V++){var J=B[V];if(J)return J}return null},ee.size=function(){var C=0;return ce(this,function(){++C}),C};function ye(C){return q(C,Le),C}var Le=[];e.selection.enter=ye,e.selection.enter.prototype=Le,Le.append=ee.append,Le.empty=ee.empty,Le.node=ee.node,Le.call=ee.call,Le.size=ee.size,Le.select=function(C){for(var z=[],B,V,W,J,le,ie=-1,fe=this.length;++ie<fe;){W=(J=this[ie]).update,z.push(B=[]),B.parentNode=J.parentNode;for(var xe=-1,_e=J.length;++xe<_e;)(le=J[xe])?(B.push(W[xe]=V=C.call(J.parentNode,le.__data__,xe,ie)),V.__data__=le.__data__):B.push(null)}return Z(z)},Le.insert=function(C,z){return arguments.length<2&&(z=me(this)),ee.insert.call(this,C,z)};function me(C){var z,B;return function(V,W,J){var le=C[J].update,ie=le.length,fe;for(J!=B&&(B=J,z=0),W>=z&&(z=W+1);!(fe=le[z])&&++z<ie;);return fe}}e.select=function(C){var z;return typeof C=="string"?(z=[ne(C,n)],z.parentNode=n.documentElement):(z=[C],z.parentNode=a(C)),Z([z])},e.selectAll=function(C){var z;return typeof C=="string"?(z=t(Q(C,n)),z.parentNode=n.documentElement):(z=t(C),z.parentNode=null),Z([z])},ee.on=function(C,z,B){var V=arguments.length;if(V<3){if(typeof C!="string"){V<2&&(z=!1);for(B in C)this.each(he(B,C[B],z));return this}if(V<2)return(V=this.node()["__on"+C])&&V._;B=!1}return this.each(he(C,z,B))};function he(C,z,B){var V="__on"+C,W=C.indexOf("."),J=Se;W>0&&(C=C.slice(0,W));var le=be.get(C);le&&(C=le,J=ze);function ie(){var _e=this[V];_e&&(this.removeEventListener(C,_e,_e.$),delete this[V])}function fe(){var _e=J(z,t(arguments));ie.call(this),this.addEventListener(C,this[V]=_e,_e.$=B),_e._=z}function xe(){var _e=new RegExp("^__on([^.]+)"+e.requote(C)+"$"),Ie;for(var Ne in this)if(Ie=Ne.match(_e)){var $e=this[Ne];this.removeEventListener(Ie[1],$e,$e.$),delete this[Ne]}}return W?z?fe:ie:z?P:xe}var be=e.map({mouseenter:"mouseover",mouseleave:"mouseout"});n&&be.forEach(function(C){"on"+C in n&&be.remove(C)});function Se(C,z){return function(B){var V=e.event;e.event=B,z[0]=this.__data__;try{C.apply(this,z)}finally{e.event=V}}}function ze(C,z){var B=Se(C,z);return function(V){var W=this,J=V.relatedTarget;(!J||J!==W&&!(J.compareDocumentPosition(W)&8))&&B.call(W,V)}}var Fe,Ze=0;function Ye(C){var z=".dragsuppress-"+ ++Ze,B="click"+z,V=e.select(o(C)).on("touchmove"+z,X).on("dragstart"+z,X).on("selectstart"+z,X);if(Fe==null&&(Fe="onselectstart"in C?!1:F(C.style,"userSelect")),Fe){var W=a(C).style,J=W[Fe];W[Fe]="none"}return function(le){if(V.on(z,null),Fe&&(W[Fe]=J),le){var ie=function(){V.on(B,null)};V.on(B,function(){X(),ie()},!0),setTimeout(ie,0)}}}e.mouse=function(C){return We(C,j())};var Ge=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function We(C,z){z.changedTouches&&(z=z.changedTouches[0]);var B=C.ownerSVGElement||C;if(B.createSVGPoint){var V=B.createSVGPoint();if(Ge<0){var W=o(C);if(W.scrollX||W.scrollY){B=e.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var J=B[0][0].getScreenCTM();Ge=!(J.f||J.e),B.remove()}}return Ge?(V.x=z.pageX,V.y=z.pageY):(V.x=z.clientX,V.y=z.clientY),V=V.matrixTransform(C.getScreenCTM().inverse()),[V.x,V.y]}var le=C.getBoundingClientRect();return[z.clientX-le.left-C.clientLeft,z.clientY-le.top-C.clientTop]}e.touch=function(C,z,B){if(arguments.length<3&&(B=z,z=j().changedTouches),z){for(var V=0,W=z.length,J;V<W;++V)if((J=z[V]).identifier===B)return We(C,J)}},e.behavior.drag=function(){var C=$(W,"drag","dragstart","dragend"),z=null,B=J(P,e.mouse,o,"mousemove","mouseup"),V=J(we,e.touch,N,"touchmove","touchend");function W(){this.on("mousedown.drag",B).on("touchstart.drag",V)}function J(le,ie,fe,xe,_e){return function(){var Ie=this,Ne=e.event.target.correspondingElement||e.event.target,$e=Ie.parentNode,rr=C.of(Ie,arguments),qe=0,He=le(),Xe=".drag"+(He==null?"":"-"+He),er,tr=e.select(fe(Ne)).on(xe+Xe,dr).on(_e+Xe,yr),Ke=Ye(Ne),or=ie($e,He);z?(er=z.apply(Ie,arguments),er=[er.x-or[0],er.y-or[1]]):er=[0,0],rr({type:"dragstart"});function dr(){var pr=ie($e,He),br,_r;pr&&(br=pr[0]-or[0],_r=pr[1]-or[1],qe|=br|_r,or=pr,rr({type:"drag",x:pr[0]+er[0],y:pr[1]+er[1],dx:br,dy:_r}))}function yr(){ie($e,He)&&(tr.on(xe+Xe,null).on(_e+Xe,null),Ke(qe),rr({type:"dragend"}))}}}return W.origin=function(le){return arguments.length?(z=le,W):z},e.rebind(W,C,"on")};function we(){return e.event.changedTouches[0].identifier}e.touches=function(C,z){return arguments.length<2&&(z=j().touches),z?t(z).map(function(B){var V=We(C,B);return V.identifier=B.identifier,V}):[]};var Pe=1e-6,Qe=Pe*Pe,Ve=Math.PI,ar=2*Ve,se=ar-Pe,K=Ve/2,ae=Ve/180,Re=180/Ve;function Be(C){return C>0?1:C<0?-1:0}function je(C,z,B){return(z[0]-C[0])*(B[1]-C[1])-(z[1]-C[1])*(B[0]-C[0])}function nr(C){return C>1?0:C<-1?Ve:Math.acos(C)}function hr(C){return C>1?K:C<-1?-K:Math.asin(C)}function wr(C){return((C=Math.exp(C))-1/C)/2}function Cr(C){return((C=Math.exp(C))+1/C)/2}function Tr(C){return((C=Math.exp(2*C))-1)/(C+1)}function Ar(C){return(C=Math.sin(C/2))*C}var ft=Math.SQRT2,Yr=2,mr=4;e.interpolateZoom=function(C,z){var B=C[0],V=C[1],W=C[2],J=z[0],le=z[1],ie=z[2],fe=J-B,xe=le-V,_e=fe*fe+xe*xe,Ie,Ne;if(_e<Qe)Ne=Math.log(ie/W)/ft,Ie=function(er){return[B+er*fe,V+er*xe,W*Math.exp(ft*er*Ne)]};else{var $e=Math.sqrt(_e),rr=(ie*ie-W*W+mr*_e)/(2*W*Yr*$e),qe=(ie*ie-W*W-mr*_e)/(2*ie*Yr*$e),He=Math.log(Math.sqrt(rr*rr+1)-rr),Xe=Math.log(Math.sqrt(qe*qe+1)-qe);Ne=(Xe-He)/ft,Ie=function(er){var tr=er*Ne,Ke=Cr(He),or=W/(Yr*$e)*(Ke*Tr(ft*tr+He)-wr(He));return[B+or*fe,V+or*xe,W*Ke/Cr(ft*tr+He)]}}return Ie.duration=Ne*1e3,Ie},e.behavior.zoom=function(){var C={x:0,y:0,k:1},z,B,V,W=[960,500],J=ct,le=250,ie=0,fe="mousedown.zoom",xe="mousemove.zoom",_e="mouseup.zoom",Ie,Ne="touchstart.zoom",$e,rr=$(tr,"zoomstart","zoom","zoomend"),qe,He,Xe,er;Ur||(Ur="onwheel"in n?(Sr=function(){return-e.event.deltaY*(e.event.deltaMode?120:1)},"wheel"):"onmousewheel"in n?(Sr=function(){return e.event.wheelDelta},"mousewheel"):(Sr=function(){return-e.event.detail},"MozMousePixelScroll"));function tr(vr){vr.on(fe,Pr).on(Ur+".zoom",Bt).on("dblclick.zoom",dt).on(Ne,lt)}tr.event=function(vr){vr.each(function(){var Or=rr.of(this,arguments),Vr=C;yl?e.select(this).transition().each("start.zoom",function(){C=this.__chart__||{x:0,y:0,k:1},_r(Or)}).tween("zoom:zoom",function(){var st=W[0],Pt=W[1],$t=B?B[0]:st/2,bn=B?B[1]:Pt/2,In=e.interpolateZoom([($t-C.x)/C.k,(bn-C.y)/C.k,st/C.k],[($t-Vr.x)/Vr.k,(bn-Vr.y)/Vr.k,st/Vr.k]);return function(Gn){var Nn=In(Gn),$n=st/Nn[2];this.__chart__=C={x:$t-Nn[0]*$n,y:bn-Nn[1]*$n,k:$n},qr(Or)}}).each("interrupt.zoom",function(){Mr(Or)}).each("end.zoom",function(){Mr(Or)}):(this.__chart__=C,_r(Or),qr(Or),Mr(Or))})},tr.translate=function(vr){return arguments.length?(C={x:+vr[0],y:+vr[1],k:C.k},br(),tr):[C.x,C.y]},tr.scale=function(vr){return arguments.length?(C={x:C.x,y:C.y,k:null},dr(+vr),br(),tr):C.k},tr.scaleExtent=function(vr){return arguments.length?(J=vr==null?ct:[+vr[0],+vr[1]],tr):J},tr.center=function(vr){return arguments.length?(V=vr&&[+vr[0],+vr[1]],tr):V},tr.size=function(vr){return arguments.length?(W=vr&&[+vr[0],+vr[1]],tr):W},tr.duration=function(vr){return arguments.length?(le=+vr,tr):le},tr.x=function(vr){return arguments.length?(He=vr,qe=vr.copy(),C={x:0,y:0,k:1},tr):He},tr.y=function(vr){return arguments.length?(er=vr,Xe=vr.copy(),C={x:0,y:0,k:1},tr):er};function Ke(vr){return[(vr[0]-C.x)/C.k,(vr[1]-C.y)/C.k]}function or(vr){return[vr[0]*C.k+C.x,vr[1]*C.k+C.y]}function dr(vr){C.k=Math.max(J[0],Math.min(J[1],vr))}function yr(vr,Or){Or=or(Or),C.x+=vr[0]-Or[0],C.y+=vr[1]-Or[1]}function pr(vr,Or,Vr,st){vr.__chart__={x:C.x,y:C.y,k:C.k},dr(Math.pow(2,st)),yr(B=Or,Vr),vr=e.select(vr),le>0&&(vr=vr.transition().duration(le)),vr.call(tr.event)}function br(){He&&He.domain(qe.range().map(function(vr){return(vr-C.x)/C.k}).map(qe.invert)),er&&er.domain(Xe.range().map(function(vr){return(vr-C.y)/C.k}).map(Xe.invert))}function _r(vr){ie++||vr({type:"zoomstart"})}function qr(vr){br(),vr({type:"zoom",scale:C.k,translate:[C.x,C.y]})}function Mr(vr){--ie||(vr({type:"zoomend"}),B=null)}function Pr(){var vr=this,Or=rr.of(vr,arguments),Vr=0,st=e.select(o(vr)).on(xe,bn).on(_e,In),Pt=Ke(e.mouse(vr)),$t=Ye(vr);cc.call(vr),_r(Or);function bn(){Vr=1,yr(e.mouse(vr),Pt),qr(Or)}function In(){st.on(xe,null).on(_e,null),$t(Vr),Mr(Or)}}function lt(){var vr=this,Or=rr.of(vr,arguments),Vr={},st=0,Pt,$t=".zoom-"+e.event.changedTouches[0].identifier,bn="touchmove"+$t,In="touchend"+$t,Gn=[],Nn=e.select(vr),$n=Ye(vr);jn(),_r(Or),Nn.on(fe,null).on(Ne,jn);function An(){var Za=e.touches(vr);return Pt=C.k,Za.forEach(function(_n){_n.identifier in Vr&&(Vr[_n.identifier]=Ke(_n))}),Za}function jn(){var Za=e.event.target;e.select(Za).on(bn,ml).on(In,TB),Gn.push(Za);for(var _n=e.event.changedTouches,Ta=0,Mi=_n.length;Ta<Mi;++Ta)Vr[_n[Ta].identifier]=null;var Aa=An(),As=Date.now();if(Aa.length===1){if(As-$e<500){var xl=Aa[0];pr(vr,xl,Vr[xl.identifier],Math.floor(Math.log(C.k)/Math.LN2)+1),X()}$e=As}else if(Aa.length>1){var xl=Aa[0],_o=Aa[1],dc=xl[0]-_o[0],nb=xl[1]-_o[1];st=dc*dc+nb*nb}}function ml(){var Za=e.touches(vr),_n,Ta,Mi,Aa;cc.call(vr);for(var As=0,xl=Za.length;As<xl;++As,Aa=null)if(Mi=Za[As],Aa=Vr[Mi.identifier]){if(Ta)break;_n=Mi,Ta=Aa}if(Aa){var _o=(_o=Mi[0]-_n[0])*_o+(_o=Mi[1]-_n[1])*_o,dc=st&&Math.sqrt(_o/st);_n=[(_n[0]+Mi[0])/2,(_n[1]+Mi[1])/2],Ta=[(Ta[0]+Aa[0])/2,(Ta[1]+Aa[1])/2],dr(dc*Pt)}$e=null,yr(_n,Ta),qr(Or)}function TB(){if(e.event.touches.length){for(var Za=e.event.changedTouches,_n=0,Ta=Za.length;_n<Ta;++_n)delete Vr[Za[_n].identifier];for(var Mi in Vr)return void An()}e.selectAll(Gn).on($t,null),Nn.on(fe,Pr).on(Ne,lt),$n(),Mr(Or)}}function Bt(){var vr=rr.of(this,arguments);Ie?clearTimeout(Ie):(cc.call(this),z=Ke(B=V||e.mouse(this)),_r(vr)),Ie=setTimeout(function(){Ie=null,Mr(vr)},50),X(),dr(Math.pow(2,Sr()*.002)*C.k),yr(B,z),qr(vr)}function dt(){var vr=e.mouse(this),Or=Math.log(C.k)/Math.LN2;pr(this,vr,Ke(vr),e.event.shiftKey?Math.ceil(Or)-1:Math.floor(Or)+1)}return e.rebind(tr,rr,"on")};var ct=[0,1/0],Sr,Ur;e.color=xt;function xt(){}xt.prototype.toString=function(){return this.rgb()+""},e.hsl=zr;function zr(C,z,B){return this instanceof zr?(this.h=+C,this.s=+z,void(this.l=+B)):arguments.length<2?C instanceof zr?new zr(C.h,C.s,C.l):at(""+C,vt,zr):new zr(C,z,B)}var Hr=zr.prototype=new xt;Hr.brighter=function(C){return C=Math.pow(.7,arguments.length?C:1),new zr(this.h,this.s,this.l/C)},Hr.darker=function(C){return C=Math.pow(.7,arguments.length?C:1),new zr(this.h,this.s,C*this.l)},Hr.rgb=function(){return Ot(this.h,this.s,this.l)};function Ot(C,z,B){var V,W;C=isNaN(C)?0:(C%=360)<0?C+360:C,z=isNaN(z)||z<0?0:z>1?1:z,B=B<0?0:B>1?1:B,W=B<=.5?B*(1+z):B+z-B*z,V=2*B-W;function J(ie){return ie>360?ie-=360:ie<0&&(ie+=360),ie<60?V+(W-V)*ie/60:ie<180?W:ie<240?V+(W-V)*(240-ie)/60:V}function le(ie){return Math.round(J(ie)*255)}return new tn(le(C+120),le(C),le(C-120))}e.hcl=Lt;function Lt(C,z,B){return this instanceof Lt?(this.h=+C,this.c=+z,void(this.l=+B)):arguments.length<2?C instanceof Lt?new Lt(C.h,C.c,C.l):C instanceof Rt?xi(C.l,C.a,C.b):xi((C=gr((C=e.rgb(C)).r,C.g,C.b)).l,C.a,C.b):new Lt(C,z,B)}var yn=Lt.prototype=new xt;yn.brighter=function(C){return new Lt(this.h,this.c,Math.min(100,this.l+nt*(arguments.length?C:1)))},yn.darker=function(C){return new Lt(this.h,this.c,Math.max(0,this.l-nt*(arguments.length?C:1)))},yn.rgb=function(){return Gt(this.h,this.c,this.l).rgb()};function Gt(C,z,B){return isNaN(C)&&(C=0),isNaN(z)&&(z=0),new Rt(B,Math.cos(C*=ae)*z,Math.sin(C)*z)}e.lab=Rt;function Rt(C,z,B){return this instanceof Rt?(this.l=+C,this.a=+z,void(this.b=+B)):arguments.length<2?C instanceof Rt?new Rt(C.l,C.a,C.b):C instanceof Lt?Gt(C.h,C.c,C.l):gr((C=tn(C)).r,C.g,C.b):new Rt(C,z,B)}var nt=18,Ft=.95047,ha=1,Qn=1.08883,Fn=Rt.prototype=new xt;Fn.brighter=function(C){return new Rt(Math.min(100,this.l+nt*(arguments.length?C:1)),this.a,this.b)},Fn.darker=function(C){return new Rt(Math.max(0,this.l-nt*(arguments.length?C:1)),this.a,this.b)},Fn.rgb=function(){return wa(this.l,this.a,this.b)};function wa(C,z,B){var V=(C+16)/116,W=V+z/500,J=V-B/200;return W=Gi(W)*Ft,V=Gi(V)*ha,J=Gi(J)*Qn,new tn(Wi(3.2404542*W-1.5371385*V-.4985314*J),Wi(-.969266*W+1.8760108*V+.041556*J),Wi(.0556434*W-.2040259*V+1.0572252*J))}function xi(C,z,B){return C>0?new Lt(Math.atan2(B,z)*Re,Math.sqrt(z*z+B*B),C):new Lt(NaN,NaN,C)}function Gi(C){return C>.206893034?C*C*C:(C-4/29)/7.787037}function Yi(C){return C>.008856?Math.pow(C,1/3):7.787037*C+4/29}function Wi(C){return Math.round(255*(C<=.00304?12.92*C:1.055*Math.pow(C,1/2.4)-.055))}e.rgb=tn;function tn(C,z,B){return this instanceof tn?(this.r=~~C,this.g=~~z,void(this.b=~~B)):arguments.length<2?C instanceof tn?new tn(C.r,C.g,C.b):at(""+C,tn,Ot):new tn(C,z,B)}function xo(C){return new tn(C>>16,C>>8&255,C&255)}function bi(C){return xo(C)+""}var _i=tn.prototype=new xt;_i.brighter=function(C){C=Math.pow(.7,arguments.length?C:1);var z=this.r,B=this.g,V=this.b,W=30;return!z&&!B&&!V?new tn(W,W,W):(z&&z<W&&(z=W),B&&B<W&&(B=W),V&&V<W&&(V=W),new tn(Math.min(255,z/C),Math.min(255,B/C),Math.min(255,V/C)))},_i.darker=function(C){return C=Math.pow(.7,arguments.length?C:1),new tn(C*this.r,C*this.g,C*this.b)},_i.hsl=function(){return vt(this.r,this.g,this.b)},_i.toString=function(){return"#"+kr(this.r)+kr(this.g)+kr(this.b)};function kr(C){return C<16?"0"+Math.max(0,C).toString(16):Math.min(255,C).toString(16)}function at(C,z,B){var V=0,W=0,J=0,le,ie,fe;if(le=/([a-z]+)\((.*)\)/.exec(C=C.toLowerCase()),le)switch(ie=le[2].split(","),le[1]){case"hsl":return B(parseFloat(ie[0]),parseFloat(ie[1])/100,parseFloat(ie[2])/100);case"rgb":return z(bt(ie[0]),bt(ie[1]),bt(ie[2]))}return(fe=xn.get(C))?z(fe.r,fe.g,fe.b):(C!=null&&C.charAt(0)==="#"&&!isNaN(fe=parseInt(C.slice(1),16))&&(C.length===4?(V=(fe&3840)>>4,V=V>>4|V,W=fe&240,W=W>>4|W,J=fe&15,J=J<<4|J):C.length===7&&(V=(fe&16711680)>>16,W=(fe&65280)>>8,J=fe&255)),z(V,W,J))}function vt(C,z,B){var V=Math.min(C/=255,z/=255,B/=255),W=Math.max(C,z,B),J=W-V,le,ie,fe=(W+V)/2;return J?(ie=fe<.5?J/(W+V):J/(2-W-V),C==W?le=(z-B)/J+(z<B?6:0):z==W?le=(B-C)/J+2:le=(C-z)/J+4,le*=60):(le=NaN,ie=fe>0&&fe<1?0:le),new zr(le,ie,fe)}function gr(C,z,B){C=mn(C),z=mn(z),B=mn(B);var V=Yi((.4124564*C+.3575761*z+.1804375*B)/Ft),W=Yi((.2126729*C+.7151522*z+.072175*B)/ha),J=Yi((.0193339*C+.119192*z+.9503041*B)/Qn);return Rt(116*W-16,500*(V-W),200*(W-J))}function mn(C){return(C/=255)<=.04045?C/12.92:Math.pow((C+.055)/1.055,2.4)}function bt(C){var z=parseFloat(C);return C.charAt(C.length-1)==="%"?Math.round(z*2.55):z}var xn=e.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});xn.forEach(function(C,z){xn.set(C,xo(z))});function Xr(C){return typeof C=="function"?C:function(){return C}}e.functor=Xr,e.xhr=Wa(N);function Wa(C){return function(z,B,V){return arguments.length===2&&typeof B=="function"&&(V=B,B=null),hl(z,B,C,V)}}function hl(C,z,B,V){var W={},J=e.dispatch("beforesend","progress","load","error"),le={},ie=new XMLHttpRequest,fe=null;self.XDomainRequest&&!("withCredentials"in ie)&&/^(http(s)?:)?\/\//.test(C)&&(ie=new XDomainRequest),"onload"in ie?ie.onload=ie.onerror=xe:ie.onreadystatechange=function(){ie.readyState>3&&xe()};function xe(){var _e=ie.status,Ie;if(!_e&&kq(ie)||_e>=200&&_e<300||_e===304){try{Ie=B.call(W,ie)}catch(Ne){J.error.call(W,Ne);return}J.load.call(W,Ie)}else J.error.call(W,ie)}return ie.onprogress=function(_e){var Ie=e.event;e.event=_e;try{J.progress.call(W,ie)}finally{e.event=Ie}},W.header=function(_e,Ie){return _e=(_e+"").toLowerCase(),arguments.length<2?le[_e]:(Ie==null?delete le[_e]:le[_e]=Ie+"",W)},W.mimeType=function(_e){return arguments.length?(z=_e==null?null:_e+"",W):z},W.responseType=function(_e){return arguments.length?(fe=_e,W):fe},W.response=function(_e){return B=_e,W},["get","post"].forEach(function(_e){W[_e]=function(){return W.send.apply(W,[_e].concat(t(arguments)))}}),W.send=function(_e,Ie,Ne){if(arguments.length===2&&typeof Ie=="function"&&(Ne=Ie,Ie=null),ie.open(_e,C,!0),z!=null&&!("accept"in le)&&(le.accept=z+",*/*"),ie.setRequestHeader)for(var $e in le)ie.setRequestHeader($e,le[$e]);return z!=null&&ie.overrideMimeType&&ie.overrideMimeType(z),fe!=null&&(ie.responseType=fe),Ne!=null&&W.on("error",Ne).on("load",function(rr){Ne(null,rr)}),J.beforesend.call(W,ie),ie.send(Ie==null?null:Ie),W},W.abort=function(){return ie.abort(),W},e.rebind(W,J,"on"),V==null?W:W.get(Aq(V))}function Aq(C){return C.length===1?function(z,B){C(z==null?B:null)}:C}function kq(C){var z=C.responseType;return z&&z!=="text"?C.response:C.responseText}e.dsv=function(C,z){var B=new RegExp('["'+C+`
]`),V=C.charCodeAt(0);function W(xe,_e,Ie){arguments.length<3&&(Ie=_e,_e=null);var Ne=hl(xe,z,_e==null?J:le(_e),Ie);return Ne.row=function($e){return arguments.length?Ne.response((_e=$e)==null?J:le($e)):_e},Ne}function J(xe){return W.parse(xe.responseText)}function le(xe){return function(_e){return W.parse(_e.responseText,xe)}}W.parse=function(xe,_e){var Ie;return W.parseRows(xe,function(Ne,$e){if(Ie)return Ie(Ne,$e-1);var rr=function(qe){for(var He={},Xe=Ne.length,er=0;er<Xe;++er)He[Ne[er]]=qe[er];return He};Ie=_e?function(qe,He){return _e(rr(qe),He)}:rr})},W.parseRows=function(xe,_e){var Ie={},Ne={},$e=[],rr=xe.length,qe=0,He=0,Xe,er;function tr(){if(qe>=rr)return Ne;if(er)return er=!1,Ie;var or=qe;if(xe.charCodeAt(or)===34){for(var dr=or;dr++<rr;)if(xe.charCodeAt(dr)===34){if(xe.charCodeAt(dr+1)!==34)break;++dr}qe=dr+2;var yr=xe.charCodeAt(dr+1);return yr===13?(er=!0,xe.charCodeAt(dr+2)===10&&++qe):yr===10&&(er=!0),xe.slice(or+1,dr).replace(/""/g,'"')}for(;qe<rr;){var yr=xe.charCodeAt(qe++),pr=1;if(yr===10)er=!0;else if(yr===13)er=!0,xe.charCodeAt(qe)===10&&(++qe,++pr);else if(yr!==V)continue;return xe.slice(or,qe-pr)}return xe.slice(or)}for(;(Xe=tr())!==Ne;){for(var Ke=[];Xe!==Ie&&Xe!==Ne;)Ke.push(Xe),Xe=tr();_e&&(Ke=_e(Ke,He++))==null||$e.push(Ke)}return $e},W.format=function(xe){if(Array.isArray(xe[0]))return W.formatRows(xe);var _e=new D,Ie=[];return xe.forEach(function(Ne){for(var $e in Ne)_e.has($e)||Ie.push(_e.add($e))}),[Ie.map(fe).join(C)].concat(xe.map(function(Ne){return Ie.map(function($e){return fe(Ne[$e])}).join(C)})).join(`
`)},W.formatRows=function(xe){return xe.map(ie).join(`
`)};function ie(xe){return xe.map(fe).join(C)}function fe(xe){return B.test(xe)?'"'+xe.replace(/\"/g,'""')+'"':xe}return W},e.csv=e.dsv(",","text/csv"),e.tsv=e.dsv("	","text/tab-separated-values");var W0,X0,Z0,J0,V5=this[F(this,"requestAnimationFrame")]||function(C){setTimeout(C,17)};e.timer=function(){K0.apply(this,arguments)};function K0(C,z,B){var V=arguments.length;V<2&&(z=0),V<3&&(B=Date.now());var W=B+z,J={c:C,t:W,n:null};return X0?X0.n=J:W0=J,X0=J,Z0||(J0=clearTimeout(J0),Z0=1,V5(Ld)),J}function Ld(){var C=G5(),z=Y5()-C;z>24?(isFinite(z)&&(clearTimeout(J0),J0=setTimeout(Ld,z)),Z0=0):(Z0=1,V5(Ld))}e.timer.flush=function(){G5(),Y5()};function G5(){for(var C=Date.now(),z=W0;z;)C>=z.t&&z.c(C-z.t)&&(z.c=null),z=z.n;return C}function Y5(){for(var C,z=W0,B=1/0;z;)z.c?(z.t<B&&(B=z.t),z=(C=z).n):z=C?C.n=z.n:W0=z.n;return X0=C,B}e.round=function(C,z){return z?Math.round(C*(z=Math.pow(10,z)))/z:Math.round(C)},e.geom={};function xs(C){return C[0]}function Zu(C){return C[1]}e.geom.hull=function(C){var z=xs,B=Zu;if(arguments.length)return V(C);function V(W){if(W.length<3)return[];var J=Xr(z),le=Xr(B),ie,fe=W.length,xe=[],_e=[];for(ie=0;ie<fe;ie++)xe.push([+J.call(this,W[ie],ie),+le.call(this,W[ie],ie),ie]);for(xe.sort(Sq),ie=0;ie<fe;ie++)_e.push([xe[ie][0],-xe[ie][1]]);var Ie=W5(xe),Ne=W5(_e),$e=Ne[0]===Ie[0],rr=Ne[Ne.length-1]===Ie[Ie.length-1],qe=[];for(ie=Ie.length-1;ie>=0;--ie)qe.push(W[xe[Ie[ie]][2]]);for(ie=+$e;ie<Ne.length-rr;++ie)qe.push(W[xe[Ne[ie]][2]]);return qe}return V.x=function(W){return arguments.length?(z=W,V):z},V.y=function(W){return arguments.length?(B=W,V):B},V};function W5(C){for(var z=C.length,B=[0,1],V=2,W=2;W<z;W++){for(;V>1&&je(C[B[V-2]],C[B[V-1]],C[W])<=0;)--V;B[V++]=W}return B.slice(0,V)}function Sq(C,z){return C[0]-z[0]||C[1]-z[1]}e.geom.polygon=function(C){return q(C,Q0),C};var Q0=e.geom.polygon.prototype=[];Q0.area=function(){for(var C=-1,z=this.length,B,V=this[z-1],W=0;++C<z;)B=V,V=this[C],W+=B[1]*V[0]-B[0]*V[1];return W*.5},Q0.centroid=function(C){var z=-1,B=this.length,V=0,W=0,J,le=this[B-1],ie;for(arguments.length||(C=-1/(6*this.area()));++z<B;)J=le,le=this[z],ie=J[0]*le[1]-le[0]*J[1],V+=(J[0]+le[0])*ie,W+=(J[1]+le[1])*ie;return[V*C,W*C]},Q0.clip=function(C){for(var z,B=X5(C),V=-1,W=this.length-X5(this),J,le,ie=this[W-1],fe,xe,_e;++V<W;){for(z=C.slice(),C.length=0,fe=this[V],xe=z[(le=z.length-B)-1],J=-1;++J<le;)_e=z[J],Rd(_e,ie,fe)?(Rd(xe,ie,fe)||C.push(Dd(xe,_e,ie,fe)),C.push(_e)):Rd(xe,ie,fe)&&C.push(Dd(xe,_e,ie,fe)),xe=_e;B&&C.push(C[0]),ie=fe}return C};function Rd(C,z,B){return(B[0]-z[0])*(C[1]-z[1])<(B[1]-z[1])*(C[0]-z[0])}function Dd(C,z,B,V){var W=C[0],J=B[0],le=z[0]-W,ie=V[0]-J,fe=C[1],xe=B[1],_e=z[1]-fe,Ie=V[1]-xe,Ne=(ie*(fe-xe)-Ie*(W-J))/(Ie*le-ie*_e);return[W+Ne*le,fe+Ne*_e]}function X5(C){var z=C[0],B=C[C.length-1];return!(z[0]-B[0]||z[1]-B[1])}var bs,dl,_s,Z5=[],Pd,Ju,J5=[];function Cq(){ec(this),this.edge=this.site=this.circle=null}function K5(C){var z=Z5.pop()||new Cq;return z.site=C,z}function Fd(C){Ms(C),_s.remove(C),Z5.push(C),ec(C)}function Eq(C){var z=C.circle,B=z.x,V=z.cy,W={x:B,y:V},J=C.P,le=C.N,ie=[C];Fd(C);for(var fe=J;fe.circle&&m(B-fe.circle.x)<Pe&&m(V-fe.circle.cy)<Pe;)J=fe.P,ie.unshift(fe),Fd(fe),fe=J;ie.unshift(fe),Ms(fe);for(var xe=le;xe.circle&&m(B-xe.circle.x)<Pe&&m(V-xe.circle.cy)<Pe;)le=xe.N,ie.push(xe),Fd(xe),xe=le;ie.push(xe),Ms(xe);var _e=ie.length,Ie;for(Ie=1;Ie<_e;++Ie)xe=ie[Ie],fe=ie[Ie-1],$0(xe.edge,fe.site,xe.site,W);fe=ie[0],xe=ie[_e-1],xe.edge=Ku(fe.site,xe.site,null,W),ws(fe),ws(xe)}function Lq(C){for(var z=C.x,B=C.y,V,W,J,le,ie=_s._;ie;)if(J=Q5(ie,B)-z,J>Pe)ie=ie.L;else if(le=z-Rq(ie,B),le>Pe){if(!ie.R){V=ie;break}ie=ie.R}else{J>-Pe?(V=ie.P,W=ie):le>-Pe?(V=ie,W=ie.N):V=W=ie;break}var fe=K5(C);if(_s.insert(V,fe),!(!V&&!W)){if(V===W){Ms(V),W=K5(V.site),_s.insert(fe,W),fe.edge=W.edge=Ku(V.site,fe.site),ws(V),ws(W);return}if(!W){fe.edge=Ku(V.site,fe.site);return}Ms(V),Ms(W);var xe=V.site,_e=xe.x,Ie=xe.y,Ne=C.x-_e,$e=C.y-Ie,rr=W.site,qe=rr.x-_e,He=rr.y-Ie,Xe=2*(Ne*He-$e*qe),er=Ne*Ne+$e*$e,tr=qe*qe+He*He,Ke={x:(He*er-$e*tr)/Xe+_e,y:(Ne*tr-qe*er)/Xe+Ie};$0(W.edge,xe,rr,Ke),fe.edge=Ku(xe,C,null,Ke),W.edge=Ku(C,rr,null,Ke),ws(V),ws(W)}}function Q5(C,z){var B=C.site,V=B.x,W=B.y,J=W-z;if(!J)return V;var le=C.P;if(!le)return-1/0;B=le.site;var ie=B.x,fe=B.y,xe=fe-z;if(!xe)return ie;var _e=ie-V,Ie=1/J-1/xe,Ne=_e/xe;return Ie?(-Ne+Math.sqrt(Ne*Ne-2*Ie*(_e*_e/(-2*xe)-fe+xe/2+W-J/2)))/Ie+V:(V+ie)/2}function Rq(C,z){var B=C.N;if(B)return Q5(B,z);var V=C.site;return V.y===z?V.x:1/0}function $5(C){this.site=C,this.edges=[]}$5.prototype.prepare=function(){for(var C=this.edges,z=C.length,B;z--;)B=C[z].edge,(!B.b||!B.a)&&C.splice(z,1);return C.sort(j5),C.length};function Dq(C){for(var z=C[0][0],B=C[1][0],V=C[0][1],W=C[1][1],J,le,ie,fe,xe=dl,_e=xe.length,Ie,Ne,$e,rr,qe,He;_e--;)if(Ie=xe[_e],!(!Ie||!Ie.prepare()))for($e=Ie.edges,rr=$e.length,Ne=0;Ne<rr;)He=$e[Ne].end(),ie=He.x,fe=He.y,qe=$e[++Ne%rr].start(),J=qe.x,le=qe.y,(m(ie-J)>Pe||m(fe-le)>Pe)&&($e.splice(Ne,0,new j0(zq(Ie.site,He,m(ie-z)<Pe&&W-fe>Pe?{x:z,y:m(J-z)<Pe?le:W}:m(fe-W)<Pe&&B-ie>Pe?{x:m(le-W)<Pe?J:B,y:W}:m(ie-B)<Pe&&fe-V>Pe?{x:B,y:m(J-B)<Pe?le:V}:m(fe-V)<Pe&&ie-z>Pe?{x:m(le-V)<Pe?J:z,y:V}:null),Ie.site,null)),++rr)}function j5(C,z){return z.angle-C.angle}function Pq(){ec(this),this.x=this.y=this.arc=this.site=this.cy=null}function ws(C){var z=C.P,B=C.N;if(!(!z||!B)){var V=z.site,W=C.site,J=B.site;if(V!==J){var le=W.x,ie=W.y,fe=V.x-le,xe=V.y-ie,_e=J.x-le,He=J.y-ie,Ie=2*(fe*He-xe*_e);if(!(Ie>=-Qe)){var Ne=fe*fe+xe*xe,$e=_e*_e+He*He,rr=(He*Ne-xe*$e)/Ie,qe=(fe*$e-_e*Ne)/Ie,He=qe+ie,Xe=J5.pop()||new Pq;Xe.arc=C,Xe.site=W,Xe.x=rr+le,Xe.y=He+Math.sqrt(rr*rr+qe*qe),Xe.cy=He,C.circle=Xe;for(var er=null,tr=Ju._;tr;)if(Xe.y<tr.y||Xe.y===tr.y&&Xe.x<=tr.x)if(tr.L)tr=tr.L;else{er=tr.P;break}else if(tr.R)tr=tr.R;else{er=tr;break}Ju.insert(er,Xe),er||(Pd=Xe)}}}}function Ms(C){var z=C.circle;z&&(z.P||(Pd=z.N),Ju.remove(z),J5.push(z),ec(z),C.circle=null)}function Fq(C,z,B,V){return function(W){var J=W.a,le=W.b,ie=J.x,fe=J.y,xe=le.x,_e=le.y,Ie=0,Ne=1,$e=xe-ie,rr=_e-fe,qe;if(qe=C-ie,!(!$e&&qe>0)){if(qe/=$e,$e<0){if(qe<Ie)return;qe<Ne&&(Ne=qe)}else if($e>0){if(qe>Ne)return;qe>Ie&&(Ie=qe)}if(qe=B-ie,!(!$e&&qe<0)){if(qe/=$e,$e<0){if(qe>Ne)return;qe>Ie&&(Ie=qe)}else if($e>0){if(qe<Ie)return;qe<Ne&&(Ne=qe)}if(qe=z-fe,!(!rr&&qe>0)){if(qe/=rr,rr<0){if(qe<Ie)return;qe<Ne&&(Ne=qe)}else if(rr>0){if(qe>Ne)return;qe>Ie&&(Ie=qe)}if(qe=V-fe,!(!rr&&qe<0)){if(qe/=rr,rr<0){if(qe>Ne)return;qe>Ie&&(Ie=qe)}else if(rr>0){if(qe<Ie)return;qe<Ne&&(Ne=qe)}return Ie>0&&(W.a={x:ie+Ie*$e,y:fe+Ie*rr}),Ne<1&&(W.b={x:ie+Ne*$e,y:fe+Ne*rr}),W}}}}}}function Iq(C){for(var z=bs,B=Fq(C[0][0],C[0][1],C[1][0],C[1][1]),V=z.length,W;V--;)W=z[V],(!Nq(W,C)||!B(W)||m(W.a.x-W.b.x)<Pe&&m(W.a.y-W.b.y)<Pe)&&(W.a=W.b=null,z.splice(V,1))}function Nq(C,z){var B=C.b;if(B)return!0;var V=C.a,W=z[0][0],J=z[1][0],le=z[0][1],ie=z[1][1],fe=C.l,xe=C.r,_e=fe.x,Ie=fe.y,Ne=xe.x,$e=xe.y,rr=(_e+Ne)/2,qe=(Ie+$e)/2,He,Xe;if($e===Ie){if(rr<W||rr>=J)return;if(_e>Ne){if(!V)V={x:rr,y:le};else if(V.y>=ie)return;B={x:rr,y:ie}}else{if(!V)V={x:rr,y:ie};else if(V.y<le)return;B={x:rr,y:le}}}else if(He=(_e-Ne)/($e-Ie),Xe=qe-He*rr,He<-1||He>1)if(_e>Ne){if(!V)V={x:(le-Xe)/He,y:le};else if(V.y>=ie)return;B={x:(ie-Xe)/He,y:ie}}else{if(!V)V={x:(ie-Xe)/He,y:ie};else if(V.y<le)return;B={x:(le-Xe)/He,y:le}}else if(Ie<$e){if(!V)V={x:W,y:He*W+Xe};else if(V.x>=J)return;B={x:J,y:He*J+Xe}}else{if(!V)V={x:J,y:He*J+Xe};else if(V.x<W)return;B={x:W,y:He*W+Xe}}return C.a=V,C.b=B,!0}function ex(C,z){this.l=C,this.r=z,this.a=this.b=null}function Ku(C,z,B,V){var W=new ex(C,z);return bs.push(W),B&&$0(W,C,z,B),V&&$0(W,z,C,V),dl[C.i].edges.push(new j0(W,C,z)),dl[z.i].edges.push(new j0(W,z,C)),W}function zq(C,z,B){var V=new ex(C,null);return V.a=z,V.b=B,bs.push(V),V}function $0(C,z,B,V){!C.a&&!C.b?(C.a=V,C.l=z,C.r=B):C.l===B?C.b=V:C.a=V}function j0(C,z,B){var V=C.a,W=C.b;this.edge=C,this.site=z,this.angle=B?Math.atan2(B.y-z.y,B.x-z.x):C.l===z?Math.atan2(W.x-V.x,V.y-W.y):Math.atan2(V.x-W.x,W.y-V.y)}j0.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Id(){this._=null}function ec(C){C.U=C.C=C.L=C.R=C.P=C.N=null}Id.prototype={insert:function(C,z){var B,V,W;if(C){if(z.P=C,z.N=C.N,C.N&&(C.N.P=z),C.N=z,C.R){for(C=C.R;C.L;)C=C.L;C.L=z}else C.R=z;B=C}else this._?(C=rx(this._),z.P=null,z.N=C,C.P=C.L=z,B=C):(z.P=z.N=null,this._=z,B=null);for(z.L=z.R=null,z.U=B,z.C=!0,C=z;B&&B.C;)V=B.U,B===V.L?(W=V.R,W&&W.C?(B.C=W.C=!1,V.C=!0,C=V):(C===B.R&&(Qu(this,B),C=B,B=C.U),B.C=!1,V.C=!0,$u(this,V))):(W=V.L,W&&W.C?(B.C=W.C=!1,V.C=!0,C=V):(C===B.L&&($u(this,B),C=B,B=C.U),B.C=!1,V.C=!0,Qu(this,V))),B=C.U;this._.C=!1},remove:function(C){C.N&&(C.N.P=C.P),C.P&&(C.P.N=C.N),C.N=C.P=null;var z=C.U,B,V=C.L,W=C.R,J,le;if(V?W?J=rx(W):J=V:J=W,z?z.L===C?z.L=J:z.R=J:this._=J,V&&W?(le=J.C,J.C=C.C,J.L=V,V.U=J,J!==W?(z=J.U,J.U=C.U,C=J.R,z.L=C,J.R=W,W.U=J):(J.U=z,z=J,C=J.R)):(le=C.C,C=J),C&&(C.U=z),!le){if(C&&C.C){C.C=!1;return}do{if(C===this._)break;if(C===z.L){if(B=z.R,B.C&&(B.C=!1,z.C=!0,Qu(this,z),B=z.R),B.L&&B.L.C||B.R&&B.R.C){(!B.R||!B.R.C)&&(B.L.C=!1,B.C=!0,$u(this,B),B=z.R),B.C=z.C,z.C=B.R.C=!1,Qu(this,z),C=this._;break}}else if(B=z.L,B.C&&(B.C=!1,z.C=!0,$u(this,z),B=z.L),B.L&&B.L.C||B.R&&B.R.C){(!B.L||!B.L.C)&&(B.R.C=!1,B.C=!0,Qu(this,B),B=z.L),B.C=z.C,z.C=B.L.C=!1,$u(this,z),C=this._;break}B.C=!0,C=z,z=z.U}while(!C.C);C&&(C.C=!1)}}};function Qu(C,z){var B=z,V=z.R,W=B.U;W?W.L===B?W.L=V:W.R=V:C._=V,V.U=W,B.U=V,B.R=V.L,B.R&&(B.R.U=B),V.L=B}function $u(C,z){var B=z,V=z.L,W=B.U;W?W.L===B?W.L=V:W.R=V:C._=V,V.U=W,B.U=V,B.L=V.R,B.L&&(B.L.U=B),V.R=B}function rx(C){for(;C.L;)C=C.L;return C}function Nd(C,z){var B=C.sort(qq).pop(),V,W,J;for(bs=[],dl=new Array(C.length),_s=new Id,Ju=new Id;;)if(J=Pd,B&&(!J||B.y<J.y||B.y===J.y&&B.x<J.x))(B.x!==V||B.y!==W)&&(dl[B.i]=new $5(B),Lq(B),V=B.x,W=B.y),B=C.pop();else if(J)Eq(J.arc);else break;z&&(Iq(z),Dq(z));var le={cells:dl,edges:bs};return _s=Ju=bs=dl=null,le}function qq(C,z){return z.y-C.y||z.x-C.x}e.geom.voronoi=function(C){var z=xs,B=Zu,V=z,W=B,J=rc;if(C)return le(C);function le(fe){var xe=new Array(fe.length),_e=J[0][0],Ie=J[0][1],Ne=J[1][0],$e=J[1][1];return Nd(ie(fe),J).cells.forEach(function(rr,qe){var He=rr.edges,Xe=rr.site,er=xe[qe]=He.length?He.map(function(tr){var Ke=tr.start();return[Ke.x,Ke.y]}):Xe.x>=_e&&Xe.x<=Ne&&Xe.y>=Ie&&Xe.y<=$e?[[_e,$e],[Ne,$e],[Ne,Ie],[_e,Ie]]:[];er.point=fe[qe]}),xe}function ie(fe){return fe.map(function(xe,_e){return{x:Math.round(V(xe,_e)/Pe)*Pe,y:Math.round(W(xe,_e)/Pe)*Pe,i:_e}})}return le.links=function(fe){return Nd(ie(fe)).edges.filter(function(xe){return xe.l&&xe.r}).map(function(xe){return{source:fe[xe.l.i],target:fe[xe.r.i]}})},le.triangles=function(fe){var xe=[];return Nd(ie(fe)).cells.forEach(function(_e,Ie){for(var Ne=_e.site,$e=_e.edges.sort(j5),rr=-1,qe=$e.length,He,Xe,er=$e[qe-1].edge,tr=er.l===Ne?er.r:er.l;++rr<qe;)He=er,Xe=tr,er=$e[rr].edge,tr=er.l===Ne?er.r:er.l,Ie<Xe.i&&Ie<tr.i&&Oq(Ne,Xe,tr)<0&&xe.push([fe[Ie],fe[Xe.i],fe[tr.i]])}),xe},le.x=function(fe){return arguments.length?(V=Xr(z=fe),le):z},le.y=function(fe){return arguments.length?(W=Xr(B=fe),le):B},le.clipExtent=function(fe){return arguments.length?(J=fe==null?rc:fe,le):J===rc?null:J},le.size=function(fe){return arguments.length?le.clipExtent(fe&&[[0,0],fe]):J===rc?null:J&&J[1]},le};var rc=[[-1e6,-1e6],[1e6,1e6]];function Oq(C,z,B){return(C.x-B.x)*(z.y-C.y)-(C.x-z.x)*(B.y-C.y)}e.geom.delaunay=function(C){return e.geom.voronoi().triangles(C)},e.geom.quadtree=function(C,z,B,V,W){var J=xs,le=Zu,ie;if(ie=arguments.length)return J=Bq,le=Uq,ie===3&&(W=B,V=z,B=z=0),fe(C);function fe(xe){var _e,Ie=Xr(J),Ne=Xr(le),$e,rr,qe,He,Xe,er,tr,Ke;if(z!=null)Xe=z,er=B,tr=V,Ke=W;else if(tr=Ke=-(Xe=er=1/0),$e=[],rr=[],He=xe.length,ie)for(qe=0;qe<He;++qe)_e=xe[qe],_e.x<Xe&&(Xe=_e.x),_e.y<er&&(er=_e.y),_e.x>tr&&(tr=_e.x),_e.y>Ke&&(Ke=_e.y),$e.push(_e.x),rr.push(_e.y);else for(qe=0;qe<He;++qe){var or=+Ie(_e=xe[qe],qe),dr=+Ne(_e,qe);or<Xe&&(Xe=or),dr<er&&(er=dr),or>tr&&(tr=or),dr>Ke&&(Ke=dr),$e.push(or),rr.push(dr)}var yr=tr-Xe,pr=Ke-er;yr>pr?Ke=er+yr:tr=Xe+pr;function br(Mr,Pr,lt,Bt,dt,vr,Or,Vr){if(!(isNaN(lt)||isNaN(Bt)))if(Mr.leaf){var st=Mr.x,Pt=Mr.y;if(st!=null)if(m(st-lt)+m(Pt-Bt)<.01)_r(Mr,Pr,lt,Bt,dt,vr,Or,Vr);else{var $t=Mr.point;Mr.x=Mr.y=Mr.point=null,_r(Mr,$t,st,Pt,dt,vr,Or,Vr),_r(Mr,Pr,lt,Bt,dt,vr,Or,Vr)}else Mr.x=lt,Mr.y=Bt,Mr.point=Pr}else _r(Mr,Pr,lt,Bt,dt,vr,Or,Vr)}function _r(Mr,Pr,lt,Bt,dt,vr,Or,Vr){var st=(dt+Or)*.5,Pt=(vr+Vr)*.5,$t=lt>=st,bn=Bt>=Pt,In=bn<<1|$t;Mr.leaf=!1,Mr=Mr.nodes[In]||(Mr.nodes[In]=tx()),$t?dt=st:Or=st,bn?vr=Pt:Vr=Pt,br(Mr,Pr,lt,Bt,dt,vr,Or,Vr)}var qr=tx();if(qr.add=function(Mr){br(qr,Mr,+Ie(Mr,++qe),+Ne(Mr,qe),Xe,er,tr,Ke)},qr.visit=function(Mr){ju(Mr,qr,Xe,er,tr,Ke)},qr.find=function(Mr){return Hq(qr,Mr[0],Mr[1],Xe,er,tr,Ke)},qe=-1,z==null){for(;++qe<He;)br(qr,xe[qe],$e[qe],rr[qe],Xe,er,tr,Ke);--qe}else xe.forEach(qr.add);return $e=rr=xe=_e=null,qr}return fe.x=function(xe){return arguments.length?(J=xe,fe):J},fe.y=function(xe){return arguments.length?(le=xe,fe):le},fe.extent=function(xe){return arguments.length?(xe==null?z=B=V=W=null:(z=+xe[0][0],B=+xe[0][1],V=+xe[1][0],W=+xe[1][1]),fe):z==null?null:[[z,B],[V,W]]},fe.size=function(xe){return arguments.length?(xe==null?z=B=V=W=null:(z=B=0,V=+xe[0],W=+xe[1]),fe):z==null?null:[V-z,W-B]},fe};function Bq(C){return C.x}function Uq(C){return C.y}function tx(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function ju(C,z,B,V,W,J){if(!C(z,B,V,W,J)){var le=(B+W)*.5,ie=(V+J)*.5,fe=z.nodes;fe[0]&&ju(C,fe[0],B,V,le,ie),fe[1]&&ju(C,fe[1],le,V,W,ie),fe[2]&&ju(C,fe[2],B,ie,le,J),fe[3]&&ju(C,fe[3],le,ie,W,J)}}function Hq(C,z,B,V,W,J,le){var ie=1/0,fe;return function xe(_e,Ie,Ne,$e,rr){if(!(Ie>J||Ne>le||$e<V||rr<W)){if(qe=_e.point){var qe,He=z-_e.x,Xe=B-_e.y,er=He*He+Xe*Xe;if(er<ie){var tr=Math.sqrt(ie=er);V=z-tr,W=B-tr,J=z+tr,le=B+tr,fe=qe}}for(var Ke=_e.nodes,or=(Ie+$e)*.5,dr=(Ne+rr)*.5,yr=z>=or,pr=B>=dr,br=pr<<1|yr,_r=br+4;br<_r;++br)if(_e=Ke[br&3])switch(br&3){case 0:xe(_e,Ie,Ne,or,dr);break;case 1:xe(_e,or,Ne,$e,dr);break;case 2:xe(_e,Ie,dr,or,rr);break;case 3:xe(_e,or,dr,$e,rr);break}}}(C,V,W,J,le),fe}e.interpolateRgb=zd;function zd(C,z){C=e.rgb(C),z=e.rgb(z);var B=C.r,V=C.g,W=C.b,J=z.r-B,le=z.g-V,ie=z.b-W;return function(fe){return"#"+kr(Math.round(B+J*fe))+kr(Math.round(V+le*fe))+kr(Math.round(W+ie*fe))}}e.interpolateObject=nx;function nx(C,z){var B={},V={},W;for(W in C)W in z?B[W]=pl(C[W],z[W]):V[W]=C[W];for(W in z)W in C||(V[W]=z[W]);return function(J){for(W in B)V[W]=B[W](J);return V}}e.interpolateNumber=Xi;function Xi(C,z){return C=+C,z=+z,function(B){return C*(1-B)+z*B}}e.interpolateString=ax;function ax(C,z){var B=qd.lastIndex=Od.lastIndex=0,V,W,J,le=-1,ie=[],fe=[];for(C=C+"",z=z+"";(V=qd.exec(C))&&(W=Od.exec(z));)(J=W.index)>B&&(J=z.slice(B,J),ie[le]?ie[le]+=J:ie[++le]=J),(V=V[0])===(W=W[0])?ie[le]?ie[le]+=W:ie[++le]=W:(ie[++le]=null,fe.push({i:le,x:Xi(V,W)})),B=Od.lastIndex;return B<z.length&&(J=z.slice(B),ie[le]?ie[le]+=J:ie[++le]=J),ie.length<2?fe[0]?(z=fe[0].x,function(xe){return z(xe)+""}):function(){return z}:(z=fe.length,function(xe){for(var _e=0,Ie;_e<z;++_e)ie[(Ie=fe[_e]).i]=Ie.x(xe);return ie.join("")})}var qd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Od=new RegExp(qd.source,"g");e.interpolate=pl;function pl(C,z){for(var B=e.interpolators.length,V;--B>=0&&!(V=e.interpolators[B](C,z)););return V}e.interpolators=[function(C,z){var B=typeof z;return(B==="string"?xn.has(z.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(z)?zd:ax:z instanceof xt?zd:Array.isArray(z)?tc:B==="object"&&isNaN(z)?nx:Xi)(C,z)}],e.interpolateArray=tc;function tc(C,z){var B=[],V=[],W=C.length,J=z.length,le=Math.min(C.length,z.length),ie;for(ie=0;ie<le;++ie)B.push(pl(C[ie],z[ie]));for(;ie<W;++ie)V[ie]=C[ie];for(;ie<J;++ie)V[ie]=z[ie];return function(fe){for(ie=0;ie<le;++ie)V[ie]=B[ie](fe);return V}}var ix=function(){return N},Vq=e.map({linear:ix,poly:Jq,quad:function(){return Wq},cubic:function(){return Xq},sin:function(){return Kq},exp:function(){return Qq},circle:function(){return $q},elastic:jq,back:eO,bounce:function(){return rO}}),Gq=e.map({in:N,out:ox,"in-out":lx,"out-in":function(C){return lx(ox(C))}});e.ease=function(C){var z=C.indexOf("-"),B=z>=0?C.slice(0,z):C,V=z>=0?C.slice(z+1):"in";return B=Vq.get(B)||ix,V=Gq.get(V)||N,Yq(V(B.apply(null,r.call(arguments,1))))};function Yq(C){return function(z){return z<=0?0:z>=1?1:C(z)}}function ox(C){return function(z){return 1-C(1-z)}}function lx(C){return function(z){return .5*(z<.5?C(2*z):2-C(2-2*z))}}function Wq(C){return C*C}function Xq(C){return C*C*C}function Zq(C){if(C<=0)return 0;if(C>=1)return 1;var z=C*C,B=z*C;return 4*(C<.5?B:3*(C-z)+B-.75)}function Jq(C){return function(z){return Math.pow(z,C)}}function Kq(C){return 1-Math.cos(C*K)}function Qq(C){return Math.pow(2,10*(C-1))}function $q(C){return 1-Math.sqrt(1-C*C)}function jq(C,z){var B;return arguments.length<2&&(z=.45),arguments.length?B=z/ar*Math.asin(1/C):(C=1,B=z/4),function(V){return 1+C*Math.pow(2,-10*V)*Math.sin((V-B)*ar/z)}}function eO(C){return C||(C=1.70158),function(z){return z*z*((C+1)*z-C)}}function rO(C){return C<1/2.75?7.5625*C*C:C<2/2.75?7.5625*(C-=1.5/2.75)*C+.75:C<2.5/2.75?7.5625*(C-=2.25/2.75)*C+.9375:7.5625*(C-=2.625/2.75)*C+.984375}e.interpolateHcl=tO;function tO(C,z){C=e.hcl(C),z=e.hcl(z);var B=C.h,V=C.c,W=C.l,J=z.h-B,le=z.c-V,ie=z.l-W;return isNaN(le)&&(le=0,V=isNaN(V)?z.c:V),isNaN(J)?(J=0,B=isNaN(B)?z.h:B):J>180?J-=360:J<-180&&(J+=360),function(fe){return Gt(B+J*fe,V+le*fe,W+ie*fe)+""}}e.interpolateHsl=nO;function nO(C,z){C=e.hsl(C),z=e.hsl(z);var B=C.h,V=C.s,W=C.l,J=z.h-B,le=z.s-V,ie=z.l-W;return isNaN(le)&&(le=0,V=isNaN(V)?z.s:V),isNaN(J)?(J=0,B=isNaN(B)?z.h:B):J>180?J-=360:J<-180&&(J+=360),function(fe){return Ot(B+J*fe,V+le*fe,W+ie*fe)+""}}e.interpolateLab=aO;function aO(C,z){C=e.lab(C),z=e.lab(z);var B=C.l,V=C.a,W=C.b,J=z.l-B,le=z.a-V,ie=z.b-W;return function(fe){return wa(B+J*fe,V+le*fe,W+ie*fe)+""}}e.interpolateRound=sx;function sx(C,z){return z-=C,function(B){return Math.round(C+z*B)}}e.transform=function(C){var z=n.createElementNS(e.ns.prefix.svg,"g");return(e.transform=function(B){if(B!=null){z.setAttribute("transform",B);var V=z.transform.baseVal.consolidate()}return new ux(V?V.matrix:oO)})(C)};function ux(C){var z=[C.a,C.b],B=[C.c,C.d],V=cx(z),W=fx(z,B),J=cx(iO(B,z,-W))||0;z[0]*B[1]<B[0]*z[1]&&(z[0]*=-1,z[1]*=-1,V*=-1,W*=-1),this.rotate=(V?Math.atan2(z[1],z[0]):Math.atan2(-B[0],B[1]))*Re,this.translate=[C.e,C.f],this.scale=[V,J],this.skew=J?Math.atan2(W,J)*Re:0}ux.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function fx(C,z){return C[0]*z[0]+C[1]*z[1]}function cx(C){var z=Math.sqrt(fx(C,C));return z&&(C[0]/=z,C[1]/=z),z}function iO(C,z,B){return C[0]+=B*z[0],C[1]+=B*z[1],C}var oO={a:1,b:0,c:0,d:1,e:0,f:0};e.interpolateTransform=vx;function Ts(C){return C.length?C.pop()+",":""}function lO(C,z,B,V){if(C[0]!==z[0]||C[1]!==z[1]){var W=B.push("translate(",null,",",null,")");V.push({i:W-4,x:Xi(C[0],z[0])},{i:W-2,x:Xi(C[1],z[1])})}else(z[0]||z[1])&&B.push("translate("+z+")")}function sO(C,z,B,V){C!==z?(C-z>180?z+=360:z-C>180&&(C+=360),V.push({i:B.push(Ts(B)+"rotate(",null,")")-2,x:Xi(C,z)})):z&&B.push(Ts(B)+"rotate("+z+")")}function uO(C,z,B,V){C!==z?V.push({i:B.push(Ts(B)+"skewX(",null,")")-2,x:Xi(C,z)}):z&&B.push(Ts(B)+"skewX("+z+")")}function fO(C,z,B,V){if(C[0]!==z[0]||C[1]!==z[1]){var W=B.push(Ts(B)+"scale(",null,",",null,")");V.push({i:W-4,x:Xi(C[0],z[0])},{i:W-2,x:Xi(C[1],z[1])})}else(z[0]!==1||z[1]!==1)&&B.push(Ts(B)+"scale("+z+")")}function vx(C,z){var B=[],V=[];return C=e.transform(C),z=e.transform(z),lO(C.translate,z.translate,B,V),sO(C.rotate,z.rotate,B,V),uO(C.skew,z.skew,B,V),fO(C.scale,z.scale,B,V),C=z=null,function(W){for(var J=-1,le=V.length,ie;++J<le;)B[(ie=V[J]).i]=ie.x(W);return B.join("")}}function cO(C,z){return z=(z-=C=+C)||1/z,function(B){return(B-C)/z}}function vO(C,z){return z=(z-=C=+C)||1/z,function(B){return Math.max(0,Math.min(1,(B-C)/z))}}e.layout={},e.layout.bundle=function(){return function(C){for(var z=[],B=-1,V=C.length;++B<V;)z.push(hO(C[B]));return z}};function hO(C){for(var z=C.source,B=C.target,V=dO(z,B),W=[z];z!==V;)z=z.parent,W.push(z);for(var J=W.length;B!==V;)W.splice(J,0,B),B=B.parent;return W}function hx(C){for(var z=[],B=C.parent;B!=null;)z.push(C),C=B,B=B.parent;return z.push(C),z}function dO(C,z){if(C===z)return C;for(var B=hx(C),V=hx(z),W=B.pop(),J=V.pop(),le=null;W===J;)le=W,W=B.pop(),J=V.pop();return le}e.layout.chord=function(){var C={},z,B,V,W,J=0,le,ie,fe;function xe(){var Ie={},Ne=[],$e=e.range(W),rr=[],qe,He,Xe,er,tr;for(z=[],B=[],qe=0,er=-1;++er<W;){for(He=0,tr=-1;++tr<W;)He+=V[er][tr];Ne.push(He),rr.push(e.range(W)),qe+=He}for(le&&$e.sort(function(qr,Mr){return le(Ne[qr],Ne[Mr])}),ie&&rr.forEach(function(qr,Mr){qr.sort(function(Pr,lt){return ie(V[Mr][Pr],V[Mr][lt])})}),qe=(ar-J*W)/qe,He=0,er=-1;++er<W;){for(Xe=He,tr=-1;++tr<W;){var Ke=$e[er],or=rr[Ke][tr],dr=V[Ke][or],yr=He,pr=He+=dr*qe;Ie[Ke+"-"+or]={index:Ke,subindex:or,startAngle:yr,endAngle:pr,value:dr}}B[Ke]={index:Ke,startAngle:Xe,endAngle:He,value:Ne[Ke]},He+=J}for(er=-1;++er<W;)for(tr=er-1;++tr<W;){var br=Ie[er+"-"+tr],_r=Ie[tr+"-"+er];(br.value||_r.value)&&z.push(br.value<_r.value?{source:_r,target:br}:{source:br,target:_r})}fe&&_e()}function _e(){z.sort(function(Ie,Ne){return fe((Ie.source.value+Ie.target.value)/2,(Ne.source.value+Ne.target.value)/2)})}return C.matrix=function(Ie){return arguments.length?(W=(V=Ie)&&V.length,z=B=null,C):V},C.padding=function(Ie){return arguments.length?(J=Ie,z=B=null,C):J},C.sortGroups=function(Ie){return arguments.length?(le=Ie,z=B=null,C):le},C.sortSubgroups=function(Ie){return arguments.length?(ie=Ie,z=null,C):ie},C.sortChords=function(Ie){return arguments.length?(fe=Ie,z&&_e(),C):fe},C.chords=function(){return z||xe(),z},C.groups=function(){return B||xe(),B},C},e.layout.force=function(){var C={},z=e.dispatch("start","tick","end"),B,V=[1,1],W,J,le=.9,ie=xO,fe=bO,xe=-30,_e=_O,Ie=.1,Ne=.64,$e=[],rr=[],qe,He,Xe;function er(Ke){return function(or,dr,yr,pr){if(or.point!==Ke){var br=or.cx-Ke.x,_r=or.cy-Ke.y,qr=pr-dr,Mr=br*br+_r*_r;if(qr*qr/Ne<Mr){if(Mr<_e){var Pr=or.charge/Mr;Ke.px-=br*Pr,Ke.py-=_r*Pr}return!0}if(or.point&&Mr&&Mr<_e){var Pr=or.pointCharge/Mr;Ke.px-=br*Pr,Ke.py-=_r*Pr}}return!or.charge}}C.tick=function(){if((J*=.99)<.005)return B=null,z.end({type:"end",alpha:J=0}),!0;var Ke=$e.length,or=rr.length,dr,yr,pr,br,_r,qr,Mr,Pr,lt;for(yr=0;yr<or;++yr)pr=rr[yr],br=pr.source,_r=pr.target,Pr=_r.x-br.x,lt=_r.y-br.y,(qr=Pr*Pr+lt*lt)&&(qr=J*He[yr]*((qr=Math.sqrt(qr))-qe[yr])/qr,Pr*=qr,lt*=qr,_r.x-=Pr*(Mr=br.weight+_r.weight?br.weight/(br.weight+_r.weight):.5),_r.y-=lt*Mr,br.x+=Pr*(Mr=1-Mr),br.y+=lt*Mr);if((Mr=J*Ie)&&(Pr=V[0]/2,lt=V[1]/2,yr=-1,Mr))for(;++yr<Ke;)pr=$e[yr],pr.x+=(Pr-pr.x)*Mr,pr.y+=(lt-pr.y)*Mr;if(xe)for(dx(dr=e.geom.quadtree($e),J,Xe),yr=-1;++yr<Ke;)(pr=$e[yr]).fixed||dr.visit(er(pr));for(yr=-1;++yr<Ke;)pr=$e[yr],pr.fixed?(pr.x=pr.px,pr.y=pr.py):(pr.x-=(pr.px-(pr.px=pr.x))*le,pr.y-=(pr.py-(pr.py=pr.y))*le);z.tick({type:"tick",alpha:J})},C.nodes=function(Ke){return arguments.length?($e=Ke,C):$e},C.links=function(Ke){return arguments.length?(rr=Ke,C):rr},C.size=function(Ke){return arguments.length?(V=Ke,C):V},C.linkDistance=function(Ke){return arguments.length?(ie=typeof Ke=="function"?Ke:+Ke,C):ie},C.distance=C.linkDistance,C.linkStrength=function(Ke){return arguments.length?(fe=typeof Ke=="function"?Ke:+Ke,C):fe},C.friction=function(Ke){return arguments.length?(le=+Ke,C):le},C.charge=function(Ke){return arguments.length?(xe=typeof Ke=="function"?Ke:+Ke,C):xe},C.chargeDistance=function(Ke){return arguments.length?(_e=Ke*Ke,C):Math.sqrt(_e)},C.gravity=function(Ke){return arguments.length?(Ie=+Ke,C):Ie},C.theta=function(Ke){return arguments.length?(Ne=Ke*Ke,C):Math.sqrt(Ne)},C.alpha=function(Ke){return arguments.length?(Ke=+Ke,J?Ke>0?J=Ke:(B.c=null,B.t=NaN,B=null,z.end({type:"end",alpha:J=0})):Ke>0&&(z.start({type:"start",alpha:J=Ke}),B=K0(C.tick)),C):J},C.start=function(){var Ke,or=$e.length,dr=rr.length,yr=V[0],pr=V[1],br,_r;for(Ke=0;Ke<or;++Ke)(_r=$e[Ke]).index=Ke,_r.weight=0;for(Ke=0;Ke<dr;++Ke)_r=rr[Ke],typeof _r.source=="number"&&(_r.source=$e[_r.source]),typeof _r.target=="number"&&(_r.target=$e[_r.target]),++_r.source.weight,++_r.target.weight;for(Ke=0;Ke<or;++Ke)_r=$e[Ke],isNaN(_r.x)&&(_r.x=qr("x",yr)),isNaN(_r.y)&&(_r.y=qr("y",pr)),isNaN(_r.px)&&(_r.px=_r.x),isNaN(_r.py)&&(_r.py=_r.y);if(qe=[],typeof ie=="function")for(Ke=0;Ke<dr;++Ke)qe[Ke]=+ie.call(this,rr[Ke],Ke);else for(Ke=0;Ke<dr;++Ke)qe[Ke]=ie;if(He=[],typeof fe=="function")for(Ke=0;Ke<dr;++Ke)He[Ke]=+fe.call(this,rr[Ke],Ke);else for(Ke=0;Ke<dr;++Ke)He[Ke]=fe;if(Xe=[],typeof xe=="function")for(Ke=0;Ke<or;++Ke)Xe[Ke]=+xe.call(this,$e[Ke],Ke);else for(Ke=0;Ke<or;++Ke)Xe[Ke]=xe;function qr(Mr,Pr){if(!br){for(br=new Array(or),dt=0;dt<or;++dt)br[dt]=[];for(dt=0;dt<dr;++dt){var lt=rr[dt];br[lt.source.index].push(lt.target),br[lt.target.index].push(lt.source)}}for(var Bt=br[Ke],dt=-1,vr=Bt.length,Or;++dt<vr;)if(!isNaN(Or=Bt[dt][Mr]))return Or;return Math.random()*Pr}return C.resume()},C.resume=function(){return C.alpha(.1)},C.stop=function(){return C.alpha(0)},C.drag=function(){if(W||(W=e.behavior.drag().origin(N).on("dragstart.force",pO).on("drag.force",tr).on("dragend.force",gO)),!arguments.length)return W;this.on("mouseover.force",yO).on("mouseout.force",mO).call(W)};function tr(Ke){Ke.px=e.event.x,Ke.py=e.event.y,C.resume()}return e.rebind(C,z,"on")};function pO(C){C.fixed|=2}function gO(C){C.fixed&=-7}function yO(C){C.fixed|=4,C.px=C.x,C.py=C.y}function mO(C){C.fixed&=-5}function dx(C,z,B){var V=0,W=0;if(C.charge=0,!C.leaf)for(var J=C.nodes,le=J.length,ie=-1,fe;++ie<le;)fe=J[ie],fe!=null&&(dx(fe,z,B),C.charge+=fe.charge,V+=fe.charge*fe.cx,W+=fe.charge*fe.cy);if(C.point){C.leaf||(C.point.x+=Math.random()-.5,C.point.y+=Math.random()-.5);var xe=z*B[C.point.index];C.charge+=C.pointCharge=xe,V+=xe*C.point.x,W+=xe*C.point.y}C.cx=V/C.charge,C.cy=W/C.charge}var xO=20,bO=1,_O=1/0;e.layout.hierarchy=function(){var C=TO,z=wO,B=MO;function V(W){var J=[W],le=[],ie;for(W.depth=0;(ie=J.pop())!=null;)if(le.push(ie),(xe=z.call(V,ie,ie.depth))&&(fe=xe.length)){for(var fe,xe,_e;--fe>=0;)J.push(_e=xe[fe]),_e.parent=ie,_e.depth=ie.depth+1;B&&(ie.value=0),ie.children=xe}else B&&(ie.value=+B.call(V,ie,ie.depth)||0),delete ie.children;return wi(W,function(Ie){var Ne,$e;C&&(Ne=Ie.children)&&Ne.sort(C),B&&($e=Ie.parent)&&($e.value+=Ie.value)}),le}return V.sort=function(W){return arguments.length?(C=W,V):C},V.children=function(W){return arguments.length?(z=W,V):z},V.value=function(W){return arguments.length?(B=W,V):B},V.revalue=function(W){return B&&(rf(W,function(J){J.children&&(J.value=0)}),wi(W,function(J){var le;J.children||(J.value=+B.call(V,J,J.depth)||0),(le=J.parent)&&(le.value+=J.value)})),W},V};function ef(C,z){return e.rebind(C,z,"sort","children","value"),C.nodes=C,C.links=AO,C}function rf(C,z){for(var B=[C];(C=B.pop())!=null;)if(z(C),(W=C.children)&&(V=W.length))for(var V,W;--V>=0;)B.push(W[V])}function wi(C,z){for(var B=[C],V=[];(C=B.pop())!=null;)if(V.push(C),(le=C.children)&&(J=le.length))for(var W=-1,J,le;++W<J;)B.push(le[W]);for(;(C=V.pop())!=null;)z(C)}function wO(C){return C.children}function MO(C){return C.value}function TO(C,z){return z.value-C.value}function AO(C){return e.merge(C.map(function(z){return(z.children||[]).map(function(B){return{source:z,target:B}})}))}e.layout.partition=function(){var C=e.layout.hierarchy(),z=[1,1];function B(J,le,ie,fe){var xe=J.children;if(J.x=le,J.y=J.depth*fe,J.dx=ie,J.dy=fe,xe&&(Ie=xe.length)){var _e=-1,Ie,Ne,$e;for(ie=J.value?ie/J.value:0;++_e<Ie;)B(Ne=xe[_e],le,$e=Ne.value*ie,fe),le+=$e}}function V(J){var le=J.children,ie=0;if(le&&(xe=le.length))for(var fe=-1,xe;++fe<xe;)ie=Math.max(ie,V(le[fe]));return 1+ie}function W(J,le){var ie=C.call(this,J,le);return B(ie[0],0,z[0],z[1]/V(ie[0])),ie}return W.size=function(J){return arguments.length?(z=J,W):z},ef(W,C)},e.layout.pie=function(){var C=Number,z=px,B=0,V=ar,W=0;function J(le){var ie=le.length,fe=le.map(function(er,tr){return+C.call(J,er,tr)}),xe=+(typeof B=="function"?B.apply(this,arguments):B),_e=(typeof V=="function"?V.apply(this,arguments):V)-xe,Ie=Math.min(Math.abs(_e)/ie,+(typeof W=="function"?W.apply(this,arguments):W)),Ne=Ie*(_e<0?-1:1),$e=e.sum(fe),rr=$e?(_e-ie*Ne)/$e:0,qe=e.range(ie),He=[],Xe;return z!=null&&qe.sort(z===px?function(er,tr){return fe[tr]-fe[er]}:function(er,tr){return z(le[er],le[tr])}),qe.forEach(function(er){He[er]={data:le[er],value:Xe=fe[er],startAngle:xe,endAngle:xe+=Xe*rr+Ne,padAngle:Ie}}),He}return J.value=function(le){return arguments.length?(C=le,J):C},J.sort=function(le){return arguments.length?(z=le,J):z},J.startAngle=function(le){return arguments.length?(B=le,J):B},J.endAngle=function(le){return arguments.length?(V=le,J):V},J.padAngle=function(le){return arguments.length?(W=le,J):W},J};var px={};e.layout.stack=function(){var C=N,z=Bd,B=Ud,V=CO,W=kO,J=SO;function le(ie,fe){if(!(rr=ie.length))return ie;var xe=ie.map(function(er,tr){return C.call(le,er,tr)}),_e=xe.map(function(er){return er.map(function(tr,Ke){return[W.call(le,tr,Ke),J.call(le,tr,Ke)]})}),Ie=z.call(le,_e,fe);xe=e.permute(xe,Ie),_e=e.permute(_e,Ie);var Ne=B.call(le,_e,fe),$e=xe[0].length,rr,qe,He,Xe;for(He=0;He<$e;++He)for(V.call(le,xe[0][He],Xe=Ne[He],_e[0][He][1]),qe=1;qe<rr;++qe)V.call(le,xe[qe][He],Xe+=_e[qe-1][He][1],_e[qe][He][1]);return ie}return le.values=function(ie){return arguments.length?(C=ie,le):C},le.order=function(ie){return arguments.length?(z=typeof ie=="function"?ie:EO.get(ie)||Bd,le):z},le.offset=function(ie){return arguments.length?(B=typeof ie=="function"?ie:LO.get(ie)||Ud,le):B},le.x=function(ie){return arguments.length?(W=ie,le):W},le.y=function(ie){return arguments.length?(J=ie,le):J},le.out=function(ie){return arguments.length?(V=ie,le):V},le};function kO(C){return C.x}function SO(C){return C.y}function CO(C,z,B){C.y0=z,C.y=B}var EO=e.map({"inside-out":function(C){var z=C.length,B,V,W=C.map(RO),J=C.map(DO),le=e.range(z).sort(function(Ie,Ne){return W[Ie]-W[Ne]}),ie=0,fe=0,xe=[],_e=[];for(B=0;B<z;++B)V=le[B],ie<fe?(ie+=J[V],xe.push(V)):(fe+=J[V],_e.push(V));return _e.reverse().concat(xe)},reverse:function(C){return e.range(C.length).reverse()},default:Bd}),LO=e.map({silhouette:function(C){var z=C.length,B=C[0].length,V=[],W=0,J,le,ie,fe=[];for(le=0;le<B;++le){for(J=0,ie=0;J<z;J++)ie+=C[J][le][1];ie>W&&(W=ie),V.push(ie)}for(le=0;le<B;++le)fe[le]=(W-V[le])/2;return fe},wiggle:function(C){var z=C.length,B=C[0],V=B.length,W,J,le,ie,fe,xe,_e,Ie,Ne,$e=[];for($e[0]=Ie=Ne=0,J=1;J<V;++J){for(W=0,ie=0;W<z;++W)ie+=C[W][J][1];for(W=0,fe=0,_e=B[J][0]-B[J-1][0];W<z;++W){for(le=0,xe=(C[W][J][1]-C[W][J-1][1])/(2*_e);le<W;++le)xe+=(C[le][J][1]-C[le][J-1][1])/_e;fe+=xe*C[W][J][1]}$e[J]=Ie-=ie?fe/ie*_e:0,Ie<Ne&&(Ne=Ie)}for(J=0;J<V;++J)$e[J]-=Ne;return $e},expand:function(C){var z=C.length,B=C[0].length,V=1/z,W,J,le,ie=[];for(J=0;J<B;++J){for(W=0,le=0;W<z;W++)le+=C[W][J][1];if(le)for(W=0;W<z;W++)C[W][J][1]/=le;else for(W=0;W<z;W++)C[W][J][1]=V}for(J=0;J<B;++J)ie[J]=0;return ie},zero:Ud});function Bd(C){return e.range(C.length)}function Ud(C){for(var z=-1,B=C[0].length,V=[];++z<B;)V[z]=0;return V}function RO(C){for(var z=1,B=0,V=C[0][1],W,J=C.length;z<J;++z)(W=C[z][1])>V&&(B=z,V=W);return B}function DO(C){return C.reduce(PO,0)}function PO(C,z){return C+z[1]}e.layout.histogram=function(){var C=!0,z=Number,B=IO,V=FO;function W(J,Ne){for(var ie=[],fe=J.map(z,this),xe=B.call(this,fe,Ne),_e=V.call(this,xe,fe,Ne),Ie,Ne=-1,$e=fe.length,rr=_e.length-1,qe=C?1:1/$e,He;++Ne<rr;)Ie=ie[Ne]=[],Ie.dx=_e[Ne+1]-(Ie.x=_e[Ne]),Ie.y=0;if(rr>0)for(Ne=-1;++Ne<$e;)He=fe[Ne],He>=xe[0]&&He<=xe[1]&&(Ie=ie[e.bisect(_e,He,1,rr)-1],Ie.y+=qe,Ie.push(J[Ne]));return ie}return W.value=function(J){return arguments.length?(z=J,W):z},W.range=function(J){return arguments.length?(B=Xr(J),W):B},W.bins=function(J){return arguments.length?(V=typeof J=="number"?function(le){return gx(le,J)}:Xr(J),W):V},W.frequency=function(J){return arguments.length?(C=!!J,W):C},W};function FO(C,z){return gx(C,Math.ceil(Math.log(z.length)/Math.LN2+1))}function gx(C,z){for(var B=-1,V=+C[0],W=(C[1]-V)/z,J=[];++B<=z;)J[B]=W*B+V;return J}function IO(C){return[e.min(C),e.max(C)]}e.layout.pack=function(){var C=e.layout.hierarchy().sort(NO),z=0,B=[1,1],V;function W(J,le){var ie=C.call(this,J,le),fe=ie[0],xe=B[0],_e=B[1],Ie=V==null?Math.sqrt:typeof V=="function"?V:function(){return V};if(fe.x=fe.y=0,wi(fe,function($e){$e.r=+Ie($e.value)}),wi(fe,xx),z){var Ne=z*(V?1:Math.max(2*fe.r/xe,2*fe.r/_e))/2;wi(fe,function($e){$e.r+=Ne}),wi(fe,xx),wi(fe,function($e){$e.r-=Ne})}return bx(fe,xe/2,_e/2,V?1:1/Math.max(2*fe.r/xe,2*fe.r/_e)),ie}return W.size=function(J){return arguments.length?(B=J,W):B},W.radius=function(J){return arguments.length?(V=J==null||typeof J=="function"?J:+J,W):V},W.padding=function(J){return arguments.length?(z=+J,W):z},ef(W,C)};function NO(C,z){return C.value-z.value}function Hd(C,z){var B=C._pack_next;C._pack_next=z,z._pack_prev=C,z._pack_next=B,B._pack_prev=z}function yx(C,z){C._pack_next=z,z._pack_prev=C}function mx(C,z){var B=z.x-C.x,V=z.y-C.y,W=C.r+z.r;return .999*W*W>B*B+V*V}function xx(C){if(!(z=C.children)||!(Ne=z.length))return;var z,B=1/0,V=-1/0,W=1/0,J=-1/0,le,ie,fe,xe,_e,Ie,Ne;function $e(Ke){B=Math.min(Ke.x-Ke.r,B),V=Math.max(Ke.x+Ke.r,V),W=Math.min(Ke.y-Ke.r,W),J=Math.max(Ke.y+Ke.r,J)}if(z.forEach(zO),le=z[0],le.x=-le.r,le.y=0,$e(le),Ne>1&&(ie=z[1],ie.x=ie.r,ie.y=0,$e(ie),Ne>2))for(fe=z[2],_x(le,ie,fe),$e(fe),Hd(le,fe),le._pack_prev=fe,Hd(fe,ie),ie=le._pack_next,xe=3;xe<Ne;xe++){_x(le,ie,fe=z[xe]);var rr=0,qe=1,He=1;for(_e=ie._pack_next;_e!==ie;_e=_e._pack_next,qe++)if(mx(_e,fe)){rr=1;break}if(rr==1)for(Ie=le._pack_prev;Ie!==_e._pack_prev&&!mx(Ie,fe);Ie=Ie._pack_prev,He++);rr?(qe<He||qe==He&&ie.r<le.r?yx(le,ie=_e):yx(le=Ie,ie),xe--):(Hd(le,fe),ie=fe,$e(fe))}var Xe=(B+V)/2,er=(W+J)/2,tr=0;for(xe=0;xe<Ne;xe++)fe=z[xe],fe.x-=Xe,fe.y-=er,tr=Math.max(tr,fe.r+Math.sqrt(fe.x*fe.x+fe.y*fe.y));C.r=tr,z.forEach(qO)}function zO(C){C._pack_next=C._pack_prev=C}function qO(C){delete C._pack_next,delete C._pack_prev}function bx(C,z,B,V){var W=C.children;if(C.x=z+=V*C.x,C.y=B+=V*C.y,C.r*=V,W)for(var J=-1,le=W.length;++J<le;)bx(W[J],z,B,V)}function _x(C,z,B){var V=C.r+B.r,W=z.x-C.x,J=z.y-C.y;if(V&&(W||J)){var le=z.r+B.r,ie=W*W+J*J;le*=le,V*=V;var fe=.5+(V-le)/(2*ie),xe=Math.sqrt(Math.max(0,2*le*(V+ie)-(V-=ie)*V-le*le))/(2*ie);B.x=C.x+fe*W+xe*J,B.y=C.y+fe*J-xe*W}else B.x=C.x+V,B.y=C.y}e.layout.tree=function(){var C=e.layout.hierarchy().sort(null).value(null),z=wx,B=[1,1],V=null;function W(_e,Ie){var Ne=C.call(this,_e,Ie),$e=Ne[0],rr=J($e);if(wi(rr,le),rr.parent.m=-rr.z,rf(rr,ie),V)rf($e,xe);else{var qe=$e,He=$e,Xe=$e;rf($e,function(or){or.x<qe.x&&(qe=or),or.x>He.x&&(He=or),or.depth>Xe.depth&&(Xe=or)});var er=z(qe,He)/2-qe.x,tr=B[0]/(He.x+z(He,qe)/2+er),Ke=B[1]/(Xe.depth||1);rf($e,function(or){or.x=(or.x+er)*tr,or.y=or.depth*Ke})}return Ne}function J(_e){for(var Ie={A:null,children:[_e]},Ne=[Ie],$e;($e=Ne.pop())!=null;)for(var rr=$e.children,qe,He=0,Xe=rr.length;He<Xe;++He)Ne.push((rr[He]=qe={_:rr[He],parent:$e,children:(qe=rr[He].children)&&qe.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:He}).a=qe);return Ie.children[0]}function le(_e){var Ie=_e.children,Ne=_e.parent.children,$e=_e.i?Ne[_e.i-1]:null;if(Ie.length){BO(_e);var rr=(Ie[0].z+Ie[Ie.length-1].z)/2;$e?(_e.z=$e.z+z(_e._,$e._),_e.m=_e.z-rr):_e.z=rr}else $e&&(_e.z=$e.z+z(_e._,$e._));_e.parent.A=fe(_e,$e,_e.parent.A||Ne[0])}function ie(_e){_e._.x=_e.z+_e.parent.m,_e.m+=_e.parent.m}function fe(_e,Ie,Ne){if(Ie){for(var $e=_e,rr=_e,qe=Ie,He=$e.parent.children[0],Xe=$e.m,er=rr.m,tr=qe.m,Ke=He.m,or;qe=Gd(qe),$e=Vd($e),qe&&$e;)He=Vd(He),rr=Gd(rr),rr.a=_e,or=qe.z+tr-$e.z-Xe+z(qe._,$e._),or>0&&(OO(UO(qe,_e,Ne),_e,or),Xe+=or,er+=or),tr+=qe.m,Xe+=$e.m,Ke+=He.m,er+=rr.m;qe&&!Gd(rr)&&(rr.t=qe,rr.m+=tr-er),$e&&!Vd(He)&&(He.t=$e,He.m+=Xe-Ke,Ne=_e)}return Ne}function xe(_e){_e.x*=B[0],_e.y=_e.depth*B[1]}return W.separation=function(_e){return arguments.length?(z=_e,W):z},W.size=function(_e){return arguments.length?(V=(B=_e)==null?xe:null,W):V?null:B},W.nodeSize=function(_e){return arguments.length?(V=(B=_e)==null?null:xe,W):V?B:null},ef(W,C)};function wx(C,z){return C.parent==z.parent?1:2}function Vd(C){var z=C.children;return z.length?z[0]:C.t}function Gd(C){var z=C.children,B;return(B=z.length)?z[B-1]:C.t}function OO(C,z,B){var V=B/(z.i-C.i);z.c-=V,z.s+=B,C.c+=V,z.z+=B,z.m+=B}function BO(C){for(var z=0,B=0,V=C.children,W=V.length,J;--W>=0;)J=V[W],J.z+=z,J.m+=z,z+=J.s+(B+=J.c)}function UO(C,z,B){return C.a.parent===z.parent?C.a:B}e.layout.cluster=function(){var C=e.layout.hierarchy().sort(null).value(null),z=wx,B=[1,1],V=!1;function W(J,le){var ie=C.call(this,J,le),fe=ie[0],xe,_e=0;wi(fe,function(qe){var He=qe.children;He&&He.length?(qe.x=VO(He),qe.y=HO(He)):(qe.x=xe?_e+=z(qe,xe):0,qe.y=0,xe=qe)});var Ie=Mx(fe),Ne=Tx(fe),$e=Ie.x-z(Ie,Ne)/2,rr=Ne.x+z(Ne,Ie)/2;return wi(fe,V?function(qe){qe.x=(qe.x-fe.x)*B[0],qe.y=(fe.y-qe.y)*B[1]}:function(qe){qe.x=(qe.x-$e)/(rr-$e)*B[0],qe.y=(1-(fe.y?qe.y/fe.y:1))*B[1]}),ie}return W.separation=function(J){return arguments.length?(z=J,W):z},W.size=function(J){return arguments.length?(V=(B=J)==null,W):V?null:B},W.nodeSize=function(J){return arguments.length?(V=(B=J)!=null,W):V?B:null},ef(W,C)};function HO(C){return 1+e.max(C,function(z){return z.y})}function VO(C){return C.reduce(function(z,B){return z+B.x},0)/C.length}function Mx(C){var z=C.children;return z&&z.length?Mx(z[0]):C}function Tx(C){var z=C.children,B;return z&&(B=z.length)?Tx(z[B-1]):C}e.layout.treemap=function(){var C=e.layout.hierarchy(),z=Math.round,B=[1,1],V=null,W=Yd,J=!1,le,ie="squarify",fe=.5*(1+Math.sqrt(5));function xe(qe,He){for(var Xe=-1,er=qe.length,tr,Ke;++Xe<er;)Ke=(tr=qe[Xe]).value*(He<0?0:He),tr.area=isNaN(Ke)||Ke<=0?0:Ke}function _e(qe){var He=qe.children;if(He&&He.length){var Xe=W(qe),er=[],tr=He.slice(),Ke,or=1/0,dr,yr=ie==="slice"?Xe.dx:ie==="dice"?Xe.dy:ie==="slice-dice"?qe.depth&1?Xe.dy:Xe.dx:Math.min(Xe.dx,Xe.dy),pr;for(xe(tr,Xe.dx*Xe.dy/qe.value),er.area=0;(pr=tr.length)>0;)er.push(Ke=tr[pr-1]),er.area+=Ke.area,ie!=="squarify"||(dr=Ne(er,yr))<=or?(tr.pop(),or=dr):(er.area-=er.pop().area,$e(er,yr,Xe,!1),yr=Math.min(Xe.dx,Xe.dy),er.length=er.area=0,or=1/0);er.length&&($e(er,yr,Xe,!0),er.length=er.area=0),He.forEach(_e)}}function Ie(qe){var He=qe.children;if(He&&He.length){var Xe=W(qe),er=He.slice(),tr,Ke=[];for(xe(er,Xe.dx*Xe.dy/qe.value),Ke.area=0;tr=er.pop();)Ke.push(tr),Ke.area+=tr.area,tr.z!=null&&($e(Ke,tr.z?Xe.dx:Xe.dy,Xe,!er.length),Ke.length=Ke.area=0);He.forEach(Ie)}}function Ne(qe,He){for(var Xe=qe.area,er,tr=0,Ke=1/0,or=-1,dr=qe.length;++or<dr;)(er=qe[or].area)&&(er<Ke&&(Ke=er),er>tr&&(tr=er));return Xe*=Xe,He*=He,Xe?Math.max(He*tr*fe/Xe,Xe/(He*Ke*fe)):1/0}function $e(qe,He,Xe,er){var tr=-1,Ke=qe.length,or=Xe.x,dr=Xe.y,yr=He?z(qe.area/He):0,pr;if(He==Xe.dx){for((er||yr>Xe.dy)&&(yr=Xe.dy);++tr<Ke;)pr=qe[tr],pr.x=or,pr.y=dr,pr.dy=yr,or+=pr.dx=Math.min(Xe.x+Xe.dx-or,yr?z(pr.area/yr):0);pr.z=!0,pr.dx+=Xe.x+Xe.dx-or,Xe.y+=yr,Xe.dy-=yr}else{for((er||yr>Xe.dx)&&(yr=Xe.dx);++tr<Ke;)pr=qe[tr],pr.x=or,pr.y=dr,pr.dx=yr,dr+=pr.dy=Math.min(Xe.y+Xe.dy-dr,yr?z(pr.area/yr):0);pr.z=!1,pr.dy+=Xe.y+Xe.dy-dr,Xe.x+=yr,Xe.dx-=yr}}function rr(qe){var He=le||C(qe),Xe=He[0];return Xe.x=Xe.y=0,Xe.value?(Xe.dx=B[0],Xe.dy=B[1]):Xe.dx=Xe.dy=0,le&&C.revalue(Xe),xe([Xe],Xe.dx*Xe.dy/Xe.value),(le?Ie:_e)(Xe),J&&(le=He),He}return rr.size=function(qe){return arguments.length?(B=qe,rr):B},rr.padding=function(qe){if(!arguments.length)return V;function He(tr){var Ke=qe.call(rr,tr,tr.depth);return Ke==null?Yd(tr):Ax(tr,typeof Ke=="number"?[Ke,Ke,Ke,Ke]:Ke)}function Xe(tr){return Ax(tr,qe)}var er;return W=(V=qe)==null?Yd:(er=typeof qe)=="function"?He:(er==="number"&&(qe=[qe,qe,qe,qe]),Xe),rr},rr.round=function(qe){return arguments.length?(z=qe?Math.round:Number,rr):z!=Number},rr.sticky=function(qe){return arguments.length?(J=qe,le=null,rr):J},rr.ratio=function(qe){return arguments.length?(fe=qe,rr):fe},rr.mode=function(qe){return arguments.length?(ie=qe+"",rr):ie},ef(rr,C)};function Yd(C){return{x:C.x,y:C.y,dx:C.dx,dy:C.dy}}function Ax(C,z){var B=C.x+z[3],V=C.y+z[0],W=C.dx-z[1]-z[3],J=C.dy-z[0]-z[2];return W<0&&(B+=W/2,W=0),J<0&&(V+=J/2,J=0),{x:B,y:V,dx:W,dy:J}}e.random={normal:function(C,z){var B=arguments.length;return B<2&&(z=1),B<1&&(C=0),function(){var V,W,J;do V=Math.random()*2-1,W=Math.random()*2-1,J=V*V+W*W;while(!J||J>1);return C+z*V*Math.sqrt(-2*Math.log(J)/J)}},logNormal:function(){var C=e.random.normal.apply(e,arguments);return function(){return Math.exp(C())}},bates:function(C){var z=e.random.irwinHall(C);return function(){return z()/C}},irwinHall:function(C){return function(){for(var z=0,B=0;B<C;B++)z+=Math.random();return z}}},e.scale={};function nc(C){var z=C[0],B=C[C.length-1];return z<B?[z,B]:[B,z]}function ac(C){return C.rangeExtent?C.rangeExtent():nc(C.range())}function GO(C,z,B,V){var W=B(C[0],C[1]),J=V(z[0],z[1]);return function(le){return J(W(le))}}function Wd(C,z){var B=0,V=C.length-1,W=C[B],J=C[V],le;return J<W&&(le=B,B=V,V=le,le=W,W=J,J=le),C[B]=z.floor(W),C[V]=z.ceil(J),C}function kx(C){return C?{floor:function(z){return Math.floor(z/C)*C},ceil:function(z){return Math.ceil(z/C)*C}}:YO}var YO={floor:N,ceil:N};function WO(C,z,B,V){var W=[],J=[],le=0,ie=Math.min(C.length,z.length)-1;for(C[ie]<C[0]&&(C=C.slice().reverse(),z=z.slice().reverse());++le<=ie;)W.push(B(C[le-1],C[le])),J.push(V(z[le-1],z[le]));return function(fe){var xe=e.bisect(C,fe,1,ie)-1;return J[xe](W[xe](fe))}}e.scale.linear=function(){return Sx([0,1],[0,1],pl,!1)};function Sx(C,z,B,V){var W,J;function le(){var fe=Math.min(C.length,z.length)>2?WO:GO,xe=V?vO:cO;return W=fe(C,z,xe,B),J=fe(z,C,xe,pl),ie}function ie(fe){return W(fe)}return ie.invert=function(fe){return J(fe)},ie.domain=function(fe){return arguments.length?(C=fe.map(Number),le()):C},ie.range=function(fe){return arguments.length?(z=fe,le()):z},ie.rangeRound=function(fe){return ie.range(fe).interpolate(sx)},ie.clamp=function(fe){return arguments.length?(V=fe,le()):V},ie.interpolate=function(fe){return arguments.length?(B=fe,le()):B},ie.ticks=function(fe){return Zd(C,fe)},ie.tickFormat=function(fe,xe){return d3_scale_linearTickFormat(C,fe,xe)},ie.nice=function(fe){return Ex(C,fe),le()},ie.copy=function(){return Sx(C,z,B,V)},le()}function Cx(C,z){return e.rebind(C,z,"range","rangeRound","interpolate","clamp")}function Ex(C,z){return Wd(C,kx(Xd(C,z)[2])),Wd(C,kx(Xd(C,z)[2])),C}function Xd(C,z){z==null&&(z=10);var B=nc(C),V=B[1]-B[0],W=Math.pow(10,Math.floor(Math.log(V/z)/Math.LN10)),J=z/V*W;return J<=.15?W*=10:J<=.35?W*=5:J<=.75&&(W*=2),B[0]=Math.ceil(B[0]/W)*W,B[1]=Math.floor(B[1]/W)*W+W*.5,B[2]=W,B}function Zd(C,z){return e.range.apply(e,Xd(C,z))}var XO={s:1,g:1,p:1,r:1,e:1};function Lx(C){return-Math.floor(Math.log(C)/Math.LN10+.01)}function Pue(C,z){var B=Lx(z[2]);return C in XO?Math.abs(B-Lx(Math.max(m(z[0]),m(z[1]))))+ +(C!=="e"):B-(C==="%")*2}e.scale.log=function(){return Rx(e.scale.linear().domain([0,1]),10,!0,[1,10])};function Rx(C,z,B,V){function W(ie){return(B?Math.log(ie<0?0:ie):-Math.log(ie>0?0:-ie))/Math.log(z)}function J(ie){return B?Math.pow(z,ie):-Math.pow(z,-ie)}function le(ie){return C(W(ie))}return le.invert=function(ie){return J(C.invert(ie))},le.domain=function(ie){return arguments.length?(B=ie[0]>=0,C.domain((V=ie.map(Number)).map(W)),le):V},le.base=function(ie){return arguments.length?(z=+ie,C.domain(V.map(W)),le):z},le.nice=function(){var ie=Wd(V.map(W),B?Math:ZO);return C.domain(ie),V=ie.map(J),le},le.ticks=function(){var ie=nc(V),fe=[],xe=ie[0],_e=ie[1],Ie=Math.floor(W(xe)),Ne=Math.ceil(W(_e)),$e=z%1?2:z;if(isFinite(Ne-Ie)){if(B){for(;Ie<Ne;Ie++)for(var rr=1;rr<$e;rr++)fe.push(J(Ie)*rr);fe.push(J(Ie))}else for(fe.push(J(Ie));Ie++<Ne;)for(var rr=$e-1;rr>0;rr--)fe.push(J(Ie)*rr);for(Ie=0;fe[Ie]<xe;Ie++);for(Ne=fe.length;fe[Ne-1]>_e;Ne--);fe=fe.slice(Ie,Ne)}return fe},le.copy=function(){return Rx(C.copy(),z,B,V)},Cx(le,C)}var ZO={floor:function(C){return-Math.ceil(-C)},ceil:function(C){return-Math.floor(-C)}};e.scale.pow=function(){return Dx(e.scale.linear(),1,[0,1])};function Dx(C,z,B){var V=ic(z),W=ic(1/z);function J(le){return C(V(le))}return J.invert=function(le){return W(C.invert(le))},J.domain=function(le){return arguments.length?(C.domain((B=le.map(Number)).map(V)),J):B},J.ticks=function(le){return Zd(B,le)},J.tickFormat=function(le,ie){return d3_scale_linearTickFormat(B,le,ie)},J.nice=function(le){return J.domain(Ex(B,le))},J.exponent=function(le){return arguments.length?(V=ic(z=le),W=ic(1/z),C.domain(B.map(V)),J):z},J.copy=function(){return Dx(C.copy(),z,B)},Cx(J,C)}function ic(C){return function(z){return z<0?-Math.pow(-z,C):Math.pow(z,C)}}e.scale.sqrt=function(){return e.scale.pow().exponent(.5)},e.scale.ordinal=function(){return Px([],{t:"range",a:[[]]})};function Px(C,z){var B,V,W;function J(ie){return V[((B.get(ie)||(z.t==="range"?B.set(ie,C.push(ie)):NaN))-1)%V.length]}function le(ie,fe){return e.range(C.length).map(function(xe){return ie+fe*xe})}return J.domain=function(ie){if(!arguments.length)return C;C=[],B=new x;for(var fe=-1,xe=ie.length,_e;++fe<xe;)B.has(_e=ie[fe])||B.set(_e,C.push(_e));return J[z.t].apply(J,z.a)},J.range=function(ie){return arguments.length?(V=ie,W=0,z={t:"range",a:arguments},J):V},J.rangePoints=function(ie,fe){arguments.length<2&&(fe=0);var xe=ie[0],_e=ie[1],Ie=C.length<2?(xe=(xe+_e)/2,0):(_e-xe)/(C.length-1+fe);return V=le(xe+Ie*fe/2,Ie),W=0,z={t:"rangePoints",a:arguments},J},J.rangeRoundPoints=function(ie,fe){arguments.length<2&&(fe=0);var xe=ie[0],_e=ie[1],Ie=C.length<2?(xe=_e=Math.round((xe+_e)/2),0):(_e-xe)/(C.length-1+fe)|0;return V=le(xe+Math.round(Ie*fe/2+(_e-xe-(C.length-1+fe)*Ie)/2),Ie),W=0,z={t:"rangeRoundPoints",a:arguments},J},J.rangeBands=function(ie,fe,xe){arguments.length<2&&(fe=0),arguments.length<3&&(xe=fe);var _e=ie[1]<ie[0],Ie=ie[_e-0],Ne=ie[1-_e],$e=(Ne-Ie)/(C.length-fe+2*xe);return V=le(Ie+$e*xe,$e),_e&&V.reverse(),W=$e*(1-fe),z={t:"rangeBands",a:arguments},J},J.rangeRoundBands=function(ie,fe,xe){arguments.length<2&&(fe=0),arguments.length<3&&(xe=fe);var _e=ie[1]<ie[0],Ie=ie[_e-0],Ne=ie[1-_e],$e=Math.floor((Ne-Ie)/(C.length-fe+2*xe));return V=le(Ie+Math.round((Ne-Ie-(C.length-fe)*$e)/2),$e),_e&&V.reverse(),W=Math.round($e*(1-fe)),z={t:"rangeRoundBands",a:arguments},J},J.rangeBand=function(){return W},J.rangeExtent=function(){return nc(z.a[0])},J.copy=function(){return Px(C,z)},J.domain(C)}e.scale.category10=function(){return e.scale.ordinal().range(JO)},e.scale.category20=function(){return e.scale.ordinal().range(KO)},e.scale.category20b=function(){return e.scale.ordinal().range(QO)},e.scale.category20c=function(){return e.scale.ordinal().range($O)};var JO=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(bi),KO=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(bi),QO=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(bi),$O=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(bi);e.scale.quantile=function(){return Fx([],[])};function Fx(C,z){var B;function V(){var J=0,le=z.length;for(B=[];++J<le;)B[J-1]=e.quantile(C,J/le);return W}function W(J){if(!isNaN(J=+J))return z[e.bisect(B,J)]}return W.domain=function(J){return arguments.length?(C=J.map(p).filter(b).sort(v),V()):C},W.range=function(J){return arguments.length?(z=J,V()):z},W.quantiles=function(){return B},W.invertExtent=function(J){return J=z.indexOf(J),J<0?[NaN,NaN]:[J>0?B[J-1]:C[0],J<B.length?B[J]:C[C.length-1]]},W.copy=function(){return Fx(C,z)},V()}e.scale.quantize=function(){return Ix(0,1,[0,1])};function Ix(C,z,B){var V,W;function J(ie){return B[Math.max(0,Math.min(W,Math.floor(V*(ie-C))))]}function le(){return V=B.length/(z-C),W=B.length-1,J}return J.domain=function(ie){return arguments.length?(C=+ie[0],z=+ie[ie.length-1],le()):[C,z]},J.range=function(ie){return arguments.length?(B=ie,le()):B},J.invertExtent=function(ie){return ie=B.indexOf(ie),ie=ie<0?NaN:ie/V+C,[ie,ie+1/V]},J.copy=function(){return Ix(C,z,B)},le()}e.scale.threshold=function(){return Nx([.5],[0,1])};function Nx(C,z){function B(V){if(V<=V)return z[e.bisect(C,V)]}return B.domain=function(V){return arguments.length?(C=V,B):C},B.range=function(V){return arguments.length?(z=V,B):z},B.invertExtent=function(V){return V=z.indexOf(V),[C[V-1],C[V]]},B.copy=function(){return Nx(C,z)},B}e.scale.identity=function(){return zx([0,1])};function zx(C){function z(B){return+B}return z.invert=z,z.domain=z.range=function(B){return arguments.length?(C=B.map(z),z):C},z.ticks=function(B){return Zd(C,B)},z.tickFormat=function(B,V){return d3_scale_linearTickFormat(C,B,V)},z.copy=function(){return zx(C)},z}e.svg={};function jO(){return 0}e.svg.arc=function(){var C=eB,z=rB,B=jO,V=oc,W=qx,J=Ox,le=tB;function ie(){var xe=Math.max(0,+C.apply(this,arguments)),_e=Math.max(0,+z.apply(this,arguments)),Ie=W.apply(this,arguments)-K,Ne=J.apply(this,arguments)-K,$e=Math.abs(Ne-Ie),rr=Ie>Ne?0:1;if(_e<xe&&(qe=_e,_e=xe,xe=qe),$e>=se)return fe(_e,rr)+(xe?fe(xe,1-rr):"")+"Z";var qe,He,Xe,er,tr=0,Ke=0,or,dr,yr,pr,br,_r,qr,Mr,Pr=[];if((er=(+le.apply(this,arguments)||0)/2)&&(Xe=V===oc?Math.sqrt(xe*xe+_e*_e):+V.apply(this,arguments),rr||(Ke*=-1),_e&&(Ke=hr(Xe/_e*Math.sin(er))),xe&&(tr=hr(Xe/xe*Math.sin(er)))),_e){or=_e*Math.cos(Ie+Ke),dr=_e*Math.sin(Ie+Ke),yr=_e*Math.cos(Ne-Ke),pr=_e*Math.sin(Ne-Ke);var lt=Math.abs(Ne-Ie-2*Ke)<=Ve?0:1;if(Ke&&lc(or,dr,yr,pr)===rr^lt){var Bt=(Ie+Ne)/2;or=_e*Math.cos(Bt),dr=_e*Math.sin(Bt),yr=pr=null}}else or=dr=0;if(xe){br=xe*Math.cos(Ne-tr),_r=xe*Math.sin(Ne-tr),qr=xe*Math.cos(Ie+tr),Mr=xe*Math.sin(Ie+tr);var dt=Math.abs(Ie-Ne+2*tr)<=Ve?0:1;if(tr&&lc(br,_r,qr,Mr)===1-rr^dt){var vr=(Ie+Ne)/2;br=xe*Math.cos(vr),_r=xe*Math.sin(vr),qr=Mr=null}}else br=_r=0;if($e>Pe&&(qe=Math.min(Math.abs(_e-xe)/2,+B.apply(this,arguments)))>.001){He=xe<_e^rr?0:1;var Or=qe,Vr=qe;if($e<Ve){var st=qr==null?[br,_r]:yr==null?[or,dr]:Dd([or,dr],[qr,Mr],[yr,pr],[br,_r]),Pt=or-st[0],$t=dr-st[1],bn=yr-st[0],In=pr-st[1],Gn=1/Math.sin(Math.acos((Pt*bn+$t*In)/(Math.sqrt(Pt*Pt+$t*$t)*Math.sqrt(bn*bn+In*In)))/2),Nn=Math.sqrt(st[0]*st[0]+st[1]*st[1]);Vr=Math.min(qe,(xe-Nn)/(Gn-1)),Or=Math.min(qe,(_e-Nn)/(Gn+1))}if(yr!=null){var $n=sc(qr==null?[br,_r]:[qr,Mr],[or,dr],_e,Or,rr),An=sc([yr,pr],[br,_r],_e,Or,rr);qe===Or?Pr.push("M",$n[0],"A",Or,",",Or," 0 0,",He," ",$n[1],"A",_e,",",_e," 0 ",1-rr^lc($n[1][0],$n[1][1],An[1][0],An[1][1]),",",rr," ",An[1],"A",Or,",",Or," 0 0,",He," ",An[0]):Pr.push("M",$n[0],"A",Or,",",Or," 0 1,",He," ",An[0])}else Pr.push("M",or,",",dr);if(qr!=null){var jn=sc([or,dr],[qr,Mr],xe,-Vr,rr),ml=sc([br,_r],yr==null?[or,dr]:[yr,pr],xe,-Vr,rr);qe===Vr?Pr.push("L",ml[0],"A",Vr,",",Vr," 0 0,",He," ",ml[1],"A",xe,",",xe," 0 ",rr^lc(ml[1][0],ml[1][1],jn[1][0],jn[1][1]),",",1-rr," ",jn[1],"A",Vr,",",Vr," 0 0,",He," ",jn[0]):Pr.push("L",ml[0],"A",Vr,",",Vr," 0 0,",He," ",jn[0])}else Pr.push("L",br,",",_r)}else Pr.push("M",or,",",dr),yr!=null&&Pr.push("A",_e,",",_e," 0 ",lt,",",rr," ",yr,",",pr),Pr.push("L",br,",",_r),qr!=null&&Pr.push("A",xe,",",xe," 0 ",dt,",",1-rr," ",qr,",",Mr);return Pr.push("Z"),Pr.join("")}function fe(xe,_e){return"M0,"+xe+"A"+xe+","+xe+" 0 1,"+_e+" 0,"+-xe+"A"+xe+","+xe+" 0 1,"+_e+" 0,"+xe}return ie.innerRadius=function(xe){return arguments.length?(C=Xr(xe),ie):C},ie.outerRadius=function(xe){return arguments.length?(z=Xr(xe),ie):z},ie.cornerRadius=function(xe){return arguments.length?(B=Xr(xe),ie):B},ie.padRadius=function(xe){return arguments.length?(V=xe==oc?oc:Xr(xe),ie):V},ie.startAngle=function(xe){return arguments.length?(W=Xr(xe),ie):W},ie.endAngle=function(xe){return arguments.length?(J=Xr(xe),ie):J},ie.padAngle=function(xe){return arguments.length?(le=Xr(xe),ie):le},ie.centroid=function(){var xe=(+C.apply(this,arguments)+ +z.apply(this,arguments))/2,_e=(+W.apply(this,arguments)+ +J.apply(this,arguments))/2-K;return[Math.cos(_e)*xe,Math.sin(_e)*xe]},ie};var oc="auto";function eB(C){return C.innerRadius}function rB(C){return C.outerRadius}function qx(C){return C.startAngle}function Ox(C){return C.endAngle}function tB(C){return C&&C.padAngle}function lc(C,z,B,V){return(C-B)*z-(z-V)*C>0?0:1}function sc(C,z,B,V,W){var J=C[0]-z[0],le=C[1]-z[1],ie=(W?V:-V)/Math.sqrt(J*J+le*le),fe=ie*le,xe=-ie*J,_e=C[0]+fe,Ie=C[1]+xe,Ne=z[0]+fe,$e=z[1]+xe,rr=(_e+Ne)/2,qe=(Ie+$e)/2,He=Ne-_e,Xe=$e-Ie,er=He*He+Xe*Xe,tr=B-V,Ke=_e*$e-Ne*Ie,or=(Xe<0?-1:1)*Math.sqrt(Math.max(0,tr*tr*er-Ke*Ke)),dr=(Ke*Xe-He*or)/er,yr=(-Ke*He-Xe*or)/er,pr=(Ke*Xe+He*or)/er,br=(-Ke*He+Xe*or)/er,_r=dr-rr,qr=yr-qe,Mr=pr-rr,Pr=br-qe;return _r*_r+qr*qr>Mr*Mr+Pr*Pr&&(dr=pr,yr=br),[[dr-fe,yr-xe],[dr*B/tr,yr*B/tr]]}function Bx(){return!0}function Ux(C){var z=xs,B=Zu,V=Bx,W=Xa,J=W.key,le=.7;function ie(fe){var xe=[],_e=[],Ie=-1,Ne=fe.length,$e,rr=Xr(z),qe=Xr(B);function He(){xe.push("M",W(C(_e),le))}for(;++Ie<Ne;)V.call(this,$e=fe[Ie],Ie)?_e.push([+rr.call(this,$e,Ie),+qe.call(this,$e,Ie)]):_e.length&&(He(),_e=[]);return _e.length&&He(),xe.length?xe.join(""):null}return ie.x=function(fe){return arguments.length?(z=fe,ie):z},ie.y=function(fe){return arguments.length?(B=fe,ie):B},ie.defined=function(fe){return arguments.length?(V=fe,ie):V},ie.interpolate=function(fe){return arguments.length?(typeof fe=="function"?J=W=fe:J=(W=Jd.get(fe)||Xa).key,ie):J},ie.tension=function(fe){return arguments.length?(le=fe,ie):le},ie}e.svg.line=function(){return Ux(N)};var Jd=e.map({linear:Xa,"linear-closed":Hx,step:nB,"step-before":Kd,"step-after":Qd,basis:Vx,"basis-open":lB,"basis-closed":sB,bundle:uB,cardinal:oB,"cardinal-open":aB,"cardinal-closed":iB,monotone:vB});Jd.forEach(function(C,z){z.key=C,z.closed=/-closed$/.test(C)});function Xa(C){return C.length>1?C.join("L"):C+"Z"}function Hx(C){return C.join("L")+"Z"}function nB(C){for(var z=0,B=C.length,V=C[0],W=[V[0],",",V[1]];++z<B;)W.push("H",(V[0]+(V=C[z])[0])/2,"V",V[1]);return B>1&&W.push("H",V[0]),W.join("")}function Kd(C){for(var z=0,B=C.length,V=C[0],W=[V[0],",",V[1]];++z<B;)W.push("V",(V=C[z])[1],"H",V[0]);return W.join("")}function Qd(C){for(var z=0,B=C.length,V=C[0],W=[V[0],",",V[1]];++z<B;)W.push("H",(V=C[z])[0],"V",V[1]);return W.join("")}function aB(C,z){return C.length<4?Xa(C):C[1]+uc(C.slice(1,-1),$d(C,z))}function iB(C,z){return C.length<3?Hx(C):C[0]+uc((C.push(C[0]),C),$d([C[C.length-2]].concat(C,[C[1]]),z))}function oB(C,z){return C.length<3?Xa(C):C[0]+uc(C,$d(C,z))}function uc(C,z){if(z.length<1||C.length!=z.length&&C.length!=z.length+2)return Xa(C);var B=C.length!=z.length,V="",W=C[0],J=C[1],le=z[0],ie=le,fe=1;if(B&&(V+="Q"+(J[0]-le[0]*2/3)+","+(J[1]-le[1]*2/3)+","+J[0]+","+J[1],W=C[1],fe=2),z.length>1){ie=z[1],J=C[fe],fe++,V+="C"+(W[0]+le[0])+","+(W[1]+le[1])+","+(J[0]-ie[0])+","+(J[1]-ie[1])+","+J[0]+","+J[1];for(var xe=2;xe<z.length;xe++,fe++)J=C[fe],ie=z[xe],V+="S"+(J[0]-ie[0])+","+(J[1]-ie[1])+","+J[0]+","+J[1]}if(B){var _e=C[fe];V+="Q"+(J[0]+ie[0]*2/3)+","+(J[1]+ie[1]*2/3)+","+_e[0]+","+_e[1]}return V}function $d(C,z){for(var B=[],V=(1-z)/2,W,J=C[0],le=C[1],ie=1,fe=C.length;++ie<fe;)W=J,J=le,le=C[ie],B.push([V*(le[0]-W[0]),V*(le[1]-W[1])]);return B}function Vx(C){if(C.length<3)return Xa(C);var z=1,B=C.length,V=C[0],W=V[0],J=V[1],le=[W,W,W,(V=C[1])[0]],ie=[J,J,J,V[1]],fe=[W,",",J,"L",Ma(bo,le),",",Ma(bo,ie)];for(C.push(C[B-1]);++z<=B;)V=C[z],le.shift(),le.push(V[0]),ie.shift(),ie.push(V[1]),jd(fe,le,ie);return C.pop(),fe.push("L",V),fe.join("")}function lB(C){if(C.length<4)return Xa(C);for(var z=[],B=-1,V=C.length,W,J=[0],le=[0];++B<3;)W=C[B],J.push(W[0]),le.push(W[1]);for(z.push(Ma(bo,J)+","+Ma(bo,le)),--B;++B<V;)W=C[B],J.shift(),J.push(W[0]),le.shift(),le.push(W[1]),jd(z,J,le);return z.join("")}function sB(C){for(var z,B=-1,V=C.length,W=V+4,J,le=[],ie=[];++B<4;)J=C[B%V],le.push(J[0]),ie.push(J[1]);for(z=[Ma(bo,le),",",Ma(bo,ie)],--B;++B<W;)J=C[B%V],le.shift(),le.push(J[0]),ie.shift(),ie.push(J[1]),jd(z,le,ie);return z.join("")}function uB(C,z){var B=C.length-1;if(B)for(var V=C[0][0],W=C[0][1],J=C[B][0]-V,le=C[B][1]-W,ie=-1,fe,xe;++ie<=B;)fe=C[ie],xe=ie/B,fe[0]=z*fe[0]+(1-z)*(V+xe*J),fe[1]=z*fe[1]+(1-z)*(W+xe*le);return Vx(C)}function Ma(C,z){return C[0]*z[0]+C[1]*z[1]+C[2]*z[2]+C[3]*z[3]}var Gx=[0,2/3,1/3,0],Yx=[0,1/3,2/3,0],bo=[0,1/6,2/3,1/6];function jd(C,z,B){C.push("C",Ma(Gx,z),",",Ma(Gx,B),",",Ma(Yx,z),",",Ma(Yx,B),",",Ma(bo,z),",",Ma(bo,B))}function ep(C,z){return(z[1]-C[1])/(z[0]-C[0])}function fB(C){for(var z=0,B=C.length-1,V=[],W=C[0],J=C[1],le=V[0]=ep(W,J);++z<B;)V[z]=(le+(le=ep(W=J,J=C[z+1])))/2;return V[z]=le,V}function cB(C){for(var z=[],B,V,W,J,le=fB(C),ie=-1,fe=C.length-1;++ie<fe;)B=ep(C[ie],C[ie+1]),m(B)<Pe?le[ie]=le[ie+1]=0:(V=le[ie]/B,W=le[ie+1]/B,J=V*V+W*W,J>9&&(J=B*3/Math.sqrt(J),le[ie]=J*V,le[ie+1]=J*W));for(ie=-1;++ie<=fe;)J=(C[Math.min(fe,ie+1)][0]-C[Math.max(0,ie-1)][0])/(6*(1+le[ie]*le[ie])),z.push([J||0,le[ie]*J||0]);return z}function vB(C){return C.length<3?Xa(C):C[0]+uc(C,cB(C))}e.svg.line.radial=function(){var C=Ux(Wx);return C.radius=C.x,delete C.x,C.angle=C.y,delete C.y,C};function Wx(C){for(var z,B=-1,V=C.length,W,J;++B<V;)z=C[B],W=z[0],J=z[1]-K,z[0]=W*Math.cos(J),z[1]=W*Math.sin(J);return C}function Xx(C){var z=xs,B=xs,V=0,W=Zu,J=Bx,le=Xa,ie=le.key,fe=le,xe="L",_e=.7;function Ie(Ne){var $e=[],rr=[],qe=[],He=-1,Xe=Ne.length,er,tr=Xr(z),Ke=Xr(V),or=z===B?function(){return yr}:Xr(B),dr=V===W?function(){return pr}:Xr(W),yr,pr;function br(){$e.push("M",le(C(qe),_e),xe,fe(C(rr.reverse()),_e),"Z")}for(;++He<Xe;)J.call(this,er=Ne[He],He)?(rr.push([yr=+tr.call(this,er,He),pr=+Ke.call(this,er,He)]),qe.push([+or.call(this,er,He),+dr.call(this,er,He)])):rr.length&&(br(),rr=[],qe=[]);return rr.length&&br(),$e.length?$e.join(""):null}return Ie.x=function(Ne){return arguments.length?(z=B=Ne,Ie):B},Ie.x0=function(Ne){return arguments.length?(z=Ne,Ie):z},Ie.x1=function(Ne){return arguments.length?(B=Ne,Ie):B},Ie.y=function(Ne){return arguments.length?(V=W=Ne,Ie):W},Ie.y0=function(Ne){return arguments.length?(V=Ne,Ie):V},Ie.y1=function(Ne){return arguments.length?(W=Ne,Ie):W},Ie.defined=function(Ne){return arguments.length?(J=Ne,Ie):J},Ie.interpolate=function(Ne){return arguments.length?(typeof Ne=="function"?ie=le=Ne:ie=(le=Jd.get(Ne)||Xa).key,fe=le.reverse||le,xe=le.closed?"M":"L",Ie):ie},Ie.tension=function(Ne){return arguments.length?(_e=Ne,Ie):_e},Ie}Kd.reverse=Qd,Qd.reverse=Kd,e.svg.area=function(){return Xx(N)},e.svg.area.radial=function(){var C=Xx(Wx);return C.radius=C.x,delete C.x,C.innerRadius=C.x0,delete C.x0,C.outerRadius=C.x1,delete C.x1,C.angle=C.y,delete C.y,C.startAngle=C.y0,delete C.y0,C.endAngle=C.y1,delete C.y1,C};function Zx(C){return C.source}function Jx(C){return C.target}e.svg.chord=function(){var C=Zx,z=Jx,B=hB,V=qx,W=Ox;function J(_e,Ie){var Ne=le(this,C,_e,Ie),$e=le(this,z,_e,Ie);return"M"+Ne.p0+fe(Ne.r,Ne.p1,Ne.a1-Ne.a0)+(ie(Ne,$e)?xe(Ne.r,Ne.p1,Ne.r,Ne.p0):xe(Ne.r,Ne.p1,$e.r,$e.p0)+fe($e.r,$e.p1,$e.a1-$e.a0)+xe($e.r,$e.p1,Ne.r,Ne.p0))+"Z"}function le(_e,Ie,Ne,$e){var rr=Ie.call(_e,Ne,$e),qe=B.call(_e,rr,$e),He=V.call(_e,rr,$e)-K,Xe=W.call(_e,rr,$e)-K;return{r:qe,a0:He,a1:Xe,p0:[qe*Math.cos(He),qe*Math.sin(He)],p1:[qe*Math.cos(Xe),qe*Math.sin(Xe)]}}function ie(_e,Ie){return _e.a0==Ie.a0&&_e.a1==Ie.a1}function fe(_e,Ie,Ne){return"A"+_e+","+_e+" 0 "+ +(Ne>Ve)+",1 "+Ie}function xe(_e,Ie,Ne,$e){return"Q 0,0 "+$e}return J.radius=function(_e){return arguments.length?(B=Xr(_e),J):B},J.source=function(_e){return arguments.length?(C=Xr(_e),J):C},J.target=function(_e){return arguments.length?(z=Xr(_e),J):z},J.startAngle=function(_e){return arguments.length?(V=Xr(_e),J):V},J.endAngle=function(_e){return arguments.length?(W=Xr(_e),J):W},J};function hB(C){return C.radius}e.svg.diagonal=function(){var C=Zx,z=Jx,B=Kx;function V(W,J){var le=C.call(this,W,J),ie=z.call(this,W,J),fe=(le.y+ie.y)/2,xe=[le,{x:le.x,y:fe},{x:ie.x,y:fe},ie];return xe=xe.map(B),"M"+xe[0]+"C"+xe[1]+" "+xe[2]+" "+xe[3]}return V.source=function(W){return arguments.length?(C=Xr(W),V):C},V.target=function(W){return arguments.length?(z=Xr(W),V):z},V.projection=function(W){return arguments.length?(B=W,V):B},V};function Kx(C){return[C.x,C.y]}e.svg.diagonal.radial=function(){var C=e.svg.diagonal(),z=Kx,B=C.projection;return C.projection=function(V){return arguments.length?B(dB(z=V)):z},C};function dB(C){return function(){var z=C.apply(this,arguments),B=z[0],V=z[1]-K;return[B*Math.cos(V),B*Math.sin(V)]}}e.svg.symbol=function(){var C=gB,z=pB;function B(V,W){return($x.get(C.call(this,V,W))||Qx)(z.call(this,V,W))}return B.type=function(V){return arguments.length?(C=Xr(V),B):C},B.size=function(V){return arguments.length?(z=Xr(V),B):z},B};function pB(){return 64}function gB(){return"circle"}function Qx(C){var z=Math.sqrt(C/Ve);return"M0,"+z+"A"+z+","+z+" 0 1,1 0,"+-z+"A"+z+","+z+" 0 1,1 0,"+z+"Z"}var $x=e.map({circle:Qx,cross:function(C){var z=Math.sqrt(C/5)/2;return"M"+-3*z+","+-z+"H"+-z+"V"+-3*z+"H"+z+"V"+-z+"H"+3*z+"V"+z+"H"+z+"V"+3*z+"H"+-z+"V"+z+"H"+-3*z+"Z"},diamond:function(C){var z=Math.sqrt(C/(2*jx)),B=z*jx;return"M0,"+-z+"L"+B+",0 0,"+z+" "+-B+",0Z"},square:function(C){var z=Math.sqrt(C)/2;return"M"+-z+","+-z+"L"+z+","+-z+" "+z+","+z+" "+-z+","+z+"Z"},"triangle-down":function(C){var z=Math.sqrt(C/fc),B=z*fc/2;return"M0,"+B+"L"+z+","+-B+" "+-z+","+-B+"Z"},"triangle-up":function(C){var z=Math.sqrt(C/fc),B=z*fc/2;return"M0,"+-B+"L"+z+","+B+" "+-z+","+B+"Z"}});e.svg.symbolTypes=$x.keys();var fc=Math.sqrt(3),jx=Math.tan(30*ae);ee.transition=function(C){for(var z=yl||++rb,B=tp(C),V=[],W,J,le=vc||{time:Date.now(),ease:Zq,delay:0,duration:250},ie=-1,fe=this.length;++ie<fe;){V.push(W=[]);for(var xe=this[ie],_e=-1,Ie=xe.length;++_e<Ie;)(J=xe[_e])&&hc(J,_e,B,z,le),W.push(J)}return tf(V,B,z)},ee.interrupt=function(C){return this.each(C==null?cc:eb(tp(C)))};var cc=eb(tp());function eb(C){return function(){var z,B,V;(z=this[C])&&(V=z[B=z.active])&&(V.timer.c=null,V.timer.t=NaN,--z.count?delete z[B]:delete this[C],z.active+=.5,V.event&&V.event.interrupt.call(this,this.__data__,V.index))}}function tf(C,z,B){return q(C,Qt),C.namespace=z,C.id=B,C}var Qt=[],rb=0,yl,vc;Qt.call=ee.call,Qt.empty=ee.empty,Qt.node=ee.node,Qt.size=ee.size,e.transition=function(C,z){return C&&C.transition?yl?C.transition(z):C:e.selection().transition(C)},e.transition.prototype=Qt,Qt.select=function(C){var z=this.id,B=this.namespace,V=[],W,J,le;C=G(C);for(var ie=-1,fe=this.length;++ie<fe;){V.push(W=[]);for(var xe=this[ie],_e=-1,Ie=xe.length;++_e<Ie;)(le=xe[_e])&&(J=C.call(le,le.__data__,_e,ie))?("__data__"in le&&(J.__data__=le.__data__),hc(J,_e,B,z,le[B][z]),W.push(J)):W.push(null)}return tf(V,B,z)},Qt.selectAll=function(C){var z=this.id,B=this.namespace,V=[],W,J,le,ie,fe;C=re(C);for(var xe=-1,_e=this.length;++xe<_e;)for(var Ie=this[xe],Ne=-1,$e=Ie.length;++Ne<$e;)if(le=Ie[Ne]){fe=le[B][z],J=C.call(le,le.__data__,Ne,xe),V.push(W=[]);for(var rr=-1,qe=J.length;++rr<qe;)(ie=J[rr])&&hc(ie,rr,B,z,fe),W.push(ie)}return tf(V,B,z)},Qt.filter=function(C){var z=[],B,V,W;typeof C!="function"&&(C=ge(C));for(var J=0,le=this.length;J<le;J++){z.push(B=[]);for(var V=this[J],ie=0,fe=V.length;ie<fe;ie++)(W=V[ie])&&C.call(W,W.__data__,ie,J)&&B.push(W)}return tf(z,this.namespace,this.id)},Qt.tween=function(C,z){var B=this.id,V=this.namespace;return arguments.length<2?this.node()[V][B].tween.get(C):ce(this,z==null?function(W){W[V][B].tween.remove(C)}:function(W){W[V][B].tween.set(C,z)})};function rp(C,z,B,V){var W=C.id,J=C.namespace;return ce(C,typeof B=="function"?function(le,ie,fe){le[J][W].tween.set(z,V(B.call(le,le.__data__,ie,fe)))}:(B=V(B),function(le){le[J][W].tween.set(z,B)}))}Qt.attr=function(C,z){if(arguments.length<2){for(z in C)this.attr(z,C[z]);return this}var B=C=="transform"?vx:pl,V=e.ns.qualify(C);function W(){this.removeAttribute(V)}function J(){this.removeAttributeNS(V.space,V.local)}function le(fe){return fe==null?W:(fe+="",function(){var xe=this.getAttribute(V),_e;return xe!==fe&&(_e=B(xe,fe),function(Ie){this.setAttribute(V,_e(Ie))})})}function ie(fe){return fe==null?J:(fe+="",function(){var xe=this.getAttributeNS(V.space,V.local),_e;return xe!==fe&&(_e=B(xe,fe),function(Ie){this.setAttributeNS(V.space,V.local,_e(Ie))})})}return rp(this,"attr."+C,z,V.local?ie:le)},Qt.attrTween=function(C,z){var B=e.ns.qualify(C);function V(J,le){var ie=z.call(this,J,le,this.getAttribute(B));return ie&&function(fe){this.setAttribute(B,ie(fe))}}function W(J,le){var ie=z.call(this,J,le,this.getAttributeNS(B.space,B.local));return ie&&function(fe){this.setAttributeNS(B.space,B.local,ie(fe))}}return this.tween("attr."+C,B.local?W:V)},Qt.style=function(C,z,B){var V=arguments.length;if(V<3){if(typeof C!="string"){V<2&&(z="");for(B in C)this.style(B,C[B],z);return this}B=""}function W(){this.style.removeProperty(C)}function J(le){return le==null?W:(le+="",function(){var ie=o(this).getComputedStyle(this,null).getPropertyValue(C),fe;return ie!==le&&(fe=pl(ie,le),function(xe){this.style.setProperty(C,fe(xe),B)})})}return rp(this,"style."+C,z,J)},Qt.styleTween=function(C,z,B){arguments.length<3&&(B="");function V(W,J){var le=z.call(this,W,J,o(this).getComputedStyle(this,null).getPropertyValue(C));return le&&function(ie){this.style.setProperty(C,le(ie),B)}}return this.tween("style."+C,V)},Qt.text=function(C){return rp(this,"text",C,yB)};function yB(C){return C==null&&(C=""),function(){this.textContent=C}}Qt.remove=function(){var C=this.namespace;return this.each("end.transition",function(){var z;this[C].count<2&&(z=this.parentNode)&&z.removeChild(this)})},Qt.ease=function(C){var z=this.id,B=this.namespace;return arguments.length<1?this.node()[B][z].ease:(typeof C!="function"&&(C=e.ease.apply(e,arguments)),ce(this,function(V){V[B][z].ease=C}))},Qt.delay=function(C){var z=this.id,B=this.namespace;return arguments.length<1?this.node()[B][z].delay:ce(this,typeof C=="function"?function(V,W,J){V[B][z].delay=+C.call(V,V.__data__,W,J)}:(C=+C,function(V){V[B][z].delay=C}))},Qt.duration=function(C){var z=this.id,B=this.namespace;return arguments.length<1?this.node()[B][z].duration:ce(this,typeof C=="function"?function(V,W,J){V[B][z].duration=Math.max(1,C.call(V,V.__data__,W,J))}:(C=Math.max(1,C),function(V){V[B][z].duration=C}))},Qt.each=function(C,z){var B=this.id,V=this.namespace;if(arguments.length<2){var W=vc,J=yl;try{yl=B,ce(this,function(le,ie,fe){vc=le[V][B],C.call(le,le.__data__,ie,fe)})}finally{vc=W,yl=J}}else ce(this,function(le){var ie=le[V][B];(ie.event||(ie.event=e.dispatch("start","end","interrupt"))).on(C,z)});return this},Qt.transition=function(){for(var C=this.id,z=++rb,B=this.namespace,V=[],W,J,le,ie,fe=0,xe=this.length;fe<xe;fe++){V.push(W=[]);for(var J=this[fe],_e=0,Ie=J.length;_e<Ie;_e++)(le=J[_e])&&(ie=le[B][C],hc(le,_e,B,z,{time:ie.time,ease:ie.ease,delay:ie.delay+ie.duration,duration:ie.duration})),W.push(le)}return tf(V,B,z)};function tp(C){return C==null?"__transition__":"__transition_"+C+"__"}function hc(C,z,B,V,W){var J=C[B]||(C[B]={active:0,count:0}),le=J[V],ie,fe,xe,_e,Ie;function Ne(qe){var He=le.delay;if(fe.t=He+ie,He<=qe)return $e(qe-He);fe.c=$e}function $e(qe){var He=J.active,Xe=J[He];Xe&&(Xe.timer.c=null,Xe.timer.t=NaN,--J.count,delete J[He],Xe.event&&Xe.event.interrupt.call(C,C.__data__,Xe.index));for(var er in J)if(+er<V){var tr=J[er];tr.timer.c=null,tr.timer.t=NaN,--J.count,delete J[er]}fe.c=rr,K0(function(){return fe.c&&rr(qe||1)&&(fe.c=null,fe.t=NaN),1},0,ie),J.active=V,le.event&&le.event.start.call(C,C.__data__,z),Ie=[],le.tween.forEach(function(Ke,or){(or=or.call(C,C.__data__,z))&&Ie.push(or)}),_e=le.ease,xe=le.duration}function rr(qe){for(var He=qe/xe,Xe=_e(He),er=Ie.length;er>0;)Ie[--er].call(C,Xe);if(He>=1)return le.event&&le.event.end.call(C,C.__data__,z),--J.count?delete J[V]:delete C[B],1}le||(ie=W.time,fe=K0(Ne,0,ie),le=J[V]={tween:new x,time:ie,timer:fe,delay:W.delay,duration:W.duration,ease:W.ease,index:z},W=null,++J.count)}e.svg.axis=function(){var C=e.scale.linear(),z=tb,B=6,V=6,W=3,J=[10],le=null,ie;function fe(xe){xe.each(function(){var _e=e.select(this),Ie=this.__chart__||C,Ne=this.__chart__=C.copy(),$e=le==null?Ne.ticks?Ne.ticks.apply(Ne,J):Ne.domain():le,rr=ie==null?Ne.tickFormat?Ne.tickFormat.apply(Ne,J):N:ie,qe=_e.selectAll(".tick").data($e,Ne),He=qe.enter().insert("g",".domain").attr("class","tick").style("opacity",Pe),Xe=e.transition(qe.exit()).style("opacity",Pe).remove(),er=e.transition(qe.order()).style("opacity",1),tr=Math.max(B,0)+W,Ke,or=ac(Ne),dr=_e.selectAll(".domain").data([0]),yr=(dr.enter().append("path").attr("class","domain"),e.transition(dr));He.append("line"),He.append("text");var pr=He.select("line"),br=er.select("line"),_r=qe.select("text").text(rr),qr=He.select("text"),Mr=er.select("text"),Pr=z==="top"||z==="left"?-1:1,lt,Bt,dt,vr;if(z==="bottom"||z==="top"?(Ke=xB,lt="x",dt="y",Bt="x2",vr="y2",_r.attr("dy",Pr<0?"0em":".71em").style("text-anchor","middle"),yr.attr("d","M"+or[0]+","+Pr*V+"V0H"+or[1]+"V"+Pr*V)):(Ke=bB,lt="y",dt="x",Bt="y2",vr="x2",_r.attr("dy",".32em").style("text-anchor",Pr<0?"end":"start"),yr.attr("d","M"+Pr*V+","+or[0]+"H0V"+or[1]+"H"+Pr*V)),pr.attr(vr,Pr*B),qr.attr(dt,Pr*tr),br.attr(Bt,0).attr(vr,Pr*B),Mr.attr(lt,0).attr(dt,Pr*tr),Ne.rangeBand){var Or=Ne,Vr=Or.rangeBand()/2;Ie=Ne=function(st){return Or(st)+Vr}}else Ie.rangeBand?Ie=Ne:Xe.call(Ke,Ne,Ie);He.call(Ke,Ie,Ne),er.call(Ke,Ne,Ne)})}return fe.scale=function(xe){return arguments.length?(C=xe,fe):C},fe.orient=function(xe){return arguments.length?(z=xe in mB?xe+"":tb,fe):z},fe.ticks=function(){return arguments.length?(J=t(arguments),fe):J},fe.tickValues=function(xe){return arguments.length?(le=xe,fe):le},fe.tickFormat=function(xe){return arguments.length?(ie=xe,fe):ie},fe.tickSize=function(xe){var _e=arguments.length;return _e?(B=+xe,V=+arguments[_e-1],fe):B},fe.innerTickSize=function(xe){return arguments.length?(B=+xe,fe):B},fe.outerTickSize=function(xe){return arguments.length?(V=+xe,fe):V},fe.tickPadding=function(xe){return arguments.length?(W=+xe,fe):W},fe.tickSubdivide=function(){return arguments.length&&fe},fe};var tb="bottom",mB={top:1,right:1,bottom:1,left:1};function xB(C,z,B){C.attr("transform",function(V){var W=z(V);return"translate("+(isFinite(W)?W:B(V))+",0)"})}function bB(C,z,B){C.attr("transform",function(V){var W=z(V);return"translate(0,"+(isFinite(W)?W:B(V))+")"})}e.svg.brush=function(){var C=$(_e,"brushstart","brush","brushend"),z=null,B=null,V=[0,0],W=[0,0],J,le,ie=!0,fe=!0,xe=np[0];function _e(qe){qe.each(function(){var He=e.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",rr).on("touchstart.brush",rr),Xe=He.selectAll(".background").data([0]);Xe.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),He.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var er=He.selectAll(".resize").data(xe,N);er.exit().remove(),er.enter().append("g").attr("class",function(dr){return"resize "+dr}).style("cursor",function(dr){return _B[dr]}).append("rect").attr("x",function(dr){return/[ew]$/.test(dr)?-3:null}).attr("y",function(dr){return/^[ns]/.test(dr)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),er.style("display",_e.empty()?"none":null);var tr=e.transition(He),Ke=e.transition(Xe),or;z&&(or=ac(z),Ke.attr("x",or[0]).attr("width",or[1]-or[0]),Ne(tr)),B&&(or=ac(B),Ke.attr("y",or[0]).attr("height",or[1]-or[0]),$e(tr)),Ie(tr)})}_e.event=function(qe){qe.each(function(){var He=C.of(this,arguments),Xe={x:V,y:W,i:J,j:le},er=this.__chart__||Xe;this.__chart__=Xe,yl?e.select(this).transition().each("start.brush",function(){J=er.i,le=er.j,V=er.x,W=er.y,He({type:"brushstart"})}).tween("brush:brush",function(){var tr=tc(V,Xe.x),Ke=tc(W,Xe.y);return J=le=null,function(or){V=Xe.x=tr(or),W=Xe.y=Ke(or),He({type:"brush",mode:"resize"})}}).each("end.brush",function(){J=Xe.i,le=Xe.j,He({type:"brush",mode:"resize"}),He({type:"brushend"})}):(He({type:"brushstart"}),He({type:"brush",mode:"resize"}),He({type:"brushend"}))})};function Ie(qe){qe.selectAll(".resize").attr("transform",function(He){return"translate("+V[+/e$/.test(He)]+","+W[+/^s/.test(He)]+")"})}function Ne(qe){qe.select(".extent").attr("x",V[0]),qe.selectAll(".extent,.n>rect,.s>rect").attr("width",V[1]-V[0])}function $e(qe){qe.select(".extent").attr("y",W[0]),qe.selectAll(".extent,.e>rect,.w>rect").attr("height",W[1]-W[0])}function rr(){var qe=this,He=e.select(e.event.target),Xe=C.of(qe,arguments),er=e.select(qe),tr=He.datum(),Ke=!/^(n|s)$/.test(tr)&&z,or=!/^(e|w)$/.test(tr)&&B,dr=He.classed("extent"),yr=Ye(qe),pr,br=e.mouse(qe),_r,qr=e.select(o(qe)).on("keydown.brush",lt).on("keyup.brush",Bt);if(e.event.changedTouches?qr.on("touchmove.brush",dt).on("touchend.brush",Or):qr.on("mousemove.brush",dt).on("mouseup.brush",Or),er.interrupt().selectAll("*").interrupt(),dr)br[0]=V[0]-br[0],br[1]=W[0]-br[1];else if(tr){var Mr=+/w$/.test(tr),Pr=+/^n/.test(tr);_r=[V[1-Mr]-br[0],W[1-Pr]-br[1]],br[0]=V[Mr],br[1]=W[Pr]}else e.event.altKey&&(pr=br.slice());er.style("pointer-events","none").selectAll(".resize").style("display",null),e.select("body").style("cursor",He.style("cursor")),Xe({type:"brushstart"}),dt();function lt(){e.event.keyCode==32&&(dr||(pr=null,br[0]-=V[1],br[1]-=W[1],dr=2),X())}function Bt(){e.event.keyCode==32&&dr==2&&(br[0]+=V[1],br[1]+=W[1],dr=0,X())}function dt(){var Vr=e.mouse(qe),st=!1;_r&&(Vr[0]+=_r[0],Vr[1]+=_r[1]),dr||(e.event.altKey?(pr||(pr=[(V[0]+V[1])/2,(W[0]+W[1])/2]),br[0]=V[+(Vr[0]<pr[0])],br[1]=W[+(Vr[1]<pr[1])]):pr=null),Ke&&vr(Vr,z,0)&&(Ne(er),st=!0),or&&vr(Vr,B,1)&&($e(er),st=!0),st&&(Ie(er),Xe({type:"brush",mode:dr?"move":"resize"}))}function vr(Vr,st,Pt){var $t=ac(st),bn=$t[0],In=$t[1],Gn=br[Pt],Nn=Pt?W:V,$n=Nn[1]-Nn[0],An,jn;if(dr&&(bn-=Gn,In-=$n+Gn),An=(Pt?fe:ie)?Math.max(bn,Math.min(In,Vr[Pt])):Vr[Pt],dr?jn=(An+=Gn)+$n:(pr&&(Gn=Math.max(bn,Math.min(In,2*pr[Pt]-An))),Gn<An?(jn=An,An=Gn):jn=Gn),Nn[0]!=An||Nn[1]!=jn)return Pt?le=null:J=null,Nn[0]=An,Nn[1]=jn,!0}function Or(){dt(),er.style("pointer-events","all").selectAll(".resize").style("display",_e.empty()?"none":null),e.select("body").style("cursor",null),qr.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),yr(),Xe({type:"brushend"})}}return _e.x=function(qe){return arguments.length?(z=qe,xe=np[!z<<1|!B],_e):z},_e.y=function(qe){return arguments.length?(B=qe,xe=np[!z<<1|!B],_e):B},_e.clamp=function(qe){return arguments.length?(z&&B?(ie=!!qe[0],fe=!!qe[1]):z?ie=!!qe:B&&(fe=!!qe),_e):z&&B?[ie,fe]:z?ie:B?fe:null},_e.extent=function(qe){var He,Xe,er,tr,Ke;return arguments.length?(z&&(He=qe[0],Xe=qe[1],B&&(He=He[0],Xe=Xe[0]),J=[He,Xe],z.invert&&(He=z(He),Xe=z(Xe)),Xe<He&&(Ke=He,He=Xe,Xe=Ke),(He!=V[0]||Xe!=V[1])&&(V=[He,Xe])),B&&(er=qe[0],tr=qe[1],z&&(er=er[1],tr=tr[1]),le=[er,tr],B.invert&&(er=B(er),tr=B(tr)),tr<er&&(Ke=er,er=tr,tr=Ke),(er!=W[0]||tr!=W[1])&&(W=[er,tr])),_e):(z&&(J?(He=J[0],Xe=J[1]):(He=V[0],Xe=V[1],z.invert&&(He=z.invert(He),Xe=z.invert(Xe)),Xe<He&&(Ke=He,He=Xe,Xe=Ke))),B&&(le?(er=le[0],tr=le[1]):(er=W[0],tr=W[1],B.invert&&(er=B.invert(er),tr=B.invert(tr)),tr<er&&(Ke=er,er=tr,tr=Ke))),z&&B?[[He,er],[Xe,tr]]:z?[He,Xe]:B&&[er,tr])},_e.clear=function(){return _e.empty()||(V=[0,0],W=[0,0],J=le=null),_e},_e.empty=function(){return!!z&&V[0]==V[1]||!!B&&W[0]==W[1]},e.rebind(_e,C,"on")};var _B={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},np=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];e.text=Wa(function(C){return C.responseText}),e.json=function(C,z){return hl(C,"application/json",wB,z)};function wB(C){return JSON.parse(C.responseText)}e.html=function(C,z){return hl(C,"text/html",MB,z)};function MB(C){var z=n.createRange();return z.selectNode(n.body),z.createContextualFragment(C.responseText)}e.xml=Wa(function(C){return C.responseXML}),typeof yc=="object"&&yc.exports?yc.exports=e:this.d3=e}).apply(self)});var ap=pe((mc,ub)=>{(function(e,r){typeof mc=="object"&&typeof ub!="undefined"?r(mc):(e=e||self,r(e.d3=e.d3||{}))})(mc,function(e){"use strict";var r=new Date,t=new Date;function n(ge,Te,ce,ye){function Le(me){return ge(me=arguments.length===0?new Date:new Date(+me)),me}return Le.floor=function(me){return ge(me=new Date(+me)),me},Le.ceil=function(me){return ge(me=new Date(me-1)),Te(me,1),ge(me),me},Le.round=function(me){var he=Le(me),be=Le.ceil(me);return me-he<be-me?he:be},Le.offset=function(me,he){return Te(me=new Date(+me),he==null?1:Math.floor(he)),me},Le.range=function(me,he,be){var Se=[],ze;if(me=Le.ceil(me),be=be==null?1:Math.floor(be),!(me<he)||!(be>0))return Se;do Se.push(ze=new Date(+me)),Te(me,be),ge(me);while(ze<me&&me<he);return Se},Le.filter=function(me){return n(function(he){if(he>=he)for(;ge(he),!me(he);)he.setTime(he-1)},function(he,be){if(he>=he)if(be<0)for(;++be<=0;)for(;Te(he,-1),!me(he););else for(;--be>=0;)for(;Te(he,1),!me(he););})},ce&&(Le.count=function(me,he){return r.setTime(+me),t.setTime(+he),ge(r),ge(t),Math.floor(ce(r,t))},Le.every=function(me){return me=Math.floor(me),!isFinite(me)||!(me>0)?null:me>1?Le.filter(ye?function(he){return ye(he)%me===0}:function(he){return Le.count(0,he)%me===0}):Le}),Le}var a=n(function(){},function(ge,Te){ge.setTime(+ge+Te)},function(ge,Te){return Te-ge});a.every=function(ge){return ge=Math.floor(ge),!isFinite(ge)||!(ge>0)?null:ge>1?n(function(Te){Te.setTime(Math.floor(Te/ge)*ge)},function(Te,ce){Te.setTime(+Te+ce*ge)},function(Te,ce){return(ce-Te)/ge}):a};var o=a.range,i=1e3,l=6e4,u=36e5,s=864e5,f=6048e5,v=n(function(ge){ge.setTime(ge-ge.getMilliseconds())},function(ge,Te){ge.setTime(+ge+Te*i)},function(ge,Te){return(Te-ge)/i},function(ge){return ge.getUTCSeconds()}),p=v.range,b=n(function(ge){ge.setTime(ge-ge.getMilliseconds()-ge.getSeconds()*i)},function(ge,Te){ge.setTime(+ge+Te*l)},function(ge,Te){return(Te-ge)/l},function(ge){return ge.getMinutes()}),y=b.range,w=n(function(ge){ge.setTime(ge-ge.getMilliseconds()-ge.getSeconds()*i-ge.getMinutes()*l)},function(ge,Te){ge.setTime(+ge+Te*u)},function(ge,Te){return(Te-ge)/u},function(ge){return ge.getHours()}),M=w.range,m=n(function(ge){ge.setHours(0,0,0,0)},function(ge,Te){ge.setDate(ge.getDate()+Te)},function(ge,Te){return(Te-ge-(Te.getTimezoneOffset()-ge.getTimezoneOffset())*l)/s},function(ge){return ge.getDate()-1}),k=m.range;function S(ge){return n(function(Te){Te.setDate(Te.getDate()-(Te.getDay()+7-ge)%7),Te.setHours(0,0,0,0)},function(Te,ce){Te.setDate(Te.getDate()+ce*7)},function(Te,ce){return(ce-Te-(ce.getTimezoneOffset()-Te.getTimezoneOffset())*l)/f})}var x=S(0),T=S(1),d=S(2),_=S(3),g=S(4),c=S(5),A=S(6),h=x.range,R=T.range,E=d.range,D=_.range,N=g.range,I=c.range,F=A.range,L=n(function(ge){ge.setDate(1),ge.setHours(0,0,0,0)},function(ge,Te){ge.setMonth(ge.getMonth()+Te)},function(ge,Te){return Te.getMonth()-ge.getMonth()+(Te.getFullYear()-ge.getFullYear())*12},function(ge){return ge.getMonth()}),P=L.range,O=n(function(ge){ge.setMonth(0,1),ge.setHours(0,0,0,0)},function(ge,Te){ge.setFullYear(ge.getFullYear()+Te)},function(ge,Te){return Te.getFullYear()-ge.getFullYear()},function(ge){return ge.getFullYear()});O.every=function(ge){return!isFinite(ge=Math.floor(ge))||!(ge>0)?null:n(function(Te){Te.setFullYear(Math.floor(Te.getFullYear()/ge)*ge),Te.setMonth(0,1),Te.setHours(0,0,0,0)},function(Te,ce){Te.setFullYear(Te.getFullYear()+ce*ge)})};var U=O.range,X=n(function(ge){ge.setUTCSeconds(0,0)},function(ge,Te){ge.setTime(+ge+Te*l)},function(ge,Te){return(Te-ge)/l},function(ge){return ge.getUTCMinutes()}),j=X.range,$=n(function(ge){ge.setUTCMinutes(0,0,0)},function(ge,Te){ge.setTime(+ge+Te*u)},function(ge,Te){return(Te-ge)/u},function(ge){return ge.getUTCHours()}),Y=$.range,q=n(function(ge){ge.setUTCHours(0,0,0,0)},function(ge,Te){ge.setUTCDate(ge.getUTCDate()+Te)},function(ge,Te){return(Te-ge)/s},function(ge){return ge.getUTCDate()-1}),Z=q.range;function ne(ge){return n(function(Te){Te.setUTCDate(Te.getUTCDate()-(Te.getUTCDay()+7-ge)%7),Te.setUTCHours(0,0,0,0)},function(Te,ce){Te.setUTCDate(Te.getUTCDate()+ce*7)},function(Te,ce){return(ce-Te)/f})}var Q=ne(0),oe=ne(1),ee=ne(2),G=ne(3),re=ne(4),H=ne(5),te=ne(6),ue=Q.range,de=oe.range,Ee=ee.range,Me=G.range,ve=re.range,Ae=H.range,ke=te.range,De=n(function(ge){ge.setUTCDate(1),ge.setUTCHours(0,0,0,0)},function(ge,Te){ge.setUTCMonth(ge.getUTCMonth()+Te)},function(ge,Te){return Te.getUTCMonth()-ge.getUTCMonth()+(Te.getUTCFullYear()-ge.getUTCFullYear())*12},function(ge){return ge.getUTCMonth()}),Ce=De.range,Oe=n(function(ge){ge.setUTCMonth(0,1),ge.setUTCHours(0,0,0,0)},function(ge,Te){ge.setUTCFullYear(ge.getUTCFullYear()+Te)},function(ge,Te){return Te.getUTCFullYear()-ge.getUTCFullYear()},function(ge){return ge.getUTCFullYear()});Oe.every=function(ge){return!isFinite(ge=Math.floor(ge))||!(ge>0)?null:n(function(Te){Te.setUTCFullYear(Math.floor(Te.getUTCFullYear()/ge)*ge),Te.setUTCMonth(0,1),Te.setUTCHours(0,0,0,0)},function(Te,ce){Te.setUTCFullYear(Te.getUTCFullYear()+ce*ge)})};var Ue=Oe.range;e.timeDay=m,e.timeDays=k,e.timeFriday=c,e.timeFridays=I,e.timeHour=w,e.timeHours=M,e.timeInterval=n,e.timeMillisecond=a,e.timeMilliseconds=o,e.timeMinute=b,e.timeMinutes=y,e.timeMonday=T,e.timeMondays=R,e.timeMonth=L,e.timeMonths=P,e.timeSaturday=A,e.timeSaturdays=F,e.timeSecond=v,e.timeSeconds=p,e.timeSunday=x,e.timeSundays=h,e.timeThursday=g,e.timeThursdays=N,e.timeTuesday=d,e.timeTuesdays=E,e.timeWednesday=_,e.timeWednesdays=D,e.timeWeek=x,e.timeWeeks=h,e.timeYear=O,e.timeYears=U,e.utcDay=q,e.utcDays=Z,e.utcFriday=H,e.utcFridays=Ae,e.utcHour=$,e.utcHours=Y,e.utcMillisecond=a,e.utcMilliseconds=o,e.utcMinute=X,e.utcMinutes=j,e.utcMonday=oe,e.utcMondays=de,e.utcMonth=De,e.utcMonths=Ce,e.utcSaturday=te,e.utcSaturdays=ke,e.utcSecond=v,e.utcSeconds=p,e.utcSunday=Q,e.utcSundays=ue,e.utcThursday=re,e.utcThursdays=ve,e.utcTuesday=ee,e.utcTuesdays=Ee,e.utcWednesday=G,e.utcWednesdays=Me,e.utcWeek=Q,e.utcWeeks=ue,e.utcYear=Oe,e.utcYears=Ue,Object.defineProperty(e,"__esModule",{value:!0})})});var ks=pe((xc,fb)=>{(function(e,r){typeof xc=="object"&&typeof fb!="undefined"?r(xc,ap()):(e=e||self,r(e.d3=e.d3||{},e.d3))})(xc,function(e,r){"use strict";function t(we){if(0<=we.y&&we.y<100){var Pe=new Date(-1,we.m,we.d,we.H,we.M,we.S,we.L);return Pe.setFullYear(we.y),Pe}return new Date(we.y,we.m,we.d,we.H,we.M,we.S,we.L)}function n(we){if(0<=we.y&&we.y<100){var Pe=new Date(Date.UTC(-1,we.m,we.d,we.H,we.M,we.S,we.L));return Pe.setUTCFullYear(we.y),Pe}return new Date(Date.UTC(we.y,we.m,we.d,we.H,we.M,we.S,we.L))}function a(we,Pe,Qe){return{y:we,m:Pe,d:Qe,H:0,M:0,S:0,L:0}}function o(we){var Pe=we.dateTime,Qe=we.date,Ve=we.time,ar=we.periods,se=we.days,K=we.shortDays,ae=we.months,Re=we.shortMonths,Be=p(ar),je=b(ar),nr=p(se),hr=b(se),wr=p(K),Cr=b(K),Tr=p(ae),Ar=b(ae),ft=p(Re),Yr=b(Re),mr={a:ha,A:Qn,b:Fn,B:wa,c:null,d:L,e:L,f:j,H:P,I:O,j:U,L:X,m:$,M:Y,p:xi,q:Gi,Q:he,s:be,S:q,u:Z,U:ne,V:Q,w:oe,W:ee,x:null,X:null,y:G,Y:re,Z:H,"%":me},ct={a:Yi,A:Wi,b:tn,B:xo,c:null,d:te,e:te,f:ve,H:ue,I:de,j:Ee,L:Me,m:Ae,M:ke,p:bi,q:_i,Q:he,s:be,S:De,u:Ce,U:Oe,V:Ue,w:ge,W:Te,x:null,X:null,y:ce,Y:ye,Z:Le,"%":me},Sr={a:Ot,A:Lt,b:yn,B:Gt,c:Rt,d:g,e:g,f:D,H:A,I:A,j:c,L:E,m:_,M:h,p:Hr,q:d,Q:I,s:F,S:R,u:w,U:M,V:m,w:y,W:k,x:nt,X:Ft,y:x,Y:S,Z:T,"%":N};mr.x=Ur(Qe,mr),mr.X=Ur(Ve,mr),mr.c=Ur(Pe,mr),ct.x=Ur(Qe,ct),ct.X=Ur(Ve,ct),ct.c=Ur(Pe,ct);function Ur(kr,at){return function(vt){var gr=[],mn=-1,bt=0,xn=kr.length,Xr,Wa,hl;for(vt instanceof Date||(vt=new Date(+vt));++mn<xn;)kr.charCodeAt(mn)===37&&(gr.push(kr.slice(bt,mn)),(Wa=i[Xr=kr.charAt(++mn)])!=null?Xr=kr.charAt(++mn):Wa=Xr==="e"?" ":"0",(hl=at[Xr])&&(Xr=hl(vt,Wa)),gr.push(Xr),bt=mn+1);return gr.push(kr.slice(bt,mn)),gr.join("")}}function xt(kr,at){return function(vt){var gr=a(1900,void 0,1),mn=zr(gr,kr,vt+="",0),bt,xn;if(mn!=vt.length)return null;if("Q"in gr)return new Date(gr.Q);if("s"in gr)return new Date(gr.s*1e3+("L"in gr?gr.L:0));if(at&&!("Z"in gr)&&(gr.Z=0),"p"in gr&&(gr.H=gr.H%12+gr.p*12),gr.m===void 0&&(gr.m="q"in gr?gr.q:0),"V"in gr){if(gr.V<1||gr.V>53)return null;"w"in gr||(gr.w=1),"Z"in gr?(bt=n(a(gr.y,0,1)),xn=bt.getUTCDay(),bt=xn>4||xn===0?r.utcMonday.ceil(bt):r.utcMonday(bt),bt=r.utcDay.offset(bt,(gr.V-1)*7),gr.y=bt.getUTCFullYear(),gr.m=bt.getUTCMonth(),gr.d=bt.getUTCDate()+(gr.w+6)%7):(bt=t(a(gr.y,0,1)),xn=bt.getDay(),bt=xn>4||xn===0?r.timeMonday.ceil(bt):r.timeMonday(bt),bt=r.timeDay.offset(bt,(gr.V-1)*7),gr.y=bt.getFullYear(),gr.m=bt.getMonth(),gr.d=bt.getDate()+(gr.w+6)%7)}else("W"in gr||"U"in gr)&&("w"in gr||(gr.w="u"in gr?gr.u%7:"W"in gr?1:0),xn="Z"in gr?n(a(gr.y,0,1)).getUTCDay():t(a(gr.y,0,1)).getDay(),gr.m=0,gr.d="W"in gr?(gr.w+6)%7+gr.W*7-(xn+5)%7:gr.w+gr.U*7-(xn+6)%7);return"Z"in gr?(gr.H+=gr.Z/100|0,gr.M+=gr.Z%100,n(gr)):t(gr)}}function zr(kr,at,vt,gr){for(var mn=0,bt=at.length,xn=vt.length,Xr,Wa;mn<bt;){if(gr>=xn)return-1;if(Xr=at.charCodeAt(mn++),Xr===37){if(Xr=at.charAt(mn++),Wa=Sr[Xr in i?at.charAt(mn++):Xr],!Wa||(gr=Wa(kr,vt,gr))<0)return-1}else if(Xr!=vt.charCodeAt(gr++))return-1}return gr}function Hr(kr,at,vt){var gr=Be.exec(at.slice(vt));return gr?(kr.p=je[gr[0].toLowerCase()],vt+gr[0].length):-1}function Ot(kr,at,vt){var gr=wr.exec(at.slice(vt));return gr?(kr.w=Cr[gr[0].toLowerCase()],vt+gr[0].length):-1}function Lt(kr,at,vt){var gr=nr.exec(at.slice(vt));return gr?(kr.w=hr[gr[0].toLowerCase()],vt+gr[0].length):-1}function yn(kr,at,vt){var gr=ft.exec(at.slice(vt));return gr?(kr.m=Yr[gr[0].toLowerCase()],vt+gr[0].length):-1}function Gt(kr,at,vt){var gr=Tr.exec(at.slice(vt));return gr?(kr.m=Ar[gr[0].toLowerCase()],vt+gr[0].length):-1}function Rt(kr,at,vt){return zr(kr,Pe,at,vt)}function nt(kr,at,vt){return zr(kr,Qe,at,vt)}function Ft(kr,at,vt){return zr(kr,Ve,at,vt)}function ha(kr){return K[kr.getDay()]}function Qn(kr){return se[kr.getDay()]}function Fn(kr){return Re[kr.getMonth()]}function wa(kr){return ae[kr.getMonth()]}function xi(kr){return ar[+(kr.getHours()>=12)]}function Gi(kr){return 1+~~(kr.getMonth()/3)}function Yi(kr){return K[kr.getUTCDay()]}function Wi(kr){return se[kr.getUTCDay()]}function tn(kr){return Re[kr.getUTCMonth()]}function xo(kr){return ae[kr.getUTCMonth()]}function bi(kr){return ar[+(kr.getUTCHours()>=12)]}function _i(kr){return 1+~~(kr.getUTCMonth()/3)}return{format:function(kr){var at=Ur(kr+="",mr);return at.toString=function(){return kr},at},parse:function(kr){var at=xt(kr+="",!1);return at.toString=function(){return kr},at},utcFormat:function(kr){var at=Ur(kr+="",ct);return at.toString=function(){return kr},at},utcParse:function(kr){var at=xt(kr+="",!0);return at.toString=function(){return kr},at}}}var i={"-":"",_:" ",0:"0"},l=/^\s*\d+/,u=/^%/,s=/[\\^$*+?|[\]().{}]/g;function f(we,Pe,Qe){var Ve=we<0?"-":"",ar=(Ve?-we:we)+"",se=ar.length;return Ve+(se<Qe?new Array(Qe-se+1).join(Pe)+ar:ar)}function v(we){return we.replace(s,"\\$&")}function p(we){return new RegExp("^(?:"+we.map(v).join("|")+")","i")}function b(we){for(var Pe={},Qe=-1,Ve=we.length;++Qe<Ve;)Pe[we[Qe].toLowerCase()]=Qe;return Pe}function y(we,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+1));return Ve?(we.w=+Ve[0],Qe+Ve[0].length):-1}function w(we,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+1));return Ve?(we.u=+Ve[0],Qe+Ve[0].length):-1}function M(we,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+2));return Ve?(we.U=+Ve[0],Qe+Ve[0].length):-1}function m(we,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+2));return Ve?(we.V=+Ve[0],Qe+Ve[0].length):-1}function k(we,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+2));return Ve?(we.W=+Ve[0],Qe+Ve[0].length):-1}function S(we,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+4));return Ve?(we.y=+Ve[0],Qe+Ve[0].length):-1}function x(we,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+2));return Ve?(we.y=+Ve[0]+(+Ve[0]>68?1900:2e3),Qe+Ve[0].length):-1}function T(we,Pe,Qe){var Ve=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Pe.slice(Qe,Qe+6));return Ve?(we.Z=Ve[1]?0:-(Ve[2]+(Ve[3]||"00")),Qe+Ve[0].length):-1}function d(we,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+1));return Ve?(we.q=Ve[0]*3-3,Qe+Ve[0].length):-1}function _(we,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+2));return Ve?(we.m=Ve[0]-1,Qe+Ve[0].length):-1}function g(we,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+2));return Ve?(we.d=+Ve[0],Qe+Ve[0].length):-1}function c(we,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+3));return Ve?(we.m=0,we.d=+Ve[0],Qe+Ve[0].length):-1}function A(we,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+2));return Ve?(we.H=+Ve[0],Qe+Ve[0].length):-1}function h(we,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+2));return Ve?(we.M=+Ve[0],Qe+Ve[0].length):-1}function R(we,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+2));return Ve?(we.S=+Ve[0],Qe+Ve[0].length):-1}function E(we,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+3));return Ve?(we.L=+Ve[0],Qe+Ve[0].length):-1}function D(we,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+6));return Ve?(we.L=Math.floor(Ve[0]/1e3),Qe+Ve[0].length):-1}function N(we,Pe,Qe){var Ve=u.exec(Pe.slice(Qe,Qe+1));return Ve?Qe+Ve[0].length:-1}function I(we,Pe,Qe){var Ve=l.exec(Pe.slice(Qe));return Ve?(we.Q=+Ve[0],Qe+Ve[0].length):-1}function F(we,Pe,Qe){var Ve=l.exec(Pe.slice(Qe));return Ve?(we.s=+Ve[0],Qe+Ve[0].length):-1}function L(we,Pe){return f(we.getDate(),Pe,2)}function P(we,Pe){return f(we.getHours(),Pe,2)}function O(we,Pe){return f(we.getHours()%12||12,Pe,2)}function U(we,Pe){return f(1+r.timeDay.count(r.timeYear(we),we),Pe,3)}function X(we,Pe){return f(we.getMilliseconds(),Pe,3)}function j(we,Pe){return X(we,Pe)+"000"}function $(we,Pe){return f(we.getMonth()+1,Pe,2)}function Y(we,Pe){return f(we.getMinutes(),Pe,2)}function q(we,Pe){return f(we.getSeconds(),Pe,2)}function Z(we){var Pe=we.getDay();return Pe===0?7:Pe}function ne(we,Pe){return f(r.timeSunday.count(r.timeYear(we)-1,we),Pe,2)}function Q(we,Pe){var Qe=we.getDay();return we=Qe>=4||Qe===0?r.timeThursday(we):r.timeThursday.ceil(we),f(r.timeThursday.count(r.timeYear(we),we)+(r.timeYear(we).getDay()===4),Pe,2)}function oe(we){return we.getDay()}function ee(we,Pe){return f(r.timeMonday.count(r.timeYear(we)-1,we),Pe,2)}function G(we,Pe){return f(we.getFullYear()%100,Pe,2)}function re(we,Pe){return f(we.getFullYear()%1e4,Pe,4)}function H(we){var Pe=we.getTimezoneOffset();return(Pe>0?"-":(Pe*=-1,"+"))+f(Pe/60|0,"0",2)+f(Pe%60,"0",2)}function te(we,Pe){return f(we.getUTCDate(),Pe,2)}function ue(we,Pe){return f(we.getUTCHours(),Pe,2)}function de(we,Pe){return f(we.getUTCHours()%12||12,Pe,2)}function Ee(we,Pe){return f(1+r.utcDay.count(r.utcYear(we),we),Pe,3)}function Me(we,Pe){return f(we.getUTCMilliseconds(),Pe,3)}function ve(we,Pe){return Me(we,Pe)+"000"}function Ae(we,Pe){return f(we.getUTCMonth()+1,Pe,2)}function ke(we,Pe){return f(we.getUTCMinutes(),Pe,2)}function De(we,Pe){return f(we.getUTCSeconds(),Pe,2)}function Ce(we){var Pe=we.getUTCDay();return Pe===0?7:Pe}function Oe(we,Pe){return f(r.utcSunday.count(r.utcYear(we)-1,we),Pe,2)}function Ue(we,Pe){var Qe=we.getUTCDay();return we=Qe>=4||Qe===0?r.utcThursday(we):r.utcThursday.ceil(we),f(r.utcThursday.count(r.utcYear(we),we)+(r.utcYear(we).getUTCDay()===4),Pe,2)}function ge(we){return we.getUTCDay()}function Te(we,Pe){return f(r.utcMonday.count(r.utcYear(we)-1,we),Pe,2)}function ce(we,Pe){return f(we.getUTCFullYear()%100,Pe,2)}function ye(we,Pe){return f(we.getUTCFullYear()%1e4,Pe,4)}function Le(){return"+0000"}function me(){return"%"}function he(we){return+we}function be(we){return Math.floor(+we/1e3)}var Se;ze({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ze(we){return Se=o(we),e.timeFormat=Se.format,e.timeParse=Se.parse,e.utcFormat=Se.utcFormat,e.utcParse=Se.utcParse,Se}var Fe="%Y-%m-%dT%H:%M:%S.%LZ";function Ze(we){return we.toISOString()}var Ye=Date.prototype.toISOString?Ze:e.utcFormat(Fe);function Ge(we){var Pe=new Date(we);return isNaN(Pe)?null:Pe}var We=+new Date("2000-01-01T00:00:00.000Z")?Ge:e.utcParse(Fe);e.isoFormat=Ye,e.isoParse=We,e.timeFormatDefaultLocale=ze,e.timeFormatLocale=o,Object.defineProperty(e,"__esModule",{value:!0})})});var ip=pe((bc,cb)=>{(function(e,r){typeof bc=="object"&&typeof cb!="undefined"?r(bc):(e=typeof globalThis!="undefined"?globalThis:e||self,r(e.d3=e.d3||{}))})(bc,function(e){"use strict";function r(_){return Math.abs(_=Math.round(_))>=1e21?_.toLocaleString("en").replace(/,/g,""):_.toString(10)}function t(_,g){if((c=(_=g?_.toExponential(g-1):_.toExponential()).indexOf("e"))<0)return null;var c,A=_.slice(0,c);return[A.length>1?A[0]+A.slice(2):A,+_.slice(c+1)]}function n(_){return _=t(Math.abs(_)),_?_[1]:NaN}function a(_,g){return function(c,A){for(var h=c.length,R=[],E=0,D=_[0],N=0;h>0&&D>0&&(N+D+1>A&&(D=Math.max(1,A-N)),R.push(c.substring(h-=D,h+D)),!((N+=D+1)>A));)D=_[E=(E+1)%_.length];return R.reverse().join(g)}}function o(_){return function(g){return g.replace(/[0-9]/g,function(c){return _[+c]})}}var i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function l(_){if(!(g=i.exec(_)))throw new Error("invalid format: "+_);var g;return new u({fill:g[1],align:g[2],sign:g[3],symbol:g[4],zero:g[5],width:g[6],comma:g[7],precision:g[8]&&g[8].slice(1),trim:g[9],type:g[10]})}l.prototype=u.prototype;function u(_){this.fill=_.fill===void 0?" ":_.fill+"",this.align=_.align===void 0?">":_.align+"",this.sign=_.sign===void 0?"-":_.sign+"",this.symbol=_.symbol===void 0?"":_.symbol+"",this.zero=!!_.zero,this.width=_.width===void 0?void 0:+_.width,this.comma=!!_.comma,this.precision=_.precision===void 0?void 0:+_.precision,this.trim=!!_.trim,this.type=_.type===void 0?"":_.type+""}u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function s(_){e:for(var g=_.length,c=1,A=-1,h;c<g;++c)switch(_[c]){case".":A=h=c;break;case"0":A===0&&(A=c),h=c;break;default:if(!+_[c])break e;A>0&&(A=0);break}return A>0?_.slice(0,A)+_.slice(h+1):_}var f;function v(_,g){var c=t(_,g);if(!c)return _+"";var A=c[0],h=c[1],R=h-(f=Math.max(-8,Math.min(8,Math.floor(h/3)))*3)+1,E=A.length;return R===E?A:R>E?A+new Array(R-E+1).join("0"):R>0?A.slice(0,R)+"."+A.slice(R):"0."+new Array(1-R).join("0")+t(_,Math.max(0,g+R-1))[0]}function p(_,g){var c=t(_,g);if(!c)return _+"";var A=c[0],h=c[1];return h<0?"0."+new Array(-h).join("0")+A:A.length>h+1?A.slice(0,h+1)+"."+A.slice(h+1):A+new Array(h-A.length+2).join("0")}var b={"%":function(_,g){return(_*100).toFixed(g)},b:function(_){return Math.round(_).toString(2)},c:function(_){return _+""},d:r,e:function(_,g){return _.toExponential(g)},f:function(_,g){return _.toFixed(g)},g:function(_,g){return _.toPrecision(g)},o:function(_){return Math.round(_).toString(8)},p:function(_,g){return p(_*100,g)},r:p,s:v,X:function(_){return Math.round(_).toString(16).toUpperCase()},x:function(_){return Math.round(_).toString(16)}};function y(_){return _}var w=Array.prototype.map,M=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function m(_){var g=_.grouping===void 0||_.thousands===void 0?y:a(w.call(_.grouping,Number),_.thousands+""),c=_.currency===void 0?"":_.currency[0]+"",A=_.currency===void 0?"":_.currency[1]+"",h=_.decimal===void 0?".":_.decimal+"",R=_.numerals===void 0?y:o(w.call(_.numerals,String)),E=_.percent===void 0?"%":_.percent+"",D=_.minus===void 0?"-":_.minus+"",N=_.nan===void 0?"NaN":_.nan+"";function I(L){L=l(L);var P=L.fill,O=L.align,U=L.sign,X=L.symbol,j=L.zero,$=L.width,Y=L.comma,q=L.precision,Z=L.trim,ne=L.type;ne==="n"?(Y=!0,ne="g"):b[ne]||(q===void 0&&(q=12),Z=!0,ne="g"),(j||P==="0"&&O==="=")&&(j=!0,P="0",O="=");var Q=X==="$"?c:X==="#"&&/[boxX]/.test(ne)?"0"+ne.toLowerCase():"",oe=X==="$"?A:/[%p]/.test(ne)?E:"",ee=b[ne],G=/[defgprs%]/.test(ne);q=q===void 0?6:/[gprs]/.test(ne)?Math.max(1,Math.min(21,q)):Math.max(0,Math.min(20,q));function re(H){var te=Q,ue=oe,de,Ee,Me;if(ne==="c")ue=ee(H)+ue,H="";else{H=+H;var ve=H<0||1/H<0;if(H=isNaN(H)?N:ee(Math.abs(H),q),Z&&(H=s(H)),ve&&+H==0&&U!=="+"&&(ve=!1),te=(ve?U==="("?U:D:U==="-"||U==="("?"":U)+te,ue=(ne==="s"?M[8+f/3]:"")+ue+(ve&&U==="("?")":""),G){for(de=-1,Ee=H.length;++de<Ee;)if(Me=H.charCodeAt(de),48>Me||Me>57){ue=(Me===46?h+H.slice(de+1):H.slice(de))+ue,H=H.slice(0,de);break}}}Y&&!j&&(H=g(H,1/0));var Ae=te.length+H.length+ue.length,ke=Ae<$?new Array($-Ae+1).join(P):"";switch(Y&&j&&(H=g(ke+H,ke.length?$-ue.length:1/0),ke=""),O){case"<":H=te+H+ue+ke;break;case"=":H=te+ke+H+ue;break;case"^":H=ke.slice(0,Ae=ke.length>>1)+te+H+ue+ke.slice(Ae);break;default:H=ke+te+H+ue;break}return R(H)}return re.toString=function(){return L+""},re}function F(L,P){var O=I((L=l(L),L.type="f",L)),U=Math.max(-8,Math.min(8,Math.floor(n(P)/3)))*3,X=Math.pow(10,-U),j=M[8+U/3];return function($){return O(X*$)+j}}return{format:I,formatPrefix:F}}var k;S({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function S(_){return k=m(_),e.format=k.format,e.formatPrefix=k.formatPrefix,k}function x(_){return Math.max(0,-n(Math.abs(_)))}function T(_,g){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(n(g)/3)))*3-n(Math.abs(_)))}function d(_,g){return _=Math.abs(_),g=Math.abs(g)-_,Math.max(0,n(g)-n(_))+1}e.FormatSpecifier=u,e.formatDefaultLocale=S,e.formatLocale=m,e.formatSpecifier=l,e.precisionFixed=x,e.precisionPrefix=T,e.precisionRound=d,Object.defineProperty(e,"__esModule",{value:!0})})});var hb=pe((zue,vb)=>{"use strict";vb.exports=function(e){for(var r=e.length,t,n=0;n<r;n++)if(t=e.charCodeAt(n),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}});var rt=pe((que,db)=>{"use strict";var LB=hb();db.exports=function(e){var r=typeof e;if(r==="string"){var t=e;if(e=+e,e===0&&LB(t))return!1}else if(r!=="number")return!1;return e-e<1}});var nn=pe((Oue,pb)=>{"use strict";pb.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:24405875e-1,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:"\u2212"}});var op=pe((_c,gb)=>{(function(e,r){typeof _c=="object"&&typeof gb!="undefined"?r(_c):(e=typeof globalThis!="undefined"?globalThis:e||self,r(e["base64-arraybuffer"]={}))})(_c,function(e){"use strict";for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),n=0;n<r.length;n++)t[r.charCodeAt(n)]=n;var a=function(i){var l=new Uint8Array(i),u,s=l.length,f="";for(u=0;u<s;u+=3)f+=r[l[u]>>2],f+=r[(l[u]&3)<<4|l[u+1]>>4],f+=r[(l[u+1]&15)<<2|l[u+2]>>6],f+=r[l[u+2]&63];return s%3===2?f=f.substring(0,f.length-1)+"=":s%3===1&&(f=f.substring(0,f.length-2)+"=="),f},o=function(i){var l=i.length*.75,u=i.length,s,f=0,v,p,b,y;i[i.length-1]==="="&&(l--,i[i.length-2]==="="&&l--);var w=new ArrayBuffer(l),M=new Uint8Array(w);for(s=0;s<u;s+=4)v=t[i.charCodeAt(s)],p=t[i.charCodeAt(s+1)],b=t[i.charCodeAt(s+2)],y=t[i.charCodeAt(s+3)],M[f++]=v<<2|p>>4,M[f++]=(p&15)<<4|b>>2,M[f++]=(b&3)<<6|y&63;return w};e.decode=o,e.encode=a,Object.defineProperty(e,"__esModule",{value:!0})})});var wo=pe((Bue,yb)=>{"use strict";yb.exports=function(r){return window&&window.process&&window.process.versions?Object.prototype.toString.call(r)==="[object Object]":Object.prototype.toString.call(r)==="[object Object]"&&Object.getPrototypeOf(r).hasOwnProperty("hasOwnProperty")}});var ea=pe(Ja=>{"use strict";var RB=op().decode,DB=wo(),lp=Array.isArray,PB=ArrayBuffer,FB=DataView;function mb(e){return PB.isView(e)&&!(e instanceof FB)}Ja.isTypedArray=mb;function wc(e){return lp(e)||mb(e)}Ja.isArrayOrTypedArray=wc;function IB(e){return!wc(e[0])}Ja.isArray1D=IB;Ja.ensureArray=function(e,r){return lp(e)||(e=[]),e.length=r,e};var hn={u1c:typeof Uint8ClampedArray=="undefined"?void 0:Uint8ClampedArray,i1:typeof Int8Array=="undefined"?void 0:Int8Array,u1:typeof Uint8Array=="undefined"?void 0:Uint8Array,i2:typeof Int16Array=="undefined"?void 0:Int16Array,u2:typeof Uint16Array=="undefined"?void 0:Uint16Array,i4:typeof Int32Array=="undefined"?void 0:Int32Array,u4:typeof Uint32Array=="undefined"?void 0:Uint32Array,f4:typeof Float32Array=="undefined"?void 0:Float32Array,f8:typeof Float64Array=="undefined"?void 0:Float64Array};hn.uint8c=hn.u1c;hn.uint8=hn.u1;hn.int8=hn.i1;hn.uint16=hn.u2;hn.int16=hn.i2;hn.uint32=hn.u4;hn.int32=hn.i4;hn.float32=hn.f4;hn.float64=hn.f8;function sp(e){return e.constructor===ArrayBuffer}Ja.isArrayBuffer=sp;Ja.decodeTypedArraySpec=function(e){var r=[],t=NB(e),n=t.dtype,a=hn[n];if(!a)throw new Error('Error in dtype: "'+n+'"');var o=a.BYTES_PER_ELEMENT,i=t.bdata;sp(i)||(i=RB(i));var l=t.shape===void 0?[i.byteLength/o]:(""+t.shape).split(",");l.reverse();var u=l.length,s,f,v=+l[0],p=o*v,b=0;if(u===1)r=new a(i);else if(u===2)for(s=+l[1],f=0;f<s;f++)r[f]=new a(i,b,v),b+=p;else if(u===3){s=+l[1];for(var y=+l[2],w=0;w<y;w++)for(r[w]=[],f=0;f<s;f++)r[w][f]=new a(i,b,v),b+=p}else throw new Error("ndim: "+u+'is not supported with the shape:"'+t.shape+'"');return r.bdata=t.bdata,r.dtype=t.dtype,r.shape=l.reverse().join(","),e._inputArray=r,r};Ja.isTypedArraySpec=function(e){return DB(e)&&e.hasOwnProperty("dtype")&&typeof e.dtype=="string"&&e.hasOwnProperty("bdata")&&(typeof e.bdata=="string"||sp(e.bdata))&&(e.shape===void 0||e.hasOwnProperty("shape")&&(typeof e.shape=="string"||typeof e.shape=="number"))};function NB(e){return{bdata:e.bdata,dtype:e.dtype,shape:e.shape}}Ja.concat=function(){var e=[],r=!0,t=0,n,a,o,i,l,u,s,f;for(o=0;o<arguments.length;o++)i=arguments[o],u=i.length,u&&(a?e.push(i):(a=i,l=u),lp(i)?n=!1:(r=!1,t?n!==i.constructor&&(n=!1):n=i.constructor),t+=u);if(!t)return[];if(!e.length)return a;if(r)return a.concat.apply(a,e);if(n){for(s=new n(t),s.set(a),o=0;o<e.length;o++)i=e[o],s.set(i,l),l+=i.length;return s}for(s=new Array(t),f=0;f<a.length;f++)s[f]=a[f];for(o=0;o<e.length;o++){for(i=e[o],f=0;f<i.length;f++)s[l+f]=i[f];l+=f}return s};Ja.maxRowLength=function(e){return xb(e,Math.max,0)};Ja.minRowLength=function(e){return xb(e,Math.min,1/0)};function xb(e,r,t){if(wc(e))if(wc(e[0])){for(var n=t,a=0;a<e.length;a++)n=r(n,e[a].length);return n}else return e.length;return 0}});var Mc=pe((Hue,Tb)=>{"use strict";var bb=rt(),fp=ea().isArrayOrTypedArray;Tb.exports=function(r,t){if(bb(t))t=String(t);else if(typeof t!="string"||t.substr(t.length-4)==="[-1]")throw"bad property string";var n=t.split("."),a,o,i,l;for(l=0;l<n.length;l++)if(String(n[l]).slice(0,2)==="__")throw"bad property string";for(l=0;l<n.length;){if(a=String(n[l]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),a){if(a[1])n[l]=a[1];else if(l===0)n.splice(0,1);else throw"bad property string";for(o=a[2].substr(1,a[2].length-2).split("]["),i=0;i<o.length;i++)l++,n.splice(l,0,Number(o[i]))}l++}return typeof r!="object"?BB(r,t,n):{set:wb(r,n,t),get:_b(r,n),astr:t,parts:n,obj:r}};function _b(e,r){return function(t){var n=e,a,o,i,l,u;for(l=0;l<r.length-1;l++){if(a=r[l],a===-1){for(o=!0,i=[],u=0;u<n.length;u++)i[u]=_b(n[u],r.slice(l+1))(t),i[u]!==i[0]&&(o=!1);return o?i[0]:i}if(typeof a=="number"&&!fp(n)||(n=n[a],typeof n!="object"||n===null))return}if(!(typeof n!="object"||n===null)&&(i=n[r[l]],!(!t&&i===null)))return i}}var zB=/(^|\.)args\[/;function up(e,r){return e===void 0||e===null&&!r.match(zB)}function wb(e,r,t){return function(n){var a=e,o="",i=[[e,o]],l=up(n,t),u,s;for(s=0;s<r.length-1;s++){if(u=r[s],typeof u=="number"&&!fp(a))throw"array index but container is not an array";if(u===-1){if(l=!OB(a,r.slice(s+1),n,t),l)break;return}if(!Mb(a,u,r[s+1],l))break;if(a=a[u],typeof a!="object"||a===null)throw"container is not an object";o=qB(o,u),i.push([a,o])}if(l){if(s===r.length-1&&(delete a[r[s]],Array.isArray(a)&&+r[s]===a.length-1))for(;a.length&&a[a.length-1]===void 0;)a.pop()}else a[r[s]]=n}}function qB(e,r){var t=r;return bb(r)?t="["+r+"]":e&&(t="."+r),e+t}function OB(e,r,t,n){var a=fp(t),o=!0,i=t,l=n.replace("-1",0),u=a?!1:up(t,l),s=r[0],f;for(f=0;f<e.length;f++)l=n.replace("-1",f),a&&(i=t[f%t.length],u=up(i,l)),u&&(o=!1),Mb(e,f,s,u)&&wb(e[f],r,n.replace("-1",f))(i);return o}function Mb(e,r,t,n){if(e[r]===void 0){if(n)return!1;typeof t=="number"?e[r]=[]:e[r]={}}return!0}function BB(e,r,t){return{set:function(){throw"bad container"},get:function(){},astr:r,parts:t,obj:e}}});var Cb=pe((Vue,Sb)=>{"use strict";var Ss=Mc(),UB=/^\w*$/,HB=0,Ab=1,Tc=2,kb=3,bl=4;Sb.exports=function(r,t,n,a){n=n||"name",a=a||"value";var o,i,l,u={};t&&t.length?(l=Ss(r,t),i=l.get()):i=r,t=t||"";var s={};if(i)for(o=0;o<i.length;o++)s[i[o][n]]=o;var f=UB.test(a),v={set:function(p,b){var y=b===null?bl:HB;if(!i){if(!l||y===bl)return;i=[],l.set(i)}var w=s[p];if(w===void 0){if(y===bl)return;y=y|kb,w=i.length,s[p]=w}else b!==(f?i[w][a]:Ss(i[w],a).get())&&(y=y|Tc);var M=i[w]=i[w]||{};return M[n]=p,f?M[a]=b:Ss(M,a).set(b),b!==null&&(y=y&~bl),u[w]=u[w]|y,v},get:function(p){if(i){var b=s[p];if(b!==void 0)return f?i[b][a]:Ss(i[b],a).get()}},rename:function(p,b){var y=s[p];return y===void 0||(u[y]=u[y]|Ab,s[b]=y,delete s[p],i[y][n]=b),v},remove:function(p){var b=s[p];if(b===void 0)return v;var y=i[b];if(Object.keys(y).length>2)return u[b]=u[b]|Tc,v.set(p,null);if(f){for(o=b;o<i.length;o++)u[o]=u[o]|kb;for(o=b;o<i.length;o++)s[i[o][n]]--;i.splice(b,1),delete s[p]}else Ss(y,a).set(null),u[b]=u[b]|Tc|bl;return v},constructUpdate:function(){for(var p,b,y={},w=Object.keys(u),M=0;M<w.length;M++)b=w[M],p=t+"["+b+"]",i[b]?(u[b]&Ab&&(y[p+"."+n]=i[b][n]),u[b]&Tc&&(f?y[p+"."+a]=u[b]&bl?null:i[b][a]:y[p+"."+a]=u[b]&bl?null:Ss(i[b],a).get())):y[p]=null;return y}};return v}});var Lb=pe((Gue,Eb)=>{"use strict";var VB=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,GB=/^[^\.\[\]]+$/;Eb.exports=function(e,r){for(;r;){var t=e.match(VB);if(t)e=t[1];else if(e.match(GB))e="";else throw new Error("bad relativeAttr call:"+[e,r]);if(r.charAt(0)==="^")r=r.slice(1);else break}return e&&r.charAt(0)!=="["?e+"."+r:e+r}});var Ac=pe((Yue,Rb)=>{"use strict";var YB=rt();Rb.exports=function(r,t){if(r>0)return Math.log(r)/Math.LN10;var n=Math.log(Math.min(t[0],t[1]))/Math.LN10;return YB(n)||(n=Math.log(Math.max(t[0],t[1]))/Math.LN10-6),n}});var Fb=pe((Wue,Pb)=>{"use strict";var Db=ea().isArrayOrTypedArray,nf=wo();Pb.exports=function e(r,t){for(var n in t){var a=t[n],o=r[n];if(o!==a)if(n.charAt(0)==="_"||typeof a=="function"){if(n in r)continue;r[n]=a}else if(Db(a)&&Db(o)&&nf(a[0])){if(n==="customdata"||n==="ids")continue;for(var i=Math.min(a.length,o.length),l=0;l<i;l++)o[l]!==a[l]&&nf(a[l])&&nf(o[l])&&e(o[l],a[l])}else nf(a)&&nf(o)&&(e(o,a),Object.keys(o).length||delete r[n])}}});var Cs=pe((Xue,Ib)=>{"use strict";function WB(e,r){var t=e%r;return t<0?t+r:t}function XB(e,r){return Math.abs(e)>r/2?e-Math.round(e/r)*r:e}Ib.exports={mod:WB,modHalf:XB}});var ka=pe((Zue,kc)=>{(function(e){var r=/^\s+/,t=/\s+$/,n=0,a=e.round,o=e.min,i=e.max,l=e.random;function u(G,re){if(G=G||"",re=re||{},G instanceof u)return G;if(!(this instanceof u))return new u(G,re);var H=s(G);this._originalInput=G,this._r=H.r,this._g=H.g,this._b=H.b,this._a=H.a,this._roundA=a(100*this._a)/100,this._format=re.format||H.format,this._gradientType=re.gradientType,this._r<1&&(this._r=a(this._r)),this._g<1&&(this._g=a(this._g)),this._b<1&&(this._b=a(this._b)),this._ok=H.ok,this._tc_id=n++}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var G=this.toRgb();return(G.r*299+G.g*587+G.b*114)/1e3},getLuminance:function(){var G=this.toRgb(),re,H,te,ue,de,Ee;return re=G.r/255,H=G.g/255,te=G.b/255,re<=.03928?ue=re/12.92:ue=e.pow((re+.055)/1.055,2.4),H<=.03928?de=H/12.92:de=e.pow((H+.055)/1.055,2.4),te<=.03928?Ee=te/12.92:Ee=e.pow((te+.055)/1.055,2.4),.2126*ue+.7152*de+.0722*Ee},setAlpha:function(G){return this._a=L(G),this._roundA=a(100*this._a)/100,this},toHsv:function(){var G=b(this._r,this._g,this._b);return{h:G.h*360,s:G.s,v:G.v,a:this._a}},toHsvString:function(){var G=b(this._r,this._g,this._b),re=a(G.h*360),H=a(G.s*100),te=a(G.v*100);return this._a==1?"hsv("+re+", "+H+"%, "+te+"%)":"hsva("+re+", "+H+"%, "+te+"%, "+this._roundA+")"},toHsl:function(){var G=v(this._r,this._g,this._b);return{h:G.h*360,s:G.s,l:G.l,a:this._a}},toHslString:function(){var G=v(this._r,this._g,this._b),re=a(G.h*360),H=a(G.s*100),te=a(G.l*100);return this._a==1?"hsl("+re+", "+H+"%, "+te+"%)":"hsla("+re+", "+H+"%, "+te+"%, "+this._roundA+")"},toHex:function(G){return w(this._r,this._g,this._b,G)},toHexString:function(G){return"#"+this.toHex(G)},toHex8:function(G){return M(this._r,this._g,this._b,this._a,G)},toHex8String:function(G){return"#"+this.toHex8(G)},toRgb:function(){return{r:a(this._r),g:a(this._g),b:a(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+a(this._r)+", "+a(this._g)+", "+a(this._b)+")":"rgba("+a(this._r)+", "+a(this._g)+", "+a(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:a(P(this._r,255)*100)+"%",g:a(P(this._g,255)*100)+"%",b:a(P(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+a(P(this._r,255)*100)+"%, "+a(P(this._g,255)*100)+"%, "+a(P(this._b,255)*100)+"%)":"rgba("+a(P(this._r,255)*100)+"%, "+a(P(this._g,255)*100)+"%, "+a(P(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:I[w(this._r,this._g,this._b,!0)]||!1},toFilter:function(G){var re="#"+m(this._r,this._g,this._b,this._a),H=re,te=this._gradientType?"GradientType = 1, ":"";if(G){var ue=u(G);H="#"+m(ue._r,ue._g,ue._b,ue._a)}return"progid:DXImageTransform.Microsoft.gradient("+te+"startColorstr="+re+",endColorstr="+H+")"},toString:function(G){var re=!!G;G=G||this._format;var H=!1,te=this._a<1&&this._a>=0,ue=!re&&te&&(G==="hex"||G==="hex6"||G==="hex3"||G==="hex4"||G==="hex8"||G==="name");return ue?G==="name"&&this._a===0?this.toName():this.toRgbString():(G==="rgb"&&(H=this.toRgbString()),G==="prgb"&&(H=this.toPercentageRgbString()),(G==="hex"||G==="hex6")&&(H=this.toHexString()),G==="hex3"&&(H=this.toHexString(!0)),G==="hex4"&&(H=this.toHex8String(!0)),G==="hex8"&&(H=this.toHex8String()),G==="name"&&(H=this.toName()),G==="hsl"&&(H=this.toHslString()),G==="hsv"&&(H=this.toHsvString()),H||this.toHexString())},clone:function(){return u(this.toString())},_applyModification:function(G,re){var H=G.apply(null,[this].concat([].slice.call(re)));return this._r=H._r,this._g=H._g,this._b=H._b,this.setAlpha(H._a),this},lighten:function(){return this._applyModification(T,arguments)},brighten:function(){return this._applyModification(d,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(k,arguments)},saturate:function(){return this._applyModification(S,arguments)},greyscale:function(){return this._applyModification(x,arguments)},spin:function(){return this._applyModification(g,arguments)},_applyCombination:function(G,re){return G.apply(null,[this].concat([].slice.call(re)))},analogous:function(){return this._applyCombination(E,arguments)},complement:function(){return this._applyCombination(c,arguments)},monochromatic:function(){return this._applyCombination(D,arguments)},splitcomplement:function(){return this._applyCombination(R,arguments)},triad:function(){return this._applyCombination(A,arguments)},tetrad:function(){return this._applyCombination(h,arguments)}},u.fromRatio=function(G,re){if(typeof G=="object"){var H={};for(var te in G)G.hasOwnProperty(te)&&(te==="a"?H[te]=G[te]:H[te]=Y(G[te]));G=H}return u(G,re)};function s(G){var re={r:0,g:0,b:0},H=1,te=null,ue=null,de=null,Ee=!1,Me=!1;return typeof G=="string"&&(G=oe(G)),typeof G=="object"&&(Q(G.r)&&Q(G.g)&&Q(G.b)?(re=f(G.r,G.g,G.b),Ee=!0,Me=String(G.r).substr(-1)==="%"?"prgb":"rgb"):Q(G.h)&&Q(G.s)&&Q(G.v)?(te=Y(G.s),ue=Y(G.v),re=y(G.h,te,ue),Ee=!0,Me="hsv"):Q(G.h)&&Q(G.s)&&Q(G.l)&&(te=Y(G.s),de=Y(G.l),re=p(G.h,te,de),Ee=!0,Me="hsl"),G.hasOwnProperty("a")&&(H=G.a)),H=L(H),{ok:Ee,format:G.format||Me,r:o(255,i(re.r,0)),g:o(255,i(re.g,0)),b:o(255,i(re.b,0)),a:H}}function f(G,re,H){return{r:P(G,255)*255,g:P(re,255)*255,b:P(H,255)*255}}function v(G,re,H){G=P(G,255),re=P(re,255),H=P(H,255);var te=i(G,re,H),ue=o(G,re,H),de,Ee,Me=(te+ue)/2;if(te==ue)de=Ee=0;else{var ve=te-ue;switch(Ee=Me>.5?ve/(2-te-ue):ve/(te+ue),te){case G:de=(re-H)/ve+(re<H?6:0);break;case re:de=(H-G)/ve+2;break;case H:de=(G-re)/ve+4;break}de/=6}return{h:de,s:Ee,l:Me}}function p(G,re,H){var te,ue,de;G=P(G,360),re=P(re,100),H=P(H,100);function Ee(Ae,ke,De){return De<0&&(De+=1),De>1&&(De-=1),De<1/6?Ae+(ke-Ae)*6*De:De<1/2?ke:De<2/3?Ae+(ke-Ae)*(2/3-De)*6:Ae}if(re===0)te=ue=de=H;else{var Me=H<.5?H*(1+re):H+re-H*re,ve=2*H-Me;te=Ee(ve,Me,G+1/3),ue=Ee(ve,Me,G),de=Ee(ve,Me,G-1/3)}return{r:te*255,g:ue*255,b:de*255}}function b(G,re,H){G=P(G,255),re=P(re,255),H=P(H,255);var te=i(G,re,H),ue=o(G,re,H),de,Ee,Me=te,ve=te-ue;if(Ee=te===0?0:ve/te,te==ue)de=0;else{switch(te){case G:de=(re-H)/ve+(re<H?6:0);break;case re:de=(H-G)/ve+2;break;case H:de=(G-re)/ve+4;break}de/=6}return{h:de,s:Ee,v:Me}}function y(G,re,H){G=P(G,360)*6,re=P(re,100),H=P(H,100);var te=e.floor(G),ue=G-te,de=H*(1-re),Ee=H*(1-ue*re),Me=H*(1-(1-ue)*re),ve=te%6,Ae=[H,Ee,de,de,Me,H][ve],ke=[Me,H,H,Ee,de,de][ve],De=[de,de,Me,H,H,Ee][ve];return{r:Ae*255,g:ke*255,b:De*255}}function w(G,re,H,te){var ue=[$(a(G).toString(16)),$(a(re).toString(16)),$(a(H).toString(16))];return te&&ue[0].charAt(0)==ue[0].charAt(1)&&ue[1].charAt(0)==ue[1].charAt(1)&&ue[2].charAt(0)==ue[2].charAt(1)?ue[0].charAt(0)+ue[1].charAt(0)+ue[2].charAt(0):ue.join("")}function M(G,re,H,te,ue){var de=[$(a(G).toString(16)),$(a(re).toString(16)),$(a(H).toString(16)),$(q(te))];return ue&&de[0].charAt(0)==de[0].charAt(1)&&de[1].charAt(0)==de[1].charAt(1)&&de[2].charAt(0)==de[2].charAt(1)&&de[3].charAt(0)==de[3].charAt(1)?de[0].charAt(0)+de[1].charAt(0)+de[2].charAt(0)+de[3].charAt(0):de.join("")}function m(G,re,H,te){var ue=[$(q(te)),$(a(G).toString(16)),$(a(re).toString(16)),$(a(H).toString(16))];return ue.join("")}u.equals=function(G,re){return!G||!re?!1:u(G).toRgbString()==u(re).toRgbString()},u.random=function(){return u.fromRatio({r:l(),g:l(),b:l()})};function k(G,re){re=re===0?0:re||10;var H=u(G).toHsl();return H.s-=re/100,H.s=O(H.s),u(H)}function S(G,re){re=re===0?0:re||10;var H=u(G).toHsl();return H.s+=re/100,H.s=O(H.s),u(H)}function x(G){return u(G).desaturate(100)}function T(G,re){re=re===0?0:re||10;var H=u(G).toHsl();return H.l+=re/100,H.l=O(H.l),u(H)}function d(G,re){re=re===0?0:re||10;var H=u(G).toRgb();return H.r=i(0,o(255,H.r-a(255*-(re/100)))),H.g=i(0,o(255,H.g-a(255*-(re/100)))),H.b=i(0,o(255,H.b-a(255*-(re/100)))),u(H)}function _(G,re){re=re===0?0:re||10;var H=u(G).toHsl();return H.l-=re/100,H.l=O(H.l),u(H)}function g(G,re){var H=u(G).toHsl(),te=(H.h+re)%360;return H.h=te<0?360+te:te,u(H)}function c(G){var re=u(G).toHsl();return re.h=(re.h+180)%360,u(re)}function A(G){var re=u(G).toHsl(),H=re.h;return[u(G),u({h:(H+120)%360,s:re.s,l:re.l}),u({h:(H+240)%360,s:re.s,l:re.l})]}function h(G){var re=u(G).toHsl(),H=re.h;return[u(G),u({h:(H+90)%360,s:re.s,l:re.l}),u({h:(H+180)%360,s:re.s,l:re.l}),u({h:(H+270)%360,s:re.s,l:re.l})]}function R(G){var re=u(G).toHsl(),H=re.h;return[u(G),u({h:(H+72)%360,s:re.s,l:re.l}),u({h:(H+216)%360,s:re.s,l:re.l})]}function E(G,re,H){re=re||6,H=H||30;var te=u(G).toHsl(),ue=360/H,de=[u(G)];for(te.h=(te.h-(ue*re>>1)+720)%360;--re;)te.h=(te.h+ue)%360,de.push(u(te));return de}function D(G,re){re=re||6;for(var H=u(G).toHsv(),te=H.h,ue=H.s,de=H.v,Ee=[],Me=1/re;re--;)Ee.push(u({h:te,s:ue,v:de})),de=(de+Me)%1;return Ee}u.mix=function(G,re,H){H=H===0?0:H||50;var te=u(G).toRgb(),ue=u(re).toRgb(),de=H/100,Ee={r:(ue.r-te.r)*de+te.r,g:(ue.g-te.g)*de+te.g,b:(ue.b-te.b)*de+te.b,a:(ue.a-te.a)*de+te.a};return u(Ee)},u.readability=function(G,re){var H=u(G),te=u(re);return(e.max(H.getLuminance(),te.getLuminance())+.05)/(e.min(H.getLuminance(),te.getLuminance())+.05)},u.isReadable=function(G,re,H){var te=u.readability(G,re),ue,de;switch(de=!1,ue=ee(H),ue.level+ue.size){case"AAsmall":case"AAAlarge":de=te>=4.5;break;case"AAlarge":de=te>=3;break;case"AAAsmall":de=te>=7;break}return de},u.mostReadable=function(G,re,H){var te=null,ue=0,de,Ee,Me,ve;H=H||{},Ee=H.includeFallbackColors,Me=H.level,ve=H.size;for(var Ae=0;Ae<re.length;Ae++)de=u.readability(G,re[Ae]),de>ue&&(ue=de,te=u(re[Ae]));return u.isReadable(G,te,{level:Me,size:ve})||!Ee?te:(H.includeFallbackColors=!1,u.mostReadable(G,["#fff","#000"],H))};var N=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},I=u.hexNames=F(N);function F(G){var re={};for(var H in G)G.hasOwnProperty(H)&&(re[G[H]]=H);return re}function L(G){return G=parseFloat(G),(isNaN(G)||G<0||G>1)&&(G=1),G}function P(G,re){X(G)&&(G="100%");var H=j(G);return G=o(re,i(0,parseFloat(G))),H&&(G=parseInt(G*re,10)/100),e.abs(G-re)<1e-6?1:G%re/parseFloat(re)}function O(G){return o(1,i(0,G))}function U(G){return parseInt(G,16)}function X(G){return typeof G=="string"&&G.indexOf(".")!=-1&&parseFloat(G)===1}function j(G){return typeof G=="string"&&G.indexOf("%")!=-1}function $(G){return G.length==1?"0"+G:""+G}function Y(G){return G<=1&&(G=G*100+"%"),G}function q(G){return e.round(parseFloat(G)*255).toString(16)}function Z(G){return U(G)/255}var ne=function(){var G="[-\\+]?\\d+%?",re="[-\\+]?\\d*\\.\\d+%?",H="(?:"+re+")|(?:"+G+")",te="[\\s|\\(]+("+H+")[,|\\s]+("+H+")[,|\\s]+("+H+")\\s*\\)?",ue="[\\s|\\(]+("+H+")[,|\\s]+("+H+")[,|\\s]+("+H+")[,|\\s]+("+H+")\\s*\\)?";return{CSS_UNIT:new RegExp(H),rgb:new RegExp("rgb"+te),rgba:new RegExp("rgba"+ue),hsl:new RegExp("hsl"+te),hsla:new RegExp("hsla"+ue),hsv:new RegExp("hsv"+te),hsva:new RegExp("hsva"+ue),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Q(G){return!!ne.CSS_UNIT.exec(G)}function oe(G){G=G.replace(r,"").replace(t,"").toLowerCase();var re=!1;if(N[G])G=N[G],re=!0;else if(G=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var H;return(H=ne.rgb.exec(G))?{r:H[1],g:H[2],b:H[3]}:(H=ne.rgba.exec(G))?{r:H[1],g:H[2],b:H[3],a:H[4]}:(H=ne.hsl.exec(G))?{h:H[1],s:H[2],l:H[3]}:(H=ne.hsla.exec(G))?{h:H[1],s:H[2],l:H[3],a:H[4]}:(H=ne.hsv.exec(G))?{h:H[1],s:H[2],v:H[3]}:(H=ne.hsva.exec(G))?{h:H[1],s:H[2],v:H[3],a:H[4]}:(H=ne.hex8.exec(G))?{r:U(H[1]),g:U(H[2]),b:U(H[3]),a:Z(H[4]),format:re?"name":"hex8"}:(H=ne.hex6.exec(G))?{r:U(H[1]),g:U(H[2]),b:U(H[3]),format:re?"name":"hex"}:(H=ne.hex4.exec(G))?{r:U(H[1]+""+H[1]),g:U(H[2]+""+H[2]),b:U(H[3]+""+H[3]),a:Z(H[4]+""+H[4]),format:re?"name":"hex8"}:(H=ne.hex3.exec(G))?{r:U(H[1]+""+H[1]),g:U(H[2]+""+H[2]),b:U(H[3]+""+H[3]),format:re?"name":"hex"}:!1}function ee(G){var re,H;return G=G||{level:"AA",size:"small"},re=(G.level||"AA").toUpperCase(),H=(G.size||"small").toLowerCase(),re!=="AA"&&re!=="AAA"&&(re="AA"),H!=="small"&&H!=="large"&&(H="small"),{level:re,size:H}}typeof kc!="undefined"&&kc.exports?kc.exports=u:window.tinycolor=u})(Math)});var Mt=pe(lf=>{"use strict";var Nb=wo(),af=Array.isArray;function ZB(e,r){var t,n;for(t=0;t<e.length;t++){if(n=e[t],n!==null&&typeof n=="object")return!1;n!==void 0&&(r[t]=n)}return!0}lf.extendFlat=function(){return of(arguments,!1,!1,!1)};lf.extendDeep=function(){return of(arguments,!0,!1,!1)};lf.extendDeepAll=function(){return of(arguments,!0,!0,!1)};lf.extendDeepNoArrays=function(){return of(arguments,!0,!1,!0)};function of(e,r,t,n){var a=e[0],o=e.length,i,l,u,s,f,v,p;if(o===2&&af(a)&&af(e[1])&&a.length===0){if(p=ZB(e[1],a),p)return a;a.splice(0,a.length)}for(var b=1;b<o;b++){i=e[b];for(l in i)u=a[l],s=i[l],n&&af(s)?a[l]=s:r&&s&&(Nb(s)||(f=af(s)))?(f?(f=!1,v=u&&af(u)?u:[]):v=u&&Nb(u)?u:{},a[l]=of([v,s],r,t,n)):(typeof s!="undefined"||t)&&(a[l]=s)}return a}});var kn=pe((Kue,zb)=>{"use strict";zb.exports=function(e){var r=e.variantValues,t=e.editType,n=e.colorEditType;n===void 0&&(n=t);var a={editType:t,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};e.noNumericWeightValues&&(a.valType="enumerated",a.values=a.extras,a.extras=void 0,a.min=void 0,a.max=void 0);var o={family:{valType:"string",noBlank:!0,strict:!0,editType:t},size:{valType:"number",min:1,editType:t},color:{valType:"color",editType:n},weight:a,style:{editType:t,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:e.noFontVariant?void 0:{editType:t,valType:"enumerated",values:r||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:e.noFontTextcase?void 0:{editType:t,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:e.noFontLineposition?void 0:{editType:t,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:e.noFontShadow?void 0:{editType:t,valType:"string",dflt:e.autoShadowDflt?"auto":"none"},editType:t};return e.autoSize&&(o.size.dflt="auto"),e.autoColor&&(o.color.dflt="auto"),e.arrayOk&&(o.family.arrayOk=!0,o.weight.arrayOk=!0,o.style.arrayOk=!0,e.noFontVariant||(o.variant.arrayOk=!0),e.noFontTextcase||(o.textcase.arrayOk=!0),e.noFontLineposition||(o.lineposition.arrayOk=!0),e.noFontShadow||(o.shadow.arrayOk=!0),o.size.arrayOk=!0,o.color.arrayOk=!0),o}});var sf=pe((Que,qb)=>{"use strict";qb.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}});var _l=pe(($ue,Ub)=>{"use strict";var Ob=sf(),Bb=kn(),cp=Bb({editType:"none"});cp.family.dflt=Ob.HOVERFONT;cp.size.dflt=Ob.HOVERFONTSIZE;Ub.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:cp,grouptitlefont:Bb({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}});var Ec=pe((jue,Hb)=>{"use strict";var JB=kn(),Sc=_l().hoverlabel,Cc=Mt().extendFlat;Hb.exports={hoverlabel:{bgcolor:Cc({},Sc.bgcolor,{arrayOk:!0}),bordercolor:Cc({},Sc.bordercolor,{arrayOk:!0}),font:JB({arrayOk:!0,editType:"none"}),align:Cc({},Sc.align,{arrayOk:!0}),namelength:Cc({},Sc.namelength,{arrayOk:!0}),editType:"none"}}});var Sn=pe((efe,Vb)=>{"use strict";var KB=kn(),QB=Ec();Vb.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:KB({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:QB.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},uirevision:{valType:"any",editType:"none"}}});var wl=pe((rfe,Wb)=>{"use strict";var $B=ka(),Lc={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},Gb=Lc.RdBu;function jB(e,r){if(r||(r=Gb),!e)return r;function t(){try{e=Lc[e]||JSON.parse(e)}catch(n){e=r}}return typeof e=="string"&&(t(),typeof e=="string"&&t()),Yb(e)?e:r}function Yb(e){var r=0;if(!Array.isArray(e)||e.length<2||!e[0]||!e[e.length-1]||+e[0][0]!=0||+e[e.length-1][0]!=1)return!1;for(var t=0;t<e.length;t++){var n=e[t];if(n.length!==2||+n[0]<r||!$B(n[1]).isValid())return!1;r=+n[0]}return!0}function eU(e){return Lc[e]!==void 0?!0:Yb(e)}Wb.exports={scales:Lc,defaultScale:Gb,get:jB,isValid:eU}});var Ti=pe(Ml=>{"use strict";Ml.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];Ml.defaultLine="#444";Ml.lightLine="#eee";Ml.background="#fff";Ml.borderLine="#BEC8D9";Ml.lightFraction=100*10/11});var Zr=pe((nfe,Xb)=>{"use strict";var ra=ka(),rU=rt(),tU=ea().isTypedArray,an=Xb.exports={},Rc=Ti();an.defaults=Rc.defaults;var nU=an.defaultLine=Rc.defaultLine;an.lightLine=Rc.lightLine;var hp=an.background=Rc.background;an.tinyRGB=function(e){var r=e.toRgb();return"rgb("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+")"};an.rgb=function(e){return an.tinyRGB(ra(e))};an.opacity=function(e){return e?ra(e).getAlpha():0};an.addOpacity=function(e,r){var t=ra(e).toRgb();return"rgba("+Math.round(t.r)+", "+Math.round(t.g)+", "+Math.round(t.b)+", "+r+")"};an.combine=function(e,r){var t=ra(e).toRgb();if(t.a===1)return ra(e).toRgbString();var n=ra(r||hp).toRgb(),a=n.a===1?n:{r:255*(1-n.a)+n.r*n.a,g:255*(1-n.a)+n.g*n.a,b:255*(1-n.a)+n.b*n.a},o={r:a.r*(1-t.a)+t.r*t.a,g:a.g*(1-t.a)+t.g*t.a,b:a.b*(1-t.a)+t.b*t.a};return ra(o).toRgbString()};an.interpolate=function(e,r,t){var n=ra(e).toRgb(),a=ra(r).toRgb(),o={r:t*n.r+(1-t)*a.r,g:t*n.g+(1-t)*a.g,b:t*n.b+(1-t)*a.b};return ra(o).toRgbString()};an.contrast=function(e,r,t){var n=ra(e);n.getAlpha()!==1&&(n=ra(an.combine(e,hp)));var a=n.isDark()?r?n.lighten(r):hp:t?n.darken(t):nU;return a.toString()};an.stroke=function(e,r){var t=ra(r);e.style({stroke:an.tinyRGB(t),"stroke-opacity":t.getAlpha()})};an.fill=function(e,r){var t=ra(r);e.style({fill:an.tinyRGB(t),"fill-opacity":t.getAlpha()})};an.clean=function(e){if(!(!e||typeof e!="object")){var r=Object.keys(e),t,n,a,o;for(t=0;t<r.length;t++)if(a=r[t],o=e[a],a.substr(a.length-5)==="color")if(Array.isArray(o))for(n=0;n<o.length;n++)o[n]=vp(o[n]);else e[a]=vp(o);else if(a.substr(a.length-10)==="colorscale"&&Array.isArray(o))for(n=0;n<o.length;n++)Array.isArray(o[n])&&(o[n][1]=vp(o[n][1]));else if(Array.isArray(o)){var i=o[0];if(!Array.isArray(i)&&i&&typeof i=="object")for(n=0;n<o.length;n++)an.clean(o[n])}else o&&typeof o=="object"&&!tU(o)&&an.clean(o)}};function vp(e){if(rU(e)||typeof e!="string")return e;var r=e.trim();if(r.substr(0,3)!=="rgb")return e;var t=r.match(/^rgba?\s*\(([^()]*)\)$/);if(!t)return e;var n=t[1].trim().split(/\s*[\s,]\s*/),a=r.charAt(3)==="a"&&n.length===4;if(!a&&n.length!==3)return e;for(var o=0;o<n.length;o++){if(!n[o].length||(n[o]=Number(n[o]),!(n[o]>=0)))return e;if(o===3)n[o]>1&&(n[o]=1);else if(n[o]>=1)return e}var i=Math.round(n[0]*255)+", "+Math.round(n[1]*255)+", "+Math.round(n[2]*255);return a?"rgba("+i+", "+n[3]+")":"rgb("+i+")"}});var Dc=pe((afe,Zb)=>{"use strict";Zb.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}});var Es=pe(Jb=>{"use strict";Jb.counter=function(e,r,t,n){var a=(r||"")+(t?"":"$"),o=n===!1?"":"^";return e==="xy"?new RegExp(o+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+a):new RegExp(o+e+"([2-9]|[1-9][0-9]+)?"+a)}});var jb=pe(ta=>{"use strict";var dp=rt(),Kb=ka(),Qb=Mt().extendFlat,aU=Sn(),iU=wl(),oU=Zr(),lU=Dc().DESELECTDIM,Ls=Mc(),$b=Es().counter,sU=Cs().modHalf,Ai=ea().isArrayOrTypedArray,Mo=ea().isTypedArraySpec,To=ea().decodeTypedArraySpec;ta.valObjectMeta={data_array:{coerceFunction:function(e,r,t){r.set(Ai(e)?e:Mo(e)?To(e):t)}},enumerated:{coerceFunction:function(e,r,t,n){n.coerceNumber&&(e=+e),n.values.indexOf(e)===-1?r.set(t):r.set(e)},validateFunction:function(e,r){r.coerceNumber&&(e=+e);for(var t=r.values,n=0;n<t.length;n++){var a=String(t[n]);if(a.charAt(0)==="/"&&a.charAt(a.length-1)==="/"){var o=new RegExp(a.substr(1,a.length-2));if(o.test(e))return!0}else if(e===t[n])return!0}return!1}},boolean:{coerceFunction:function(e,r,t){e===!0||e===!1?r.set(e):r.set(t)}},number:{coerceFunction:function(e,r,t,n){Mo(e)&&(e=To(e)),!dp(e)||n.min!==void 0&&e<n.min||n.max!==void 0&&e>n.max?r.set(t):r.set(+e)}},integer:{coerceFunction:function(e,r,t,n){if((n.extras||[]).indexOf(e)!==-1){r.set(e);return}Mo(e)&&(e=To(e)),e%1||!dp(e)||n.min!==void 0&&e<n.min||n.max!==void 0&&e>n.max?r.set(t):r.set(+e)}},string:{coerceFunction:function(e,r,t,n){if(typeof e!="string"){var a=typeof e=="number";n.strict===!0||!a?r.set(t):r.set(String(e))}else n.noBlank&&!e?r.set(t):r.set(e)}},color:{coerceFunction:function(e,r,t){Mo(e)&&(e=To(e)),Kb(e).isValid()?r.set(e):r.set(t)}},colorlist:{coerceFunction:function(e,r,t){function n(a){return Kb(a).isValid()}!Array.isArray(e)||!e.length?r.set(t):e.every(n)?r.set(e):r.set(t)}},colorscale:{coerceFunction:function(e,r,t){r.set(iU.get(e,t))}},angle:{coerceFunction:function(e,r,t){Mo(e)&&(e=To(e)),e==="auto"?r.set("auto"):dp(e)?r.set(sU(+e,360)):r.set(t)}},subplotid:{coerceFunction:function(e,r,t,n){var a=n.regex||$b(t);if(typeof e=="string"&&a.test(e)){r.set(e);return}r.set(t)},validateFunction:function(e,r){var t=r.dflt;return e===t?!0:typeof e!="string"?!1:!!$b(t).test(e)}},flaglist:{coerceFunction:function(e,r,t,n){if((n.extras||[]).indexOf(e)!==-1){r.set(e);return}if(typeof e!="string"){r.set(t);return}for(var a=e.split("+"),o=0;o<a.length;){var i=a[o];n.flags.indexOf(i)===-1||a.indexOf(i)<o?a.splice(o,1):o++}a.length?r.set(a.join("+")):r.set(t)}},any:{coerceFunction:function(e,r,t){e===void 0?r.set(t):r.set(Mo(e)?To(e):e)}},info_array:{coerceFunction:function(e,r,t,n){function a(k,S,x){var T,d={set:function(_){T=_}};return x===void 0&&(x=S.dflt),ta.valObjectMeta[S.valType].coerceFunction(k,d,x,S),T}if(Mo(e)&&(e=To(e)),!Ai(e)){r.set(t);return}var o=n.dimensions===2||n.dimensions==="1-2"&&Array.isArray(e)&&Ai(e[0]),i=n.items,l=[],u=Array.isArray(i),s=u&&o&&Ai(i[0]),f=o&&u&&!s,v=u&&!f?i.length:e.length,p,b,y,w,M,m;if(t=Array.isArray(t)?t:[],o)for(p=0;p<v;p++)for(l[p]=[],y=Ai(e[p])?e[p]:[],f?M=i.length:u?M=i[p].length:M=y.length,b=0;b<M;b++)f?w=i[b]:u?w=i[p][b]:w=i,m=a(y[b],w,(t[p]||[])[b]),m!==void 0&&(l[p][b]=m);else for(p=0;p<v;p++)m=a(e[p],u?i[p]:i,t[p]),m!==void 0&&(l[p]=m);r.set(l)},validateFunction:function(e,r){if(!Ai(e))return!1;var t=r.items,n=Array.isArray(t),a=r.dimensions===2;if(!r.freeLength&&e.length!==t.length)return!1;for(var o=0;o<e.length;o++)if(a){if(!Ai(e[o])||!r.freeLength&&e[o].length!==t[o].length)return!1;for(var i=0;i<e[o].length;i++)if(!Pc(e[o][i],n?t[o][i]:t))return!1}else if(!Pc(e[o],n?t[o]:t))return!1;return!0}}};ta.coerce=function(e,r,t,n,a){var o=Ls(t,n).get(),i=Ls(e,n),l=Ls(r,n),u=i.get(),s=r._template;if(u===void 0&&s&&(u=Ls(s,n).get(),s=0),a===void 0&&(a=o.dflt),o.arrayOk){if(Ai(u))return l.set(u),u;if(Mo(u))return u=To(u),l.set(u),u}var f=ta.valObjectMeta[o.valType].coerceFunction;f(u,l,a,o);var v=l.get();return s&&v===a&&!Pc(u,o)&&(u=Ls(s,n).get(),f(u,l,a,o),v=l.get()),v};ta.coerce2=function(e,r,t,n,a){var o=Ls(e,n),i=ta.coerce(e,r,t,n,a),l=o.get();return l!=null?i:!1};ta.coerceFont=function(e,r,t,n){n||(n={}),t=Qb({},t),t=Qb(t,n.overrideDflt||{});var a={family:e(r+".family",t.family),size:e(r+".size",t.size),color:e(r+".color",t.color),weight:e(r+".weight",t.weight),style:e(r+".style",t.style)};if(n.noFontVariant||(a.variant=e(r+".variant",t.variant)),n.noFontLineposition||(a.lineposition=e(r+".lineposition",t.lineposition)),n.noFontTextcase||(a.textcase=e(r+".textcase",t.textcase)),!n.noFontShadow){var o=t.shadow;o==="none"&&n.autoShadowDflt&&(o="auto"),a.shadow=e(r+".shadow",o)}return a};ta.coercePattern=function(e,r,t,n){var a=e(r+".shape");if(a){e(r+".solidity"),e(r+".size");var o=e(r+".fillmode"),i=o==="overlay";if(!n){var l=e(r+".bgcolor",i?t:void 0);e(r+".fgcolor",i?oU.contrast(l):t)}e(r+".fgopacity",i?.5:1)}};ta.coerceHoverinfo=function(e,r,t){var n=r._module.attributes,a=n.hoverinfo?n:aU,o=a.hoverinfo,i;if(t._dataLength===1){var l=o.dflt==="all"?o.flags.slice():o.dflt.split("+");l.splice(l.indexOf("name"),1),i=l.join("+")}return ta.coerce(e,r,a,"hoverinfo",i)};ta.coerceSelectionMarkerOpacity=function(e,r){if(e.marker){var t=e.marker.opacity;if(t!==void 0){var n,a;!Ai(t)&&!e.selected&&!e.unselected&&(n=t,a=lU*t),r("selected.marker.opacity",n),r("unselected.marker.opacity",a)}}};function Pc(e,r){var t=ta.valObjectMeta[r.valType];if(r.arrayOk&&Ai(e))return!0;if(t.validateFunction)return t.validateFunction(e,r);var n={},a=n,o={set:function(i){a=i}};return t.coerceFunction(e,o,n,r),a!==n}ta.validate=Pc});var Tl=pe((lfe,n4)=>{"use strict";var e4={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox","map"],extras:[!0,!1],dflt:"gl3d+geo+map"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},r4={};function t4(e,r){for(var t in e){var n=e[t];n.valType?r[t]=n.dflt:(r[t]||(r[t]={}),t4(n,r[t]))}}t4(e4,r4);n4.exports={configAttributes:e4,dfltConfig:r4}});var gp=pe((sfe,a4)=>{"use strict";var pp=it(),uU=rt(),uf=[];a4.exports=function(e,r){if(uf.indexOf(e)!==-1)return;uf.push(e);var t=1e3;uU(r)?t=r:r==="long"&&(t=3e3);var n=pp.select("body").selectAll(".plotly-notifier").data([0]);n.enter().append("div").classed("plotly-notifier",!0);var a=n.selectAll(".notifier-note").data(uf);function o(i){i.duration(700).style("opacity",0).each("end",function(l){var u=uf.indexOf(l);u!==-1&&uf.splice(u,1),pp.select(this).remove()})}a.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(i){var l=pp.select(this);l.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){l.transition().call(o)});for(var u=l.append("p"),s=i.split(/<br\s*\/?>/g),f=0;f<s.length;f++)f&&u.append("br"),u.append("span").text(s[f]);r==="stick"?l.transition().duration(350).style("opacity",1):l.transition().duration(700).style("opacity",1).transition().delay(t).call(o)})}});var Al=pe((ufe,i4)=>{"use strict";var Rs=Tl().dfltConfig,yp=gp(),mp=i4.exports={};mp.log=function(){var e;if(Rs.logging>1){var r=["LOG:"];for(e=0;e<arguments.length;e++)r.push(arguments[e]);console.trace.apply(console,r)}if(Rs.notifyOnLogging>1){var t=[];for(e=0;e<arguments.length;e++)t.push(arguments[e]);yp(t.join("<br>"),"long")}};mp.warn=function(){var e;if(Rs.logging>0){var r=["WARN:"];for(e=0;e<arguments.length;e++)r.push(arguments[e]);console.trace.apply(console,r)}if(Rs.notifyOnLogging>0){var t=[];for(e=0;e<arguments.length;e++)t.push(arguments[e]);yp(t.join("<br>"),"stick")}};mp.error=function(){var e;if(Rs.logging>0){var r=["ERROR:"];for(e=0;e<arguments.length;e++)r.push(arguments[e]);console.error.apply(console,r)}if(Rs.notifyOnLogging>0){var t=[];for(e=0;e<arguments.length;e++)t.push(arguments[e]);yp(t.join("<br>"),"stick")}}});var Fc=pe((ffe,o4)=>{"use strict";o4.exports=function(){}});var xp=pe((cfe,l4)=>{"use strict";l4.exports=function(r,t){if(t instanceof RegExp){for(var n=t.toString(),a=0;a<r.length;a++)if(r[a]instanceof RegExp&&r[a].toString()===n)return r;r.push(t)}else(t||t===0)&&r.indexOf(t)===-1&&r.push(t);return r}});var u4=pe((vfe,s4)=>{s4.exports=fU;function fU(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var c4=pe((hfe,f4)=>{f4.exports=cU;function cU(e){var r=new Float32Array(16);return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}});var h4=pe((dfe,v4)=>{v4.exports=vU;function vU(e,r){return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}});var bp=pe((pfe,d4)=>{d4.exports=hU;function hU(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var g4=pe((gfe,p4)=>{p4.exports=dU;function dU(e,r){if(e===r){var t=r[1],n=r[2],a=r[3],o=r[6],i=r[7],l=r[11];e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=t,e[6]=r[9],e[7]=r[13],e[8]=n,e[9]=o,e[11]=r[14],e[12]=a,e[13]=i,e[14]=l}else e[0]=r[0],e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=r[1],e[5]=r[5],e[6]=r[9],e[7]=r[13],e[8]=r[2],e[9]=r[6],e[10]=r[10],e[11]=r[14],e[12]=r[3],e[13]=r[7],e[14]=r[11],e[15]=r[15];return e}});var m4=pe((yfe,y4)=>{y4.exports=pU;function pU(e,r){var t=r[0],n=r[1],a=r[2],o=r[3],i=r[4],l=r[5],u=r[6],s=r[7],f=r[8],v=r[9],p=r[10],b=r[11],y=r[12],w=r[13],M=r[14],m=r[15],k=t*l-n*i,S=t*u-a*i,x=t*s-o*i,T=n*u-a*l,d=n*s-o*l,_=a*s-o*u,g=f*w-v*y,c=f*M-p*y,A=f*m-b*y,h=v*M-p*w,R=v*m-b*w,E=p*m-b*M,D=k*E-S*R+x*h+T*A-d*c+_*g;return D?(D=1/D,e[0]=(l*E-u*R+s*h)*D,e[1]=(a*R-n*E-o*h)*D,e[2]=(w*_-M*d+m*T)*D,e[3]=(p*d-v*_-b*T)*D,e[4]=(u*A-i*E-s*c)*D,e[5]=(t*E-a*A+o*c)*D,e[6]=(M*x-y*_-m*S)*D,e[7]=(f*_-p*x+b*S)*D,e[8]=(i*R-l*A+s*g)*D,e[9]=(n*A-t*R-o*g)*D,e[10]=(y*d-w*x+m*k)*D,e[11]=(v*x-f*d-b*k)*D,e[12]=(l*c-i*h-u*g)*D,e[13]=(t*h-n*c+a*g)*D,e[14]=(w*S-y*T-M*k)*D,e[15]=(f*T-v*S+p*k)*D,e):null}});var b4=pe((mfe,x4)=>{x4.exports=gU;function gU(e,r){var t=r[0],n=r[1],a=r[2],o=r[3],i=r[4],l=r[5],u=r[6],s=r[7],f=r[8],v=r[9],p=r[10],b=r[11],y=r[12],w=r[13],M=r[14],m=r[15];return e[0]=l*(p*m-b*M)-v*(u*m-s*M)+w*(u*b-s*p),e[1]=-(n*(p*m-b*M)-v*(a*m-o*M)+w*(a*b-o*p)),e[2]=n*(u*m-s*M)-l*(a*m-o*M)+w*(a*s-o*u),e[3]=-(n*(u*b-s*p)-l*(a*b-o*p)+v*(a*s-o*u)),e[4]=-(i*(p*m-b*M)-f*(u*m-s*M)+y*(u*b-s*p)),e[5]=t*(p*m-b*M)-f*(a*m-o*M)+y*(a*b-o*p),e[6]=-(t*(u*m-s*M)-i*(a*m-o*M)+y*(a*s-o*u)),e[7]=t*(u*b-s*p)-i*(a*b-o*p)+f*(a*s-o*u),e[8]=i*(v*m-b*w)-f*(l*m-s*w)+y*(l*b-s*v),e[9]=-(t*(v*m-b*w)-f*(n*m-o*w)+y*(n*b-o*v)),e[10]=t*(l*m-s*w)-i*(n*m-o*w)+y*(n*s-o*l),e[11]=-(t*(l*b-s*v)-i*(n*b-o*v)+f*(n*s-o*l)),e[12]=-(i*(v*M-p*w)-f*(l*M-u*w)+y*(l*p-u*v)),e[13]=t*(v*M-p*w)-f*(n*M-a*w)+y*(n*p-a*v),e[14]=-(t*(l*M-u*w)-i*(n*M-a*w)+y*(n*u-a*l)),e[15]=t*(l*p-u*v)-i*(n*p-a*v)+f*(n*u-a*l),e}});var w4=pe((xfe,_4)=>{_4.exports=yU;function yU(e){var r=e[0],t=e[1],n=e[2],a=e[3],o=e[4],i=e[5],l=e[6],u=e[7],s=e[8],f=e[9],v=e[10],p=e[11],b=e[12],y=e[13],w=e[14],M=e[15],m=r*i-t*o,k=r*l-n*o,S=r*u-a*o,x=t*l-n*i,T=t*u-a*i,d=n*u-a*l,_=s*y-f*b,g=s*w-v*b,c=s*M-p*b,A=f*w-v*y,h=f*M-p*y,R=v*M-p*w;return m*R-k*h+S*A+x*c-T*g+d*_}});var T4=pe((bfe,M4)=>{M4.exports=mU;function mU(e,r,t){var n=r[0],a=r[1],o=r[2],i=r[3],l=r[4],u=r[5],s=r[6],f=r[7],v=r[8],p=r[9],b=r[10],y=r[11],w=r[12],M=r[13],m=r[14],k=r[15],S=t[0],x=t[1],T=t[2],d=t[3];return e[0]=S*n+x*l+T*v+d*w,e[1]=S*a+x*u+T*p+d*M,e[2]=S*o+x*s+T*b+d*m,e[3]=S*i+x*f+T*y+d*k,S=t[4],x=t[5],T=t[6],d=t[7],e[4]=S*n+x*l+T*v+d*w,e[5]=S*a+x*u+T*p+d*M,e[6]=S*o+x*s+T*b+d*m,e[7]=S*i+x*f+T*y+d*k,S=t[8],x=t[9],T=t[10],d=t[11],e[8]=S*n+x*l+T*v+d*w,e[9]=S*a+x*u+T*p+d*M,e[10]=S*o+x*s+T*b+d*m,e[11]=S*i+x*f+T*y+d*k,S=t[12],x=t[13],T=t[14],d=t[15],e[12]=S*n+x*l+T*v+d*w,e[13]=S*a+x*u+T*p+d*M,e[14]=S*o+x*s+T*b+d*m,e[15]=S*i+x*f+T*y+d*k,e}});var k4=pe((_fe,A4)=>{A4.exports=xU;function xU(e,r,t){var n=t[0],a=t[1],o=t[2],i,l,u,s,f,v,p,b,y,w,M,m;return r===e?(e[12]=r[0]*n+r[4]*a+r[8]*o+r[12],e[13]=r[1]*n+r[5]*a+r[9]*o+r[13],e[14]=r[2]*n+r[6]*a+r[10]*o+r[14],e[15]=r[3]*n+r[7]*a+r[11]*o+r[15]):(i=r[0],l=r[1],u=r[2],s=r[3],f=r[4],v=r[5],p=r[6],b=r[7],y=r[8],w=r[9],M=r[10],m=r[11],e[0]=i,e[1]=l,e[2]=u,e[3]=s,e[4]=f,e[5]=v,e[6]=p,e[7]=b,e[8]=y,e[9]=w,e[10]=M,e[11]=m,e[12]=i*n+f*a+y*o+r[12],e[13]=l*n+v*a+w*o+r[13],e[14]=u*n+p*a+M*o+r[14],e[15]=s*n+b*a+m*o+r[15]),e}});var C4=pe((wfe,S4)=>{S4.exports=bU;function bU(e,r,t){var n=t[0],a=t[1],o=t[2];return e[0]=r[0]*n,e[1]=r[1]*n,e[2]=r[2]*n,e[3]=r[3]*n,e[4]=r[4]*a,e[5]=r[5]*a,e[6]=r[6]*a,e[7]=r[7]*a,e[8]=r[8]*o,e[9]=r[9]*o,e[10]=r[10]*o,e[11]=r[11]*o,e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}});var L4=pe((Mfe,E4)=>{E4.exports=_U;function _U(e,r,t,n){var a=n[0],o=n[1],i=n[2],l=Math.sqrt(a*a+o*o+i*i),u,s,f,v,p,b,y,w,M,m,k,S,x,T,d,_,g,c,A,h,R,E,D,N;return Math.abs(l)<1e-6?null:(l=1/l,a*=l,o*=l,i*=l,u=Math.sin(t),s=Math.cos(t),f=1-s,v=r[0],p=r[1],b=r[2],y=r[3],w=r[4],M=r[5],m=r[6],k=r[7],S=r[8],x=r[9],T=r[10],d=r[11],_=a*a*f+s,g=o*a*f+i*u,c=i*a*f-o*u,A=a*o*f-i*u,h=o*o*f+s,R=i*o*f+a*u,E=a*i*f+o*u,D=o*i*f-a*u,N=i*i*f+s,e[0]=v*_+w*g+S*c,e[1]=p*_+M*g+x*c,e[2]=b*_+m*g+T*c,e[3]=y*_+k*g+d*c,e[4]=v*A+w*h+S*R,e[5]=p*A+M*h+x*R,e[6]=b*A+m*h+T*R,e[7]=y*A+k*h+d*R,e[8]=v*E+w*D+S*N,e[9]=p*E+M*D+x*N,e[10]=b*E+m*D+T*N,e[11]=y*E+k*D+d*N,r!==e&&(e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e)}});var D4=pe((Tfe,R4)=>{R4.exports=wU;function wU(e,r,t){var n=Math.sin(t),a=Math.cos(t),o=r[4],i=r[5],l=r[6],u=r[7],s=r[8],f=r[9],v=r[10],p=r[11];return r!==e&&(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[4]=o*a+s*n,e[5]=i*a+f*n,e[6]=l*a+v*n,e[7]=u*a+p*n,e[8]=s*a-o*n,e[9]=f*a-i*n,e[10]=v*a-l*n,e[11]=p*a-u*n,e}});var F4=pe((Afe,P4)=>{P4.exports=MU;function MU(e,r,t){var n=Math.sin(t),a=Math.cos(t),o=r[0],i=r[1],l=r[2],u=r[3],s=r[8],f=r[9],v=r[10],p=r[11];return r!==e&&(e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=o*a-s*n,e[1]=i*a-f*n,e[2]=l*a-v*n,e[3]=u*a-p*n,e[8]=o*n+s*a,e[9]=i*n+f*a,e[10]=l*n+v*a,e[11]=u*n+p*a,e}});var N4=pe((kfe,I4)=>{I4.exports=TU;function TU(e,r,t){var n=Math.sin(t),a=Math.cos(t),o=r[0],i=r[1],l=r[2],u=r[3],s=r[4],f=r[5],v=r[6],p=r[7];return r!==e&&(e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=o*a+s*n,e[1]=i*a+f*n,e[2]=l*a+v*n,e[3]=u*a+p*n,e[4]=s*a-o*n,e[5]=f*a-i*n,e[6]=v*a-l*n,e[7]=p*a-u*n,e}});var q4=pe((Sfe,z4)=>{z4.exports=AU;function AU(e,r,t){var n,a,o,i=t[0],l=t[1],u=t[2],s=Math.sqrt(i*i+l*l+u*u);return Math.abs(s)<1e-6?null:(s=1/s,i*=s,l*=s,u*=s,n=Math.sin(r),a=Math.cos(r),o=1-a,e[0]=i*i*o+a,e[1]=l*i*o+u*n,e[2]=u*i*o-l*n,e[3]=0,e[4]=i*l*o-u*n,e[5]=l*l*o+a,e[6]=u*l*o+i*n,e[7]=0,e[8]=i*u*o+l*n,e[9]=l*u*o-i*n,e[10]=u*u*o+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}});var B4=pe((Cfe,O4)=>{O4.exports=kU;function kU(e,r,t){var n=r[0],a=r[1],o=r[2],i=r[3],l=n+n,u=a+a,s=o+o,f=n*l,v=n*u,p=n*s,b=a*u,y=a*s,w=o*s,M=i*l,m=i*u,k=i*s;return e[0]=1-(b+w),e[1]=v+k,e[2]=p-m,e[3]=0,e[4]=v-k,e[5]=1-(f+w),e[6]=y+M,e[7]=0,e[8]=p+m,e[9]=y-M,e[10]=1-(f+b),e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}});var H4=pe((Efe,U4)=>{U4.exports=SU;function SU(e,r){return e[0]=r[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=r[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var G4=pe((Lfe,V4)=>{V4.exports=CU;function CU(e,r){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}});var W4=pe((Rfe,Y4)=>{Y4.exports=EU;function EU(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=t,e[7]=0,e[8]=0,e[9]=-t,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var Z4=pe((Dfe,X4)=>{X4.exports=LU;function LU(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=n,e[1]=0,e[2]=-t,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=t,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var K4=pe((Pfe,J4)=>{J4.exports=RU;function RU(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=n,e[1]=t,e[2]=0,e[3]=0,e[4]=-t,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var _p=pe((Ffe,Q4)=>{Q4.exports=DU;function DU(e,r){var t=r[0],n=r[1],a=r[2],o=r[3],i=t+t,l=n+n,u=a+a,s=t*i,f=n*i,v=n*l,p=a*i,b=a*l,y=a*u,w=o*i,M=o*l,m=o*u;return e[0]=1-v-y,e[1]=f+m,e[2]=p-M,e[3]=0,e[4]=f-m,e[5]=1-s-y,e[6]=b+w,e[7]=0,e[8]=p+M,e[9]=b-w,e[10]=1-s-v,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var j4=pe((Ife,$4)=>{$4.exports=PU;function PU(e,r,t,n,a,o,i){var l=1/(t-r),u=1/(a-n),s=1/(o-i);return e[0]=o*2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o*2*u,e[6]=0,e[7]=0,e[8]=(t+r)*l,e[9]=(a+n)*u,e[10]=(i+o)*s,e[11]=-1,e[12]=0,e[13]=0,e[14]=i*o*2*s,e[15]=0,e}});var r_=pe((Nfe,e_)=>{e_.exports=FU;function FU(e,r,t,n,a){var o=1/Math.tan(r/2),i=1/(n-a);return e[0]=o/t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(a+n)*i,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*a*n*i,e[15]=0,e}});var n_=pe((zfe,t_)=>{t_.exports=IU;function IU(e,r,t,n){var a=Math.tan(r.upDegrees*Math.PI/180),o=Math.tan(r.downDegrees*Math.PI/180),i=Math.tan(r.leftDegrees*Math.PI/180),l=Math.tan(r.rightDegrees*Math.PI/180),u=2/(i+l),s=2/(a+o);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=-((i-l)*u*.5),e[9]=(a-o)*s*.5,e[10]=n/(t-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*t/(t-n),e[15]=0,e}});var i_=pe((qfe,a_)=>{a_.exports=NU;function NU(e,r,t,n,a,o,i){var l=1/(r-t),u=1/(n-a),s=1/(o-i);return e[0]=-2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*s,e[11]=0,e[12]=(r+t)*l,e[13]=(a+n)*u,e[14]=(i+o)*s,e[15]=1,e}});var l_=pe((Ofe,o_)=>{var zU=bp();o_.exports=qU;function qU(e,r,t,n){var a,o,i,l,u,s,f,v,p,b,y=r[0],w=r[1],M=r[2],m=n[0],k=n[1],S=n[2],x=t[0],T=t[1],d=t[2];return Math.abs(y-x)<1e-6&&Math.abs(w-T)<1e-6&&Math.abs(M-d)<1e-6?zU(e):(f=y-x,v=w-T,p=M-d,b=1/Math.sqrt(f*f+v*v+p*p),f*=b,v*=b,p*=b,a=k*p-S*v,o=S*f-m*p,i=m*v-k*f,b=Math.sqrt(a*a+o*o+i*i),b?(b=1/b,a*=b,o*=b,i*=b):(a=0,o=0,i=0),l=v*i-p*o,u=p*a-f*i,s=f*o-v*a,b=Math.sqrt(l*l+u*u+s*s),b?(b=1/b,l*=b,u*=b,s*=b):(l=0,u=0,s=0),e[0]=a,e[1]=l,e[2]=f,e[3]=0,e[4]=o,e[5]=u,e[6]=v,e[7]=0,e[8]=i,e[9]=s,e[10]=p,e[11]=0,e[12]=-(a*y+o*w+i*M),e[13]=-(l*y+u*w+s*M),e[14]=-(f*y+v*w+p*M),e[15]=1,e)}});var u_=pe((Bfe,s_)=>{s_.exports=OU;function OU(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}});var wp=pe((Ufe,f_)=>{f_.exports={create:u4(),clone:c4(),copy:h4(),identity:bp(),transpose:g4(),invert:m4(),adjoint:b4(),determinant:w4(),multiply:T4(),translate:k4(),scale:C4(),rotate:L4(),rotateX:D4(),rotateY:F4(),rotateZ:N4(),fromRotation:q4(),fromRotationTranslation:B4(),fromScaling:H4(),fromTranslation:G4(),fromXRotation:W4(),fromYRotation:Z4(),fromZRotation:K4(),fromQuat:_p(),frustum:j4(),perspective:r_(),perspectiveFromFieldOfView:n_(),ortho:i_(),lookAt:l_(),str:u_()}});var Ic=pe(Ut=>{"use strict";var BU=wp();Ut.init2dArray=function(e,r){for(var t=new Array(e),n=0;n<e;n++)t[n]=new Array(r);return t};Ut.transposeRagged=function(e){var r=0,t=e.length,n,a;for(n=0;n<t;n++)r=Math.max(r,e[n].length);var o=new Array(r);for(n=0;n<r;n++)for(o[n]=new Array(t),a=0;a<t;a++)o[n][a]=e[a][n];return o};Ut.dot=function(e,r){if(!(e.length&&r.length)||e.length!==r.length)return null;var t=e.length,n,a;if(e[0].length)for(n=new Array(t),a=0;a<t;a++)n[a]=Ut.dot(e[a],r);else if(r[0].length){var o=Ut.transposeRagged(r);for(n=new Array(o.length),a=0;a<o.length;a++)n[a]=Ut.dot(e,o[a])}else for(n=0,a=0;a<t;a++)n+=e[a]*r[a];return n};Ut.translationMatrix=function(e,r){return[[1,0,e],[0,1,r],[0,0,1]]};Ut.rotationMatrix=function(e){var r=e*Math.PI/180;return[[Math.cos(r),-Math.sin(r),0],[Math.sin(r),Math.cos(r),0],[0,0,1]]};Ut.rotationXYMatrix=function(e,r,t){return Ut.dot(Ut.dot(Ut.translationMatrix(r,t),Ut.rotationMatrix(e)),Ut.translationMatrix(-r,-t))};Ut.apply3DTransform=function(e){return function(){var r=arguments,t=arguments.length===1?r[0]:[r[0],r[1],r[2]||0];return Ut.dot(e,[t[0],t[1],t[2],1]).slice(0,3)}};Ut.apply2DTransform=function(e){return function(){var r=arguments;r.length===3&&(r=r[0]);var t=arguments.length===1?r[0]:[r[0],r[1]];return Ut.dot(e,[t[0],t[1],1]).slice(0,2)}};Ut.apply2DTransform2=function(e){var r=Ut.apply2DTransform(e);return function(t){return r(t.slice(0,2)).concat(r(t.slice(2,4)))}};Ut.convertCssMatrix=function(e){if(e){var r=e.length;if(r===16)return e;if(r===6)return[e[0],e[1],0,0,e[2],e[3],0,0,0,0,1,0,e[4],e[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};Ut.inverseTransformMatrix=function(e){var r=[];return BU.invert(r,e),[[r[0],r[1],r[2],r[3]],[r[4],r[5],r[6],r[7]],[r[8],r[9],r[10],r[11]],[r[12],r[13],r[14],r[15]]]}});var ff=pe((Vfe,g_)=>{"use strict";var UU=it(),c_=Al(),HU=Ic(),VU=wp();function GU(e){var r;if(typeof e=="string"){if(r=document.getElementById(e),r===null)throw new Error("No DOM element with id '"+e+"' exists on the page.");return r}else if(e==null)throw new Error("DOM element provided is null or undefined");return e}function YU(e){var r=UU.select(e);return r.node()instanceof HTMLElement&&r.size()&&r.classed("js-plotly-plot")}function v_(e){var r=e&&e.parentNode;r&&r.removeChild(e)}function WU(e,r){h_("global",e,r)}function h_(e,r,t){var n="plotly.js-style-"+e,a=document.getElementById(n);if(!(a&&a.matches(".no-inline-styles"))){a||(a=document.createElement("style"),a.setAttribute("id",n),a.appendChild(document.createTextNode("")),document.head.appendChild(a));var o=a.sheet;o?o.insertRule?o.insertRule(r+"{"+t+"}",0):o.addRule?o.addRule(r,t,0):c_.warn("addStyleRule failed"):c_.warn("Cannot addRelatedStyleRule, probably due to strict CSP...")}}function XU(e){var r="plotly.js-style-"+e,t=document.getElementById(r);t&&v_(t)}function ZU(e,r,t,n,a,o){var i=n.split(":"),l=a.split(":"),u="data-btn-style-event-added";o||(o=document),o.querySelectorAll(e).forEach(function(s){s.getAttribute(u)||(s.addEventListener("mouseenter",function(){var f=this.querySelector(t);f&&(f.style[i[0]]=i[1])}),s.addEventListener("mouseleave",function(){var f=this.querySelector(t);f&&(r&&this.matches(r)?f.style[i[0]]=i[1]:f.style[l[0]]=l[1])}),s.setAttribute(u,!0))})}function JU(e){var r=p_(e),t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return r.forEach(function(n){var a=d_(n);if(a){var o=HU.convertCssMatrix(a);t=VU.multiply(t,t,o)}}),t}function d_(e){var r=window.getComputedStyle(e,null),t=r.getPropertyValue("-webkit-transform")||r.getPropertyValue("-moz-transform")||r.getPropertyValue("-ms-transform")||r.getPropertyValue("-o-transform")||r.getPropertyValue("transform");return t==="none"?null:t.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(n){return+n})}function p_(e){for(var r=[];KU(e);)r.push(e),e=e.parentNode,typeof ShadowRoot=="function"&&e instanceof ShadowRoot&&(e=e.host);return r}function KU(e){return e&&(e instanceof Element||e instanceof HTMLElement)}function QU(e,r){return e&&r&&e.top===r.top&&e.left===r.left&&e.right===r.right&&e.bottom===r.bottom}g_.exports={getGraphDiv:GU,isPlotDiv:YU,removeElement:v_,addStyleRule:WU,addRelatedStyleRule:h_,deleteRelatedStyleRule:XU,setStyleOnHover:ZU,getFullTransformMatrix:JU,getElementTransformMatrix:d_,getElementAndAncestors:p_,equalDomRects:QU}});var cf=pe((Gfe,y_)=>{"use strict";y_.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}});var zn=pe((Yfe,T_)=>{"use strict";var x_=Mt().extendFlat,$U=wo(),b_={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},__={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},jU=b_.flags.slice().concat(["fullReplot"]),eH=__.flags.slice().concat("layoutReplot");T_.exports={traces:b_,layout:__,traceFlags:function(){return m_(jU)},layoutFlags:function(){return m_(eH)},update:function(e,r){var t=r.editType;if(t&&t!=="none")for(var n=t.split("+"),a=0;a<n.length;a++)e[n[a]]=!0},overrideAll:w_};function m_(e){for(var r={},t=0;t<e.length;t++)r[e[t]]=!1;return r}function w_(e,r,t){var n=x_({},e);for(var a in n){var o=n[a];$U(o)&&(n[a]=M_(o,r,t,a))}return t==="from-root"&&(n.editType=r),n}function M_(e,r,t,n){if(e.valType){var a=x_({},e);if(a.editType=r,Array.isArray(e.items)){a.items=new Array(e.items.length);for(var o=0;o<e.items.length;o++)a.items[o]=M_(e.items[o],r,"from-root")}return a}else return w_(e,r,n.charAt(0)==="_"?"nested":"from-root")}});var Ao=pe(Mp=>{"use strict";Mp.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"};Mp.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}});var Tp=pe((Xfe,A_)=>{"use strict";A_.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}});var Sa=pe(Nc=>{"use strict";var k_=Tp(),Zfe=k_.FORMAT_LINK,Jfe=k_.DATE_FORMAT_LINK;function Ap(e){var r=e.description?" "+e.description:"",t=e.keys||[];if(t.length>0){for(var n=[],a=0;a<t.length;a++)n[a]="`"+t[a]+"`";r=r+"Finally, the template string has access to ",t.length===1?r=r+"variable "+n[0]:r=r+"variables "+n.slice(0,-1).join(", ")+" and "+n.slice(-1)+"."}return r}Nc.hovertemplateAttrs=function(e,r){e=e||{},r=r||{};var t=Ap(r),n={valType:"string",dflt:"",editType:e.editType||"none"};return e.arrayOk!==!1&&(n.arrayOk=!0),n};Nc.texttemplateAttrs=function(e,r){e=e||{},r=r||{};var t=Ap(r),n={valType:"string",dflt:"",editType:e.editType||"calc"};return e.arrayOk!==!1&&(n.arrayOk=!0),n};Nc.shapeTexttemplateAttrs=function(e,r){e=e||{},r=r||{};var t=e.newshape?"new ":"",n=Ap(r),a={valType:"string",dflt:"",editType:e.editType||"arraydraw"};return a}});var Oc=pe((Qfe,D_)=>{"use strict";function ko(e,r){return r?r.d2l(e):e}function S_(e,r){return r?r.l2d(e):e}function rH(e){return e.x0}function tH(e){return e.x1}function nH(e){return e.y0}function aH(e){return e.y1}function C_(e){return e.x0shift||0}function E_(e){return e.x1shift||0}function L_(e){return e.y0shift||0}function R_(e){return e.y1shift||0}function zc(e,r){return ko(e.x1,r)+E_(e)-ko(e.x0,r)-C_(e)}function qc(e,r,t){return ko(e.y1,t)+R_(e)-ko(e.y0,t)-L_(e)}function iH(e,r){return Math.abs(zc(e,r))}function oH(e,r,t){return Math.abs(qc(e,r,t))}function lH(e,r,t){return e.type!=="line"?void 0:Math.sqrt(Math.pow(zc(e,r),2)+Math.pow(qc(e,r,t),2))}function sH(e,r){return S_((ko(e.x1,r)+E_(e)+ko(e.x0,r)+C_(e))/2,r)}function uH(e,r,t){return S_((ko(e.y1,t)+R_(e)+ko(e.y0,t)+L_(e))/2,t)}function fH(e,r,t){return e.type!=="line"?void 0:qc(e,r,t)/zc(e,r)}D_.exports={x0:rH,x1:tH,y0:nH,y1:aH,slope:fH,dx:zc,dy:qc,width:iH,height:oH,length:lH,xcenter:sH,ycenter:uH}});var I_=pe(($fe,F_)=>{"use strict";var cH=zn().overrideAll,kl=Sn(),P_=kn(),vH=Ao().dash,So=Mt().extendFlat,hH=Sa().shapeTexttemplateAttrs,dH=Oc();F_.exports=cH({newshape:{visible:So({},kl.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:So({},kl.legend,{}),legendgroup:So({},kl.legendgroup,{}),legendgrouptitle:{text:So({},kl.legendgrouptitle.text,{}),font:P_({})},legendrank:So({},kl.legendrank,{}),legendwidth:So({},kl.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:So({},vH,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:So({},kl.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:hH({newshape:!0},{keys:Object.keys(dH)}),font:P_({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")});var z_=pe((jfe,N_)=>{"use strict";var pH=Ao().dash,gH=Mt().extendFlat;N_.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:gH({},pH,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}});var Bc=pe((e0e,q_)=>{"use strict";q_.exports=function(e){var r=e.editType;return{t:{valType:"number",dflt:0,editType:r},r:{valType:"number",dflt:0,editType:r},b:{valType:"number",dflt:0,editType:r},l:{valType:"number",dflt:0,editType:r},editType:r}}});var Ds=pe((r0e,H_)=>{"use strict";var kp=kn(),yH=cf(),Uc=Ti(),O_=I_(),B_=z_(),mH=Bc(),U_=Mt().extendFlat,Hc=kp({editType:"calc"});Hc.family.dflt='"Open Sans", verdana, arial, sans-serif';Hc.size.dflt=12;Hc.color.dflt=Uc.defaultLine;H_.exports={font:Hc,title:{text:{valType:"string",editType:"layoutstyle"},font:kp({editType:"layoutstyle"}),subtitle:{text:{valType:"string",editType:"layoutstyle"},font:kp({editType:"layoutstyle"}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:U_(mH({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:Uc.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:Uc.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:Uc.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:O_.newshape,activeshape:O_.activeshape,newselection:B_.newselection,activeselection:B_.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:U_({},yH.transition,{editType:"none"})}});var V_=ib(()=>{});var xH={};var G_=ib(()=>{V_()});var Er=pe(Jr=>{"use strict";var Ps=Al(),Y_=Fc(),W_=xp(),bH=wo(),_H=ff().addStyleRule,X_=Mt(),wH=Sn(),MH=Ds(),TH=X_.extendFlat,Sp=X_.extendDeepAll;Jr.modules={};Jr.allCategories={};Jr.allTypes=[];Jr.subplotsRegistry={};Jr.componentsRegistry={};Jr.layoutArrayContainers=[];Jr.layoutArrayRegexes=[];Jr.traceLayoutAttributes={};Jr.localeRegistry={};Jr.apiMethodRegistry={};Jr.collectableSubplotTypes=null;Jr.register=function(r){if(Jr.collectableSubplotTypes=null,r)r&&!Array.isArray(r)&&(r=[r]);else throw new Error("No argument passed to Plotly.register.");for(var t=0;t<r.length;t++){var n=r[t];if(!n)throw new Error("Invalid module was attempted to be registered!");switch(n.moduleType){case"trace":AH(n);break;case"transform":CH(n);break;case"component":SH(n);break;case"locale":EH(n);break;case"apiMethod":var a=n.name;Jr.apiMethodRegistry[a]=n.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}};Jr.getModule=function(e){var r=Jr.modules[Q_(e)];return r?r._module:!1};Jr.traceIs=function(e,r){if(e=Q_(e),e==="various")return!1;var t=Jr.modules[e];return t||(e&&Ps.log("Unrecognized trace type "+e+"."),t=Jr.modules[wH.type.dflt]),!!t.categories[r]};Jr.getComponentMethod=function(e,r){var t=Jr.componentsRegistry[e];return t&&t[r]||Y_};Jr.call=function(){var e=arguments[0],r=[].slice.call(arguments,1);return Jr.apiMethodRegistry[e].apply(null,r)};function AH(e){var r=e.name,t=e.categories,n=e.meta;if(Jr.modules[r]){Ps.log("Type "+r+" already registered");return}Jr.subplotsRegistry[e.basePlotModule.name]||kH(e.basePlotModule);for(var a={},o=0;o<t.length;o++)a[t[o]]=!0,Jr.allCategories[t[o]]=!0;Jr.modules[r]={_module:e,categories:a},n&&Object.keys(n).length&&(Jr.modules[r].meta=n),Jr.allTypes.push(r);for(var i in Jr.componentsRegistry)J_(i,r);e.layoutAttributes&&TH(Jr.traceLayoutAttributes,e.layoutAttributes);var l=e.basePlotModule,u=l.name;if(u==="mapbox"){var s=l.constants.styleRules;for(var f in s)_H(".js-plotly-plot .plotly .mapboxgl-"+f,s[f])}u==="map"&&(G_(),EB(xH)),(u==="geo"||u==="mapbox"||u==="map")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function kH(e){var r=e.name;if(Jr.subplotsRegistry[r]){Ps.log("Plot type "+r+" already registered.");return}Z_(e),Jr.subplotsRegistry[r]=e;for(var t in Jr.componentsRegistry)K_(t,e.name)}function SH(e){if(typeof e.name!="string")throw new Error("Component module *name* must be a string.");var r=e.name;Jr.componentsRegistry[r]=e,e.layoutAttributes&&(e.layoutAttributes._isLinkedToArray&&W_(Jr.layoutArrayContainers,r),Z_(e));for(var t in Jr.modules)J_(r,t);for(var n in Jr.subplotsRegistry)K_(r,n);e.schema&&e.schema.layout&&Sp(MH,e.schema.layout)}function CH(e){if(typeof e.name!="string")throw new Error("Transform module *name* must be a string.");var r="Transform module "+e.name,t=typeof e.transform=="function",n=typeof e.calcTransform=="function";if(!t&&!n)throw new Error(r+" is missing a *transform* or *calcTransform* method.");t&&n&&Ps.log([r+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),bH(e.attributes)||Ps.log(r+" registered without an *attributes* object."),typeof e.supplyDefaults!="function"&&Ps.log(r+" registered without a *supplyDefaults* method.")}function EH(e){var r=e.name,t=r.split("-")[0],n=e.dictionary,a=e.format,o=n&&Object.keys(n).length,i=a&&Object.keys(a).length,l=Jr.localeRegistry,u=l[r];if(u||(l[r]=u={}),t!==r){var s=l[t];s||(l[t]=s={}),o&&s.dictionary===u.dictionary&&(s.dictionary=n),i&&s.format===u.format&&(s.format=a)}o&&(u.dictionary=n),i&&(u.format=a)}function Z_(e){if(e.layoutAttributes){var r=e.layoutAttributes._arrayAttrRegexps;if(r)for(var t=0;t<r.length;t++)W_(Jr.layoutArrayRegexes,r[t])}}function J_(e,r){var t=Jr.componentsRegistry[e].schema;if(!(!t||!t.traces)){var n=t.traces[r];n&&Sp(Jr.modules[r]._module.attributes,n)}}function K_(e,r){var t=Jr.componentsRegistry[e].schema;if(!(!t||!t.subplots)){var n=Jr.subplotsRegistry[r],a=n.layoutAttributes,o=n.attr==="subplot"?n.name:n.attr;Array.isArray(o)&&(o=o[0]);var i=t.subplots[o];a&&i&&Sp(a,i)}}function Q_(e){return typeof e=="object"&&(e=e.type),e}});var o6=pe(Ht=>{"use strict";var LH=ks().timeFormat,a6=rt(),Cp=Al(),Eo=Cs().mod,Ns=nn(),Ca=Ns.BADNUM,na=Ns.ONEDAY,vf=Ns.ONEHOUR,Co=Ns.ONEMIN,Is=Ns.ONESEC,hf=Ns.EPOCHJD,Zi=Er(),$_=ks().utcFormat,RH=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,DH=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,j_=new Date().getFullYear()-70;function Ji(e){return e&&Zi.componentsRegistry.calendars&&typeof e=="string"&&e!=="gregorian"}Ht.dateTick0=function(e,r){var t=PH(e,!!r);if(r<2)return t;var n=Ht.dateTime2ms(t,e);return n+=na*(r-1),Ht.ms2DateTime(n,0,e)};function PH(e,r){return Ji(e)?r?Zi.getComponentMethod("calendars","CANONICAL_SUNDAY")[e]:Zi.getComponentMethod("calendars","CANONICAL_TICK")[e]:r?"2000-01-02":"2000-01-01"}Ht.dfltRange=function(e){return Ji(e)?Zi.getComponentMethod("calendars","DFLTRANGE")[e]:["2000-01-01","2001-01-01"]};Ht.isJSDate=function(e){return typeof e=="object"&&e!==null&&typeof e.getTime=="function"};var Gc,Yc;Ht.dateTime2ms=function(e,r){if(Ht.isJSDate(e)){var t=e.getTimezoneOffset()*Co,n=(e.getUTCMinutes()-e.getMinutes())*Co+(e.getUTCSeconds()-e.getSeconds())*Is+(e.getUTCMilliseconds()-e.getMilliseconds());if(n){var a=3*Co;t=t-a/2+Eo(n-t+a/2,a)}return e=Number(e)-t,e>=Gc&&e<=Yc?e:Ca}if(typeof e!="string"&&typeof e!="number")return Ca;e=String(e);var o=Ji(r),i=e.charAt(0);o&&(i==="G"||i==="g")&&(e=e.substr(1),r="");var l=o&&r.substr(0,7)==="chinese",u=e.match(l?DH:RH);if(!u)return Ca;var s=u[1],f=u[3]||"1",v=Number(u[5]||1),p=Number(u[7]||0),b=Number(u[9]||0),y=Number(u[11]||0);if(o){if(s.length===2)return Ca;s=Number(s);var w;try{var M=Zi.getComponentMethod("calendars","getCal")(r);if(l){var m=f.charAt(f.length-1)==="i";f=parseInt(f,10),w=M.newDate(s,M.toMonthIndex(s,f,m),v)}else w=M.newDate(s,Number(f),v)}catch(S){return Ca}return w?(w.toJD()-hf)*na+p*vf+b*Co+y*Is:Ca}s.length===2?s=(Number(s)+2e3-j_)%100+j_:s=Number(s),f-=1;var k=new Date(Date.UTC(2e3,f,v,p,b));return k.setUTCFullYear(s),k.getUTCMonth()!==f||k.getUTCDate()!==v?Ca:k.getTime()+y*Is};Gc=Ht.MIN_MS=Ht.dateTime2ms("-9999");Yc=Ht.MAX_MS=Ht.dateTime2ms("9999-12-31 23:59:59.9999");Ht.isDateTime=function(e,r){return Ht.dateTime2ms(e,r)!==Ca};function Fs(e,r){return String(e+Math.pow(10,r)).substr(1)}var Vc=90*na,e6=3*vf,r6=5*Co;Ht.ms2DateTime=function(e,r,t){if(typeof e!="number"||!(e>=Gc&&e<=Yc))return Ca;r||(r=0);var n=Math.floor(Eo(e+.05,1)*10),a=Math.round(e-n/10),o,i,l,u,s,f;if(Ji(t)){var v=Math.floor(a/na)+hf,p=Math.floor(Eo(e,na));try{o=Zi.getComponentMethod("calendars","getCal")(t).fromJD(v).formatDate("yyyy-mm-dd")}catch(b){o=$_("G%Y-%m-%d")(new Date(a))}if(o.charAt(0)==="-")for(;o.length<11;)o="-0"+o.substr(1);else for(;o.length<10;)o="0"+o;i=r<Vc?Math.floor(p/vf):0,l=r<Vc?Math.floor(p%vf/Co):0,u=r<e6?Math.floor(p%Co/Is):0,s=r<r6?p%Is*10+n:0}else f=new Date(a),o=$_("%Y-%m-%d")(f),i=r<Vc?f.getUTCHours():0,l=r<Vc?f.getUTCMinutes():0,u=r<e6?f.getUTCSeconds():0,s=r<r6?f.getUTCMilliseconds()*10+n:0;return i6(o,i,l,u,s)};Ht.ms2DateTimeLocal=function(e){if(!(e>=Gc+na&&e<=Yc-na))return Ca;var r=Math.floor(Eo(e+.05,1)*10),t=new Date(Math.round(e-r/10)),n=LH("%Y-%m-%d")(t),a=t.getHours(),o=t.getMinutes(),i=t.getSeconds(),l=t.getUTCMilliseconds()*10+r;return i6(n,a,o,i,l)};function i6(e,r,t,n,a){if((r||t||n||a)&&(e+=" "+Fs(r,2)+":"+Fs(t,2),(n||a)&&(e+=":"+Fs(n,2),a))){for(var o=4;a%10===0;)o-=1,a/=10;e+="."+Fs(a,o)}return e}Ht.cleanDate=function(e,r,t){if(e===Ca)return r;if(Ht.isJSDate(e)||typeof e=="number"&&isFinite(e)){if(Ji(t))return Cp.error("JS Dates and milliseconds are incompatible with world calendars",e),r;if(e=Ht.ms2DateTimeLocal(+e),!e&&r!==void 0)return r}else if(!Ht.isDateTime(e,t))return Cp.error("unrecognized date",e),r;return e};var FH=/%\d?f/g,IH=/%h/g,NH={1:"1",2:"1",3:"2",4:"2"};function t6(e,r,t,n){e=e.replace(FH,function(o){var i=Math.min(+o.charAt(1)||6,6),l=(r/1e3%1+2).toFixed(i).substr(2).replace(/0+$/,"")||"0";return l});var a=new Date(Math.floor(r+.05));if(e=e.replace(IH,function(){return NH[t("%q")(a)]}),Ji(n))try{e=Zi.getComponentMethod("calendars","worldCalFmt")(e,r,n)}catch(o){return"Invalid"}return t(e)(a)}var zH=[59,59.9,59.99,59.999,59.9999];function qH(e,r){var t=Eo(e+.05,na),n=Fs(Math.floor(t/vf),2)+":"+Fs(Eo(Math.floor(t/Co),60),2);if(r!=="M"){a6(r)||(r=0);var a=Math.min(Eo(e/Is,60),zH[r]),o=(100+a).toFixed(r).substr(1);r>0&&(o=o.replace(/0+$/,"").replace(/[\.]$/,"")),n+=":"+o}return n}Ht.formatDate=function(e,r,t,n,a,o){if(a=Ji(a)&&a,!r)if(t==="y")r=o.year;else if(t==="m")r=o.month;else if(t==="d")r=o.dayMonth+`
`+o.year;else return qH(e,t)+`
`+t6(o.dayMonthYear,e,n,a);return t6(r,e,n,a)};var n6=3*na;Ht.incrementMonth=function(e,r,t){t=Ji(t)&&t;var n=Eo(e,na);if(e=Math.round(e-n),t)try{var a=Math.round(e/na)+hf,o=Zi.getComponentMethod("calendars","getCal")(t),i=o.fromJD(a);return r%12?o.add(i,r,"m"):o.add(i,r/12,"y"),(i.toJD()-hf)*na+n}catch(u){Cp.error("invalid ms "+e+" in calendar "+t)}var l=new Date(e+n6);return l.setUTCMonth(l.getUTCMonth()+r)+n-n6};Ht.findExactDates=function(e,r){for(var t=0,n=0,a=0,o=0,i,l,u=Ji(r)&&Zi.getComponentMethod("calendars","getCal")(r),s=0;s<e.length;s++){if(l=e[s],!a6(l)){o++;continue}if(!(l%na))if(u)try{i=u.fromJD(l/na+hf),i.day()===1?i.month()===1?t++:n++:a++}catch(v){}else i=new Date(l),i.getUTCDate()===1?i.getUTCMonth()===0?t++:n++:a++}n+=t,a+=n;var f=e.length-o;return{exactYears:t/f,exactMonths:n/f,exactDays:a/f}}});var Ep=pe((l0e,l6)=>{"use strict";l6.exports=function(r){return r}});var Rp=pe(Ki=>{"use strict";var OH=rt(),BH=Al(),UH=Ep(),HH=nn().BADNUM,Lp=1e-9;Ki.findBin=function(e,r,t){if(OH(r.start))return t?Math.ceil((e-r.start)/r.size-Lp)-1:Math.floor((e-r.start)/r.size+Lp);var n=0,a=r.length,o=0,i=a>1?(r[a-1]-r[0])/(a-1):1,l,u;for(i>=0?u=t?VH:GH:u=t?WH:YH,e+=i*Lp*(t?-1:1)*(i>=0?1:-1);n<a&&o++<100;)l=Math.floor((n+a)/2),u(r[l],e)?n=l+1:a=l;return o>90&&BH.log("Long binary search..."),n-1};function VH(e,r){return e<r}function GH(e,r){return e<=r}function YH(e,r){return e>r}function WH(e,r){return e>=r}Ki.sorterAsc=function(e,r){return e-r};Ki.sorterDes=function(e,r){return r-e};Ki.distinctVals=function(e){var r=e.slice();r.sort(Ki.sorterAsc);var t;for(t=r.length-1;t>-1&&r[t]===HH;t--);for(var n=r[t]-r[0]||1,a=n/(t||1)/1e4,o=[],i,l=0;l<=t;l++){var u=r[l],s=u-i;i===void 0?(o.push(u),i=u):s>a&&(n=Math.min(n,s),o.push(u),i=u)}return{vals:o,minDiff:n}};Ki.roundUp=function(e,r,t){for(var n=0,a=r.length-1,o,i=0,l=t?0:1,u=t?1:0,s=t?Math.ceil:Math.floor;n<a&&i++<100;)o=s((n+a)/2),r[o]<=e?n=o+l:a=o-u;return r[n]};Ki.sort=function(e,r){for(var t=0,n=0,a=1;a<e.length;a++){var o=r(e[a],e[a-1]);if(o<0?t=1:o>0&&(n=1),t&&n)return e.sort(r)}return n?e:e.reverse()};Ki.findIndexOfMin=function(e,r){r=r||UH;for(var t=1/0,n,a=0;a<e.length;a++){var o=r(e[a]);o<t&&(t=o,n=a)}return n}});var Wc=pe((u0e,s6)=>{"use strict";s6.exports=function(r){return Object.keys(r).sort()}});var u6=pe(Vt=>{"use strict";var df=rt(),XH=ea().isArrayOrTypedArray;Vt.aggNums=function(e,r,t,n){var a,o;if((!n||n>t.length)&&(n=t.length),df(r)||(r=!1),XH(t[0])){for(o=new Array(n),a=0;a<n;a++)o[a]=Vt.aggNums(e,r,t[a]);t=o}for(a=0;a<n;a++)df(r)?df(t[a])&&(r=e(+r,+t[a])):r=t[a];return r};Vt.len=function(e){return Vt.aggNums(function(r){return r+1},0,e)};Vt.mean=function(e,r){return r||(r=Vt.len(e)),Vt.aggNums(function(t,n){return t+n},0,e)/r};Vt.geometricMean=function(e,r){return r||(r=Vt.len(e)),Math.pow(Vt.aggNums(function(t,n){return t*n},1,e),1/r)};Vt.midRange=function(e){if(!(e===void 0||e.length===0))return(Vt.aggNums(Math.max,null,e)+Vt.aggNums(Math.min,null,e))/2};Vt.variance=function(e,r,t){return r||(r=Vt.len(e)),df(t)||(t=Vt.mean(e,r)),Vt.aggNums(function(n,a){return n+Math.pow(a-t,2)},0,e)/r};Vt.stdev=function(e,r,t){return Math.sqrt(Vt.variance(e,r,t))};Vt.median=function(e){var r=e.slice().sort();return Vt.interp(r,.5)};Vt.interp=function(e,r){if(!df(r))throw"n should be a finite number";if(r=r*e.length-.5,r<0)return e[0];if(r>e.length-1)return e[e.length-1];var t=r%1;return t*e[Math.ceil(r)]+(1-t)*e[Math.floor(r)]}});var d6=pe((c0e,h6)=>{"use strict";var f6=Cs(),Dp=f6.mod,ZH=f6.modHalf,pf=Math.PI,Lo=2*pf;function JH(e){return e/180*pf}function KH(e){return e/pf*180}function Pp(e){return Math.abs(e[1]-e[0])>Lo-1e-14}function c6(e,r){return ZH(r-e,Lo)}function QH(e,r){return Math.abs(c6(e,r))}function v6(e,r){if(Pp(r))return!0;var t,n;r[0]<r[1]?(t=r[0],n=r[1]):(t=r[1],n=r[0]),t=Dp(t,Lo),n=Dp(n,Lo),t>n&&(n+=Lo);var a=Dp(e,Lo),o=a+Lo;return a>=t&&a<=n||o>=t&&o<=n}function $H(e,r,t,n){if(!v6(r,n))return!1;var a,o;return t[0]<t[1]?(a=t[0],o=t[1]):(a=t[1],o=t[0]),e>=a&&e<=o}function Fp(e,r,t,n,a,o,i){a=a||0,o=o||0;var l=Pp([t,n]),u,s,f,v,p;l?(u=0,s=pf,f=Lo):t<n?(u=t,f=n):(u=n,f=t),e<r?(v=e,p=r):(v=r,p=e);function b(m,k){return[m*Math.cos(k)+a,o-m*Math.sin(k)]}var y=Math.abs(f-u)<=pf?0:1;function w(m,k,S){return"A"+[m,m]+" "+[0,y,S]+" "+b(m,k)}var M;return l?v===null?M="M"+b(p,u)+w(p,s,0)+w(p,f,0)+"Z":M="M"+b(v,u)+w(v,s,0)+w(v,f,0)+"ZM"+b(p,u)+w(p,s,1)+w(p,f,1)+"Z":v===null?(M="M"+b(p,u)+w(p,f,0),i&&(M+="L0,0Z")):M="M"+b(v,u)+"L"+b(p,u)+w(p,f,0)+"L"+b(v,f)+w(v,u,1)+"Z",M}function jH(e,r,t,n,a){return Fp(null,e,r,t,n,a,0)}function eV(e,r,t,n,a){return Fp(null,e,r,t,n,a,1)}function rV(e,r,t,n,a,o){return Fp(e,r,t,n,a,o,1)}h6.exports={deg2rad:JH,rad2deg:KH,angleDelta:c6,angleDist:QH,isFullCircle:Pp,isAngleInsideSector:v6,isPtInsideSector:$H,pathArc:jH,pathSector:eV,pathAnnulus:rV}});var p6=pe(Sl=>{"use strict";Sl.isLeftAnchor=function(r){return r.xanchor==="left"||r.xanchor==="auto"&&r.x<=1/3};Sl.isCenterAnchor=function(r){return r.xanchor==="center"||r.xanchor==="auto"&&r.x>1/3&&r.x<2/3};Sl.isRightAnchor=function(r){return r.xanchor==="right"||r.xanchor==="auto"&&r.x>=2/3};Sl.isTopAnchor=function(r){return r.yanchor==="top"||r.yanchor==="auto"&&r.y>=2/3};Sl.isMiddleAnchor=function(r){return r.yanchor==="middle"||r.yanchor==="auto"&&r.y>1/3&&r.y<2/3};Sl.isBottomAnchor=function(r){return r.yanchor==="bottom"||r.yanchor==="auto"&&r.y<=1/3}});var m6=pe(Cl=>{"use strict";var Ip=Cs().mod;Cl.segmentsIntersect=y6;function y6(e,r,t,n,a,o,i,l){var u=t-e,s=a-e,f=i-a,v=n-r,p=o-r,b=l-o,y=u*b-f*v;if(y===0)return null;var w=(s*b-f*p)/y,M=(s*v-u*p)/y;return M<0||M>1||w<0||w>1?null:{x:e+u*w,y:r+v*w}}Cl.segmentDistance=function(r,t,n,a,o,i,l,u){if(y6(r,t,n,a,o,i,l,u))return 0;var s=n-r,f=a-t,v=l-o,p=u-i,b=s*s+f*f,y=v*v+p*p,w=Math.min(Xc(s,f,b,o-r,i-t),Xc(s,f,b,l-r,u-t),Xc(v,p,y,r-o,t-i),Xc(v,p,y,n-o,a-i));return Math.sqrt(w)};function Xc(e,r,t,n,a){var o=n*e+a*r;if(o<0)return n*n+a*a;if(o>t){var i=n-e,l=a-r;return i*i+l*l}else{var u=n*r-a*e;return u*u/t}}var Zc,Np,g6;Cl.getTextLocation=function(r,t,n,a){if((r!==Np||a!==g6)&&(Zc={},Np=r,g6=a),Zc[n])return Zc[n];var o=r.getPointAtLength(Ip(n-a/2,t)),i=r.getPointAtLength(Ip(n+a/2,t)),l=Math.atan((i.y-o.y)/(i.x-o.x)),u=r.getPointAtLength(Ip(n,t)),s=(u.x*4+o.x+i.x)/6,f=(u.y*4+o.y+i.y)/6,v={x:s,y:f,theta:l};return Zc[n]=v,v};Cl.clearLocationCache=function(){Np=null};Cl.getVisibleSegment=function(r,t,n){var a=t.left,o=t.right,i=t.top,l=t.bottom,u=0,s=r.getTotalLength(),f=s,v,p;function b(w){var M=r.getPointAtLength(w);w===0?v=M:w===s&&(p=M);var m=M.x<a?a-M.x:M.x>o?M.x-o:0,k=M.y<i?i-M.y:M.y>l?M.y-l:0;return Math.sqrt(m*m+k*k)}for(var y=b(u);y;){if(u+=y+n,u>f)return;y=b(u)}for(y=b(f);y;){if(f-=y+n,u>f)return;y=b(f)}return{min:u,max:f,len:f-u,total:s,isClosed:u===0&&f===s&&Math.abs(v.x-p.x)<.1&&Math.abs(v.y-p.y)<.1}};Cl.findPointOnPath=function(r,t,n,a){a=a||{};for(var o=a.pathLength||r.getTotalLength(),i=a.tolerance||.001,l=a.iterationLimit||30,u=r.getPointAtLength(0)[n]>r.getPointAtLength(o)[n]?-1:1,s=0,f=0,v=o,p,b,y;s<l;){if(p=(f+v)/2,b=r.getPointAtLength(p),y=b[n]-t,Math.abs(y)<i)return b;u*y>0?v=p:f=p,s++}return b}});var Jc=pe(gf=>{"use strict";var Qi={};gf.throttle=function(r,t,n){var a=Qi[r],o=Date.now();if(!a){for(var i in Qi)Qi[i].ts<o-6e4&&delete Qi[i];a=Qi[r]={ts:0,timer:null}}x6(a);function l(){n(),a.ts=Date.now(),a.onDone&&(a.onDone(),a.onDone=null)}if(o>a.ts+t){l();return}a.timer=setTimeout(function(){l(),a.timer=null},t)};gf.done=function(e){var r=Qi[e];return!r||!r.timer?Promise.resolve():new Promise(function(t){var n=r.onDone;r.onDone=function(){n&&n(),t(),r.onDone=null}})};gf.clear=function(e){if(e)x6(Qi[e]),delete Qi[e];else for(var r in Qi)gf.clear(r)};function x6(e){e&&e.timer!==null&&(clearTimeout(e.timer),e.timer=null)}});var _6=pe((p0e,b6)=>{"use strict";b6.exports=function(r){r._responsiveChartHandler&&(window.removeEventListener("resize",r._responsiveChartHandler),delete r._responsiveChartHandler)}});var w6=pe((g0e,Kc)=>{"use strict";Kc.exports=zp;Kc.exports.isMobile=zp;Kc.exports.default=zp;var tV=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,nV=/CrOS/,aV=/android|ipad|playbook|silk/i;function zp(e){e||(e={});let r=e.ua;if(!r&&typeof navigator!="undefined"&&(r=navigator.userAgent),r&&r.headers&&typeof r.headers["user-agent"]=="string"&&(r=r.headers["user-agent"]),typeof r!="string")return!1;let t=tV.test(r)&&!nV.test(r)||!!e.tablet&&aV.test(r);return!t&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&r.indexOf("Macintosh")!==-1&&r.indexOf("Safari")!==-1&&(t=!0),t}});var T6=pe((y0e,M6)=>{"use strict";var iV=rt(),oV=w6();M6.exports=function(r){var t;if(r&&r.hasOwnProperty("userAgent")?t=r.userAgent:t=lV(),typeof t!="string")return!0;var n=oV({ua:{headers:{"user-agent":t}},tablet:!0,featureDetect:!1});if(!n)for(var a=t.split(" "),o=1;o<a.length;o++){var i=a[o];if(i.indexOf("Safari")!==-1)for(var l=o-1;l>-1;l--){var u=a[l];if(u.substr(0,8)==="Version/"){var s=u.substr(8).split(".")[0];if(iV(s)&&(s=+s),s>=13)return!0}}}return n};function lV(){var e;return typeof navigator!="undefined"&&(e=navigator.userAgent),e&&e.headers&&typeof e.headers["user-agent"]=="string"&&(e=e.headers["user-agent"]),e}});var k6=pe((m0e,A6)=>{"use strict";var sV=it();A6.exports=function(r,t,n){var a=r.selectAll("g."+n.replace(/\s/g,".")).data(t,function(i){return i[0].trace.uid});a.exit().remove(),a.enter().append("g").attr("class",n),a.order();var o=r.classed("rangeplot")?"nodeRangePlot3":"node3";return a.each(function(i){i[0][o]=sV.select(this)}),a}});var C6=pe((x0e,S6)=>{"use strict";var uV=Er();S6.exports=function(r,t){for(var n=r._context.locale,a=0;a<2;a++){for(var o=r._context.locales,i=0;i<2;i++){var l=(o[n]||{}).dictionary;if(l){var u=l[t];if(u)return u}o=uV.localeRegistry}var s=n.split("-")[0];if(s===n)break;n=s}return t}});var L6=pe((b0e,E6)=>{"use strict";E6.exports=function(r){for(var t={},n=[],a=0,o=0;o<r.length;o++){var i=r[o];t[i]!==1&&(t[i]=1,n[a++]=i)}return n}});var D6=pe((_0e,R6)=>{"use strict";R6.exports=function(r){for(var t=vV(r)?cV:fV,n=[],a=0;a<r.length;a++){var o=r[a];t(o)&&n.push(o)}return n};function fV(e){return e.visible===!0}function cV(e){var r=e[0].trace;return r.visible===!0&&r._length!==0}function vV(e){return Array.isArray(e)&&Array.isArray(e[0])&&e[0][0]&&e[0][0].trace}});var F6=pe((w0e,P6)=>{"use strict";P6.exports=function(r,t){if(!t)return r;var n=1/Math.abs(t),a=n>1?(n*r+n*t)/n:r+t,o=String(a).length;if(o>16){var i=String(t).length,l=String(r).length;if(o>=l+i){var u=parseFloat(a).toPrecision(12);u.indexOf("e+")===-1&&(a=+u)}}return a}});var N6=pe((M0e,I6)=>{"use strict";var hV=rt(),dV=nn().BADNUM,pV=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;I6.exports=function(r){return typeof r=="string"&&(r=r.replace(pV,"")),hV(r)?Number(r):dV}});var ir=pe((T0e,J6)=>{"use strict";var yf=it(),gV=ks().utcFormat,yV=ip().format,H6=rt(),V6=nn(),G6=V6.FP_SAFE,mV=-G6,z6=V6.BADNUM,Je=J6.exports={};Je.adjustFormat=function(r){return!r||/^\d[.]\df/.test(r)||/[.]\d%/.test(r)?r:r==="0.f"?"~f":/^\d%/.test(r)?"~%":/^\ds/.test(r)?"~s":!/^[~,.0$]/.test(r)&&/[&fps]/.test(r)?"~"+r:r};var q6={};Je.warnBadFormat=function(e){var r=String(e);q6[r]||(q6[r]=1,Je.warn('encountered bad format: "'+r+'"'))};Je.noFormat=function(e){return String(e)};Je.numberFormat=function(e){var r;try{r=yV(Je.adjustFormat(e))}catch(t){return Je.warnBadFormat(e),Je.noFormat}return r};Je.nestedProperty=Mc();Je.keyedContainer=Cb();Je.relativeAttr=Lb();Je.isPlainObject=wo();Je.toLogRange=Ac();Je.relinkPrivateKeys=Fb();var Ro=ea();Je.isArrayBuffer=Ro.isArrayBuffer;Je.isTypedArray=Ro.isTypedArray;Je.isArrayOrTypedArray=Ro.isArrayOrTypedArray;Je.isArray1D=Ro.isArray1D;Je.ensureArray=Ro.ensureArray;Je.concat=Ro.concat;Je.maxRowLength=Ro.maxRowLength;Je.minRowLength=Ro.minRowLength;var Y6=Cs();Je.mod=Y6.mod;Je.modHalf=Y6.modHalf;var Do=jb();Je.valObjectMeta=Do.valObjectMeta;Je.coerce=Do.coerce;Je.coerce2=Do.coerce2;Je.coerceFont=Do.coerceFont;Je.coercePattern=Do.coercePattern;Je.coerceHoverinfo=Do.coerceHoverinfo;Je.coerceSelectionMarkerOpacity=Do.coerceSelectionMarkerOpacity;Je.validate=Do.validate;var da=o6();Je.dateTime2ms=da.dateTime2ms;Je.isDateTime=da.isDateTime;Je.ms2DateTime=da.ms2DateTime;Je.ms2DateTimeLocal=da.ms2DateTimeLocal;Je.cleanDate=da.cleanDate;Je.isJSDate=da.isJSDate;Je.formatDate=da.formatDate;Je.incrementMonth=da.incrementMonth;Je.dateTick0=da.dateTick0;Je.dfltRange=da.dfltRange;Je.findExactDates=da.findExactDates;Je.MIN_MS=da.MIN_MS;Je.MAX_MS=da.MAX_MS;var El=Rp();Je.findBin=El.findBin;Je.sorterAsc=El.sorterAsc;Je.sorterDes=El.sorterDes;Je.distinctVals=El.distinctVals;Je.roundUp=El.roundUp;Je.sort=El.sort;Je.findIndexOfMin=El.findIndexOfMin;Je.sortObjectKeys=Wc();var $i=u6();Je.aggNums=$i.aggNums;Je.len=$i.len;Je.mean=$i.mean;Je.geometricMean=$i.geometricMean;Je.median=$i.median;Je.midRange=$i.midRange;Je.variance=$i.variance;Je.stdev=$i.stdev;Je.interp=$i.interp;var Ka=Ic();Je.init2dArray=Ka.init2dArray;Je.transposeRagged=Ka.transposeRagged;Je.dot=Ka.dot;Je.translationMatrix=Ka.translationMatrix;Je.rotationMatrix=Ka.rotationMatrix;Je.rotationXYMatrix=Ka.rotationXYMatrix;Je.apply3DTransform=Ka.apply3DTransform;Je.apply2DTransform=Ka.apply2DTransform;Je.apply2DTransform2=Ka.apply2DTransform2;Je.convertCssMatrix=Ka.convertCssMatrix;Je.inverseTransformMatrix=Ka.inverseTransformMatrix;var ki=d6();Je.deg2rad=ki.deg2rad;Je.rad2deg=ki.rad2deg;Je.angleDelta=ki.angleDelta;Je.angleDist=ki.angleDist;Je.isFullCircle=ki.isFullCircle;Je.isAngleInsideSector=ki.isAngleInsideSector;Je.isPtInsideSector=ki.isPtInsideSector;Je.pathArc=ki.pathArc;Je.pathSector=ki.pathSector;Je.pathAnnulus=ki.pathAnnulus;var qs=p6();Je.isLeftAnchor=qs.isLeftAnchor;Je.isCenterAnchor=qs.isCenterAnchor;Je.isRightAnchor=qs.isRightAnchor;Je.isTopAnchor=qs.isTopAnchor;Je.isMiddleAnchor=qs.isMiddleAnchor;Je.isBottomAnchor=qs.isBottomAnchor;var Os=m6();Je.segmentsIntersect=Os.segmentsIntersect;Je.segmentDistance=Os.segmentDistance;Je.getTextLocation=Os.getTextLocation;Je.clearLocationCache=Os.clearLocationCache;Je.getVisibleSegment=Os.getVisibleSegment;Je.findPointOnPath=Os.findPointOnPath;var jc=Mt();Je.extendFlat=jc.extendFlat;Je.extendDeep=jc.extendDeep;Je.extendDeepAll=jc.extendDeepAll;Je.extendDeepNoArrays=jc.extendDeepNoArrays;var qp=Al();Je.log=qp.log;Je.warn=qp.warn;Je.error=qp.error;var xV=Es();Je.counterRegex=xV.counter;var Op=Jc();Je.throttle=Op.throttle;Je.throttleDone=Op.done;Je.clearThrottle=Op.clear;var Qa=ff();Je.getGraphDiv=Qa.getGraphDiv;Je.isPlotDiv=Qa.isPlotDiv;Je.removeElement=Qa.removeElement;Je.addStyleRule=Qa.addStyleRule;Je.addRelatedStyleRule=Qa.addRelatedStyleRule;Je.deleteRelatedStyleRule=Qa.deleteRelatedStyleRule;Je.setStyleOnHover=Qa.setStyleOnHover;Je.getFullTransformMatrix=Qa.getFullTransformMatrix;Je.getElementTransformMatrix=Qa.getElementTransformMatrix;Je.getElementAndAncestors=Qa.getElementAndAncestors;Je.equalDomRects=Qa.equalDomRects;Je.clearResponsive=_6();Je.preserveDrawingBuffer=T6();Je.makeTraceGroups=k6();Je._=C6();Je.notifier=gp();Je.filterUnique=L6();Je.filterVisible=D6();Je.pushUnique=xp();Je.increment=F6();Je.cleanNumber=N6();Je.ensureNumber=function(r){return H6(r)?(r=Number(r),r>G6||r<mV?z6:r):z6};Je.isIndex=function(e,r){return r!==void 0&&e>=r?!1:H6(e)&&e>=0&&e%1===0};Je.noop=Fc();Je.identity=Ep();Je.repeat=function(e,r){for(var t=new Array(r),n=0;n<r;n++)t[n]=e;return t};Je.swapAttrs=function(e,r,t,n){t||(t="x"),n||(n="y");for(var a=0;a<r.length;a++){var o=r[a],i=Je.nestedProperty(e,o.replace("?",t)),l=Je.nestedProperty(e,o.replace("?",n)),u=i.get();i.set(l.get()),l.set(u)}};Je.raiseToTop=function(r){r.parentNode.appendChild(r)};Je.cancelTransition=function(e){return e.transition().duration(0)};Je.constrain=function(e,r,t){return r>t?Math.max(t,Math.min(r,e)):Math.max(r,Math.min(t,e))};Je.bBoxIntersect=function(e,r,t){return t=t||0,e.left<=r.right+t&&r.left<=e.right+t&&e.top<=r.bottom+t&&r.top<=e.bottom+t};Je.simpleMap=function(e,r,t,n,a){for(var o=e.length,i=new Array(o),l=0;l<o;l++)i[l]=r(e[l],t,n,a);return i};Je.randstr=function e(r,t,n,a){if(n||(n=16),t===void 0&&(t=24),t<=0)return"0";var o=Math.log(Math.pow(2,t))/Math.log(n),i="",l,u,s;for(l=2;o===1/0;l*=2)o=Math.log(Math.pow(2,t/l))/Math.log(n)*l;var f=o-Math.floor(o);for(l=0;l<Math.floor(o);l++)s=Math.floor(Math.random()*n).toString(n),i=s+i;f&&(u=Math.pow(n,f),s=Math.floor(Math.random()*u).toString(n),i=s+i);var v=parseInt(i,n);return r&&r[i]||v!==1/0&&v>=Math.pow(2,t)?a>10?(Je.warn("randstr failed uniqueness"),i):e(r,t,n,(a||0)+1):i};Je.OptionControl=function(e,r){e||(e={}),r||(r="opt");var t={};return t.optionList=[],t._newoption=function(n){n[r]=e,t[n.name]=n,t.optionList.push(n)},t["_"+r]=e,t};Je.smooth=function(e,r){if(r=Math.round(r)||0,r<2)return e;var t=e.length,n=2*t,a=2*r-1,o=new Array(a),i=new Array(t),l,u,s,f;for(l=0;l<a;l++)o[l]=(1-Math.cos(Math.PI*(l+1)/r))/(2*r);for(l=0;l<t;l++){for(f=0,u=0;u<a;u++)s=l+u+1-r,s<-t?s-=n*Math.round(s/n):s>=n&&(s-=n*Math.floor(s/n)),s<0?s=-1-s:s>=t&&(s=n-1-s),f+=e[s]*o[u];i[l]=f}return i};Je.syncOrAsync=function(e,r,t){var n,a;function o(){return Je.syncOrAsync(e,r,t)}for(;e.length;)if(a=e.splice(0,1)[0],n=a(r),n&&n.then)return n.then(o);return t&&t(r)};Je.stripTrailingSlash=function(e){return e.substr(-1)==="/"?e.substr(0,e.length-1):e};Je.noneOrAll=function(e,r,t){if(e){var n=!1,a=!0,o,i;for(o=0;o<t.length;o++)i=e[t[o]],i!=null?n=!0:a=!1;if(n&&!a)for(o=0;o<t.length;o++)e[t[o]]=r[t[o]]}};Je.mergeArray=function(e,r,t,n){var a=typeof n=="function";if(Je.isArrayOrTypedArray(e))for(var o=Math.min(e.length,r.length),i=0;i<o;i++){var l=e[i];r[i][t]=a?n(l):l}};Je.mergeArrayCastPositive=function(e,r,t){return Je.mergeArray(e,r,t,function(n){var a=+n;return isFinite(a)&&a>0?a:0})};Je.fillArray=function(e,r,t,n){if(n=n||Je.identity,Je.isArrayOrTypedArray(e))for(var a=0;a<r.length;a++)r[a][t]=n(e[a])};Je.castOption=function(e,r,t,n){n=n||Je.identity;var a=Je.nestedProperty(e,t).get();return Je.isArrayOrTypedArray(a)?Array.isArray(r)&&Je.isArrayOrTypedArray(a[r[0]])?n(a[r[0]][r[1]]):n(a[r]):a};Je.extractOption=function(e,r,t,n){if(t in e)return e[t];var a=Je.nestedProperty(r,n).get();if(!Array.isArray(a))return a};function W6(e){var r={};for(var t in e)for(var n=e[t],a=0;a<n.length;a++)r[n[a]]=+t;return r}Je.tagSelected=function(e,r,t){var n=r.selectedpoints,a=r._indexToPoints,o;a&&(o=W6(a));function i(v){return v!==void 0&&v<e.length}for(var l=0;l<n.length;l++){var u=n[l];if(Je.isIndex(u)||Je.isArrayOrTypedArray(u)&&Je.isIndex(u[0])&&Je.isIndex(u[1])){var s=o?o[u]:u,f=t?t[s]:s;i(f)&&(e[f].selected=1)}}};Je.selIndices2selPoints=function(e){var r=e.selectedpoints,t=e._indexToPoints;if(t){for(var n=W6(t),a=[],o=0;o<r.length;o++){var i=r[o];if(Je.isIndex(i)){var l=n[i];Je.isIndex(l)&&a.push(l)}}return a}else return r};Je.getTargetArray=function(e,r){var t=r.target;if(typeof t=="string"&&t){var n=Je.nestedProperty(e,t).get();return Je.isArrayOrTypedArray(n)?n:!1}else if(Je.isArrayOrTypedArray(t))return t;return!1};function X6(e,r,t){var n={};typeof r!="object"&&(r={});var a=t==="pieLike"?-1:3,o=Object.keys(e),i,l,u;for(i=0;i<o.length;i++)l=o[i],u=e[l],!(l.charAt(0)==="_"||typeof u=="function")&&(l==="module"?n[l]=u:Array.isArray(u)?l==="colorscale"||a===-1?n[l]=u.slice():n[l]=u.slice(0,a):Je.isTypedArray(u)?a===-1?n[l]=u.subarray():n[l]=u.subarray(0,a):u&&typeof u=="object"?n[l]=X6(e[l],r[l],t):n[l]=u);for(o=Object.keys(r),i=0;i<o.length;i++)l=o[i],u=r[l],(typeof u!="object"||!(l in n)||typeof n[l]!="object")&&(n[l]=u);return n}Je.minExtend=X6;Je.titleCase=function(e){return e.charAt(0).toUpperCase()+e.substr(1)};Je.containsAny=function(e,r){for(var t=0;t<r.length;t++)if(e.indexOf(r[t])!==-1)return!0;return!1};var bV=/Version\/[\d\.]+.*Safari/;Je.isSafari=function(){return bV.test(window.navigator.userAgent)};var _V=/iPad|iPhone|iPod/;Je.isIOS=function(){return _V.test(window.navigator.userAgent)};var wV=/Firefox\/(\d+)\.\d+/;Je.getFirefoxVersion=function(){var e=wV.exec(window.navigator.userAgent);if(e&&e.length===2){var r=parseInt(e[1]);if(!isNaN(r))return r}return null};Je.isD3Selection=function(e){return e instanceof yf.selection};Je.ensureSingle=function(e,r,t,n){var a=e.select(r+(t?"."+t:""));if(a.size())return a;var o=e.append(r);return t&&o.classed(t,!0),n&&o.call(n),o};Je.ensureSingleById=function(e,r,t,n){var a=e.select(r+"#"+t);if(a.size())return a;var o=e.append(r).attr("id",t);return n&&o.call(n),o};Je.objectFromPath=function(e,r){for(var t=e.split("."),n,a=n={},o=0;o<t.length;o++){var i=t[o],l=null,u=t[o].match(/(.*)\[([0-9]+)\]/);u?(i=u[1],l=u[2],n=n[i]=[],o===t.length-1?n[l]=r:n[l]={},n=n[l]):(o===t.length-1?n[i]=r:n[i]={},n=n[i])}return a};var MV=/^([^\[\.]+)\.(.+)?/,TV=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function Qc(e){return e.slice(0,2)==="__"}Je.expandObjectPaths=function(e){var r,t,n,a,o,i,l;if(typeof e=="object"&&!Array.isArray(e)){for(t in e)if(e.hasOwnProperty(t))if(r=t.match(MV)){if(a=e[t],n=r[1],Qc(n))continue;delete e[t],e[n]=Je.extendDeepNoArrays(e[n]||{},Je.objectFromPath(t,Je.expandObjectPaths(a))[n])}else if(r=t.match(TV)){if(a=e[t],n=r[1],Qc(n))continue;if(o=parseInt(r[2]),delete e[t],e[n]=e[n]||[],r[3]===".")l=r[4],i=e[n][o]=e[n][o]||{},Je.extendDeepNoArrays(i,Je.objectFromPath(l,Je.expandObjectPaths(a)));else{if(Qc(n))continue;e[n][o]=Je.expandObjectPaths(a)}}else{if(Qc(t))continue;e[t]=Je.expandObjectPaths(e[t])}}return e};Je.numSeparate=function(e,r,t){if(t||(t=!1),typeof r!="string"||r.length===0)throw new Error("Separator string required for formatting!");typeof e=="number"&&(e=String(e));var n=/(\d+)(\d{3})/,a=r.charAt(0),o=r.charAt(1),i=e.split("."),l=i[0],u=i.length>1?a+i[1]:"";if(o&&(i.length>1||l.length>4||t))for(;n.test(l);)l=l.replace(n,"$1"+o+"$2");return l+u};Je.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var Z6=/^\w*$/;Je.templateString=function(e,r){var t={};return e.replace(Je.TEMPLATE_STRING_REGEX,function(n,a){var o;return Z6.test(a)?o=r[a]:(t[a]=t[a]||Je.nestedProperty(r,a).get,o=t[a](!0)),o!==void 0?o:""})};var AV={max:10,count:0,name:"hovertemplate"};Je.hovertemplateString=function(){return Bp.apply(AV,arguments)};var kV={max:10,count:0,name:"texttemplate"};Je.texttemplateString=function(){return Bp.apply(kV,arguments)};var SV=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function CV(e){var r=e.match(SV);return r?{key:r[1],op:r[2],number:Number(r[3])}:{key:e,op:null,number:null}}var EV={max:10,count:0,name:"texttemplate",parseMultDiv:!0};Je.texttemplateStringForShapes=function(){return Bp.apply(EV,arguments)};var O6=/^[:|\|]/;function Bp(e,r,t){var n=this,a=arguments;return r||(r={}),e.replace(Je.TEMPLATE_STRING_REGEX,function(o,i,l){var u=i==="xother"||i==="yother",s=i==="_xother"||i==="_yother",f=i==="_xother_"||i==="_yother_",v=i==="xother_"||i==="yother_",p=u||s||v||f,b=i;(s||f)&&(b=b.substring(1)),(v||f)&&(b=b.substring(0,b.length-1));var y=null,w=null;if(n.parseMultDiv){var M=CV(b);b=M.key,y=M.op,w=M.number}var m;if(p){if(m=r[b],m===void 0)return""}else{var k,S;for(S=3;S<a.length;S++)if(k=a[S],!!k){if(k.hasOwnProperty(b)){m=k[b];break}if(Z6.test(b)||(m=Je.nestedProperty(k,b).get(!0)),m!==void 0)break}}if(m!==void 0&&(y==="*"&&(m*=w),y==="/"&&(m/=w)),m===void 0&&n)return n.count<n.max&&(Je.warn("Variable '"+b+"' in "+n.name+" could not be found!"),m=o),n.count===n.max&&Je.warn("Too many "+n.name+" warnings - additional warnings will be suppressed"),n.count++,o;if(l){var x;if(l[0]===":"&&(x=t?t.numberFormat:Je.numberFormat,m!==""&&(m=x(l.replace(O6,""))(m))),l[0]==="|"){x=t?t.timeFormat:gV;var T=Je.dateTime2ms(m);m=Je.formatDate(T,l.replace(O6,""),!1,x)}}else{var d=b+"Label";r.hasOwnProperty(d)&&(m=r[d])}return p&&(m="("+m+")",(s||f)&&(m=" "+m),(v||f)&&(m=m+" ")),m})}var $c=48,B6=57;Je.subplotSort=function(e,r){for(var t=Math.min(e.length,r.length)+1,n=0,a=0,o=0;o<t;o++){var i=e.charCodeAt(o)||0,l=r.charCodeAt(o)||0,u=i>=$c&&i<=B6,s=l>=$c&&l<=B6;if(u&&(n=10*n+i-$c),s&&(a=10*a+l-$c),!u||!s){if(n!==a)return n-a;if(i!==l)return i-l}}return a-n};var zs=2e9;Je.seedPseudoRandom=function(){zs=2e9};Je.pseudoRandom=function(){var e=zs;return zs=(69069*zs+1)%4294967296,Math.abs(zs-e)<429496729?Je.pseudoRandom():zs/4294967296};Je.fillText=function(e,r,t){var n=Array.isArray(t)?function(i){t.push(i)}:function(i){t.text=i},a=Je.extractOption(e,r,"htx","hovertext");if(Je.isValidTextValue(a))return n(a);var o=Je.extractOption(e,r,"tx","text");if(Je.isValidTextValue(o))return n(o)};Je.isValidTextValue=function(e){return e||e===0};Je.formatPercent=function(e,r){r=r||0;for(var t=(Math.round(100*e*Math.pow(10,r))*Math.pow(.1,r)).toFixed(r)+"%",n=0;n<r;n++)t.indexOf(".")!==-1&&(t=t.replace("0%","%"),t=t.replace(".%","%"));return t};Je.isHidden=function(e){var r=window.getComputedStyle(e).display;return!r||r==="none"};Je.strTranslate=function(e,r){return e||r?"translate("+e+","+r+")":""};Je.strRotate=function(e){return e?"rotate("+e+")":""};Je.strScale=function(e){return e!==1?"scale("+e+")":""};Je.getTextTransform=function(e){var r=e.noCenter,t=e.textX,n=e.textY,a=e.targetX,o=e.targetY,i=e.anchorX||0,l=e.anchorY||0,u=e.rotate,s=e.scale;return s?s>1&&(s=1):s=0,Je.strTranslate(a-s*(t+i),o-s*(n+l))+Je.strScale(s)+(u?"rotate("+u+(r?"":" "+t+" "+n)+")":"")};Je.setTransormAndDisplay=function(e,r){e.attr("transform",Je.getTextTransform(r)),e.style("display",r.scale?null:"none")};Je.ensureUniformFontSize=function(e,r){var t=Je.extendFlat({},r);return t.size=Math.max(r.size,e._fullLayout.uniformtext.minsize||0),t};Je.join2=function(e,r,t){var n=e.length;return n>1?e.slice(0,-1).join(r)+t+e[n-1]:e.join(r)};Je.bigFont=function(e){return Math.round(1.2*e)};var U6=Je.getFirefoxVersion(),LV=U6!==null&&U6<86;Je.getPositionFromD3Event=function(){return LV?[yf.event.layerX,yf.event.layerY]:[yf.event.offsetX,yf.event.offsetY]}});var $6=pe(()=>{"use strict";var RV=ir(),K6={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(Up in K6)Q6=Up.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier"),RV.addStyleRule(Q6,K6[Up]);var Q6,Up});var Hp=pe((S0e,j6)=>{j6.exports=!0});var Gp=pe((C0e,ew)=>{"use strict";var DV=Hp(),Vp;typeof window.matchMedia=="function"?Vp=!window.matchMedia("(hover: none)").matches:Vp=DV;ew.exports=Vp});var tv=pe((E0e,Yp)=>{"use strict";var Bs=typeof Reflect=="object"?Reflect:null,rw=Bs&&typeof Bs.apply=="function"?Bs.apply:function(r,t,n){return Function.prototype.apply.call(r,t,n)},ev;Bs&&typeof Bs.ownKeys=="function"?ev=Bs.ownKeys:Object.getOwnPropertySymbols?ev=function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:ev=function(r){return Object.getOwnPropertyNames(r)};function PV(e){console&&console.warn&&console.warn(e)}var nw=Number.isNaN||function(r){return r!==r};function Tt(){Tt.init.call(this)}Yp.exports=Tt;Yp.exports.once=zV;Tt.EventEmitter=Tt;Tt.prototype._events=void 0;Tt.prototype._eventsCount=0;Tt.prototype._maxListeners=void 0;var tw=10;function rv(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Tt,"defaultMaxListeners",{enumerable:!0,get:function(){return tw},set:function(e){if(typeof e!="number"||e<0||nw(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");tw=e}});Tt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Tt.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||nw(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this};function aw(e){return e._maxListeners===void 0?Tt.defaultMaxListeners:e._maxListeners}Tt.prototype.getMaxListeners=function(){return aw(this)};Tt.prototype.emit=function(r){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var a=r==="error",o=this._events;if(o!==void 0)a=a&&o.error===void 0;else if(!a)return!1;if(a){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var l=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw l.context=i,l}var u=o[r];if(u===void 0)return!1;if(typeof u=="function")rw(u,this,t);else for(var s=u.length,f=uw(u,s),n=0;n<s;++n)rw(f[n],this,t);return!0};function iw(e,r,t,n){var a,o,i;if(rv(t),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",r,t.listener?t.listener:t),o=e._events),i=o[r]),i===void 0)i=o[r]=t,++e._eventsCount;else if(typeof i=="function"?i=o[r]=n?[t,i]:[i,t]:n?i.unshift(t):i.push(t),a=aw(e),a>0&&i.length>a&&!i.warned){i.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(r)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=r,l.count=i.length,PV(l)}return e}Tt.prototype.addListener=function(r,t){return iw(this,r,t,!1)};Tt.prototype.on=Tt.prototype.addListener;Tt.prototype.prependListener=function(r,t){return iw(this,r,t,!0)};function FV(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ow(e,r,t){var n={fired:!1,wrapFn:void 0,target:e,type:r,listener:t},a=FV.bind(n);return a.listener=t,n.wrapFn=a,a}Tt.prototype.once=function(r,t){return rv(t),this.on(r,ow(this,r,t)),this};Tt.prototype.prependOnceListener=function(r,t){return rv(t),this.prependListener(r,ow(this,r,t)),this};Tt.prototype.removeListener=function(r,t){var n,a,o,i,l;if(rv(t),a=this._events,a===void 0)return this;if(n=a[r],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete a[r],a.removeListener&&this.emit("removeListener",r,n.listener||t));else if(typeof n!="function"){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){l=n[i].listener,o=i;break}if(o<0)return this;o===0?n.shift():IV(n,o),n.length===1&&(a[r]=n[0]),a.removeListener!==void 0&&this.emit("removeListener",r,l||t)}return this};Tt.prototype.off=Tt.prototype.removeListener;Tt.prototype.removeAllListeners=function(r){var t,n,a;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[r]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[r]),this;if(arguments.length===0){var o=Object.keys(n),i;for(a=0;a<o.length;++a)i=o[a],i!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[r],typeof t=="function")this.removeListener(r,t);else if(t!==void 0)for(a=t.length-1;a>=0;a--)this.removeListener(r,t[a]);return this};function lw(e,r,t){var n=e._events;if(n===void 0)return[];var a=n[r];return a===void 0?[]:typeof a=="function"?t?[a.listener||a]:[a]:t?NV(a):uw(a,a.length)}Tt.prototype.listeners=function(r){return lw(this,r,!0)};Tt.prototype.rawListeners=function(r){return lw(this,r,!1)};Tt.listenerCount=function(e,r){return typeof e.listenerCount=="function"?e.listenerCount(r):sw.call(e,r)};Tt.prototype.listenerCount=sw;function sw(e){var r=this._events;if(r!==void 0){var t=r[e];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}Tt.prototype.eventNames=function(){return this._eventsCount>0?ev(this._events):[]};function uw(e,r){for(var t=new Array(r),n=0;n<r;++n)t[n]=e[n];return t}function IV(e,r){for(;r+1<e.length;r++)e[r]=e[r+1];e.pop()}function NV(e){for(var r=new Array(e.length),t=0;t<r.length;++t)r[t]=e[t].listener||e[t];return r}function zV(e,r){return new Promise(function(t,n){function a(i){e.removeListener(r,o),n(i)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",a),t([].slice.call(arguments))}fw(e,r,o,{once:!0}),r!=="error"&&qV(e,a,{once:!0})})}function qV(e,r,t){typeof e.on=="function"&&fw(e,"error",r,t)}function fw(e,r,t,n){if(typeof e.on=="function")n.once?e.once(r,t):e.on(r,t);else if(typeof e.addEventListener=="function")e.addEventListener(r,function a(o){n.once&&e.removeEventListener(r,a),t(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}});var mf=pe((L0e,cw)=>{"use strict";var Wp=tv().EventEmitter,OV={init:function(e){if(e._ev instanceof Wp)return e;var r=new Wp,t=new Wp;return e._ev=r,e._internalEv=t,e.on=r.on.bind(r),e.once=r.once.bind(r),e.removeListener=r.removeListener.bind(r),e.removeAllListeners=r.removeAllListeners.bind(r),e._internalOn=t.on.bind(t),e._internalOnce=t.once.bind(t),e._removeInternalListener=t.removeListener.bind(t),e._removeAllInternalListeners=t.removeAllListeners.bind(t),e.emit=function(n,a){r.emit(n,a),t.emit(n,a)},e},triggerHandler:function(e,r,t){var n,a=e._ev;if(!a)return;var o=a._events[r];if(!o)return;function i(u){if(u.listener){if(a.removeListener(r,u.listener),!u.fired)return u.fired=!0,u.listener.apply(a,[t])}else return u.apply(a,[t])}o=Array.isArray(o)?o:[o];var l;for(l=0;l<o.length-1;l++)i(o[l]);return n=i(o[l]),n},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};cw.exports=OV});var dw=pe((R0e,hw)=>{"use strict";var vw=ir(),BV=Tl().dfltConfig;function UV(e,r){for(var t=[],n,a=0;a<r.length;a++)n=r[a],n===e?t[a]=n:typeof n=="object"?t[a]=Array.isArray(n)?vw.extendDeep([],n):vw.extendDeepAll({},n):t[a]=n;return t}var ji={};ji.add=function(e,r,t,n,a){var o,i;if(e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},i=e.undoQueue.index,e.autoplay){e.undoQueue.inSequence||(e.autoplay=!1);return}!e.undoQueue.sequence||e.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(i,e.undoQueue.queue.length-i,o),e.undoQueue.index+=1):o=e.undoQueue.queue[i-1],e.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(r),o.undo.args.unshift(t),o.redo.calls.push(n),o.redo.args.push(a)),e.undoQueue.queue.length>BV.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--)};ji.startSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0};ji.stopSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1};ji.undo=function(r){var t,n;if(!(r.undoQueue===void 0||isNaN(r.undoQueue.index)||r.undoQueue.index<=0)){for(r.undoQueue.index--,t=r.undoQueue.queue[r.undoQueue.index],r.undoQueue.inSequence=!0,n=0;n<t.undo.calls.length;n++)ji.plotDo(r,t.undo.calls[n],t.undo.args[n]);r.undoQueue.inSequence=!1,r.autoplay=!1}};ji.redo=function(r){var t,n;if(!(r.undoQueue===void 0||isNaN(r.undoQueue.index)||r.undoQueue.index>=r.undoQueue.queue.length)){for(t=r.undoQueue.queue[r.undoQueue.index],r.undoQueue.inSequence=!0,n=0;n<t.redo.calls.length;n++)ji.plotDo(r,t.redo.calls[n],t.redo.args[n]);r.undoQueue.inSequence=!1,r.autoplay=!1,r.undoQueue.index++}};ji.plotDo=function(e,r,t){e.autoplay=!0,t=UV(e,t),r.apply(null,t)};hw.exports=ji});var Xp=pe((D0e,pw)=>{"use strict";pw.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}});var Vs=pe(jt=>{"use strict";var Ea=Er(),xf=ir(),av=Sn(),Zp=Ds(),HV=Xp(),VV=cf(),GV=Tl().configAttributes,gw=zn(),$a=xf.extendDeepAll,Us=xf.isPlainObject,YV=xf.isArrayOrTypedArray,iv=xf.nestedProperty,WV=xf.valObjectMeta,Jp="_isSubplotObj",ov="_isLinkedToArray",XV="_arrayAttrRegexps",mw="_deprecated",Kp=[Jp,ov,XV,mw];jt.IS_SUBPLOT_OBJ=Jp;jt.IS_LINKED_TO_ARRAY=ov;jt.DEPRECATED=mw;jt.UNDERSCORE_ATTRS=Kp;jt.get=function(){var e={};return Ea.allTypes.forEach(function(r){e[r]=JV(r)}),{defs:{valObjects:WV,metaKeys:Kp.concat(["description","role","editType","impliedEdits"]),editType:{traces:gw.traces,layout:gw.layout},impliedEdits:{}},traces:e,layout:KV(),frames:QV(),animation:Hs(VV),config:Hs(GV)}};jt.crawl=function(e,r,t,n){var a=t||0;n=n||"",Object.keys(e).forEach(function(o){var i=e[o];if(Kp.indexOf(o)===-1){var l=(n?n+".":"")+o;r(i,o,e,a,l),!jt.isValObject(i)&&Us(i)&&o!=="impliedEdits"&&jt.crawl(i,r,a+1,l)}})};jt.isValObject=function(e){return e&&e.valType!==void 0};jt.findArrayAttributes=function(e){var r=[],t=[],n=[],a,o;function i(u,s,f,v){t=t.slice(0,v).concat([s]),n=n.slice(0,v).concat([u&&u._isLinkedToArray]);var p=u&&(u.valType==="data_array"||u.arrayOk===!0)&&!(t[v-1]==="colorbar"&&(s==="ticktext"||s==="tickvals"));p&&l(a,0,"")}function l(u,s,f){var v=u[t[s]],p=f+t[s];if(s===t.length-1)YV(v)&&r.push(o+p);else if(n[s]){if(Array.isArray(v))for(var b=0;b<v.length;b++)Us(v[b])&&l(v[b],s+1,p+"["+b+"].")}else Us(v)&&l(v,s+1,p+".")}return a=e,o="",jt.crawl(av,i),e._module&&e._module.attributes&&jt.crawl(e._module.attributes,i),r};jt.getTraceValObject=function(e,r){var t=r[0],n=1,a,o,i=e._module;if(i||(i=(Ea.modules[e.type||av.type.dflt]||{})._module),!i)return!1;if(a=i.attributes,o=a&&a[t],!o){var l=i.basePlotModule;l&&l.attributes&&(o=l.attributes[t])}return o||(o=av[t]),xw(o,r,n)};jt.getLayoutValObject=function(e,r){var t=ZV(e,r[0]);return xw(t,r,1)};function ZV(e,r){var t,n,a,o,i=e._basePlotModules;if(i){var l;for(t=0;t<i.length;t++){if(a=i[t],a.attrRegex&&a.attrRegex.test(r)){if(a.layoutAttrOverrides)return a.layoutAttrOverrides;!l&&a.layoutAttributes&&(l=a.layoutAttributes)}var u=a.baseLayoutAttrOverrides;if(u&&r in u)return u[r]}if(l)return l}var s=e._modules;if(s){for(t=0;t<s.length;t++)if(o=s[t].layoutAttributes,o&&r in o)return o[r]}for(n in Ea.componentsRegistry){if(a=Ea.componentsRegistry[n],a.name==="colorscale"&&r.indexOf("coloraxis")===0)return a.layoutAttributes[r];if(!a.schema&&r===a.name)return a.layoutAttributes}return r in Zp?Zp[r]:!1}function xw(e,r,t){if(!e)return!1;if(e._isLinkedToArray){if(nv(r[t]))t++;else if(t<r.length)return!1}for(;t<r.length;t++){var n=e[r[t]];if(Us(n))e=n;else break;if(t===r.length-1)break;if(e._isLinkedToArray){if(t++,!nv(r[t]))return!1}else if(e.valType==="info_array"){t++;var a=r[t];if(!nv(a))return!1;var o=e.items;if(Array.isArray(o)){if(a>=o.length)return!1;if(e.dimensions===2){if(t++,r.length===t)return e;var i=r[t];if(!nv(i))return!1;e=o[a][i]}else e=o[a]}else e=o}}return e}function nv(e){return e===Math.round(e)&&e>=0}function JV(e){var r,t;r=Ea.modules[e]._module,t=r.basePlotModule;var n={};n.type=null;var a=$a({},av),o=$a({},r.attributes);jt.crawl(o,function(u,s,f,v,p){iv(a,p).set(void 0),u===void 0&&iv(o,p).set(void 0)}),$a(n,a),Ea.traceIs(e,"noOpacity")&&delete n.opacity,Ea.traceIs(e,"showLegend")||(delete n.showlegend,delete n.legendgroup),Ea.traceIs(e,"noHover")&&(delete n.hoverinfo,delete n.hoverlabel),r.selectPoints||delete n.selectedpoints,$a(n,o),t.attributes&&$a(n,t.attributes),n.type=e;var i={meta:r.meta||{},categories:r.categories||{},animatable:!!r.animatable,type:e,attributes:Hs(n)};if(r.layoutAttributes){var l={};$a(l,r.layoutAttributes),i.layoutAttributes=Hs(l)}return r.animatable||jt.crawl(i,function(u){jt.isValObject(u)&&"anim"in u&&delete u.anim}),i}function KV(){var e={},r,t;$a(e,Zp);for(r in Ea.subplotsRegistry)if(t=Ea.subplotsRegistry[r],!!t.layoutAttributes)if(Array.isArray(t.attr))for(var n=0;n<t.attr.length;n++)yw(e,t,t.attr[n]);else{var a=t.attr==="subplot"?t.name:t.attr;yw(e,t,a)}for(r in Ea.componentsRegistry){t=Ea.componentsRegistry[r];var o=t.schema;if(o&&(o.subplots||o.layout)){var i=o.subplots;if(i&&i.xaxis&&!i.yaxis)for(var l in i.xaxis)delete e.yaxis[l];delete e.xaxis.shift,delete e.xaxis.autoshift}else t.name==="colorscale"?$a(e,t.layoutAttributes):t.layoutAttributes&&rG(e,t.layoutAttributes,t.name)}return{layoutAttributes:Hs(e)}}function QV(){var e={frames:$a({},HV)};return Hs(e),e.frames}function Hs(e){return $V(e),jV(e),eG(e),e}function $V(e){function r(n){return{valType:"string",editType:"none"}}function t(n,a,o){jt.isValObject(n)?(n.arrayOk===!0||n.valType==="data_array")&&(o[a+"src"]=r(a)):Us(n)&&(n.role="object")}jt.crawl(e,t)}function jV(e){function r(t,n,a){if(t){var o=t[ov];o&&(delete t[ov],a[n]={items:{}},a[n].items[o]=t,a[n].role="object")}}jt.crawl(e,r)}function eG(e){function r(t){for(var n in t)if(Us(t[n]))r(t[n]);else if(Array.isArray(t[n]))for(var a=0;a<t[n].length;a++)r(t[n][a]);else t[n]instanceof RegExp&&(t[n]=t[n].toString())}r(e)}function yw(e,r,t){var n=iv(e,t),a=$a({},r.layoutAttributes);a[Jp]=!0,n.set(a)}function rG(e,r,t){var n=iv(e,t);n.set($a(n.get()||{},r))}});var gt=pe(Ll=>{"use strict";var Gs=ir(),tG=Sn(),Po="templateitemname",Qp={name:{valType:"string",editType:"none"}};Qp[Po]={valType:"string",editType:"calc"};Ll.templatedArray=function(e,r){return r._isLinkedToArray=e,r.name=Qp.name,r[Po]=Qp[Po],r};Ll.traceTemplater=function(e){var r={},t,n;for(t in e)n=e[t],Array.isArray(n)&&n.length&&(r[t]=0);function a(o){t=Gs.coerce(o,{},tG,"type");var i={type:t,_template:null};if(t in r){n=e[t];var l=r[t]%n.length;r[t]++,i._template=n[l]}return i}return{newTrace:a}};Ll.newContainer=function(e,r,t){var n=e._template,a=n&&(n[r]||t&&n[t]);Gs.isPlainObject(a)||(a=null);var o=e[r]={_template:a};return o};Ll.arrayTemplater=function(e,r,t){var n=e._template,a=n&&n[_w(r)],o=n&&n[r];(!Array.isArray(o)||!o.length)&&(o=[]);var i={};function l(s){var f={name:s.name,_input:s},v=f[Po]=s[Po];if(!bw(v))return f._template=a,f;for(var p=0;p<o.length;p++){var b=o[p];if(b.name===v)return i[v]=1,f._template=b,f}return f[t]=s[t]||!1,f._template=!1,f}function u(){for(var s=[],f=0;f<o.length;f++){var v=o[f],p=v.name;if(bw(p)&&!i[p]){var b={_template:v,name:p,_input:{_templateitemname:p}};b[Po]=v[Po],s.push(b),i[p]=1}}return s}return{newItem:l,defaultItems:u}};function bw(e){return e&&typeof e=="string"}function _w(e){var r=e.length-1;return e.charAt(r)!=="s"&&Gs.warn("bad argument to arrayDefaultKey: "+e),e.substr(0,e.length-1)+"defaults"}Ll.arrayDefaultKey=_w;Ll.arrayEditor=function(e,r,t){var n=(Gs.nestedProperty(e,r).get()||[]).length,a=t._index,o=a>=n&&(t._input||{})._templateitemname;o&&(a=n);var i=r+"["+a+"]",l;function u(){l={},o&&(l[i]={},l[i][Po]=o)}u();function s(b,y){l[b]=y}function f(b,y){o?Gs.nestedProperty(l[i],b).set(y):l[i+"."+b]=y}function v(){var b=l;return u(),b}function p(b,y){b&&f(b,y);var w=v();for(var M in w)Gs.nestedProperty(e,M).set(w[M])}return{modifyBase:s,modifyItem:f,getUpdateObj:v,applyUpdate:p}}});var wn=pe((I0e,ww)=>{"use strict";var bf=Es().counter;ww.exports={idRegex:{x:bf("x","( domain)?"),y:bf("y","( domain)?")},attrRegex:bf("[xy]axis"),xAxisMatch:bf("xaxis"),yAxisMatch:bf("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}});var on=pe(aa=>{"use strict";var nG=Er(),$p=wn();aa.id2name=function(r){if(!(typeof r!="string"||!r.match($p.AX_ID_PATTERN))){var t=r.split(" ")[0].substr(1);return t==="1"&&(t=""),r.charAt(0)+"axis"+t}};aa.name2id=function(r){if(r.match($p.AX_NAME_PATTERN)){var t=r.substr(5);return t==="1"&&(t=""),r.charAt(0)+t}};aa.cleanId=function(r,t,n){var a=/( domain)$/.test(r);if(!(typeof r!="string"||!r.match($p.AX_ID_PATTERN))&&!(t&&r.charAt(0)!==t)&&!(a&&!n)){var o=r.split(" ")[0].substr(1).replace(/^0+/,"");return o==="1"&&(o=""),r.charAt(0)+o+(a&&n?" domain":"")}};aa.list=function(e,r,t){var n=e._fullLayout;if(!n)return[];var a=aa.listIds(e,r),o=new Array(a.length),i;for(i=0;i<a.length;i++){var l=a[i];o[i]=n[l.charAt(0)+"axis"+l.substr(1)]}if(!t){var u=n._subplots.gl3d||[];for(i=0;i<u.length;i++){var s=n[u[i]];r?o.push(s[r+"axis"]):o.push(s.xaxis,s.yaxis,s.zaxis)}}return o};aa.listIds=function(e,r){var t=e._fullLayout;if(!t)return[];var n=t._subplots;return r?n[r+"axis"]:n.xaxis.concat(n.yaxis)};aa.getFromId=function(e,r,t){var n=e._fullLayout;return r=r===void 0||typeof r!="string"?r:r.replace(" domain",""),t==="x"?r=r.replace(/y[0-9]*/,""):t==="y"&&(r=r.replace(/x[0-9]*/,"")),n[aa.id2name(r)]};aa.getFromTrace=function(e,r,t){var n=e._fullLayout,a=null;if(nG.traceIs(r,"gl3d")){var o=r.scene;o.substr(0,5)==="scene"&&(a=n[o][t+"axis"])}else a=aa.getFromId(e,r[t+"axis"]||t);return a};aa.idSort=function(e,r){var t=e.charAt(0),n=r.charAt(0);return t!==n?t>n?1:-1:+(e.substr(1)||1)-+(r.substr(1)||1)};aa.ref2id=function(e){return/^[xyz]/.test(e)?e.split(" ")[0]:!1};function Mw(e,r){if(r&&r.length){for(var t=0;t<r.length;t++)if(r[t][e])return!0}return!1}aa.isLinked=function(e,r){return Mw(r,e._axisMatchGroups)||Mw(r,e._axisConstraintGroups)}});var Fo=pe((z0e,Tw)=>{"use strict";function aG(e){var r=e._fullLayout._zoomlayer;r&&r.selectAll(".outline-controllers").remove()}function iG(e){var r=e._fullLayout._zoomlayer;r&&r.selectAll(".select-outline").remove(),e._fullLayout._outlining=!1}Tw.exports={clearOutlineControllers:aG,clearOutline:iG}});var lv=pe((q0e,Aw)=>{"use strict";Aw.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}});var _f=pe(uv=>{"use strict";var sv=Er(),O0e=wn().SUBPLOT_PATTERN;uv.getSubplotCalcData=function(e,r,t){var n=sv.subplotsRegistry[r];if(!n)return[];for(var a=n.attr,o=[],i=0;i<e.length;i++){var l=e[i],u=l[0].trace;u[a]===t&&o.push(l)}return o};uv.getModuleCalcData=function(e,r,t){var n=[],a=[],o;if(typeof r=="string"?o=sv.getModule(r).plot:typeof r=="function"?o=r:o=r.plot,!o)return[n,e];for(var i=t,l=0;l<e.length;l++){var u=e[l],s=u[0].trace,f=s.zorder!==void 0;s.visible!==!0||s._length===0||(s._module&&s._module.plot===o&&(!f||s.zorder===i)?n.push(u):a.push(u))}return[n,a]};uv.getSubplotData=function(r,t,n){if(!sv.subplotsRegistry[t])return[];for(var a=sv.subplotsRegistry[t].attr,o=[],i,l,u,s=0;s<r.length;s++)i=r[s],i[a]===n&&o.push(i);return o}});var Ew=pe(Rl=>{"use strict";var oG=Er(),Ys=ir();Rl.manageCommandObserver=function(e,r,t,n){var a={},o=!0;r&&r._commandObserver&&(a=r._commandObserver),a.cache||(a.cache={}),a.lookupTable={};var i=Rl.hasSimpleAPICommandBindings(e,t,a.lookupTable);if(r&&r._commandObserver){if(i)return a;if(r._commandObserver.remove)return r._commandObserver.remove(),r._commandObserver=null,a}if(i){kw(e,i,a.cache),a.check=function(){if(o){var f=kw(e,i,a.cache);return f.changed&&n&&a.lookupTable[f.value]!==void 0&&(a.disable(),Promise.resolve(n({value:f.value,type:i.type,prop:i.prop,traces:i.traces,index:a.lookupTable[f.value]})).then(a.enable,a.enable)),f.changed}};for(var l=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],u=0;u<l.length;u++)e._internalOn(l[u],a.check);a.remove=function(){for(var s=0;s<l.length;s++)e._removeInternalListener(l[s],a.check)}}else Ys.log("Unable to automatically bind plot updates to API command"),a.lookupTable={},a.remove=function(){};return a.disable=function(){o=!1},a.enable=function(){o=!0},r&&(r._commandObserver=a),a};Rl.hasSimpleAPICommandBindings=function(e,r,t){var n,a=r.length,o;for(n=0;n<a;n++){var i,l=r[n],u=l.method,s=l.args;if(Array.isArray(s)||(s=[]),!u)return!1;var f=Rl.computeAPICommandBindings(e,u,s);if(f.length!==1)return!1;if(!o)o=f[0],Array.isArray(o.traces)&&o.traces.sort();else{if(i=f[0],i.type!==o.type||i.prop!==o.prop)return!1;if(Array.isArray(o.traces))if(Array.isArray(i.traces)){i.traces.sort();for(var v=0;v<o.traces.length;v++)if(o.traces[v]!==i.traces[v])return!1}else return!1;else if(i.prop!==o.prop)return!1}i=f[0];var p=i.value;if(Array.isArray(p))if(p.length===1)p=p[0];else return!1;t&&(t[p]=n)}return o};function kw(e,r,t){var n,a,o,i=!1;if(r.type==="data")n=e._fullData[r.traces!==null?r.traces[0]:0];else if(r.type==="layout")n=e._fullLayout;else return!1;return a=Ys.nestedProperty(n,r.prop).get(),o=t[r.type]=t[r.type]||{},o.hasOwnProperty(r.prop)&&o[r.prop]!==a&&(i=!0),o[r.prop]=a,{changed:i,value:a}}Rl.executeAPICommand=function(e,r,t){if(r==="skip")return Promise.resolve();var n=oG.apiMethodRegistry[r],a=[e];Array.isArray(t)||(t=[]);for(var o=0;o<t.length;o++)a.push(t[o]);return n.apply(null,a).catch(function(i){return Ys.warn("API call to Plotly."+r+" rejected.",i),Promise.reject(i)})};Rl.computeAPICommandBindings=function(e,r,t){var n;switch(Array.isArray(t)||(t=[]),r){case"restyle":n=Cw(e,t);break;case"relayout":n=Sw(e,t);break;case"update":n=Cw(e,[t[0],t[2]]).concat(Sw(e,[t[1]]));break;case"animate":n=lG(e,t);break;default:n=[]}return n};function lG(e,r){return Array.isArray(r[0])&&r[0].length===1&&["string","number"].indexOf(typeof r[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:r[0][0].toString()}]:[]}function Sw(e,r){var t=[],n=r[0],a={};if(typeof n=="string")a[n]=r[1];else if(Ys.isPlainObject(n))a=n;else return t;return jp(a,function(o,i,l){t.push({type:"layout",prop:o,value:l})},"",0),t}function Cw(e,r){var t,n,a,o,i=[];if(n=r[0],a=r[1],t=r[2],o={},typeof n=="string")o[n]=a;else if(Ys.isPlainObject(n))o=n,t===void 0&&(t=a);else return i;return t===void 0&&(t=null),jp(o,function(l,u,s){var f,v;if(Array.isArray(s)){v=s.slice();var p=Math.min(v.length,e.data.length);t&&(p=Math.min(p,t.length)),f=[];for(var b=0;b<p;b++)f[b]=t?t[b]:b}else v=s,f=t?t.slice():null;if(f===null)Array.isArray(v)&&(v=v[0]);else if(Array.isArray(f)){if(!Array.isArray(v)){var y=v;v=[];for(var w=0;w<f.length;w++)v[w]=y}v.length=Math.min(f.length,v.length)}i.push({type:"data",prop:l,traces:f,value:v})},"",0),i}function jp(e,r,t,n){Object.keys(e).forEach(function(a){var o=e[a];if(a[0]!=="_"){var i=t+(n>0?".":"")+a;Ys.isPlainObject(o)?jp(o,r,i,n+1):r(i,a,o)}})}});var ln=pe((H0e,Vw)=>{"use strict";var Nw=it(),sG=ks().timeFormatLocale,uG=ip().formatLocale,wf=rt(),fG=op(),ot=Er(),zw=Vs(),cG=gt(),xr=ir(),qw=Zr(),Lw=nn().BADNUM,ia=on(),vG=Fo().clearOutline,hG=lv(),eg=cf(),dG=Xp(),pG=_f().getModuleCalcData,Rw=xr.relinkPrivateKeys,Dl=xr._,cr=Vw.exports={};xr.extendFlat(cr,ot);cr.attributes=Sn();cr.attributes.type.values=cr.allTypes;cr.fontAttrs=kn();cr.layoutAttributes=Ds();var cv=Ew();cr.executeAPICommand=cv.executeAPICommand;cr.computeAPICommandBindings=cv.computeAPICommandBindings;cr.manageCommandObserver=cv.manageCommandObserver;cr.hasSimpleAPICommandBindings=cv.hasSimpleAPICommandBindings;cr.redrawText=function(e){return e=xr.getGraphDiv(e),new Promise(function(r){setTimeout(function(){e._fullLayout&&(ot.getComponentMethod("annotations","draw")(e),ot.getComponentMethod("legend","draw")(e),ot.getComponentMethod("colorbar","draw")(e),r(cr.previousPromises(e)))},300)})};cr.resize=function(e){e=xr.getGraphDiv(e);var r,t=new Promise(function(n,a){(!e||xr.isHidden(e))&&a(new Error("Resize must be passed a displayed plot div element.")),e._redrawTimer&&clearTimeout(e._redrawTimer),e._resolveResize&&(r=e._resolveResize),e._resolveResize=n,e._redrawTimer=setTimeout(function(){if(!e.layout||e.layout.width&&e.layout.height||xr.isHidden(e)){n(e);return}delete e.layout.width,delete e.layout.height;var o=e.changed;e.autoplay=!0,ot.call("relayout",e,{autosize:!0}).then(function(){e.changed=o,e._resolveResize===n&&(delete e._resolveResize,n(e))})},100)});return r&&r(t),t};cr.previousPromises=function(e){if((e._promises||[]).length)return Promise.all(e._promises).then(function(){e._promises=[]})};cr.addLinks=function(e){if(!(!e._context.showLink&&!e._context.showSources)){var r=e._fullLayout,t=xr.ensureSingle(r._paper,"text","js-plot-link-container",function(u){u.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:qw.defaultLine,"pointer-events":"all"}).each(function(){var s=Nw.select(this);s.append("tspan").classed("js-link-to-tool",!0),s.append("tspan").classed("js-link-spacer",!0),s.append("tspan").classed("js-sourcelinks",!0)})}),n=t.node(),a={y:r._paper.attr("height")-9};document.body.contains(n)&&n.getComputedTextLength()>=r.width-20?(a["text-anchor"]="start",a.x=5):(a["text-anchor"]="end",a.x=r._paper.attr("width")-7),t.attr(a);var o=t.select(".js-link-to-tool"),i=t.select(".js-link-spacer"),l=t.select(".js-sourcelinks");e._context.showSources&&e._context.showSources(e),e._context.showLink&&gG(e,o),i.text(o.text()&&l.text()?" - ":"")}};function gG(e,r){r.text("");var t=r.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(e._context.linkText+" \xBB");if(e._context.sendData)t.on("click",function(){cr.sendDataToCloud(e)});else{var n=window.location.pathname.split("/"),a=window.location.search;t.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+n[2].split(".")[0]+"/"+n[1]+a})}}cr.sendDataToCloud=function(e){var r=(window.PLOTLYENV||{}).BASE_URL||e._context.plotlyServerURL;if(r){e.emit("plotly_beforeexport");var t=Nw.select(e).append("div").attr("id","hiddenform").style("display","none"),n=t.append("form").attr({action:r+"/external",method:"post",target:"_blank"}),a=n.append("input").attr({type:"text",name:"data"});return a.node().value=cr.graphJson(e,!1,"keepdata"),n.node().submit(),t.remove(),e.emit("plotly_afterexport"),!1}};var yG=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],mG=["year","month","dayMonth","dayMonthYear"];cr.supplyDefaults=function(e,r){var t=r&&r.skipUpdateCalc,n=e._fullLayout||{};if(n._skipDefaults){delete n._skipDefaults;return}var a=e._fullLayout={},o=e.layout||{},i=e._fullData||[],l=e._fullData=[],u=e.data||[],s=e.calcdata||[],f=e._context||{},v;e._transitionData||cr.createTransitionData(e),a._dfltTitle={plot:Dl(e,"Click to enter Plot title"),subtitle:Dl(e,"Click to enter Plot subtitle"),x:Dl(e,"Click to enter X axis title"),y:Dl(e,"Click to enter Y axis title"),colorbar:Dl(e,"Click to enter Colorscale title"),annotation:Dl(e,"new text")},a._traceWord=Dl(e,"trace");var p=Dw(e,yG);if(a._mapboxAccessToken=f.mapboxAccessToken,n._initialAutoSizeIsDone){var b=n.width,y=n.height;cr.supplyLayoutGlobalDefaults(o,a,p),o.width||(a.width=b),o.height||(a.height=y),cr.sanitizeMargins(a)}else{cr.supplyLayoutGlobalDefaults(o,a,p);var w=!o.width||!o.height,M=a.autosize,m=f.autosizable,k=w&&(M||m);k?cr.plotAutoSize(e,o,a):w&&cr.sanitizeMargins(a),!M&&w&&(o.width=a.width,o.height=a.height)}a._d3locale=_G(p,a.separators),a._extraFormat=Dw(e,mG),a._initialAutoSizeIsDone=!0,a._dataLength=u.length,a._modules=[],a._visibleModules=[],a._basePlotModules=[];var S=a._subplots=bG(),x=a._splomAxes={x:{},y:{}},T=a._splomSubplots={};a._splomGridDflt={},a._scatterStackOpts={},a._firstScatter={},a._alignmentOpts={},a._colorAxes={},a._requestRangeslider={},a._traceUids=xG(i,u),cr.supplyDataDefaults(u,l,o,a);var d=Object.keys(x.x),_=Object.keys(x.y);if(d.length>1&&_.length>1){for(ot.getComponentMethod("grid","sizeDefaults")(o,a),v=0;v<d.length;v++)xr.pushUnique(S.xaxis,d[v]);for(v=0;v<_.length;v++)xr.pushUnique(S.yaxis,_[v]);for(var g in T)xr.pushUnique(S.cartesian,g)}if(a._has=cr._hasPlotType.bind(a),i.length===l.length)for(v=0;v<l.length;v++)Rw(l[v],i[v]);cr.supplyLayoutModuleDefaults(o,a,l,e._transitionData);var c=a._visibleModules,A=[];for(v=0;v<c.length;v++){var h=c[v].crossTraceDefaults;h&&xr.pushUnique(A,h)}for(v=0;v<A.length;v++)A[v](l,a);a._hasOnlyLargeSploms=a._basePlotModules.length===1&&a._basePlotModules[0].name==="splom"&&d.length>15&&_.length>15&&a.shapes.length===0&&a.images.length===0,cr.linkSubplots(l,a,i,n),cr.cleanPlot(l,a,i,n);var R=!!(n._has&&n._has("cartesian")),E=!!(a._has&&a._has("cartesian")),D=R,N=E;D&&!N?n._bgLayer.remove():N&&!D&&(a._shouldCreateBgLayer=!0),n._zoomlayer&&!e._dragging&&vG({_fullLayout:n}),wG(l,a),Rw(a,n),ot.getComponentMethod("colorscale","crossTraceDefaults")(l,a),a._preGUI||(a._preGUI={}),a._tracePreGUI||(a._tracePreGUI={});var I=a._tracePreGUI,F={},L;for(L in I)F[L]="old";for(v=0;v<l.length;v++)L=l[v]._fullInput.uid,F[L]||(I[L]={}),F[L]="new";for(L in F)F[L]==="old"&&delete I[L];Ow(a),ot.getComponentMethod("rangeslider","makeData")(a),!t&&s.length===l.length&&cr.supplyDefaultsUpdateCalc(s,l)};cr.supplyDefaultsUpdateCalc=function(e,r){for(var t=0;t<r.length;t++){var n=r[t],a=(e[t]||[])[0];if(a&&a.trace){var o=a.trace;if(o._hasCalcTransform){var i=o._arrayAttrs,l,u,s;for(l=0;l<i.length;l++)u=i[l],s=xr.nestedProperty(o,u).get().slice(),xr.nestedProperty(n,u).set(s)}a.trace=n}}};function xG(e,r){var t=r.length,n=[],a,o;for(a=0;a<e.length;a++){var i=e[a]._fullInput;i!==o&&n.push(i),o=i}var l=n.length,u=new Array(t),s={};function f(b,y){u[y]=b,s[b]=1}function v(b,y){if(b&&typeof b=="string"&&!s[b])return f(b,y),!0}for(a=0;a<t;a++){var p=r[a].uid;typeof p=="number"&&(p=String(p)),!v(p,a)&&(a<l&&v(n[a].uid,a)||f(xr.randstr(s),a))}return u}function bG(){var e=ot.collectableSubplotTypes,r={},t,n;if(!e){e=[];var a=ot.subplotsRegistry;for(var o in a){var i=a[o],l=i.attr;if(l&&(e.push(o),Array.isArray(l)))for(n=0;n<l.length;n++)xr.pushUnique(e,l[n])}}for(t=0;t<e.length;t++)r[e[t]]=[];return r}function Dw(e,r){var t=e._context.locale;t||(t="en-US");var n=!1,a={};function o(v){for(var p=!0,b=0;b<r.length;b++){var y=r[b];a[y]||(v[y]?a[y]=v[y]:p=!1)}p&&(n=!0)}for(var i=0;i<2;i++){for(var l=e._context.locales,u=0;u<2;u++){var s=(l[t]||{}).format;if(s&&(o(s),n))break;l=ot.localeRegistry}var f=t.split("-")[0];if(n||f===t)break;t=f}return n||o(ot.localeRegistry.en.format),a}function _G(e,r){return e.decimal=r.charAt(0),e.thousands=r.charAt(1),{numberFormat:function(t){try{t=uG(e).format(xr.adjustFormat(t))}catch(n){return xr.warnBadFormat(t),xr.noFormat}return t},timeFormat:sG(e).utcFormat}}function wG(e,r){var t,n=[];r.meta&&(t=r._meta={meta:r.meta,layout:{meta:r.meta}});for(var a=0;a<e.length;a++){var o=e[a];o.meta?n[o.index]=o._meta={meta:o.meta}:r.meta&&(o._meta={meta:r.meta}),r.meta&&(o._meta.layout={meta:r.meta})}n.length&&(t||(t=r._meta={}),t.data=n)}cr.createTransitionData=function(e){e._transitionData||(e._transitionData={}),e._transitionData._frames||(e._transitionData._frames=[]),e._transitionData._frameHash||(e._transitionData._frameHash={}),e._transitionData._counter||(e._transitionData._counter=0),e._transitionData._interruptCallbacks||(e._transitionData._interruptCallbacks=[])};cr._hasPlotType=function(e){var r,t=this._basePlotModules||[];for(r=0;r<t.length;r++)if(t[r].name===e)return!0;var n=this._modules||[];for(r=0;r<n.length;r++){var a=n[r].name;if(a===e)return!0;var o=ot.modules[a];if(o&&o.categories[e])return!0}return!1};cr.cleanPlot=function(e,r,t,n){var a,o,i=n._basePlotModules||[];for(a=0;a<i.length;a++){var l=i[a];l.clean&&l.clean(e,r,t,n)}var u=n._has&&n._has("gl"),s=r._has&&r._has("gl");u&&!s&&n._glcontainer!==void 0&&(n._glcontainer.selectAll(".gl-canvas").remove(),n._glcontainer.selectAll(".no-webgl").remove(),n._glcanvas=null);var f=!!n._infolayer;e:for(a=0;a<t.length;a++){var v=t[a],p=v.uid;for(o=0;o<e.length;o++){var b=e[o];if(p===b.uid)continue e}f&&n._infolayer.select(".cb"+p).remove()}};cr.linkSubplots=function(e,r,t,n){var a,o,i=n._plots||{},l=r._plots={},u=r._subplots,s={_fullData:e,_fullLayout:r},f=u.cartesian||[];for(a=0;a<f.length;a++){var v=f[a],p=i[v],b=ia.getFromId(s,v,"x"),y=ia.getFromId(s,v,"y"),w;for(p?w=l[v]=p:(w=l[v]={},w.id=v),b._counterAxes.push(y._id),y._counterAxes.push(b._id),b._subplotsWith.push(v),y._subplotsWith.push(v),w.xaxis=b,w.yaxis=y,w._hasClipOnAxisFalse=!1,o=0;o<e.length;o++){var M=e[o];if(M.xaxis===w.xaxis._id&&M.yaxis===w.yaxis._id&&M.cliponaxis===!1){w._hasClipOnAxisFalse=!0;break}}}var m=ia.list(s,null,!0),k;for(a=0;a<m.length;a++){k=m[a];var S=null;k.overlaying&&(S=ia.getFromId(s,k.overlaying),S&&S.overlaying&&(k.overlaying=!1,S=null)),k._mainAxis=S||k,S&&(k.domain=S.domain.slice()),k._anchorAxis=k.anchor==="free"?null:ia.getFromId(s,k.anchor)}for(a=0;a<m.length;a++)if(k=m[a],k._counterAxes.sort(ia.idSort),k._subplotsWith.sort(xr.subplotSort),k._mainSubplot=MG(k,r),k._counterAxes.length&&(k.spikemode&&k.spikemode.indexOf("across")!==-1||k.automargin&&k.mirror&&k.anchor!=="free"||ot.getComponentMethod("rangeslider","isVisible")(k))){var x=1,T=0;for(o=0;o<k._counterAxes.length;o++){var d=ia.getFromId(s,k._counterAxes[o]);x=Math.min(x,d.domain[0]),T=Math.max(T,d.domain[1])}x<T&&(k._counterDomainMin=x,k._counterDomainMax=T)}};function MG(e,r){var t={_fullLayout:r},n=e._id.charAt(0)==="x",a=e._mainAxis._anchorAxis,o="",i="",l="";if(a&&(l=a._mainAxis._id,o=n?e._id+l:l+e._id),!o||!r._plots[o]){o="";for(var u=e._counterAxes,s=0;s<u.length;s++){var f=u[s],v=n?e._id+f:f+e._id;i||(i=v);var p=ia.getFromId(t,f);if(l&&p.overlaying===l){o=v;break}}}return o||i}cr.clearExpandedTraceDefaultColors=function(e){var r,t,n;function a(i,l,u,s){t[s]=l,t.length=s+1,i.valType==="color"&&i.dflt===void 0&&r.push(t.join("."))}for(t=[],r=e._module._colorAttrs,r||(e._module._colorAttrs=r=[],zw.crawl(e._module.attributes,a)),n=0;n<r.length;n++){var o=xr.nestedProperty(e,"_input."+r[n]);o.get()||xr.nestedProperty(e,r[n]).set(null)}};cr.supplyDataDefaults=function(e,r,t,n){var a=n._modules,o=n._visibleModules,i=n._basePlotModules,l=0,u=0,s,f,v;n._transformModules=[];function p(k){r.push(k);var S=k._module;S&&(xr.pushUnique(a,S),k.visible===!0&&xr.pushUnique(o,S),xr.pushUnique(i,k._module.basePlotModule),l++,k._input.visible!==!1&&u++)}var b={},y=[],w=(t.template||{}).data||{},M=cG.traceTemplater(w);for(s=0;s<e.length;s++)v=e[s],f=M.newTrace(v),f.uid=n._traceUids[s],cr.supplyTraceDefaults(v,f,u,n,s),f.index=s,f._input=v,f._fullInput=f,p(f),ot.traceIs(f,"carpetAxis")&&(b[f.carpet]=f),ot.traceIs(f,"carpetDependent")&&y.push(s);for(s=0;s<y.length;s++)if(f=r[y[s]],!!f.visible){var m=b[f.carpet];if(f._carpet=m,!m||!m.visible){f.visible=!1;continue}f.xaxis=m.xaxis,f.yaxis=m.yaxis}};cr.supplyAnimationDefaults=function(e){e=e||{};var r,t={};function n(a,o){return xr.coerce(e||{},t,eg,a,o)}if(n("mode"),n("direction"),n("fromcurrent"),Array.isArray(e.frame))for(t.frame=[],r=0;r<e.frame.length;r++)t.frame[r]=cr.supplyAnimationFrameDefaults(e.frame[r]||{});else t.frame=cr.supplyAnimationFrameDefaults(e.frame||{});if(Array.isArray(e.transition))for(t.transition=[],r=0;r<e.transition.length;r++)t.transition[r]=cr.supplyAnimationTransitionDefaults(e.transition[r]||{});else t.transition=cr.supplyAnimationTransitionDefaults(e.transition||{});return t};cr.supplyAnimationFrameDefaults=function(e){var r={};function t(n,a){return xr.coerce(e||{},r,eg.frame,n,a)}return t("duration"),t("redraw"),r};cr.supplyAnimationTransitionDefaults=function(e){var r={};function t(n,a){return xr.coerce(e||{},r,eg.transition,n,a)}return t("duration"),t("easing"),r};cr.supplyFrameDefaults=function(e){var r={};function t(n,a){return xr.coerce(e,r,dG,n,a)}return t("group"),t("name"),t("traces"),t("baseframe"),t("data"),t("layout"),r};cr.supplyTraceDefaults=function(e,r,t,n,a){var o=n.colorway||qw.defaults,i=o[t%o.length],l;function u(S,x){return xr.coerce(e,r,cr.attributes,S,x)}var s=u("visible");u("type"),u("name",n._traceWord+" "+a),u("uirevision",n.uirevision);var f=cr.getModule(r);if(r._module=f,f){var v=f.basePlotModule,p=v.attr,b=v.attributes;if(p&&b){var y=n._subplots,w="";if(Array.isArray(p))for(l=0;l<p.length;l++){var M=p[l],m=xr.coerce(e,r,b,M);y[M]&&xr.pushUnique(y[M],m),w+=m}else w=xr.coerce(e,r,b,p);y[v.name]&&xr.pushUnique(y[v.name],w)}}if(s&&(u("customdata"),u("ids"),u("meta"),ot.traceIs(r,"showLegend")?(xr.coerce(e,r,f.attributes.showlegend?f.attributes:cr.attributes,"showlegend"),u("legend"),u("legendwidth"),u("legendgroup"),u("legendgrouptitle.text"),u("legendrank"),r._dfltShowLegend=!0):r._dfltShowLegend=!1,f&&f.supplyDefaults(e,r,i,n),ot.traceIs(r,"noOpacity")||u("opacity"),ot.traceIs(r,"notLegendIsolatable")&&(r.visible=!!r.visible),ot.traceIs(r,"noHover")||(r.hovertemplate||xr.coerceHoverinfo(e,r,n),r.type!=="parcats"&&ot.getComponentMethod("fx","supplyDefaults")(e,r,i,n)),f&&f.selectPoints)){var k=u("selectedpoints");xr.isTypedArray(k)&&(r.selectedpoints=Array.from(k))}return r};cr.supplyLayoutGlobalDefaults=function(e,r,t){function n(v,p){return xr.coerce(e,r,cr.layoutAttributes,v,p)}var a=e.template;xr.isPlainObject(a)&&(r.template=a,r._template=a.layout,r._dataTemplate=a.data),n("autotypenumbers");var o=xr.coerceFont(n,"font"),i=o.size;xr.coerceFont(n,"title.font",o,{overrideDflt:{size:Math.round(i*1.4)}}),n("title.text",r._dfltTitle.plot),n("title.xref");var l=n("title.yref");n("title.pad.t"),n("title.pad.r"),n("title.pad.b"),n("title.pad.l");var u=n("title.automargin");n("title.x"),n("title.xanchor"),n("title.y"),n("title.yanchor"),n("title.subtitle.text",r._dfltTitle.subtitle),xr.coerceFont(n,"title.subtitle.font",o,{overrideDflt:{size:Math.round(r.title.font.size*.7)}}),u&&(l==="paper"&&(r.title.y!==0&&(r.title.y=1),r.title.yanchor==="auto"&&(r.title.yanchor=r.title.y===0?"top":"bottom")),l==="container"&&(r.title.y==="auto"&&(r.title.y=1),r.title.yanchor==="auto"&&(r.title.yanchor=r.title.y<.5?"bottom":"top")));var s=n("uniformtext.mode");s&&n("uniformtext.minsize"),n("autosize",!(e.width&&e.height)),n("width"),n("height"),n("minreducedwidth"),n("minreducedheight"),n("margin.l"),n("margin.r"),n("margin.t"),n("margin.b"),n("margin.pad"),n("margin.autoexpand"),e.width&&e.height&&cr.sanitizeMargins(r),ot.getComponentMethod("grid","sizeDefaults")(e,r),n("paper_bgcolor"),n("separators",t.decimal+t.thousands),n("hidesources"),n("colorway"),n("datarevision");var f=n("uirevision");n("editrevision",f),n("selectionrevision",f),ot.getComponentMethod("modebar","supplyLayoutDefaults")(e,r),ot.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(e,r,n),ot.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(e,r,n),n("meta"),xr.isPlainObject(e.transition)&&(n("transition.duration"),n("transition.easing"),n("transition.ordering")),ot.getComponentMethod("calendars","handleDefaults")(e,r,"calendar"),ot.getComponentMethod("fx","supplyLayoutGlobalDefaults")(e,r,n),xr.coerce(e,r,hG,"scattermode")};function fv(e){return typeof e=="string"&&e.substr(e.length-2)==="px"&&parseFloat(e)}cr.plotAutoSize=function(r,t,n){var a=r._context||{},o=a.frameMargins,i,l,u=xr.isPlotDiv(r);if(u&&r.emit("plotly_autosize"),a.fillFrame)i=window.innerWidth,l=window.innerHeight,document.body.style.overflow="hidden";else{var s=u?window.getComputedStyle(r):{};if(i=fv(s.width)||fv(s.maxWidth)||n.width,l=fv(s.height)||fv(s.maxHeight)||n.height,wf(o)&&o>0){var f=1-2*o;i=Math.round(f*i),l=Math.round(f*l)}}var v=cr.layoutAttributes.width.min,p=cr.layoutAttributes.height.min;i<v&&(i=v),l<p&&(l=p);var b=!t.width&&Math.abs(n.width-i)>1,y=!t.height&&Math.abs(n.height-l)>1;(y||b)&&(b&&(n.width=i),y&&(n.height=l)),r._initialAutoSize||(r._initialAutoSize={width:i,height:l}),cr.sanitizeMargins(n)};cr.supplyLayoutModuleDefaults=function(e,r,t,n){var a=ot.componentsRegistry,o=r._basePlotModules,i,l,u,s=ot.subplotsRegistry.cartesian;for(i in a)u=a[i],u.includeBasePlot&&u.includeBasePlot(e,r);o.length||o.push(s),r._has("cartesian")&&(ot.getComponentMethod("grid","contentDefaults")(e,r),s.finalizeSubplots(e,r));for(var f in r._subplots)r._subplots[f].sort(xr.subplotSort);for(l=0;l<o.length;l++)u=o[l],u.supplyLayoutDefaults&&u.supplyLayoutDefaults(e,r,t);var v=r._modules;for(l=0;l<v.length;l++)u=v[l],u.supplyLayoutDefaults&&u.supplyLayoutDefaults(e,r,t);var p=r._transformModules;for(l=0;l<p.length;l++)u=p[l],u.supplyLayoutDefaults&&u.supplyLayoutDefaults(e,r,t,n);for(i in a)u=a[i],u.supplyLayoutDefaults&&u.supplyLayoutDefaults(e,r,t)};cr.purge=function(e){var r=e._fullLayout||{};r._glcontainer!==void 0&&(r._glcontainer.selectAll(".gl-canvas").remove(),r._glcontainer.remove(),r._glcanvas=null),r._modeBar&&r._modeBar.destroy(),e._transitionData&&(e._transitionData._interruptCallbacks&&(e._transitionData._interruptCallbacks.length=0),e._transitionData._animationRaf&&window.cancelAnimationFrame(e._transitionData._animationRaf)),xr.clearThrottle(),xr.clearResponsive(e),delete e.data,delete e.layout,delete e._fullData,delete e._fullLayout,delete e.calcdata,delete e.empty,delete e.fid,delete e.undoqueue,delete e.undonum,delete e.autoplay,delete e.changed,delete e._promises,delete e._redrawTimer,delete e._hmlumcount,delete e._hmpixcount,delete e._transitionData,delete e._transitioning,delete e._initialAutoSize,delete e._transitioningWithDuration,delete e._dragging,delete e._dragged,delete e._dragdata,delete e._hoverdata,delete e._snapshotInProgress,delete e._editing,delete e._mouseDownTime,delete e._legendMouseDownTime,e.removeAllListeners&&e.removeAllListeners()};cr.style=function(e){var r=e._fullLayout._visibleModules,t=[],n;for(n=0;n<r.length;n++){var a=r[n];a.style&&xr.pushUnique(t,a.style)}for(n=0;n<t.length;n++)t[n](e)};cr.sanitizeMargins=function(e){if(!(!e||!e.margin)){var r=e.width,t=e.height,n=e.margin,a=r-(n.l+n.r),o=t-(n.t+n.b),i;a<0&&(i=(r-1)/(n.l+n.r),n.l=Math.floor(i*n.l),n.r=Math.floor(i*n.r)),o<0&&(i=(t-1)/(n.t+n.b),n.t=Math.floor(i*n.t),n.b=Math.floor(i*n.b))}};cr.clearAutoMarginIds=function(e){e._fullLayout._pushmarginIds={}};cr.allowAutoMargin=function(e,r){e._fullLayout._pushmarginIds[r]=1};function Ow(e){var r=e.margin;if(!e._size){var t=e._size={l:Math.round(r.l),r:Math.round(r.r),t:Math.round(r.t),b:Math.round(r.b),p:Math.round(r.pad)};t.w=Math.round(e.width)-t.l-t.r,t.h=Math.round(e.height)-t.t-t.b}e._pushmargin||(e._pushmargin={}),e._pushmarginIds||(e._pushmarginIds={}),e._reservedMargin||(e._reservedMargin={})}var Bw=2,Uw=2;cr.autoMargin=function(e,r,t){var n=e._fullLayout,a=n.width,o=n.height,i=n.margin,l=n.minreducedwidth,u=n.minreducedheight,s=xr.constrain(a-i.l-i.r,Bw,l),f=xr.constrain(o-i.t-i.b,Uw,u),v=Math.max(0,a-s),p=Math.max(0,o-f),b=n._pushmargin,y=n._pushmarginIds;if(i.autoexpand!==!1){if(!t)delete b[r],delete y[r];else{var w=t.pad;if(w===void 0&&(w=Math.min(12,i.l,i.r,i.t,i.b)),v){var M=(t.l+t.r)/v;M>1&&(t.l/=M,t.r/=M)}if(p){var m=(t.t+t.b)/p;m>1&&(t.t/=m,t.b/=m)}var k=t.xl!==void 0?t.xl:t.x,S=t.xr!==void 0?t.xr:t.x,x=t.yt!==void 0?t.yt:t.y,T=t.yb!==void 0?t.yb:t.y;b[r]={l:{val:k,size:t.l+w},r:{val:S,size:t.r+w},b:{val:T,size:t.b+w},t:{val:x,size:t.t+w}},y[r]=1}if(!n._replotting)return cr.doAutoMargin(e)}};function TG(e){if("_redrawFromAutoMarginCount"in e._fullLayout)return!1;var r=ia.list(e,"",!0);for(var t in r)if(r[t].autoshift||r[t].shift)return!0;return!1}cr.doAutoMargin=function(e){var r=e._fullLayout,t=r.width,n=r.height;r._size||(r._size={}),Ow(r);var a=r._size,o=r.margin,i={t:0,b:0,l:0,r:0},l=xr.extendFlat({},a),u=o.l,s=o.r,f=o.t,v=o.b,p=r._pushmargin,b=r._pushmarginIds,y=r.minreducedwidth,w=r.minreducedheight;if(o.autoexpand!==!1){for(var M in p)b[M]||delete p[M];var m=e._fullLayout._reservedMargin;for(var k in m)for(var S in m[k]){var x=m[k][S];i[S]=Math.max(i[S],x)}p.base={l:{val:0,size:u},r:{val:1,size:s},t:{val:1,size:f},b:{val:0,size:v}};for(var T in i){var d=0;for(var _ in p)_!=="base"&&wf(p[_][T].size)&&(d=p[_][T].size>d?p[_][T].size:d);var g=Math.max(0,o[T]-d);i[T]=Math.max(0,i[T]-g)}for(var c in p){var A=p[c].l||{},h=p[c].b||{},R=A.val,E=A.size,D=h.val,N=h.size,I=t-i.r-i.l,F=n-i.t-i.b;for(var L in p){if(wf(E)&&p[L].r){var P=p[L].r.val,O=p[L].r.size;if(P>R){var U=(E*P+(O-I)*R)/(P-R),X=(O*(1-R)+(E-I)*(1-P))/(P-R);U+X>u+s&&(u=U,s=X)}}if(wf(N)&&p[L].t){var j=p[L].t.val,$=p[L].t.size;if(j>D){var Y=(N*j+($-F)*D)/(j-D),q=($*(1-D)+(N-F)*(1-j))/(j-D);Y+q>v+f&&(v=Y,f=q)}}}}}var Z=xr.constrain(t-o.l-o.r,Bw,y),ne=xr.constrain(n-o.t-o.b,Uw,w),Q=Math.max(0,t-Z),oe=Math.max(0,n-ne);if(Q){var ee=(u+s)/Q;ee>1&&(u/=ee,s/=ee)}if(oe){var G=(v+f)/oe;G>1&&(v/=G,f/=G)}if(a.l=Math.round(u)+i.l,a.r=Math.round(s)+i.r,a.t=Math.round(f)+i.t,a.b=Math.round(v)+i.b,a.p=Math.round(o.pad),a.w=Math.round(t)-a.l-a.r,a.h=Math.round(n)-a.t-a.b,!r._replotting&&(cr.didMarginChange(l,a)||TG(e))){"_redrawFromAutoMarginCount"in r?r._redrawFromAutoMarginCount++:r._redrawFromAutoMarginCount=1;var re=3*(1+Object.keys(b).length);if(r._redrawFromAutoMarginCount<re)return ot.call("_doPlot",e);r._size=l,xr.warn("Too many auto-margin redraws.")}AG(e)};function AG(e){var r=ia.list(e,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(t){for(var n=0;n<r.length;n++){var a=r[n][t];a&&a()}})}var Pw=["l","r","t","b","p","w","h"];cr.didMarginChange=function(e,r){for(var t=0;t<Pw.length;t++){var n=Pw[t],a=e[n],o=r[n];if(!wf(a)||Math.abs(o-a)>1)return!0}return!1};cr.graphJson=function(e,r,t,n,a,o){(a&&r&&!e._fullData||a&&!r&&!e._fullLayout)&&cr.supplyDefaults(e);var i=a?e._fullData:e.data,l=a?e._fullLayout:e.layout,u=(e._transitionData||{})._frames;function s(p,b){if(typeof p=="function")return b?"_function_":null;if(xr.isPlainObject(p)){var y={},w;return Object.keys(p).sort().forEach(function(S){if(["_","["].indexOf(S.charAt(0))===-1){if(typeof p[S]=="function"){b&&(y[S]="_function");return}if(t==="keepdata"){if(S.substr(S.length-3)==="src")return}else if(t==="keepstream"){if(w=p[S+"src"],typeof w=="string"&&w.indexOf(":")>0&&!xr.isPlainObject(p.stream))return}else if(t!=="keepall"&&(w=p[S+"src"],typeof w=="string"&&w.indexOf(":")>0))return;y[S]=s(p[S],b)}}),y}var M=Array.isArray(p),m=xr.isTypedArray(p);if((M||m)&&p.dtype&&p.shape){var k=p.bdata;return s({dtype:p.dtype,shape:p.shape,bdata:xr.isArrayBuffer(k)?fG.encode(k):k},b)}return M?p.map(function(S){return s(S,b)}):m?xr.simpleMap(p,xr.identity):xr.isJSDate(p)?xr.ms2DateTimeLocal(+p):p}var f={data:(i||[]).map(function(p){var b=s(p);return r&&delete b.fit,b})};if(!r&&(f.layout=s(l),a)){var v=l._size;f.layout.computed={margin:{b:v.b,l:v.l,r:v.r,t:v.t}}}return u&&(f.frames=s(u)),o&&(f.config=s(e._context,!0)),n==="object"?f:JSON.stringify(f)};cr.modifyFrames=function(e,r){var t,n,a,o=e._transitionData._frames,i=e._transitionData._frameHash;for(t=0;t<r.length;t++)switch(n=r[t],n.type){case"replace":a=n.value;var l=(o[n.index]||{}).name,u=a.name;o[n.index]=i[u]=a,u!==l&&(delete i[l],i[u]=a);break;case"insert":a=n.value,i[a.name]=a,o.splice(n.index,0,a);break;case"delete":a=o[n.index],delete i[a.name],o.splice(n.index,1);break}return Promise.resolve()};cr.computeFrame=function(e,r){var t=e._transitionData._frameHash,n,a,o,i;if(!r)throw new Error("computeFrame must be given a string frame name");var l=t[r.toString()];if(!l)return!1;for(var u=[l],s=[l.name];l.baseframe&&(l=t[l.baseframe.toString()])&&s.indexOf(l.name)===-1;)u.push(l),s.push(l.name);for(var f={};l=u.pop();)if(l.layout&&(f.layout=cr.extendLayout(f.layout,l.layout)),l.data){if(f.data||(f.data=[]),a=l.traces,!a)for(a=[],n=0;n<l.data.length;n++)a[n]=n;for(f.traces||(f.traces=[]),n=0;n<l.data.length;n++)o=a[n],o!=null&&(i=f.traces.indexOf(o),i===-1&&(i=f.data.length,f.traces[i]=o),f.data[i]=cr.extendTrace(f.data[i],l.data[n]))}return f};cr.recomputeFrameHash=function(e){for(var r=e._transitionData._frameHash={},t=e._transitionData._frames,n=0;n<t.length;n++){var a=t[n];a&&a.name&&(r[a.name]=a)}};cr.extendObjectWithContainers=function(e,r,t){var n,a,o,i,l,u,s,f,v=xr.extendDeepNoArrays({},r||{}),p=xr.expandObjectPaths(v),b={};if(t&&t.length)for(o=0;o<t.length;o++)n=xr.nestedProperty(p,t[o]),a=n.get(),a===void 0?xr.nestedProperty(b,t[o]).set(null):(n.set(null),xr.nestedProperty(b,t[o]).set(a));if(e=xr.extendDeepNoArrays(e||{},p),t&&t.length){for(o=0;o<t.length;o++)if(l=xr.nestedProperty(b,t[o]),s=l.get(),!!s){for(u=xr.nestedProperty(e,t[o]),f=u.get(),Array.isArray(f)||(f=[],u.set(f)),i=0;i<s.length;i++){var y=s[i];y===null?f[i]=null:f[i]=cr.extendObjectWithContainers(f[i],y)}u.set(f)}}return e};cr.dataArrayContainers=["transforms","dimensions"];cr.layoutArrayContainers=ot.layoutArrayContainers;cr.extendTrace=function(e,r){return cr.extendObjectWithContainers(e,r,cr.dataArrayContainers)};cr.extendLayout=function(e,r){return cr.extendObjectWithContainers(e,r,cr.layoutArrayContainers)};cr.transition=function(e,r,t,n,a,o){var i={redraw:a.redraw},l={},u=[];return i.prepareFn=function(){for(var s=Array.isArray(r)?r.length:0,f=n.slice(0,s),v=0;v<f.length;v++){var p=f[v],b=e._fullData[p],y=b._module;if(y){if(y.animatable){var w=y.basePlotModule.name;l[w]||(l[w]=[]),l[w].push(p)}e.data[f[v]]=cr.extendTrace(e.data[f[v]],r[v])}}var M=xr.expandObjectPaths(xr.extendDeepNoArrays({},t)),m=/^[xy]axis[0-9]*$/;for(var k in M)m.test(k)&&delete M[k].range;cr.extendLayout(e.layout,M),delete e.calcdata,cr.supplyDefaults(e),cr.doCalcdata(e);var S=xr.expandObjectPaths(t);if(S){var x=e._fullLayout._plots;for(var T in x){var d=x[T],_=d.xaxis,g=d.yaxis,c=_.range.slice(),A=g.range.slice(),h=null,R=null,E=null,D=null;Array.isArray(S[_._name+".range"])?h=S[_._name+".range"].slice():Array.isArray((S[_._name]||{}).range)&&(h=S[_._name].range.slice()),Array.isArray(S[g._name+".range"])?R=S[g._name+".range"].slice():Array.isArray((S[g._name]||{}).range)&&(R=S[g._name].range.slice()),c&&h&&(_.r2l(c[0])!==_.r2l(h[0])||_.r2l(c[1])!==_.r2l(h[1]))&&(E={xr0:c,xr1:h}),A&&R&&(g.r2l(A[0])!==g.r2l(R[0])||g.r2l(A[1])!==g.r2l(R[1]))&&(D={yr0:A,yr1:R}),(E||D)&&u.push(xr.extendFlat({plotinfo:d},E,D))}}return Promise.resolve()},i.runFn=function(s){var f,v=e._fullLayout._basePlotModules,p=u.length,b;if(t)for(b=0;b<v.length;b++)v[b].transitionAxes&&v[b].transitionAxes(e,u,o,s);p?(f=xr.extendFlat({},o),f.duration=0,delete l.cartesian):f=o;for(var y in l){var w=l[y],M=e._fullData[w[0]]._module;M.basePlotModule.plot(e,w,f,s)}},Hw(e,o,i)};cr.transitionFromReact=function(e,r,t,n){var a=e._fullLayout,o=a.transition,i={},l=[];return i.prepareFn=function(){var u=a._plots;i.redraw=!1,r.anim==="some"&&(i.redraw=!0),t.anim==="some"&&(i.redraw=!0);for(var s in u){var f=u[s],v=f.xaxis,p=f.yaxis,b=n[v._name].range.slice(),y=n[p._name].range.slice(),w=v.range.slice(),M=p.range.slice();v.setScale(),p.setScale();var m=null,k=null;(v.r2l(b[0])!==v.r2l(w[0])||v.r2l(b[1])!==v.r2l(w[1]))&&(m={xr0:b,xr1:w}),(p.r2l(y[0])!==p.r2l(M[0])||p.r2l(y[1])!==p.r2l(M[1]))&&(k={yr0:y,yr1:M}),(m||k)&&l.push(xr.extendFlat({plotinfo:f},m,k))}return Promise.resolve()},i.runFn=function(u){for(var s=e._fullData,f=e._fullLayout,v=f._basePlotModules,p,b,y,w=[],M=0;M<s.length;M++)w.push(M);function m(){if(e._fullLayout)for(var S=0;S<v.length;S++)v[S].transitionAxes&&v[S].transitionAxes(e,l,p,u)}function k(){if(e._fullLayout)for(var S=0;S<v.length;S++)v[S].plot(e,y,b,u)}l.length&&r.anim?o.ordering==="traces first"?(p=xr.extendFlat({},o,{duration:0}),y=w,b=o,setTimeout(m,o.duration),k()):(p=o,y=null,b=xr.extendFlat({},o,{duration:0}),setTimeout(k,p.duration),m()):l.length?(p=o,m()):r.anim&&(y=w,b=o,k())},Hw(e,o,i)};function Hw(e,r,t){var n=!1;function a(v){var p=Promise.resolve();if(!v)return p;for(;v.length;)p=p.then(v.shift());return p}function o(v){if(v)for(;v.length;)v.shift()}function i(){return e.emit("plotly_transitioning",[]),new Promise(function(v){e._transitioning=!0,r.duration>0&&(e._transitioningWithDuration=!0),e._transitionData._interruptCallbacks.push(function(){n=!0}),t.redraw&&e._transitionData._interruptCallbacks.push(function(){return ot.call("redraw",e)}),e._transitionData._interruptCallbacks.push(function(){e.emit("plotly_transitioninterrupted",[])});var p=0,b=0;function y(){return p++,function(){b++,!n&&b===p&&l(v)}}t.runFn(y),setTimeout(y())})}function l(v){if(e._transitionData)return o(e._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(t.redraw)return ot.call("redraw",e)}).then(function(){e._transitioning=!1,e._transitioningWithDuration=!1,e.emit("plotly_transitioned",[])}).then(v)}function u(){if(e._transitionData)return e._transitioning=!1,a(e._transitionData._interruptCallbacks)}var s=[cr.previousPromises,u,t.prepareFn,cr.rehover,cr.reselect,i],f=xr.syncOrAsync(s,e);return(!f||!f.then)&&(f=Promise.resolve()),f.then(function(){return e})}cr.doCalcdata=function(e,r){var t=ia.list(e),n=e._fullData,a=e._fullLayout,o,i,l,u,s=new Array(n.length),f=(e.calcdata||[]).slice();for(e.calcdata=s,a._numBoxes=0,a._numViolins=0,a._violinScaleGroupStats={},e._hmpixcount=0,e._hmlumcount=0,a._piecolormap={},a._sunburstcolormap={},a._treemapcolormap={},a._iciclecolormap={},a._funnelareacolormap={},l=0;l<n.length;l++)if(Array.isArray(r)&&r.indexOf(l)===-1){s[l]=f[l];continue}for(l=0;l<n.length;l++)o=n[l],o._arrayAttrs=zw.findArrayAttributes(o),o._extremes={};var v=a._subplots.polar||[];for(l=0;l<v.length;l++)t.push(a[v[l]].radialaxis,a[v[l]].angularaxis);for(var p in a._colorAxes){var b=a[p];b.cauto!==!1&&(delete b.cmin,delete b.cmax)}var y=!1;function w(k){if(o=n[k],i=o._module,o.visible===!0&&o.transforms){if(i&&i.calc){var S=i.calc(e,o);S[0]&&S[0].t&&S[0].t._scene&&delete S[0].t._scene.dirty}for(u=0;u<o.transforms.length;u++){var x=o.transforms[u];i=transformsRegistry[x.type],i&&i.calcTransform&&(o._hasCalcTransform=!0,y=!0,i.calcTransform(e,o,x))}}}function M(k,S){if(o=n[k],i=o._module,!!i.isContainer===S){var x=[];if(o.visible===!0&&o._length!==0){delete o._indexToPoints;var T=o.transforms||[];for(u=T.length-1;u>=0;u--)if(T[u].enabled){o._indexToPoints=T[u]._indexToPoints;break}i&&i.calc&&(x=i.calc(e,o))}(!Array.isArray(x)||!x[0])&&(x=[{x:Lw,y:Lw}]),x[0].t||(x[0].t={}),x[0].trace=o,s[k]=x}}for(Fw(t,n,a),l=0;l<n.length;l++)M(l,!0);for(l=0;l<n.length;l++)w(l);for(y&&Fw(t,n,a),l=0;l<n.length;l++)M(l,!0);for(l=0;l<n.length;l++)M(l,!1);Iw(e);var m=SG(t,e);if(m.length){for(a._numBoxes=0,a._numViolins=0,l=0;l<m.length;l++)M(m[l],!0);for(l=0;l<m.length;l++)M(m[l],!1);Iw(e)}ot.getComponentMethod("fx","calc")(e),ot.getComponentMethod("errorbars","calc")(e)};var kG=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function SG(e,r){var t=[],n,a,o,i,l;function u(L,P,O){var U=P._id.charAt(0);if(L==="histogram2dcontour"){var X=P._counterAxes[0],j=ia.getFromId(r,X),$=U==="x"||X==="x"&&j.type==="category",Y=U==="y"||X==="y"&&j.type==="category";return function(q,Z){return q===0||Z===0||$&&q===O[Z].length-1||Y&&Z===O.length-1?-1:(U==="y"?Z:q)-1}}else return function(q,Z){return U==="y"?Z:q}}var s={min:function(L){return xr.aggNums(Math.min,null,L)},max:function(L){return xr.aggNums(Math.max,null,L)},sum:function(L){return xr.aggNums(function(P,O){return P+O},null,L)},total:function(L){return xr.aggNums(function(P,O){return P+O},null,L)},mean:function(L){return xr.mean(L)},"geometric mean":function(L){return xr.geometricMean(L)},median:function(L){return xr.median(L)}};function f(L,P){return L[1]-P[1]}function v(L,P){return P[1]-L[1]}for(n=0;n<e.length;n++){var p=e[n];if(p.type==="category"){var b=p.categoryorder.match(kG);if(b){var y=b[1],w=b[2],M=p._id.charAt(0),m=M==="x",k=[];for(a=0;a<p._categories.length;a++)k.push([p._categories[a],[]]);for(a=0;a<p._traceIndices.length;a++){var S=p._traceIndices[a],x=r._fullData[S];if(x.visible===!0){var T=x.type;ot.traceIs(x,"histogram")&&(delete x._xautoBinFinished,delete x._yautoBinFinished);var d=T==="splom",_=T==="scattergl",g=r.calcdata[S];for(o=0;o<g.length;o++){var c=g[o],A,h;if(d){var R=x._axesDim[p._id];if(!m){var E=x._diag[R][0];E&&(p=r._fullLayout[ia.id2name(E)])}var D=c.trace.dimensions[R].values;for(i=0;i<D.length;i++)for(A=p._categoriesMap[D[i]],l=0;l<c.trace.dimensions.length;l++)if(l!==R){var N=c.trace.dimensions[l];k[A][1].push(N.values[i])}}else if(_){for(i=0;i<c.t.x.length;i++)m?(A=c.t.x[i],h=c.t.y[i]):(A=c.t.y[i],h=c.t.x[i]),k[A][1].push(h);c.t&&c.t._scene&&delete c.t._scene.dirty}else if(c.hasOwnProperty("z")){h=c.z;var I=u(x.type,p,h);for(i=0;i<h.length;i++)for(l=0;l<h[i].length;l++)A=I(l,i),A+1&&k[A][1].push(h[i][l])}else for(A=c.p,A===void 0&&(A=c[M]),h=c.s,h===void 0&&(h=c.v),h===void 0&&(h=m?c.y:c.x),Array.isArray(h)||(h===void 0?h=[]:h=[h]),i=0;i<h.length;i++)k[A][1].push(h[i])}}}p._categoriesValue=k;var F=[];for(a=0;a<k.length;a++)F.push([k[a][0],s[y](k[a][1])]);F.sort(w==="descending"?v:f),p._categoriesAggregatedValue=F,p._initialCategories=F.map(function(L){return L[0]}),t=t.concat(p.sortByInitialCategories())}}}return t}function Fw(e,r,t){var n={};function a(u){u.clearCalc(),u.type==="multicategory"&&u.setupMultiCategory(r),n[u._id]=1}xr.simpleMap(e,a);for(var o=t._axisMatchGroups||[],i=0;i<o.length;i++)for(var l in o[i])n[l]||a(t[ia.id2name(l)])}function Iw(e){var r=e._fullLayout,t=r._visibleModules,n={},a,o,i;for(o=0;o<t.length;o++){var l=t[o],u=l.crossTraceCalc;if(u){var s=l.basePlotModule.name;n[s]?xr.pushUnique(n[s],u):n[s]=[u]}}for(i in n){var f=n[i],v=r._subplots[i];if(Array.isArray(v))for(a=0;a<v.length;a++){var p=v[a],b=i==="cartesian"?r._plots[p]:r[p];for(o=0;o<f.length;o++)f[o](e,b,p)}else for(o=0;o<f.length;o++)f[o](e)}}cr.rehover=function(e){e._fullLayout._rehover&&e._fullLayout._rehover()};cr.redrag=function(e){e._fullLayout._redrag&&e._fullLayout._redrag()};cr.reselect=function(e){var r=e._fullLayout,t=(e.layout||{}).selections,n=r._previousSelections;r._previousSelections=t;var a=r._reselect||JSON.stringify(t)!==JSON.stringify(n);ot.getComponentMethod("selections","reselect")(e,a)};cr.generalUpdatePerTraceModule=function(e,r,t,n){var a=r.traceHash,o={},i;for(i=0;i<t.length;i++){var l=t[i],u=l[0].trace;u.visible&&(o[u.type]=o[u.type]||[],o[u.type].push(l))}for(var s in a)if(!o[s]){var f=a[s][0],v=f[0].trace;v.visible=!1,o[s]=[f]}for(var p in o){var b=o[p],y=b[0][0].trace._module;y.plot(e,r,xr.filterVisible(b),n)}r.traceHash=o};cr.plotBasePlot=function(e,r,t,n,a){var o=ot.getModule(e),i=pG(r.calcdata,o)[0];o.plot(r,i,n,a)};cr.cleanBasePlot=function(e,r,t,n,a){var o=a._has&&a._has(e),i=t._has&&t._has(e);o&&!i&&a["_"+e+"layer"].selectAll("g.trace").remove()}});var Io=pe(Pl=>{"use strict";Pl.xmlns="http://www.w3.org/2000/xmlns/";Pl.svg="http://www.w3.org/2000/svg";Pl.xlink="http://www.w3.org/1999/xlink";Pl.svgAttrs={xmlns:Pl.svg,"xmlns:xlink":Pl.xlink}});var qn=pe((G0e,Gw)=>{"use strict";Gw.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}});var Yn=pe(La=>{"use strict";var Yt=it(),eo=ir(),CG=eo.strTranslate,rg=Io(),EG=qn().LINE_SPACING,LG=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;La.convertToTspans=function(e,r,t){var n=e.text(),a=!e.attr("data-notex")&&r&&r._context.typesetMath&&typeof MathJax!="undefined"&&n.match(LG),o=Yt.select(e.node().parentNode);if(o.empty())return;var i=e.attr("class")?e.attr("class").split(" ")[0]:"text";i+="-math",o.selectAll("svg."+i).remove(),o.selectAll("g."+i+"-group").remove(),e.style("display",null).attr({"data-unformatted":n,"data-math":"N"});function l(){o.empty()||(i=e.attr("class")+"-math",o.select("svg."+i).remove()),e.text("").style("white-space","pre");var u=VG(e.node(),n);u&&e.style("pointer-events","all"),La.positionText(e),t&&t.call(e)}return a?(r&&r._promises||[]).push(new Promise(function(u){e.style("display","none");var s=parseInt(e.node().style.fontSize,10),f={fontSize:s};FG(a[2],f,function(v,p,b){o.selectAll("svg."+i).remove(),o.selectAll("g."+i+"-group").remove();var y=v&&v.select("svg");if(!y||!y.node()){l(),u();return}var w=o.append("g").classed(i+"-group",!0).attr({"pointer-events":"none","data-unformatted":n,"data-math":"Y"});w.node().appendChild(y.node()),p&&p.node()&&y.node().insertBefore(p.node().cloneNode(!0),y.node().firstChild);var M=b.width,m=b.height;y.attr({class:i,height:m,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var k=e.node().style.fill||"black",S=y.select("g");S.attr({fill:k,stroke:k});var x=S.node().getBoundingClientRect(),T=x.width,d=x.height;(T>M||d>m)&&(y.style("overflow","hidden"),x=y.node().getBoundingClientRect(),T=x.width,d=x.height);var _=+e.attr("x"),g=+e.attr("y"),c=s||e.node().getBoundingClientRect().height,A=-c/4;if(i[0]==="y")w.attr({transform:"rotate("+[-90,_,g]+")"+CG(-T/2,A-d/2)});else if(i[0]==="l")g=A-d/2;else if(i[0]==="a"&&i.indexOf("atitle")!==0)_=0,g=A;else{var h=e.attr("text-anchor");_=_-T*(h==="middle"?.5:h==="end"?1:0),g=g+A-d/2}y.attr({x:_,y:g}),t&&t.call(e,w),u(w)})})):l(),e};var RG=/(<|&lt;|&#60;)/g,DG=/(>|&gt;|&#62;)/g;function PG(e){return e.replace(RG,"\\lt ").replace(DG,"\\gt ")}var Yw=[["$","$"],["\\(","\\)"]];function FG(e,r,t){var n=parseInt((MathJax.version||"").split(".")[0]);if(n!==2&&n!==3){eo.warn("No MathJax version:",MathJax.version);return}var a,o,i,l,u=function(){return o=eo.extendDeepAll({},MathJax.Hub.config),i=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:Yw},displayAlign:"left"})},s=function(){o=eo.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=Yw},f=function(){if(a=MathJax.Hub.config.menuSettings.renderer,a!=="SVG")return MathJax.Hub.setRenderer("SVG")},v=function(){a=MathJax.config.startup.output,a!=="svg"&&(MathJax.config.startup.output="svg")},p=function(){var k="math-output-"+eo.randstr({},64);l=Yt.select("body").append("div").attr({id:k}).style({visibility:"hidden",position:"absolute","font-size":r.fontSize+"px"}).text(PG(e));var S=l.node();return n===2?MathJax.Hub.Typeset(S):MathJax.typeset([S])},b=function(){var k=l.select(n===2?".MathJax_SVG":".MathJax"),S=!k.empty()&&l.select("svg").node();if(!S)eo.log("There was an error in the tex syntax.",e),t();else{var x=S.getBoundingClientRect(),T;n===2?T=Yt.select("body").select("#MathJax_SVG_glyphs"):T=k.select("defs"),t(k,T,x)}l.remove()},y=function(){if(a!=="SVG")return MathJax.Hub.setRenderer(a)},w=function(){a!=="svg"&&(MathJax.config.startup.output=a)},M=function(){return i!==void 0&&(MathJax.Hub.processSectionDelay=i),MathJax.Hub.Config(o)},m=function(){MathJax.config=o};n===2?MathJax.Hub.Queue(u,f,p,b,y,M):n===3&&(s(),v(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){p(),b(),w(),m()}))}var Jw={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},IG={sub:"0.3em",sup:"-0.6em"},NG={sub:"-0.21em",sup:"0.42em"},Ww="\u200B",Xw=["http:","https:","mailto:","",void 0,":"],Kw=La.NEWLINES=/(\r\n?|\n)/g,ng=/(<[^<>]*>)/,ag=/<(\/?)([^ >]*)(\s+(.*))?>/i,zG=/<br(\s+.*)?>/i;La.BR_TAG_ALL=/<br(\s+.*)?>/gi;var Qw=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,$w=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,jw=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,qG=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function Fl(e,r){if(!e)return null;var t=e.match(r),n=t&&(t[3]||t[4]);return n&&vv(n)}var OG=/(^|;)\s*color:/;La.plainText=function(e,r){r=r||{};for(var t=r.len!==void 0&&r.len!==-1?r.len:1/0,n=r.allowedTags!==void 0?r.allowedTags:["br"],a="...",o=a.length,i=e.split(ng),l=[],u="",s=0,f=0;f<i.length;f++){var v=i[f],p=v.match(ag),b=p&&p[2].toLowerCase();if(b)n.indexOf(b)!==-1&&(l.push(v),u=b);else{var y=v.length;if(s+y<t)l.push(v),s+=y;else if(s<t){var w=t-s;u&&(u!=="br"||w<=o||y<=o)&&l.pop(),t>o?l.push(v.substr(0,w-o)+a):l.push(v.substr(0,w));break}u=""}}return l.join("")};var BG={mu:"\u03BC",amp:"&",lt:"<",gt:">",nbsp:"\xA0",times:"\xD7",plusmn:"\xB1",deg:"\xB0"},UG=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function vv(e){return e.replace(UG,function(r,t){var n;return t.charAt(0)==="#"?n=HG(t.charAt(1)==="x"?parseInt(t.substr(2),16):parseInt(t.substr(1),10)):n=BG[t],n||r})}La.convertEntities=vv;function HG(e){if(!(e>1114111)){var r=String.fromCodePoint;if(r)return r(e);var t=String.fromCharCode;return e<=65535?t(e):t((e>>10)+55232,e%1024+56320)}}function VG(e,r){r=r.replace(Kw," ");var t=!1,n=[],a,o=-1;function i(){o++;var d=document.createElementNS(rg.svg,"tspan");Yt.select(d).attr({class:"line",dy:o*EG+"em"}),e.appendChild(d),a=d;var _=n;if(n=[{node:d}],_.length>1)for(var g=1;g<_.length;g++)l(_[g])}function l(d){var _=d.type,g={},c;if(_==="a"){c="a";var A=d.target,h=d.href,R=d.popup;h&&(g={"xlink:xlink:show":A==="_blank"||A.charAt(0)!=="_"?"new":"replace",target:A,"xlink:xlink:href":h},R&&(g.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+R+'");return false;'))}else c="tspan";d.style&&(g.style=d.style);var E=document.createElementNS(rg.svg,c);if(_==="sup"||_==="sub"){u(a,Ww),a.appendChild(E);var D=document.createElementNS(rg.svg,"tspan");u(D,Ww),Yt.select(D).attr("dy",NG[_]),g.dy=IG[_],a.appendChild(E),a.appendChild(D)}else a.appendChild(E);Yt.select(E).attr(g),a=d.node=E,n.push(d)}function u(d,_){d.appendChild(document.createTextNode(_))}function s(d){if(n.length===1){eo.log("Ignoring unexpected end tag </"+d+">.",r);return}var _=n.pop();d!==_.type&&eo.log("Start tag <"+_.type+"> doesnt match end tag <"+d+">. Pretending it did match.",r),a=n[n.length-1].node}var f=zG.test(r);f?i():(a=e,n=[{node:e}]);for(var v=r.split(ng),p=0;p<v.length;p++){var b=v[p],y=b.match(ag),w=y&&y[2].toLowerCase(),M=Jw[w];if(w==="br")i();else if(M===void 0)u(a,vv(b));else if(y[1])s(w);else{var m=y[4],k={type:w},S=Fl(m,Qw);if(S?(S=S.replace(OG,"$1 fill:"),M&&(S+=";"+M)):M&&(S=M),S&&(k.style=S),w==="a"){t=!0;var x=Fl(m,$w);if(x){var T=e7(x);T&&(k.href=T,k.target=Fl(m,jw)||"_blank",k.popup=Fl(m,qG))}}l(k)}}return t}function e7(e){var r=encodeURI(decodeURI(e)),t=document.createElement("a"),n=document.createElement("a");t.href=e,n.href=r;var a=t.protocol,o=n.protocol;return Xw.indexOf(a)!==-1&&Xw.indexOf(o)!==-1?r:""}La.sanitizeHTML=function(r){r=r.replace(Kw," ");for(var t=document.createElement("p"),n=t,a=[],o=r.split(ng),i=0;i<o.length;i++){var l=o[i],u=l.match(ag),s=u&&u[2].toLowerCase();if(s in Jw)if(u[1])a.length&&(n=a.pop());else{var f=u[4],v=Fl(f,Qw),p=v?{style:v}:{};if(s==="a"){var b=Fl(f,$w);if(b){var y=e7(b);if(y){p.href=y;var w=Fl(f,jw);w&&(p.target=w)}}}var M=document.createElement(s);n.appendChild(M),Yt.select(M).attr(p),n=M,a.push(M)}else n.appendChild(document.createTextNode(vv(l)))}var m="innerHTML";return t[m]};La.lineCount=function(r){return r.selectAll("tspan.line").size()||1};La.positionText=function(r,t,n){return r.each(function(){var a=Yt.select(this);function o(u,s){return s===void 0?(s=a.attr(u),s===null&&(a.attr(u,0),s=0)):a.attr(u,s),s}var i=o("x",t),l=o("y",n);this.nodeName==="text"&&a.selectAll("tspan.line").attr({x:i,y:l})})};function Zw(e,r,t){var n=t.horizontalAlign,a=t.verticalAlign||"top",o=e.node().getBoundingClientRect(),i=r.node().getBoundingClientRect(),l,u,s;return a==="bottom"?u=function(){return o.bottom-l.height}:a==="middle"?u=function(){return o.top+(o.height-l.height)/2}:u=function(){return o.top},n==="right"?s=function(){return o.right-l.width}:n==="center"?s=function(){return o.left+(o.width-l.width)/2}:s=function(){return o.left},function(){l=this.node().getBoundingClientRect();var f=s()-i.left,v=u()-i.top,p=t.gd||{};if(t.gd){p._fullLayout._calcInverseTransform(p);var b=eo.apply3DTransform(p._fullLayout._invTransform)(f,v);f=b[0],v=b[1]}return this.style({top:v+"px",left:f+"px","z-index":1e3}),this}}var tg="1px ";La.makeTextShadow=function(e){var r=tg,t=tg,n=tg;return r+t+n+e+", -"+r+"-"+t+n+e+", "+r+"-"+t+n+e+", -"+r+t+n+e};La.makeEditable=function(e,r){var t=r.gd,n=r.delegate,a=Yt.dispatch("edit","input","cancel"),o=n||e;if(e.style({"pointer-events":n?"none":"all"}),e.size()!==1)throw new Error("boo");function i(){u(),e.style({opacity:0});var s=o.attr("class"),f;s?f="."+s.split(" ")[0]+"-math-group":f="[class*=-math-group]",f&&Yt.select(e.node().parentNode).select(f).style({opacity:0})}function l(s){var f=s.node(),v=document.createRange();v.selectNodeContents(f);var p=window.getSelection();p.removeAllRanges(),p.addRange(v),f.focus()}function u(){var s=Yt.select(t),f=s.select(".svg-container"),v=f.append("div"),p=e.node().style,b=parseFloat(p.fontSize||12),y=r.text;y===void 0&&(y=e.attr("data-unformatted")),v.classed("plugin-editable editable",!0).style({position:"absolute","font-family":p.fontFamily||"Arial","font-size":b,color:r.fill||p.fill||"black",opacity:1,"background-color":r.background||"transparent",outline:"#ffffff33 1px solid",margin:[-b/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(y).call(Zw(e,f,r)).on("blur",function(){t._editing=!1,e.text(this.textContent).style({opacity:1});var w=Yt.select(this).attr("class"),M;w?M="."+w.split(" ")[0]+"-math-group":M="[class*=-math-group]",M&&Yt.select(e.node().parentNode).select(M).style({opacity:0});var m=this.textContent;Yt.select(this).transition().duration(0).remove(),Yt.select(document).on("mouseup",null),a.edit.call(e,m)}).on("focus",function(){var w=this;t._editing=!0,Yt.select(document).on("mouseup",function(){if(Yt.event.target===w)return!1;document.activeElement===v.node()&&v.node().blur()})}).on("keyup",function(){Yt.event.which===27?(t._editing=!1,e.style({opacity:1}),Yt.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),a.cancel.call(e,this.textContent)):(a.input.call(e,this.textContent),Yt.select(this).call(Zw(e,f,r)))}).on("keydown",function(){Yt.event.which===13&&this.blur()}).call(l)}return r.immediate?i():o.on("click",i),Yt.rebind(e,a,"on")}});var Si=pe((W0e,s7)=>{"use strict";var GG=it(),dv=ka(),Tf=rt(),hv=ir(),r7=Zr(),YG=wl().isValid;function WG(e,r,t){var n=r?hv.nestedProperty(e,r).get()||{}:e,a=n[t||"color"];a&&a._inputArray&&(a=a._inputArray);var o=!1;if(hv.isArrayOrTypedArray(a)){for(var i=0;i<a.length;i++)if(Tf(a[i])){o=!0;break}}return hv.isPlainObject(n)&&(o||n.showscale===!0||Tf(n.cmin)&&Tf(n.cmax)||YG(n.colorscale)||hv.isPlainObject(n.colorbar))}var t7=["showscale","autocolorscale","colorscale","reversescale","colorbar"],Mf=["min","max","mid","auto"];function a7(e){var r=e._colorAx,t=r||e,n={},a,o,i;for(o=0;o<t7.length;o++)i=t7[o],n[i]=t[i];if(r)for(a="c",o=0;o<Mf.length;o++)i=Mf[o],n[i]=t["c"+i];else{var l;for(o=0;o<Mf.length;o++){if(i=Mf[o],l="c"+i,l in t){n[i]=t[l];continue}l="z"+i,l in t&&(n[i]=t[l])}a=l.charAt(0)}return n._sync=function(u,s){var f=Mf.indexOf(u)!==-1?a+u:u;t[f]=t["_"+f]=s},n}function i7(e){for(var r=a7(e),t=r.min,n=r.max,a=r.reversescale?o7(r.colorscale):r.colorscale,o=a.length,i=new Array(o),l=new Array(o),u=0;u<o;u++){var s=a[u];i[u]=t+s[0]*(n-t),l[u]=s[1]}return{domain:i,range:l}}function o7(e){for(var r=e.length,t=new Array(r),n=r-1,a=0;n>=0;n--,a++){var o=e[n];t[a]=[1-o[0],o[1]]}return t}function l7(e,r){r=r||{};for(var t=e.domain,n=e.range,a=n.length,o=new Array(a),i=0;i<a;i++){var l=dv(n[i]).toRgb();o[i]=[l.r,l.g,l.b,l.a]}var u=GG.scale.linear().domain(t).range(o).clamp(!0),s=r.noNumericCheck,f=r.returnArray,v;return s&&f?v=u:s?v=function(p){return n7(u(p))}:f?v=function(p){return Tf(p)?u(p):dv(p).isValid()?p:r7.defaultLine}:v=function(p){return Tf(p)?n7(u(p)):dv(p).isValid()?p:r7.defaultLine},v.domain=u.domain,v.range=function(){return n},v}function XG(e,r){return l7(i7(e),r)}function n7(e){var r={r:e[0],g:e[1],b:e[2],a:e[3]};return dv(r).toRgbString()}s7.exports={hasColorscale:WG,extractOpts:a7,extractScale:i7,flipScale:o7,makeColorScaleFunc:l7,makeColorScaleFuncFromTrace:XG}});var ro=pe((X0e,c7)=>{"use strict";var u7=Tp(),ZG=u7.FORMAT_LINK,JG=u7.DATE_FORMAT_LINK;function KG(e,r){return{valType:"string",dflt:"",editType:"none",description:(r?ig:f7)("hover text",e)+["By default the values are formatted using "+(r?"generic number format":"`"+e+"axis.hoverformat`")+"."].join(" ")}}function ig(e,r){return["Sets the "+e+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+ZG+"."].join(" ")}function f7(e,r){return ig(e,r)+[" And for dates see: "+JG+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}c7.exports={axisHoverFormat:KG,descriptionOnlyNumbers:ig,descriptionWithDates:f7}});var Ra=pe((Z0e,C7)=>{"use strict";var v7=kn(),Ws=Ti(),S7=Ao().dash,lg=Mt().extendFlat,h7=gt().templatedArray,d7=ro().descriptionWithDates,QG=nn().ONEDAY,Ci=wn(),$G=Ci.HOUR_PATTERN,jG=Ci.WEEKDAY_PATTERN,og={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},eY=lg({},og,{values:og.values.slice().concat(["sync"])});function p7(e){return{valType:"integer",min:0,dflt:e?5:0,editType:"ticks"}}var g7={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},y7={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},m7={valType:"data_array",editType:"ticks"},x7={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function b7(e){var r={valType:"number",min:0,editType:"ticks"};return e||(r.dflt=5),r}function _7(e){var r={valType:"number",min:0,editType:"ticks"};return e||(r.dflt=1),r}var w7={valType:"color",dflt:Ws.defaultLine,editType:"ticks"},M7={valType:"color",dflt:Ws.lightLine,editType:"ticks"};function T7(e){var r={valType:"number",min:0,editType:"ticks"};return e||(r.dflt=1),r}var A7=lg({},S7,{editType:"ticks"}),k7={valType:"boolean",editType:"ticks"};C7.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:Ws.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:v7({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[Ci.idRegex.x.toString(),Ci.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[Ci.idRegex.x.toString(),Ci.idRegex.y.toString()],editType:"calc"},rangebreaks:h7("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[jG,$G,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:QG},editType:"calc"}),tickmode:eY,nticks:p7(),tick0:g7,dtick:y7,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:m7,ticktext:{valType:"data_array",editType:"ticks"},ticks:x7,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks"},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks"},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:b7(),tickwidth:_7(),tickcolor:w7,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:lg({},S7,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:v7({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:d7("tick label")},tickformatstops:h7("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:d7("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:Ws.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:k7,gridcolor:M7,gridwidth:T7(),griddash:A7,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:Ws.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:Ws.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",Ci.idRegex.x.toString(),Ci.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",Ci.idRegex.x.toString(),Ci.idRegex.y.toString()],editType:"plot"},minor:{tickmode:og,nticks:p7("minor"),tick0:g7,dtick:y7,tickvals:m7,ticks:x7,ticklen:b7("minor"),tickwidth:_7("minor"),tickcolor:w7,gridcolor:M7,gridwidth:T7("minor"),griddash:A7,showgrid:k7,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc"}});var pv=pe((J0e,R7)=>{"use strict";var At=Ra(),E7=kn(),L7=Mt().extendFlat,rY=zn().overrideAll;R7.exports=rY({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:At.linecolor,outlinewidth:At.linewidth,bordercolor:At.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:At.minor.tickmode,nticks:At.nticks,tick0:At.tick0,dtick:At.dtick,tickvals:At.tickvals,ticktext:At.ticktext,ticks:L7({},At.ticks,{dflt:""}),ticklabeloverflow:L7({},At.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:At.ticklen,tickwidth:At.tickwidth,tickcolor:At.tickcolor,ticklabelstep:At.ticklabelstep,showticklabels:At.showticklabels,labelalias:At.labelalias,tickfont:E7({}),tickangle:At.tickangle,tickformat:At.tickformat,tickformatstops:At.tickformatstops,tickprefix:At.tickprefix,showtickprefix:At.showtickprefix,ticksuffix:At.ticksuffix,showticksuffix:At.showticksuffix,separatethousands:At.separatethousands,exponentformat:At.exponentformat,minexponent:At.minexponent,showexponent:At.showexponent,title:{text:{valType:"string"},font:E7({}),side:{valType:"enumerated",values:["right","top","bottom"]}}},"colorbars","from-root")});var ja=pe((Q0e,P7)=>{"use strict";var tY=pv(),nY=Es().counter,aY=Wc(),D7=wl().scales,K0e=aY(D7);function gv(e){return"`"+e+"`"}P7.exports=function(r,t){r=r||"",t=t||{};var n=t.cLetter||"c",a="onlyIfNumerical"in t?t.onlyIfNumerical:!!r,o="noScale"in t?t.noScale:r==="marker.line",i="showScaleDflt"in t?t.showScaleDflt:n==="z",l=typeof t.colorscaleDflt=="string"?D7[t.colorscaleDflt]:null,u=t.editTypeOverride||"",s=r?r+".":"",f,v;"colorAttr"in t?(f=t.colorAttr,v=t.colorAttr):(f={z:"z",c:"color"}[n],v="in "+gv(s+f));var p=a?" Has an effect only if "+v+" is set to a numerical array.":"",b=n+"auto",y=n+"min",w=n+"max",M=n+"mid",m=gv(s+b),k=gv(s+y),S=gv(s+w),x=k+" and "+S,T={};T[y]=T[w]=void 0;var d={};d[b]=!1;var _={};return f==="color"&&(_.color={valType:"color",arrayOk:!0,editType:u||"style"},t.anim&&(_.color.anim=!0)),_[b]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:T},_[y]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:d},_[w]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:d},_[M]={valType:"number",dflt:null,editType:"calc",impliedEdits:T},_.colorscale={valType:"colorscale",editType:"calc",dflt:l,impliedEdits:{autocolorscale:!1}},_.autocolorscale={valType:"boolean",dflt:t.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},_.reversescale={valType:"boolean",dflt:!1,editType:"plot"},o||(_.showscale={valType:"boolean",dflt:i,editType:"calc"},_.colorbar=tY),t.noColorAxis||(_.coloraxis={valType:"subplotid",regex:nY("coloraxis"),dflt:null,editType:"calc"}),_}});var ug=pe(($0e,F7)=>{"use strict";var iY=Mt().extendFlat,oY=ja(),sg=wl().scales;F7.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:sg.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:sg.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:sg.RdBu,editType:"calc"}},coloraxis:iY({_isSubplotObj:!0,editType:"calc"},oY("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}});var fg=pe((j0e,I7)=>{"use strict";var lY=ir();I7.exports=function(r){return lY.isPlainObject(r.colorbar)}});var hg=pe(vg=>{"use strict";var cg=rt(),N7=ir(),z7=nn(),sY=z7.ONEDAY,uY=z7.ONEWEEK;vg.dtick=function(e,r){var t=r==="log",n=r==="date",a=r==="category",o=n?sY:1;if(!e)return o;if(cg(e))return e=Number(e),e<=0?o:a?Math.max(1,Math.round(e)):n?Math.max(.1,e):e;if(typeof e!="string"||!(n||t))return o;var i=e.charAt(0),l=e.substr(1);return l=cg(l)?Number(l):0,l<=0||!(n&&i==="M"&&l===Math.round(l)||t&&i==="L"||t&&i==="D"&&(l===1||l===2))?o:e};vg.tick0=function(e,r,t,n){if(r==="date")return N7.cleanDate(e,N7.dateTick0(t,n%uY===0?1:0));if(!(n==="D1"||n==="D2"))return cg(e)?Number(e):0}});var dg=pe((rce,O7)=>{"use strict";var q7=hg(),fY=ir().isArrayOrTypedArray,cY=ea().isTypedArraySpec,vY=ea().decodeTypedArraySpec;O7.exports=function(r,t,n,a,o){o||(o={});var i=o.isMinor,l=i?r.minor||{}:r,u=i?t.minor:t,s=i?"minor.":"";function f(k){var S=l[k];return cY(S)&&(S=vY(S)),S!==void 0?S:(u._template||{})[k]}var v=f("tick0"),p=f("dtick"),b=f("tickvals"),y=fY(b)?"array":p?"linear":"auto",w=n(s+"tickmode",y);if(w==="auto"||w==="sync")n(s+"nticks");else if(w==="linear"){var M=u.dtick=q7.dtick(p,a);u.tick0=q7.tick0(v,a,t.calendar,M)}else if(a!=="multicategory"){var m=n(s+"tickvals");m===void 0?u.tickmode="auto":i||n("ticktext")}}});var gg=pe((tce,U7)=>{"use strict";var pg=ir(),B7=Ra();U7.exports=function(r,t,n,a){var o=a.isMinor,i=o?r.minor||{}:r,l=o?t.minor:t,u=o?B7.minor:B7,s=o?"minor.":"",f=pg.coerce2(i,l,u,"ticklen",o?(t.ticklen||5)*.6:void 0),v=pg.coerce2(i,l,u,"tickwidth",o?t.tickwidth||1:void 0),p=pg.coerce2(i,l,u,"tickcolor",(o?t.tickcolor:void 0)||l.color),b=n(s+"ticks",!o&&a.outerTicks||f||v||p?"outside":"");b||(delete l.ticklen,delete l.tickwidth,delete l.tickcolor)}});var yg=pe((nce,H7)=>{"use strict";H7.exports=function(r){var t=["showexponent","showtickprefix","showticksuffix"],n=t.filter(function(o){return r[o]!==void 0}),a=function(o){return r[o]===r[n[0]]};if(n.every(a)||n.length===1)return r[n[0]]}});var ei=pe((ace,V7)=>{"use strict";var yv=ir(),hY=gt();V7.exports=function(r,t,n){var a=n.name,o=n.inclusionAttr||"visible",i=t[a],l=yv.isArrayOrTypedArray(r[a])?r[a]:[],u=t[a]=[],s=hY.arrayTemplater(t,a,o),f,v;for(f=0;f<l.length;f++){var p=l[f];yv.isPlainObject(p)?v=s.newItem(p):(v=s.newItem({}),v[o]=!1),v._index=f,v[o]!==!1&&n.handleItemDefaults(p,v,t,n),u.push(v)}var b=s.defaultItems();for(f=0;f<b.length;f++)v=b[f],v._index=u.length,n.handleItemDefaults({},v,t,n,{}),u.push(v);if(yv.isArrayOrTypedArray(i)){var y=Math.min(i.length,u.length);for(f=0;f<y;f++)yv.relinkPrivateKeys(u[f],i[f])}return u}});var xg=pe((ice,Y7)=>{"use strict";var mg=ir(),dY=Zr().contrast,G7=Ra(),pY=yg(),gY=ei();Y7.exports=function(r,t,n,a,o){o||(o={});var i=n("labelalias");mg.isPlainObject(i)||delete t.labelalias;var l=pY(r),u=n("showticklabels");if(u){o.noTicklabelshift||n("ticklabelshift"),o.noTicklabelstandoff||n("ticklabelstandoff");var s=o.font||{},f=t.color,v=t.ticklabelposition||"",p=v.indexOf("inside")!==-1?dY(o.bgColor):f&&f!==G7.color.dflt?f:s.color;if(mg.coerceFont(n,"tickfont",s,{overrideDflt:{color:p}}),!o.noTicklabelstep&&a!=="multicategory"&&a!=="log"&&n("ticklabelstep"),!o.noAng){var b=n("tickangle");!o.noAutotickangles&&b==="auto"&&n("autotickangles")}if(a!=="category"){var y=n("tickformat");gY(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:yY}),t.tickformatstops.length||delete t.tickformatstops,!o.noExp&&!y&&a!=="date"&&(n("showexponent",l),n("exponentformat"),n("minexponent"),n("separatethousands"))}}};function yY(e,r){function t(a,o){return mg.coerce(e,r,G7.tickformatstops,a,o)}var n=t("enabled");n&&(t("dtickrange"),t("value"))}});var bg=pe((oce,W7)=>{"use strict";var mY=yg();W7.exports=function(r,t,n,a,o){o||(o={});var i=o.tickSuffixDflt,l=mY(r),u=n("tickprefix");u&&n("showtickprefix",l);var s=n("ticksuffix",i);s&&n("showticksuffix",l)}});var _g=pe((lce,X7)=>{"use strict";var No=ir(),xY=gt(),bY=dg(),_Y=gg(),wY=xg(),MY=bg(),TY=pv();X7.exports=function(r,t,n){var a=xY.newContainer(t,"colorbar"),o=r.colorbar||{};function i(h,R){return No.coerce(o,a,TY,h,R)}var l=n.margin||{t:0,b:0,l:0,r:0},u=n.width-l.l-l.r,s=n.height-l.t-l.b,f=i("orientation"),v=f==="v",p=i("thicknessmode");i("thickness",p==="fraction"?30/(v?u:s):30);var b=i("lenmode");i("len",b==="fraction"?1:v?s:u);var y=i("yref"),w=i("xref"),M=y==="paper",m=w==="paper",k,S,x,T="left";v?(x="middle",T=m?"left":"right",k=m?1.02:1,S=.5):(x=M?"bottom":"top",T="center",k=.5,S=M?1.02:1),No.coerce(o,a,{x:{valType:"number",min:m?-2:0,max:m?3:1,dflt:k}},"x"),No.coerce(o,a,{y:{valType:"number",min:M?-2:0,max:M?3:1,dflt:S}},"y"),i("xanchor",T),i("xpad"),i("yanchor",x),i("ypad"),No.noneOrAll(o,a,["x","y"]),i("outlinecolor"),i("outlinewidth"),i("bordercolor"),i("borderwidth"),i("bgcolor");var d=No.coerce(o,a,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:v?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");i("ticklabeloverflow",d.indexOf("inside")!==-1?"hide past domain":"hide past div"),bY(o,a,i,"linear");var _=n.font,g={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:_};d.indexOf("inside")!==-1&&(g.bgColor="black"),MY(o,a,i,"linear",g),wY(o,a,i,"linear",g),_Y(o,a,i,"linear",g),i("title.text",n._dfltTitle.colorbar);var c=a.showticklabels?a.tickfont:_,A=No.extendFlat({},_,{family:c.family,size:No.bigFont(c.size)});No.coerceFont(i,"title.font",A),i("title.side",v?"top":"right")}});var Ei=pe((sce,K7)=>{"use strict";var Z7=rt(),Mg=ir(),AY=fg(),kY=_g(),J7=wl().isValid,SY=Er().traceIs;function wg(e,r){var t=r.slice(0,r.length-1);return r?Mg.nestedProperty(e,t).get()||{}:e}K7.exports=function e(r,t,n,a,o){var i=o.prefix,l=o.cLetter,u="_module"in t,s=wg(r,i),f=wg(t,i),v=wg(t._template||{},i)||{},p=function(){return delete r.coloraxis,delete t.coloraxis,e(r,t,n,a,o)};if(u){var b=n._colorAxes||{},y=a(i+"coloraxis");if(y){var w=SY(t,"contour")&&Mg.nestedProperty(t,"contours.coloring").get()||"heatmap",M=b[y];M?(M[2].push(p),M[0]!==w&&(M[0]=!1,Mg.warn(["Ignoring coloraxis:",y,"setting","as it is linked to incompatible colorscales."].join(" ")))):b[y]=[w,t,[p]];return}}var m=s[l+"min"],k=s[l+"max"],S=Z7(m)&&Z7(k)&&m<k,x=a(i+l+"auto",!S);x?a(i+l+"mid"):(a(i+l+"min"),a(i+l+"max"));var T=s.colorscale,d=v.colorscale,_;if(T!==void 0&&(_=!J7(T)),d!==void 0&&(_=!J7(d)),a(i+"autocolorscale",_),a(i+"colorscale"),a(i+"reversescale"),i!=="marker.line."){var g;i&&u&&(g=AY(s));var c=a(i+"showscale",g);c&&(i&&v&&(f._template=v),kY(s,f,n))}}});var e8=pe((uce,j7)=>{"use strict";var Q7=ir(),CY=gt(),$7=ug(),EY=Ei();j7.exports=function(r,t){function n(v,p){return Q7.coerce(r,t,$7,v,p)}n("colorscale.sequential"),n("colorscale.sequentialminus"),n("colorscale.diverging");var a=t._colorAxes,o,i;function l(v,p){return Q7.coerce(o,i,$7.coloraxis,v,p)}for(var u in a){var s=a[u];if(s[0])o=r[u]||{},i=CY.newContainer(t,u,"coloraxis"),i._name=u,EY(o,i,t,l,{prefix:"",cLetter:"c"});else{for(var f=0;f<s[2].length;f++)s[2][f]();delete t._colorAxes[u]}}}});var t8=pe((fce,r8)=>{"use strict";var LY=ir(),RY=Si().hasColorscale,DY=Si().extractOpts;r8.exports=function(r,t){function n(f,v){var p=f["_"+v];p!==void 0&&(f[v]=p)}function a(f,v){var p=v.container?LY.nestedProperty(f,v.container).get():f;if(p)if(p.coloraxis)p._colorAx=t[p.coloraxis];else{var b=DY(p),y=b.auto;(y||b.min===void 0)&&n(p,v.min),(y||b.max===void 0)&&n(p,v.max),b.autocolorscale&&n(p,"colorscale")}}for(var o=0;o<r.length;o++){var i=r[o],l=i._module.colorbar;if(l)if(Array.isArray(l))for(var u=0;u<l.length;u++)a(i,l[u]);else a(i,l);RY(i,"marker.line")&&a(i,{container:"marker.line",min:"cmin",max:"cmax"})}for(var s in t._colorAxes)a(t[s],{min:"cmin",max:"cmax"})}});var zo=pe((cce,a8)=>{"use strict";var n8=rt(),Tg=ir(),PY=Si().extractOpts;a8.exports=function(r,t,n){var a=r._fullLayout,o=n.vals,i=n.containerStr,l=i?Tg.nestedProperty(t,i).get():t,u=PY(l),s=u.auto!==!1,f=u.min,v=u.max,p=u.mid,b=function(){return Tg.aggNums(Math.min,null,o)},y=function(){return Tg.aggNums(Math.max,null,o)};if(f===void 0?f=b():s&&(l._colorAx&&n8(f)?f=Math.min(f,b()):f=b()),v===void 0?v=y():s&&(l._colorAx&&n8(v)?v=Math.max(v,y()):v=y()),s&&p!==void 0&&(v-p>p-f?f=p-(v-p):v-p<p-f&&(v=p+(p-f))),f===v&&(f-=.5,v+=.5),u._sync("min",f),u._sync("max",v),u.autocolorscale){var w;f*v<0?w=a.colorscale.diverging:f>=0?w=a.colorscale.sequential:w=a.colorscale.sequentialminus,u._sync("colorscale",w)}}});var Li=pe((vce,i8)=>{"use strict";var mv=wl(),Xs=Si();i8.exports={moduleType:"component",name:"colorscale",attributes:ja(),layoutAttributes:ug(),supplyLayoutDefaults:e8(),handleDefaults:Ei(),crossTraceDefaults:t8(),calc:zo(),scales:mv.scales,defaultScale:mv.defaultScale,getScale:mv.get,isValidScale:mv.isValid,hasColorscale:Xs.hasColorscale,extractOpts:Xs.extractOpts,extractScale:Xs.extractScale,flipScale:Xs.flipScale,makeColorScaleFunc:Xs.makeColorScaleFunc,makeColorScaleFuncFromTrace:Xs.makeColorScaleFuncFromTrace}});var oa=pe((hce,l8)=>{"use strict";var o8=ir(),FY=ea().isTypedArraySpec;l8.exports={hasLines:function(e){return e.visible&&e.mode&&e.mode.indexOf("lines")!==-1},hasMarkers:function(e){return e.visible&&(e.mode&&e.mode.indexOf("markers")!==-1||e.type==="splom")},hasText:function(e){return e.visible&&e.mode&&e.mode.indexOf("text")!==-1},isBubble:function(e){var r=e.marker;return o8.isPlainObject(r)&&(o8.isArrayOrTypedArray(r.size)||FY(r.size))}}});var Ag=pe((dce,s8)=>{"use strict";var IY=rt();s8.exports=function(r,t){t||(t=2);var n=r.marker,a=n.sizeref||1,o=n.sizemin||0,i=n.sizemode==="area"?function(l){return Math.sqrt(l/a)}:function(l){return l/a};return function(l){var u=i(l/t);return IY(u)&&u>0?Math.max(u,o):0}}});var to=pe(Cn=>{"use strict";var u8=ir();Cn.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo};Cn.isTraceInSubplots=function(e,r){if(e.type==="splom"){for(var t=e.xaxes||[],n=e.yaxes||[],a=0;a<t.length;a++)for(var o=0;o<n.length;o++)if(r.indexOf(t[a]+n[o])!==-1)return!0;return!1}return r.indexOf(Cn.getSubplot(e))!==-1};Cn.flat=function(e,r){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=r;return t};Cn.p2c=function(e,r){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n].p2c(r);return t};Cn.getDistanceFunction=function(e,r,t,n){return e==="closest"?n||Cn.quadrature(r,t):e.charAt(0)==="x"?r:t};Cn.getClosest=function(e,r,t){if(t.index!==!1)t.index>=0&&t.index<e.length?t.distance=0:t.index=!1;else for(var n=1/0,a=e.length,o=0;o<a;o++)n=r(e[o]),n<=t.distance&&(t.index=o,t.distance=n);return t};Cn.inbox=function(e,r,t){return e*r<0||e===0?t:1/0};Cn.quadrature=function(e,r){return function(t){var n=e(t),a=r(t);return Math.sqrt(n*n+a*a)}};Cn.makeEventData=function(e,r,t){var n="index"in e?e.index:e.pointNumber,a={data:r._input,fullData:r,curveNumber:r.index,pointNumber:n};if(r._indexToPoints){var o=r._indexToPoints[n];o.length===1?a.pointIndex=o[0]:a.pointIndices=o}else a.pointIndex=n;return r._module.eventData?a=r._module.eventData(a,e,r,t,n):("xVal"in e?a.x=e.xVal:"x"in e&&(a.x=e.x),"yVal"in e?a.y=e.yVal:"y"in e&&(a.y=e.y),e.xa&&(a.xaxis=e.xa),e.ya&&(a.yaxis=e.ya),e.zLabelVal!==void 0&&(a.z=e.zLabelVal)),Cn.appendArrayPointValue(a,r,n),a};Cn.appendArrayPointValue=function(e,r,t){var n=r._arrayAttrs;if(n)for(var a=0;a<n.length;a++){var o=n[a],i=f8(o);if(e[i]===void 0){var l=u8.nestedProperty(r,o).get(),u=c8(l,t);u!==void 0&&(e[i]=u)}}};Cn.appendArrayMultiPointValues=function(e,r,t){var n=r._arrayAttrs;if(n)for(var a=0;a<n.length;a++){var o=n[a],i=f8(o);if(e[i]===void 0){for(var l=u8.nestedProperty(r,o).get(),u=new Array(t.length),s=0;s<t.length;s++)u[s]=c8(l,t[s]);e[i]=u}}};var NY={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function f8(e){return NY[e]||e}function c8(e,r){if(Array.isArray(r)){if(Array.isArray(e)&&Array.isArray(e[r[0]]))return e[r[0]][r[1]]}else return e[r]}var zY={x:!0,y:!0},qY={"x unified":!0,"y unified":!0};Cn.isUnifiedHover=function(e){return typeof e!="string"?!1:!!qY[e]};Cn.isXYhover=function(e){return typeof e!="string"?!1:!!zY[e]}});var Sg=pe((gce,v8)=>{v8.exports=BY;var kg={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},OY=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function BY(e){var r=[];return e.replace(OY,function(t,n,a){var o=n.toLowerCase();for(a=HY(a),o=="m"&&a.length>2&&(r.push([n].concat(a.splice(0,2))),o="l",n=n=="m"?"l":"L");;){if(a.length==kg[o])return a.unshift(n),r.push(a);if(a.length<kg[o])throw new Error("malformed path data");r.push([n].concat(a.splice(0,kg[o])))}}),r}var UY=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function HY(e){var r=e.match(UY);return r?r.map(Number):[]}});var x8=pe((yce,m8)=>{"use strict";var VY=Sg(),sr=function(e,r){return r?Math.round(e*(r=Math.pow(10,r)))/r:Math.round(e)},Fr="M0,0Z",h8=Math.sqrt(2),qo=Math.sqrt(3),Cg=Math.PI,Eg=Math.cos,Lg=Math.sin;m8.exports={circle:{n:0,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2),a="M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z";return t?Nr(r,t,a):a}},square:{n:1,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2);return Nr(r,t,"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z")}},diamond:{n:2,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.3,2);return Nr(r,t,"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"Z")}},cross:{n:3,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*.4,2),a=sr(e*1.2,2);return Nr(r,t,"M"+a+","+n+"H"+n+"V"+a+"H-"+n+"V"+n+"H-"+a+"V-"+n+"H-"+n+"V-"+a+"H"+n+"V-"+n+"H"+a+"Z")}},x:{n:4,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*.8/h8,2),a="l"+n+","+n,o="l"+n+",-"+n,i="l-"+n+",-"+n,l="l-"+n+","+n;return Nr(r,t,"M0,"+n+a+o+i+o+i+l+i+l+a+l+a+"Z")}},"triangle-up":{n:5,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*2/qo,2),a=sr(e/2,2),o=sr(e,2);return Nr(r,t,"M-"+n+","+a+"H"+n+"L0,-"+o+"Z")}},"triangle-down":{n:6,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*2/qo,2),a=sr(e/2,2),o=sr(e,2);return Nr(r,t,"M-"+n+",-"+a+"H"+n+"L0,"+o+"Z")}},"triangle-left":{n:7,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*2/qo,2),a=sr(e/2,2),o=sr(e,2);return Nr(r,t,"M"+a+",-"+n+"V"+n+"L-"+o+",0Z")}},"triangle-right":{n:8,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*2/qo,2),a=sr(e/2,2),o=sr(e,2);return Nr(r,t,"M-"+a+",-"+n+"V"+n+"L"+o+",0Z")}},"triangle-ne":{n:9,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*.6,2),a=sr(e*1.2,2);return Nr(r,t,"M-"+a+",-"+n+"H"+n+"V"+a+"Z")}},"triangle-se":{n:10,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*.6,2),a=sr(e*1.2,2);return Nr(r,t,"M"+n+",-"+a+"V"+n+"H-"+a+"Z")}},"triangle-sw":{n:11,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*.6,2),a=sr(e*1.2,2);return Nr(r,t,"M"+a+","+n+"H-"+n+"V-"+a+"Z")}},"triangle-nw":{n:12,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*.6,2),a=sr(e*1.2,2);return Nr(r,t,"M-"+n+","+a+"V-"+n+"H"+a+"Z")}},pentagon:{n:13,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*.951,2),a=sr(e*.588,2),o=sr(-e,2),i=sr(e*-.309,2),l=sr(e*.809,2);return Nr(r,t,"M"+n+","+i+"L"+a+","+l+"H-"+a+"L-"+n+","+i+"L0,"+o+"Z")}},hexagon:{n:14,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2),a=sr(e/2,2),o=sr(e*qo/2,2);return Nr(r,t,"M"+o+",-"+a+"V"+a+"L0,"+n+"L-"+o+","+a+"V-"+a+"L0,-"+n+"Z")}},hexagon2:{n:15,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2),a=sr(e/2,2),o=sr(e*qo/2,2);return Nr(r,t,"M-"+a+","+o+"H"+a+"L"+n+",0L"+a+",-"+o+"H-"+a+"L-"+n+",0Z")}},octagon:{n:16,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*.924,2),a=sr(e*.383,2);return Nr(r,t,"M-"+a+",-"+n+"H"+a+"L"+n+",-"+a+"V"+a+"L"+a+","+n+"H-"+a+"L-"+n+","+a+"V-"+a+"Z")}},star:{n:17,f:function(e,r,t){if(Ir(r))return Fr;var n=e*1.4,a=sr(n*.225,2),o=sr(n*.951,2),i=sr(n*.363,2),l=sr(n*.588,2),u=sr(-n,2),s=sr(n*-.309,2),f=sr(n*.118,2),v=sr(n*.809,2),p=sr(n*.382,2);return Nr(r,t,"M"+a+","+s+"H"+o+"L"+i+","+f+"L"+l+","+v+"L0,"+p+"L-"+l+","+v+"L-"+i+","+f+"L-"+o+","+s+"H-"+a+"L0,"+u+"Z")}},hexagram:{n:18,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*.66,2),a=sr(e*.38,2),o=sr(e*.76,2);return Nr(r,t,"M-"+o+",0l-"+a+",-"+n+"h"+o+"l"+a+",-"+n+"l"+a+","+n+"h"+o+"l-"+a+","+n+"l"+a+","+n+"h-"+o+"l-"+a+","+n+"l-"+a+",-"+n+"h-"+o+"Z")}},"star-triangle-up":{n:19,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*qo*.8,2),a=sr(e*.8,2),o=sr(e*1.6,2),i=sr(e*4,2),l="A "+i+","+i+" 0 0 1 ";return Nr(r,t,"M-"+n+","+a+l+n+","+a+l+"0,-"+o+l+"-"+n+","+a+"Z")}},"star-triangle-down":{n:20,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*qo*.8,2),a=sr(e*.8,2),o=sr(e*1.6,2),i=sr(e*4,2),l="A "+i+","+i+" 0 0 1 ";return Nr(r,t,"M"+n+",-"+a+l+"-"+n+",-"+a+l+"0,"+o+l+n+",-"+a+"Z")}},"star-square":{n:21,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.1,2),a=sr(e*2,2),o="A "+a+","+a+" 0 0 1 ";return Nr(r,t,"M-"+n+",-"+n+o+"-"+n+","+n+o+n+","+n+o+n+",-"+n+o+"-"+n+",-"+n+"Z")}},"star-diamond":{n:22,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.4,2),a=sr(e*1.9,2),o="A "+a+","+a+" 0 0 1 ";return Nr(r,t,"M-"+n+",0"+o+"0,"+n+o+n+",0"+o+"0,-"+n+o+"-"+n+",0Z")}},"diamond-tall":{n:23,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*.7,2),a=sr(e*1.4,2);return Nr(r,t,"M0,"+a+"L"+n+",0L0,-"+a+"L-"+n+",0Z")}},"diamond-wide":{n:24,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.4,2),a=sr(e*.7,2);return Nr(r,t,"M0,"+a+"L"+n+",0L0,-"+a+"L-"+n+",0Z")}},hourglass:{n:25,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2);return Nr(r,t,"M"+n+","+n+"H-"+n+"L"+n+",-"+n+"H-"+n+"Z")},noDot:!0},bowtie:{n:26,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2);return Nr(r,t,"M"+n+","+n+"V-"+n+"L-"+n+","+n+"V-"+n+"Z")},noDot:!0},"circle-cross":{n:27,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2);return Nr(r,t,"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2),a=sr(e/h8,2);return Nr(r,t,"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a+"M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2);return Nr(r,t,"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2);return Nr(r,t,"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.3,2);return Nr(r,t,"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"ZM0,-"+n+"V"+n+"M-"+n+",0H"+n)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.3,2),a=sr(e*.65,2);return Nr(r,t,"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"ZM-"+a+",-"+a+"L"+a+","+a+"M-"+a+","+a+"L"+a+",-"+a)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.4,2);return Nr(r,t,"M0,"+n+"V-"+n+"M"+n+",0H-"+n)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2);return Nr(r,t,"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.2,2),a=sr(e*.85,2);return Nr(r,t,"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e/2,2),a=sr(e,2);return Nr(r,t,"M"+n+","+a+"V-"+a+"M"+(n-a)+",-"+a+"V"+a+"M"+a+","+n+"H-"+a+"M-"+a+","+(n-a)+"H"+a)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.2,2),a=sr(e*1.6,2),o=sr(e*.8,2);return Nr(r,t,"M-"+n+","+o+"L0,0M"+n+","+o+"L0,0M0,-"+a+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.2,2),a=sr(e*1.6,2),o=sr(e*.8,2);return Nr(r,t,"M-"+n+",-"+o+"L0,0M"+n+",-"+o+"L0,0M0,"+a+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.2,2),a=sr(e*1.6,2),o=sr(e*.8,2);return Nr(r,t,"M"+o+","+n+"L0,0M"+o+",-"+n+"L0,0M-"+a+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.2,2),a=sr(e*1.6,2),o=sr(e*.8,2);return Nr(r,t,"M-"+o+","+n+"L0,0M-"+o+",-"+n+"L0,0M"+a+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.4,2);return Nr(r,t,"M"+n+",0H-"+n)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.4,2);return Nr(r,t,"M0,"+n+"V-"+n)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2);return Nr(r,t,"M"+n+",-"+n+"L-"+n+","+n)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2);return Nr(r,t,"M"+n+","+n+"L-"+n+",-"+n)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2),a=sr(e*2,2);return Nr(r,t,"M0,0L-"+n+","+a+"H"+n+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2),a=sr(e*2,2);return Nr(r,t,"M0,0L-"+n+",-"+a+"H"+n+"Z")},noDot:!0},"arrow-left":{n:47,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*2,2),a=sr(e,2);return Nr(r,t,"M0,0L"+n+",-"+a+"V"+a+"Z")},noDot:!0},"arrow-right":{n:48,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*2,2),a=sr(e,2);return Nr(r,t,"M0,0L-"+n+",-"+a+"V"+a+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2),a=sr(e*2,2);return Nr(r,t,"M-"+n+",0H"+n+"M0,0L-"+n+","+a+"H"+n+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2),a=sr(e*2,2);return Nr(r,t,"M-"+n+",0H"+n+"M0,0L-"+n+",-"+a+"H"+n+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*2,2),a=sr(e,2);return Nr(r,t,"M0,-"+a+"V"+a+"M0,0L"+n+",-"+a+"V"+a+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*2,2),a=sr(e,2);return Nr(r,t,"M0,-"+a+"V"+a+"M0,0L-"+n+",-"+a+"V"+a+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(e,r,t){if(Ir(r))return Fr;var n=Cg/2.5,a=2*e*Eg(n),o=2*e*Lg(n);return Nr(r,t,"M0,0L"+-a+","+o+"L"+a+","+o+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(e,r,t){if(Ir(r))return Fr;var n=Cg/4,a=2*e*Eg(n),o=2*e*Lg(n);return Nr(r,t,"M0,0L"+-a+","+o+"A "+2*e+","+2*e+" 0 0 1 "+a+","+o+"Z")},backoff:.4,noDot:!0}};function Ir(e){return e===null}var d8,p8,g8,y8;function Nr(e,r,t){if((!e||e%360===0)&&!r)return t;if(g8===e&&y8===r&&d8===t)return p8;g8=e,y8=r,d8=t;function n(M,m){var k=Eg(M),S=Lg(M),x=m[0],T=m[1]+(r||0);return[x*k-T*S,x*S+T*k]}for(var a=e/180*Cg,o=0,i=0,l=VY(t),u="",s=0;s<l.length;s++){var f=l[s],v=f[0],p=o,b=i;if(v==="M"||v==="L")o=+f[1],i=+f[2];else if(v==="m"||v==="l")o+=+f[1],i+=+f[2];else if(v==="H")o=+f[1];else if(v==="h")o+=+f[1];else if(v==="V")i=+f[1];else if(v==="v")i+=+f[1];else if(v==="A"){o=+f[1],i=+f[2];var y=n(a,[+f[6],+f[7]]);f[6]=y[0],f[7]=y[1],f[3]=+f[3]+e}(v==="H"||v==="V")&&(v="L"),(v==="h"||v==="v")&&(v="l"),(v==="m"||v==="l")&&(o-=p,i-=b);var w=n(a,[o,i]);(v==="H"||v==="V")&&(v="L"),(v==="M"||v==="L"||v==="m"||v==="l")&&(f[1]=w[0],f[2]=w[1]),f[0]=v,u+=f[0]+f.slice(1).join(",")}return p8=u,u}});var yt=pe((mce,O8)=>{"use strict";var sn=it(),pt=ir(),GY=pt.numberFormat,ql=rt(),Ng=ka(),bv=Er(),Mn=Zr(),YY=Li(),kf=pt.strTranslate,_v=Yn(),WY=Io(),XY=qn(),ZY=XY.LINE_SPACING,E8=Dc().DESELECTDIM,JY=oa(),KY=Ag(),QY=to().appendArrayPointValue,ur=O8.exports={};ur.font=function(e,r){var t=r.variant,n=r.style,a=r.weight,o=r.color,i=r.size,l=r.family,u=r.shadow,s=r.lineposition,f=r.textcase;l&&e.style("font-family",l),i+1&&e.style("font-size",i+"px"),o&&e.call(Mn.fill,o),a&&e.style("font-weight",a),n&&e.style("font-style",n),t&&e.style("font-variant",t),f&&e.style("text-transform",Rg(jY(f))),u&&e.style("text-shadow",u==="auto"?_v.makeTextShadow(Mn.contrast(o)):Rg(u)),s&&e.style("text-decoration-line",Rg(eW(s)))};function Rg(e){return e==="none"?void 0:e}var $Y={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function jY(e){return $Y[e]}function eW(e){return e.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}ur.setPosition=function(e,r,t){e.attr("x",r).attr("y",t)};ur.setSize=function(e,r,t){e.attr("width",r).attr("height",t)};ur.setRect=function(e,r,t,n,a){e.call(ur.setPosition,r,t).call(ur.setSize,n,a)};ur.translatePoint=function(e,r,t,n){var a=t.c2p(e.x),o=n.c2p(e.y);if(ql(a)&&ql(o)&&r.node())r.node().nodeName==="text"?r.attr("x",a).attr("y",o):r.attr("transform",kf(a,o));else return!1;return!0};ur.translatePoints=function(e,r,t){e.each(function(n){var a=sn.select(this);ur.translatePoint(n,a,r,t)})};ur.hideOutsideRangePoint=function(e,r,t,n,a,o){r.attr("display",t.isPtWithinRange(e,a)&&n.isPtWithinRange(e,o)?null:"none")};ur.hideOutsideRangePoints=function(e,r){if(r._hasClipOnAxisFalse){var t=r.xaxis,n=r.yaxis;e.each(function(a){var o=a[0].trace,i=o.xcalendar,l=o.ycalendar,u=bv.traceIs(o,"bar-like")?".bartext":".point,.textpoint";e.selectAll(u).each(function(s){ur.hideOutsideRangePoint(s,sn.select(this),t,n,i,l)})})}};ur.crispRound=function(e,r,t){return!r||!ql(r)?t||0:e._context.staticPlot?r:r<1?1:Math.round(r)};ur.singleLineStyle=function(e,r,t,n,a){r.style("fill","none");var o=(((e||[])[0]||{}).trace||{}).line||{},i=t||o.width||0,l=a||o.dash||"";Mn.stroke(r,n||o.color),ur.dashLine(r,l,i)};ur.lineGroupStyle=function(e,r,t,n){e.style("fill","none").each(function(a){var o=(((a||[])[0]||{}).trace||{}).line||{},i=r||o.width||0,l=n||o.dash||"";sn.select(this).call(Mn.stroke,t||o.color).call(ur.dashLine,l,i)})};ur.dashLine=function(e,r,t){t=+t||0,r=ur.dashStyle(r,t),e.style({"stroke-dasharray":r,"stroke-width":t+"px"})};ur.dashStyle=function(e,r){r=+r||1;var t=Math.max(r,3);return e==="solid"?e="":e==="dot"?e=t+"px,"+t+"px":e==="dash"?e=3*t+"px,"+3*t+"px":e==="longdash"?e=5*t+"px,"+5*t+"px":e==="dashdot"?e=3*t+"px,"+t+"px,"+t+"px,"+t+"px":e==="longdashdot"&&(e=5*t+"px,"+2*t+"px,"+t+"px,"+2*t+"px"),e};function L8(e,r,t,n){var a=r.fillpattern,o=r.fillgradient,i=a&&ur.getPatternAttr(a.shape,0,"");if(i){var l=ur.getPatternAttr(a.bgcolor,0,null),u=ur.getPatternAttr(a.fgcolor,0,null),s=a.fgopacity,f=ur.getPatternAttr(a.size,0,8),v=ur.getPatternAttr(a.solidity,0,.3),p=r.uid;ur.pattern(e,"point",t,p,i,f,v,void 0,a.fillmode,l,u,s)}else if(o&&o.type!=="none"){var b=o.type,y="scatterfill-"+r.uid;if(n&&(y="legendfill-"+r.uid),!n&&(o.start!==void 0||o.stop!==void 0)){var w,M;b==="horizontal"?(w={x:o.start,y:0},M={x:o.stop,y:0}):b==="vertical"&&(w={x:0,y:o.start},M={x:0,y:o.stop}),w.x=r._xA.c2p(w.x===void 0?r._extremes.x.min[0].val:w.x,!0),w.y=r._yA.c2p(w.y===void 0?r._extremes.y.min[0].val:w.y,!0),M.x=r._xA.c2p(M.x===void 0?r._extremes.x.max[0].val:M.x,!0),M.y=r._yA.c2p(M.y===void 0?r._extremes.y.max[0].val:M.y,!0),e.call(P8,t,y,"linear",o.colorscale,"fill",w,M,!0,!1)}else b==="horizontal"&&(b=b+"reversed"),e.call(ur.gradient,t,y,b,o.colorscale,"fill")}else r.fillcolor&&e.call(Mn.fill,r.fillcolor)}ur.singleFillStyle=function(e,r){var t=sn.select(e.node()),n=t.data(),a=((n[0]||[])[0]||{}).trace||{};L8(e,a,r,!1)};ur.fillGroupStyle=function(e,r,t){e.style("stroke-width",0).each(function(n){var a=sn.select(this);n[0].trace&&L8(a,n[0].trace,r,t)})};var b8=x8();ur.symbolNames=[];ur.symbolFuncs=[];ur.symbolBackOffs=[];ur.symbolNeedLines={};ur.symbolNoDot={};ur.symbolNoFill={};ur.symbolList=[];Object.keys(b8).forEach(function(e){var r=b8[e],t=r.n;ur.symbolList.push(t,String(t),e,t+100,String(t+100),e+"-open"),ur.symbolNames[t]=e,ur.symbolFuncs[t]=r.f,ur.symbolBackOffs[t]=r.backoff||0,r.needLine&&(ur.symbolNeedLines[t]=!0),r.noDot?ur.symbolNoDot[t]=!0:ur.symbolList.push(t+200,String(t+200),e+"-dot",t+300,String(t+300),e+"-open-dot"),r.noFill&&(ur.symbolNoFill[t]=!0)});var rW=ur.symbolNames.length,tW="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";ur.symbolNumber=function(e){if(ql(e))e=+e;else if(typeof e=="string"){var r=0;e.indexOf("-open")>0&&(r=100,e=e.replace("-open","")),e.indexOf("-dot")>0&&(r+=200,e=e.replace("-dot","")),e=ur.symbolNames.indexOf(e),e>=0&&(e+=r)}return e%100>=rW||e>=400?0:Math.floor(Math.max(e,0))};function R8(e,r,t,n){var a=e%100;return ur.symbolFuncs[a](r,t,n)+(e>=200?tW:"")}var _8=GY("~f"),D8={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};ur.gradient=function(e,r,t,n,a,o){var i=D8[n];return P8(e,r,t,i.type,a,o,i.start,i.stop,!1,i.reversed)};function P8(e,r,t,n,a,o,i,l,u,s){var f=a.length,v;n==="linear"?v={node:"linearGradient",attrs:{x1:i.x,y1:i.y,x2:l.x,y2:l.y,gradientUnits:u?"userSpaceOnUse":"objectBoundingBox"},reversed:s}:n==="radial"&&(v={node:"radialGradient",reversed:s});for(var p=new Array(f),b=0;b<f;b++)v.reversed?p[f-1-b]=[_8((1-a[b][0])*100),a[b][1]]:p[b]=[_8(a[b][0]*100),a[b][1]];var y=r._fullLayout,w="g"+y._uid+"-"+t,M=y._defs.select(".gradients").selectAll("#"+w).data([n+p.join(";")],pt.identity);M.exit().remove(),M.enter().append(v.node).each(function(){var m=sn.select(this);v.attrs&&m.attr(v.attrs),m.attr("id",w);var k=m.selectAll("stop").data(p);k.exit().remove(),k.enter().append("stop"),k.each(function(S){var x=Ng(S[1]);sn.select(this).attr({offset:S[0]+"%","stop-color":Mn.tinyRGB(x),"stop-opacity":x.getAlpha()})})}),e.style(o,zg(w,r)).style(o+"-opacity",null),e.classed("gradient_filled",!0)}ur.pattern=function(e,r,t,n,a,o,i,l,u,s,f,v){var p=r==="legend";l&&(u==="overlay"?(s=l,f=Mn.contrast(s)):(s=void 0,f=l));var b=t._fullLayout,y="p"+b._uid+"-"+n,w,M,m=function(E,D,N,I,F){return I+(F-I)*(E-D)/(N-D)},k,S,x,T,d={},_=Ng(f),g=Mn.tinyRGB(_),c=_.getAlpha(),A=v*c;switch(a){case"/":w=o*Math.sqrt(2),M=o*Math.sqrt(2),k="M-"+w/4+","+M/4+"l"+w/2+",-"+M/2+"M0,"+M+"L"+w+",0M"+w/4*3+","+M/4*5+"l"+w/2+",-"+M/2,S=i*o,T="path",d={d:k,opacity:A,stroke:g,"stroke-width":S+"px"};break;case"\\":w=o*Math.sqrt(2),M=o*Math.sqrt(2),k="M"+w/4*3+",-"+M/4+"l"+w/2+","+M/2+"M0,0L"+w+","+M+"M-"+w/4+","+M/4*3+"l"+w/2+","+M/2,S=i*o,T="path",d={d:k,opacity:A,stroke:g,"stroke-width":S+"px"};break;case"x":w=o*Math.sqrt(2),M=o*Math.sqrt(2),k="M-"+w/4+","+M/4+"l"+w/2+",-"+M/2+"M0,"+M+"L"+w+",0M"+w/4*3+","+M/4*5+"l"+w/2+",-"+M/2+"M"+w/4*3+",-"+M/4+"l"+w/2+","+M/2+"M0,0L"+w+","+M+"M-"+w/4+","+M/4*3+"l"+w/2+","+M/2,S=o-o*Math.sqrt(1-i),T="path",d={d:k,opacity:A,stroke:g,"stroke-width":S+"px"};break;case"|":w=o,M=o,T="path",k="M"+w/2+",0L"+w/2+","+M,S=i*o,T="path",d={d:k,opacity:A,stroke:g,"stroke-width":S+"px"};break;case"-":w=o,M=o,T="path",k="M0,"+M/2+"L"+w+","+M/2,S=i*o,T="path",d={d:k,opacity:A,stroke:g,"stroke-width":S+"px"};break;case"+":w=o,M=o,T="path",k="M"+w/2+",0L"+w/2+","+M+"M0,"+M/2+"L"+w+","+M/2,S=o-o*Math.sqrt(1-i),T="path",d={d:k,opacity:A,stroke:g,"stroke-width":S+"px"};break;case".":w=o,M=o,i<Math.PI/4?x=Math.sqrt(i*o*o/Math.PI):x=m(i,Math.PI/4,1,o/2,o/Math.sqrt(2)),T="circle",d={cx:w/2,cy:M/2,r:x,opacity:A,fill:g};break}var h=[a||"noSh",s||"noBg",f||"noFg",o,i].join(";"),R=b._defs.select(".patterns").selectAll("#"+y).data([h],pt.identity);R.exit().remove(),R.enter().append("pattern").each(function(){var E=sn.select(this);if(E.attr({id:y,width:w+"px",height:M+"px",patternUnits:"userSpaceOnUse",patternTransform:p?"scale(0.8)":""}),s){var D=Ng(s),N=Mn.tinyRGB(D),I=D.getAlpha(),F=E.selectAll("rect").data([0]);F.exit().remove(),F.enter().append("rect").attr({width:w+"px",height:M+"px",fill:N,"fill-opacity":I})}var L=E.selectAll(T).data([0]);L.exit().remove(),L.enter().append(T).attr(d)}),e.style("fill",zg(y,t)).style("fill-opacity",null),e.classed("pattern_filled",!0)};ur.initGradients=function(e){var r=e._fullLayout,t=pt.ensureSingle(r._defs,"g","gradients");t.selectAll("linearGradient,radialGradient").remove(),sn.select(e).selectAll(".gradient_filled").classed("gradient_filled",!1)};ur.initPatterns=function(e){var r=e._fullLayout,t=pt.ensureSingle(r._defs,"g","patterns");t.selectAll("pattern").remove(),sn.select(e).selectAll(".pattern_filled").classed("pattern_filled",!1)};ur.getPatternAttr=function(e,r,t){return e&&pt.isArrayOrTypedArray(e)?r<e.length?e[r]:t:e};ur.pointStyle=function(e,r,t,n){if(e.size()){var a=ur.makePointStyleFns(r);e.each(function(o){ur.singlePointStyle(o,sn.select(this),r,a,t,n)})}};ur.singlePointStyle=function(e,r,t,n,a,o){var i=t.marker,l=i.line;if(o&&o.i>=0&&e.i===void 0&&(e.i=o.i),r.style("opacity",n.selectedOpacityFn?n.selectedOpacityFn(e):e.mo===void 0?i.opacity:e.mo),n.ms2mrc){var u;e.ms==="various"||i.size==="various"?u=3:u=n.ms2mrc(e.ms),e.mrc=u,n.selectedSizeFn&&(u=e.mrc=n.selectedSizeFn(e));var s=ur.symbolNumber(e.mx||i.symbol)||0;e.om=s%200>=100;var f=Og(e,t),v=qg(e,t);r.attr("d",R8(s,u,f,v))}var p=!1,b,y,w;if(e.so)w=l.outlierwidth,y=l.outliercolor,b=i.outliercolor;else{var M=(l||{}).width;w=(e.mlw+1||M+1||(e.trace?(e.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in e?y=e.mlcc=n.lineScale(e.mlc):pt.isArrayOrTypedArray(l.color)?y=Mn.defaultLine:y=l.color,pt.isArrayOrTypedArray(i.color)&&(b=Mn.defaultLine,p=!0),"mc"in e?b=e.mcc=n.markerScale(e.mc):b=i.color||i.colors||"rgba(0,0,0,0)",n.selectedColorFn&&(b=n.selectedColorFn(e))}if(e.om)r.call(Mn.stroke,b).style({"stroke-width":(w||1)+"px",fill:"none"});else{r.style("stroke-width",(e.isBlank?0:w)+"px");var m=i.gradient,k=e.mgt;k?p=!0:k=m&&m.type,pt.isArrayOrTypedArray(k)&&(k=k[0],D8[k]||(k=0));var S=i.pattern,x=S&&ur.getPatternAttr(S.shape,e.i,"");if(k&&k!=="none"){var T=e.mgc;T?p=!0:T=m.color;var d=t.uid;p&&(d+="-"+e.i),ur.gradient(r,a,d,k,[[0,T],[1,b]],"fill")}else if(x){var _=!1,g=S.fgcolor;!g&&o&&o.color&&(g=o.color,_=!0);var c=ur.getPatternAttr(g,e.i,o&&o.color||null),A=ur.getPatternAttr(S.bgcolor,e.i,null),h=S.fgopacity,R=ur.getPatternAttr(S.size,e.i,8),E=ur.getPatternAttr(S.solidity,e.i,.3);_=_||e.mcc||pt.isArrayOrTypedArray(S.shape)||pt.isArrayOrTypedArray(S.bgcolor)||pt.isArrayOrTypedArray(S.fgcolor)||pt.isArrayOrTypedArray(S.size)||pt.isArrayOrTypedArray(S.solidity);var D=t.uid;_&&(D+="-"+e.i),ur.pattern(r,"point",a,D,x,R,E,e.mcc,S.fillmode,A,c,h)}else pt.isArrayOrTypedArray(b)?Mn.fill(r,b[e.i]):Mn.fill(r,b);w&&Mn.stroke(r,y)}};ur.makePointStyleFns=function(e){var r={},t=e.marker;return r.markerScale=ur.tryColorscale(t,""),r.lineScale=ur.tryColorscale(t,"line"),bv.traceIs(e,"symbols")&&(r.ms2mrc=JY.isBubble(e)?KY(e):function(){return(t.size||6)/2}),e.selectedpoints&&pt.extendFlat(r,ur.makeSelectedPointStyleFns(e)),r};ur.makeSelectedPointStyleFns=function(e){var r={},t=e.selected||{},n=e.unselected||{},a=e.marker||{},o=t.marker||{},i=n.marker||{},l=a.opacity,u=o.opacity,s=i.opacity,f=u!==void 0,v=s!==void 0;(pt.isArrayOrTypedArray(l)||f||v)&&(r.selectedOpacityFn=function(x){var T=x.mo===void 0?a.opacity:x.mo;return x.selected?f?u:T:v?s:E8*T});var p=a.color,b=o.color,y=i.color;(b||y)&&(r.selectedColorFn=function(x){var T=x.mcc||p;return x.selected?b||T:y||T});var w=a.size,M=o.size,m=i.size,k=M!==void 0,S=m!==void 0;return bv.traceIs(e,"symbols")&&(k||S)&&(r.selectedSizeFn=function(x){var T=x.mrc||w/2;return x.selected?k?M/2:T:S?m/2:T}),r};ur.makeSelectedTextStyleFns=function(e){var r={},t=e.selected||{},n=e.unselected||{},a=e.textfont||{},o=t.textfont||{},i=n.textfont||{},l=a.color,u=o.color,s=i.color;return r.selectedTextColorFn=function(f){var v=f.tc||l;return f.selected?u||v:s||(u?v:Mn.addOpacity(v,E8))},r};ur.selectedPointStyle=function(e,r){if(!(!e.size()||!r.selectedpoints)){var t=ur.makeSelectedPointStyleFns(r),n=r.marker||{},a=[];t.selectedOpacityFn&&a.push(function(o,i){o.style("opacity",t.selectedOpacityFn(i))}),t.selectedColorFn&&a.push(function(o,i){Mn.fill(o,t.selectedColorFn(i))}),t.selectedSizeFn&&a.push(function(o,i){var l=i.mx||n.symbol||0,u=t.selectedSizeFn(i);o.attr("d",R8(ur.symbolNumber(l),u,Og(i,r),qg(i,r))),i.mrc2=u}),a.length&&e.each(function(o){for(var i=sn.select(this),l=0;l<a.length;l++)a[l](i,o)})}};ur.tryColorscale=function(e,r){var t=r?pt.nestedProperty(e,r).get():e;if(t){var n=t.color;if((t.colorscale||t._colorAx)&&pt.isArrayOrTypedArray(n))return YY.makeColorScaleFuncFromTrace(t)}return pt.identity};var Dg={start:1,end:-1,middle:0,bottom:1,top:-1};function F8(e,r,t,n,a){var o=sn.select(e.node().parentNode),i=r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle",l=r.indexOf("left")!==-1?"end":r.indexOf("right")!==-1?"start":"middle",u=n?n/.8+1:0,s=(_v.lineCount(e)-1)*ZY+1,f=Dg[l]*u,v=t*.75+Dg[i]*u+(Dg[i]-1)*s*t/2;e.attr("text-anchor",l),a||o.attr("transform",kf(f,v))}function I8(e,r){var t=e.ts||r.textfont.size;return ql(t)&&t>0?t:0}ur.textPointStyle=function(e,r,t){if(e.size()){var n;if(r.selectedpoints){var a=ur.makeSelectedTextStyleFns(r);n=a.selectedTextColorFn}var o=r.texttemplate,i=t._fullLayout;e.each(function(l){var u=sn.select(this),s=o?pt.extractOption(l,r,"txt","texttemplate"):pt.extractOption(l,r,"tx","text");if(!s&&s!==0){u.remove();return}if(o){var f=r._module.formatLabels,v=f?f(l,r,i):{},p={};QY(p,r,l.i);var b=r._meta||{};s=pt.texttemplateString(s,v,i._d3locale,p,l,b)}var y=l.tp||r.textposition,w=I8(l,r),M=n?n(l):l.tc||r.textfont.color;u.call(ur.font,{family:l.tf||r.textfont.family,weight:l.tw||r.textfont.weight,style:l.ty||r.textfont.style,variant:l.tv||r.textfont.variant,textcase:l.tC||r.textfont.textcase,lineposition:l.tE||r.textfont.lineposition,shadow:l.tS||r.textfont.shadow,size:w,color:M}).text(s).call(_v.convertToTspans,t).call(F8,y,w,l.mrc)})}};ur.selectedTextStyle=function(e,r){if(!(!e.size()||!r.selectedpoints)){var t=ur.makeSelectedTextStyleFns(r);e.each(function(n){var a=sn.select(this),o=t.selectedTextColorFn(n),i=n.tp||r.textposition,l=I8(n,r);Mn.fill(a,o);var u=bv.traceIs(r,"bar-like");F8(a,i,l,n.mrc2||n.mrc,u)})}};var w8=.5;ur.smoothopen=function(e,r){if(e.length<3)return"M"+e.join("L");var t="M"+e[0],n=[],a;for(a=1;a<e.length-1;a++)n.push(xv(e[a-1],e[a],e[a+1],r));for(t+="Q"+n[0][0]+" "+e[1],a=2;a<e.length-1;a++)t+="C"+n[a-2][1]+" "+n[a-1][0]+" "+e[a];return t+="Q"+n[e.length-3][1]+" "+e[e.length-1],t};ur.smoothclosed=function(e,r){if(e.length<3)return"M"+e.join("L")+"Z";var t="M"+e[0],n=e.length-1,a=[xv(e[n],e[0],e[1],r)],o;for(o=1;o<n;o++)a.push(xv(e[o-1],e[o],e[o+1],r));for(a.push(xv(e[n-1],e[n],e[0],r)),o=1;o<=n;o++)t+="C"+a[o-1][1]+" "+a[o][0]+" "+e[o];return t+="C"+a[n][1]+" "+a[0][0]+" "+e[0]+"Z",t};var N8,z8;function Zs(e,r,t){return t&&(e=q8(e)),r?zl(e[1]):Nl(e[0])}function Nl(e){var r=sn.round(e,2);return N8=r,r}function zl(e){var r=sn.round(e,2);return z8=r,r}function xv(e,r,t,n){var a=e[0]-r[0],o=e[1]-r[1],i=t[0]-r[0],l=t[1]-r[1],u=Math.pow(a*a+o*o,w8/2),s=Math.pow(i*i+l*l,w8/2),f=(s*s*a-u*u*i)*n,v=(s*s*o-u*u*l)*n,p=3*s*(u+s),b=3*u*(u+s);return[[Nl(r[0]+(p&&f/p)),zl(r[1]+(p&&v/p))],[Nl(r[0]-(b&&f/b)),zl(r[1]-(b&&v/b))]]}var nW={hv:function(e,r,t){return"H"+Nl(r[0])+"V"+Zs(r,1,t)},vh:function(e,r,t){return"V"+zl(r[1])+"H"+Zs(r,0,t)},hvh:function(e,r,t){return"H"+Nl((e[0]+r[0])/2)+"V"+zl(r[1])+"H"+Zs(r,0,t)},vhv:function(e,r,t){return"V"+zl((e[1]+r[1])/2)+"H"+Nl(r[0])+"V"+Zs(r,1,t)}},aW=function(e,r,t){return"L"+Zs(r,0,t)+","+Zs(r,1,t)};ur.steps=function(e){var r=nW[e]||aW;return function(t){for(var n="M"+Nl(t[0][0])+","+zl(t[0][1]),a=t.length,o=1;o<a;o++)n+=r(t[o-1],t[o],o===a-1);return n}};function q8(e,r){var t=e.backoff,n=e.trace,a=e.d,o=e.i;if(t&&n&&n.marker&&n.marker.angle%360===0&&n.line&&n.line.shape!=="spline"){var i=pt.isArrayOrTypedArray(t),l=e,u=r?r[0]:N8||0,s=r?r[1]:z8||0,f=l[0],v=l[1],p=f-u,b=v-s,y=Math.atan2(b,p),w=i?t[o]:t;if(w==="auto"){var M=l.i;n.type==="scatter"&&M--;var m=l.marker,k=m.symbol;pt.isArrayOrTypedArray(k)&&(k=k[M]);var S=m.size;pt.isArrayOrTypedArray(S)&&(S=S[M]),w=m?ur.symbolBackOffs[ur.symbolNumber(k)]*S:0,w+=ur.getMarkerStandoff(a[M],n)||0}var x=f-w*Math.cos(y),T=v-w*Math.sin(y);(x<=f&&x>=u||x>=f&&x<=u)&&(T<=v&&T>=s||T>=v&&T<=s)&&(e=[x,T])}return e}ur.applyBackoff=q8;ur.makeTester=function(){var e=pt.ensureSingleById(sn.select("body"),"svg","js-plotly-tester",function(t){t.attr(WY.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),r=pt.ensureSingle(e,"path","js-reference-point",function(t){t.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});ur.tester=e,ur.testref=r};ur.savedBBoxes={};var Pg=0,iW=1e4;ur.bBox=function(e,r,t){t||(t=M8(e));var n;if(t){if(n=ur.savedBBoxes[t],n)return pt.extendFlat({},n)}else if(e.childNodes.length===1){var a=e.childNodes[0];if(t=M8(a),t){var o=+a.getAttribute("x")||0,i=+a.getAttribute("y")||0,l=a.getAttribute("transform");if(!l){var u=ur.bBox(a,!1,t);return o&&(u.left+=o,u.right+=o),i&&(u.top+=i,u.bottom+=i),u}if(t+="~"+o+"~"+i+"~"+l,n=ur.savedBBoxes[t],n)return pt.extendFlat({},n)}}var s,f;r?s=e:(f=ur.tester.node(),s=e.cloneNode(!0),f.appendChild(s)),sn.select(s).attr("transform",null).call(_v.positionText,0,0);var v=s.getBoundingClientRect(),p=ur.testref.node().getBoundingClientRect();r||f.removeChild(s);var b={height:v.height,width:v.width,left:v.left-p.left,top:v.top-p.top,right:v.right-p.left,bottom:v.bottom-p.top};return Pg>=iW&&(ur.savedBBoxes={},Pg=0),t&&(ur.savedBBoxes[t]=b),Pg++,pt.extendFlat({},b)};function M8(e){var r=e.getAttribute("data-unformatted");if(r!==null)return r+e.getAttribute("data-math")+e.getAttribute("text-anchor")+e.getAttribute("style")}ur.setClipUrl=function(e,r,t){e.attr("clip-path",zg(r,t))};function zg(e,r){if(!e)return null;var t=r._context,n=t._exportedPlot?"":t._baseUrl||"";return n?"url('"+n+"#"+e+"')":"url(#"+e+")"}ur.getTranslate=function(e){var r=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,t=e.attr?"attr":"getAttribute",n=e[t]("transform")||"",a=n.replace(r,function(o,i,l){return[i,l].join(" ")}).split(" ");return{x:+a[0]||0,y:+a[1]||0}};ur.setTranslate=function(e,r,t){var n=/(\btranslate\(.*?\);?)/,a=e.attr?"attr":"getAttribute",o=e.attr?"attr":"setAttribute",i=e[a]("transform")||"";return r=r||0,t=t||0,i=i.replace(n,"").trim(),i+=kf(r,t),i=i.trim(),e[o]("transform",i),i};ur.getScale=function(e){var r=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,t=e.attr?"attr":"getAttribute",n=e[t]("transform")||"",a=n.replace(r,function(o,i,l){return[i,l].join(" ")}).split(" ");return{x:+a[0]||1,y:+a[1]||1}};ur.setScale=function(e,r,t){var n=/(\bscale\(.*?\);?)/,a=e.attr?"attr":"getAttribute",o=e.attr?"attr":"setAttribute",i=e[a]("transform")||"";return r=r||1,t=t||1,i=i.replace(n,"").trim(),i+="scale("+r+","+t+")",i=i.trim(),e[o]("transform",i),i};var oW=/\s*sc.*/;ur.setPointGroupScale=function(e,r,t){if(r=r||1,t=t||1,!!e){var n=r===1&&t===1?"":"scale("+r+","+t+")";e.each(function(){var a=(this.getAttribute("transform")||"").replace(oW,"");a+=n,a=a.trim(),this.setAttribute("transform",a)})}};var lW=/translate\([^)]*\)\s*$/;ur.setTextPointsScale=function(e,r,t){e&&e.each(function(){var n,a=sn.select(this),o=a.select("text");if(o.node()){var i=parseFloat(o.attr("x")||0),l=parseFloat(o.attr("y")||0),u=(a.attr("transform")||"").match(lW);r===1&&t===1?n=[]:n=[kf(i,l),"scale("+r+","+t+")",kf(-i,-l)],u&&n.push(u),a.attr("transform",n.join(""))}})};function qg(e,r){var t;return e&&(t=e.mf),t===void 0&&(t=r.marker&&r.marker.standoff||0),!r._geo&&!r._xA?-t:t}ur.getMarkerStandoff=qg;var Af=Math.atan2,Il=Math.cos,Js=Math.sin;function T8(e,r){var t=r[0],n=r[1];return[t*Il(e)-n*Js(e),t*Js(e)+n*Il(e)]}var A8,k8,S8,C8,Fg,Ig;function Og(e,r){var t=e.ma;t===void 0&&(t=r.marker.angle,(!t||pt.isArrayOrTypedArray(t))&&(t=0));var n,a,o=r.marker.angleref;if(o==="previous"||o==="north"){if(r._geo){var i=r._geo.project(e.lonlat);n=i[0],a=i[1]}else{var l=r._xA,u=r._yA;if(l&&u)n=l.c2p(e.x),a=u.c2p(e.y);else return 90}if(r._geo){var s=e.lonlat[0],f=e.lonlat[1],v=r._geo.project([s,f+1e-5]),p=r._geo.project([s+1e-5,f]),b=Af(p[1]-a,p[0]-n),y=Af(v[1]-a,v[0]-n),w;if(o==="north")w=t/180*Math.PI;else if(o==="previous"){var M=s/180*Math.PI,m=f/180*Math.PI,k=A8/180*Math.PI,S=k8/180*Math.PI,x=k-M,T=Il(S)*Js(x),d=Js(S)*Il(m)-Il(S)*Js(m)*Il(x);w=-Af(T,d)-Math.PI,A8=s,k8=f}var _=T8(b,[Il(w),0]),g=T8(y,[Js(w),0]);t=Af(_[1]+g[1],_[0]+g[0])/Math.PI*180,o==="previous"&&!(Ig===r.uid&&e.i===Fg+1)&&(t=null)}if(o==="previous"&&!r._geo)if(Ig===r.uid&&e.i===Fg+1&&ql(n)&&ql(a)){var c=n-S8,A=a-C8,h=r.line&&r.line.shape||"",R=h.slice(h.length-1);R==="h"&&(A=0),R==="v"&&(c=0),t+=Af(A,c)/Math.PI*180+90}else t=null}return S8=n,C8=a,Fg=e.i,Ig=r.uid,t}ur.getMarkerAngle=Og});var Sf=pe((xce,V8)=>{"use strict";var Ks=it(),sW=rt(),uW=ln(),Bg=Er(),Ol=ir(),B8=Ol.strTranslate,wv=yt(),Mv=Zr(),Qs=Yn(),U8=Dc(),fW=qn().OPPOSITE_SIDE,H8=/ [XY][0-9]* /,Ug=1.6,Hg=1.6;function cW(e,r,t){var n=e._fullLayout,a=t.propContainer,o=t.propName,i=t.placeholder,l=t.traceIndex,u=t.avoid||{},s=t.attributes,f=t.transform,v=t.containerGroup,p=1,b=a.title,y=(b&&b.text?b.text:"").trim(),w=!1,M=b&&b.font?b.font:{},m=M.family,k=M.size,S=M.color,x=M.weight,T=M.style,d=M.variant,_=M.textcase,g=M.lineposition,c=M.shadow,A=t.subtitlePropName,h=!!A,R=t.subtitlePlaceholder,E=(a.title||{}).subtitle||{text:"",font:{}},D=E.text.trim(),N=!1,I=1,F=E.font,L=F.family,P=F.size,O=F.color,U=F.weight,X=F.style,j=F.variant,$=F.textcase,Y=F.lineposition,q=F.shadow,Z;o==="title.text"?Z="titleText":o.indexOf("axis")!==-1?Z="axisTitleText":o.indexOf("colorbar"!==-1)&&(Z="colorbarTitleText");var ne=e._context.edits[Z];function Q(ke,De){return ke===void 0||De===void 0?!1:ke.replace(H8," % ")===De.replace(H8," % ")}y===""?p=0:Q(y,i)&&(ne||(y=""),p=.2,w=!0),h&&(D===""?I=0:Q(D,R)&&(ne||(D=""),I=.2,N=!0)),t._meta?y=Ol.templateString(y,t._meta):n._meta&&(y=Ol.templateString(y,n._meta));var oe=y||D||ne,ee;v||(v=Ol.ensureSingle(n._infolayer,"g","g-"+r),ee=n._hColorbarMoveTitle);var G=v.selectAll("text."+r).data(oe?[0]:[]);G.enter().append("text"),G.text(y).attr("class",r),G.exit().remove();var re=null,H=r+"-subtitle",te=D||ne;if(h&&te&&(re=v.selectAll("text."+H).data(te?[0]:[]),re.enter().append("text"),re.text(D).attr("class",H),re.exit().remove()),!oe)return v;function ue(ke,De){Ol.syncOrAsync([de,Ee],{title:ke,subtitle:De})}function de(ke){var De=ke.title,Ce=ke.subtitle,Oe;!f&&ee&&(f={}),f?(Oe="",f.rotate&&(Oe+="rotate("+[f.rotate,s.x,s.y]+")"),(f.offset||ee)&&(Oe+=B8(0,(f.offset||0)-(ee||0)))):Oe=null,De.attr("transform",Oe);function Ue(me){if(me){var he=Ks.select(me.node().parentNode).select("."+H);if(!he.empty()){var be=me.node().getBBox();if(be.height){var Se=be.y+be.height+Ug*P;he.attr("y",Se)}}}}if(De.style("opacity",p*Mv.opacity(S)).call(wv.font,{color:Mv.rgb(S),size:Ks.round(k,2),family:m,weight:x,style:T,variant:d,textcase:_,shadow:c,lineposition:g}).attr(s).call(Qs.convertToTspans,e,Ue),Ce){var ge=v.select("."+r+"-math-group"),Te=De.node().getBBox(),ce=ge.node()?ge.node().getBBox():void 0,ye=ce?ce.y+ce.height+Ug*P:Te.y+Te.height+Hg*P,Le=Ol.extendFlat({},s,{y:ye});Ce.attr("transform",Oe),Ce.style("opacity",I*Mv.opacity(O)).call(wv.font,{color:Mv.rgb(O),size:Ks.round(P,2),family:L,weight:U,style:X,variant:j,textcase:$,shadow:q,lineposition:Y}).attr(Le).call(Qs.convertToTspans,e)}return uW.previousPromises(e)}function Ee(ke){var De=ke.title,Ce=Ks.select(De.node().parentNode);if(u&&u.selection&&u.side&&y){Ce.attr("transform",null);var Oe=fW[u.side],Ue=u.side==="left"||u.side==="top"?-1:1,ge=sW(u.pad)?u.pad:2,Te=wv.bBox(Ce.node()),ce={t:0,b:0,l:0,r:0},ye=e._fullLayout._reservedMargin;for(var Le in ye)for(var me in ye[Le]){var he=ye[Le][me];ce[me]=Math.max(ce[me],he)}var be={left:ce.l,top:ce.t,right:n.width-ce.r,bottom:n.height-ce.b},Se=u.maxShift||Ue*(be[u.side]-Te[u.side]),ze=0;if(Se<0)ze=Se;else{var Fe=u.offsetLeft||0,Ze=u.offsetTop||0;Te.left-=Fe,Te.right-=Fe,Te.top-=Ze,Te.bottom-=Ze,u.selection.each(function(){var Ge=wv.bBox(this);Ol.bBoxIntersect(Te,Ge,ge)&&(ze=Math.max(ze,Ue*(Ge[u.side]-Te[Oe])+ge))}),ze=Math.min(Se,ze),a._titleScoot=Math.abs(ze)}if(ze>0||Se<0){var Ye={left:[-ze,0],right:[ze,0],top:[0,-ze],bottom:[0,ze]}[u.side];Ce.attr("transform",B8(Ye[0],Ye[1]))}}}G.call(ue,re);function Me(ke,De){ke.text(De).on("mouseover.opacity",function(){Ks.select(this).transition().duration(U8.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){Ks.select(this).transition().duration(U8.HIDE_PLACEHOLDER).style("opacity",0)})}if(ne&&(y?G.on(".opacity",null):(Me(G,i),w=!0),G.call(Qs.makeEditable,{gd:e}).on("edit",function(ke){l!==void 0?Bg.call("_guiRestyle",e,o,ke,l):Bg.call("_guiRelayout",e,o,ke)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ue)}).on("input",function(ke){this.text(ke||" ").call(Qs.positionText,s.x,s.y)}),h)){if(h&&!y){var ve=G.node().getBBox(),Ae=ve.y+ve.height+Hg*P;re.attr("y",Ae)}D?re.on(".opacity",null):(Me(re,R),N=!0),re.call(Qs.makeEditable,{gd:e}).on("edit",function(ke){Bg.call("_guiRelayout",e,"title.subtitle.text",ke)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ue)}).on("input",function(ke){this.text(ke||" ").call(Qs.positionText,re.attr("x"),re.attr("y"))})}return G.classed("js-placeholder",w),re&&re.classed("js-placeholder",N),v}V8.exports={draw:cW,SUBTITLE_PADDING_EM:Hg,SUBTITLE_PADDING_MATHJAX_EM:Ug}});var Rv=pe((bce,Z8)=>{"use strict";var vW=it(),hW=ks().utcFormat,mt=ir(),dW=mt.numberFormat,Ri=rt(),Oo=mt.cleanNumber,pW=mt.ms2DateTime,G8=mt.dateTime2ms,Di=mt.ensureNumber,Y8=mt.isArrayOrTypedArray,Bo=nn(),Tv=Bo.FP_SAFE,ri=Bo.BADNUM,gW=Bo.LOG_CLIP,yW=Bo.ONEWEEK,Av=Bo.ONEDAY,kv=Bo.ONEHOUR,W8=Bo.ONEMIN,X8=Bo.ONESEC,Sv=on(),Lv=wn(),Cv=Lv.HOUR_PATTERN,Ev=Lv.WEEKDAY_PATTERN;function Cf(e){return Math.pow(10,e)}function Vg(e){return e!=null}Z8.exports=function(r,t){t=t||{};var n=r._id||"x",a=n.charAt(0);function o(x,T){if(x>0)return Math.log(x)/Math.LN10;if(x<=0&&T&&r.range&&r.range.length===2){var d=r.range[0],_=r.range[1];return .5*(d+_-2*gW*Math.abs(d-_))}else return ri}function i(x,T,d,_){if((_||{}).msUTC&&Ri(x))return+x;var g=G8(x,d||r.calendar);if(g===ri)if(Ri(x)){x=+x;var c=Math.floor(mt.mod(x+.05,1)*10),A=Math.round(x-c/10);g=G8(new Date(A))+c/10}else return ri;return g}function l(x,T,d){return pW(x,T,d||r.calendar)}function u(x){return r._categories[Math.round(x)]}function s(x){if(Vg(x)){if(r._categoriesMap===void 0&&(r._categoriesMap={}),r._categoriesMap[x]!==void 0)return r._categoriesMap[x];r._categories.push(typeof x=="number"?String(x):x);var T=r._categories.length-1;return r._categoriesMap[x]=T,T}return ri}function f(x,T){for(var d=new Array(T),_=0;_<T;_++){var g=(x[0]||[])[_],c=(x[1]||[])[_];d[_]=v([g,c])}return d}function v(x){if(r._categoriesMap)return r._categoriesMap[x]}function p(x){var T=v(x);if(T!==void 0)return T;if(Ri(x))return+x}function b(x){return Ri(x)?+x:v(x)}function y(x,T,d){return vW.round(d+T*x,2)}function w(x,T,d){return(x-d)/T}var M=function(T){return Ri(T)?y(T,r._m,r._b):ri},m=function(x){return w(x,r._m,r._b)};if(r.rangebreaks){var k=a==="y";M=function(x){if(!Ri(x))return ri;var T=r._rangebreaks.length;if(!T)return y(x,r._m,r._b);var d=k;r.range[0]>r.range[1]&&(d=!d);for(var _=d?-1:1,g=_*x,c=0,A=0;A<T;A++){var h=_*r._rangebreaks[A].min,R=_*r._rangebreaks[A].max;if(g<h)break;if(g>R)c=A+1;else{c=g<(h+R)/2?A:A+1;break}}var E=r._B[c]||0;return isFinite(E)?y(x,r._m2,E):0},m=function(x){var T=r._rangebreaks.length;if(!T)return w(x,r._m,r._b);for(var d=0,_=0;_<T&&!(x<r._rangebreaks[_].pmin);_++)x>r._rangebreaks[_].pmax&&(d=_+1);return w(x,r._m2,r._B[d])}}r.c2l=r.type==="log"?o:Di,r.l2c=r.type==="log"?Cf:Di,r.l2p=M,r.p2l=m,r.c2p=r.type==="log"?function(x,T){return M(o(x,T))}:M,r.p2c=r.type==="log"?function(x){return Cf(m(x))}:m,["linear","-"].indexOf(r.type)!==-1?(r.d2r=r.r2d=r.d2c=r.r2c=r.d2l=r.r2l=Oo,r.c2d=r.c2r=r.l2d=r.l2r=Di,r.d2p=r.r2p=function(x){return r.l2p(Oo(x))},r.p2d=r.p2r=m,r.cleanPos=Di):r.type==="log"?(r.d2r=r.d2l=function(x,T){return o(Oo(x),T)},r.r2d=r.r2c=function(x){return Cf(Oo(x))},r.d2c=r.r2l=Oo,r.c2d=r.l2r=Di,r.c2r=o,r.l2d=Cf,r.d2p=function(x,T){return r.l2p(r.d2r(x,T))},r.p2d=function(x){return Cf(m(x))},r.r2p=function(x){return r.l2p(Oo(x))},r.p2r=m,r.cleanPos=Di):r.type==="date"?(r.d2r=r.r2d=mt.identity,r.d2c=r.r2c=r.d2l=r.r2l=i,r.c2d=r.c2r=r.l2d=r.l2r=l,r.d2p=r.r2p=function(x,T,d){return r.l2p(i(x,0,d))},r.p2d=r.p2r=function(x,T,d){return l(m(x),T,d)},r.cleanPos=function(x){return mt.cleanDate(x,ri,r.calendar)}):r.type==="category"?(r.d2c=r.d2l=s,r.r2d=r.c2d=r.l2d=u,r.d2r=r.d2l_noadd=p,r.r2c=function(x){var T=b(x);return T!==void 0?T:r.fraction2r(.5)},r.l2r=r.c2r=Di,r.r2l=b,r.d2p=function(x){return r.l2p(r.r2c(x))},r.p2d=function(x){return u(m(x))},r.r2p=r.d2p,r.p2r=m,r.cleanPos=function(x){return typeof x=="string"&&x!==""?x:Di(x)}):r.type==="multicategory"&&(r.r2d=r.c2d=r.l2d=u,r.d2r=r.d2l_noadd=p,r.r2c=function(x){var T=p(x);return T!==void 0?T:r.fraction2r(.5)},r.r2c_just_indices=v,r.l2r=r.c2r=Di,r.r2l=p,r.d2p=function(x){return r.l2p(r.r2c(x))},r.p2d=function(x){return u(m(x))},r.r2p=r.d2p,r.p2r=m,r.cleanPos=function(x){return Array.isArray(x)||typeof x=="string"&&x!==""?x:Di(x)},r.setupMultiCategory=function(x){var T=r._traceIndices,d,_,g=r._matchGroup;if(g&&r._categories.length===0){for(var c in g)if(c!==n){var A=t[Sv.id2name(c)];T=T.concat(A._traceIndices)}}var h=[[0,{}],[0,{}]],R=[];for(d=0;d<T.length;d++){var E=x[T[d]];if(a in E){var D=E[a],N=E._length||mt.minRowLength(D);if(Y8(D[0])&&Y8(D[1]))for(_=0;_<N;_++){var I=D[0][_],F=D[1][_];Vg(I)&&Vg(F)&&(R.push([I,F]),I in h[0][1]||(h[0][1][I]=h[0][0]++),F in h[1][1]||(h[1][1][F]=h[1][0]++))}}}for(R.sort(function(L,P){var O=h[0][1],U=O[L[0]]-O[P[0]];if(U)return U;var X=h[1][1];return X[L[1]]-X[P[1]]}),d=0;d<R.length;d++)s(R[d])}),r.fraction2r=function(x){var T=r.r2l(r.range[0]),d=r.r2l(r.range[1]);return r.l2r(T+x*(d-T))},r.r2fraction=function(x){var T=r.r2l(r.range[0]),d=r.r2l(r.range[1]);return(r.r2l(x)-T)/(d-T)},r.limitRange=function(x){var T=r.minallowed,d=r.maxallowed;if(!(T===void 0&&d===void 0)){x||(x="range");var _=mt.nestedProperty(r,x).get(),g=mt.simpleMap(_,r.r2l),c=g[1]<g[0];c&&g.reverse();var A=mt.simpleMap([T,d],r.r2l);if(T!==void 0&&g[0]<A[0]&&(_[c?1:0]=T),d!==void 0&&g[1]>A[1]&&(_[c?0:1]=d),_[0]===_[1]){var h=r.l2r(T),R=r.l2r(d);if(T!==void 0){var E=h+1;d!==void 0&&(E=Math.min(E,R)),_[c?1:0]=E}if(d!==void 0){var D=R+1;T!==void 0&&(D=Math.max(D,h)),_[c?0:1]=D}}}},r.cleanRange=function(x,T){r._cleanRange(x,T),r.limitRange(x)},r._cleanRange=function(x,T){T||(T={}),x||(x="range");var d=mt.nestedProperty(r,x).get(),_,g;if(r.type==="date"?g=mt.dfltRange(r.calendar):a==="y"?g=Lv.DFLTRANGEY:r._name==="realaxis"?g=[0,1]:g=T.dfltRange||Lv.DFLTRANGEX,g=g.slice(),(r.rangemode==="tozero"||r.rangemode==="nonnegative")&&(g[0]=0),!d||d.length!==2){mt.nestedProperty(r,x).set(g);return}var c=d[0]===null,A=d[1]===null;for(r.type==="date"&&!r.autorange&&(d[0]=mt.cleanDate(d[0],ri,r.calendar),d[1]=mt.cleanDate(d[1],ri,r.calendar)),_=0;_<2;_++)if(r.type==="date"){if(!mt.isDateTime(d[_],r.calendar)){r[x]=g;break}if(r.r2l(d[0])===r.r2l(d[1])){var h=mt.constrain(r.r2l(d[0]),mt.MIN_MS+1e3,mt.MAX_MS-1e3);d[0]=r.l2r(h-1e3),d[1]=r.l2r(h+1e3);break}}else{if(!Ri(d[_]))if(!(c||A)&&Ri(d[1-_]))d[_]=d[1-_]*(_?10:.1);else{r[x]=g;break}if(d[_]<-Tv?d[_]=-Tv:d[_]>Tv&&(d[_]=Tv),d[0]===d[1]){var R=Math.max(1,Math.abs(d[0]*1e-6));d[0]-=R,d[1]+=R}}},r.setScale=function(x){var T=t._size;if(r.overlaying){var d=Sv.getFromId({_fullLayout:t},r.overlaying);r.domain=d.domain}var _=x&&r._r?"_r":"range",g=r.calendar;r.cleanRange(_);var c=r.r2l(r[_][0],g),A=r.r2l(r[_][1],g),h=a==="y";if(h?(r._offset=T.t+(1-r.domain[1])*T.h,r._length=T.h*(r.domain[1]-r.domain[0]),r._m=r._length/(c-A),r._b=-r._m*A):(r._offset=T.l+r.domain[0]*T.w,r._length=T.w*(r.domain[1]-r.domain[0]),r._m=r._length/(A-c),r._b=-r._m*c),r._rangebreaks=[],r._lBreaks=0,r._m2=0,r._B=[],r.rangebreaks){var R,E;if(r._rangebreaks=r.locateBreaks(Math.min(c,A),Math.max(c,A)),r._rangebreaks.length){for(R=0;R<r._rangebreaks.length;R++)E=r._rangebreaks[R],r._lBreaks+=Math.abs(E.max-E.min);var D=h;c>A&&(D=!D),D&&r._rangebreaks.reverse();var N=D?-1:1;for(r._m2=N*r._length/(Math.abs(A-c)-r._lBreaks),r._B.push(-r._m2*(h?A:c)),R=0;R<r._rangebreaks.length;R++)E=r._rangebreaks[R],r._B.push(r._B[r._B.length-1]-N*r._m2*(E.max-E.min));for(R=0;R<r._rangebreaks.length;R++)E=r._rangebreaks[R],E.pmin=M(E.min),E.pmax=M(E.max)}}if(!isFinite(r._m)||!isFinite(r._b)||r._length<0)throw t._replotting=!1,new Error("Something went wrong with axis scaling")},r.maskBreaks=function(x){var T=r.rangebreaks||[],d,_,g,c,A;T._cachedPatterns||(T._cachedPatterns=T.map(function(O){return O.enabled&&O.bounds?mt.simpleMap(O.bounds,O.pattern?Oo:r.d2c):null})),T._cachedValues||(T._cachedValues=T.map(function(O){return O.enabled&&O.values?mt.simpleMap(O.values,r.d2c).sort(mt.sorterAsc):null}));for(var h=0;h<T.length;h++){var R=T[h];if(R.enabled){if(R.bounds){var E=R.pattern;switch(d=T._cachedPatterns[h],_=d[0],g=d[1],E){case Ev:A=new Date(x),c=A.getUTCDay(),_>g&&(g+=7,c<_&&(c+=7));break;case Cv:A=new Date(x);var D=A.getUTCHours(),N=A.getUTCMinutes(),I=A.getUTCSeconds(),F=A.getUTCMilliseconds();c=D+(N/60+I/3600+F/36e5),_>g&&(g+=24,c<_&&(c+=24));break;case"":c=x;break}if(c>=_&&c<g)return ri}else for(var L=T._cachedValues[h],P=0;P<L.length;P++)if(_=L[P],g=_+R.dvalue,x>=_&&x<g)return ri}}return x},r.locateBreaks=function(x,T){var d,_,g,c,A=[];if(!r.rangebreaks)return A;var h=r.rangebreaks.slice().sort(function(X,j){return X.pattern===Ev&&j.pattern===Cv?-1:j.pattern===Ev&&X.pattern===Cv?1:0}),R=function(X,j){if(X=mt.constrain(X,x,T),j=mt.constrain(j,x,T),X!==j){for(var $=!0,Y=0;Y<A.length;Y++){var q=A[Y];X<q.max&&j>=q.min&&(X<q.min&&(q.min=X),j>q.max&&(q.max=j),$=!1)}$&&A.push({min:X,max:j})}};for(d=0;d<h.length;d++){var E=h[d];if(E.enabled)if(E.bounds){var D=x,N=T;E.pattern&&(D=Math.floor(D)),_=mt.simpleMap(E.bounds,E.pattern?Oo:r.r2l),g=_[0],c=_[1];var I=new Date(D),F,L;switch(E.pattern){case Ev:L=yW,F=((c<g?7:0)+(c-g))*Av,D+=g*Av-(I.getUTCDay()*Av+I.getUTCHours()*kv+I.getUTCMinutes()*W8+I.getUTCSeconds()*X8+I.getUTCMilliseconds());break;case Cv:L=Av,F=((c<g?24:0)+(c-g))*kv,D+=g*kv-(I.getUTCHours()*kv+I.getUTCMinutes()*W8+I.getUTCSeconds()*X8+I.getUTCMilliseconds());break;default:D=Math.min(_[0],_[1]),N=Math.max(_[0],_[1]),L=N-D,F=L}for(var P=D;P<N;P+=L)R(P,P+F)}else for(var O=mt.simpleMap(E.values,r.d2c),U=0;U<O.length;U++)g=O[U],c=g+E.dvalue,R(g,c)}return A.sort(function(X,j){return X.min-j.min}),A},r.makeCalcdata=function(x,T,d){var _,g,c,A,h=r.type,R=h==="date"&&x[T+"calendar"];if(T in x){if(_=x[T],A=x._length||mt.minRowLength(_),mt.isTypedArray(_)&&(h==="linear"||h==="log")){if(A===_.length)return _;if(_.subarray)return _.subarray(0,A)}if(h==="multicategory")return f(_,A);for(g=new Array(A),c=0;c<A;c++)g[c]=r.d2c(_[c],0,R,d)}else{var E=T+"0"in x?r.d2c(x[T+"0"],0,R):0,D=x["d"+T]?Number(x["d"+T]):1;for(_=x[{x:"y",y:"x"}[T]],A=x._length||_.length,g=new Array(A),c=0;c<A;c++)g[c]=E+c*D}if(r.rangebreaks)for(c=0;c<A;c++)g[c]=r.maskBreaks(g[c]);return g},r.isValidRange=function(x,T){return Array.isArray(x)&&x.length===2&&(T&&x[0]===null||Ri(r.r2l(x[0])))&&(T&&x[1]===null||Ri(r.r2l(x[1])))},r.getAutorangeDflt=function(x,T){var d=!r.isValidRange(x,"nullOk");return d&&T&&T.reverseDflt?d="reversed":x&&(x[0]===null&&x[1]===null?d=!0:x[0]===null&&x[1]!==null?d="min":x[0]!==null&&x[1]===null&&(d="max")),d},r.isReversed=function(){var x=r.autorange;return x==="reversed"||x==="min reversed"||x==="max reversed"},r.isPtWithinRange=function(x,T){var d=r.c2l(x[a],null,T),_=r.r2l(r.range[0]),g=r.r2l(r.range[1]);return _<g?_<=d&&d<=g:g<=d&&d<=_},r._emptyCategories=function(){r._categories=[],r._categoriesMap={}},r.clearCalc=function(){var x=r._matchGroup;if(x){var T=null,d=null;for(var _ in x){var g=t[Sv.id2name(_)];if(g._categories){T=g._categories,d=g._categoriesMap;break}}T&&d?(r._categories=T,r._categoriesMap=d):r._emptyCategories()}else r._emptyCategories();if(r._initialCategories)for(var c=0;c<r._initialCategories.length;c++)s(r._initialCategories[c])},r.sortByInitialCategories=function(){var x=[];if(r._emptyCategories(),r._initialCategories)for(var T=0;T<r._initialCategories.length;T++)s(r._initialCategories[T]);x=x.concat(r._traceIndices);var d=r._matchGroup;for(var _ in d)if(n!==_){var g=t[Sv.id2name(_)];g._categories=r._categories,g._categoriesMap=r._categoriesMap,x=x.concat(g._traceIndices)}return x};var S=t._d3locale;r.type==="date"&&(r._dateFormat=S?S.timeFormat:hW,r._extraFormat=t._extraFormat),r._separators=t.separators,r._numFormat=S?S.numberFormat:dW,delete r._minDtick,delete r._forceTick0}});var Yg=pe((_ce,$8)=>{"use strict";var J8=rt(),Gg=ir(),mW=nn().BADNUM,Dv=Gg.isArrayOrTypedArray,xW=Gg.isDateTime,bW=Gg.cleanNumber,K8=Math.round;$8.exports=function(r,t,n){var a=r,o=n.noMultiCategory;if(Dv(a)&&!a.length)return"-";if(!o&&AW(a))return"multicategory";if(o&&Array.isArray(a[0])){for(var i=[],l=0;l<a.length;l++)if(Dv(a[l]))for(var u=0;u<a[l].length;u++)i.push(a[l][u]);a=i}if(MW(a,t))return"date";var s=n.autotypenumbers!=="strict";return TW(a,s)?"category":wW(a,s)?"linear":"-"};function _W(e,r){return r?J8(e):typeof e=="number"}function wW(e,r){for(var t=e.length,n=0;n<t;n++)if(_W(e[n],r))return!0;return!1}function MW(e,r){for(var t=e.length,n=Q8(t),a=0,o=0,i={},l=0;l<t;l+=n){var u=K8(l),s=e[u],f=String(s);i[f]||(i[f]=1,xW(s,r)&&a++,J8(s)&&o++)}return a>o*2}function Q8(e){return Math.max(1,(e-1)/1e3)}function TW(e,r){for(var t=e.length,n=Q8(t),a=0,o=0,i={},l=0;l<t;l+=n){var u=K8(l),s=e[u],f=String(s);if(!i[f]){i[f]=1;var v=typeof s;v==="boolean"?o++:(r?bW(s)!==mW:v==="number")?a++:v==="string"&&o++}}return o>a*2}function AW(e){return Dv(e[0])&&Dv(e[1])}});var $s=pe((wce,oM)=>{"use strict";var kW=it(),tM=rt(),Uo=ir(),Pv=nn().FP_SAFE,SW=Er(),CW=yt(),nM=on(),EW=nM.getFromId,LW=nM.isLinked;oM.exports={applyAutorangeOptions:iM,getAutoRange:Wg,makePadFn:Xg,doAutoRange:DW,findExtremes:PW,concatExtremes:Kg};function Wg(e,r){var t,n,a=[],o=e._fullLayout,i=Xg(o,r,0),l=Xg(o,r,1),u=Kg(e,r),s=u.min,f=u.max;if(s.length===0||f.length===0)return Uo.simpleMap(r.range,r.r2l);var v=s[0].val,p=f[0].val;for(t=1;t<s.length&&v===p;t++)v=Math.min(v,s[t].val);for(t=1;t<f.length&&v===p;t++)p=Math.max(p,f[t].val);var b=r.autorange,y=b==="reversed"||b==="min reversed"||b==="max reversed";if(!y&&r.range){var w=Uo.simpleMap(r.range,r.r2l);y=w[1]<w[0]}r.autorange==="reversed"&&(r.autorange=!0);var M=r.rangemode,m=M==="tozero",k=M==="nonnegative",S=r._length,x=S/10,T=0,d,_,g,c,A,h;for(t=0;t<s.length;t++)for(d=s[t],n=0;n<f.length;n++)_=f[n],h=_.val-d.val-j8(r,d.val,_.val),h>0&&(A=S-i(d)-l(_),A>x?h/A>T&&(g=d,c=_,T=h/A):h/S>T&&(g={val:d.val,nopad:1},c={val:_.val,nopad:1},T=h/S));function R(F,L){return Math.max(F,l(L))}if(v===p){var E=v-1,D=v+1;if(m)if(v===0)a=[0,1];else{var N=(v>0?f:s).reduce(R,0),I=v/(1-Math.min(.5,N/S));a=v>0?[0,I]:[I,0]}else k?a=[Math.max(0,E),Math.max(1,D)]:a=[E,D]}else m?(g.val>=0&&(g={val:0,nopad:1}),c.val<=0&&(c={val:0,nopad:1})):k&&(g.val-T*i(g)<0&&(g={val:0,nopad:1}),c.val<=0&&(c={val:1,nopad:1})),T=(c.val-g.val-j8(r,d.val,_.val))/(S-i(g)-l(c)),a=[g.val-T*i(g),c.val+T*l(c)];return a=iM(a,r),r.limitRange&&r.limitRange(),y&&a.reverse(),Uo.simpleMap(a,r.l2r||Number)}function j8(e,r,t){var n=0;if(e.rangebreaks)for(var a=e.locateBreaks(r,t),o=0;o<a.length;o++){var i=a[o];n+=i.max-i.min}return n}function Xg(e,r,t){var n=.05*r._length,a=r._anchorAxis||{};if((r.ticklabelposition||"").indexOf("inside")!==-1||(a.ticklabelposition||"").indexOf("inside")!==-1){var o=r.isReversed();if(!o){var i=Uo.simpleMap(r.range,r.r2l);o=i[1]<i[0]}o&&(t=!t)}var l=0;return LW(e,r._id)||(l=RW(e,r,t)),n=Math.max(l,n),r.constrain==="domain"&&r._inputDomain&&(n*=(r._inputDomain[1]-r._inputDomain[0])/(r.domain[1]-r.domain[0])),function(s){return s.nopad?0:s.pad+(s.extrapad?n:l)}}var eM=3;function RW(e,r,t){var n=0,a=r._id.charAt(0)==="x";for(var o in e._plots){var i=e._plots[o];if(!(r._id!==i.xaxis._id&&r._id!==i.yaxis._id)){var l=(a?i.yaxis:i.xaxis)||{};if((l.ticklabelposition||"").indexOf("inside")!==-1&&(!t&&(l.side==="left"||l.side==="bottom")||t&&(l.side==="top"||l.side==="right"))){if(l._vals){var u=Uo.deg2rad(l._tickAngles[l._id+"tick"]||0),s=Math.abs(Math.cos(u)),f=Math.abs(Math.sin(u));if(!l._vals[0].bb){var v=l._id+"tick",p=l._selections[v];p.each(function(k){var S=kW.select(this),x=S.select(".text-math-group");x.empty()&&(k.bb=CW.bBox(S.node()))})}for(var b=0;b<l._vals.length;b++){var y=l._vals[b],w=y.bb;if(w){var M=2*eM+w.width,m=2*eM+w.height;n=Math.max(n,a?Math.max(M*s,m*f):Math.max(m*s,M*f))}}}l.ticks==="inside"&&l.ticklabelposition==="inside"&&(n+=l.ticklen||0)}}}return n}function Kg(e,r,t){var n=r._id,a=e._fullData,o=e._fullLayout,i=[],l=[],u,s,f;function v(M,m){for(u=0;u<m.length;u++){var k=M[m[u]],S=(k._extremes||{})[n];if(k.visible===!0&&S){for(s=0;s<S.min.length;s++)f=S.min[s],Zg(i,f.val,f.pad,{extrapad:f.extrapad});for(s=0;s<S.max.length;s++)f=S.max[s],Jg(l,f.val,f.pad,{extrapad:f.extrapad})}}}if(v(a,r._traceIndices),v(o.annotations||[],r._annIndices||[]),v(o.shapes||[],r._shapeIndices||[]),r._matchGroup&&!t){for(var p in r._matchGroup)if(p!==r._id){var b=EW(e,p),y=Kg(e,b,!0),w=r._length/b._length;for(s=0;s<y.min.length;s++)f=y.min[s],Zg(i,f.val,f.pad*w,{extrapad:f.extrapad});for(s=0;s<y.max.length;s++)f=y.max[s],Jg(l,f.val,f.pad*w,{extrapad:f.extrapad})}}return{min:i,max:l}}function DW(e,r,t){if(r.setScale(),r.autorange){r.range=t?t.slice():Wg(e,r),r._r=r.range.slice(),r._rl=Uo.simpleMap(r._r,r.r2l);var n=r._input,a={};a[r._attr+".range"]=r.range,a[r._attr+".autorange"]=r.autorange,SW.call("_storeDirectGUIEdit",e.layout,e._fullLayout._preGUI,a),n.range=r.range.slice(),n.autorange=r.autorange}var o=r._anchorAxis;if(o&&o.rangeslider){var i=o.rangeslider[r._name];i&&i.rangemode==="auto"&&(i.range=Wg(e,r)),o._input.rangeslider[r._name]=Uo.extendFlat({},i)}}function PW(e,r,t){t||(t={}),e._m||e.setScale();var n=[],a=[],o=r.length,i=t.padded||!1,l=t.tozero&&(e.type==="linear"||e.type==="-"),u=e.type==="log",s=!1,f=t.vpadLinearized||!1,v,p,b,y,w,M,m,k,S;function x(R){if(Array.isArray(R))return s=!0,function(D){return Math.max(Number(R[D]||0),0)};var E=Math.max(Number(R||0),0);return function(){return E}}var T=x((e._m>0?t.ppadplus:t.ppadminus)||t.ppad||0),d=x((e._m>0?t.ppadminus:t.ppadplus)||t.ppad||0),_=x(t.vpadplus||t.vpad),g=x(t.vpadminus||t.vpad);if(!s){if(k=1/0,S=-1/0,u)for(v=0;v<o;v++)p=r[v],p<k&&p>0&&(k=p),p>S&&p<Pv&&(S=p);else for(v=0;v<o;v++)p=r[v],p<k&&p>-Pv&&(k=p),p>S&&p<Pv&&(S=p);r=[k,S],o=2}var c={tozero:l,extrapad:i};function A(R){b=r[R],tM(b)&&(M=T(R),m=d(R),f?(y=e.c2l(b)-g(R),w=e.c2l(b)+_(R)):(k=b-g(R),S=b+_(R),u&&k<S/10&&(k=S/10),y=e.c2l(k),w=e.c2l(S)),l&&(y=Math.min(0,y),w=Math.max(0,w)),rM(y)&&Zg(n,y,m,c),rM(w)&&Jg(a,w,M,c))}var h=Math.min(6,o);for(v=0;v<h;v++)A(v);for(v=o-1;v>=h;v--)A(v);return{min:n,max:a,opts:t}}function Zg(e,r,t,n){aM(e,r,t,n,FW)}function Jg(e,r,t,n){aM(e,r,t,n,IW)}function aM(e,r,t,n,a){for(var o=n.tozero,i=n.extrapad,l=!0,u=0;u<e.length&&l;u++){var s=e[u];if(a(s.val,r)&&s.pad>=t&&(s.extrapad||!i)){l=!1;break}else a(r,s.val)&&s.pad<=t&&(i||!s.extrapad)&&(e.splice(u,1),u--)}if(l){var f=o&&r===0;e.push({val:r,pad:f?0:t,extrapad:f?!1:i})}}function rM(e){return tM(e)&&Math.abs(e)<Pv}function FW(e,r){return e<=r}function IW(e,r){return e>=r}function NW(e,r){var t=r.autorangeoptions;return t&&t.minallowed!==void 0&&Fv(r,t.minallowed,t.maxallowed)?t.minallowed:t&&t.clipmin!==void 0&&Fv(r,t.clipmin,t.clipmax)?Math.max(e,r.d2l(t.clipmin)):e}function zW(e,r){var t=r.autorangeoptions;return t&&t.maxallowed!==void 0&&Fv(r,t.minallowed,t.maxallowed)?t.maxallowed:t&&t.clipmax!==void 0&&Fv(r,t.clipmin,t.clipmax)?Math.min(e,r.d2l(t.clipmax)):e}function Fv(e,r,t){return r!==void 0&&t!==void 0?(r=e.d2l(r),t=e.d2l(t),r<t):!0}function iM(e,r){if(!r||!r.autorangeoptions)return e;var t=e[0],n=e[1],a=r.autorangeoptions.include;if(a!==void 0){var o=r.d2l(t),i=r.d2l(n);Uo.isArrayOrTypedArray(a)||(a=[a]);for(var l=0;l<a.length;l++){var u=r.d2l(a[l]);o>=u&&(o=u,t=u),i<=u&&(i=u,n=u)}}return t=NW(t,r),n=zW(n,r),[t,n]}});var St=pe((Mce,CM)=>{"use strict";var Da=it(),Wt=rt(),js=ln(),Lf=Er(),Lr=ir(),eu=Lr.strTranslate,Bl=Yn(),qW=Sf(),Rf=Zr(),pa=yt(),OW=Ra(),lM=hg(),Tn=nn(),BW=Tn.ONEMAXYEAR,zv=Tn.ONEAVGYEAR,qv=Tn.ONEMINYEAR,UW=Tn.ONEMAXQUARTER,e2=Tn.ONEAVGQUARTER,Ov=Tn.ONEMINQUARTER,HW=Tn.ONEMAXMONTH,ru=Tn.ONEAVGMONTH,Bv=Tn.ONEMINMONTH,ga=Tn.ONEWEEK,On=Tn.ONEDAY,Ho=On/2,Fi=Tn.ONEHOUR,Df=Tn.ONEMIN,Uv=Tn.ONESEC,VW=Tn.ONEMILLI,GW=Tn.ONEMICROSEC,Ul=Tn.MINUS_SIGN,Gv=Tn.BADNUM,r2={K:"zeroline"},t2={K:"gridline",L:"path"},n2={K:"minor-gridline",L:"path"},mM={K:"tick",L:"path"},sM={K:"tick",L:"text"},uM={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},Yv=qn(),Ef=Yv.MID_SHIFT,Hl=Yv.CAP_SHIFT,Pf=Yv.LINE_SPACING,YW=Yv.OPPOSITE_SIDE,Hv=3,lr=CM.exports={};lr.setConvert=Rv();var WW=Yg(),no=on(),XW=no.idSort,ZW=no.isLinked;lr.id2name=no.id2name;lr.name2id=no.name2id;lr.cleanId=no.cleanId;lr.list=no.list;lr.listIds=no.listIds;lr.getFromId=no.getFromId;lr.getFromTrace=no.getFromTrace;var xM=$s();lr.getAutoRange=xM.getAutoRange;lr.findExtremes=xM.findExtremes;var JW=1e-4;function l2(e){var r=(e[1]-e[0])*JW;return[e[0]-r,e[1]+r]}lr.coerceRef=function(e,r,t,n,a,o){var i=n.charAt(n.length-1),l=t._fullLayout._subplots[i+"axis"],u=n+"ref",s={};return a||(a=l[0]||(typeof o=="string"?o:o[0])),o||(o=a),l=l.concat(l.map(function(f){return f+" domain"})),s[u]={valType:"enumerated",values:l.concat(o?typeof o=="string"?[o]:o:[]),dflt:a},Lr.coerce(e,r,s,u)};lr.getRefType=function(e){return e===void 0?e:e==="paper"?"paper":e==="pixel"?"pixel":/( domain)$/.test(e)?"domain":"range"};lr.coercePosition=function(e,r,t,n,a,o){var i,l,u=lr.getRefType(n);if(u!=="range")i=Lr.ensureNumber,l=t(a,o);else{var s=lr.getFromId(r,n);o=s.fraction2r(o),l=t(a,o),i=s.cleanPos}e[a]=i(l)};lr.cleanPosition=function(e,r,t){var n=t==="paper"||t==="pixel"?Lr.ensureNumber:lr.getFromId(r,t).cleanPos;return n(e)};lr.redrawComponents=function(e,r){r=r||lr.listIds(e);var t=e._fullLayout;function n(a,o,i,l){for(var u=Lf.getComponentMethod(a,o),s={},f=0;f<r.length;f++)for(var v=t[lr.id2name(r[f])],p=v[i],b=0;b<p.length;b++){var y=p[b];if(!s[y]&&(u(e,y),s[y]=1,l))return}}n("annotations","drawOne","_annIndices"),n("shapes","drawOne","_shapeIndices"),n("images","draw","_imgIndices",!0),n("selections","drawOne","_selectionIndices")};var KW=lr.getDataConversions=function(e,r,t,n){var a,o=t==="x"||t==="y"||t==="z"?t:n;if(Lr.isArrayOrTypedArray(o)){if(a={type:WW(n,void 0,{autotypenumbers:e._fullLayout.autotypenumbers}),_categories:[]},lr.setConvert(a),a.type==="category")for(var i=0;i<n.length;i++)a.d2c(n[i])}else a=lr.getFromTrace(e,r,o);return a?{d2c:a.d2c,c2d:a.c2d}:o==="ids"?{d2c:cM,c2d:cM}:{d2c:fM,c2d:fM}};function fM(e){return+e}function cM(e){return String(e)}lr.getDataToCoordFunc=function(e,r,t,n){return KW(e,r,t,n).d2c};lr.counterLetter=function(e){var r=e.charAt(0);if(r==="x")return"y";if(r==="y")return"x"};lr.minDtick=function(e,r,t,n){["log","category","multicategory"].indexOf(e.type)!==-1||!n?e._minDtick=0:e._minDtick===void 0?(e._minDtick=r,e._forceTick0=t):e._minDtick&&((e._minDtick/r+1e-6)%1<2e-6&&((t-e._forceTick0)/r%1+1.000001)%1<2e-6?(e._minDtick=r,e._forceTick0=t):((r/e._minDtick+1e-6)%1>2e-6||((t-e._forceTick0)/e._minDtick%1+1.000001)%1>2e-6)&&(e._minDtick=0))};lr.saveRangeInitial=function(e,r){for(var t=lr.list(e,"",!0),n=!1,a=0;a<t.length;a++){var o=t[a],i=o._rangeInitial0===void 0&&o._rangeInitial1===void 0,l=i||o.range[0]!==o._rangeInitial0||o.range[1]!==o._rangeInitial1,u=o.autorange;(i&&u!==!0||r&&l)&&(o._rangeInitial0=u==="min"||u==="max reversed"?void 0:o.range[0],o._rangeInitial1=u==="max"||u==="min reversed"?void 0:o.range[1],o._autorangeInitial=u,n=!0)}return n};lr.saveShowSpikeInitial=function(e,r){for(var t=lr.list(e,"",!0),n=!1,a="on",o=0;o<t.length;o++){var i=t[o],l=i._showSpikeInitial===void 0,u=l||i.showspikes!==i._showspikes;(l||r&&u)&&(i._showSpikeInitial=i.showspikes,n=!0),a==="on"&&!i.showspikes&&(a="off")}return e._fullLayout._cartesianSpikesEnabled=a,n};lr.autoBin=function(e,r,t,n,a,o){var i=Lr.aggNums(Math.min,null,e),l=Lr.aggNums(Math.max,null,e);if(r.type==="category"||r.type==="multicategory")return{start:i-.5,end:l+.5,size:Math.max(1,Math.round(o)||1),_dataSpan:l-i};a||(a=r.calendar);var u;if(r.type==="log"?u={type:"linear",range:[i,l]}:u={type:r.type,range:Lr.simpleMap([i,l],r.c2r,0,a),calendar:a},lr.setConvert(u),o=o&&lM.dtick(o,u.type),o)u.dtick=o,u.tick0=lM.tick0(void 0,u.type,a);else{var s;if(t)s=(l-i)/t;else{var f=Lr.distinctVals(e),v=Math.pow(10,Math.floor(Math.log(f.minDiff)/Math.LN10)),p=v*Lr.roundUp(f.minDiff/v,[.9,1.9,4.9,9.9],!0);s=Math.max(p,2*Lr.stdev(e)/Math.pow(e.length,n?.25:.4)),Wt(s)||(s=1)}lr.autoTicks(u,s)}var b=u.dtick,y=lr.tickIncrement(lr.tickFirst(u),b,"reverse",a),w,M;if(typeof b=="number")y=QW(y,e,u,i,l),M=1+Math.floor((l-y)/b),w=y+M*b;else for(u.dtick.charAt(0)==="M"&&(y=$W(y,e,b,i,a)),w=y,M=0;w<=l;)w=lr.tickIncrement(w,b,!1,a),M++;return{start:r.c2r(y,0,a),end:r.c2r(w,0,a),size:b,_dataSpan:l-i}};function QW(e,r,t,n,a){var o=0,i=0,l=0,u=0;function s(b){return(1+(b-e)*100/t.dtick)%100<2}for(var f=0;f<r.length;f++)r[f]%1===0?l++:Wt(r[f])||u++,s(r[f])&&o++,s(r[f]+t.dtick/2)&&i++;var v=r.length-u;if(l===v&&t.type!=="date")t.dtick<1?e=n-.5*t.dtick:(e-=.5,e+t.dtick<n&&(e+=t.dtick));else if(i<v*.1&&(o>v*.3||s(n)||s(a))){var p=t.dtick/2;e+=e+p<n?p:-p}return e}function $W(e,r,t,n,a){var o=Lr.findExactDates(r,a),i=.8;if(o.exactDays>i){var l=Number(t.substr(1));o.exactYears>i&&l%12===0?e=lr.tickIncrement(e,"M6","reverse")+On*1.5:o.exactMonths>i?e=lr.tickIncrement(e,"M1","reverse")+On*15.5:e-=Ho;var u=lr.tickIncrement(e,t);if(u<=n)return u}return e}lr.prepMinorTicks=function(e,r,t){if(!r.minor.dtick){delete e.dtick;var n=r.dtick&&Wt(r._tmin),a;if(n){var o=lr.tickIncrement(r._tmin,r.dtick,!0);a=[r._tmin,o*.99+r._tmin*.01]}else{var i=Lr.simpleMap(r.range,r.r2l);a=[i[0],.8*i[0]+.2*i[1]]}if(e.range=Lr.simpleMap(a,r.l2r),e._isMinor=!0,lr.prepTicks(e,t),n){var l=Wt(r.dtick),u=Wt(e.dtick),s=l?r.dtick:+r.dtick.substring(1),f=u?e.dtick:+e.dtick.substring(1);l&&u?Qg(s,f)?s===2*ga&&f===2*On&&(e.dtick=ga):s===2*ga&&f===3*On?e.dtick=ga:s===ga&&!(r._input.minor||{}).nticks?e.dtick=On:vM(s/f,2.5)?e.dtick=s/2:e.dtick=s:String(r.dtick).charAt(0)==="M"?u?e.dtick="M1":Qg(s,f)?s>=12&&f===2&&(e.dtick="M3"):e.dtick=r.dtick:String(e.dtick).charAt(0)==="L"?String(r.dtick).charAt(0)==="L"?Qg(s,f)||(e.dtick=vM(s/f,2.5)?r.dtick/2:r.dtick):e.dtick="D1":e.dtick==="D2"&&+r.dtick>1&&(e.dtick=1)}e.range=r.range}r.minor._tick0Init===void 0&&(e.tick0=r.tick0)};function Qg(e,r){return Math.abs((e/r+.5)%1-.5)<.001}function vM(e,r){return Math.abs(e/r-1)<.001}lr.prepTicks=function(e,r){var t=Lr.simpleMap(e.range,e.r2l,void 0,void 0,r);if(e.tickmode==="auto"||!e.dtick){var n=e.nticks,a;n||(e.type==="category"||e.type==="multicategory"?(a=e.tickfont?Lr.bigFont(e.tickfont.size||12):15,n=e._length/a):(a=e._id.charAt(0)==="y"?40:80,n=Lr.constrain(e._length/a,4,9)+1),e._name==="radialaxis"&&(n*=2)),e.minor&&e.minor.tickmode!=="array"||e.tickmode==="array"&&(n*=100),e._roughDTick=Math.abs(t[1]-t[0])/n,lr.autoTicks(e,e._roughDTick),e._minDtick>0&&e.dtick<e._minDtick*2&&(e.dtick=e._minDtick,e.tick0=e.l2r(e._forceTick0))}e.ticklabelmode==="period"&&jW(e),e.tick0||(e.tick0=e.type==="date"?"2000-01-01":0),e.type==="date"&&e.dtick<.1&&(e.dtick=.1),MM(e)};function $g(e){return+e.substring(1)}function jW(e){var r;function t(){return!(Wt(e.dtick)||e.dtick.charAt(0)!=="M")}var n=t(),a=lr.getTickFormat(e);if(a){var o=e._dtickInit!==e.dtick;/%[fLQsSMX]/.test(a)||(/%[HI]/.test(a)?(r=Fi,o&&!n&&e.dtick<Fi&&(e.dtick=Fi)):/%p/.test(a)?(r=Ho,o&&!n&&e.dtick<Ho&&(e.dtick=Ho)):/%[Aadejuwx]/.test(a)?(r=On,o&&!n&&e.dtick<On&&(e.dtick=On)):/%[UVW]/.test(a)?(r=ga,o&&!n&&e.dtick<ga&&(e.dtick=ga)):/%[Bbm]/.test(a)?(r=ru,o&&(n?$g(e.dtick)<1:e.dtick<Bv)&&(e.dtick="M1")):/%[q]/.test(a)?(r=e2,o&&(n?$g(e.dtick)<3:e.dtick<Ov)&&(e.dtick="M3")):/%[Yy]/.test(a)&&(r=zv,o&&(n?$g(e.dtick)<12:e.dtick<qv)&&(e.dtick="M12")))}n=t(),n&&e.tick0===e._dowTick0&&(e.tick0=e._rawTick0),e._definedDelta=r}function eX(e,r,t){for(var n=0;n<e.length;n++){var a=e[n].value,o=n,i=n+1;n<e.length-1?(o=n,i=n+1):n>0?(o=n-1,i=n):(o=n,i=n);var l=e[o].value,u=e[i].value,s=Math.abs(u-l),f=t||s,v=0;f>=qv?s>=qv&&s<=BW?v=s:v=zv:t===e2&&f>=Ov?s>=Ov&&s<=UW?v=s:v=e2:f>=Bv?s>=Bv&&s<=HW?v=s:v=ru:t===ga&&f>=ga?v=ga:f>=On?v=On:t===Ho&&f>=Ho?v=Ho:t===Fi&&f>=Fi&&(v=Fi);var p;v>=s&&(v=s,p=!0);var b=a+v;if(r.rangebreaks&&v>0){for(var y=84,w=0,M=0;M<y;M++){var m=(M+.5)/y;r.maskBreaks(a*(1-m)+m*b)!==Gv&&w++}v*=w/y,v||(e[n].drop=!0),p&&s>ga&&(v=s)}(v>0||n===0)&&(e[n].periodX=a+v/2)}}lr.calcTicks=function(r,t){for(var n=r.type,a=r.calendar,o=r.ticklabelstep,i=r.ticklabelmode==="period",l=r.range[0]>r.range[1],u=!r.ticklabelindex||Lr.isArrayOrTypedArray(r.ticklabelindex)?r.ticklabelindex:[r.ticklabelindex],s=Lr.simpleMap(r.range,r.r2l,void 0,void 0,t),f=s[1]<s[0],v=Math.min(s[0],s[1]),p=Math.max(s[0],s[1]),b=Math.max(1e3,r._length||0),y=[],w=[],M=[],m=[],k=[],S=r.minor&&(r.minor.ticks||r.minor.showgrid),x=1;x>=(S?0:1);x--){var T=!x;x?(r._dtickInit=r.dtick,r._tick0Init=r.tick0):(r.minor._dtickInit=r.minor.dtick,r.minor._tick0Init=r.minor.tick0);var d=x?r:Lr.extendFlat({},r,r.minor);if(T?lr.prepMinorTicks(d,r,t):lr.prepTicks(d,t),d.tickmode==="array"){x?(M=[],y=hM(r,!T)):(m=[],w=hM(r,!T));continue}if(d.tickmode==="sync"){M=[],y=rX(r);continue}var _=l2(s),g=_[0],c=_[1],A=Wt(d.dtick),h=n==="log"&&!(A||d.dtick.charAt(0)==="L"),R=lr.tickFirst(d,t);if(x){if(r._tmin=R,R<g!==f)break;(n==="category"||n==="multicategory")&&(c=f?Math.max(-.5,c):Math.min(r._categories.length-.5,c))}var E=null,D=R,N;if(x){var I;A?I=r.dtick:n==="date"?typeof r.dtick=="string"&&r.dtick.charAt(0)==="M"&&(I=ru*r.dtick.substring(1)):I=r._roughDTick,N=Math.round((r.r2l(D)-r.r2l(r.tick0))/I)-1}var F=d.dtick;for(d.rangebreaks&&d._tick0Init!==d.tick0&&(D=jg(D,r),f||(D=lr.tickIncrement(D,F,!f,a))),x&&i&&(D=lr.tickIncrement(D,F,!f,a),N--);f?D>=c:D<=c;D=lr.tickIncrement(D,F,f,a)){if(x&&N++,d.rangebreaks&&!f){if(D<g)continue;if(d.maskBreaks(D)===Gv&&jg(D,d)>=p)break}if(M.length>b||D===E)break;E=D;var L={value:D};x?(h&&D!==(D|0)&&(L.simpleLabel=!0),o>1&&N%o&&(L.skipLabel=!0),M.push(L)):(L.minor=!0,m.push(L))}}if(!m||m.length<2)u=!1;else{var P=(m[1].value-m[0].value)*(l?-1:1);AX(P,r.tickformat)||(u=!1)}if(!u)k=M;else{var O=M.concat(m);i&&M.length&&(O=O.slice(1)),O=O.sort(function(Ae,ke){return Ae.value-ke.value}).filter(function(Ae,ke,De){return ke===0||Ae.value!==De[ke-1].value});var U=O.map(function(Ae,ke){return Ae.minor===void 0&&!Ae.skipLabel?ke:null}).filter(function(Ae){return Ae!==null});U.forEach(function(Ae){u.map(function(ke){var De=Ae+ke;De>=0&&De<O.length&&Lr.pushUnique(k,O[De])})})}if(S){var X=r.minor.ticks==="inside"&&r.ticks==="outside"||r.minor.ticks==="outside"&&r.ticks==="inside";if(!X){for(var j=M.map(function(Ae){return Ae.value}),$=[],Y=0;Y<m.length;Y++){var q=m[Y],Z=q.value;if(j.indexOf(Z)===-1){for(var ne=!1,Q=0;!ne&&Q<M.length;Q++)1e7+M[Q].value===1e7+Z&&(ne=!0);ne||$.push(q)}}m=$}}i&&eX(k,r,r._definedDelta);var oe;if(r.rangebreaks){var ee=r._id.charAt(0)==="y",G=1;r.tickmode==="auto"&&(G=r.tickfont?r.tickfont.size:12);var re=NaN;for(oe=M.length-1;oe>-1;oe--){if(M[oe].drop){M.splice(oe,1);continue}M[oe].value=jg(M[oe].value,r);var H=r.c2p(M[oe].value);(ee?re>H-G:re<H+G)?M.splice(f?oe+1:oe,1):re=H}}f2(r)&&Math.abs(s[1]-s[0])===360&&M.pop(),r._tmax=(M[M.length-1]||{}).value,r._prevDateHead="",r._inCalcTicks=!0;var te,ue=function(Ae){Ae.text="",r._prevDateHead=te};M=M.concat(m);function de(Ae,ke){var De=lr.tickText(Ae,ke.value,!1,ke.simpleLabel),Ce=ke.periodX;return Ce!==void 0&&(De.periodX=Ce,(Ce>p||Ce<v)&&(Ce>p&&(De.periodX=p),Ce<v&&(De.periodX=v),ue(De))),De}var Ee;for(oe=0;oe<M.length;oe++){var Me=M[oe].minor,ve=M[oe].value;Me?(u&&k.indexOf(M[oe])!==-1?Ee=de(r,M[oe]):Ee={x:ve},Ee.minor=!0,w.push(Ee)):(te=r._prevDateHead,Ee=de(r,M[oe]),(M[oe].skipLabel||u&&k.indexOf(M[oe])===-1)&&ue(Ee),y.push(Ee))}return y=y.concat(w),r._inCalcTicks=!1,i&&y.length&&(y[0].noTick=!0),y};function bM(e,r){return e.rangebreaks&&(r=r.filter(function(t){return e.maskBreaks(t.x)!==Gv})),r}function rX(e){var r=e._mainAxis,t=[];if(r._vals){for(var n=0;n<r._vals.length;n++)if(!r._vals[n].noTick){var a=r.l2p(r._vals[n].x),o=e.p2l(a),i=lr.tickText(e,o);r._vals[n].minor&&(i.minor=!0,i.text=""),t.push(i)}}return t=bM(e,t),t}function hM(e,r){var t=Lr.simpleMap(e.range,e.r2l),n=l2(t),a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]),i=e.type==="category"?e.d2l_noadd:e.d2l;e.type==="log"&&String(e.dtick).charAt(0)!=="L"&&(e.dtick="L"+Math.pow(10,Math.floor(Math.min(e.range[0],e.range[1]))-1));for(var l=[],u=0;u<=1;u++)if(!(r!==void 0&&(r&&u||r===!1&&!u))&&!(u&&!e.minor)){var s=u?e.minor.tickvals:e.tickvals,f=u?[]:e.ticktext;if(s){Lr.isArrayOrTypedArray(f)||(f=[]);for(var v=0;v<s.length;v++){var p=i(s[v]);if(p>a&&p<o){var b=lr.tickText(e,p,!1,String(f[v]));u&&(b.minor=!0,b.text=""),l.push(b)}}}}return l=bM(e,l),l}var Iv=[2,5,10],dM=[1,2,3,6,12],pM=[1,2,5,10,15,30],tX=[1,2,3,7,14],_M=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],wM=[-.301,0,.301,.699,1],nX=[15,30,45,90,180];function Pi(e,r,t){return r*Lr.roundUp(e/r,t)}lr.autoTicks=function(e,r,t){var n;function a(v){return Math.pow(v,Math.floor(Math.log(r)/Math.LN10))}if(e.type==="date"){e.tick0=Lr.dateTick0(e.calendar,0);var o=2*r;if(o>zv)r/=zv,n=a(10),e.dtick="M"+12*Pi(r,n,Iv);else if(o>ru)r/=ru,e.dtick="M"+Pi(r,1,dM);else if(o>On){if(e.dtick=Pi(r,On,e._hasDayOfWeekBreaks?[1,2,7,14]:tX),!t){var i=lr.getTickFormat(e),l=e.ticklabelmode==="period";l&&(e._rawTick0=e.tick0),/%[uVW]/.test(i)?e.tick0=Lr.dateTick0(e.calendar,2):e.tick0=Lr.dateTick0(e.calendar,1),l&&(e._dowTick0=e.tick0)}}else o>Fi?e.dtick=Pi(r,Fi,dM):o>Df?e.dtick=Pi(r,Df,pM):o>Uv?e.dtick=Pi(r,Uv,pM):(n=a(10),e.dtick=Pi(r,n,Iv))}else if(e.type==="log"){e.tick0=0;var u=Lr.simpleMap(e.range,e.r2l);if(e._isMinor&&(r*=1.5),r>.7)e.dtick=Math.ceil(r);else if(Math.abs(u[1]-u[0])<1){var s=1.5*Math.abs((u[1]-u[0])/r);r=Math.abs(Math.pow(10,u[1])-Math.pow(10,u[0]))/s,n=a(10),e.dtick="L"+Pi(r,n,Iv)}else e.dtick=r>.3?"D2":"D1"}else e.type==="category"||e.type==="multicategory"?(e.tick0=0,e.dtick=Math.ceil(Math.max(r,1))):f2(e)?(e.tick0=0,n=1,e.dtick=Pi(r,n,nX)):(e.tick0=0,n=a(10),e.dtick=Pi(r,n,Iv));if(e.dtick===0&&(e.dtick=1),!Wt(e.dtick)&&typeof e.dtick!="string"){var f=e.dtick;throw e.dtick=1,"ax.dtick error: "+String(f)}};function MM(e){var r=e.dtick;if(e._tickexponent=0,!Wt(r)&&typeof r!="string"&&(r=1),(e.type==="category"||e.type==="multicategory")&&(e._tickround=null),e.type==="date"){var t=e.r2l(e.tick0),n=e.l2r(t).replace(/(^-|i)/g,""),a=n.length;if(String(r).charAt(0)==="M")a>10||n.substr(5)!=="01-01"?e._tickround="d":e._tickround=+r.substr(1)%12===0?"y":"m";else if(r>=On&&a<=10||r>=On*15)e._tickround="d";else if(r>=Df&&a<=16||r>=Fi)e._tickround="M";else if(r>=Uv&&a<=19||r>=Df)e._tickround="S";else{var o=e.l2r(t+r).replace(/^-/,"").length;e._tickround=Math.max(a,o)-20,e._tickround<0&&(e._tickround=4)}}else if(Wt(r)||r.charAt(0)==="L"){var i=e.range.map(e.r2d||Number);Wt(r)||(r=Number(r.substr(1))),e._tickround=2-Math.floor(Math.log(r)/Math.LN10+.01);var l=Math.max(Math.abs(i[0]),Math.abs(i[1])),u=Math.floor(Math.log(l)/Math.LN10+.01),s=e.minexponent===void 0?3:e.minexponent;Math.abs(u)>s&&(Vv(e.exponentformat)&&!s2(u)?e._tickexponent=3*Math.round((u-1)/3):e._tickexponent=u)}else e._tickround=null}lr.tickIncrement=function(e,r,t,n){var a=t?-1:1;if(Wt(r))return Lr.increment(e,a*r);var o=r.charAt(0),i=a*Number(r.substr(1));if(o==="M")return Lr.incrementMonth(e,i,n);if(o==="L")return Math.log(Math.pow(10,e)+i)/Math.LN10;if(o==="D"){var l=r==="D2"?wM:_M,u=e+a*.01,s=Lr.roundUp(Lr.mod(u,1),l,t);return Math.floor(u)+Math.log(Da.round(Math.pow(10,s),1))/Math.LN10}throw"unrecognized dtick "+String(r)};lr.tickFirst=function(e,r){var t=e.r2l||Number,n=Lr.simpleMap(e.range,t,void 0,void 0,r),a=n[1]<n[0],o=a?Math.floor:Math.ceil,i=l2(n)[0],l=e.dtick,u=t(e.tick0);if(Wt(l)){var s=o((i-u)/l)*l+u;return(e.type==="category"||e.type==="multicategory")&&(s=Lr.constrain(s,0,e._categories.length-1)),s}var f=l.charAt(0),v=Number(l.substr(1));if(f==="M"){for(var p=0,b=u,y,w,M;p<10;){if(y=lr.tickIncrement(b,l,a,e.calendar),(y-i)*(b-i)<=0)return a?Math.min(b,y):Math.max(b,y);w=(i-(b+y)/2)/(y-b),M=f+(Math.abs(Math.round(w))||1)*v,b=lr.tickIncrement(b,M,w<0?!a:a,e.calendar),p++}return Lr.error("tickFirst did not converge",e),b}else{if(f==="L")return Math.log(o((Math.pow(10,i)-u)/v)*v+u)/Math.LN10;if(f==="D"){var m=l==="D2"?wM:_M,k=Lr.roundUp(Lr.mod(i,1),m,a);return Math.floor(i)+Math.log(Da.round(Math.pow(10,k),1))/Math.LN10}else throw"unrecognized dtick "+String(l)}};lr.tickText=function(e,r,t,n){var a=TM(e,r),o=e.tickmode==="array",i=t||o,l=e.type,u=l==="category"?e.d2l_noadd:e.d2l,s,f=function(M){var m=e.l2p(M);return m>=0&&m<=e._length?M:null};if(o&&Lr.isArrayOrTypedArray(e.ticktext)){var v=Lr.simpleMap(e.range,e.r2l),p=(Math.abs(v[1]-v[0])-(e._lBreaks||0))/1e4;for(s=0;s<e.ticktext.length&&!(Math.abs(r-u(e.tickvals[s]))<p);s++);if(s<e.ticktext.length)return a.text=String(e.ticktext[s]),a.xbnd=[f(a.x-.5),f(a.x+e.dtick-.5)],a}function b(M){if(M===void 0)return!0;if(t)return M==="none";var m={first:e._tmin,last:e._tmax}[M];return M!=="all"&&r!==m}var y=t?"never":e.exponentformat!=="none"&&b(e.showexponent)?"hide":"";if(l==="date"?aX(e,a,t,i):l==="log"?iX(e,a,t,i,y):l==="category"?oX(e,a):l==="multicategory"?lX(e,a,t):f2(e)?uX(e,a,t,i,y):sX(e,a,t,i,y),n||(e.tickprefix&&!b(e.showtickprefix)&&(a.text=e.tickprefix+a.text),e.ticksuffix&&!b(e.showticksuffix)&&(a.text+=e.ticksuffix)),e.labelalias&&e.labelalias.hasOwnProperty(a.text)){var w=e.labelalias[a.text];typeof w=="string"&&(a.text=w)}return(e.tickson==="boundaries"||e.showdividers)&&(a.xbnd=[f(a.x-.5),f(a.x+e.dtick-.5)]),a};lr.hoverLabelText=function(e,r,t){t&&(e=Lr.extendFlat({},e,{hoverformat:t}));var n=Lr.isArrayOrTypedArray(r)?r[0]:r,a=Lr.isArrayOrTypedArray(r)?r[1]:void 0;if(a!==void 0&&a!==n)return lr.hoverLabelText(e,n,t)+" - "+lr.hoverLabelText(e,a,t);var o=e.type==="log"&&n<=0,i=lr.tickText(e,e.c2l(o?-n:n),"hover").text;return o?n===0?"0":Ul+i:i};function TM(e,r,t){var n=e.tickfont||{};return{x:r,dx:0,dy:0,text:t||"",fontSize:n.size,font:n.family,fontWeight:n.weight,fontStyle:n.style,fontVariant:n.variant,fontTextcase:n.textcase,fontLineposition:n.lineposition,fontShadow:n.shadow,fontColor:n.color}}function aX(e,r,t,n){var a=e._tickround,o=t&&e.hoverformat||lr.getTickFormat(e);n=!o&&n,n&&(Wt(a)?a=4:a={y:"m",m:"d",d:"M",M:"S",S:4}[a]);var i=Lr.formatDate(r.x,o,a,e._dateFormat,e.calendar,e._extraFormat),l,u=i.indexOf(`
`);if(u!==-1&&(l=i.substr(u+1),i=i.substr(0,u)),n&&(l!==void 0&&(i==="00:00:00"||i==="00:00")?(i=l,l=""):i.length===8&&(i=i.replace(/:00$/,""))),l)if(t)a==="d"?i+=", "+l:i=l+(i?", "+i:"");else if(!e._inCalcTicks||e._prevDateHead!==l)e._prevDateHead=l,i+="<br>"+l;else{var s=If(e),f=e._trueSide||e.side;(!s&&f==="top"||s&&f==="bottom")&&(i+="<br> ")}r.text=i}function iX(e,r,t,n,a){var o=e.dtick,i=r.x,l=e.tickformat,u=typeof o=="string"&&o.charAt(0);if(a==="never"&&(a=""),n&&u!=="L"&&(o="L3",u="L"),l||u==="L")r.text=Ff(Math.pow(10,i),e,a,n);else if(Wt(o)||u==="D"&&Lr.mod(i+.01,1)<.1){var s=Math.round(i),f=Math.abs(s),v=e.exponentformat;v==="power"||Vv(v)&&s2(s)?(s===0?r.text=1:s===1?r.text="10":r.text="10<sup>"+(s>1?"":Ul)+f+"</sup>",r.fontSize*=1.25):(v==="e"||v==="E")&&f>2?r.text="1"+v+(s>0?"+":Ul)+f:(r.text=Ff(Math.pow(10,i),e,"","fakehover"),o==="D1"&&e._id.charAt(0)==="y"&&(r.dy-=r.fontSize/6))}else if(u==="D")r.text=String(Math.round(Math.pow(10,Lr.mod(i,1)))),r.fontSize*=.75;else throw"unrecognized dtick "+String(o);if(e.dtick==="D1"){var p=String(r.text).charAt(0);(p==="0"||p==="1")&&(e._id.charAt(0)==="y"?r.dx-=r.fontSize/4:(r.dy+=r.fontSize/2,r.dx+=(e.range[1]>e.range[0]?1:-1)*r.fontSize*(i<0?.5:.25)))}}function oX(e,r){var t=e._categories[Math.round(r.x)];t===void 0&&(t=""),r.text=String(t)}function lX(e,r,t){var n=Math.round(r.x),a=e._categories[n]||[],o=a[1]===void 0?"":String(a[1]),i=a[0]===void 0?"":String(a[0]);t?r.text=i+" - "+o:(r.text=o,r.text2=i)}function sX(e,r,t,n,a){a==="never"?a="":e.showexponent==="all"&&Math.abs(r.x/e.dtick)<1e-6&&(a="hide"),r.text=Ff(r.x,e,a,n)}function uX(e,r,t,n,a){if(e.thetaunit==="radians"&&!t){var o=r.x/180;if(o===0)r.text="0";else{var i=fX(o);if(i[1]>=100)r.text=Ff(Lr.deg2rad(r.x),e,a,n);else{var l=r.x<0;i[1]===1?i[0]===1?r.text="\u03C0":r.text=i[0]+"\u03C0":r.text=["<sup>",i[0],"</sup>","\u2044","<sub>",i[1],"</sub>","\u03C0"].join(""),l&&(r.text=Ul+r.text)}}}else r.text=Ff(r.x,e,a,n)}function fX(e){function r(l,u){return Math.abs(l-u)<=1e-6}function t(l,u){return r(u,0)?l:t(u,l%u)}function n(l){for(var u=1;!r(Math.round(l*u)/u,l);)u*=10;return u}var a=n(e),o=e*a,i=Math.abs(t(o,a));return[Math.round(o/i),Math.round(a/i)]}var cX=["f","p","n","\u03BC","m","","k","M","G","T"];function Vv(e){return e==="SI"||e==="B"}function s2(e){return e>14||e<-15}function Ff(e,r,t,n){var a=e<0,o=r._tickround,i=t||r.exponentformat||"B",l=r._tickexponent,u=lr.getTickFormat(r),s=r.separatethousands;if(n){var f={exponentformat:i,minexponent:r.minexponent,dtick:r.showexponent==="none"?r.dtick:Wt(e)&&Math.abs(e)||1,range:r.showexponent==="none"?r.range.map(r.r2d):[0,e||1]};MM(f),o=(Number(f._tickround)||0)+4,l=f._tickexponent,r.hoverformat&&(u=r.hoverformat)}if(u)return r._numFormat(u)(e).replace(/-/g,Ul);var v=Math.pow(10,-o)/2;if(i==="none"&&(l=0),e=Math.abs(e),e<v)e="0",a=!1;else{if(e+=v,l&&(e*=Math.pow(10,-l),o+=l),o===0)e=String(Math.floor(e));else if(o<0){e=String(Math.round(e)),e=e.substr(0,e.length+o);for(var p=o;p<0;p++)e+="0"}else{e=String(e);var b=e.indexOf(".")+1;b&&(e=e.substr(0,b+o).replace(/\.?0+$/,""))}e=Lr.numSeparate(e,r._separators,s)}if(l&&i!=="hide"){Vv(i)&&s2(l)&&(i="power");var y;l<0?y=Ul+-l:i!=="power"?y="+"+l:y=String(l),i==="e"||i==="E"?e+=i+y:i==="power"?e+="\xD710<sup>"+y+"</sup>":i==="B"&&l===9?e+="B":Vv(i)&&(e+=cX[l/3+5])}return a?Ul+e:e}lr.getTickFormat=function(e){var r;function t(u){return typeof u!="string"?u:Number(u.replace("M",""))*ru}function n(u,s){var f=["L","D"];if(typeof u==typeof s){if(typeof u=="number")return u-s;var v=f.indexOf(u.charAt(0)),p=f.indexOf(s.charAt(0));return v===p?Number(u.replace(/(L|D)/g,""))-Number(s.replace(/(L|D)/g,"")):v-p}else return typeof u=="number"?1:-1}function a(u,s,f){var v=f||function(y){return y},p=s[0],b=s[1];return(!p&&typeof p!="number"||v(p)<=v(u))&&(!b&&typeof b!="number"||v(b)>=v(u))}function o(u,s){var f=s[0]===null,v=s[1]===null,p=n(u,s[0])>=0,b=n(u,s[1])<=0;return(f||p)&&(v||b)}var i,l;if(e.tickformatstops&&e.tickformatstops.length>0)switch(e.type){case"date":case"linear":{for(r=0;r<e.tickformatstops.length;r++)if(l=e.tickformatstops[r],l.enabled&&a(e.dtick,l.dtickrange,t)){i=l;break}break}case"log":{for(r=0;r<e.tickformatstops.length;r++)if(l=e.tickformatstops[r],l.enabled&&o(e.dtick,l.dtickrange)){i=l;break}break}default:}return i?i.value:e.tickformat};lr.getSubplots=function(e,r){var t=e._fullLayout._subplots,n=t.cartesian.concat(t.gl2d||[]),a=r?lr.findSubplotsWithAxis(n,r):n;return a.sort(function(o,i){var l=o.substr(1).split("y"),u=i.substr(1).split("y");return l[0]===u[0]?+l[1]-+u[1]:+l[0]-+u[0]}),a};lr.findSubplotsWithAxis=function(e,r){for(var t=new RegExp(r._id.charAt(0)==="x"?"^"+r._id+"y":r._id+"$"),n=[],a=0;a<e.length;a++){var o=e[a];t.test(o)&&n.push(o)}return n};lr.makeClipPaths=function(e){var r=e._fullLayout;if(!r._hasOnlyLargeSploms){var t={_offset:0,_length:r.width,_id:""},n={_offset:0,_length:r.height,_id:""},a=lr.list(e,"x",!0),o=lr.list(e,"y",!0),i=[],l,u;for(l=0;l<a.length;l++)for(i.push({x:a[l],y:n}),u=0;u<o.length;u++)l===0&&i.push({x:t,y:o[u]}),i.push({x:a[l],y:o[u]});var s=r._clips.selectAll(".axesclip").data(i,function(f){return f.x._id+f.y._id});s.enter().append("clipPath").classed("axesclip",!0).attr("id",function(f){return"clip"+r._uid+f.x._id+f.y._id}).append("rect"),s.exit().remove(),s.each(function(f){Da.select(this).select("rect").attr({x:f.x._offset||0,y:f.y._offset||0,width:f.x._length||1,height:f.y._length||1})})}};lr.draw=function(e,r,t){var n=e._fullLayout;r==="redraw"&&n._paper.selectAll("g.subplot").each(function(u){var s=u[0],f=n._plots[s];if(f){var v=f.xaxis,p=f.yaxis;f.xaxislayer.selectAll("."+v._id+"tick").remove(),f.yaxislayer.selectAll("."+p._id+"tick").remove(),f.xaxislayer.selectAll("."+v._id+"tick2").remove(),f.yaxislayer.selectAll("."+p._id+"tick2").remove(),f.xaxislayer.selectAll("."+v._id+"divider").remove(),f.yaxislayer.selectAll("."+p._id+"divider").remove(),f.minorGridlayer&&f.minorGridlayer.selectAll("path").remove(),f.gridlayer&&f.gridlayer.selectAll("path").remove(),f.zerolinelayer&&f.zerolinelayer.selectAll("path").remove(),n._infolayer.select(".g-"+v._id+"title").remove(),n._infolayer.select(".g-"+p._id+"title").remove()}});var a=!r||r==="redraw"?lr.listIds(e):r,o=lr.list(e),i=o.filter(function(u){return u.autoshift}).map(function(u){return u.overlaying});a.map(function(u){var s=lr.getFromId(e,u);if(s.tickmode==="sync"&&s.overlaying){var f=a.findIndex(function(v){return v===s.overlaying});f>=0&&a.unshift(a.splice(f,1).shift())}});var l={false:{left:0,right:0}};return Lr.syncOrAsync(a.map(function(u){return function(){if(u){var s=lr.getFromId(e,u);t||(t={}),t.axShifts=l,t.overlayingShiftedAx=i;var f=lr.drawOne(e,s,t);return s._shiftPusher&&o2(s,s._fullDepth||0,l,!0),s._r=s.range.slice(),s._rl=Lr.simpleMap(s._r,s.r2l),f}}}))};lr.drawOne=function(e,r,t){t=t||{};var n=t.axShifts||{},a=t.overlayingShiftedAx||[],o,i,l;r.setScale();var u=e._fullLayout,s=r._id,f=s.charAt(0),v=lr.counterLetter(s),p=u._plots[r._mainSubplot];if(!p)return;if(r._shiftPusher=r.autoshift||a.indexOf(r._id)!==-1||a.indexOf(r.overlaying)!==-1,r._shiftPusher&r.anchor==="free"){var b=r.linewidth/2||0;r.ticks==="inside"&&(b+=r.ticklen),o2(r,b,n,!0),o2(r,r.shift||0,n,!1)}(t.skipTitle!==!0||r._shift===void 0)&&(r._shift=TX(r,n));var y=p[f+"axislayer"],w=r._mainLinePosition,M=w+=r._shift,m=r._mainMirrorPosition,k=r._vals=lr.calcTicks(r),S=[r.mirror,M,m].join("_");for(o=0;o<k.length;o++)k[o].axInfo=S;r._selections={},r._tickAngles&&(r._prevTickAngles=r._tickAngles),r._tickAngles={},r._depth=null;var x={};function T(Me){var ve=s+(Me||"tick");return x[ve]||(x[ve]=pX(r,ve,M)),x[ve]}if(r.visible){var d=lr.makeTransTickFn(r),_=lr.makeTransTickLabelFn(r),g,c,A=r.ticks==="inside",h=r.ticks==="outside";if(r.tickson==="boundaries"){var R=vX(r,k);c=lr.clipEnds(r,R),g=A?c:R}else c=lr.clipEnds(r,k),g=A&&r.ticklabelmode!=="period"?c:k;var E=r._gridVals=c,D=dX(r,k);if(!u._hasOnlyLargeSploms){var N=r._subplotsWith,I={};for(o=0;o<N.length;o++){i=N[o],l=u._plots[i];var F=l[v+"axis"],L=F._mainAxis._id;if(!I[L]){I[L]=1;var P=f==="x"?"M0,"+F._offset+"v"+F._length:"M"+F._offset+",0h"+F._length;lr.drawGrid(e,r,{vals:E,counterAxis:F,layer:l.gridlayer.select("."+s),minorLayer:l.minorGridlayer.select("."+s),path:P,transFn:d}),lr.drawZeroLine(e,r,{counterAxis:F,layer:l.zerolinelayer,path:P,transFn:d})}}}var O,U=lr.getTickSigns(r),X=lr.getTickSigns(r,"minor");if(r.ticks||r.minor&&r.minor.ticks){var j=lr.makeTickPath(r,M,U[2]),$=lr.makeTickPath(r,M,X[2],{minor:!0}),Y,q,Z,ne;if(r._anchorAxis&&r.mirror&&r.mirror!==!0?(Y=lr.makeTickPath(r,m,U[3]),q=lr.makeTickPath(r,m,X[3],{minor:!0}),Z=j+Y,ne=$+q):(Y="",q="",Z=j,ne=$),r.showdividers&&h&&r.tickson==="boundaries"){var Q={};for(o=0;o<D.length;o++)Q[D[o].x]=1;O=function(Me){return Q[Me.x]?Y:Z}}else O=function(Me){return Me.minor?ne:Z}}if(lr.drawTicks(e,r,{vals:g,layer:y,path:O,transFn:d}),r.mirror==="allticks"){var oe=Object.keys(r._linepositions||{});for(o=0;o<oe.length;o++){i=oe[o],l=u._plots[i];var ee=r._linepositions[i]||[],G=ee[0],re=ee[1],H=ee[2],te=lr.makeTickPath(r,G,H?U[0]:X[0],{minor:H})+lr.makeTickPath(r,re,H?U[1]:X[1],{minor:H});lr.drawTicks(e,r,{vals:g,layer:l[f+"axislayer"],path:te,transFn:d})}}var ue=[];if(ue.push(function(){return lr.drawLabels(e,r,{vals:k,layer:y,plotinfo:l,transFn:_,labelFns:lr.makeLabelFns(r,M)})}),r.type==="multicategory"){var de={x:2,y:10}[f];ue.push(function(){var Me={x:"height",y:"width"}[f],ve=T()[Me]+de+(r._tickAngles[s+"tick"]?r.tickfont.size*Pf:0);return lr.drawLabels(e,r,{vals:hX(r,k),layer:y,cls:s+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:d,labelFns:lr.makeLabelFns(r,M+ve*U[4])})}),ue.push(function(){return r._depth=U[4]*(T("tick2")[r.side]-M),yX(e,r,{vals:D,layer:y,path:lr.makeTickPath(r,M,U[4],{len:r._depth}),transFn:d})})}else r.title.hasOwnProperty("standoff")&&ue.push(function(){r._depth=U[4]*(T()[r.side]-M)});var Ee=Lf.getComponentMethod("rangeslider","isVisible")(r);return!t.skipTitle&&!(Ee&&r.side==="bottom")&&ue.push(function(){return mX(e,r)}),ue.push(function(){var Me=r.side.charAt(0),ve=YW[r.side].charAt(0),Ae=lr.getPxPosition(e,r),ke=h?r.ticklen:0,De,Ce,Oe,Ue;(r.automargin||Ee||r._shiftPusher)&&(r.type==="multicategory"?De=T("tick2"):(De=T(),f==="x"&&Me==="b"&&(r._depth=Math.max(De.width>0?De.bottom-Ae:0,ke))));var ge=0,Te=0;if(r._shiftPusher&&(ge=Math.max(ke,De.height>0?Me==="l"?Ae-De.left:De.right-Ae:0),r.title.text!==u._dfltTitle[f]&&(Te=(r._titleStandoff||0)+(r._titleScoot||0),Me==="l"&&(Te+=yM(r))),r._fullDepth=Math.max(ge,Te)),r.automargin){Ce={x:0,y:0,r:0,l:0,t:0,b:0};var ce=[0,1],ye=typeof r._shift=="number"?r._shift:0;if(f==="x"){if(Me==="b"?Ce[Me]=r._depth:(Ce[Me]=r._depth=Math.max(De.width>0?Ae-De.top:0,ke),ce.reverse()),De.width>0){var Le=De.right-(r._offset+r._length);Le>0&&(Ce.xr=1,Ce.r=Le);var me=r._offset-De.left;me>0&&(Ce.xl=0,Ce.l=me)}}else if(Me==="l"?(r._depth=Math.max(De.height>0?Ae-De.left:0,ke),Ce[Me]=r._depth-ye):(r._depth=Math.max(De.height>0?De.right-Ae:0,ke),Ce[Me]=r._depth+ye,ce.reverse()),De.height>0){var he=De.bottom-(r._offset+r._length);he>0&&(Ce.yb=0,Ce.b=he);var be=r._offset-De.top;be>0&&(Ce.yt=1,Ce.t=be)}Ce[v]=r.anchor==="free"?r.position:r._anchorAxis.domain[ce[0]],r.title.text!==u._dfltTitle[f]&&(Ce[Me]+=yM(r)+(r.title.standoff||0)),r.mirror&&r.anchor!=="free"&&(Oe={x:0,y:0,r:0,l:0,t:0,b:0},Oe[ve]=r.linewidth,r.mirror&&r.mirror!==!0&&(Oe[ve]+=ke),r.mirror===!0||r.mirror==="ticks"?Oe[v]=r._anchorAxis.domain[ce[1]]:(r.mirror==="all"||r.mirror==="allticks")&&(Oe[v]=[r._counterDomainMin,r._counterDomainMax][ce[1]]))}Ee&&(Ue=Lf.getComponentMethod("rangeslider","autoMarginOpts")(e,r)),typeof r.automargin=="string"&&(gM(Ce,r.automargin),gM(Oe,r.automargin)),js.autoMargin(e,u2(r),Ce),js.autoMargin(e,kM(r),Oe),js.autoMargin(e,SM(r),Ue)}),Lr.syncOrAsync(ue)}};function gM(e,r){if(e){var t=Object.keys(uM).reduce(function(n,a){return r.indexOf(a)!==-1&&uM[a].forEach(function(o){n[o]=1}),n},{});Object.keys(e).forEach(function(n){t[n]||(n.length===1?e[n]=0:delete e[n])})}}function vX(e,r){var t=[],n,a=function(o,i){var l=o.xbnd[i];l!==null&&t.push(Lr.extendFlat({},o,{x:l}))};if(r.length){for(n=0;n<r.length;n++)a(r[n],0);a(r[n-1],1)}return t}function hX(e,r){for(var t=[],n={},a=0;a<r.length;a++){var o=r[a];n[o.text2]?n[o.text2].push(o.x):n[o.text2]=[o.x]}for(var i in n)t.push(TM(e,Lr.interp(n[i],.5),i));return t}function dX(e,r){var t=[],n,a,o=r.length&&r[r.length-1].x<r[0].x,i=function(u,s){var f=u.xbnd[s];f!==null&&t.push(Lr.extendFlat({},u,{x:f}))};if(e.showdividers&&r.length){for(n=0;n<r.length;n++){var l=r[n];l.text2!==a&&i(l,o?1:0),a=l.text2}i(r[n-1],o?0:1)}return t}function pX(e,r,t){var n,a,o,i;if(e._selections[r].size())n=1/0,a=-1/0,o=1/0,i=-1/0,e._selections[r].each(function(){var u=i2(this),s=pa.bBox(u.node().parentNode);n=Math.min(n,s.top),a=Math.max(a,s.bottom),o=Math.min(o,s.left),i=Math.max(i,s.right)});else{var l=lr.makeLabelFns(e,t);n=a=l.yFn({dx:0,dy:0,fontSize:0}),o=i=l.xFn({dx:0,dy:0,fontSize:0})}return{top:n,bottom:a,left:o,right:i,height:a-n,width:i-o}}lr.getTickSigns=function(e,r){var t=e._id.charAt(0),n={x:"top",y:"right"}[t],a=e.side===n?1:-1,o=[-1,1,a,-a],i=r?(e.minor||{}).ticks:e.ticks;return i!=="inside"==(t==="x")&&(o=o.map(function(l){return-l})),e.side&&o.push({l:-1,t:-1,r:1,b:1}[e.side.charAt(0)]),o};lr.makeTransTickFn=function(e){return e._id.charAt(0)==="x"?function(r){return eu(e._offset+e.l2p(r.x),0)}:function(r){return eu(0,e._offset+e.l2p(r.x))}};lr.makeTransTickLabelFn=function(e){var r=gX(e),t=e.ticklabelshift||0,n=e.ticklabelstandoff||0,a=r[0],o=r[1],i=e.range[0]>e.range[1],l=e.ticklabelposition&&e.ticklabelposition.indexOf("inside")!==-1,u=!l;if(t){var s=i?-1:1;t=t*s}if(n){var f=e.side,v=l&&(f==="top"||f==="left")||u&&(f==="bottom"||f==="right")?1:-1;n=n*v}return e._id.charAt(0)==="x"?function(p){return eu(a+e._offset+e.l2p(a2(p))+t,o+n)}:function(p){return eu(o+n,a+e._offset+e.l2p(a2(p))+t)}};function a2(e){return e.periodX!==void 0?e.periodX:e.x}function gX(e){var r=e.ticklabelposition||"",t=function(b){return r.indexOf(b)!==-1},n=t("top"),a=t("left"),o=t("right"),i=t("bottom"),l=t("inside"),u=i||a||n||o;if(!u&&!l)return[0,0];var s=e.side,f=u?(e.tickwidth||0)/2:0,v=Hv,p=e.tickfont?e.tickfont.size:12;return(i||n)&&(f+=p*Hl,v+=(e.linewidth||0)/2),(a||o)&&(f+=(e.linewidth||0)/2,v+=Hv),l&&s==="top"&&(v-=p*(1-Hl)),(a||n)&&(f=-f),(s==="bottom"||s==="right")&&(v=-v),[u?f:0,l?v:0]}lr.makeTickPath=function(e,r,t,n){n||(n={});var a=n.minor;if(a&&!e.minor)return"";var o=n.len!==void 0?n.len:a?e.minor.ticklen:e.ticklen,i=e._id.charAt(0),l=(e.linewidth||1)/2;return i==="x"?"M0,"+(r+l*t)+"v"+o*t:"M"+(r+l*t)+",0h"+o*t};lr.makeLabelFns=function(e,r,t){var n=e.ticklabelposition||"",a=function(R){return n.indexOf(R)!==-1},o=a("top"),i=a("left"),l=a("right"),u=a("bottom"),s=u||i||o||l,f=a("inside"),v=n==="inside"&&e.ticks==="inside"||!f&&e.ticks==="outside"&&e.tickson!=="boundaries",p=0,b=0,y=v?e.ticklen:0;if(f?y*=-1:s&&(y=0),v&&(p+=y,t)){var w=Lr.deg2rad(t);p=y*Math.cos(w)+1,b=y*Math.sin(w)}e.showticklabels&&(v||e.showline)&&(p+=.2*e.tickfont.size),p+=(e.linewidth||1)/2*(f?-1:1);var M={labelStandoff:p,labelShift:b},m,k,S,x,T=0,d=e.side,_=e._id.charAt(0),g=e.tickangle,c;if(_==="x")c=!f&&d==="bottom"||f&&d==="top",x=c?1:-1,f&&(x*=-1),m=b*x,k=r+p*x,S=c?1:-.2,Math.abs(g)===90&&(f?S+=Ef:g===-90&&d==="bottom"?S=Hl:g===90&&d==="top"?S=Ef:S=.5,T=Ef/2*(g/90)),M.xFn=function(R){return R.dx+m+T*R.fontSize},M.yFn=function(R){return R.dy+k+R.fontSize*S},M.anchorFn=function(R,E){if(s){if(i)return"end";if(l)return"start"}return!Wt(E)||E===0||E===180?"middle":E*x<0!==f?"end":"start"},M.heightFn=function(R,E,D){return E<-60||E>60?-.5*D:e.side==="top"!==f?-D:0};else if(_==="y"){if(c=!f&&d==="left"||f&&d==="right",x=c?1:-1,f&&(x*=-1),m=p,k=b*x,S=0,!f&&Math.abs(g)===90&&(g===-90&&d==="left"||g===90&&d==="right"?S=Hl:S=.5),f){var A=Wt(g)?+g:0;if(A!==0){var h=Lr.deg2rad(A);T=Math.abs(Math.sin(h))*Hl*x,S=0}}M.xFn=function(R){return R.dx+r-(m+R.fontSize*S)*x+T*R.fontSize},M.yFn=function(R){return R.dy+k+R.fontSize*Ef},M.anchorFn=function(R,E){return Wt(E)&&Math.abs(E)===90?"middle":c?"end":"start"},M.heightFn=function(R,E,D){return e.side==="right"&&(E*=-1),E<-30?-D:E<30?-.5*D:0}}return M};function Wv(e){return[e.text,e.x,e.axInfo,e.font,e.fontSize,e.fontColor].join("_")}lr.drawTicks=function(e,r,t){t=t||{};var n=r._id+"tick",a=[].concat(r.minor&&r.minor.ticks?t.vals.filter(function(i){return i.minor&&!i.noTick}):[]).concat(r.ticks?t.vals.filter(function(i){return!i.minor&&!i.noTick}):[]),o=t.layer.selectAll("path."+n).data(a,Wv);o.exit().remove(),o.enter().append("path").classed(n,1).classed("ticks",1).classed("crisp",t.crisp!==!1).each(function(i){return Rf.stroke(Da.select(this),i.minor?r.minor.tickcolor:r.tickcolor)}).style("stroke-width",function(i){return pa.crispRound(e,i.minor?r.minor.tickwidth:r.tickwidth,1)+"px"}).attr("d",t.path).style("display",null),Xv(r,[mM]),o.attr("transform",t.transFn)};lr.drawGrid=function(e,r,t){if(t=t||{},r.tickmode!=="sync"){var n=r._id+"grid",a=r.minor&&r.minor.showgrid,o=a?t.vals.filter(function(m){return m.minor}):[],i=r.showgrid?t.vals.filter(function(m){return!m.minor}):[],l=t.counterAxis;if(l&&lr.shouldShowZeroLine(e,r,l))for(var u=r.tickmode==="array",s=0;s<i.length;s++){var f=i[s].x;if(u?!f:Math.abs(f)<r.dtick/100)if(i=i.slice(0,s).concat(i.slice(s+1)),u)s--;else break}r._gw=pa.crispRound(e,r.gridwidth,1);for(var v=a?pa.crispRound(e,r.minor.gridwidth,1):0,p=t.layer,b=t.minorLayer,y=1;y>=0;y--){var w=y?p:b;if(w){var M=w.selectAll("path."+n).data(y?i:o,Wv);M.exit().remove(),M.enter().append("path").classed(n,1).classed("crisp",t.crisp!==!1),M.attr("transform",t.transFn).attr("d",t.path).each(function(m){return Rf.stroke(Da.select(this),m.minor?r.minor.gridcolor:r.gridcolor||"#ddd")}).style("stroke-dasharray",function(m){return pa.dashStyle(m.minor?r.minor.griddash:r.griddash,m.minor?r.minor.gridwidth:r.gridwidth)}).style("stroke-width",function(m){return(m.minor?v:r._gw)+"px"}).style("display",null),typeof t.path=="function"&&M.attr("d",t.path)}}Xv(r,[t2,n2])}};lr.drawZeroLine=function(e,r,t){t=t||t;var n=r._id+"zl",a=lr.shouldShowZeroLine(e,r,t.counterAxis),o=t.layer.selectAll("path."+n).data(a?[{x:0,id:r._id}]:[]);o.exit().remove(),o.enter().append("path").classed(n,1).classed("zl",1).classed("crisp",t.crisp!==!1).each(function(){t.layer.selectAll("path").sort(function(i,l){return XW(i.id,l.id)})}),o.attr("transform",t.transFn).attr("d",t.path).call(Rf.stroke,r.zerolinecolor||Rf.defaultLine).style("stroke-width",pa.crispRound(e,r.zerolinewidth,r._gw||1)+"px").style("display",null),Xv(r,[r2])};lr.drawLabels=function(e,r,t){t=t||{};var n=e._fullLayout,a=r._id,o=t.cls||a+"tick",i=t.vals.filter(function(L){return L.text}),l=t.labelFns,u=t.secondary?0:r.tickangle,s=(r._prevTickAngles||{})[o],f=t.layer.selectAll("g."+o).data(r.showticklabels?i:[],Wv),v=[];f.enter().append("g").classed(o,1).append("text").attr("text-anchor","middle").each(function(L){var P=Da.select(this),O=e._promises.length;P.call(Bl.positionText,l.xFn(L),l.yFn(L)).call(pa.font,{family:L.font,size:L.fontSize,color:L.fontColor,weight:L.fontWeight,style:L.fontStyle,variant:L.fontVariant,textcase:L.fontTextcase,lineposition:L.fontLineposition,shadow:L.fontShadow}).text(L.text).call(Bl.convertToTspans,e),e._promises[O]?v.push(e._promises.pop().then(function(){p(P,u)})):p(P,u)}),Xv(r,[sM]),f.exit().remove(),t.repositionOnUpdate&&f.each(function(L){Da.select(this).select("text").call(Bl.positionText,l.xFn(L),l.yFn(L))});function p(L,P){L.each(function(O){var U=Da.select(this),X=U.select(".text-math-group"),j=l.anchorFn(O,P),$=t.transFn.call(U.node(),O)+(Wt(P)&&+P!=0?" rotate("+P+","+l.xFn(O)+","+(l.yFn(O)-O.fontSize/2)+")":""),Y=Bl.lineCount(U),q=Pf*O.fontSize,Z=l.heightFn(O,Wt(P)?+P:0,(Y-1)*q);if(Z&&($+=eu(0,Z)),X.empty()){var ne=U.select("text");ne.attr({transform:$,"text-anchor":j}),ne.style("opacity",1),r._adjustTickLabelsOverflow&&r._adjustTickLabelsOverflow()}else{var Q=pa.bBox(X.node()).width,oe=Q*{end:-.5,start:.5}[j];X.attr("transform",$+eu(oe,0))}})}r._adjustTickLabelsOverflow=function(){var L=r.ticklabeloverflow;if(!(!L||L==="allow")){var P=L.indexOf("hide")!==-1,O=r._id.charAt(0)==="x",U=0,X=O?e._fullLayout.width:e._fullLayout.height;if(L.indexOf("domain")!==-1){var j=Lr.simpleMap(r.range,r.r2l);U=r.l2p(j[0])+r._offset,X=r.l2p(j[1])+r._offset}var $=Math.min(U,X),Y=Math.max(U,X),q=r.side,Z=1/0,ne=-1/0;f.each(function(G){var re=Da.select(this),H=re.select(".text-math-group");if(H.empty()){var te=pa.bBox(re.node()),ue=0;O?(te.right>Y||te.left<$)&&(ue=1):(te.bottom>Y||te.top+(r.tickangle?0:G.fontSize/4)<$)&&(ue=1);var de=re.select("text");ue?P&&de.style("opacity",0):(de.style("opacity",1),q==="bottom"||q==="right"?Z=Math.min(Z,O?te.top:te.left):Z=-1/0,q==="top"||q==="left"?ne=Math.max(ne,O?te.bottom:te.right):ne=1/0)}});for(var Q in n._plots){var oe=n._plots[Q];if(!(r._id!==oe.xaxis._id&&r._id!==oe.yaxis._id)){var ee=O?oe.yaxis:oe.xaxis;ee&&(ee["_visibleLabelMin_"+r._id]=Z,ee["_visibleLabelMax_"+r._id]=ne)}}}},r._hideCounterAxisInsideTickLabels=function(L){var P=r._id.charAt(0)==="x",O=[];for(var U in n._plots){var X=n._plots[U];r._id!==X.xaxis._id&&r._id!==X.yaxis._id||O.push(P?X.yaxis:X.xaxis)}O.forEach(function(j,$){j&&If(j)&&(L||[r2,n2,t2,mM,sM]).forEach(function(Y){var q=Y.K==="tick"&&Y.L==="text"&&r.ticklabelmode==="period",Z=n._plots[r._mainSubplot],ne;Y.K===r2.K?ne=Z.zerolinelayer.selectAll("."+r._id+"zl"):Y.K===n2.K?ne=Z.minorGridlayer.selectAll("."+r._id):Y.K===t2.K?ne=Z.gridlayer.selectAll("."+r._id):ne=Z[r._id.charAt(0)+"axislayer"],ne.each(function(){var Q=Da.select(this);Y.L&&(Q=Q.selectAll(Y.L)),Q.each(function(oe){var ee=r.l2p(q?a2(oe):oe.x)+r._offset,G=Da.select(this);ee<r["_visibleLabelMax_"+j._id]&&ee>r["_visibleLabelMin_"+j._id]?G.style("display","none"):Y.K==="tick"&&!$&&G.style("display",null)})})})})},p(f,s+1?s:u);function b(){return v.length&&Promise.all(v)}var y=null;function w(){if(p(f,u),i.length&&r.autotickangles&&(r.type!=="log"||String(r.dtick).charAt(0)!=="D")){y=r.autotickangles[0];var L=0,P=[],O,U=1;f.each(function(De){L=Math.max(L,De.fontSize);var Ce=r.l2p(De.x),Oe=i2(this),Ue=pa.bBox(Oe.node());U=Math.max(U,Bl.lineCount(Oe)),P.push({top:0,bottom:10,height:10,left:Ce-Ue.width/2,right:Ce+Ue.width/2+2,width:Ue.width+2})});var X=(r.tickson==="boundaries"||r.showdividers)&&!t.secondary,j=i.length,$=Math.abs((i[j-1].x-i[0].x)*r._m)/(j-1),Y=X?$/2:$,q=X?r.ticklen:L*1.25*U,Z=Math.sqrt(Math.pow(Y,2)+Math.pow(q,2)),ne=Y/Z,Q=r.autotickangles.map(function(De){return De*Math.PI/180}),oe=Q.find(function(De){return Math.abs(Math.cos(De))<=ne});oe===void 0&&(oe=Q.reduce(function(De,Ce){return Math.abs(Math.cos(De))<Math.abs(Math.cos(Ce))?De:Ce},Q[0]));var ee=oe*(180/Math.PI);if(X){var G=2;for(r.ticks&&(G+=r.tickwidth/2),O=0;O<P.length;O++){var re=i[O].xbnd,H=P[O];if(re[0]!==null&&H.left-r.l2p(re[0])<G||re[1]!==null&&r.l2p(re[1])-H.right<G){y=ee;break}}}else{var te=r.ticklabelposition||"",ue=function(De){return te.indexOf(De)!==-1},de=ue("top"),Ee=ue("left"),Me=ue("right"),ve=ue("bottom"),Ae=ve||Ee||de||Me,ke=Ae?(r.tickwidth||0)+2*Hv:0;for(O=0;O<P.length-1;O++)if(Lr.bBoxIntersect(P[O],P[O+1],ke)){y=ee;break}}y&&p(f,y)}}r._selections&&(r._selections[o]=f);var M=[b];r.automargin&&n._redrawFromAutoMarginCount&&s===90?(y=s,M.push(function(){p(f,s)})):M.push(w),r._tickAngles&&M.push(function(){r._tickAngles[o]=y===null?Wt(u)?u:0:y});var m=function(){var L=0,P=0;return f.each(function(O,U){var X=i2(this),j=X.select(".text-math-group");if(j.empty()){var $;r._vals[U]&&($=r._vals[U].bb||pa.bBox(X.node()),r._vals[U].bb=$),L=Math.max(L,$.width),P=Math.max(P,$.height)}}),{labelsMaxW:L,labelsMaxH:P}},k=r._anchorAxis;if(k&&(k.autorange||k.insiderange)&&If(r)&&!ZW(n,r._id)&&(n._insideTickLabelsUpdaterange||(n._insideTickLabelsUpdaterange={}),k.autorange&&(n._insideTickLabelsUpdaterange[k._name+".autorange"]=k.autorange,M.push(m)),k.insiderange)){var S=m(),x=r._id.charAt(0)==="y"?S.labelsMaxW:S.labelsMaxH;x+=2*Hv,r.ticklabelposition==="inside"&&(x+=r.ticklen||0);var T=r.side==="right"||r.side==="top"?1:-1,d=T===1?1:0,_=T===1?0:1,g=[];g[_]=k.range[_];var c=k.range,A=k.r2p(c[d]),h=k.r2p(c[_]),R=n._insideTickLabelsUpdaterange[k._name+".range"];if(R){var E=k.r2p(R[d]),D=k.r2p(R[_]),N=T*(r._id.charAt(0)==="y"?1:-1);N*A<N*E&&(A=E,g[d]=c[d]=R[d]),N*h>N*D&&(h=D,g[_]=c[_]=R[_])}var I=Math.abs(h-A);I-x>0?(I-=x,x*=1+x/I):x=0,r._id.charAt(0)!=="y"&&(x=-x),g[d]=k.p2r(k.r2p(c[d])+T*x),k.autorange==="min"||k.autorange==="max reversed"?(g[0]=null,k._rangeInitial0=void 0,k._rangeInitial1=void 0):(k.autorange==="max"||k.autorange==="min reversed")&&(g[1]=null,k._rangeInitial0=void 0,k._rangeInitial1=void 0),n._insideTickLabelsUpdaterange[k._name+".range"]=g}var F=Lr.syncOrAsync(M);return F&&F.then&&e._promises.push(F),F};function yX(e,r,t){var n=r._id+"divider",a=t.vals,o=t.layer.selectAll("path."+n).data(a,Wv);o.exit().remove(),o.enter().insert("path",":first-child").classed(n,1).classed("crisp",1).call(Rf.stroke,r.dividercolor).style("stroke-width",pa.crispRound(e,r.dividerwidth,1)+"px"),o.attr("transform",t.transFn).attr("d",t.path)}lr.getPxPosition=function(e,r){var t=e._fullLayout._size,n=r._id.charAt(0),a=r.side,o;if(r.anchor!=="free"?o=r._anchorAxis:n==="x"?o={_offset:t.t+(1-(r.position||0))*t.h,_length:0}:n==="y"&&(o={_offset:t.l+(r.position||0)*t.w+r._shift,_length:0}),a==="top"||a==="left")return o._offset;if(a==="bottom"||a==="right")return o._offset+o._length};function yM(e){var r=e.title.font.size,t=(e.title.text.match(Bl.BR_TAG_ALL)||[]).length;return e.title.hasOwnProperty("standoff")?r*(Hl+t*Pf):t?r*(t+1)*Pf:r}function mX(e,r){var t=e._fullLayout,n=r._id,a=n.charAt(0),o=r.title.font.size,i,l=(r.title.text.match(Bl.BR_TAG_ALL)||[]).length;if(r.title.hasOwnProperty("standoff"))r.side==="bottom"||r.side==="right"?i=r._depth+r.title.standoff+o*Hl:(r.side==="top"||r.side==="left")&&(i=r._depth+r.title.standoff+o*(Ef+l*Pf));else{var u=If(r);if(r.type==="multicategory")i=r._depth;else{var s=1.5*o;u&&(s=.5*o,r.ticks==="outside"&&(s+=r.ticklen)),i=10+s+(r.linewidth?r.linewidth-1:0)}u||(a==="x"?i+=r.side==="top"?o*(r.showticklabels?1:0):o*(r.showticklabels?1.5:.5):i+=r.side==="right"?o*(r.showticklabels?1:.5):o*(r.showticklabels?.5:0))}var f=lr.getPxPosition(e,r),v,p,b;a==="x"?(p=r._offset+r._length/2,b=r.side==="top"?f-i:f+i):(b=r._offset+r._length/2,p=r.side==="right"?f+i:f-i,v={rotate:"-90",offset:0});var y;if(r.type!=="multicategory"){var w=r._selections[r._id+"tick"];if(y={selection:w,side:r.side},w&&w.node()&&w.node().parentNode){var M=pa.getTranslate(w.node().parentNode);y.offsetLeft=M.x,y.offsetTop=M.y}r.title.hasOwnProperty("standoff")&&(y.pad=0)}return r._titleStandoff=i,qW.draw(e,n+"title",{propContainer:r,propName:r._name+".title.text",placeholder:t._dfltTitle[a],avoid:y,transform:v,attributes:{x:p,y:b,"text-anchor":"middle"}})}lr.shouldShowZeroLine=function(e,r,t){var n=Lr.simpleMap(r.range,r.r2l);return n[0]*n[1]<=0&&r.zeroline&&(r.type==="linear"||r.type==="-")&&!(r.rangebreaks&&r.maskBreaks(0)===Gv)&&(AM(r,0)||!xX(e,r,t,n)||bX(e,r))};lr.clipEnds=function(e,r){return r.filter(function(t){return AM(e,t.x)})};function AM(e,r){var t=e.l2p(r);return t>1&&t<e._length-1}function xX(e,r,t,n){var a=t._mainAxis;if(!a)return;var o=e._fullLayout,i=r._id.charAt(0),l=lr.counterLetter(r._id),u=r._offset+(Math.abs(n[0])<Math.abs(n[1])==(i==="x")?0:r._length);function s(y){if(!y.showline||!y.linewidth)return!1;var w=Math.max((y.linewidth+r.zerolinewidth)/2,1);function M(S){return typeof S=="number"&&Math.abs(S-u)<w}if(M(y._mainLinePosition)||M(y._mainMirrorPosition))return!0;var m=y._linepositions||{};for(var k in m)if(M(m[k][0])||M(m[k][1]))return!0}var f=o._plots[t._mainSubplot];if(!(f.mainplotinfo||f).overlays.length)return s(t,u);for(var v=lr.list(e,l),p=0;p<v.length;p++){var b=v[p];if(b._mainAxis===a&&s(b,u))return!0}}function bX(e,r){for(var t=e._fullData,n=r._mainSubplot,a=r._id.charAt(0),o=0;o<t.length;o++){var i=t[o];if(i.visible===!0&&i.xaxis+i.yaxis===n&&(Lf.traceIs(i,"bar-like")&&i.orientation==={x:"h",y:"v"}[a]||i.fill&&i.fill.charAt(i.fill.length-1)===a))return!0}return!1}function i2(e){var r=Da.select(e),t=r.select(".text-math-group");return t.empty()?r.select("text"):t}lr.allowAutoMargin=function(e){for(var r=lr.list(e,"",!0),t=0;t<r.length;t++){var n=r[t];n.automargin&&(js.allowAutoMargin(e,u2(n)),n.mirror&&js.allowAutoMargin(e,kM(n))),Lf.getComponentMethod("rangeslider","isVisible")(n)&&js.allowAutoMargin(e,SM(n))}};function u2(e){return e._id+".automargin"}function kM(e){return u2(e)+".mirror"}function SM(e){return e._id+".rangeslider"}lr.swap=function(e,r){for(var t=_X(e,r),n=0;n<t.length;n++)wX(e,t[n].x,t[n].y)};function _X(e,r){var t=[],n,a;for(n=0;n<r.length;n++){var o=[],i=e._fullData[r[n]].xaxis,l=e._fullData[r[n]].yaxis;if(!(!i||!l)){for(a=0;a<t.length;a++)(t[a].x.indexOf(i)!==-1||t[a].y.indexOf(l)!==-1)&&o.push(a);if(!o.length){t.push({x:[i],y:[l]});continue}var u=t[o[0]],s;if(o.length>1)for(a=1;a<o.length;a++)s=t[o[a]],Nv(u.x,s.x),Nv(u.y,s.y);Nv(u.x,[i]),Nv(u.y,[l])}}return t}function Nv(e,r){for(var t=0;t<r.length;t++)e.indexOf(r[t])===-1&&e.push(r[t])}function wX(e,r,t){var n=[],a=[],o=e.layout,i,l;for(i=0;i<r.length;i++)n.push(lr.getFromId(e,r[i]));for(i=0;i<t.length;i++)a.push(lr.getFromId(e,t[i]));var u=Object.keys(OW),s=["anchor","domain","overlaying","position","side","tickangle","editType"],f=["linear","log"];for(i=0;i<u.length;i++){var v=u[i],p=n[0][v],b=a[0][v],y=!0,w=!1,M=!1;if(!(v.charAt(0)==="_"||typeof p=="function"||s.indexOf(v)!==-1)){for(l=1;l<n.length&&y;l++){var m=n[l][v];v==="type"&&f.indexOf(p)!==-1&&f.indexOf(m)!==-1&&p!==m?w=!0:m!==p&&(y=!1)}for(l=1;l<a.length&&y;l++){var k=a[l][v];v==="type"&&f.indexOf(b)!==-1&&f.indexOf(k)!==-1&&b!==k?M=!0:a[l][v]!==b&&(y=!1)}y&&(w&&(o[n[0]._name].type="linear"),M&&(o[a[0]._name].type="linear"),MX(o,v,n,a,e._fullLayout._dfltTitle))}}for(i=0;i<e._fullLayout.annotations.length;i++){var S=e._fullLayout.annotations[i];r.indexOf(S.xref)!==-1&&t.indexOf(S.yref)!==-1&&Lr.swapAttrs(o.annotations[i],["?"])}}function MX(e,r,t,n,a){var o=Lr.nestedProperty,i=o(e[t[0]._name],r).get(),l=o(e[n[0]._name],r).get(),u;for(r==="title"&&(i&&i.text===a.x&&(i.text=a.y),l&&l.text===a.y&&(l.text=a.x)),u=0;u<t.length;u++)o(e,t[u]._name+"."+r).set(l);for(u=0;u<n.length;u++)o(e,n[u]._name+"."+r).set(i)}function f2(e){return e._id==="angularaxis"}function jg(e,r){for(var t=r._rangebreaks.length,n=0;n<t;n++){var a=r._rangebreaks[n];if(e>=a.min&&e<a.max)return a.max}return e}function If(e){return(e.ticklabelposition||"").indexOf("inside")!==-1}function Xv(e,r){If(e._anchorAxis||{})&&e._hideCounterAxisInsideTickLabels&&e._hideCounterAxisInsideTickLabels(r)}function o2(e,r,t,n){var a=e.anchor!=="free"&&(e.overlaying===void 0||e.overlaying===!1)?e._id:e.overlaying,o;n?o=e.side==="right"?r:-r:o=r,a in t||(t[a]={}),e.side in t[a]||(t[a][e.side]=0),t[a][e.side]+=o}function TX(e,r){return e.autoshift?r[e.overlaying][e.side]:e.shift||0}function AX(e,r){return/%f/.test(r)?e>=GW:/%L/.test(r)?e>=VW:/%[SX]/.test(r)?e>=Uv:/%M/.test(r)?e>=Df:/%[HI]/.test(r)?e>=Fi:/%p/.test(r)?e>=Ho:/%[Aadejuwx]/.test(r)?e>=On:/%[UVW]/.test(r)?e>=ga:/%[Bbm]/.test(r)?e>=Bv:/%[q]/.test(r)?e>=Ov:/%[Yy]/.test(r)?e>=qv:!0}});var LM=pe((Tce,EM)=>{"use strict";EM.exports=function(r,t,n){var a,o;if(n){var i=t==="reversed"||t==="min reversed"||t==="max reversed";a=n[i?1:0],o=n[i?0:1]}var l=r("autorangeoptions.minallowed",o===null?a:void 0),u=r("autorangeoptions.maxallowed",a===null?o:void 0);l===void 0&&r("autorangeoptions.clipmin"),u===void 0&&r("autorangeoptions.clipmax"),r("autorangeoptions.include")}});var c2=pe((Ace,RM)=>{"use strict";var kX=LM();RM.exports=function(r,t,n,a){var o=t._template||{},i=t.type||o.type||"-";n("minallowed"),n("maxallowed");var l=n("range");if(!l){var u;!a.noInsiderange&&i!=="log"&&(u=n("insiderange"),u&&(u[0]===null||u[1]===null)&&(t.insiderange=!1,u=void 0),u&&(l=n("range",u)))}var s=t.getAutorangeDflt(l,a),f=n("autorange",s),v;l&&(l[0]===null&&l[1]===null||(l[0]===null||l[1]===null)&&(f==="reversed"||f===!0)||l[0]!==null&&(f==="min"||f==="max reversed")||l[1]!==null&&(f==="max"||f==="min reversed"))&&(l=void 0,delete t.range,t.autorange=!0,v=!0),v||(s=t.getAutorangeDflt(l,a),f=n("autorange",s)),f&&(kX(n,f,l),(i==="linear"||i==="-")&&n("rangemode")),t.cleanRange()}});var PM=pe((kce,DM)=>{var SX={left:0,top:0};DM.exports=CX;function CX(e,r,t){r=r||e.currentTarget||e.srcElement,Array.isArray(t)||(t=[0,0]);var n=e.clientX||0,a=e.clientY||0,o=EX(r);return t[0]=n-o.left,t[1]=a-o.top,t}function EX(e){return e===window||e===document||e===document.body?SX:e.getBoundingClientRect()}});var Zv=pe((Sce,FM)=>{"use strict";var LX=Hp();function RX(){var e=!1;try{var r=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,r),window.removeEventListener("test",null,r)}catch(t){e=!1}return e}FM.exports=LX&&RX()});var NM=pe((Cce,IM)=>{"use strict";IM.exports=function(r,t,n,a,o){var i=(r-n)/(a-n),l=i+t/(a-n),u=(i+l)/2;return o==="left"||o==="bottom"?i:o==="center"||o==="middle"?u:o==="right"||o==="top"?l:i<2/3-u?i:l>4/3-u?l:u}});var OM=pe((Ece,qM)=>{"use strict";var zM=ir(),DX=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];qM.exports=function(r,t,n,a){return n==="left"?r=0:n==="center"?r=1:n==="right"?r=2:r=zM.constrain(Math.floor(r*3),0,2),a==="bottom"?t=0:a==="middle"?t=1:a==="top"?t=2:t=zM.constrain(Math.floor(t*3),0,2),DX[t][r]}});var UM=pe((Lce,BM)=>{"use strict";var PX=mf(),FX=Jc(),IX=ff().getGraphDiv,NX=sf(),v2=BM.exports={};v2.wrapped=function(e,r,t){e=IX(e),e._fullLayout&&FX.clear(e._fullLayout._uid+NX.HOVERID),v2.raw(e,r,t)};v2.raw=function(r,t){var n=r._fullLayout,a=r._hoverdata;t||(t={}),!(t.target&&!r._dragged&&PX.triggerHandler(r,"plotly_beforehover",t)===!1)&&(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),r._hoverdata=void 0,t.target&&a&&r.emit("plotly_unhover",{event:t,points:a}))}});var ti=pe((Rce,YM)=>{"use strict";var zX=PM(),h2=Gp(),qX=Zv(),OX=ir().removeElement,BX=wn(),Vl=YM.exports={};Vl.align=NM();Vl.getCursor=OM();var VM=UM();Vl.unhover=VM.wrapped;Vl.unhoverRaw=VM.raw;Vl.init=function(r){var t=r.gd,n=1,a=t._context.doubleClickDelay,o=r.element,i,l,u,s,f,v,p,b;t._mouseDownTime||(t._mouseDownTime=0),o.style.pointerEvents="all",o.onmousedown=M,qX?(o._ontouchstart&&o.removeEventListener("touchstart",o._ontouchstart),o._ontouchstart=M,o.addEventListener("touchstart",M,{passive:!1})):o.ontouchstart=M;function y(S,x,T){return Math.abs(S)<T&&(S=0),Math.abs(x)<T&&(x=0),[S,x]}var w=r.clampFn||y;function M(S){t._dragged=!1,t._dragging=!0;var x=HM(S);i=x[0],l=x[1],p=S.target,v=S,b=S.buttons===2||S.ctrlKey,typeof S.clientX=="undefined"&&typeof S.clientY=="undefined"&&(S.clientX=i,S.clientY=l),u=new Date().getTime(),u-t._mouseDownTime<a?n+=1:(n=1,t._mouseDownTime=u),r.prepFn&&r.prepFn(S,i,l),h2&&!b?(f=GM(),f.style.cursor=window.getComputedStyle(o).cursor):h2||(f=document,s=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(o).cursor),document.addEventListener("mouseup",k),document.addEventListener("touchend",k),r.dragmode!==!1&&(S.preventDefault(),document.addEventListener("mousemove",m),document.addEventListener("touchmove",m,{passive:!1}))}function m(S){S.preventDefault();var x=HM(S),T=r.minDrag||BX.MINDRAG,d=w(x[0]-i,x[1]-l,T),_=d[0],g=d[1];(_||g)&&(t._dragged=!0,Vl.unhover(t,S)),t._dragged&&r.moveFn&&!b&&(t._dragdata={element:o,dx:_,dy:g},r.moveFn(_,g))}function k(S){if(delete t._dragdata,r.dragmode!==!1&&(S.preventDefault(),document.removeEventListener("mousemove",m),document.removeEventListener("touchmove",m)),document.removeEventListener("mouseup",k),document.removeEventListener("touchend",k),h2?OX(f):s&&(f.documentElement.style.cursor=s,s=null),!t._dragging){t._dragged=!1;return}if(t._dragging=!1,new Date().getTime()-t._mouseDownTime>a&&(n=Math.max(n-1,1)),t._dragged)r.doneFn&&r.doneFn();else{var x;v.target===p?x=v:(x={target:p,srcElement:p,toElement:p},Object.keys(v).concat(Object.keys(v.__proto__)).forEach(T=>{var d=v[T];!x[T]&&typeof d!="function"&&(x[T]=d)})),r.clickFn&&r.clickFn(n,x),b||p.dispatchEvent(new MouseEvent("click",S))}t._dragging=!1,t._dragged=!1}};function GM(){var e=document.createElement("div");e.className="dragcover";var r=e.style;return r.position="fixed",r.left=0,r.right=0,r.top=0,r.bottom=0,r.zIndex=999999999,r.background="none",document.body.appendChild(e),e}Vl.coverSlip=GM;function HM(e){return zX(e.changedTouches?e.changedTouches[0]:e,document.body)}});var Vo=pe((Dce,WM)=>{"use strict";WM.exports=function(r,t){(r.attr("class")||"").split(" ").forEach(function(n){n.indexOf("cursor-")===0&&r.classed(n,!1)}),t&&r.classed("cursor-"+t,!0)}});var JM=pe((Pce,ZM)=>{"use strict";var d2=Vo(),Nf="data-savedcursor",XM="!!";ZM.exports=function(r,t){var n=r.attr(Nf);if(t){if(!n){for(var a=(r.attr("class")||"").split(" "),o=0;o<a.length;o++){var i=a[o];i.indexOf("cursor-")===0&&r.attr(Nf,i.substr(7)).classed(i,!1)}r.attr(Nf)||r.attr(Nf,XM)}d2(r,t)}else n&&(r.attr(Nf,null),n===XM?d2(r):d2(r,n))}});var g2=pe((Fce,KM)=>{"use strict";var p2=kn(),UX=Ti();KM.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:UX.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:p2({editType:"legend"}),grouptitlefont:p2({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:p2({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}});var Kv=pe(Jv=>{"use strict";Jv.isGrouped=function(r){return(r.traceorder||"").indexOf("grouped")!==-1};Jv.isVertical=function(r){return r.orientation!=="h"};Jv.isReversed=function(r){return(r.traceorder||"").indexOf("reversed")!==-1}});var x2=pe((Nce,QM)=>{"use strict";var y2=Er(),ya=ir(),HX=gt(),VX=Sn(),GX=g2(),YX=Ds(),m2=Kv();function WX(e,r,t,n){var a=r[e]||{},o=HX.newContainer(t,e);function i(F,L){return ya.coerce(a,o,GX,F,L)}var l=ya.coerceFont(i,"font",t.font);i("bgcolor",t.paper_bgcolor),i("bordercolor");var u=i("visible");if(u){for(var s,f=function(F,L){var P=s._input,O=s;return ya.coerce(P,O,VX,F,L)},v=t.font||{},p=ya.coerceFont(i,"grouptitlefont",v,{overrideDflt:{size:Math.round(v.size*1.1)}}),b=0,y=!1,w="normal",M=(t.shapes||[]).filter(function(F){return F.showlegend}),m=n.concat(M).filter(function(F){return e===(F.legend||"legend")}),k=0;k<m.length;k++)if(s=m[k],!!s.visible){var S=s._isShape;(s.showlegend||s._dfltShowLegend&&!(s._module&&s._module.attributes&&s._module.attributes.showlegend&&s._module.attributes.showlegend.dflt===!1))&&(b++,s.showlegend&&(y=!0,(!S&&y2.traceIs(s,"pie-like")||s._input.showlegend===!0)&&b++),ya.coerceFont(f,"legendgrouptitle.font",p)),(!S&&y2.traceIs(s,"bar")&&t.barmode==="stack"||["tonextx","tonexty"].indexOf(s.fill)!==-1)&&(w=m2.isGrouped({traceorder:w})?"grouped+reversed":"reversed"),s.legendgroup!==void 0&&s.legendgroup!==""&&(w=m2.isReversed({traceorder:w})?"reversed+grouped":"grouped")}var x=ya.coerce(r,t,YX,"showlegend",y&&b>(e==="legend"?1:0));if(x===!1&&(t[e]=void 0),!(x===!1&&!a.uirevision)&&(i("uirevision",t.uirevision),x!==!1)){i("borderwidth");var T=i("orientation"),d=i("yref"),_=i("xref"),g=T==="h",c=d==="paper",A=_==="paper",h,R,E,D="left";g?(h=0,y2.getComponentMethod("rangeslider","isVisible")(r.xaxis)?c?(R=1.1,E="bottom"):(R=1,E="top"):c?(R=-.1,E="top"):(R=0,E="bottom")):(R=1,E="auto",A?h=1.02:(h=1,D="right")),ya.coerce(a,o,{x:{valType:"number",editType:"legend",min:A?-2:0,max:A?3:1,dflt:h}},"x"),ya.coerce(a,o,{y:{valType:"number",editType:"legend",min:c?-2:0,max:c?3:1,dflt:R}},"y"),i("traceorder",w),m2.isGrouped(t[e])&&i("tracegroupgap"),i("entrywidth"),i("entrywidthmode"),i("indentation"),i("itemsizing"),i("itemwidth"),i("itemclick"),i("itemdoubleclick"),i("groupclick"),i("xanchor",D),i("yanchor",E),i("valign"),ya.noneOrAll(a,o,["x","y"]);var N=i("title.text");if(N){i("title.side",g?"left":"top");var I=ya.extendFlat({},l,{size:ya.bigFont(l.size)});ya.coerceFont(i,"title.font",I)}}}}QM.exports=function(r,t,n){var a,o=n.slice(),i=t.shapes;if(i)for(a=0;a<i.length;a++){var l=i[a];if(l.showlegend){var u={_input:l._input,visible:l.visible,showlegend:l.showlegend,legend:l.legend};o.push(u)}}var s=["legend"];for(a=0;a<o.length;a++)ya.pushUnique(s,o[a].legend);for(t._legends=[],a=0;a<s.length;a++){var f=s[a];WX(f,r,t,o),t[f]&&t[f].visible&&(t[f]._id=f),t._legends.push(f)}}});var jM=pe((zce,$M)=>{"use strict";var tu=Er(),_2=ir(),XX=_2.pushUnique,b2=!0;$M.exports=function(r,t,n){var a=t._fullLayout;if(t._dragged||t._editing)return;var o=a.legend.itemclick,i=a.legend.itemdoubleclick,l=a.legend.groupclick;n===1&&o==="toggle"&&i==="toggleothers"&&b2&&t.data&&t._context.showTips&&_2.notifier(_2._(t,"Double-click on legend to isolate one trace"),"long"),b2=!1;var u;if(n===1?u=o:n===2&&(u=i),!u)return;var s=l==="togglegroup",f=a.hiddenlabels?a.hiddenlabels.slice():[],v=r.data()[0][0];if(v.groupTitle&&v.noClick)return;var p=t._fullData,b=(a.shapes||[]).filter(function(Ae){return Ae.showlegend}),y=p.concat(b),w=v.trace;w._isShape&&(w=w._fullInput);var M=w.legendgroup,m,k,S,x,T,d,_={},g=[],c=[],A=[];function h(Ae,ke){var De=g.indexOf(Ae),Ce=_.visible;return Ce||(Ce=_.visible=[]),g.indexOf(Ae)===-1&&(g.push(Ae),De=g.length-1),Ce[De]=ke,De}var R=(a.shapes||[]).map(function(Ae){return Ae._input}),E=!1;function D(Ae,ke){R[Ae].visible=ke,E=!0}function N(Ae,ke){if(!(v.groupTitle&&!s)){var De=Ae._fullInput||Ae,Ce=De._isShape,Oe=De.index;Oe===void 0&&(Oe=De._index);var Ue=De.visible===!1?!1:ke;Ce?D(Oe,Ue):h(Oe,Ue)}}var I=w.legend,F=w._fullInput,L=F&&F._isShape;if(!L&&tu.traceIs(w,"pie-like")){var P=v.label,O=f.indexOf(P);if(u==="toggle")O===-1?f.push(P):f.splice(O,1);else if(u==="toggleothers"){var U=O!==-1,X=[];for(m=0;m<t.calcdata.length;m++){var j=t.calcdata[m];for(k=0;k<j.length;k++){var $=j[k],Y=$.label;I===j[0].trace.legend&&P!==Y&&(f.indexOf(Y)===-1&&(U=!0),XX(f,Y),X.push(Y))}}if(!U)for(var q=0;q<X.length;q++){var Z=f.indexOf(X[q]);Z!==-1&&f.splice(Z,1)}}tu.call("_guiRelayout",t,"hiddenlabels",f)}else{var ne=M&&M.length,Q=[],oe;if(ne)for(m=0;m<y.length;m++)oe=y[m],oe.visible&&oe.legendgroup===M&&Q.push(m);if(u==="toggle"){var ee;switch(w.visible){case!0:ee="legendonly";break;case!1:ee=!1;break;case"legendonly":ee=!0;break}if(ne)if(s)for(m=0;m<y.length;m++){var G=y[m];G.visible!==!1&&G.legendgroup===M&&N(G,ee)}else N(w,ee);else N(w,ee)}else if(u==="toggleothers"){var re,H,te,ue,de,Ee=!0;for(m=0;m<y.length;m++)if(de=y[m],re=de===w,te=de.showlegend!==!0,!(re||te)&&(H=ne&&de.legendgroup===M,!H&&de.legend===I&&de.visible===!0&&!tu.traceIs(de,"notLegendIsolatable"))){Ee=!1;break}for(m=0;m<y.length;m++)if(de=y[m],!(de.visible===!1||de.legend!==I)&&!tu.traceIs(de,"notLegendIsolatable"))switch(w.visible){case"legendonly":N(de,!0);break;case!0:ue=Ee?!0:"legendonly",re=de===w,te=de.showlegend!==!0&&!de.legendgroup,H=re||ne&&de.legendgroup===M,N(de,H||te?!0:ue);break}}for(m=0;m<c.length;m++)if(S=c[m],!!S){var Me=S.constructUpdate(),ve=Object.keys(Me);for(k=0;k<ve.length;k++)x=ve[k],d=_[x]=_[x]||[],d[A[m]]=Me[x]}for(T=Object.keys(_),m=0;m<T.length;m++)for(x=T[m],k=0;k<g.length;k++)_[x].hasOwnProperty(k)||(_[x][k]=void 0);E?tu.call("_guiUpdate",t,_,{shapes:R},g):tu.call("_guiRestyle",t,_,g)}}});var w2=pe((qce,e9)=>{"use strict";e9.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}});var n9=pe((Oce,t9)=>{"use strict";var r9=Er(),M2=Kv();t9.exports=function(r,t,n){var a=t._inHover,o=M2.isGrouped(t),i=M2.isReversed(t),l={},u=[],s=!1,f={},v=0,p=0,b,y;function w(F,L,P){if(t.visible!==!1&&!(n&&F!==t._id))if(L===""||!M2.isGrouped(t)){var O="~~i"+v;u.push(O),l[O]=[P],v++}else u.indexOf(L)===-1?(u.push(L),s=!0,l[L]=[P]):l[L].push(P)}for(b=0;b<r.length;b++){var M=r[b],m=M[0],k=m.trace,S=k.legend,x=k.legendgroup;if(!(!a&&(!k.visible||!k.showlegend)))if(r9.traceIs(k,"pie-like"))for(f[x]||(f[x]={}),y=0;y<M.length;y++){var T=M[y].label;f[x][T]||(w(S,x,{label:T,color:M[y].color,i:M[y].i,trace:k,pts:M[y].pts}),f[x][T]=!0,p=Math.max(p,(T||"").length))}else w(S,x,m),p=Math.max(p,(k.name||"").length)}if(!u.length)return[];var d=!s||!o,_=[];for(b=0;b<u.length;b++){var g=l[u[b]];d?_.push(g[0]):_.push(g)}for(d&&(_=[_]),b=0;b<_.length;b++){var c=1/0;for(y=0;y<_[b].length;y++){var A=_[b][y].trace.legendrank;c>A&&(c=A)}_[b][0]._groupMinRank=c,_[b][0]._preGroupSort=b}var h=function(F,L){return F[0]._groupMinRank-L[0]._groupMinRank||F[0]._preGroupSort-L[0]._preGroupSort},R=function(F,L){return F.trace.legendrank-L.trace.legendrank||F._preSort-L._preSort};for(_.forEach(function(F,L){F[0]._preGroupSort=L}),_.sort(h),b=0;b<_.length;b++){_[b].forEach(function(F,L){F._preSort=L}),_[b].sort(R);var E=_[b][0].trace,D=null;for(y=0;y<_[b].length;y++){var N=_[b][y].trace.legendgrouptitle;if(N&&N.text){D=N,a&&(N.font=t._groupTitleFont);break}}if(i&&_[b].reverse(),D){var I=!1;for(y=0;y<_[b].length;y++)if(r9.traceIs(_[b][y].trace,"pie-like")){I=!0;break}_[b].unshift({i:-1,groupTitle:D,noClick:I,trace:{showlegend:E.showlegend,legendgroup:E.legendgroup,visible:t.groupclick==="toggleitem"?!0:E.visible}})}for(y=0;y<_[b].length;y++)_[b][y]=[_[b][y]]}return t._lgroupsLength=_.length,t._maxNameLength=p,_}});var T2=pe(Gl=>{"use strict";var Qv=ir();function a9(e){return e.indexOf("e")!==-1?e.replace(/[.]?0+e/,"e"):e.indexOf(".")!==-1?e.replace(/[.]?0+$/,""):e}Gl.formatPiePercent=function(r,t){var n=a9((r*100).toPrecision(3));return Qv.numSeparate(n,t)+"%"};Gl.formatPieValue=function(r,t){var n=a9(r.toPrecision(10));return Qv.numSeparate(n,t)};Gl.getFirstFilled=function(r,t){if(Qv.isArrayOrTypedArray(r))for(var n=0;n<t.length;n++){var a=r[t[n]];if(a||a===0||a==="")return a}};Gl.castOption=function(r,t){if(Qv.isArrayOrTypedArray(r))return Gl.getFirstFilled(r,t);if(r)return r};Gl.getRotationAngle=function(e){return(e==="auto"?0:e)*Math.PI/180}});var o9=pe((Uce,i9)=>{"use strict";var ZX=yt(),JX=Zr();i9.exports=function(r,t,n,a){var o=n.marker.pattern;o&&o.shape?ZX.pointStyle(r,n,a,t):JX.fill(r,t.color)}});var f9=pe((Hce,u9)=>{"use strict";var l9=Zr(),s9=T2().castOption,KX=o9();u9.exports=function(r,t,n,a){var o=n.marker.line,i=s9(o.color,t.pts)||l9.defaultLine,l=s9(o.width,t.pts)||0;r.call(KX,t,n,a).style("stroke-width",l).call(l9.stroke,i)}});var C2=pe((Vce,g9)=>{"use strict";var Bn=it(),A2=Er(),En=ir(),c9=En.strTranslate,Wn=yt(),Pa=Zr(),k2=Si().extractOpts,$v=oa(),QX=f9(),$X=T2().castOption,jX=w2(),v9=12,h9=5,Yl=2,eZ=10,nu=5;g9.exports=function(r,t,n){var a=t._fullLayout;n||(n=a.legend);var o=n.itemsizing==="constant",i=n.itemwidth,l=(i+jX.itemGap*2)/2,u=c9(l,0),s=function(_,g,c,A){var h;if(_+1)h=_;else if(g&&g.width>0)h=g.width;else return 0;return o?A:Math.min(h,c)};r.each(function(_){var g=Bn.select(this),c=En.ensureSingle(g,"g","layers");c.style("opacity",_[0].trace.opacity);var A=n.indentation,h=n.valign,R=_[0].lineHeight,E=_[0].height;if(h==="middle"&&A===0||!R||!E)c.attr("transform",null);else{var D={top:1,bottom:-1}[h],N=D*(.5*(R-E+3))||0,I=n.indentation;c.attr("transform",c9(I,N))}var F=c.selectAll("g.legendfill").data([_]);F.enter().append("g").classed("legendfill",!0);var L=c.selectAll("g.legendlines").data([_]);L.enter().append("g").classed("legendlines",!0);var P=c.selectAll("g.legendsymbols").data([_]);P.enter().append("g").classed("legendsymbols",!0),P.selectAll("g.legendpoints").data([_]).enter().append("g").classed("legendpoints",!0)}).each(d).each(p).each(y).each(b).each(M).each(x).each(S).each(f).each(v).each(m).each(k);function f(_){var g=d9(_),c=g.showFill,A=g.showLine,h=g.showGradientLine,R=g.showGradientFill,E=g.anyFill,D=g.anyLine,N=_[0],I=N.trace,F,L,P=k2(I),O=P.colorscale,U=P.reversescale,X=function(Q){if(Q.size())if(c)Wn.fillGroupStyle(Q,t,!0);else{var oe="legendfill-"+I.uid;Wn.gradient(Q,t,oe,S2(U),O,"fill")}},j=function(Q){if(Q.size()){var oe="legendline-"+I.uid;Wn.lineGroupStyle(Q),Wn.gradient(Q,t,oe,S2(U),O,"stroke")}},$=$v.hasMarkers(I)||!E?"M5,0":D?"M5,-2":"M5,-3",Y=Bn.select(this),q=Y.select(".legendfill").selectAll("path").data(c||R?[_]:[]);if(q.enter().append("path").classed("js-fill",!0),q.exit().remove(),q.attr("d",$+"h"+i+"v6h-"+i+"z").call(X),A||h){var Z=s(void 0,I.line,eZ,h9);L=En.minExtend(I,{line:{width:Z}}),F=[En.minExtend(N,{trace:L})]}var ne=Y.select(".legendlines").selectAll("path").data(A||h?[F]:[]);ne.enter().append("path").classed("js-line",!0),ne.exit().remove(),ne.attr("d",$+(h?"l"+i+",0.0001":"h"+i)).call(A?Wn.lineGroupStyle:j)}function v(_){var g=d9(_),c=g.anyFill,A=g.anyLine,h=g.showLine,R=g.showMarker,E=_[0],D=E.trace,N=!R&&!A&&!c&&$v.hasText(D),I,F;function L(q,Z,ne,Q){var oe=En.nestedProperty(D,q).get(),ee=En.isArrayOrTypedArray(oe)&&Z?Z(oe):oe;if(o&&ee&&Q!==void 0&&(ee=Q),ne){if(ee<ne[0])return ne[0];if(ee>ne[1])return ne[1]}return ee}function P(q){return E._distinct&&E.index&&q[E.index]?q[E.index]:q[0]}if(R||N||h){var O={},U={};if(R){O.mc=L("marker.color",P),O.mx=L("marker.symbol",P),O.mo=L("marker.opacity",En.mean,[.2,1]),O.mlc=L("marker.line.color",P),O.mlw=L("marker.line.width",En.mean,[0,5],Yl),U.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var X=L("marker.size",En.mean,[2,16],v9);O.ms=X,U.marker.size=X}h&&(U.line={width:L("line.width",P,[0,10],h9)}),N&&(O.tx="Aa",O.tp=L("textposition",P),O.ts=10,O.tc=L("textfont.color",P),O.tf=L("textfont.family",P),O.tw=L("textfont.weight",P),O.ty=L("textfont.style",P),O.tv=L("textfont.variant",P),O.tC=L("textfont.textcase",P),O.tE=L("textfont.lineposition",P),O.tS=L("textfont.shadow",P)),I=[En.minExtend(E,O)],F=En.minExtend(D,U),F.selectedpoints=null,F.texttemplate=null}var j=Bn.select(this).select("g.legendpoints"),$=j.selectAll("path.scatterpts").data(R?I:[]);$.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",u),$.exit().remove(),$.call(Wn.pointStyle,F,t),R&&(I[0].mrc=3);var Y=j.selectAll("g.pointtext").data(N?I:[]);Y.enter().append("g").classed("pointtext",!0).append("text").attr("transform",u),Y.exit().remove(),Y.selectAll("text").call(Wn.textPointStyle,F,t)}function p(_){var g=_[0].trace,c=g.type==="waterfall";if(_[0]._distinct&&c){var A=_[0].trace[_[0].dir].marker;return _[0].mc=A.color,_[0].mlw=A.line.width,_[0].mlc=A.line.color,w(_,this,"waterfall")}var h=[];g.visible&&c&&(h=_[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var R=Bn.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(h);R.enter().append("path").classed("legendwaterfall",!0).attr("transform",u).style("stroke-miterlimit",1),R.exit().remove(),R.each(function(E){var D=Bn.select(this),N=g[E[0]].marker,I=s(void 0,N.line,nu,Yl);D.attr("d",E[1]).style("stroke-width",I+"px").call(Pa.fill,N.color),I&&D.call(Pa.stroke,N.line.color)})}function b(_){w(_,this)}function y(_){w(_,this,"funnel")}function w(_,g,c){var A=_[0].trace,h=A.marker||{},R=h.line||{},E=h.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",D=c?A.visible&&A.type===c:A2.traceIs(A,"bar"),N=Bn.select(g).select("g.legendpoints").selectAll("path.legend"+c).data(D?[_]:[]);N.enter().append("path").classed("legend"+c,!0).attr("d",E).attr("transform",u),N.exit().remove(),N.each(function(I){var F=Bn.select(this),L=I[0],P=s(L.mlw,h.line,nu,Yl);F.style("stroke-width",P+"px");var O=L.mcc;if(!n._inHover&&"mc"in L){var U=k2(h),X=U.mid;X===void 0&&(X=(U.max+U.min)/2),O=Wn.tryColorscale(h,"")(X)}var j=O||L.mc||h.color,$=h.pattern,Y=$&&Wn.getPatternAttr($.shape,0,"");if(Y){var q=Wn.getPatternAttr($.bgcolor,0,null),Z=Wn.getPatternAttr($.fgcolor,0,null),ne=$.fgopacity,Q=p9($.size,8,10),oe=p9($.solidity,.5,1),ee="legend-"+A.uid;F.call(Wn.pattern,"legend",t,ee,Y,Q,oe,O,$.fillmode,q,Z,ne)}else F.call(Pa.fill,j);P&&Pa.stroke(F,L.mlc||R.color)})}function M(_){var g=_[0].trace,c=Bn.select(this).select("g.legendpoints").selectAll("path.legendbox").data(g.visible&&A2.traceIs(g,"box-violin")?[_]:[]);c.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",u),c.exit().remove(),c.each(function(){var A=Bn.select(this);if((g.boxpoints==="all"||g.points==="all")&&Pa.opacity(g.fillcolor)===0&&Pa.opacity((g.line||{}).color)===0){var h=En.minExtend(g,{marker:{size:o?v9:En.constrain(g.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});c.call(Wn.pointStyle,h,t)}else{var R=s(void 0,g.line,nu,Yl);A.style("stroke-width",R+"px").call(Pa.fill,g.fillcolor),R&&Pa.stroke(A,g.line.color)}})}function m(_){var g=_[0].trace,c=Bn.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(g.visible&&g.type==="candlestick"?[_,_]:[]);c.enter().append("path").classed("legendcandle",!0).attr("d",function(A,h){return h?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",u).style("stroke-miterlimit",1),c.exit().remove(),c.each(function(A,h){var R=Bn.select(this),E=g[h?"increasing":"decreasing"],D=s(void 0,E.line,nu,Yl);R.style("stroke-width",D+"px").call(Pa.fill,E.fillcolor),D&&Pa.stroke(R,E.line.color)})}function k(_){var g=_[0].trace,c=Bn.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(g.visible&&g.type==="ohlc"?[_,_]:[]);c.enter().append("path").classed("legendohlc",!0).attr("d",function(A,h){return h?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",u).style("stroke-miterlimit",1),c.exit().remove(),c.each(function(A,h){var R=Bn.select(this),E=g[h?"increasing":"decreasing"],D=s(void 0,E.line,nu,Yl);R.style("fill","none").call(Wn.dashLine,E.line.dash,D),D&&Pa.stroke(R,E.line.color)})}function S(_){T(_,this,"pie")}function x(_){T(_,this,"funnelarea")}function T(_,g,c){var A=_[0],h=A.trace,R=c?h.visible&&h.type===c:A2.traceIs(h,c),E=Bn.select(g).select("g.legendpoints").selectAll("path.legend"+c).data(R?[_]:[]);if(E.enter().append("path").classed("legend"+c,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",u),E.exit().remove(),E.size()){var D=h.marker||{},N=s($X(D.line.width,A.pts),D.line,nu,Yl),I="pieLike",F=En.minExtend(h,{marker:{line:{width:N}}},I),L=En.minExtend(A,{trace:F},I);QX(E,L,F,t)}}function d(_){var g=_[0].trace,c,A=[];if(g.visible)switch(g.type){case"histogram2d":case"heatmap":A=[["M-15,-2V4H15V-2Z"]],c=!0;break;case"choropleth":case"choroplethmapbox":case"choroplethmap":A=[["M-6,-6V6H6V-6Z"]],c=!0;break;case"densitymapbox":case"densitymap":A=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],c="radial";break;case"cone":A=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],c=!1;break;case"streamtube":A=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],c=!1;break;case"surface":A=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],c=!0;break;case"mesh3d":A=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],c=!1;break;case"volume":A=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],c=!0;break;case"isosurface":A=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],c=!1;break}var h=Bn.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(A);h.enter().append("path").classed("legend3dandfriends",!0).attr("transform",u).style("stroke-miterlimit",1),h.exit().remove(),h.each(function(R,E){var D=Bn.select(this),N=k2(g),I=N.colorscale,F=N.reversescale,L=function(X){if(X.size()){var j="legendfill-"+g.uid;Wn.gradient(X,t,j,S2(F,c==="radial"),I,"fill")}},P;if(I){if(!c){var U=I.length;P=E===0?I[F?U-1:0][1]:E===1?I[F?0:U-1][1]:I[Math.floor((U-1)/2)][1]}}else{var O=g.vertexcolor||g.facecolor||g.color;P=En.isArrayOrTypedArray(O)?O[E]||O[0]:O}D.attr("d",R[0]),P?D.call(Pa.fill,P):D.call(L)})}};function S2(e,r){var t=r?"radial":"horizontal";return t+(e?"":"reversed")}function d9(e){var r=e[0].trace,t=r.contours,n=$v.hasLines(r),a=$v.hasMarkers(r),o=r.visible&&r.fill&&r.fill!=="none",i=!1,l=!1;if(t){var u=t.coloring;u==="lines"?i=!0:n=u==="none"||u==="heatmap"||t.showlines,t.type==="constraint"?o=t._operation!=="=":(u==="fill"||u==="heatmap")&&(l=!0)}return{showMarker:a,showLine:n,showFill:o,showGradientLine:i,showGradientFill:l,anyLine:n||i,anyFill:o||l}}function p9(e,r,t){return e&&En.isArrayOrTypedArray(e)?r:e>t?t:e}});var D2=pe((Gce,k9)=>{"use strict";var la=it(),Xt=ir(),L2=ln(),ou=Er(),y9=mf(),E2=ti(),Zt=yt(),eh=Zr(),Wl=Yn(),m9=jM(),en=w2(),R2=qn(),T9=R2.LINE_SPACING,iu=R2.FROM_TL,x9=R2.FROM_BR,b9=n9(),rZ=C2(),_9=Kv(),au=1,tZ=/^legend[0-9]*$/;k9.exports=function(r,t){if(t)w9(r,t);else{var n=r._fullLayout,a=n._legends,o=n._infolayer.selectAll('[class^="legend"]');o.each(function(){var s=la.select(this),f=s.attr("class"),v=f.split(" ")[0];v.match(tZ)&&a.indexOf(v)===-1&&s.remove()});for(var i=0;i<a.length;i++){var l=a[i],u=r._fullLayout[l];w9(r,u)}}};function nZ(e,r,t){if(!(r.title.side!=="top center"&&r.title.side!=="top right")){var n=r.title.font,a=n.size*T9,o=0,i=e.node(),l=Zt.bBox(i).width;r.title.side==="top center"?o=.5*(r._width-2*t-2*en.titlePad-l):r.title.side==="top right"&&(o=r._width-2*t-2*en.titlePad-l),Wl.positionText(e,t+en.titlePad+o,t+a)}}function w9(e,r){var t=r||{},n=e._fullLayout,a=ah(t),o,i,l=t._inHover;if(l?(i=t.layer,o="hover"):(i=n._infolayer,o=a),!!i){o+=n._uid,e._legendMouseDownTime||(e._legendMouseDownTime=0);var u;if(l){if(!t.entries)return;u=b9(t.entries,t)}else{for(var s=(e.calcdata||[]).slice(),f=n.shapes,v=0;v<f.length;v++){var p=f[v];if(p.showlegend){var b={_isShape:!0,_fullInput:p,index:p._index,name:p.name||p.label.text||"shape "+p._index,legend:p.legend,legendgroup:p.legendgroup,legendgrouptitle:p.legendgrouptitle,legendrank:p.legendrank,legendwidth:p.legendwidth,showlegend:p.showlegend,visible:p.visible,opacity:p.opacity,mode:p.type==="line"?"lines":"markers",line:p.line,marker:{line:p.line,color:p.fillcolor,size:12,symbol:p.type==="rect"?"square":p.type==="circle"?"circle":"hexagon2"}};s.push([{trace:b}])}}u=n.showlegend&&b9(s,t,n._legends.length>1)}var y=n.hiddenlabels||[];if(!l&&(!n.showlegend||!u.length))return i.selectAll("."+a).remove(),n._topdefs.select("#"+o).remove(),L2.autoMargin(e,a);var w=Xt.ensureSingle(i,"g",a,function(g){l||g.attr("pointer-events","all")}),M=Xt.ensureSingleById(n._topdefs,"clipPath",o,function(g){g.append("rect")}),m=Xt.ensureSingle(w,"rect","bg",function(g){g.attr("shape-rendering","crispEdges")});m.call(eh.stroke,t.bordercolor).call(eh.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px");var k=Xt.ensureSingle(w,"g","scrollbox"),S=t.title;t._titleWidth=0,t._titleHeight=0;var x;S.text?(x=Xt.ensureSingle(k,"text",a+"titletext"),x.attr("text-anchor","start").call(Zt.font,S.font).text(S.text),rh(x,k,e,t,au)):k.selectAll("."+a+"titletext").remove();var T=Xt.ensureSingle(w,"rect","scrollbar",function(g){g.attr(en.scrollBarEnterAttrs).call(eh.fill,en.scrollBarColor)}),d=k.selectAll("g.groups").data(u);d.enter().append("g").attr("class","groups"),d.exit().remove();var _=d.selectAll("g.traces").data(Xt.identity);_.enter().append("g").attr("class","traces"),_.exit().remove(),_.style("opacity",function(g){var c=g[0].trace;return ou.traceIs(c,"pie-like")?y.indexOf(g[0].label)!==-1?.5:1:c.visible==="legendonly"?.5:1}).each(function(){la.select(this).call(aZ,e,t)}).call(rZ,e,t).each(function(){l||la.select(this).call(iZ,e,a)}),Xt.syncOrAsync([L2.previousPromises,function(){return sZ(e,d,_,t)},function(){var g=n._size,c=t.borderwidth,A=t.xref==="paper",h=t.yref==="paper";if(S.text&&nZ(x,t,c),!l){var R,E;A?R=g.l+g.w*t.x-iu[th(t)]*t._width:R=n.width*t.x-iu[th(t)]*t._width,h?E=g.t+g.h*(1-t.y)-iu[nh(t)]*t._effHeight:E=n.height*(1-t.y)-iu[nh(t)]*t._effHeight;var D=uZ(e,a,R,E);if(D)return;if(n.margin.autoexpand){var N=R,I=E;R=A?Xt.constrain(R,0,n.width-t._width):N,E=h?Xt.constrain(E,0,n.height-t._effHeight):I,R!==N&&Xt.log("Constrain "+a+".x to make legend fit inside graph"),E!==I&&Xt.log("Constrain "+a+".y to make legend fit inside graph")}Zt.setTranslate(w,R,E)}if(T.on(".drag",null),w.on("wheel",null),l||t._height<=t._maxHeight||e._context.staticPlot){var F=t._effHeight;l&&(F=t._height),m.attr({width:t._width-c,height:F-c,x:c/2,y:c/2}),Zt.setTranslate(k,0,0),M.select("rect").attr({width:t._width-2*c,height:F-2*c,x:c,y:c}),Zt.setClipUrl(k,o,e),Zt.setRect(T,0,0,0,0),delete t._scrollY}else{var L=Math.max(en.scrollBarMinHeight,t._effHeight*t._effHeight/t._height),P=t._effHeight-L-2*en.scrollBarMargin,O=t._height-t._effHeight,U=P/O,X=Math.min(t._scrollY||0,O);m.attr({width:t._width-2*c+en.scrollBarWidth+en.scrollBarMargin,height:t._effHeight-c,x:c/2,y:c/2}),M.select("rect").attr({width:t._width-2*c+en.scrollBarWidth+en.scrollBarMargin,height:t._effHeight-2*c,x:c,y:c+X}),Zt.setClipUrl(k,o,e),oe(X,L,U),w.on("wheel",function(){X=Xt.constrain(t._scrollY+la.event.deltaY/P*O,0,O),oe(X,L,U),X!==0&&X!==O&&la.event.preventDefault()});var j,$,Y,q=function(te,ue,de){var Ee=(de-ue)/U+te;return Xt.constrain(Ee,0,O)},Z=function(te,ue,de){var Ee=(ue-de)/U+te;return Xt.constrain(Ee,0,O)},ne=la.behavior.drag().on("dragstart",function(){var te=la.event.sourceEvent;te.type==="touchstart"?j=te.changedTouches[0].clientY:j=te.clientY,Y=X}).on("drag",function(){var te=la.event.sourceEvent;te.buttons===2||te.ctrlKey||(te.type==="touchmove"?$=te.changedTouches[0].clientY:$=te.clientY,X=q(Y,j,$),oe(X,L,U))});T.call(ne);var Q=la.behavior.drag().on("dragstart",function(){var te=la.event.sourceEvent;te.type==="touchstart"&&(j=te.changedTouches[0].clientY,Y=X)}).on("drag",function(){var te=la.event.sourceEvent;te.type==="touchmove"&&($=te.changedTouches[0].clientY,X=Z(Y,j,$),oe(X,L,U))});k.call(Q)}function oe(te,ue,de){t._scrollY=e._fullLayout[a]._scrollY=te,Zt.setTranslate(k,0,-te),Zt.setRect(T,t._width,en.scrollBarMargin+te*de,en.scrollBarWidth,ue),M.select("rect").attr("y",c+te)}if(e._context.edits.legendPosition){var ee,G,re,H;w.classed("cursor-move",!0),E2.init({element:w.node(),gd:e,prepFn:function(te){if(te.target!==T.node()){var ue=Zt.getTranslate(w);re=ue.x,H=ue.y}},moveFn:function(te,ue){if(re!==void 0&&H!==void 0){var de=re+te,Ee=H+ue;Zt.setTranslate(w,de,Ee),ee=E2.align(de,t._width,g.l,g.l+g.w,t.xanchor),G=E2.align(Ee+t._height,-t._height,g.t+g.h,g.t,t.yanchor)}},doneFn:function(){if(ee!==void 0&&G!==void 0){var te={};te[a+".x"]=ee,te[a+".y"]=G,ou.call("_guiRelayout",e,te)}},clickFn:function(te,ue){var de=i.selectAll("g.traces").filter(function(){var Ee=this.getBoundingClientRect();return ue.clientX>=Ee.left&&ue.clientX<=Ee.right&&ue.clientY>=Ee.top&&ue.clientY<=Ee.bottom});de.size()>0&&A9(e,w,de,te,ue)}})}}],e)}}function jv(e,r,t){var n=e[0],a=n.width,o=r.entrywidthmode,i=n.trace.legendwidth||r.entrywidth;return o==="fraction"?r._maxWidth*i:t+(i||a)}function A9(e,r,t,n,a){var o=t.data()[0][0].trace,i={event:a,node:t.node(),curveNumber:o.index,expandedIndex:o.index,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};o._group&&(i.group=o._group),ou.traceIs(o,"pie-like")&&(i.label=t.datum()[0].label);var l=y9.triggerHandler(e,"plotly_legendclick",i);if(n===1){if(l===!1)return;r._clickTimeout=setTimeout(function(){e._fullLayout&&m9(t,e,n)},e._context.doubleClickDelay)}else if(n===2){r._clickTimeout&&clearTimeout(r._clickTimeout),e._legendMouseDownTime=0;var u=y9.triggerHandler(e,"plotly_legenddoubleclick",i);u!==!1&&l!==!1&&m9(t,e,n)}}function aZ(e,r,t){var n=ah(t),a=e.data()[0][0],o=a.trace,i=ou.traceIs(o,"pie-like"),l=!t._inHover&&r._context.edits.legendText&&!i,u=t._maxNameLength,s,f;a.groupTitle?(s=a.groupTitle.text,f=a.groupTitle.font):(f=t.font,t.entries?s=a.text:(s=i?a.label:o.name,o._meta&&(s=Xt.templateString(s,o._meta))));var v=Xt.ensureSingle(e,"text",n+"text");v.attr("text-anchor","start").call(Zt.font,f).text(l?M9(s,u):s);var p=t.indentation+t.itemwidth+en.itemGap*2;Wl.positionText(v,p,0),l?v.call(Wl.makeEditable,{gd:r,text:s}).call(rh,e,r,t).on("edit",function(b){this.text(M9(b,u)).call(rh,e,r,t);var y=a.trace._fullInput||{},w={};return w.name=b,y._isShape?ou.call("_guiRelayout",r,"shapes["+o.index+"].name",w.name):ou.call("_guiRestyle",r,w,o.index)}):rh(v,e,r,t)}function M9(e,r){var t=Math.max(4,r);if(e&&e.trim().length>=t/2)return e;e=e||"";for(var n=t-e.length;n>0;n--)e+=" ";return e}function iZ(e,r,t){var n=r._context.doubleClickDelay,a,o=1,i=Xt.ensureSingle(e,"rect",t+"toggle",function(l){r._context.staticPlot||l.style("cursor","pointer").attr("pointer-events","all"),l.call(eh.fill,"rgba(0,0,0,0)")});r._context.staticPlot||(i.on("mousedown",function(){a=new Date().getTime(),a-r._legendMouseDownTime<n?o+=1:(o=1,r._legendMouseDownTime=a)}),i.on("mouseup",function(){if(!(r._dragged||r._editing)){var l=r._fullLayout[t];new Date().getTime()-r._legendMouseDownTime>n&&(o=Math.max(o-1,1)),A9(r,l,e,o,la.event)}}))}function rh(e,r,t,n,a){n._inHover&&e.attr("data-notex",!0),Wl.convertToTspans(e,t,function(){oZ(r,t,n,a)})}function oZ(e,r,t,n){var a=e.data()[0][0];if(!t._inHover&&a&&!a.trace.showlegend){e.remove();return}var o=e.select("g[class*=math-group]"),i=o.node(),l=ah(t);t||(t=r._fullLayout[l]);var u=t.borderwidth,s;n===au?s=t.title.font:a.groupTitle?s=a.groupTitle.font:s=t.font;var f=s.size*T9,v,p;if(i){var b=Zt.bBox(i);v=b.height,p=b.width,n===au?Zt.setTranslate(o,u,u+v*.75):Zt.setTranslate(o,0,v*.25)}else{var y="."+l+(n===au?"title":"")+"text",w=e.select(y),M=Wl.lineCount(w),m=w.node();if(v=f*M,p=m?Zt.bBox(m).width:0,n===au)t.title.side==="left"&&(p+=en.itemGap*2),Wl.positionText(w,u+en.titlePad,u+f);else{var k=en.itemGap*2+t.indentation+t.itemwidth;a.groupTitle&&(k=en.itemGap,p-=t.indentation+t.itemwidth),Wl.positionText(w,k,-f*((M-1)/2-.3))}}n===au?(t._titleWidth=p,t._titleHeight=v):(a.lineHeight=f,a.height=Math.max(v,16)+3,a.width=p)}function lZ(e){var r=0,t=0,n=e.title.side;return n&&(n.indexOf("left")!==-1&&(r=e._titleWidth),n.indexOf("top")!==-1&&(t=e._titleHeight)),[r,t]}function sZ(e,r,t,n){var a=e._fullLayout,o=ah(n);n||(n=a[o]);var i=a._size,l=_9.isVertical(n),u=_9.isGrouped(n),s=n.entrywidthmode==="fraction",f=n.borderwidth,v=2*f,p=en.itemGap,b=n.indentation+n.itemwidth+p*2,y=2*(f+p),w=nh(n),M=n.y<0||n.y===0&&w==="top",m=n.y>1||n.y===1&&w==="bottom",k=n.tracegroupgap,S={};n._maxHeight=Math.max(M||m?a.height/2:i.h,30);var x=0;n._width=0,n._height=0;var T=lZ(n);if(l)t.each(function(Y){var q=Y[0].height;Zt.setTranslate(this,f+T[0],f+T[1]+n._height+q/2+p),n._height+=q,n._width=Math.max(n._width,Y[0].width)}),x=b+n._width,n._width+=p+b+v,n._height+=y,u&&(r.each(function(Y,q){Zt.setTranslate(this,0,q*n.tracegroupgap)}),n._height+=(n._lgroupsLength-1)*n.tracegroupgap);else{var d=th(n),_=n.x<0||n.x===0&&d==="right",g=n.x>1||n.x===1&&d==="left",c=m||M,A=a.width/2;n._maxWidth=Math.max(_?c&&d==="left"?i.l+i.w:A:g?c&&d==="right"?i.r+i.w:A:i.w,2*b);var h=0,R=0;t.each(function(Y){var q=jv(Y,n,b);h=Math.max(h,q),R+=q}),x=null;var E=0;if(u){var D=0,N=0,I=0;r.each(function(){var Y=0,q=0;la.select(this).selectAll("g.traces").each(function(ne){var Q=jv(ne,n,b),oe=ne[0].height;Zt.setTranslate(this,T[0],T[1]+f+p+oe/2+q),q+=oe,Y=Math.max(Y,Q),S[ne[0].trace.legendgroup]=Y});var Z=Y+p;N>0&&Z+f+N>n._maxWidth?(E=Math.max(E,N),N=0,I+=D+k,D=q):D=Math.max(D,q),Zt.setTranslate(this,N,I),N+=Z}),n._width=Math.max(E,N)+f,n._height=I+D+y}else{var F=t.size(),L=R+v+(F-1)*p<n._maxWidth,P=0,O=0,U=0,X=0;t.each(function(Y){var q=Y[0].height,Z=jv(Y,n,b,u),ne=L?Z:h;s||(ne+=p),ne+f+O-p>=n._maxWidth&&(E=Math.max(E,X),O=0,U+=P,n._height+=P,P=0),Zt.setTranslate(this,T[0]+f+O,T[1]+f+U+q/2+p),X=O+Z+p,O+=ne,P=Math.max(P,q)}),L?(n._width=O+v,n._height=P+y):(n._width=Math.max(E,X)+v,n._height+=P+y)}}n._width=Math.ceil(Math.max(n._width+T[0],n._titleWidth+2*(f+en.titlePad))),n._height=Math.ceil(Math.max(n._height+T[1],n._titleHeight+2*(f+en.itemGap))),n._effHeight=Math.min(n._height,n._maxHeight);var j=e._context.edits,$=j.legendText||j.legendPosition;t.each(function(Y){var q=la.select(this).select("."+o+"toggle"),Z=Y[0].height,ne=Y[0].trace.legendgroup,Q=jv(Y,n,b);u&&ne!==""&&(Q=S[ne]);var oe=$?b:x||Q;!l&&!s&&(oe+=p/2),Zt.setRect(q,0,-Z/2,oe,Z)})}function uZ(e,r,t,n){var a=e._fullLayout,o=a[r],i=th(o),l=nh(o),u=o.xref==="paper",s=o.yref==="paper";e._fullLayout._reservedMargin[r]={};var f=o.y<.5?"b":"t",v=o.x<.5?"l":"r",p={r:a.width-t,l:t+o._width,b:a.height-n,t:n+o._effHeight};if(u&&s)return L2.autoMargin(e,r,{x:o.x,y:o.y,l:o._width*iu[i],r:o._width*x9[i],b:o._effHeight*x9[l],t:o._effHeight*iu[l]});u?e._fullLayout._reservedMargin[r][f]=p[f]:s||o.orientation==="v"?e._fullLayout._reservedMargin[r][v]=p[v]:e._fullLayout._reservedMargin[r][f]=p[f]}function th(e){return Xt.isRightAnchor(e)?"right":Xt.isCenterAnchor(e)?"center":"left"}function nh(e){return Xt.isBottomAnchor(e)?"bottom":Xt.isMiddleAnchor(e)?"middle":"top"}function ah(e){return e._id||"legend"}});var N2=pe(I2=>{"use strict";var Xl=it(),ao=rt(),S9=ka(),It=ir(),fZ=It.pushUnique,P2=It.strTranslate,cZ=It.strRotate,vZ=mf(),Fa=Yn(),hZ=JM(),Ii=yt(),un=Zr(),ih=ti(),Ni=St(),dZ=wn().zindexSeparator,su=Er(),ni=to(),Zl=sf(),pZ=x2(),gZ=D2(),I9=Zl.YANGLE,F2=Math.PI*I9/180,yZ=1/Math.sin(F2),mZ=Math.cos(F2),xZ=Math.sin(F2),Ct=Zl.HOVERARROWSIZE,$r=Zl.HOVERTEXTPAD,C9={box:!0,ohlc:!0,violin:!0,candlestick:!0},bZ={scatter:!0,scattergl:!0,splom:!0};function E9(e,r){return e.distance-r.distance}I2.hover=function(r,t,n,a){r=It.getGraphDiv(r);var o=t.target;It.throttle(r._fullLayout._uid+Zl.HOVERID,Zl.HOVERMINTIME,function(){_Z(r,t,n,a,o)})};I2.loneHover=function(r,t){var n=!0;Array.isArray(r)||(n=!1,r=[r]);var a=t.gd,o=B9(a),i=U9(a),l=r.map(function(M){var m=M._x0||M.x0||M.x||0,k=M._x1||M.x1||M.x||0,S=M._y0||M.y0||M.y||0,x=M._y1||M.y1||M.y||0,T=M.eventData;if(T){var d=Math.min(m,k),_=Math.max(m,k),g=Math.min(S,x),c=Math.max(S,x),A=M.trace;if(su.traceIs(A,"gl3d")){var h=a._fullLayout[A.scene]._scene.container,R=h.offsetLeft,E=h.offsetTop;d+=R,_+=R,g+=E,c+=E}T.bbox={x0:d+i,x1:_+i,y0:g+o,y1:c+o},t.inOut_bbox&&t.inOut_bbox.push(T.bbox)}else T=!1;return{color:M.color||un.defaultLine,x0:M.x0||M.x||0,x1:M.x1||M.x||0,y0:M.y0||M.y||0,y1:M.y1||M.y||0,xLabel:M.xLabel,yLabel:M.yLabel,zLabel:M.zLabel,text:M.text,name:M.name,idealAlign:M.idealAlign,borderColor:M.borderColor,fontFamily:M.fontFamily,fontSize:M.fontSize,fontColor:M.fontColor,fontWeight:M.fontWeight,fontStyle:M.fontStyle,fontVariant:M.fontVariant,nameLength:M.nameLength,textAlign:M.textAlign,trace:M.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:M.hovertemplate||!1,hovertemplateLabels:M.hovertemplateLabels||!1,eventData:T}}),u=!1,s=z9(l,{gd:a,hovermode:"closest",rotateLabels:u,bgColor:t.bgColor||un.background,container:Xl.select(t.container),outerContainer:t.outerContainer||t.container}),f=s.hoverLabels,v=5,p=0,b=0;f.sort(function(M,m){return M.y0-m.y0}).each(function(M,m){var k=M.y0-M.by/2;k-v<p?M.offset=p-k+v:M.offset=0,p=k+M.by+M.offset,m===t.anchorIndex&&(b=M.offset)}).each(function(M){M.offset-=b});var y=a._fullLayout._invScaleX,w=a._fullLayout._invScaleY;return O9(f,u,y,w),n?f:f.node()};function _Z(e,r,t,n,a){t||(t="xy"),typeof t=="string"&&(t=t.split(dZ)[0]);var o=Array.isArray(t)?t:[t],i,l=e._fullLayout,u=l.hoversubplots,s=l._plots||[],f=s[t],v=l._has("cartesian"),p=r.hovermode||l.hovermode,b=(p||"").charAt(0)==="x",y=(p||"").charAt(0)==="y",w,M;if(v&&(b||y)&&u==="axis"){for(var m=o.length,k=0;k<m;k++)if(i=o[k],s[i]){w=Ni.getFromId(e,i,"x"),M=Ni.getFromId(e,i,"y");var S=(b?w:M)._subplotsWith;if(S&&S.length)for(var x=0;x<S.length;x++)fZ(o,S[x])}}if(f&&u!=="single"){var T=f.overlays.map(function(mr){return mr.id});o=o.concat(T)}for(var d=o.length,_=new Array(d),g=new Array(d),c=!1,A=0;A<d;A++)if(i=o[A],s[i])c=!0,_[A]=s[i].xaxis,g[A]=s[i].yaxis;else if(l[i]&&l[i]._subplot){var h=l[i]._subplot;_[A]=h.xaxis,g[A]=h.yaxis}else{It.warn("Unrecognized subplot: "+i);return}if(p&&!c&&(p="closest"),["x","y","closest","x unified","y unified"].indexOf(p)===-1||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return ih.unhoverRaw(e,r);var R=l.hoverdistance;R===-1&&(R=1/0);var E=l.spikedistance;E===-1&&(E=1/0);var D=[],N=[],I,F,L,P,O,U,X,j,$,Y,q,Z,ne,Q={hLinePoint:null,vLinePoint:null},oe=!1;if(Array.isArray(r))for(p="array",L=0;L<r.length;L++)O=e.calcdata[r[L].curveNumber||0],O&&(U=O[0].trace,O[0].trace.hoverinfo!=="skip"&&(N.push(O),U.orientation==="h"&&(oe=!0)));else{var ee=e.calcdata.slice();for(ee.sort(function(mr,ct){var Sr=mr[0].trace.zorder||0,Ur=ct[0].trace.zorder||0;return Sr-Ur}),P=0;P<ee.length;P++)O=ee[P],U=O[0].trace,U.hoverinfo!=="skip"&&ni.isTraceInSubplots(U,o)&&(N.push(O),U.orientation==="h"&&(oe=!0));var G=!a,re,H;if(G)"xpx"in r?re=r.xpx:re=_[0]._length/2,"ypx"in r?H=r.ypx:H=g[0]._length/2;else{if(vZ.triggerHandler(e,"plotly_beforehover",r)===!1)return;var te=a.getBoundingClientRect();re=r.clientX-te.left,H=r.clientY-te.top,l._calcInverseTransform(e);var ue=It.apply3DTransform(l._invTransform)(re,H);if(re=ue[0],H=ue[1],re<0||re>_[0]._length||H<0||H>g[0]._length)return ih.unhoverRaw(e,r)}if(r.pointerX=re+_[0]._offset,r.pointerY=H+g[0]._offset,"xval"in r?I=ni.flat(o,r.xval):I=ni.p2c(_,re),"yval"in r?F=ni.flat(o,r.yval):F=ni.p2c(g,H),!ao(I[0])||!ao(F[0]))return It.warn("Fx.hover failed",r,e),ih.unhoverRaw(e,r)}var de=1/0;function Ee(mr,ct){for(P=0;P<N.length;P++)if(O=N[P],!(!O||!O[0]||!O[0].trace)&&(U=O[0].trace,!(U.visible!==!0||U._length===0)&&["carpet","contourcarpet"].indexOf(U._module.name)===-1)){if($=p,ni.isUnifiedHover($)&&($=$.charAt(0)),U.type==="splom"?(j=0,X=o[j]):(X=ni.getSubplot(U),j=o.indexOf(X)),Z={cd:O,trace:U,xa:_[j],ya:g[j],maxHoverDistance:R,maxSpikeDistance:E,index:!1,distance:Math.min(de,R),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:un.defaultLine,name:U.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},l[X]&&(Z.subplot=l[X]._subplot),l._splomScenes&&l._splomScenes[U.uid]&&(Z.scene=l._splomScenes[U.uid]),$==="array"){var Sr=r[P];"pointNumber"in Sr?(Z.index=Sr.pointNumber,$="closest"):($="","xval"in Sr&&(Y=Sr.xval,$="x"),"yval"in Sr&&(q=Sr.yval,$=$?"closest":"y"))}else mr!==void 0&&ct!==void 0?(Y=mr,q=ct):(Y=I[j],q=F[j]);if(ne=D.length,R!==0)if(U._module&&U._module.hoverPoints){var Ur=U._module.hoverPoints(Z,Y,q,$,{finiteRange:!0,hoverLayer:l._hoverlayer,hoversubplots:u,gd:e});if(Ur)for(var xt,zr=0;zr<Ur.length;zr++)xt=Ur[zr],ao(xt.x0)&&ao(xt.y0)&&D.push(AZ(xt,p))}else It.log("Unrecognized trace type in hover:",U);if(p==="closest"&&D.length>ne&&(D.splice(0,ne),de=D[0].distance),v&&E!==0&&D.length===0){Z.distance=E,Z.index=!1;var Hr=U._module.hoverPoints(Z,Y,q,"closest",{hoverLayer:l._hoverlayer});if(Hr&&(Hr=Hr.filter(function(nt){return nt.spikeDistance<=E})),Hr&&Hr.length){var Ot,Lt=Hr.filter(function(nt){return nt.xa.showspikes&&nt.xa.spikesnap!=="hovered data"});if(Lt.length){var yn=Lt[0];ao(yn.x0)&&ao(yn.y0)&&(Ot=ve(yn),(!Q.vLinePoint||Q.vLinePoint.spikeDistance>Ot.spikeDistance)&&(Q.vLinePoint=Ot))}var Gt=Hr.filter(function(nt){return nt.ya.showspikes&&nt.ya.spikesnap!=="hovered data"});if(Gt.length){var Rt=Gt[0];ao(Rt.x0)&&ao(Rt.y0)&&(Ot=ve(Rt),(!Q.hLinePoint||Q.hLinePoint.spikeDistance>Ot.spikeDistance)&&(Q.hLinePoint=Ot))}}}}}Ee();function Me(mr,ct,Sr){for(var Ur=null,xt=1/0,zr,Hr=0;Hr<mr.length;Hr++)w&&w._id!==mr[Hr].xa._id||M&&M._id!==mr[Hr].ya._id||(zr=mr[Hr].spikeDistance,Sr&&Hr===0&&(zr=-1/0),zr<=xt&&zr<=ct&&(Ur=mr[Hr],xt=zr));return Ur}function ve(mr){return mr?{xa:mr.xa,ya:mr.ya,x:mr.xSpike!==void 0?mr.xSpike:(mr.x0+mr.x1)/2,y:mr.ySpike!==void 0?mr.ySpike:(mr.y0+mr.y1)/2,distance:mr.distance,spikeDistance:mr.spikeDistance,curveNumber:mr.trace.index,color:mr.color,pointNumber:mr.index}:null}var Ae={fullLayout:l,container:l._hoverlayer,event:r},ke=e._spikepoints,De={vLinePoint:Q.vLinePoint,hLinePoint:Q.hLinePoint};e._spikepoints=De;var Ce=function(){var mr=D.filter(function(Sr){return w&&w._id===Sr.xa._id&&M&&M._id===Sr.ya._id}),ct=D.filter(function(Sr){return!(w&&w._id===Sr.xa._id&&M&&M._id===Sr.ya._id)});mr.sort(E9),ct.sort(E9),D=mr.concat(ct),D=SZ(D,p)};Ce();var Oe=p.charAt(0),Ue=(Oe==="x"||Oe==="y")&&D[0]&&bZ[D[0].trace.type];if(v&&E!==0&&D.length!==0){var ge=D.filter(function(mr){return mr.ya.showspikes}),Te=Me(ge,E,Ue);Q.hLinePoint=ve(Te);var ce=D.filter(function(mr){return mr.xa.showspikes}),ye=Me(ce,E,Ue);Q.vLinePoint=ve(ye)}if(D.length===0){var Le=ih.unhoverRaw(e,r);return v&&(Q.hLinePoint!==null||Q.vLinePoint!==null)&&D9(ke)&&R9(e,Q,Ae),Le}if(v&&D9(ke)&&R9(e,Q,Ae),ni.isXYhover($)&&D[0].length!==0&&D[0].trace.type!=="splom"){var me=D[0];C9[me.trace.type]?D=D.filter(function(mr){return mr.trace.index===me.trace.index}):D=[me];var he=D.length,be=F9("x",me,l),Se=F9("y",me,l);Ee(be,Se);var ze=[],Fe={},Ze=0,Ye=function(mr){var ct=C9[mr.trace.type]?N9(mr):mr.trace.index;if(!Fe[ct])Ze++,Fe[ct]=Ze,ze.push(mr);else{var Sr=Fe[ct]-1,Ur=ze[Sr];Sr>0&&Math.abs(mr.distance)<Math.abs(Ur.distance)&&(ze[Sr]=mr)}},Ge;for(Ge=0;Ge<he;Ge++)Ye(D[Ge]);for(Ge=D.length-1;Ge>he-1;Ge--)Ye(D[Ge]);D=ze,Ce()}var We=e._hoverdata,we=[],Pe=B9(e),Qe=U9(e);for(L=0;L<D.length;L++){var Ve=D[L],ar=ni.makeEventData(Ve,Ve.trace,Ve.cd);if(Ve.hovertemplate!==!1){var se=!1;Ve.cd[Ve.index]&&Ve.cd[Ve.index].ht&&(se=Ve.cd[Ve.index].ht),Ve.hovertemplate=se||Ve.trace.hovertemplate||!1}if(Ve.xa&&Ve.ya){var K=Ve.x0+Ve.xa._offset,ae=Ve.x1+Ve.xa._offset,Re=Ve.y0+Ve.ya._offset,Be=Ve.y1+Ve.ya._offset,je=Math.min(K,ae),nr=Math.max(K,ae),hr=Math.min(Re,Be),wr=Math.max(Re,Be);ar.bbox={x0:je+Qe,x1:nr+Qe,y0:hr+Pe,y1:wr+Pe}}Ve.eventData=[ar],we.push(ar)}e._hoverdata=we;var Cr=p==="y"&&(N.length>1||D.length>1)||p==="closest"&&oe&&D.length>1,Tr=un.combine(l.plot_bgcolor||un.background,l.paper_bgcolor),Ar=z9(D,{gd:e,hovermode:p,rotateLabels:Cr,bgColor:Tr,container:l._hoverlayer,outerContainer:l._paper.node(),commonLabelOpts:l.hoverlabel,hoverdistance:l.hoverdistance}),ft=Ar.hoverLabels;if(ni.isUnifiedHover(p)||(MZ(ft,Cr,l,Ar.commonLabelBoundingBox),O9(ft,Cr,l._invScaleX,l._invScaleY)),a&&a.tagName){var Yr=su.getComponentMethod("annotations","hasClickToShow")(e,we);hZ(Xl.select(a),Yr?"pointer":"")}!a||n||!kZ(e,r,We)||(We&&e.emit("plotly_unhover",{event:r,points:We}),e.emit("plotly_hover",{event:r,points:e._hoverdata,xaxes:_,yaxes:g,xvals:I,yvals:F}))}function N9(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa?e.xa._id:"",e.ya?e.ya._id:""].join(",")}var wZ=/<extra>([\s\S]*)<\/extra>/;function z9(e,r){var t=r.gd,n=t._fullLayout,a=r.hovermode,o=r.rotateLabels,i=r.bgColor,l=r.container,u=r.outerContainer,s=r.commonLabelOpts||{};if(e.length===0)return[[]];var f=r.fontFamily||Zl.HOVERFONT,v=r.fontSize||Zl.HOVERFONTSIZE,p=r.fontWeight||n.font.weight,b=r.fontStyle||n.font.style,y=r.fontVariant||n.font.variant,w=r.fontTextcase||n.font.textcase,M=r.fontLineposition||n.font.lineposition,m=r.fontShadow||n.font.shadow,k=e[0],S=k.xa,x=k.ya,T=a.charAt(0),d=T+"Label",_=k[d];if(_===void 0&&S.type==="multicategory")for(var g=0;g<e.length&&(_=e[g][d],_===void 0);g++);var c=lu(t,u),A=c.top,h=c.width,R=c.height,E=_!==void 0&&k.distance<=r.hoverdistance&&(a==="x"||a==="y");if(E){var D=!0,N,I;for(N=0;N<e.length;N++)if(D&&e[N].zLabel===void 0&&(D=!1),I=e[N].hoverinfo||e[N].trace.hoverinfo,I){var F=Array.isArray(I)?I:I.split("+");if(F.indexOf("all")===-1&&F.indexOf(a)===-1){E=!1;break}}D&&(E=!1)}var L=l.selectAll("g.axistext").data(E?[0]:[]);L.enter().append("g").classed("axistext",!0),L.exit().remove();var P={minX:0,maxX:0,minY:0,maxY:0};if(L.each(function(){var ce=Xl.select(this),ye=It.ensureSingle(ce,"path","",function(je){je.style({"stroke-width":"1px"})}),Le=It.ensureSingle(ce,"text","",function(je){je.attr("data-notex",1)}),me=s.bgcolor||un.defaultLine,he=s.bordercolor||un.contrast(me),be=un.contrast(me),Se=s.font,ze={weight:Se.weight||p,style:Se.style||b,variant:Se.variant||y,textcase:Se.textcase||w,lineposition:Se.lineposition||M,shadow:Se.shadow||m,family:Se.family||f,size:Se.size||v,color:Se.color||be};ye.style({fill:me,stroke:he}),Le.text(_).call(Ii.font,ze).call(Fa.positionText,0,0).call(Fa.convertToTspans,t),ce.attr("transform","");var Fe=lu(t,Le.node()),Ze,Ye;if(a==="x"){var Ge=S.side==="top"?"-":"";Le.attr("text-anchor","middle").call(Fa.positionText,0,S.side==="top"?A-Fe.bottom-Ct-$r:A-Fe.top+Ct+$r),Ze=S._offset+(k.x0+k.x1)/2,Ye=x._offset+(S.side==="top"?0:x._length);var We=Fe.width/2+$r,we=Ze;Ze<We?we=We:Ze>n.width-We&&(we=n.width-We),ye.attr("d","M"+(Ze-we)+",0L"+(Ze-we+Ct)+","+Ge+Ct+"H"+We+"v"+Ge+($r*2+Fe.height)+"H"+-We+"V"+Ge+Ct+"H"+(Ze-we-Ct)+"Z"),Ze=we,P.minX=Ze-We,P.maxX=Ze+We,S.side==="top"?(P.minY=Ye-($r*2+Fe.height),P.maxY=Ye-$r):(P.minY=Ye+$r,P.maxY=Ye+($r*2+Fe.height))}else{var Pe,Qe,Ve;x.side==="right"?(Pe="start",Qe=1,Ve="",Ze=S._offset+S._length):(Pe="end",Qe=-1,Ve="-",Ze=S._offset),Ye=x._offset+(k.y0+k.y1)/2,Le.attr("text-anchor",Pe),ye.attr("d","M0,0L"+Ve+Ct+","+Ct+"V"+($r+Fe.height/2)+"h"+Ve+($r*2+Fe.width)+"V-"+($r+Fe.height/2)+"H"+Ve+Ct+"V-"+Ct+"Z"),P.minY=Ye-($r+Fe.height/2),P.maxY=Ye+($r+Fe.height/2),x.side==="right"?(P.minX=Ze+Ct,P.maxX=Ze+Ct+($r*2+Fe.width)):(P.minX=Ze-Ct-($r*2+Fe.width),P.maxX=Ze-Ct);var ar=Fe.height/2,se=A-Fe.top-ar,K="clip"+n._uid+"commonlabel"+x._id,ae;if(Ze<Fe.width+2*$r+Ct){ae="M-"+(Ct+$r)+"-"+ar+"h-"+(Fe.width-$r)+"V"+ar+"h"+(Fe.width-$r)+"Z";var Re=Fe.width-Ze+$r;Fa.positionText(Le,Re,se),Pe==="end"&&Le.selectAll("tspan").each(function(){var je=Xl.select(this),nr=Ii.tester.append("text").text(je.text()).call(Ii.font,ze),hr=lu(t,nr.node());Math.round(hr.width)<Math.round(Fe.width)&&je.attr("x",Re-hr.width),nr.remove()})}else Fa.positionText(Le,Qe*($r+Ct),se),ae=null;var Be=n._topclips.selectAll("#"+K).data(ae?[0]:[]);Be.enter().append("clipPath").attr("id",K).append("path"),Be.exit().remove(),Be.select("path").attr("d",ae),Ii.setClipUrl(Le,ae?K:null,t)}ce.attr("transform",P2(Ze,Ye))}),ni.isUnifiedHover(a)){l.selectAll("g.hovertext").remove();var O=e.filter(function(ce){return ce.hoverinfo!=="none"});if(O.length===0)return[];var U=n.hoverlabel,X=U.font,j={showlegend:!0,legend:{title:{text:_,font:X},font:X,bgcolor:U.bgcolor,bordercolor:U.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:n.legend?n.legend.traceorder:void 0,orientation:"v"}},$={font:X};pZ(j,$,t._fullData);var Y=$.legend;Y.entries=[];for(var q=0;q<O.length;q++){var Z=O[q];if(Z.hoverinfo!=="none"){var ne=L9(Z,!0,a,n,_),Q=ne[0],oe=ne[1];Z.name=oe,oe!==""?Z.text=oe+" : "+Q:Z.text=Q;var ee=Z.cd[Z.index];ee&&(ee.mc&&(Z.mc=ee.mc),ee.mcc&&(Z.mc=ee.mcc),ee.mlc&&(Z.mlc=ee.mlc),ee.mlcc&&(Z.mlc=ee.mlcc),ee.mlw&&(Z.mlw=ee.mlw),ee.mrc&&(Z.mrc=ee.mrc),ee.dir&&(Z.dir=ee.dir)),Z._distinct=!0,Y.entries.push([Z])}}Y.entries.sort(function(ce,ye){return ce[0].trace.index-ye[0].trace.index}),Y.layer=l,Y._inHover=!0,Y._groupTitleFont=U.grouptitlefont,gZ(t,Y);var G=l.select("g.legend"),re=lu(t,G.node()),H=re.width+2*$r,te=re.height+2*$r,ue=O[0],de=(ue.x0+ue.x1)/2,Ee=(ue.y0+ue.y1)/2,Me=!(su.traceIs(ue.trace,"bar-like")||su.traceIs(ue.trace,"box-violin")),ve,Ae;T==="y"?Me?(Ae=Ee-$r,ve=Ee+$r):(Ae=Math.min.apply(null,O.map(function(ce){return Math.min(ce.y0,ce.y1)})),ve=Math.max.apply(null,O.map(function(ce){return Math.max(ce.y0,ce.y1)}))):Ae=ve=It.mean(O.map(function(ce){return(ce.y0+ce.y1)/2}))-te/2;var ke,De;T==="x"?Me?(ke=de+$r,De=de-$r):(ke=Math.max.apply(null,O.map(function(ce){return Math.max(ce.x0,ce.x1)})),De=Math.min.apply(null,O.map(function(ce){return Math.min(ce.x0,ce.x1)}))):ke=De=It.mean(O.map(function(ce){return(ce.x0+ce.x1)/2}))-H/2;var Ce=S._offset,Oe=x._offset;ve+=Oe,ke+=Ce,De+=Ce-H,Ae+=Oe-te;var Ue,ge;return ke+H<h&&ke>=0?Ue=ke:De+H<h&&De>=0?Ue=De:Ce+H<h?Ue=Ce:ke-de<de-De+H?Ue=h-H:Ue=0,Ue+=$r,ve+te<R&&ve>=0?ge=ve:Ae+te<R&&Ae>=0?ge=Ae:Oe+te<R?ge=Oe:ve-Ee<Ee-Ae+te?ge=R-te:ge=0,ge+=$r,G.attr("transform",P2(Ue-1,ge-1)),G}var Te=l.selectAll("g.hovertext").data(e,function(ce){return N9(ce)});return Te.enter().append("g").classed("hovertext",!0).each(function(){var ce=Xl.select(this);ce.append("rect").call(un.fill,un.addOpacity(i,.8)),ce.append("text").classed("name",!0),ce.append("path").style("stroke-width","1px"),ce.append("text").classed("nums",!0).call(Ii.font,{weight:p,style:b,variant:y,textcase:w,lineposition:M,shadow:m,family:f,size:v})}),Te.exit().remove(),Te.each(function(ce){var ye=Xl.select(this).attr("transform",""),Le=ce.color;Array.isArray(Le)&&(Le=Le[ce.eventData[0].pointNumber]);var me=ce.bgcolor||Le,he=un.combine(un.opacity(me)?me:un.defaultLine,i),be=un.combine(un.opacity(Le)?Le:un.defaultLine,i),Se=ce.borderColor||un.contrast(he),ze=L9(ce,E,a,n,_,ye),Fe=ze[0],Ze=ze[1],Ye=ye.select("text.nums").call(Ii.font,{family:ce.fontFamily||f,size:ce.fontSize||v,color:ce.fontColor||Se,weight:ce.fontWeight||p,style:ce.fontStyle||b,variant:ce.fontVariant||y,textcase:ce.fontTextcase||w,lineposition:ce.fontLineposition||M,shadow:ce.fontShadow||m}).text(Fe).attr("data-notex",1).call(Fa.positionText,0,0).call(Fa.convertToTspans,t),Ge=ye.select("text.name"),We=0,we=0;if(Ze&&Ze!==Fe){Ge.call(Ii.font,{family:ce.fontFamily||f,size:ce.fontSize||v,color:be,weight:ce.fontWeight||p,style:ce.fontStyle||b,variant:ce.fontVariant||y,textcase:ce.fontTextcase||w,lineposition:ce.fontLineposition||M,shadow:ce.fontShadow||m}).text(Ze).attr("data-notex",1).call(Fa.positionText,0,0).call(Fa.convertToTspans,t);var Pe=lu(t,Ge.node());We=Pe.width+2*$r,we=Pe.height+2*$r}else Ge.remove(),ye.select("rect").remove();ye.select("path").style({fill:he,stroke:Se});var Qe=ce.xa._offset+(ce.x0+ce.x1)/2,Ve=ce.ya._offset+(ce.y0+ce.y1)/2,ar=Math.abs(ce.x1-ce.x0),se=Math.abs(ce.y1-ce.y0),K=lu(t,Ye.node()),ae=K.width/n._invScaleX,Re=K.height/n._invScaleY;ce.ty0=(A-K.top)/n._invScaleY,ce.bx=ae+2*$r,ce.by=Math.max(Re+2*$r,we),ce.anchor="start",ce.txwidth=ae,ce.tx2width=We,ce.offset=0;var Be=(ae+Ct+$r+We)*n._invScaleX,je,nr;if(o)ce.pos=Qe,je=Ve+se/2+Be<=R,nr=Ve-se/2-Be>=0,(ce.idealAlign==="top"||!je)&&nr?(Ve-=se/2,ce.anchor="end"):je?(Ve+=se/2,ce.anchor="start"):ce.anchor="middle",ce.crossPos=Ve;else{if(ce.pos=Ve,je=Qe+ar/2+Be<=h,nr=Qe-ar/2-Be>=0,(ce.idealAlign==="left"||!je)&&nr)Qe-=ar/2,ce.anchor="end";else if(je)Qe+=ar/2,ce.anchor="start";else{ce.anchor="middle";var hr=Be/2,wr=Qe+hr-h,Cr=Qe-hr;wr>0&&(Qe-=wr),Cr<0&&(Qe+=-Cr)}ce.crossPos=Qe}Ye.attr("text-anchor",ce.anchor),We&&Ge.attr("text-anchor",ce.anchor),ye.attr("transform",P2(Qe,Ve)+(o?cZ(I9):""))}),{hoverLabels:Te,commonLabelBoundingBox:P}}function L9(e,r,t,n,a,o){var i="",l="";e.nameOverride!==void 0&&(e.name=e.nameOverride),e.name&&(e.trace._meta&&(e.name=It.templateString(e.name,e.trace._meta)),i=P9(e.name,e.nameLength));var u=t.charAt(0),s=u==="x"?"y":"x";e.zLabel!==void 0?(e.xLabel!==void 0&&(l+="x: "+e.xLabel+"<br>"),e.yLabel!==void 0&&(l+="y: "+e.yLabel+"<br>"),e.trace.type!=="choropleth"&&e.trace.type!=="choroplethmapbox"&&e.trace.type!=="choroplethmap"&&(l+=(l?"z: ":"")+e.zLabel)):r&&e[u+"Label"]===a?l=e[s+"Label"]||"":e.xLabel===void 0?e.yLabel!==void 0&&e.trace.type!=="scattercarpet"&&(l=e.yLabel):e.yLabel===void 0?l=e.xLabel:l="("+e.xLabel+", "+e.yLabel+")",(e.text||e.text===0)&&!Array.isArray(e.text)&&(l+=(l?"<br>":"")+e.text),e.extraText!==void 0&&(l+=(l?"<br>":"")+e.extraText),o&&l===""&&!e.hovertemplate&&(i===""&&o.remove(),l=i);var f=e.hovertemplate||!1;if(f){var v=e.hovertemplateLabels||e;e[u+"Label"]!==a&&(v[u+"other"]=v[u+"Val"],v[u+"otherLabel"]=v[u+"Label"]),l=It.hovertemplateString(f,v,n._d3locale,e.eventData[0]||{},e.trace._meta),l=l.replace(wZ,function(p,b){return i=P9(b,e.nameLength),""})}return[l,i]}function MZ(e,r,t,n){var a=r?"xa":"ya",o=r?"ya":"xa",i=0,l=1,u=e.size(),s=new Array(u),f=0,v=n.minX,p=n.maxX,b=n.minY,y=n.maxY,w=function(I){return I*t._invScaleX},M=function(I){return I*t._invScaleY};e.each(function(I){var F=I[a],L=I[o],P=F._id.charAt(0)==="x",O=F.range;f===0&&O&&O[0]>O[1]!==P&&(l=-1);var U=0,X=P?t.width:t.height;if(t.hovermode==="x"||t.hovermode==="y"){var j=q9(I,r),$=I.anchor,Y=$==="end"?-1:1,q,Z;if($==="middle")q=I.crossPos+(P?M(j.y-I.by/2):w(I.bx/2+I.tx2width/2)),Z=q+(P?M(I.by):w(I.bx));else if(P)q=I.crossPos+M(Ct+j.y)-M(I.by/2-Ct),Z=q+M(I.by);else{var ne=w(Y*Ct+j.x),Q=ne+w(Y*I.bx);q=I.crossPos+Math.min(ne,Q),Z=I.crossPos+Math.max(ne,Q)}P?b!==void 0&&y!==void 0&&Math.min(Z,y)-Math.max(q,b)>1&&(L.side==="left"?(U=L._mainLinePosition,X=t.width):X=L._mainLinePosition):v!==void 0&&p!==void 0&&Math.min(Z,p)-Math.max(q,v)>1&&(L.side==="top"?(U=L._mainLinePosition,X=t.height):X=L._mainLinePosition)}s[f++]=[{datum:I,traceIndex:I.trace.index,dp:0,pos:I.pos,posref:I.posref,size:I.by*(P?yZ:1)/2,pmin:U,pmax:X}]}),s.sort(function(I,F){return I[0].posref-F[0].posref||l*(F[0].traceIndex-I[0].traceIndex)});var m,k,S,x,T,d,_;function g(I){var F=I[0],L=I[I.length-1];if(k=F.pmin-F.pos-F.dp+F.size,S=L.pos+L.dp+L.size-F.pmax,k>.01){for(T=I.length-1;T>=0;T--)I[T].dp+=k;m=!1}if(!(S<.01)){if(k<-.01){for(T=I.length-1;T>=0;T--)I[T].dp-=S;m=!1}if(m){var P=0;for(x=0;x<I.length;x++)d=I[x],d.pos+d.dp+d.size>F.pmax&&P++;for(x=I.length-1;x>=0&&!(P<=0);x--)d=I[x],d.pos>F.pmax-1&&(d.del=!0,P--);for(x=0;x<I.length&&!(P<=0);x++)if(d=I[x],d.pos<F.pmin+1)for(d.del=!0,P--,S=d.size*2,T=I.length-1;T>=0;T--)I[T].dp-=S;for(x=I.length-1;x>=0&&!(P<=0);x--)d=I[x],d.pos+d.dp+d.size>F.pmax&&(d.del=!0,P--)}}}for(;!m&&i<=u;){for(i++,m=!0,x=0;x<s.length-1;){var c=s[x],A=s[x+1],h=c[c.length-1],R=A[0];if(k=h.pos+h.dp+h.size-R.pos-R.dp+R.size,k>.01){for(T=A.length-1;T>=0;T--)A[T].dp+=k;for(c.push.apply(c,A),s.splice(x+1,1),_=0,T=c.length-1;T>=0;T--)_+=c[T].dp;for(S=_/c.length,T=c.length-1;T>=0;T--)c[T].dp-=S;m=!1}else x++}s.forEach(g)}for(x=s.length-1;x>=0;x--){var E=s[x];for(T=E.length-1;T>=0;T--){var D=E[T],N=D.datum;N.offset=D.dp,N.del=D.del}}}function q9(e,r){var t=0,n=e.offset;return r&&(n*=-xZ,t=e.offset*mZ),{x:t,y:n}}function TZ(e){var r={start:1,end:-1,middle:0}[e.anchor],t=r*(Ct+$r),n=t+r*(e.txwidth+$r),a=e.anchor==="middle";return a&&(t-=e.tx2width/2,n+=e.txwidth/2+$r),{alignShift:r,textShiftX:t,text2ShiftX:n}}function O9(e,r,t,n){var a=function(i){return i*t},o=function(i){return i*n};e.each(function(i){var l=Xl.select(this);if(i.del)return l.remove();var u=l.select("text.nums"),s=i.anchor,f=s==="end"?-1:1,v=TZ(i),p=q9(i,r),b=p.x,y=p.y,w=s==="middle";l.select("path").attr("d",w?"M-"+a(i.bx/2+i.tx2width/2)+","+o(y-i.by/2)+"h"+a(i.bx)+"v"+o(i.by)+"h-"+a(i.bx)+"Z":"M0,0L"+a(f*Ct+b)+","+o(Ct+y)+"v"+o(i.by/2-Ct)+"h"+a(f*i.bx)+"v-"+o(i.by)+"H"+a(f*Ct+b)+"V"+o(y-Ct)+"Z");var M=b+v.textShiftX,m=y+i.ty0-i.by/2+$r,k=i.textAlign||"auto";k!=="auto"&&(k==="left"&&s!=="start"?(u.attr("text-anchor","start"),M=w?-i.bx/2-i.tx2width/2+$r:-i.bx-$r):k==="right"&&s!=="end"&&(u.attr("text-anchor","end"),M=w?i.bx/2-i.tx2width/2-$r:i.bx+$r)),u.call(Fa.positionText,a(M),o(m)),i.tx2width&&(l.select("text.name").call(Fa.positionText,a(v.text2ShiftX+v.alignShift*$r+b),o(y+i.ty0-i.by/2+$r)),l.select("rect").call(Ii.setRect,a(v.text2ShiftX+(v.alignShift-1)*i.tx2width/2+b),o(y-i.by/2-1),a(i.tx2width),o(i.by+2)))})}function AZ(e,r){var t=e.index,n=e.trace||{},a=e.cd[0],o=e.cd[t]||{};function i(p){return p||ao(p)&&p===0}var l=Array.isArray(t)?function(p,b){var y=It.castOption(a,t,p);return i(y)?y:It.extractOption({},n,"",b)}:function(p,b){return It.extractOption(o,n,p,b)};function u(p,b,y){var w=l(b,y);i(w)&&(e[p]=w)}if(u("hoverinfo","hi","hoverinfo"),u("bgcolor","hbg","hoverlabel.bgcolor"),u("borderColor","hbc","hoverlabel.bordercolor"),u("fontFamily","htf","hoverlabel.font.family"),u("fontSize","hts","hoverlabel.font.size"),u("fontColor","htc","hoverlabel.font.color"),u("fontWeight","htw","hoverlabel.font.weight"),u("fontStyle","hty","hoverlabel.font.style"),u("fontVariant","htv","hoverlabel.font.variant"),u("nameLength","hnl","hoverlabel.namelength"),u("textAlign","hta","hoverlabel.align"),e.posref=r==="y"||r==="closest"&&n.orientation==="h"?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=It.constrain(e.x0,0,e.xa._length),e.x1=It.constrain(e.x1,0,e.xa._length),e.y0=It.constrain(e.y0,0,e.ya._length),e.y1=It.constrain(e.y1,0,e.ya._length),e.xLabelVal!==void 0&&(e.xLabel="xLabel"in e?e.xLabel:Ni.hoverLabelText(e.xa,e.xLabelVal,n.xhoverformat),e.xVal=e.xa.c2d(e.xLabelVal)),e.yLabelVal!==void 0&&(e.yLabel="yLabel"in e?e.yLabel:Ni.hoverLabelText(e.ya,e.yLabelVal,n.yhoverformat),e.yVal=e.ya.c2d(e.yLabelVal)),e.zLabelVal!==void 0&&e.zLabel===void 0&&(e.zLabel=String(e.zLabelVal)),!isNaN(e.xerr)&&!(e.xa.type==="log"&&e.xerr<=0)){var s=Ni.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;e.xerrneg!==void 0?e.xLabel+=" +"+s+" / -"+Ni.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" \xB1 "+s,r==="x"&&(e.distance+=1)}if(!isNaN(e.yerr)&&!(e.ya.type==="log"&&e.yerr<=0)){var f=Ni.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;e.yerrneg!==void 0?e.yLabel+=" +"+f+" / -"+Ni.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" \xB1 "+f,r==="y"&&(e.distance+=1)}var v=e.hoverinfo||e.trace.hoverinfo;return v&&v!=="all"&&(v=Array.isArray(v)?v:v.split("+"),v.indexOf("x")===-1&&(e.xLabel=void 0),v.indexOf("y")===-1&&(e.yLabel=void 0),v.indexOf("z")===-1&&(e.zLabel=void 0),v.indexOf("text")===-1&&(e.text=void 0),v.indexOf("name")===-1&&(e.name=void 0)),e}function R9(e,r,t){var n=t.container,a=t.fullLayout,o=a._size,i=t.event,l=!!r.hLinePoint,u=!!r.vLinePoint,s,f;if(n.selectAll(".spikeline").remove(),!!(u||l)){var v=un.combine(a.plot_bgcolor,a.paper_bgcolor);if(l){var p=r.hLinePoint,b,y;s=p&&p.xa,f=p&&p.ya;var w=f.spikesnap;w==="cursor"?(b=i.pointerX,y=i.pointerY):(b=s._offset+p.x,y=f._offset+p.y);var M=S9.readability(p.color,v)<1.5?un.contrast(v):p.color,m=f.spikemode,k=f.spikethickness,S=f.spikecolor||M,x=Ni.getPxPosition(e,f),T,d;if(m.indexOf("toaxis")!==-1||m.indexOf("across")!==-1){if(m.indexOf("toaxis")!==-1&&(T=x,d=b),m.indexOf("across")!==-1){var _=f._counterDomainMin,g=f._counterDomainMax;f.anchor==="free"&&(_=Math.min(_,f.position),g=Math.max(g,f.position)),T=o.l+_*o.w,d=o.l+g*o.w}n.insert("line",":first-child").attr({x1:T,x2:d,y1:y,y2:y,"stroke-width":k,stroke:S,"stroke-dasharray":Ii.dashStyle(f.spikedash,k)}).classed("spikeline",!0).classed("crisp",!0),n.insert("line",":first-child").attr({x1:T,x2:d,y1:y,y2:y,"stroke-width":k+2,stroke:v}).classed("spikeline",!0).classed("crisp",!0)}m.indexOf("marker")!==-1&&n.insert("circle",":first-child").attr({cx:x+(f.side!=="right"?k:-k),cy:y,r:k,fill:S}).classed("spikeline",!0)}if(u){var c=r.vLinePoint,A,h;s=c&&c.xa,f=c&&c.ya;var R=s.spikesnap;R==="cursor"?(A=i.pointerX,h=i.pointerY):(A=s._offset+c.x,h=f._offset+c.y);var E=S9.readability(c.color,v)<1.5?un.contrast(v):c.color,D=s.spikemode,N=s.spikethickness,I=s.spikecolor||E,F=Ni.getPxPosition(e,s),L,P;if(D.indexOf("toaxis")!==-1||D.indexOf("across")!==-1){if(D.indexOf("toaxis")!==-1&&(L=F,P=h),D.indexOf("across")!==-1){var O=s._counterDomainMin,U=s._counterDomainMax;s.anchor==="free"&&(O=Math.min(O,s.position),U=Math.max(U,s.position)),L=o.t+(1-U)*o.h,P=o.t+(1-O)*o.h}n.insert("line",":first-child").attr({x1:A,x2:A,y1:L,y2:P,"stroke-width":N,stroke:I,"stroke-dasharray":Ii.dashStyle(s.spikedash,N)}).classed("spikeline",!0).classed("crisp",!0),n.insert("line",":first-child").attr({x1:A,x2:A,y1:L,y2:P,"stroke-width":N+2,stroke:v}).classed("spikeline",!0).classed("crisp",!0)}D.indexOf("marker")!==-1&&n.insert("circle",":first-child").attr({cx:A,cy:F-(s.side!=="top"?N:-N),r:N,fill:I}).classed("spikeline",!0)}}}function kZ(e,r,t){if(!t||t.length!==e._hoverdata.length)return!0;for(var n=t.length-1;n>=0;n--){var a=t[n],o=e._hoverdata[n];if(a.curveNumber!==o.curveNumber||String(a.pointNumber)!==String(o.pointNumber)||String(a.pointNumbers)!==String(o.pointNumbers))return!0}return!1}function D9(e,r){return!r||r.vLinePoint!==e._spikepoints.vLinePoint||r.hLinePoint!==e._spikepoints.hLinePoint}function P9(e,r){return Fa.plainText(e||"",{len:r,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function SZ(e,r){for(var t=r.charAt(0),n=[],a=[],o=[],i=0;i<e.length;i++){var l=e[i];su.traceIs(l.trace,"bar-like")||su.traceIs(l.trace,"box-violin")?o.push(l):l.trace[t+"period"]?a.push(l):n.push(l)}return n.concat(a).concat(o)}function F9(e,r,t){var n=r[e+"a"],a=r[e+"Val"],o=r.cd[0];if(n.type==="category"||n.type==="multicategory")a=n._categoriesMap[a];else if(n.type==="date"){var i=r.trace[e+"periodalignment"];if(i){var l=r.cd[r.index],u=l[e+"Start"];u===void 0&&(u=l[e]);var s=l[e+"End"];s===void 0&&(s=l[e]);var f=s-u;i==="end"?a+=f:i==="middle"&&(a+=f/2)}a=n.d2c(a)}return o&&o.t&&o.t.posLetter===n._id&&(t.boxmode==="group"||t.violinmode==="group")&&(a+=o.t.dPos),a}function B9(e){return e.offsetTop+e.clientTop}function U9(e){return e.offsetLeft+e.clientLeft}function lu(e,r){var t=e._fullLayout,n=r.getBoundingClientRect(),a=n.left,o=n.top,i=a+n.width,l=o+n.height,u=It.apply3DTransform(t._invTransform)(a,o),s=It.apply3DTransform(t._invTransform)(i,l),f=u[0],v=u[1],p=s[0],b=s[1];return{x:f,y:v,width:p-f,height:b-v,top:Math.min(v,b),left:Math.min(f,p),right:Math.max(f,p),bottom:Math.max(v,b)}}});var oh=pe((Wce,H9)=>{"use strict";var CZ=ir(),EZ=Zr(),LZ=to().isUnifiedHover;H9.exports=function(r,t,n,a){a=a||{};var o=t.legend;function i(l){a.font[l]||(a.font[l]=o?t.legend.font[l]:t.font[l])}t&&LZ(t.hovermode)&&(a.font||(a.font={}),i("size"),i("family"),i("color"),i("weight"),i("style"),i("variant"),o?(a.bgcolor||(a.bgcolor=EZ.combine(t.legend.bgcolor,t.paper_bgcolor)),a.bordercolor||(a.bordercolor=t.legend.bordercolor)):a.bgcolor||(a.bgcolor=t.paper_bgcolor)),n("hoverlabel.bgcolor",a.bgcolor),n("hoverlabel.bordercolor",a.bordercolor),n("hoverlabel.namelength",a.namelength),CZ.coerceFont(n,"hoverlabel.font",a.font),n("hoverlabel.align",a.align)}});var G9=pe((Xce,V9)=>{"use strict";var RZ=ir(),DZ=oh(),PZ=_l();V9.exports=function(r,t){function n(a,o){return RZ.coerce(r,t,PZ,a,o)}DZ(r,t,n)}});var X9=pe((Zce,W9)=>{"use strict";var Y9=ir(),FZ=Ec(),IZ=oh();W9.exports=function(r,t,n,a){function o(l,u){return Y9.coerce(r,t,FZ,l,u)}var i=Y9.extendFlat({},a.hoverlabel);t.hovertemplate&&(i.namelength=-1),IZ(r,t,o,i)}});var z2=pe((Jce,Z9)=>{"use strict";var NZ=ir(),zZ=_l();Z9.exports=function(r,t){function n(a,o){return t[a]!==void 0?t[a]:NZ.coerce(r,t,zZ,a,o)}return n("clickmode"),n("hoversubplots"),n("hovermode")}});var Q9=pe((Kce,K9)=>{"use strict";var J9=ir(),qZ=_l(),OZ=z2(),BZ=oh();K9.exports=function(r,t){function n(f,v){return J9.coerce(r,t,qZ,f,v)}var a=OZ(r,t);a&&(n("hoverdistance"),n("spikedistance"));var o=n("dragmode");o==="select"&&n("selectdirection");var i=t._has("mapbox"),l=t._has("map"),u=t._has("geo"),s=t._basePlotModules.length;t.dragmode==="zoom"&&((i||l||u)&&s===1||(i||l)&&u&&s===2)&&(t.dragmode="pan"),BZ(r,t,n),J9.coerceFont(n,"hoverlabel.grouptitlefont",t.hoverlabel.font)}});var eT=pe((Qce,j9)=>{"use strict";var q2=ir(),$9=Er();j9.exports=function(r){var t=r.calcdata,n=r._fullLayout;function a(s){return function(f){return q2.coerceHoverinfo({hoverinfo:f},{_module:s._module},n)}}for(var o=0;o<t.length;o++){var i=t[o],l=i[0].trace;if(!$9.traceIs(l,"pie-like")){var u=$9.traceIs(l,"2dMap")?UZ:q2.fillArray;u(l.hoverinfo,i,"hi",a(l)),l.hovertemplate&&u(l.hovertemplate,i,"ht"),l.hoverlabel&&(u(l.hoverlabel.bgcolor,i,"hbg"),u(l.hoverlabel.bordercolor,i,"hbc"),u(l.hoverlabel.font.size,i,"hts"),u(l.hoverlabel.font.color,i,"htc"),u(l.hoverlabel.font.family,i,"htf"),u(l.hoverlabel.font.weight,i,"htw"),u(l.hoverlabel.font.style,i,"hty"),u(l.hoverlabel.font.variant,i,"htv"),u(l.hoverlabel.namelength,i,"hnl"),u(l.hoverlabel.align,i,"hta"))}}};function UZ(e,r,t,n){n=n||q2.identity,Array.isArray(e)&&(r[0][t]=n(e))}});var tT=pe(($ce,rT)=>{"use strict";var HZ=Er(),VZ=N2().hover;rT.exports=function(r,t,n){var a=HZ.getComponentMethod("annotations","onClick")(r,r._hoverdata);n!==void 0&&VZ(r,t,n,!0);function o(){r.emit("plotly_click",{points:r._hoverdata,event:t})}r._hoverdata&&t&&t.target&&(a&&a.then?a.then(o):o(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}});var io=pe((jce,iT)=>{"use strict";var GZ=it(),lh=ir(),YZ=ti(),zf=to(),nT=_l(),aT=N2();iT.exports={moduleType:"component",name:"fx",constants:sf(),schema:{layout:nT},attributes:Ec(),layoutAttributes:nT,supplyLayoutGlobalDefaults:G9(),supplyDefaults:X9(),supplyLayoutDefaults:Q9(),calc:eT(),getDistanceFunction:zf.getDistanceFunction,getClosest:zf.getClosest,inbox:zf.inbox,quadrature:zf.quadrature,appendArrayPointValue:zf.appendArrayPointValue,castHoverOption:XZ,castHoverinfo:ZZ,hover:aT.hover,unhover:YZ.unhover,loneHover:aT.loneHover,loneUnhover:WZ,click:tT()};function WZ(e){var r=lh.isD3Selection(e)?e:GZ.select(e);r.selectAll("g.hovertext").remove(),r.selectAll(".spikeline").remove()}function XZ(e,r,t){return lh.castOption(e,r,"hoverlabel."+t)}function ZZ(e,r,t){function n(a){return lh.coerceHoverinfo({hoverinfo:a},{_module:e._module},r)}return lh.castOption(e,t,"hoverinfo",n)}});var uu=pe(oo=>{"use strict";oo.selectMode=function(e){return e==="lasso"||e==="select"};oo.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"};oo.openMode=function(e){return e==="drawline"||e==="drawopenpath"};oo.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"};oo.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"};oo.selectingOrDrawing=function(e){return oo.freeMode(e)||oo.rectMode(e)}});var sh=pe((rve,oT)=>{"use strict";oT.exports=function(r){var t=r._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(n){n.regl&&n.regl.clear({color:!0,depth:!0})})}});var uh=pe((tve,lT)=>{"use strict";lT.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect fill='#000' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle fill='#9EF' cx='102' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='54' r='6'/>","  <circle fill='#D69' cx='54' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='54' r='6'/>","  <path fill='#FFF' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path fill='#FFF' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path fill='#FFF' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path fill='#FFF' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}});var ch=pe((nve,sT)=>{"use strict";var fh=32;sT.exports={CIRCLE_SIDES:fh,i000:0,i090:fh/4,i180:fh/2,i270:fh/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}});var vh=pe((ave,fT)=>{"use strict";var JZ=ir().strTranslate;function uT(e,r){switch(e.type){case"log":return e.p2d(r);case"date":return e.p2r(r,0,e.calendar);default:return e.p2r(r)}}function KZ(e,r){switch(e.type){case"log":return e.d2p(r);case"date":return e.r2p(r,0,e.calendar);default:return e.r2p(r)}}function QZ(e){var r=e._id.charAt(0)==="y"?1:0;return function(t){return uT(e,t[r])}}function $Z(e){return JZ(e.xaxis._offset,e.yaxis._offset)}fT.exports={p2r:uT,r2p:KZ,axValue:QZ,getTransform:$Z}});var Go=pe(lo=>{"use strict";var jZ=Sg(),hT=ch(),fu=hT.CIRCLE_SIDES,O2=hT.SQRT2,dT=vh(),cT=dT.p2r,vT=dT.r2p,eJ=[0,3,4,5,6,1,2],rJ=[0,3,4,1,2];lo.writePaths=function(e){var r=e.length;if(!r)return"M0,0Z";for(var t="",n=0;n<r;n++)for(var a=e[n].length,o=0;o<a;o++){var i=e[n][o][0];if(i==="Z")t+="Z";else for(var l=e[n][o].length,u=0;u<l;u++){var s=u;i==="Q"||i==="S"?s=rJ[u]:i==="C"&&(s=eJ[u]),t+=e[n][o][s],u>0&&u<l-1&&(t+=",")}}return t};lo.readPaths=function(e,r,t,n){var a=jZ(e),o=[],i=-1,l=function(){i++,o[i]=[]},u,s=0,f=0,v,p,b=function(){v=s,p=f};b();for(var y=0;y<a.length;y++){var w=[],M,m,k,S,x=a[y][0],T=x;switch(x){case"M":l(),s=+a[y][1],f=+a[y][2],w.push([T,s,f]),b();break;case"Q":case"S":M=+a[y][1],k=+a[y][2],s=+a[y][3],f=+a[y][4],w.push([T,s,f,M,k]);break;case"C":M=+a[y][1],k=+a[y][2],m=+a[y][3],S=+a[y][4],s=+a[y][5],f=+a[y][6],w.push([T,s,f,M,k,m,S]);break;case"T":case"L":s=+a[y][1],f=+a[y][2],w.push([T,s,f]);break;case"H":T="L",s=+a[y][1],w.push([T,s,f]);break;case"V":T="L",f=+a[y][1],w.push([T,s,f]);break;case"A":T="L";var d=+a[y][1],_=+a[y][2];+a[y][4]||(d=-d,_=-_);var g=s-d,c=f;for(u=1;u<=fu/2;u++){var A=2*Math.PI*u/fu;w.push([T,g+d*Math.cos(A),c+_*Math.sin(A)])}break;case"Z":(s!==v||f!==p)&&(s=v,f=p,w.push([T,s,f]));break}for(var h=(t||{}).domain,R=r._fullLayout._size,E=t&&t.xsizemode==="pixel",D=t&&t.ysizemode==="pixel",N=n===!1,I=0;I<w.length;I++){for(u=0;u+2<7;u+=2){var F=w[I][u+1],L=w[I][u+2];F===void 0||L===void 0||(s=F,f=L,t&&(t.xaxis&&t.xaxis.p2r?(N&&(F-=t.xaxis._offset),E?F=vT(t.xaxis,t.xanchor)+F:F=cT(t.xaxis,F)):(N&&(F-=R.l),h?F=h.x[0]+F/R.w:F=F/R.w),t.yaxis&&t.yaxis.p2r?(N&&(L-=t.yaxis._offset),D?L=vT(t.yaxis,t.yanchor)-L:L=cT(t.yaxis,L)):(N&&(L-=R.t),h?L=h.y[1]-L/R.h:L=1-L/R.h)),w[I][u+1]=F,w[I][u+2]=L)}o[i].push(w[I].slice())}}return o};function qf(e,r){return Math.abs(e-r)<=1e-6}function hh(e,r){var t=r[1]-e[1],n=r[2]-e[2];return Math.sqrt(t*t+n*n)}lo.pointsOnRectangle=function(e){var r=e.length;if(r!==5)return!1;for(var t=1;t<3;t++){var n=e[0][t]-e[1][t],a=e[3][t]-e[2][t];if(!qf(n,a))return!1;var o=e[0][t]-e[3][t],i=e[1][t]-e[2][t];if(!qf(o,i))return!1}return!qf(e[0][1],e[1][1])&&!qf(e[0][1],e[3][1])?!1:!!(hh(e[0],e[1])*hh(e[0],e[3]))};lo.pointsOnEllipse=function(e){var r=e.length;if(r!==fu+1)return!1;r=fu;for(var t=0;t<r;t++){var n=(r*2-t)%r,a=(r/2+n)%r,o=(r/2+t)%r;if(!qf(hh(e[t],e[o]),hh(e[n],e[a])))return!1}return!0};lo.handleEllipse=function(e,r,t){if(!e)return[r,t];var n=lo.ellipseOver({x0:r[0],y0:r[1],x1:t[0],y1:t[1]}),a=(n.x1+n.x0)/2,o=(n.y1+n.y0)/2,i=(n.x1-n.x0)/2,l=(n.y1-n.y0)/2;i||(i=l=l/O2),l||(l=i=i/O2);for(var u=[],s=0;s<fu;s++){var f=s*2*Math.PI/fu;u.push([a+i*Math.cos(f),o+l*Math.sin(f)])}return u};lo.ellipseOver=function(e){var r=e.x0,t=e.y0,n=e.x1,a=e.y1,o=n-r,i=a-t;r-=o,t-=i;var l=(r+n)/2,u=(t+a)/2,s=O2;return o*=s,i*=s,{x0:l-o,y0:u-i,x1:l+o,y1:u+i}};lo.fixDatesForPaths=function(e,r,t){var n=r.type==="date",a=t.type==="date";if(!n&&!a)return e;for(var o=0;o<e.length;o++)for(var i=0;i<e[o].length;i++)for(var l=0;l+2<e[o][i].length;l+=2)n&&(e[o][i][l+1]=e[o][i][l+1].replace(" ","_")),a&&(e[o][i][l+2]=e[o][i][l+2].replace(" ","_"));return e}});var gh=pe((ove,wT)=>{"use strict";var xT=uu(),tJ=xT.drawMode,nJ=xT.openMode,cu=ch(),pT=cu.i000,gT=cu.i090,yT=cu.i180,mT=cu.i270,aJ=cu.cos45,iJ=cu.sin45,bT=vh(),dh=bT.p2r,Yo=bT.r2p,oJ=Fo(),lJ=oJ.clearOutline,ph=Go(),sJ=ph.readPaths,uJ=ph.writePaths,fJ=ph.ellipseOver,cJ=ph.fixDatesForPaths;function vJ(e,r){if(e.length){var t=e[0][0];if(t){var n=r.gd,a=r.isActiveShape,o=r.dragmode,i=(n.layout||{}).shapes||[];if(!tJ(o)&&a!==void 0){var l=n._fullLayout._activeShapeIndex;if(l<i.length)switch(n._fullLayout.shapes[l].type){case"rect":o="drawrect";break;case"circle":o="drawcircle";break;case"line":o="drawline";break;case"path":var u=i[l].path||"";u[u.length-1]==="Z"?o="drawclosedpath":o="drawopenpath";break}}var s=_T(e,r,o);lJ(n);for(var f=r.editHelpers,v=(f||{}).modifyItem,p=[],b=0;b<i.length;b++){var y=n._fullLayout.shapes[b];if(p[b]=y._input,a!==void 0&&b===n._fullLayout._activeShapeIndex){var w=s;switch(y.type){case"line":case"rect":case"circle":v("x0",w.x0-(y.x0shift||0)),v("x1",w.x1-(y.x1shift||0)),v("y0",w.y0-(y.y0shift||0)),v("y1",w.y1-(y.y1shift||0));break;case"path":v("path",w.path);break}}}return a===void 0?(p.push(s),p):f?f.getUpdateObj():{}}}}function _T(e,r,t){var n=e[0][0],a=r.gd,o=n.getAttribute("d"),i=a._fullLayout.newshape,l=r.plotinfo,u=r.isActiveShape,s=l.xaxis,f=l.yaxis,v=!!l.domain||!l.xaxis,p=!!l.domain||!l.yaxis,b=nJ(t),y=sJ(o,a,l,u),w={editable:!0,visible:i.visible,name:i.name,showlegend:i.showlegend,legend:i.legend,legendwidth:i.legendwidth,legendgroup:i.legendgroup,legendgrouptitle:{text:i.legendgrouptitle.text,font:i.legendgrouptitle.font},legendrank:i.legendrank,label:i.label,xref:v?"paper":s._id,yref:p?"paper":f._id,layer:i.layer,opacity:i.opacity,line:{color:i.line.color,width:i.line.width,dash:i.line.dash}};b||(w.fillcolor=i.fillcolor,w.fillrule=i.fillrule);var M;if(y.length===1&&(M=y[0]),M&&M.length===5&&t==="drawrect")w.type="rect",w.x0=M[0][1],w.y0=M[0][2],w.x1=M[2][1],w.y1=M[2][2];else if(M&&t==="drawline")w.type="line",w.x0=M[0][1],w.y0=M[0][2],w.x1=M[1][1],w.y1=M[1][2];else if(M&&t==="drawcircle"){w.type="circle";var m=M[pT][1],k=M[gT][1],S=M[yT][1],x=M[mT][1],T=M[pT][2],d=M[gT][2],_=M[yT][2],g=M[mT][2],c=l.xaxis&&(l.xaxis.type==="date"||l.xaxis.type==="log"),A=l.yaxis&&(l.yaxis.type==="date"||l.yaxis.type==="log");c&&(m=Yo(l.xaxis,m),k=Yo(l.xaxis,k),S=Yo(l.xaxis,S),x=Yo(l.xaxis,x)),A&&(T=Yo(l.yaxis,T),d=Yo(l.yaxis,d),_=Yo(l.yaxis,_),g=Yo(l.yaxis,g));var h=(k+x)/2,R=(T+_)/2,E=(x-k+S-m)/2,D=(g-d+_-T)/2,N=fJ({x0:h,y0:R,x1:h+E*aJ,y1:R+D*iJ});c&&(N.x0=dh(l.xaxis,N.x0),N.x1=dh(l.xaxis,N.x1)),A&&(N.y0=dh(l.yaxis,N.y0),N.y1=dh(l.yaxis,N.y1)),w.x0=N.x0,w.y0=N.y0,w.x1=N.x1,w.y1=N.y1}else w.type="path",s&&f&&cJ(y,s,f),w.path=uJ(y),M=null;return w}wT.exports={newShapes:vJ,createShapeObj:_T}});var U2=pe((lve,MT)=>{"use strict";var hJ=uu(),dJ=hJ.selectMode,pJ=Fo(),gJ=pJ.clearOutline,B2=Go(),yJ=B2.readPaths,mJ=B2.writePaths,xJ=B2.fixDatesForPaths;MT.exports=function(r,t){if(r.length){var n=r[0][0];if(n){var a=n.getAttribute("d"),o=t.gd,i=o._fullLayout.newselection,l=t.plotinfo,u=l.xaxis,s=l.yaxis,f=t.isActiveSelection,v=t.dragmode,p=(o.layout||{}).selections||[];if(!dJ(v)&&f!==void 0){var b=o._fullLayout._activeSelectionIndex;if(b<p.length)switch(o._fullLayout.selections[b].type){case"rect":v="select";break;case"path":v="lasso";break}}var y=yJ(a,o,l,f),w={xref:u._id,yref:s._id,opacity:i.opacity,line:{color:i.line.color,width:i.line.width,dash:i.line.dash}},M;y.length===1&&(M=y[0]),M&&M.length===5&&v==="select"?(w.type="rect",w.x0=M[0][1],w.y0=M[0][2],w.x1=M[2][1],w.y1=M[2][2]):(w.type="path",u&&s&&xJ(y,u,s),w.path=mJ(y),M=null),gJ(o);for(var m=t.editHelpers,k=(m||{}).modifyItem,S=[],x=0;x<p.length;x++){var T=o._fullLayout.selections[x];if(!T){S[x]=T;continue}if(S[x]=T._input,f!==void 0&&x===o._fullLayout._activeSelectionIndex){var d=w;switch(T.type){case"rect":k("x0",d.x0),k("x1",d.x1),k("y0",d.y0),k("y1",d.y1);break;case"path":k("path",d.path);break}}}return f===void 0?(S.push(w),S):m?m.getUpdateObj():{}}}}});var Of=pe((sve,TT)=>{"use strict";TT.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}});var Wo=pe(dn=>{"use strict";var Jl=Of(),AT=ir(),yh=St();dn.rangeToShapePosition=function(e){return e.type==="log"?e.r2d:function(r){return r}};dn.shapePositionToRange=function(e){return e.type==="log"?e.d2r:function(r){return r}};dn.decodeDate=function(e){return function(r){return r.replace&&(r=r.replace("_"," ")),e(r)}};dn.encodeDate=function(e){return function(r){return e(r).replace(" ","_")}};dn.extractPathCoords=function(e,r,t){var n=[],a=e.match(Jl.segmentRE);return a.forEach(function(o){var i=r[o.charAt(0)].drawn;if(i!==void 0){var l=o.substr(1).match(Jl.paramRE);if(!(!l||l.length<i)){var u=l[i],s=t?u:AT.cleanNumber(u);n.push(s)}}}),n};dn.getDataToPixel=function(e,r,t,n,a){var o=e._fullLayout._size,i;if(r)if(a==="domain")i=function(u){return r._length*(n?1-u:u)+r._offset};else{var l=dn.shapePositionToRange(r);i=function(u){var s=Bf(r,t);return r._offset+r.r2p(l(u,!0))+s},r.type==="date"&&(i=dn.decodeDate(i))}else n?i=function(u){return o.t+o.h*(1-u)}:i=function(u){return o.l+o.w*u};return i};dn.getPixelToData=function(e,r,t,n){var a=e._fullLayout._size,o;if(r)if(n==="domain")o=function(l){var u=(l-r._offset)/r._length;return t?1-u:u};else{var i=dn.rangeToShapePosition(r);o=function(l){return i(r.p2r(l-r._offset))}}else t?o=function(l){return 1-(l-a.t)/a.h}:o=function(l){return(l-a.l)/a.w};return o};dn.roundPositionForSharpStrokeRendering=function(e,r){var t=Math.round(r%2)===1,n=Math.round(e);return t?n+.5:n};dn.makeShapesOptionsAndPlotinfo=function(e,r){var t=e._fullLayout.shapes[r]||{},n=e._fullLayout._plots[t.xref+t.yref],a=!!n;return a?n._hadPlotinfo=!0:(n={},t.xref&&t.xref!=="paper"&&(n.xaxis=e._fullLayout[t.xref+"axis"]),t.yref&&t.yref!=="paper"&&(n.yaxis=e._fullLayout[t.yref+"axis"])),n.xsizemode=t.xsizemode,n.ysizemode=t.ysizemode,n.xanchor=t.xanchor,n.yanchor=t.yanchor,{options:t,plotinfo:n}};dn.makeSelectionsOptionsAndPlotinfo=function(e,r){var t=e._fullLayout.selections[r]||{},n=e._fullLayout._plots[t.xref+t.yref],a=!!n;return a?n._hadPlotinfo=!0:(n={},t.xref&&(n.xaxis=e._fullLayout[t.xref+"axis"]),t.yref&&(n.yaxis=e._fullLayout[t.yref+"axis"])),{options:t,plotinfo:n}};dn.getPathString=function(e,r){var t=r.type,n=yh.getRefType(r.xref),a=yh.getRefType(r.yref),o=yh.getFromId(e,r.xref),i=yh.getFromId(e,r.yref),l=e._fullLayout._size,u,s,f,v,p=Bf(o,r.x0shift),b=Bf(o,r.x1shift),y=Bf(i,r.y0shift),w=Bf(i,r.y1shift),M,m,k,S;if(o?n==="domain"?s=function(E){return o._offset+o._length*E}:(u=dn.shapePositionToRange(o),s=function(E){return o._offset+o.r2p(u(E,!0))}):s=function(E){return l.l+l.w*E},i?a==="domain"?v=function(E){return i._offset+i._length*(1-E)}:(f=dn.shapePositionToRange(i),v=function(E){return i._offset+i.r2p(f(E,!0))}):v=function(E){return l.t+l.h*(1-E)},t==="path")return o&&o.type==="date"&&(s=dn.decodeDate(s)),i&&i.type==="date"&&(v=dn.decodeDate(v)),bJ(r,s,v);if(r.xsizemode==="pixel"){var x=s(r.xanchor);M=x+r.x0+p,m=x+r.x1+b}else M=s(r.x0)+p,m=s(r.x1)+b;if(r.ysizemode==="pixel"){var T=v(r.yanchor);k=T-r.y0+y,S=T-r.y1+w}else k=v(r.y0)+y,S=v(r.y1)+w;if(t==="line")return"M"+M+","+k+"L"+m+","+S;if(t==="rect")return"M"+M+","+k+"H"+m+"V"+S+"H"+M+"Z";var d=(M+m)/2,_=(k+S)/2,g=Math.abs(d-M),c=Math.abs(_-k),A="A"+g+","+c,h=d+g+","+_,R=d+","+(_-c);return"M"+h+A+" 0 1,1 "+R+A+" 0 0,1 "+h+"Z"};function bJ(e,r,t){var n=e.path,a=e.xsizemode,o=e.ysizemode,i=e.xanchor,l=e.yanchor;return n.replace(Jl.segmentRE,function(u){var s=0,f=u.charAt(0),v=Jl.paramIsX[f],p=Jl.paramIsY[f],b=Jl.numParams[f],y=u.substr(1).replace(Jl.paramRE,function(w){return v[s]?a==="pixel"?w=r(i)+Number(w):w=r(w):p[s]&&(o==="pixel"?w=t(l)-Number(w):w=t(w)),s++,s>b&&(w="X"),w});return s>b&&(y=y.replace(/[\s,]*X.*/,""),AT.log("Ignoring extra params in segment "+u)),f+y})}function Bf(e,r){r=r||0;var t=0;return r&&e&&(e.type==="category"||e.type==="multicategory")&&(t=(e.r2p(1)-e.r2p(0))*r),t}});var V2=pe((fve,ET)=>{"use strict";var _J=ir(),vu=St(),kT=Yn(),ST=yt(),wJ=Go().readPaths,H2=Wo(),MJ=H2.getPathString,CT=Oc(),TJ=qn().FROM_TL;ET.exports=function(r,t,n,a){if(a.selectAll(".shape-label").remove(),!!(n.label.text||n.label.texttemplate)){var o;if(n.label.texttemplate){var i={};if(n.type!=="path"){var l=vu.getFromId(r,n.xref),u=vu.getFromId(r,n.yref);for(var s in CT){var f=CT[s](n,l,u);f!==void 0&&(i[s]=f)}}o=_J.texttemplateStringForShapes(n.label.texttemplate,{},r._fullLayout._d3locale,i)}else o=n.label.text;var v={"data-index":t},p=n.label.font,b={"data-notex":1},y=a.append("g").attr(v).classed("shape-label",!0),w=y.append("text").attr(b).classed("shape-label-text",!0).text(o),M,m,k,S;if(n.path){var x=MJ(r,n),T=wJ(x,r);M=1/0,k=1/0,m=-1/0,S=-1/0;for(var d=0;d<T.length;d++)for(var _=0;_<T[d].length;_++)for(var g=T[d][_],c=1;c<g.length;c+=2){var A=g[c],h=g[c+1];M=Math.min(M,A),m=Math.max(m,A),k=Math.min(k,h),S=Math.max(S,h)}}else{var R=vu.getFromId(r,n.xref),E=n.x0shift,D=n.x1shift,N=vu.getRefType(n.xref),I=vu.getFromId(r,n.yref),F=n.y0shift,L=n.y1shift,P=vu.getRefType(n.yref),O=function(ne,Q){var oe=H2.getDataToPixel(r,R,Q,!1,N);return oe(ne)},U=function(ne,Q){var oe=H2.getDataToPixel(r,I,Q,!0,P);return oe(ne)};M=O(n.x0,E),m=O(n.x1,D),k=U(n.y0,F),S=U(n.y1,L)}var X=n.label.textangle;X==="auto"&&(n.type==="line"?X=AJ(M,k,m,S):X=0),w.call(function(ne){return ne.call(ST.font,p).attr({}),kT.convertToTspans(ne,r),ne});var j=ST.bBox(w.node()),$=kJ(M,k,m,S,n,X,j),Y=$.textx,q=$.texty,Z=$.xanchor;w.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[Z],y:q,x:Y,transform:"rotate("+X+","+Y+","+q+")"}).call(kT.positionText,Y,q)}};function AJ(e,r,t,n){var a,o;return o=Math.abs(t-e),t>=e?a=r-n:a=n-r,-180/Math.PI*Math.atan2(a,o)}function kJ(e,r,t,n,a,o,i){var l=a.label.textposition,u=a.label.textangle,s=a.label.padding,f=a.type,v=Math.PI/180*o,p=Math.sin(v),b=Math.cos(v),y=a.label.xanchor,w=a.label.yanchor,M,m,k,S;if(f==="line"){l==="start"?(M=e,m=r):l==="end"?(M=t,m=n):(M=(e+t)/2,m=(r+n)/2),y==="auto"&&(l==="start"?u==="auto"?t>e?y="left":t<e?y="right":y="center":t>e?y="right":t<e?y="left":y="center":l==="end"?u==="auto"?t>e?y="right":t<e?y="left":y="center":t>e?y="left":t<e?y="right":y="center":y="center");var x={left:1,center:0,right:-1},T={bottom:-1,middle:0,top:1};if(u==="auto"){var d=T[w];k=-s*p*d,S=s*b*d}else{var _=x[y],g=T[w];k=s*_,S=s*g}M=M+k,m=m+S}else k=s+3,l.indexOf("right")!==-1?(M=Math.max(e,t)-k,y==="auto"&&(y="right")):l.indexOf("left")!==-1?(M=Math.min(e,t)+k,y==="auto"&&(y="left")):(M=(e+t)/2,y==="auto"&&(y="center")),l.indexOf("top")!==-1?m=Math.min(r,n):l.indexOf("bottom")!==-1?m=Math.max(r,n):m=(r+n)/2,S=s,w==="bottom"?m=m-S:w==="top"&&(m=m+S);var c=TJ[w],A=a.label.font.size,h=i.height,R=(h*c-A)*p,E=-(h*c-A)*b;return{textx:M+R,texty:m+E,xanchor:y}}});var bh=pe((cve,zT)=>{"use strict";var SJ=ir(),CJ=SJ.strTranslate,LT=ti(),PT=uu(),EJ=PT.drawMode,FT=PT.selectMode,IT=Er(),RT=Zr(),xh=ch(),LJ=xh.i000,RJ=xh.i090,DJ=xh.i180,PJ=xh.i270,FJ=Fo(),NT=FJ.clearOutlineControllers,Y2=Go(),mh=Y2.pointsOnRectangle,G2=Y2.pointsOnEllipse,IJ=Y2.writePaths,NJ=gh().newShapes,zJ=gh().createShapeObj,qJ=U2(),OJ=V2();zT.exports=function e(r,t,n,a){a||(a=0);var o=n.gd;function i(){e(r,t,n,a++),(G2(r[0])||n.hasText)&&l({redrawing:!0})}function l(F){var L={};n.isActiveShape!==void 0&&(n.isActiveShape=!1,L=NJ(t,n)),n.isActiveSelection!==void 0&&(n.isActiveSelection=!1,L=qJ(t,n),o._fullLayout._reselect=!0),Object.keys(L).length&&IT.call((F||{}).redrawing?"relayout":"_guiRelayout",o,L)}var u=o._fullLayout,s=u._zoomlayer,f=n.dragmode,v=EJ(f),p=FT(f);(v||p)&&(o._fullLayout._outlining=!0),NT(o),t.attr("d",IJ(r));var b,y,w,M,m;if(!a&&(n.isActiveShape||n.isActiveSelection)){m=BJ([],r);var k=s.append("g").attr("class","outline-controllers");A(k),I()}if(v&&n.hasText){var S=s.select(".label-temp"),x=zJ(t,n,n.dragmode);OJ(o,"label-temp",x,S)}function T(F){w=+F.srcElement.getAttribute("data-i"),M=+F.srcElement.getAttribute("data-j"),b[w][M].moveFn=d}function d(F,L){if(r.length){var P=m[w][M][1],O=m[w][M][2],U=r[w],X=U.length;if(mh(U)){var j=F,$=L;if(n.isActiveSelection){var Y=DT(U,M);Y[1]===U[M][1]?$=0:j=0}for(var q=0;q<X;q++)if(q!==M){var Z=U[q];Z[1]===U[M][1]&&(Z[1]=P+j),Z[2]===U[M][2]&&(Z[2]=O+$)}if(U[M][1]=P+j,U[M][2]=O+$,!mh(U))for(var ne=0;ne<X;ne++)for(var Q=0;Q<U[ne].length;Q++)U[ne][Q]=m[w][ne][Q]}else U[M][1]=P+F,U[M][2]=O+L;i()}}function _(){l()}function g(){if(r.length&&r[w]&&r[w].length){for(var F=[],L=0;L<r[w].length;L++)L!==M&&F.push(r[w][L]);F.length>1&&!(F.length===2&&F[1][0]==="Z")&&(M===0&&(F[0][0]="M"),r[w]=F,i(),l())}}function c(F,L){if(F===2){w=+L.srcElement.getAttribute("data-i"),M=+L.srcElement.getAttribute("data-j");var P=r[w];!mh(P)&&!G2(P)&&g()}}function A(F){b=[];for(var L=0;L<r.length;L++){var P=r[L],O=mh(P),U=!O&&G2(P);b[L]=[];for(var X=P.length,j=0;j<X;j++)if(P[j][0]!=="Z"&&!(U&&j!==LJ&&j!==RJ&&j!==DJ&&j!==PJ)){var $=O&&n.isActiveSelection,Y;$&&(Y=DT(P,j));var q=P[j][1],Z=P[j][2],ne=F.append($?"rect":"circle").attr("data-i",L).attr("data-j",j).style({fill:RT.background,stroke:RT.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if($){var Q=Y[1]-q,oe=Y[2]-Z,ee=oe?5:Math.max(Math.min(25,Math.abs(Q)-5),5),G=Q?5:Math.max(Math.min(25,Math.abs(oe)-5),5);ne.classed(oe?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",ee).attr("height",G).attr("x",q-ee/2).attr("y",Z-G/2).attr("transform",CJ(Q/2,oe/2))}else ne.classed("cursor-grab",!0).attr("r",5).attr("cx",q).attr("cy",Z);b[L][j]={element:ne.node(),gd:o,prepFn:T,doneFn:_,clickFn:c},LT.init(b[L][j])}}}function h(F,L){if(r.length)for(var P=0;P<r.length;P++)for(var O=0;O<r[P].length;O++)for(var U=0;U+2<r[P][O].length;U+=2)r[P][O][U+1]=m[P][O][U+1]+F,r[P][O][U+2]=m[P][O][U+2]+L}function R(F,L){h(F,L),i()}function E(F){w=+F.srcElement.getAttribute("data-i"),w||(w=0),y[w].moveFn=R}function D(){l()}function N(F){F===2&&UJ(o)}function I(){if(y=[],!!r.length){var F=0;y[F]={element:t[0][0],gd:o,prepFn:E,doneFn:D,clickFn:N},LT.init(y[F])}}};function BJ(e,r){for(var t=0;t<r.length;t++){var n=r[t];e[t]=[];for(var a=0;a<n.length;a++){e[t][a]=[];for(var o=0;o<n[a].length;o++)e[t][a][o]=n[a][o]}}return e}function DT(e,r){var t=e[r][1],n=e[r][2],a=e.length,o,i,l;return o=(r+1)%a,i=e[o][1],l=e[o][2],i===t&&l===n&&(o=(r+2)%a,i=e[o][1],l=e[o][2]),[o,i,l]}function UJ(e){if(FT(e._fullLayout.dragmode)){NT(e);var r=e._fullLayout._activeSelectionIndex,t=(e.layout||{}).selections||[];if(r<t.length){for(var n=[],a=0;a<t.length;a++)a!==r&&n.push(t[a]);delete e._fullLayout._activeSelectionIndex;var o=e._fullLayout.selections[r];e._fullLayout._deselect={xref:o.xref,yref:o.yref},IT.call("_guiRelayout",e,{selections:n})}}}});var Th=pe((vve,XT)=>{"use strict";var HJ=it(),VT=Er(),qT=ir(),hu=St(),VJ=Go().readPaths,GJ=bh(),wh=V2(),GT=Fo().clearOutlineControllers,W2=Zr(),Z2=yt(),YJ=gt().arrayEditor,OT=ti(),BT=Vo(),Kl=Of(),sa=Wo(),X2=sa.getPathString;XT.exports={draw:J2,drawOne:YT,eraseActiveShape:ZJ,drawLabel:wh};function J2(e){var r=e._fullLayout;r._shapeUpperLayer.selectAll("path").remove(),r._shapeLowerLayer.selectAll("path").remove(),r._shapeUpperLayer.selectAll("text").remove(),r._shapeLowerLayer.selectAll("text").remove();for(var t in r._plots){var n=r._plots[t].shapelayer;n&&(n.selectAll("path").remove(),n.selectAll("text").remove())}for(var a=0;a<r.shapes.length;a++)r.shapes[a].visible===!0&&YT(e,a)}function _h(e){return!!e._fullLayout._outlining}function Mh(e){return!e._context.edits.shapePosition}function YT(e,r){e._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+r+'"]').remove();var t=sa.makeShapesOptionsAndPlotinfo(e,r),n=t.options,a=t.plotinfo;if(!n._input||n.visible!==!0)return;if(n.layer==="above")i(e._fullLayout._shapeUpperLayer);else if(n.xref==="paper"||n.yref==="paper")i(e._fullLayout._shapeLowerLayer);else if(n.layer==="between")i(a.shapelayerBetween);else if(a._hadPlotinfo){var o=a.mainplotinfo||a;i(o.shapelayer)}else i(e._fullLayout._shapeLowerLayer);function i(l){var u=X2(e,n),s={"data-index":r,"fill-rule":n.fillrule,d:u},f=n.opacity,v=n.fillcolor,p=n.line.width?n.line.color:"rgba(0,0,0,0)",b=n.line.width,y=n.line.dash;!b&&n.editable===!0&&(b=5,y="solid");var w=u[u.length-1]!=="Z",M=Mh(e)&&n.editable&&e._fullLayout._activeShapeIndex===r;M&&(v=w?"rgba(0,0,0,0)":e._fullLayout.activeshape.fillcolor,f=e._fullLayout.activeshape.opacity);var m=l.append("g").classed("shape-group",!0).attr({"data-index":r}),k=m.append("path").attr(s).style("opacity",f).call(W2.stroke,p).call(W2.fill,v).call(Z2.dashLine,y,b);WT(m,e,n),wh(e,r,n,m);var S;if((M||e._context.edits.shapePosition)&&(S=YJ(e.layout,"shapes",n)),M){k.style({cursor:"move"});var x={element:k.node(),plotinfo:a,gd:e,editHelpers:S,hasText:n.label.text||n.label.texttemplate,isActiveShape:!0},T=VJ(u,e);GJ(T,k,x)}else e._context.edits.shapePosition?WJ(e,k,n,r,l,S):n.editable===!0&&k.style("pointer-events",w||W2.opacity(v)*f<=.5?"stroke":"all");k.node().addEventListener("click",function(){return XJ(e,k)})}}function WT(e,r,t){var n=(t.xref+t.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");Z2.setClipUrl(e,n?"clip"+r._fullLayout._uid+n:null,r)}function WJ(e,r,t,n,a,o){var i=10,l=10,u=t.xsizemode==="pixel",s=t.ysizemode==="pixel",f=t.type==="line",v=t.type==="path",p=o.modifyItem,b,y,w,M,m,k,S,x,T,d,_,g,c,A,h,R=HJ.select(r.node().parentNode),E=hu.getFromId(e,t.xref),D=hu.getRefType(t.xref),N=hu.getFromId(e,t.yref),I=hu.getRefType(t.yref),F=t.x0shift,L=t.x1shift,P=t.y0shift,O=t.y1shift,U=function(Me,ve){var Ae=sa.getDataToPixel(e,E,ve,!1,D);return Ae(Me)},X=function(Me,ve){var Ae=sa.getDataToPixel(e,N,ve,!0,I);return Ae(Me)},j=sa.getPixelToData(e,E,!1,D),$=sa.getPixelToData(e,N,!0,I),Y=ne(),q={element:Y.node(),gd:e,prepFn:ee,doneFn:G,clickFn:re},Z;OT.init(q),Y.node().onmousemove=oe;function ne(){return f?Q():r}function Q(){var Me=10,ve=Math.max(t.line.width,Me),Ae=a.append("g").attr("data-index",n).attr("drag-helper",!0);Ae.append("path").attr("d",r.attr("d")).style({cursor:"move","stroke-width":ve,"stroke-opacity":"0"});var ke={"fill-opacity":"0"},De=Math.max(ve/2,Me);return Ae.append("circle").attr({"data-line-point":"start-point",cx:u?U(t.xanchor)+t.x0:U(t.x0,F),cy:s?X(t.yanchor)-t.y0:X(t.y0,P),r:De}).style(ke).classed("cursor-grab",!0),Ae.append("circle").attr({"data-line-point":"end-point",cx:u?U(t.xanchor)+t.x1:U(t.x1,L),cy:s?X(t.yanchor)-t.y1:X(t.y1,O),r:De}).style(ke).classed("cursor-grab",!0),Ae}function oe(Me){if(_h(e)){Z=null;return}if(f)Me.target.tagName==="path"?Z="move":Z=Me.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var ve=q.element.getBoundingClientRect(),Ae=ve.right-ve.left,ke=ve.bottom-ve.top,De=Me.clientX-ve.left,Ce=Me.clientY-ve.top,Oe=!v&&Ae>i&&ke>l&&!Me.shiftKey?OT.getCursor(De/Ae,1-Ce/ke):"move";BT(r,Oe),Z=Oe.split("-")[0]}}function ee(Me){_h(e)||(u&&(m=U(t.xanchor)),s&&(k=X(t.yanchor)),t.type==="path"?h=t.path:(b=u?t.x0:U(t.x0),y=s?t.y0:X(t.y0),w=u?t.x1:U(t.x1),M=s?t.y1:X(t.y1)),b<w?(T=b,c="x0",d=w,A="x1"):(T=w,c="x1",d=b,A="x0"),!s&&y<M||s&&y>M?(S=y,_="y0",x=M,g="y1"):(S=M,_="y1",x=y,g="y0"),oe(Me),ue(a,t),Ee(r,t,e),q.moveFn=Z==="move"?H:te,q.altKey=Me.altKey)}function G(){_h(e)||(BT(r),de(a),WT(r,e,t),VT.call("_guiRelayout",e,o.getUpdateObj()))}function re(){_h(e)||de(a)}function H(Me,ve){if(t.type==="path"){var Ae=function(Ce){return Ce},ke=Ae,De=Ae;u?p("xanchor",t.xanchor=j(m+Me)):(ke=function(Oe){return j(U(Oe)+Me)},E&&E.type==="date"&&(ke=sa.encodeDate(ke))),s?p("yanchor",t.yanchor=$(k+ve)):(De=function(Oe){return $(X(Oe)+ve)},N&&N.type==="date"&&(De=sa.encodeDate(De))),p("path",t.path=UT(h,ke,De))}else u?p("xanchor",t.xanchor=j(m+Me)):(p("x0",t.x0=j(b+Me)),p("x1",t.x1=j(w+Me))),s?p("yanchor",t.yanchor=$(k+ve)):(p("y0",t.y0=$(y+ve)),p("y1",t.y1=$(M+ve)));r.attr("d",X2(e,t)),ue(a,t),wh(e,n,t,R)}function te(Me,ve){if(v){var Ae=function(Fe){return Fe},ke=Ae,De=Ae;u?p("xanchor",t.xanchor=j(m+Me)):(ke=function(Ze){return j(U(Ze)+Me)},E&&E.type==="date"&&(ke=sa.encodeDate(ke))),s?p("yanchor",t.yanchor=$(k+ve)):(De=function(Ze){return $(X(Ze)+ve)},N&&N.type==="date"&&(De=sa.encodeDate(De))),p("path",t.path=UT(h,ke,De))}else if(f){if(Z==="resize-over-start-point"){var Ce=b+Me,Oe=s?y-ve:y+ve;p("x0",t.x0=u?Ce:j(Ce)),p("y0",t.y0=s?Oe:$(Oe))}else if(Z==="resize-over-end-point"){var Ue=w+Me,ge=s?M-ve:M+ve;p("x1",t.x1=u?Ue:j(Ue)),p("y1",t.y1=s?ge:$(ge))}}else{var Te=function(Fe){return Z.indexOf(Fe)!==-1},ce=Te("n"),ye=Te("s"),Le=Te("w"),me=Te("e"),he=ce?S+ve:S,be=ye?x+ve:x,Se=Le?T+Me:T,ze=me?d+Me:d;s&&(ce&&(he=S-ve),ye&&(be=x-ve)),(!s&&be-he>l||s&&he-be>l)&&(p(_,t[_]=s?he:$(he)),p(g,t[g]=s?be:$(be))),ze-Se>i&&(p(c,t[c]=u?Se:j(Se)),p(A,t[A]=u?ze:j(ze)))}r.attr("d",X2(e,t)),ue(a,t),wh(e,n,t,R)}function ue(Me,ve){(u||s)&&Ae();function Ae(){var ke=ve.type!=="path",De=Me.selectAll(".visual-cue").data([0]),Ce=1;De.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Ce}).classed("visual-cue",!0);var Oe=U(u?ve.xanchor:qT.midRange(ke?[ve.x0,ve.x1]:sa.extractPathCoords(ve.path,Kl.paramIsX))),Ue=X(s?ve.yanchor:qT.midRange(ke?[ve.y0,ve.y1]:sa.extractPathCoords(ve.path,Kl.paramIsY)));if(Oe=sa.roundPositionForSharpStrokeRendering(Oe,Ce),Ue=sa.roundPositionForSharpStrokeRendering(Ue,Ce),u&&s){var ge="M"+(Oe-1-Ce)+","+(Ue-1-Ce)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";De.attr("d",ge)}else if(u){var Te="M"+(Oe-1-Ce)+","+(Ue-9-Ce)+"v18 h2 v-18 Z";De.attr("d",Te)}else{var ce="M"+(Oe-9-Ce)+","+(Ue-1-Ce)+"h18 v2 h-18 Z";De.attr("d",ce)}}}function de(Me){Me.selectAll(".visual-cue").remove()}function Ee(Me,ve,Ae){var ke=ve.xref,De=ve.yref,Ce=hu.getFromId(Ae,ke),Oe=hu.getFromId(Ae,De),Ue="";ke!=="paper"&&!Ce.autorange&&(Ue+=ke),De!=="paper"&&!Oe.autorange&&(Ue+=De),Z2.setClipUrl(Me,Ue?"clip"+Ae._fullLayout._uid+Ue:null,Ae)}}function UT(e,r,t){return e.replace(Kl.segmentRE,function(n){var a=0,o=n.charAt(0),i=Kl.paramIsX[o],l=Kl.paramIsY[o],u=Kl.numParams[o],s=n.substr(1).replace(Kl.paramRE,function(f){return a>=u||(i[a]?f=r(f):l[a]&&(f=t(f)),a++),f});return o+s})}function XJ(e,r){if(Mh(e)){var t=r.node(),n=+t.getAttribute("data-index");if(n>=0){if(n===e._fullLayout._activeShapeIndex){HT(e);return}e._fullLayout._activeShapeIndex=n,e._fullLayout._deactivateShape=HT,J2(e)}}}function HT(e){if(Mh(e)){var r=e._fullLayout._activeShapeIndex;r>=0&&(GT(e),delete e._fullLayout._activeShapeIndex,J2(e))}}function ZJ(e){if(Mh(e)){GT(e);var r=e._fullLayout._activeShapeIndex,t=(e.layout||{}).shapes||[];if(r<t.length){for(var n=[],a=0;a<t.length;a++)a!==r&&n.push(t[a]);return delete e._fullLayout._activeShapeIndex,VT.call("_guiRelayout",e,{shapes:n})}}}});var $2=pe((hve,tA)=>{"use strict";var Ia=Er(),ZT=ln(),JT=on(),jr=uh(),JJ=Th().eraseActiveShape,Ah=ir(),Kr=Ah._,et=tA.exports={};et.toImage={name:"toImage",title:function(e){var r=e._context.toImageButtonOptions||{},t=r.format||"png";return t==="png"?Kr(e,"Download plot as a png"):Kr(e,"Download plot")},icon:jr.camera,click:function(e){var r=e._context.toImageButtonOptions,t={format:r.format||"png"};Ah.notifier(Kr(e,"Taking snapshot - this may take a few seconds"),"long"),["filename","width","height","scale"].forEach(function(n){n in r&&(t[n]=r[n])}),Ia.call("downloadImage",e,t).then(function(n){Ah.notifier(Kr(e,"Snapshot succeeded")+" - "+n,"long")}).catch(function(){Ah.notifier(Kr(e,"Sorry, there was a problem downloading your snapshot!"),"long")})}};et.sendDataToCloud={name:"sendDataToCloud",title:function(e){return Kr(e,"Edit in Chart Studio")},icon:jr.disk,click:function(e){ZT.sendDataToCloud(e)}};et.editInChartStudio={name:"editInChartStudio",title:function(e){return Kr(e,"Edit in Chart Studio")},icon:jr.pencil,click:function(e){ZT.sendDataToCloud(e)}};et.zoom2d={name:"zoom2d",_cat:"zoom",title:function(e){return Kr(e,"Zoom")},attr:"dragmode",val:"zoom",icon:jr.zoombox,click:Un};et.pan2d={name:"pan2d",_cat:"pan",title:function(e){return Kr(e,"Pan")},attr:"dragmode",val:"pan",icon:jr.pan,click:Un};et.select2d={name:"select2d",_cat:"select",title:function(e){return Kr(e,"Box Select")},attr:"dragmode",val:"select",icon:jr.selectbox,click:Un};et.lasso2d={name:"lasso2d",_cat:"lasso",title:function(e){return Kr(e,"Lasso Select")},attr:"dragmode",val:"lasso",icon:jr.lasso,click:Un};et.drawclosedpath={name:"drawclosedpath",title:function(e){return Kr(e,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:jr.drawclosedpath,click:Un};et.drawopenpath={name:"drawopenpath",title:function(e){return Kr(e,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:jr.drawopenpath,click:Un};et.drawline={name:"drawline",title:function(e){return Kr(e,"Draw line")},attr:"dragmode",val:"drawline",icon:jr.drawline,click:Un};et.drawrect={name:"drawrect",title:function(e){return Kr(e,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:jr.drawrect,click:Un};et.drawcircle={name:"drawcircle",title:function(e){return Kr(e,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:jr.drawcircle,click:Un};et.eraseshape={name:"eraseshape",title:function(e){return Kr(e,"Erase active shape")},icon:jr.eraseshape,click:JJ};et.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(e){return Kr(e,"Zoom in")},attr:"zoom",val:"in",icon:jr.zoom_plus,click:Un};et.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(e){return Kr(e,"Zoom out")},attr:"zoom",val:"out",icon:jr.zoom_minus,click:Un};et.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(e){return Kr(e,"Autoscale")},attr:"zoom",val:"auto",icon:jr.autoscale,click:Un};et.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(e){return Kr(e,"Reset axes")},attr:"zoom",val:"reset",icon:jr.home,click:Un};et.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(e){return Kr(e,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:jr.tooltip_basic,gravity:"ne",click:Un};et.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(e){return Kr(e,"Compare data on hover")},attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:jr.tooltip_compare,gravity:"ne",click:Un};function Un(e,r){var t=r.currentTarget,n=t.getAttribute("data-attr"),a=t.getAttribute("data-val")||!0,o=e._fullLayout,i={},l=JT.list(e,null,!0),u=o._cartesianSpikesEnabled,s,f;if(n==="zoom"){var v=a==="in"?.5:2,p=(1+v)/2,b=(1-v)/2,y;for(f=0;f<l.length;f++)if(s=l[f],!s.fixedrange)if(y=s._name,a==="auto")i[y+".autorange"]=!0;else if(a==="reset")s._rangeInitial0===void 0&&s._rangeInitial1===void 0?i[y+".autorange"]=!0:s._rangeInitial0===void 0?(i[y+".autorange"]=s._autorangeInitial,i[y+".range"]=[null,s._rangeInitial1]):s._rangeInitial1===void 0?(i[y+".range"]=[s._rangeInitial0,null],i[y+".autorange"]=s._autorangeInitial):i[y+".range"]=[s._rangeInitial0,s._rangeInitial1],s._showSpikeInitial!==void 0&&(i[y+".showspikes"]=s._showSpikeInitial,u==="on"&&!s._showSpikeInitial&&(u="off"));else{var w=[s.r2l(s.range[0]),s.r2l(s.range[1])],M=[p*w[0]+b*w[1],p*w[1]+b*w[0]];i[y+".range[0]"]=s.l2r(M[0]),i[y+".range[1]"]=s.l2r(M[1])}}else n==="hovermode"&&(a==="x"||a==="y")&&(a=o._isHoriz?"y":"x",t.setAttribute("data-val",a)),i[n]=a;o._cartesianSpikesEnabled=u,Ia.call("_guiRelayout",e,i)}et.zoom3d={name:"zoom3d",_cat:"zoom",title:function(e){return Kr(e,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:jr.zoombox,click:kh};et.pan3d={name:"pan3d",_cat:"pan",title:function(e){return Kr(e,"Pan")},attr:"scene.dragmode",val:"pan",icon:jr.pan,click:kh};et.orbitRotation={name:"orbitRotation",title:function(e){return Kr(e,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:jr["3d_rotate"],click:kh};et.tableRotation={name:"tableRotation",title:function(e){return Kr(e,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:jr["z-axis"],click:kh};function kh(e,r){for(var t=r.currentTarget,n=t.getAttribute("data-attr"),a=t.getAttribute("data-val")||!0,o=e._fullLayout._subplots.gl3d||[],i={},l=n.split("."),u=0;u<o.length;u++)i[o[u]+"."+l[1]]=a;var s=a==="pan"?a:"zoom";i.dragmode=s,Ia.call("_guiRelayout",e,i)}et.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(e){return Kr(e,"Reset camera to default")},attr:"resetDefault",icon:jr.home,click:K2};et.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(e){return Kr(e,"Reset camera to last save")},attr:"resetLastSave",icon:jr.movie,click:K2};function K2(e,r){for(var t=r.currentTarget,n=t.getAttribute("data-attr"),a=n==="resetLastSave",o=n==="resetDefault",i=e._fullLayout,l=i._subplots.gl3d||[],u={},s=0;s<l.length;s++){var f=l[s],v=f+".camera",p=f+".aspectratio",b=f+".aspectmode",y=i[f]._scene,w;a?(u[v+".up"]=y.viewInitial.up,u[v+".eye"]=y.viewInitial.eye,u[v+".center"]=y.viewInitial.center,w=!0):o&&(u[v+".up"]=null,u[v+".eye"]=null,u[v+".center"]=null,w=!0),w&&(u[p+".x"]=y.viewInitial.aspectratio.x,u[p+".y"]=y.viewInitial.aspectratio.y,u[p+".z"]=y.viewInitial.aspectratio.z,u[b]=y.viewInitial.aspectmode)}Ia.call("_guiRelayout",e,u)}et.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(e){return Kr(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:jr.tooltip_basic,gravity:"ne",click:KJ};function KT(e,r){var t=r.currentTarget,n=t._previousVal,a=e._fullLayout,o=a._subplots.gl3d||[],i=["xaxis","yaxis","zaxis"],l={},u={};if(n)u=n,t._previousVal=null;else{for(var s=0;s<o.length;s++){var f=o[s],v=a[f],p=f+".hovermode";l[p]=v.hovermode,u[p]=!1;for(var b=0;b<3;b++){var y=i[b],w=f+"."+y+".showspikes";u[w]=!1,l[w]=v[y].showspikes}}t._previousVal=l}return u}function KJ(e,r){var t=KT(e,r);Ia.call("_guiRelayout",e,t)}et.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(e){return Kr(e,"Zoom in")},attr:"zoom",val:"in",icon:jr.zoom_plus,click:Q2};et.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(e){return Kr(e,"Zoom out")},attr:"zoom",val:"out",icon:jr.zoom_minus,click:Q2};et.resetGeo={name:"resetGeo",_cat:"reset",title:function(e){return Kr(e,"Reset")},attr:"reset",val:null,icon:jr.autoscale,click:Q2};et.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(e){return Kr(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:jr.tooltip_basic,gravity:"ne",click:$T};function Q2(e,r){for(var t=r.currentTarget,n=t.getAttribute("data-attr"),a=t.getAttribute("data-val")||!0,o=e._fullLayout,i=o._subplots.geo||[],l=0;l<i.length;l++){var u=i[l],s=o[u];if(n==="zoom"){var f=s.projection.scale,v=a==="in"?2*f:.5*f;Ia.call("_guiRelayout",e,u+".projection.scale",v)}}n==="reset"&&du(e,"geo")}et.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(e){return Kr(e,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:jr.tooltip_basic,gravity:"ne",click:$T};function QT(e){var r=e._fullLayout;return r.hovermode?!1:r._has("cartesian")?r._isHoriz?"y":"x":"closest"}function $T(e){var r=QT(e);Ia.call("_guiRelayout",e,"hovermode",r)}et.resetViewSankey={name:"resetSankeyGroup",title:function(e){return Kr(e,"Reset view")},icon:jr.home,click:function(e){for(var r={"node.groups":[],"node.x":[],"node.y":[]},t=0;t<e._fullData.length;t++){var n=e._fullData[t]._viewInitial;r["node.groups"].push(n.node.groups.slice()),r["node.x"].push(n.node.x.slice()),r["node.y"].push(n.node.y.slice())}Ia.call("restyle",e,r)}};et.toggleHover={name:"toggleHover",title:function(e){return Kr(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:jr.tooltip_basic,gravity:"ne",click:function(e,r){var t=KT(e,r);t.hovermode=QT(e),Ia.call("_guiRelayout",e,t)}};et.resetViews={name:"resetViews",title:function(e){return Kr(e,"Reset views")},icon:jr.home,click:function(e,r){var t=r.currentTarget;t.setAttribute("data-attr","zoom"),t.setAttribute("data-val","reset"),Un(e,r),t.setAttribute("data-attr","resetLastSave"),K2(e,r),du(e,"geo"),du(e,"mapbox"),du(e,"map")}};et.toggleSpikelines={name:"toggleSpikelines",title:function(e){return Kr(e,"Toggle Spike Lines")},icon:jr.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var r=e._fullLayout,t=r._cartesianSpikesEnabled;r._cartesianSpikesEnabled=t==="on"?"off":"on",Ia.call("_guiRelayout",e,QJ(e))}};function QJ(e){for(var r=e._fullLayout,t=r._cartesianSpikesEnabled==="on",n=JT.list(e,null,!0),a={},o=0;o<n.length;o++){var i=n[o];a[i._name+".showspikes"]=t?!0:i._showSpikeInitial}return a}et.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(e){return Kr(e,"Reset view")},attr:"reset",icon:jr.home,click:function(e){du(e,"mapbox")}};et.resetViewMap={name:"resetViewMap",_cat:"resetView",title:function(e){return Kr(e,"Reset view")},attr:"reset",icon:jr.home,click:function(e){du(e,"map")}};et.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(e){return Kr(e,"Zoom in")},attr:"zoom",val:"in",icon:jr.zoom_plus,click:jT};et.zoomInMap={name:"zoomInMap",_cat:"zoomin",title:function(e){return Kr(e,"Zoom in")},attr:"zoom",val:"in",icon:jr.zoom_plus,click:eA};et.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(e){return Kr(e,"Zoom out")},attr:"zoom",val:"out",icon:jr.zoom_minus,click:jT};et.zoomOutMap={name:"zoomOutMap",_cat:"zoomout",title:function(e){return Kr(e,"Zoom out")},attr:"zoom",val:"out",icon:jr.zoom_minus,click:eA};function jT(e,r){rA(e,r,"mapbox")}function eA(e,r){rA(e,r,"map")}function rA(e,r,t){for(var n=r.currentTarget,a=n.getAttribute("data-val"),o=e._fullLayout,i=o._subplots[t]||[],l=1.05,u={},s=0;s<i.length;s++){var f=i[s],v=o[f].zoom,p=a==="in"?l*v:v/l;u[f+".zoom"]=p}Ia.call("_guiRelayout",e,u)}function du(e,r){for(var t=e._fullLayout,n=t._subplots[r]||[],a={},o=0;o<n.length;o++)for(var i=n[o],l=t[i]._subplot,u=l.viewInitial,s=Object.keys(u),f=0;f<s.length;f++){var v=s[f];a[i+"."+v]=u[v]}Ia.call("_guiRelayout",e,a)}});var j2=pe((dve,oA)=>{"use strict";var nA=$2(),$J=Object.keys(nA),aA=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],iA=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(aA),pu=[],jJ=function(e){if(iA.indexOf(e._cat||e.name)===-1){var r=e.name,t=(e._cat||e.name).toLowerCase();pu.indexOf(r)===-1&&pu.push(r),pu.indexOf(t)===-1&&pu.push(t)}};$J.forEach(function(e){jJ(nA[e])});pu.sort();oA.exports={DRAW_MODES:aA,backButtons:iA,foreButtons:pu}});var ey=pe((gve,lA)=>{"use strict";var pve=j2();lA.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}});var uA=pe((yve,sA)=>{"use strict";var eK=ir(),Uf=Zr(),rK=gt(),tK=ey();sA.exports=function(r,t){var n=r.modebar||{},a=rK.newContainer(t,"modebar");function o(l,u){return eK.coerce(n,a,tK,l,u)}o("orientation"),o("bgcolor",Uf.addOpacity(t.paper_bgcolor,.5));var i=Uf.contrast(Uf.rgb(t.modebar.bgcolor));o("color",Uf.addOpacity(i,.3)),o("activecolor",Uf.addOpacity(i,.7)),o("uirevision",t.uirevision),o("add"),o("remove")}});var hA=pe((mve,vA)=>{"use strict";var ry=it(),nK=rt(),Sh=ir(),fA=uh(),aK=pc().version,iK=new DOMParser;function cA(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var zi=cA.prototype;zi.update=function(e,r){this.graphInfo=e;var t=this.graphInfo._context,n=this.graphInfo._fullLayout,a="modebar-"+n._uid;this.element.setAttribute("id",a),this._uid=a,this.element.className="modebar",t.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),n.modebar.orientation==="v"&&(this.element.className+=" vertical",r=r.reverse());var o=n.modebar,i="#"+a+" .modebar-group";document.querySelectorAll(i).forEach(function(v){v.style.backgroundColor=o.bgcolor});var l=!this.hasButtons(r),u=this.hasLogo!==t.displaylogo,s=this.locale!==t.locale;if(this.locale=t.locale,(l||u||s)&&(this.removeAllButtons(),this.updateButtons(r),t.watermark||t.displaylogo)){var f=this.getLogo();t.watermark&&(f.className=f.className+" watermark"),n.modebar.orientation==="v"?this.element.insertBefore(f,this.element.childNodes[0]):this.element.appendChild(f),this.hasLogo=!0}this.updateActiveButton(),Sh.setStyleOnHover("#"+a+" .modebar-btn",".active",".icon path","fill: "+o.activecolor,"fill: "+o.color,this.element)};zi.updateButtons=function(e){var r=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(t){var n=r.createGroup();t.forEach(function(a){var o=a.name;if(!o)throw new Error("must provide button 'name' in button config");if(r.buttonsNames.indexOf(o)!==-1)throw new Error("button name '"+o+"' is taken");r.buttonsNames.push(o);var i=r.createButton(a);r.buttonElements.push(i),n.appendChild(i)}),r.element.appendChild(n)})};zi.createGroup=function(){var e=document.createElement("div");e.className="modebar-group";var r=this.graphInfo._fullLayout.modebar;return e.style.backgroundColor=r.bgcolor,e};zi.createButton=function(e){var r=this,t=document.createElement("a");t.setAttribute("rel","tooltip"),t.className="modebar-btn";var n=e.title;n===void 0?n=e.name:typeof n=="function"&&(n=n(this.graphInfo)),(n||n===0)&&t.setAttribute("data-title",n),e.attr!==void 0&&t.setAttribute("data-attr",e.attr);var a=e.val;a!==void 0&&(typeof a=="function"&&(a=a(this.graphInfo)),t.setAttribute("data-val",a));var o=e.click;if(typeof o!="function")throw new Error("must provide button 'click' function in button config");t.addEventListener("click",function(l){e.click(r.graphInfo,l),r.updateActiveButton(l.currentTarget)}),t.setAttribute("data-toggle",e.toggle||!1),e.toggle&&ry.select(t).classed("active",!0);var i=e.icon;return typeof i=="function"?t.appendChild(i()):t.appendChild(this.createIcon(i||fA.question)),t.setAttribute("data-gravity",e.gravity||"n"),t};zi.createIcon=function(e){var r=nK(e.height)?Number(e.height):e.ascent-e.descent,t="http://www.w3.org/2000/svg",n;if(e.path){n=document.createElementNS(t,"svg"),n.setAttribute("viewBox",[0,0,e.width,r].join(" ")),n.setAttribute("class","icon");var a=document.createElementNS(t,"path");a.setAttribute("d",e.path),e.transform?a.setAttribute("transform",e.transform):e.ascent!==void 0&&a.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),n.appendChild(a)}if(e.svg){var o=iK.parseFromString(e.svg,"application/xml");n=o.childNodes[0]}return n.setAttribute("height","1em"),n.setAttribute("width","1em"),n};zi.updateActiveButton=function(e){var r=this.graphInfo._fullLayout,t=e!==void 0?e.getAttribute("data-attr"):null;this.buttonElements.forEach(function(n){var a=n.getAttribute("data-val")||!0,o=n.getAttribute("data-attr"),i=n.getAttribute("data-toggle")==="true",l=ry.select(n),u=function(v,p){var b=r.modebar,y=v.querySelector(".icon path");y&&(p||v.matches(":hover")?y.style.fill=b.activecolor:y.style.fill=b.color)};if(i){if(o===t){var s=!l.classed("active");l.classed("active",s),u(n,s)}}else{var f=o===null?o:Sh.nestedProperty(r,o).get();l.classed("active",f===a),u(n,f===a)}})};zi.hasButtons=function(e){var r=this.buttons;if(!r||e.length!==r.length)return!1;for(var t=0;t<e.length;++t){if(e[t].length!==r[t].length)return!1;for(var n=0;n<e[t].length;n++)if(e[t][n].name!==r[t][n].name)return!1}return!0};function oK(e){return e+" (v"+aK+")"}zi.getLogo=function(){var e=this.createGroup(),r=document.createElement("a");return r.href="https://plotly.com/",r.target="_blank",r.setAttribute("data-title",oK(Sh._(this.graphInfo,"Produced with Plotly.js"))),r.className="modebar-btn plotlyjsicon modebar-btn--logo",r.appendChild(this.createIcon(fA.newplotlylogo)),e.appendChild(r),e};zi.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1};zi.destroy=function(){Sh.removeElement(this.container.querySelector(".modebar"))};function lK(e,r){var t=e._fullLayout,n=new cA({graphInfo:e,container:t._modebardiv.node(),buttons:r});return t._privateplot&&ry.select(n.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),n}vA.exports=lK});var gA=pe((xve,pA)=>{"use strict";var sK=on(),dA=oa(),ty=Er(),uK=to().isUnifiedHover,fK=hA(),Ch=$2(),cK=j2().DRAW_MODES,vK=ir().extendDeep;pA.exports=function(r){var t=r._fullLayout,n=r._context,a=t._modeBar;if(!n.displayModeBar&&!n.watermark){a&&(a.destroy(),delete t._modeBar);return}if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var o=n.modeBarButtons,i;Array.isArray(o)&&o.length?i=mK(o):!n.displayModeBar&&n.watermark?i=[]:i=hK(r),a?a.update(r,i):t._modeBar=fK(r,i)};function hK(e){var r=e._fullLayout,t=e._fullData,n=e._context;function a(L,P){if(typeof P=="string"){if(P.toLowerCase()===L.toLowerCase())return!0}else{var O=P.name,U=P._cat||P.name;if(O===L||U===L.toLowerCase())return!0}return!1}var o=r.modebar.add;typeof o=="string"&&(o=[o]);var i=r.modebar.remove;typeof i=="string"&&(i=[i]);var l=n.modeBarButtonsToAdd.concat(o.filter(function(L){for(var P=0;P<n.modeBarButtonsToRemove.length;P++)if(a(L,n.modeBarButtonsToRemove[P]))return!1;return!0})),u=n.modeBarButtonsToRemove.concat(i.filter(function(L){for(var P=0;P<n.modeBarButtonsToAdd.length;P++)if(a(L,n.modeBarButtonsToAdd[P]))return!1;return!0})),s=r._has("cartesian"),f=r._has("gl3d"),v=r._has("geo"),p=r._has("pie"),b=r._has("funnelarea"),y=r._has("ternary"),w=r._has("mapbox"),M=r._has("map"),m=r._has("polar"),k=r._has("smith"),S=r._has("sankey"),x=dK(r),T=uK(r.hovermode),d=[];function _(L){if(L.length){for(var P=[],O=0;O<L.length;O++){for(var U=L[O],X=Ch[U],j=X.name.toLowerCase(),$=(X._cat||X.name).toLowerCase(),Y=!1,q=0;q<u.length;q++){var Z=u[q].toLowerCase();if(Z===j||Z===$){Y=!0;break}}Y||P.push(Ch[U])}d.push(P)}}var g=["toImage"];n.showEditInChartStudio?g.push("editInChartStudio"):n.showSendToCloud&&g.push("sendDataToCloud"),_(g);var c=[],A=[],h=[],R=[];(s||p||b||y)+v+f+w+M+m+k>1?(A=["toggleHover"],h=["resetViews"]):v?(c=["zoomInGeo","zoomOutGeo"],A=["hoverClosestGeo"],h=["resetGeo"]):f?(A=["hoverClosest3d"],h=["resetCameraDefault3d","resetCameraLastSave3d"]):w?(c=["zoomInMapbox","zoomOutMapbox"],A=["toggleHover"],h=["resetViewMapbox"]):M?(c=["zoomInMap","zoomOutMap"],A=["toggleHover"],h=["resetViewMap"]):p?A=["hoverClosestPie"]:S?(A=["hoverClosestCartesian","hoverCompareCartesian"],h=["resetViewSankey"]):A=["toggleHover"],s&&A.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(gK(t)||T)&&(A=[]),s&&!x&&(c=["zoomIn2d","zoomOut2d","autoScale2d"],h[0]!=="resetViews"&&(h=["resetScale2d"])),f?R=["zoom3d","pan3d","orbitRotation","tableRotation"]:s&&!x||y?R=["zoom2d","pan2d"]:w||M||v?R=["pan2d"]:m&&(R=["zoom2d"]),pK(t)&&R.push("select2d","lasso2d");var E=[],D=function(L){E.indexOf(L)===-1&&A.indexOf(L)!==-1&&E.push(L)};if(Array.isArray(l)){for(var N=[],I=0;I<l.length;I++){var F=l[I];typeof F=="string"?(F=F.toLowerCase(),cK.indexOf(F)!==-1?(r._has("mapbox")||r._has("map")||r._has("cartesian"))&&R.push(F):F==="togglespikelines"?D("toggleSpikelines"):F==="togglehover"?D("toggleHover"):F==="hovercompare"?D("hoverCompareCartesian"):F==="hoverclosest"?(D("hoverClosestCartesian"),D("hoverClosestGeo"),D("hoverClosest3d"),D("hoverClosestPie")):F==="v1hovermode"&&(D("hoverClosestCartesian"),D("hoverCompareCartesian"),D("hoverClosestGeo"),D("hoverClosest3d"),D("hoverClosestPie"))):N.push(F)}l=N}return _(R),_(c.concat(h)),_(E),yK(d,l)}function dK(e){for(var r=sK.list({_fullLayout:e},null,!0),t=0;t<r.length;t++)if(!r[t].fixedrange)return!1;return!0}function pK(e){for(var r=!1,t=0;t<e.length&&!r;t++){var n=e[t];!n._module||!n._module.selectPoints||(ty.traceIs(n,"scatter-like")?(dA.hasMarkers(n)||dA.hasText(n))&&(r=!0):ty.traceIs(n,"box-violin")?(n.boxpoints==="all"||n.points==="all")&&(r=!0):r=!0)}return r}function gK(e){for(var r=0;r<e.length;r++)if(!ty.traceIs(e[r],"noHover"))return!1;return!0}function yK(e,r){if(r.length)if(Array.isArray(r[0]))for(var t=0;t<r.length;t++)e.push(r[t]);else e.push(r);return e}function mK(e){for(var r=vK([],e),t=0;t<r.length;t++)for(var n=r[t],a=0;a<n.length;a++){var o=n[a];if(typeof o=="string")if(Ch[o]!==void 0)r[t][a]=Ch[o];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return r}});var ny=pe((bve,yA)=>{"use strict";yA.exports={moduleType:"component",name:"modebar",layoutAttributes:ey(),supplyLayoutDefaults:uA(),manage:gA()}});var ay=pe((_ve,mA)=>{"use strict";var xK=qn().FROM_BL;mA.exports=function(r,t,n){n===void 0&&(n=xK[r.constraintoward||"center"]);var a=[r.r2l(r.range[0]),r.r2l(r.range[1])],o=a[0]+(a[1]-a[0])*n;r.range=r._input.range=[r.l2r(o+(a[0]-o)*t),r.l2r(o+(a[1]-o)*t)],r.setScale()}});var Vf=pe(Hf=>{"use strict";var Ql=ir(),iy=$s(),ai=on().id2name,bK=Ra(),xA=ay(),_K=Rv(),wK=nn().ALMOST_EQUAL,MK=qn().FROM_BL;Hf.handleDefaults=function(e,r,t){var n=t.axIds,a=t.axHasImage,o=r._axisConstraintGroups=[],i=r._axisMatchGroups=[],l,u,s,f,v,p,b,y;for(l=0;l<n.length;l++)f=ai(n[l]),v=e[f],p=r[f],TK(v,p,{axIds:n,layoutOut:r,hasImage:a[f]});function w(g,c){for(l=0;l<g.length;l++){u=g[l];for(s in u)r[ai(s)][c]=u}}for(w(i,"_matchGroup"),l=0;l<o.length;l++){u=o[l];for(s in u)if(p=r[ai(s)],p.fixedrange){for(var M in u){var m=ai(M);(e[m]||{}).fixedrange===!1&&Ql.warn("fixedrange was specified as false for axis "+m+" but was overridden because another axis in its constraint group has fixedrange true"),r[m].fixedrange=!0}break}}for(l=0;l<o.length;){u=o[l];for(s in u){p=r[ai(s)],p._matchGroup&&Object.keys(p._matchGroup).length===Object.keys(u).length&&(o.splice(l,1),l--);break}l++}w(o,"_constraintGroup");var k=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],S=!1,x=!1;function T(){y=p[b],b==="rangebreaks"&&(x=p._hasDayOfWeekBreaks)}for(l=0;l<i.length;l++){u=i[l];for(var d=0;d<k.length;d++){b=k[d],y=null;var _;for(s in u)if(f=ai(s),v=e[f],p=r[f],b in p){if(!p.matches&&(_=p,b in v)){T();break}y===null&&b in v&&T()}if(b==="range"&&y&&v.range&&v.range.length===2&&v.range[0]!==null&&v.range[1]!==null&&(S=!0),b==="autorange"&&y===null&&S&&(y=!1),y===null&&b in _&&(y=_[b]),y!==null)for(s in u)p=r[ai(s)],p[b]=b==="range"?y.slice():y,b==="rangebreaks"&&(p._hasDayOfWeekBreaks=x,_K(p,r))}}};function TK(e,r,t){var n=t.axIds,a=t.layoutOut,o=t.hasImage,i=a._axisConstraintGroups,l=a._axisMatchGroups,u=r._id,s=u.charAt(0),f=((a._splomAxes||{})[s]||{})[u]||{},v=r._id,p=v.charAt(0)==="x";r._matchGroup=null,r._constraintGroup=null;function b(R,E){return Ql.coerce(e,r,bK,R,E)}b("constrain",o?"domain":"range"),Ql.coerce(e,r,{constraintoward:{valType:"enumerated",values:p?["left","center","right"]:["bottom","middle","top"],dflt:p?"center":"middle"}},"constraintoward");var y=r.type,w,M,m=[];for(w=0;w<n.length;w++)if(M=n[w],M!==v){var k=a[ai(M)];k.type===y&&m.push(M)}var S=wA(i,v);if(S){var x=[];for(w=0;w<m.length;w++)M=m[w],S[M]||x.push(M);m=x}var T=m.length,d,_;T&&(e.matches||f.matches)&&(d=Ql.coerce(e,r,{matches:{valType:"enumerated",values:m,dflt:m.indexOf(f.matches)!==-1?f.matches:void 0}},"matches"));var g=o&&!p?r.anchor:void 0;if(T&&!d&&(e.scaleanchor||g)&&(_=Ql.coerce(e,r,{scaleanchor:{valType:"enumerated",values:m.concat([!1])}},"scaleanchor",g)),d){r._matchGroup=oy(l,v,d,1);var c=a[ai(d)],A=bA(a,r)/bA(a,c);p!==(d.charAt(0)==="x")&&(A=(p?"x":"y")+A),oy(i,v,d,A)}else e.matches&&n.indexOf(e.matches)!==-1&&Ql.warn("ignored "+r._name+'.matches: "'+e.matches+'" to avoid an infinite loop');if(_){var h=b("scaleratio");h||(h=r.scaleratio=1),oy(i,v,_,h)}else e.scaleanchor&&n.indexOf(e.scaleanchor)!==-1&&Ql.warn("ignored "+r._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function bA(e,r){var t=r.domain;return t||(t=e[ai(r.overlaying)].domain),t[1]-t[0]}function wA(e,r){for(var t=0;t<e.length;t++)if(e[t][r])return e[t];return null}function oy(e,r,t,n){var a,o,i,l,u,s=wA(e,r);s===null?(s={},s[r]=1,u=e.length,e.push(s)):u=e.indexOf(s);var f=Object.keys(s);for(a=0;a<e.length;a++)if(i=e[a],a!==u&&i[t]){var v=i[t];for(o=0;o<f.length;o++)l=f[o],i[l]=ly(v,ly(n,s[l]));e.splice(u,1);return}if(n!==1)for(o=0;o<f.length;o++){var p=f[o];s[p]=ly(n,s[p])}s[t]=1}function ly(e,r){var t="",n="",a,o;typeof e=="string"&&(t=e.match(/^[xy]*/)[0],a=t.length,e=+e.substr(a)),typeof r=="string"&&(n=r.match(/^[xy]*/)[0],o=n.length,r=+r.substr(o));var i=e*r;return!a&&!o?i:!a||!o||t.charAt(0)===n.charAt(0)?t+n+e*r:a===o?i:(a>o?t.substr(o):n.substr(a))+i}function AK(e,r){for(var t=r._size,n=t.h/t.w,a={},o=Object.keys(e),i=0;i<o.length;i++){var l=o[i],u=e[l];if(typeof u=="string"){var s=u.match(/^[xy]*/)[0],f=s.length;u=+u.substr(f);for(var v=s.charAt(0)==="y"?n:1/n,p=0;p<f;p++)u*=v}a[l]=u}return a}Hf.enforce=function(r){var t=r._fullLayout,n=t._axisConstraintGroups||[],a,o,i,l,u,s,f,v;for(a=0;a<n.length;a++){i=AK(n[a],t);var p=Object.keys(i),b=1/0,y=0,w=1/0,M={},m={},k=!1;for(o=0;o<p.length;o++)l=p[o],m[l]=u=t[ai(l)],u._inputDomain?u.domain=u._inputDomain.slice():u._inputDomain=u.domain.slice(),u._inputRange||(u._inputRange=u.range.slice()),u.setScale(),M[l]=s=Math.abs(u._m)/i[l],b=Math.min(b,s),(u.constrain==="domain"||!u._constraintShrinkable)&&(w=Math.min(w,s)),delete u._constraintShrinkable,y=Math.max(y,s),u.constrain==="domain"&&(k=!0);if(!(b>wK*y&&!k)){for(o=0;o<p.length;o++)if(l=p[o],s=M[l],u=m[l],f=u.constrain,s!==w||f==="domain")if(v=s/w,f==="range")xA(u,v);else{var S=u._inputDomain,x=(u.domain[1]-u.domain[0])/(S[1]-S[0]),T=(u.r2l(u.range[1])-u.r2l(u.range[0]))/(u.r2l(u._inputRange[1])-u.r2l(u._inputRange[0]));if(v/=x,v*T<1){u.domain=u._input.domain=S.slice(),xA(u,v);continue}if(T<1&&(u.range=u._input.range=u._inputRange.slice(),v*=T),u.autorange){var d=u.r2l(u.range[0]),_=u.r2l(u.range[1]),g=(d+_)/2,c=g,A=g,h=Math.abs(_-g),R=g-h*v*1.0001,E=g+h*v*1.0001,D=iy.makePadFn(t,u,0),N=iy.makePadFn(t,u,1);_A(u,v);var I=Math.abs(u._m),F=iy.concatExtremes(r,u),L=F.min,P=F.max,O,U;for(U=0;U<L.length;U++)O=L[U].val-D(L[U])/I,O>R&&O<c&&(c=O);for(U=0;U<P.length;U++)O=P[U].val+N(P[U])/I,O<E&&O>A&&(A=O);var X=(A-c)/(2*h);v/=X,c=u.l2r(c),A=u.l2r(A),u.range=u._input.range=d<_?[c,A]:[A,c]}_A(u,v)}}}};Hf.getAxisGroup=function(r,t){for(var n=r._axisMatchGroups,a=0;a<n.length;a++){var o=n[a];if(o[t])return"g"+a}return t};Hf.clean=function(r,t){if(t._inputDomain){for(var n=!1,a=t._id,o=r._fullLayout._axisConstraintGroups,i=0;i<o.length;i++)if(o[i][a]){n=!0;break}(!n||t.constrain!=="domain")&&(t._input.domain=t.domain=t._inputDomain,delete t._inputDomain)}};function _A(e,r){var t=e._inputDomain,n=MK[e.constraintoward],a=t[0]+(t[1]-t[0])*n;e.domain=e._input.domain=[a+(t[0]-a)/r,a+(t[1]-a)/r],e.setScale()}});var Rh=pe(fn=>{"use strict";var Lh=it(),Hn=Er(),ma=ln(),Na=ir(),sy=Yn(),uy=sh(),Gf=Zr(),gu=yt(),MA=Sf(),CA=ny(),Yf=St(),so=qn(),EA=Vf(),kK=EA.enforce,SK=EA.clean,TA=$s().doAutoRange,LA="start",CK="middle",RA="end",EK=wn().zindexSeparator;fn.layoutStyles=function(e){return Na.syncOrAsync([ma.doAutoMargin,RK],e)};function LK(e,r,t){for(var n=0;n<t.length;n++){var a=t[n][0],o=t[n][1];if(!(a[0]>=e[1]||a[1]<=e[0])&&o[0]<r[1]&&o[1]>r[0])return!0}return!1}function RK(e){var r=e._fullLayout,t=r._size,n=t.p,a=Yf.list(e,"",!0),o,i,l,u,s,f;if(r._paperdiv.style({width:e._context.responsive&&r.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":r.width+"px",height:e._context.responsive&&r.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":r.height+"px"}).selectAll(".main-svg").call(gu.setSize,r.width,r.height),e._context.setBackground(e,r.paper_bgcolor),fn.drawMainTitle(e),CA.manage(e),!r._has("cartesian"))return ma.previousPromises(e);function v(ee,G,re){var H=ee._lw/2;if(ee._id.charAt(0)==="x"){if(G){if(re==="top")return G._offset-n-H}else return t.t+t.h*(1-(ee.position||0))+H%1;return G._offset+G._length+n+H}if(G){if(re==="right")return G._offset+G._length+n+H}else return t.l+t.w*(ee.position||0)+H%1;return G._offset-n-H}for(o=0;o<a.length;o++){u=a[o];var p=u._anchorAxis;u._linepositions={},u._lw=gu.crispRound(e,u.linewidth,1),u._mainLinePosition=v(u,p,u.side),u._mainMirrorPosition=u.mirror&&p?v(u,p,so.OPPOSITE_SIDE[u.side]):null}var b=[],y=[],w=[],M=Gf.opacity(r.paper_bgcolor)===1&&Gf.opacity(r.plot_bgcolor)===1&&r.paper_bgcolor===r.plot_bgcolor;for(i in r._plots)if(l=r._plots[i],l.mainplot)l.bg&&l.bg.remove(),l.bg=void 0;else{var m=l.xaxis.domain,k=l.yaxis.domain,S=l.plotgroup;if(LK(m,k,w)&&i.indexOf(EK)===-1){var x=S.node(),T=l.bg=Na.ensureSingle(S,"rect","bg");x.insertBefore(T.node(),x.childNodes[0]),y.push(i)}else S.select("rect.bg").remove(),w.push([m,k]),M||(b.push(i),y.push(i))}var d=r._bgLayer.selectAll(".bg").data(b);for(d.enter().append("rect").classed("bg",!0),d.exit().remove(),d.each(function(ee){r._plots[ee].bg=Lh.select(this)}),o=0;o<y.length;o++)l=r._plots[y[o]],s=l.xaxis,f=l.yaxis,l.bg&&s._offset!==void 0&&f._offset!==void 0&&l.bg.call(gu.setRect,s._offset-n,f._offset-n,s._length+2*n,f._length+2*n).call(Gf.fill,r.plot_bgcolor).style("stroke-width",0);if(!r._hasOnlyLargeSploms)for(i in r._plots){l=r._plots[i],s=l.xaxis,f=l.yaxis;var _=l.clipId="clip"+r._uid+i+"plot",g=Na.ensureSingleById(r._clips,"clipPath",_,function(ee){ee.classed("plotclip",!0).append("rect")});l.clipRect=g.select("rect").attr({width:s._length,height:f._length}),gu.setTranslate(l.plot,s._offset,f._offset);var c,A;l._hasClipOnAxisFalse?(c=null,A=_):(c=_,A=null),gu.setClipUrl(l.plot,c,e),l.layerClipId=A}var h,R,E,D,N,I,F,L,P,O,U,X,j;function $(ee){return"M"+h+","+ee+"H"+R}function Y(ee){return"M"+s._offset+","+ee+"h"+s._length}function q(ee){return"M"+ee+","+L+"V"+F}function Z(ee){return f._shift!==void 0&&(ee+=f._shift),"M"+ee+","+f._offset+"v"+f._length}function ne(ee,G,re){if(!ee.showline||i!==ee._mainSubplot)return"";if(!ee._anchorAxis)return re(ee._mainLinePosition);var H=G(ee._mainLinePosition);return ee.mirror&&(H+=G(ee._mainMirrorPosition)),H}for(i in r._plots){l=r._plots[i],s=l.xaxis,f=l.yaxis;var Q="M0,0";AA(s,i)&&(N=Eh(s,"left",f,a),h=s._offset-(N?n+N:0),I=Eh(s,"right",f,a),R=s._offset+s._length+(I?n+I:0),E=v(s,f,"bottom"),D=v(s,f,"top"),j=!s._anchorAxis||i!==s._mainSubplot,j&&(s.mirror==="allticks"||s.mirror==="all")&&(s._linepositions[i]=[E,D]),Q=ne(s,$,Y),j&&s.showline&&(s.mirror==="all"||s.mirror==="allticks")&&(Q+=$(E)+$(D)),l.xlines.style("stroke-width",s._lw+"px").call(Gf.stroke,s.showline?s.linecolor:"rgba(0,0,0,0)")),l.xlines.attr("d",Q);var oe="M0,0";AA(f,i)&&(U=Eh(f,"bottom",s,a),F=f._offset+f._length+(U?n:0),X=Eh(f,"top",s,a),L=f._offset-(X?n:0),P=v(f,s,"left"),O=v(f,s,"right"),j=!f._anchorAxis||i!==f._mainSubplot,j&&(f.mirror==="allticks"||f.mirror==="all")&&(f._linepositions[i]=[P,O]),oe=ne(f,q,Z),j&&f.showline&&(f.mirror==="all"||f.mirror==="allticks")&&(oe+=q(P)+q(O)),l.ylines.style("stroke-width",f._lw+"px").call(Gf.stroke,f.showline?f.linecolor:"rgba(0,0,0,0)")),l.ylines.attr("d",oe)}return Yf.makeClipPaths(e),ma.previousPromises(e)}function AA(e,r){return(e.ticks||e.showline)&&(r===e._mainSubplot||e.mirror==="all"||e.mirror==="allticks")}function kA(e,r,t){if(!t.showline||!t._lw)return!1;if(t.mirror==="all"||t.mirror==="allticks")return!0;var n=t._anchorAxis;if(!n)return!1;var a=so.FROM_BL[r];return t.side===r?n.domain[a]===e.domain[a]:t.mirror&&n.domain[1-a]===e.domain[1-a]}function Eh(e,r,t,n){if(kA(e,r,t))return t._lw;for(var a=0;a<n.length;a++){var o=n[a];if(o._mainAxis===t._mainAxis&&kA(e,r,o))return o._lw}return 0}fn.drawMainTitle=function(e){var r=e._fullLayout.title,t=e._fullLayout,n=qK(t),a=OK(t),o=zK(t,a),i=NK(t,n);if(MA.draw(e,"gtitle",{propContainer:t,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:t._dfltTitle.plot,subtitlePlaceholder:t._dfltTitle.subtitle,attributes:{x:i,y:o,"text-anchor":n,dy:a}}),r.text&&r.automargin){var l=Lh.selectAll(".gtitle"),u=gu.bBox(Lh.selectAll(".g-gtitle").node()).height,s=FK(e,r,u);if(s>0){IK(e,o,s,u),l.attr({x:i,y:o,"text-anchor":n,dy:SA(r.yanchor)}).call(sy.positionText,i,o);var f=(r.text.match(sy.BR_TAG_ALL)||[]).length;if(f){var v=so.LINE_SPACING*f+so.MID_SHIFT;r.y===0&&(v=-v),l.selectAll(".line").each(function(){var M=+this.getAttribute("dy").slice(0,-2)-v+"em";this.setAttribute("dy",M)})}var p=Lh.selectAll(".gtitle-subtitle");if(p.node()){var b=l.node().getBBox(),y=b.y+b.height,w=y+MA.SUBTITLE_PADDING_EM*r.subtitle.font.size;p.attr({x:i,y:w,"text-anchor":n,dy:SA(r.yanchor)}).call(sy.positionText,i,w)}}}};function DK(e,r,t,n,a){var o=r.yref==="paper"?e._fullLayout._size.h:e._fullLayout.height,i=Na.isTopAnchor(r)?n:n-a,l=t==="b"?o-i:i;return Na.isTopAnchor(r)&&t==="t"||Na.isBottomAnchor(r)&&t==="b"?!1:l<a}function PK(e,r,t,n,a){var o=0;return t==="middle"&&(o+=a/2),e==="t"?(t==="top"&&(o+=a),o+=n-r*n):(t==="bottom"&&(o+=a),o+=r*n),o}function FK(e,r,t){var n=r.y,a=r.yanchor,o=n>.5?"t":"b",i=e._fullLayout.margin[o],l=0;return r.yref==="paper"?l=t+r.pad.t+r.pad.b:r.yref==="container"&&(l=PK(o,n,a,e._fullLayout.height,t)+r.pad.t+r.pad.b),l>i?l:0}function IK(e,r,t,n){var a="title.automargin",o=e._fullLayout.title,i=o.y>.5?"t":"b",l={x:o.x,y:o.y,t:0,b:0},u={};o.yref==="paper"&&DK(e,o,i,r,n)?l[i]=t:o.yref==="container"&&(u[i]=t,e._fullLayout._reservedMargin[a]=u),ma.allowAutoMargin(e,a),ma.autoMargin(e,a,l)}function NK(e,r){var t=e.title,n=e._size,a=0;switch(r===LA?a=t.pad.l:r===RA&&(a=-t.pad.r),t.xref){case"paper":return n.l+n.w*t.x+a;case"container":default:return e.width*t.x+a}}function zK(e,r){var t=e.title,n=e._size,a=0;if(r==="0em"||!r?a=-t.pad.b:r===so.CAP_SHIFT+"em"&&(a=t.pad.t),t.y==="auto")return n.t/2;switch(t.yref){case"paper":return n.t+n.h-n.h*t.y+a;case"container":default:return e.height-e.height*t.y+a}}function SA(e){return e==="top"?so.CAP_SHIFT+.3+"em":e==="bottom"?"-0.3em":so.MID_SHIFT+"em"}function qK(e){var r=e.title,t=CK;return Na.isRightAnchor(r)?t=RA:Na.isLeftAnchor(r)&&(t=LA),t}function OK(e){var r=e.title,t="0em";return Na.isTopAnchor(r)?t=so.CAP_SHIFT+"em":Na.isMiddleAnchor(r)&&(t=so.MID_SHIFT+"em"),t}fn.doTraceStyle=function(e){var r=e.calcdata,t=[],n;for(n=0;n<r.length;n++){var a=r[n],o=a[0]||{},i=o.trace||{},l=i._module||{},u=l.arraysToCalcdata;u&&u(a,i);var s=l.editStyle;s&&t.push({fn:s,cd0:o})}if(t.length){for(n=0;n<t.length;n++){var f=t[n];f.fn(e,f.cd0)}uy(e),fn.redrawReglTraces(e)}return ma.style(e),Hn.getComponentMethod("legend","draw")(e),ma.previousPromises(e)};fn.doColorBars=function(e){return Hn.getComponentMethod("colorbar","draw")(e),ma.previousPromises(e)};fn.layoutReplot=function(e){var r=e.layout;return e.layout=void 0,Hn.call("_doPlot",e,"",r)};fn.doLegend=function(e){return Hn.getComponentMethod("legend","draw")(e),ma.previousPromises(e)};fn.doTicksRelayout=function(e){return Yf.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(Hn.subplotsRegistry.splom.updateGrid(e),uy(e),fn.redrawReglTraces(e)),fn.drawMainTitle(e),ma.previousPromises(e)};fn.doModeBar=function(e){var r=e._fullLayout;CA.manage(e);for(var t=0;t<r._basePlotModules.length;t++){var n=r._basePlotModules[t].updateFx;n&&n(e)}return ma.previousPromises(e)};fn.doCamera=function(e){for(var r=e._fullLayout,t=r._subplots.gl3d,n=0;n<t.length;n++){var a=r[t[n]],o=a._scene;o.setViewport(a)}};fn.drawData=function(e){var r=e._fullLayout;uy(e);for(var t=r._basePlotModules,n=0;n<t.length;n++)t[n].plot(e);return fn.redrawReglTraces(e),ma.style(e),Hn.getComponentMethod("selections","draw")(e),Hn.getComponentMethod("shapes","draw")(e),Hn.getComponentMethod("annotations","draw")(e),Hn.getComponentMethod("images","draw")(e),r._replotting=!1,ma.previousPromises(e)};fn.redrawReglTraces=function(e){var r=e._fullLayout;if(r._has("regl")){var t=e._fullData,n=[],a=[],o,i;for(r._hasOnlyLargeSploms&&r._splomGrid.draw(),o=0;o<t.length;o++){var l=t[o];l.visible===!0&&l._length!==0&&(l.type==="splom"?r._splomScenes[l.uid].draw():l.type==="scattergl"?Na.pushUnique(n,l.xaxis+l.yaxis):l.type==="scatterpolargl"&&Na.pushUnique(a,l.subplot))}for(o=0;o<n.length;o++)i=r._plots[n[o]],i._scene&&i._scene.draw();for(o=0;o<a.length;o++)i=r[a[o]]._subplot,i._scene&&i._scene.draw()}};fn.doAutoRangeAndConstraints=function(e){for(var r=Yf.list(e,"",!0),t,n={},a=0;a<r.length;a++)if(t=r[a],!n[t._id]){n[t._id]=1,SK(e,t),TA(e,t);var o=t._matchGroup;if(o)for(var i in o){var l=Yf.getFromId(e,i);TA(e,l,t.range),n[i]=1}}kK(e)};fn.finalDraw=function(e){Hn.getComponentMethod("rangeslider","draw")(e),Hn.getComponentMethod("rangeselector","draw")(e)};fn.drawMarginPushers=function(e){Hn.getComponentMethod("legend","draw")(e),Hn.getComponentMethod("rangeselector","draw")(e),Hn.getComponentMethod("sliders","draw")(e),Hn.getComponentMethod("updatemenus","draw")(e),Hn.getComponentMethod("colorbar","draw")(e)}});var vy=pe((Tve,NA)=>{"use strict";var BK=Go().readPaths,UK=bh(),DA=Fo().clearOutlineControllers,fy=Zr(),PA=yt(),HK=gt().arrayEditor,FA=Wo(),VK=FA.getPathString;NA.exports={draw:Dh,drawOne:IA,activateLastSelection:WK};function Dh(e){var r=e._fullLayout;DA(e),r._selectionLayer.selectAll("path").remove();for(var t in r._plots){var n=r._plots[t].selectionLayer;n&&n.selectAll("path").remove()}for(var a=0;a<r.selections.length;a++)IA(e,a)}function Ph(e){return e._context.editSelection}function IA(e,r){e._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+r+'"]').remove();var t=FA.makeSelectionsOptionsAndPlotinfo(e,r),n=t.options,a=t.plotinfo;if(!n._input)return;o(e._fullLayout._selectionLayer);function o(i){var l=VK(e,n),u={"data-index":r,"fill-rule":"evenodd",d:l},s=n.opacity,f="rgba(0,0,0,0)",v=n.line.color||fy.contrast(e._fullLayout.plot_bgcolor),p=n.line.width,b=n.line.dash;p||(p=5,b="solid");var y=Ph(e)&&e._fullLayout._activeSelectionIndex===r;y&&(f=e._fullLayout.activeselection.fillcolor,s=e._fullLayout.activeselection.opacity);for(var w=[],M=1;M>=0;M--){var m=i.append("path").attr(u).style("opacity",M?.1:s).call(fy.stroke,v).call(fy.fill,f).call(PA.dashLine,M?"solid":b,M?4+p:p);if(GK(m,e,n),y){var k=HK(e.layout,"selections",n);m.style({cursor:"move"});var S={element:m.node(),plotinfo:a,gd:e,editHelpers:k,isActiveSelection:!0},x=BK(l,e);UK(x,m,S)}else m.style("pointer-events",M?"all":"none");w[M]=m}var T=w[0],d=w[1];d.node().addEventListener("click",function(){return YK(e,T)})}}function GK(e,r,t){var n=t.xref+t.yref;PA.setClipUrl(e,"clip"+r._fullLayout._uid+n,r)}function YK(e,r){if(Ph(e)){var t=r.node(),n=+t.getAttribute("data-index");if(n>=0){if(n===e._fullLayout._activeSelectionIndex){cy(e);return}e._fullLayout._activeSelectionIndex=n,e._fullLayout._deactivateSelection=cy,Dh(e)}}}function WK(e){if(Ph(e)){var r=e._fullLayout.selections.length-1;e._fullLayout._activeSelectionIndex=r,e._fullLayout._deactivateSelection=cy,Dh(e)}}function cy(e){if(Ph(e)){var r=e._fullLayout._activeSelectionIndex;r>=0&&(DA(e),delete e._fullLayout._activeSelectionIndex,Dh(e))}}});var qA=pe((Ave,zA)=>{function XK(){var e,r=0,t=!1;function n(a,o){return e.list.push({type:a,data:o?JSON.parse(JSON.stringify(o)):void 0}),e}return e={list:[],segmentId:function(){return r++},checkIntersection:function(a,o){return n("check",{seg1:a,seg2:o})},segmentChop:function(a,o){return n("div_seg",{seg:a,pt:o}),n("chop",{seg:a,pt:o})},statusRemove:function(a){return n("pop_seg",{seg:a})},segmentUpdate:function(a){return n("seg_update",{seg:a})},segmentNew:function(a,o){return n("new_seg",{seg:a,primary:o})},segmentRemove:function(a){return n("rem_seg",{seg:a})},tempStatus:function(a,o,i){return n("temp_status",{seg:a,above:o,below:i})},rewind:function(a){return n("rewind",{seg:a})},status:function(a,o,i){return n("status",{seg:a,above:o,below:i})},vert:function(a){return a===t?e:(t=a,n("vert",{x:a}))},log:function(a){return typeof a!="string"&&(a=JSON.stringify(a,!1,"  ")),n("log",{txt:a})},reset:function(){return n("reset")},selected:function(a){return n("selected",{segs:a})},chainStart:function(a){return n("chain_start",{seg:a})},chainRemoveHead:function(a,o){return n("chain_rem_head",{index:a,pt:o})},chainRemoveTail:function(a,o){return n("chain_rem_tail",{index:a,pt:o})},chainNew:function(a,o){return n("chain_new",{pt1:a,pt2:o})},chainMatch:function(a){return n("chain_match",{index:a})},chainClose:function(a){return n("chain_close",{index:a})},chainAddHead:function(a,o){return n("chain_add_head",{index:a,pt:o})},chainAddTail:function(a,o){return n("chain_add_tail",{index:a,pt:o})},chainConnect:function(a,o){return n("chain_con",{index1:a,index2:o})},chainReverse:function(a){return n("chain_rev",{index:a})},chainJoin:function(a,o){return n("chain_join",{index1:a,index2:o})},done:function(){return n("done")}},e}zA.exports=XK});var BA=pe((kve,OA)=>{function ZK(e){typeof e!="number"&&(e=1e-10);var r={epsilon:function(t){return typeof t=="number"&&(e=t),e},pointAboveOrOnLine:function(t,n,a){var o=n[0],i=n[1],l=a[0],u=a[1],s=t[0],f=t[1];return(l-o)*(f-i)-(u-i)*(s-o)>=-e},pointBetween:function(t,n,a){var o=t[1]-n[1],i=a[0]-n[0],l=t[0]-n[0],u=a[1]-n[1],s=l*i+o*u;if(s<e)return!1;var f=i*i+u*u;return!(s-f>-e)},pointsSameX:function(t,n){return Math.abs(t[0]-n[0])<e},pointsSameY:function(t,n){return Math.abs(t[1]-n[1])<e},pointsSame:function(t,n){return r.pointsSameX(t,n)&&r.pointsSameY(t,n)},pointsCompare:function(t,n){return r.pointsSameX(t,n)?r.pointsSameY(t,n)?0:t[1]<n[1]?-1:1:t[0]<n[0]?-1:1},pointsCollinear:function(t,n,a){var o=t[0]-n[0],i=t[1]-n[1],l=n[0]-a[0],u=n[1]-a[1];return Math.abs(o*u-l*i)<e},linesIntersect:function(t,n,a,o){var i=n[0]-t[0],l=n[1]-t[1],u=o[0]-a[0],s=o[1]-a[1],f=i*s-l*u;if(Math.abs(f)<e)return!1;var v=t[0]-a[0],p=t[1]-a[1],b=(u*p-s*v)/f,y=(i*p-l*v)/f,w={alongA:0,alongB:0,pt:[t[0]+b*i,t[1]+b*l]};return b<=-e?w.alongA=-2:b<e?w.alongA=-1:b-1<=-e?w.alongA=0:b-1<e?w.alongA=1:w.alongA=2,y<=-e?w.alongB=-2:y<e?w.alongB=-1:y-1<=-e?w.alongB=0:y-1<e?w.alongB=1:w.alongB=2,w},pointInsideRegion:function(t,n){for(var a=t[0],o=t[1],i=n[n.length-1][0],l=n[n.length-1][1],u=!1,s=0;s<n.length;s++){var f=n[s][0],v=n[s][1];v-o>e!=l-o>e&&(i-f)*(o-v)/(l-v)+f-a>e&&(u=!u),i=f,l=v}return u}};return r}OA.exports=ZK});var HA=pe((Sve,UA)=>{var JK={create:function(){var e={root:{root:!0,next:null},exists:function(r){return!(r===null||r===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(r,t){for(var n=e.root,a=e.root.next;a!==null;){if(t(a)){r.prev=a.prev,r.next=a,a.prev.next=r,a.prev=r;return}n=a,a=a.next}n.next=r,r.prev=n,r.next=null},findTransition:function(r){for(var t=e.root,n=e.root.next;n!==null&&!r(n);)t=n,n=n.next;return{before:t===e.root?null:t,after:n,insert:function(a){return a.prev=t,a.next=n,t.next=a,n!==null&&(n.prev=a),a}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};UA.exports=JK});var GA=pe((Cve,VA)=>{var Wf=HA();function KK(e,r,t){function n(y,w){return{id:t?t.segmentId():-1,start:y,end:w,myFill:{above:null,below:null},otherFill:null}}function a(y,w,M){return{id:t?t.segmentId():-1,start:y,end:w,myFill:{above:M.myFill.above,below:M.myFill.below},otherFill:null}}var o=Wf.create();function i(y,w,M,m,k,S){var x=r.pointsCompare(w,k);return x!==0?x:r.pointsSame(M,S)?0:y!==m?y?1:-1:r.pointAboveOrOnLine(M,m?k:S,m?S:k)?1:-1}function l(y,w){o.insertBefore(y,function(M){var m=i(y.isStart,y.pt,w,M.isStart,M.pt,M.other.pt);return m<0})}function u(y,w){var M=Wf.node({isStart:!0,pt:y.start,seg:y,primary:w,other:null,status:null});return l(M,y.end),M}function s(y,w,M){var m=Wf.node({isStart:!1,pt:w.end,seg:w,primary:M,other:y,status:null});y.other=m,l(m,y.pt)}function f(y,w){var M=u(y,w);return s(M,y,w),M}function v(y,w){t&&t.segmentChop(y.seg,w),y.other.remove(),y.seg.end=w,y.other.pt=w,l(y.other,y.pt)}function p(y,w){var M=a(w,y.seg.end,y.seg);return v(y,w),f(M,y.primary)}function b(y,w){var M=Wf.create();function m(N,I){var F=N.seg.start,L=N.seg.end,P=I.seg.start,O=I.seg.end;return r.pointsCollinear(F,P,O)?r.pointsCollinear(L,P,O)||r.pointAboveOrOnLine(L,P,O)?1:-1:r.pointAboveOrOnLine(F,P,O)?1:-1}function k(N){return M.findTransition(function(I){var F=m(N,I.ev);return F>0})}function S(N,I){var F=N.seg,L=I.seg,P=F.start,O=F.end,U=L.start,X=L.end;t&&t.checkIntersection(F,L);var j=r.linesIntersect(P,O,U,X);if(j===!1){if(!r.pointsCollinear(P,O,U)||r.pointsSame(P,X)||r.pointsSame(O,U))return!1;var $=r.pointsSame(P,U),Y=r.pointsSame(O,X);if($&&Y)return I;var q=!$&&r.pointBetween(P,U,X),Z=!Y&&r.pointBetween(O,U,X);if($)return Z?p(I,O):p(N,X),I;q&&(Y||(Z?p(I,O):p(N,X)),p(I,P))}else j.alongA===0&&(j.alongB===-1?p(N,U):j.alongB===0?p(N,j.pt):j.alongB===1&&p(N,X)),j.alongB===0&&(j.alongA===-1?p(I,P):j.alongA===0?p(I,j.pt):j.alongA===1&&p(I,O));return!1}for(var x=[];!o.isEmpty();){var T=o.getHead();if(t&&t.vert(T.pt[0]),T.isStart){let N=function(){if(_){var I=S(T,_);if(I)return I}return g?S(T,g):!1};var D=N;t&&t.segmentNew(T.seg,T.primary);var d=k(T),_=d.before?d.before.ev:null,g=d.after?d.after.ev:null;t&&t.tempStatus(T.seg,_?_.seg:!1,g?g.seg:!1);var c=N();if(c){if(e){var A;T.seg.myFill.below===null?A=!0:A=T.seg.myFill.above!==T.seg.myFill.below,A&&(c.seg.myFill.above=!c.seg.myFill.above)}else c.seg.otherFill=T.seg.myFill;t&&t.segmentUpdate(c.seg),T.other.remove(),T.remove()}if(o.getHead()!==T){t&&t.rewind(T.seg);continue}if(e){var A;T.seg.myFill.below===null?A=!0:A=T.seg.myFill.above!==T.seg.myFill.below,g?T.seg.myFill.below=g.seg.myFill.above:T.seg.myFill.below=y,A?T.seg.myFill.above=!T.seg.myFill.below:T.seg.myFill.above=T.seg.myFill.below}else if(T.seg.otherFill===null){var h;g?T.primary===g.primary?h=g.seg.otherFill.above:h=g.seg.myFill.above:h=T.primary?w:y,T.seg.otherFill={above:h,below:h}}t&&t.status(T.seg,_?_.seg:!1,g?g.seg:!1),T.other.status=d.insert(Wf.node({ev:T}))}else{var R=T.status;if(R===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(M.exists(R.prev)&&M.exists(R.next)&&S(R.prev.ev,R.next.ev),t&&t.statusRemove(R.ev.seg),R.remove(),!T.primary){var E=T.seg.myFill;T.seg.myFill=T.seg.otherFill,T.seg.otherFill=E}x.push(T.seg)}o.getHead().remove()}return t&&t.done(),x}return e?{addRegion:function(y){for(var w,M=y[y.length-1],m=0;m<y.length;m++){w=M,M=y[m];var k=r.pointsCompare(w,M);k!==0&&f(n(k<0?w:M,k<0?M:w),!0)}},calculate:function(y){return b(y,!1)}}:{calculate:function(y,w,M,m){return y.forEach(function(k){f(a(k.start,k.end,k),!0)}),M.forEach(function(k){f(a(k.start,k.end,k),!1)}),b(w,m)}}}VA.exports=KK});var WA=pe((Eve,YA)=>{function QK(e,r,t){var n=[],a=[];return e.forEach(function(o){var i=o.start,l=o.end;if(r.pointsSame(i,l)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}t&&t.chainStart(o);var u={index:0,matches_head:!1,matches_pt1:!1},s={index:0,matches_head:!1,matches_pt1:!1},f=u;function v(D,N,I){return f.index=D,f.matches_head=N,f.matches_pt1=I,f===u?(f=s,!1):(f=null,!0)}for(var p=0;p<n.length;p++){var b=n[p],y=b[0],w=b[1],M=b[b.length-1],m=b[b.length-2];if(r.pointsSame(y,i)){if(v(p,!0,!0))break}else if(r.pointsSame(y,l)){if(v(p,!0,!1))break}else if(r.pointsSame(M,i)){if(v(p,!1,!0))break}else if(r.pointsSame(M,l)&&v(p,!1,!1))break}if(f===u){n.push([i,l]),t&&t.chainNew(i,l);return}if(f===s){t&&t.chainMatch(u.index);var k=u.index,S=u.matches_pt1?l:i,x=u.matches_head,b=n[k],T=x?b[0]:b[b.length-1],d=x?b[1]:b[b.length-2],_=x?b[b.length-1]:b[0],g=x?b[b.length-2]:b[1];if(r.pointsCollinear(d,T,S)&&(x?(t&&t.chainRemoveHead(u.index,S),b.shift()):(t&&t.chainRemoveTail(u.index,S),b.pop()),T=d),r.pointsSame(_,S)){n.splice(k,1),r.pointsCollinear(g,_,T)&&(x?(t&&t.chainRemoveTail(u.index,T),b.pop()):(t&&t.chainRemoveHead(u.index,T),b.shift())),t&&t.chainClose(u.index),a.push(b);return}x?(t&&t.chainAddHead(u.index,S),b.unshift(S)):(t&&t.chainAddTail(u.index,S),b.push(S));return}function c(D){t&&t.chainReverse(D),n[D].reverse()}function A(D,N){var I=n[D],F=n[N],L=I[I.length-1],P=I[I.length-2],O=F[0],U=F[1];r.pointsCollinear(P,L,O)&&(t&&t.chainRemoveTail(D,L),I.pop(),L=P),r.pointsCollinear(L,O,U)&&(t&&t.chainRemoveHead(N,O),F.shift()),t&&t.chainJoin(D,N),n[D]=I.concat(F),n.splice(N,1)}var h=u.index,R=s.index;t&&t.chainConnect(h,R);var E=n[h].length<n[R].length;u.matches_head?s.matches_head?E?(c(h),A(h,R)):(c(R),A(R,h)):A(R,h):s.matches_head?A(h,R):E?(c(h),A(R,h)):(c(R),A(h,R))}),a}YA.exports=QK});var ZA=pe((Lve,XA)=>{function Xf(e,r,t){var n=[];return e.forEach(function(a){var o=(a.myFill.above?8:0)+(a.myFill.below?4:0)+(a.otherFill&&a.otherFill.above?2:0)+(a.otherFill&&a.otherFill.below?1:0);r[o]!==0&&n.push({id:t?t.segmentId():-1,start:a.start,end:a.end,myFill:{above:r[o]===1,below:r[o]===2},otherFill:null})}),t&&t.selected(n),n}var $K={union:function(e,r){return Xf(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],r)},intersect:function(e,r){return Xf(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],r)},difference:function(e,r){return Xf(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],r)},differenceRev:function(e,r){return Xf(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],r)},xor:function(e,r){return Xf(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],r)}};XA.exports=$K});var KA=pe((Rve,JA)=>{var jK={toPolygon:function(e,r){function t(o){if(o.length<=0)return e.segments({inverted:!1,regions:[]});function i(s){var f=s.slice(0,s.length-1);return e.segments({inverted:!1,regions:[f]})}for(var l=i(o[0]),u=1;u<o.length;u++)l=e.selectDifference(e.combine(l,i(o[u])));return l}if(r.type==="Polygon")return e.polygon(t(r.coordinates));if(r.type==="MultiPolygon"){for(var n=e.segments({inverted:!1,regions:[]}),a=0;a<r.coordinates.length;a++)n=e.selectUnion(e.combine(n,t(r.coordinates[a])));return e.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,r,t){t=e.polygon(e.segments(t));function n(b,y){return r.pointInsideRegion([(b[0][0]+b[1][0])*.5,(b[0][1]+b[1][1])*.5],y)}function a(b){return{region:b,children:[]}}var o=a(null);function i(b,y){for(var w=0;w<b.children.length;w++){var M=b.children[w];if(n(y,M.region)){i(M,y);return}}for(var m=a(y),w=0;w<b.children.length;w++){var M=b.children[w];n(M.region,y)&&(m.children.push(M),b.children.splice(w,1),w--)}b.children.push(m)}for(var l=0;l<t.regions.length;l++){var u=t.regions[l];u.length<3||i(o,u)}function s(b,y){for(var w=0,M=b[b.length-1][0],m=b[b.length-1][1],k=[],S=0;S<b.length;S++){var x=b[S][0],T=b[S][1];k.push([x,T]),w+=T*M-x*m,M=x,m=T}var d=w<0;return d!==y&&k.reverse(),k.push([k[0][0],k[0][1]]),k}var f=[];function v(b){var y=[s(b.region,!1)];f.push(y);for(var w=0;w<b.children.length;w++)y.push(p(b.children[w]))}function p(b){for(var y=0;y<b.children.length;y++)v(b.children[y]);return s(b.region,!0)}for(var l=0;l<o.children.length;l++)v(o.children[l]);return f.length<=0?{type:"Polygon",coordinates:[]}:f.length==1?{type:"Polygon",coordinates:f[0]}:{type:"MultiPolygon",coordinates:f}}};JA.exports=jK});var ek=pe((Dve,jA)=>{var eQ=qA(),rQ=BA(),QA=GA(),tQ=WA(),Zf=ZA(),$A=KA(),za=!1,Jf=rQ(),ua;ua={buildLog:function(e){return e===!0?za=eQ():e===!1&&(za=!1),za===!1?!1:za.list},epsilon:function(e){return Jf.epsilon(e)},segments:function(e){var r=QA(!0,Jf,za);return e.regions.forEach(r.addRegion),{segments:r.calculate(e.inverted),inverted:e.inverted}},combine:function(e,r){var t=QA(!1,Jf,za);return{combined:t.calculate(e.segments,e.inverted,r.segments,r.inverted),inverted1:e.inverted,inverted2:r.inverted}},selectUnion:function(e){return{segments:Zf.union(e.combined,za),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:Zf.intersect(e.combined,za),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:Zf.difference(e.combined,za),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:Zf.differenceRev(e.combined,za),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:Zf.xor(e.combined,za),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:tQ(e.segments,Jf,za),inverted:e.inverted}},polygonFromGeoJSON:function(e){return $A.toPolygon(ua,e)},polygonToGeoJSON:function(e){return $A.fromPolygon(ua,Jf,e)},union:function(e,r){return Kf(e,r,ua.selectUnion)},intersect:function(e,r){return Kf(e,r,ua.selectIntersect)},difference:function(e,r){return Kf(e,r,ua.selectDifference)},differenceRev:function(e,r){return Kf(e,r,ua.selectDifferenceRev)},xor:function(e,r){return Kf(e,r,ua.selectXor)}};function Kf(e,r,t){var n=ua.segments(e),a=ua.segments(r),o=ua.combine(n,a),i=t(o);return ua.polygon(i)}typeof window=="object"&&(window.PolyBool=ua);jA.exports=ua});var tk=pe((Pve,rk)=>{rk.exports=function(r,t,n,a){var o=r[0],i=r[1],l=!1;n===void 0&&(n=0),a===void 0&&(a=t.length);for(var u=a-n,s=0,f=u-1;s<u;f=s++){var v=t[s+n][0],p=t[s+n][1],b=t[f+n][0],y=t[f+n][1],w=p>i!=y>i&&o<(b-v)*(i-p)/(y-p)+v;w&&(l=!l)}return l}});var dy=pe((Fve,nk)=>{"use strict";var hy=Ic().dot,Fh=nn().BADNUM,Ih=nk.exports={};Ih.tester=function(r){var t=r.slice(),n=t[0][0],a=n,o=t[0][1],i=o,l;for((t[t.length-1][0]!==t[0][0]||t[t.length-1][1]!==t[0][1])&&t.push(t[0]),l=1;l<t.length;l++)n=Math.min(n,t[l][0]),a=Math.max(a,t[l][0]),o=Math.min(o,t[l][1]),i=Math.max(i,t[l][1]);var u=!1,s;t.length===5&&(t[0][0]===t[1][0]?t[2][0]===t[3][0]&&t[0][1]===t[3][1]&&t[1][1]===t[2][1]&&(u=!0,s=function(y){return y[0]===t[0][0]}):t[0][1]===t[1][1]&&t[2][1]===t[3][1]&&t[0][0]===t[3][0]&&t[1][0]===t[2][0]&&(u=!0,s=function(y){return y[1]===t[0][1]}));function f(y,w){var M=y[0],m=y[1];return!(M===Fh||M<n||M>a||m===Fh||m<o||m>i||w&&s(y))}function v(y,w){var M=y[0],m=y[1];if(M===Fh||M<n||M>a||m===Fh||m<o||m>i)return!1;var k=t.length,S=t[0][0],x=t[0][1],T=0,d,_,g,c,A;for(d=1;d<k;d++)if(_=S,g=x,S=t[d][0],x=t[d][1],c=Math.min(_,S),!(M<c||M>Math.max(_,S)||m>Math.max(g,x)))if(m<Math.min(g,x))M!==c&&T++;else{if(S===_?A=m:A=g+(M-_)*(x-g)/(S-_),m===A)return!(d===1&&w);m<=A&&M!==c&&T++}return T%2===1}var p=!0,b=t[0];for(l=1;l<t.length;l++)if(b[0]!==t[l][0]||b[1]!==t[l][1]){p=!1;break}return{xmin:n,xmax:a,ymin:o,ymax:i,pts:t,contains:u?f:v,isRect:u,degenerate:p}};Ih.isSegmentBent=function(r,t,n,a){var o=r[t],i=[r[n][0]-o[0],r[n][1]-o[1]],l=hy(i,i),u=Math.sqrt(l),s=[-i[1]/u,i[0]/u],f,v,p;for(f=t+1;f<n;f++)if(v=[r[f][0]-o[0],r[f][1]-o[1]],p=hy(v,i),p<0||p>l||Math.abs(hy(v,s))>a)return!0;return!1};Ih.filter=function(r,t){var n=[r[0]],a=0,o=0;function i(u){r.push(u);var s=n.length,f=a;n.splice(o+1);for(var v=f+1;v<r.length;v++)(v===r.length-1||Ih.isSegmentBent(r,f,v+1,t))&&(n.push(r[v]),n.length<s-2&&(a=v,o=n.length-1),f=v)}if(r.length>1){var l=r.pop();i(l)}return{addPt:i,raw:r,filtered:n}}});var ik=pe((Ive,ak)=>{"use strict";ak.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}});var Sk=pe((Nve,kk)=>{"use strict";var ok=ek(),nQ=tk(),jf=Er(),aQ=yt().dashStyle,Qf=Zr(),iQ=io(),oQ=to().makeEventData,a0=uu(),lQ=a0.freeMode,sQ=a0.rectMode,e0=a0.drawMode,my=a0.openMode,xy=a0.selectMode,lk=Wo(),sk=Of(),hk=bh(),dk=Fo().clearOutline,pk=Go(),py=pk.handleEllipse,uQ=pk.readPaths,fQ=gh().newShapes,cQ=U2(),vQ=vy().activateLastSelection,zh=ir(),hQ=zh.sorterAsc,gk=dy(),$f=Jc(),qa=on().getFromId,dQ=sh(),pQ=Rh().redrawReglTraces,qh=ik(),qi=qh.MINSELECT,gQ=gk.filter,by=gk.tester,_y=vh(),uk=_y.p2r,yQ=_y.axValue,mQ=_y.getTransform;function wy(e){return e.subplot!==void 0}function xQ(e,r,t,n,a){var o=!wy(n),i=lQ(a),l=sQ(a),u=my(a),s=e0(a),f=xy(a),v=a==="drawline",p=a==="drawcircle",b=v||p,y=n.gd,w=y._fullLayout,M=f&&w.newselection.mode==="immediate"&&o,m=w._zoomlayer,k=n.element.getBoundingClientRect(),S=n.plotinfo,x=mQ(S),T=r-k.left,d=t-k.top;w._calcInverseTransform(y);var _=zh.apply3DTransform(w._invTransform)(T,d);T=_[0],d=_[1];var g=w._invScaleX,c=w._invScaleY,A=T,h=d,R="M"+T+","+d,E=n.xaxes[0],D=n.yaxes[0],N=E._length,I=D._length,F=e.altKey&&!(e0(a)&&u),L,P,O,U,X,j,$;mk(e,y,n),i&&(L=gQ([[T,d]],qh.BENDPX));var Y=m.selectAll("path.select-outline-"+S.id).data([1]),q=s?w.newshape:w.newselection;s&&(n.hasText=q.label.text||q.label.texttemplate);var Z=s&&!u?q.fillcolor:"rgba(0,0,0,0)",ne=q.line.color||(o?Qf.contrast(y._fullLayout.plot_bgcolor):"#7f7f7f");Y.enter().append("path").attr("class","select-outline select-outline-"+S.id).style({opacity:s?q.opacity/2:1,"stroke-dasharray":aQ(q.line.dash,q.line.width),"stroke-width":q.line.width+"px","shape-rendering":"crispEdges"}).call(Qf.stroke,ne).call(Qf.fill,Z).attr("fill-rule","evenodd").classed("cursor-move",!!s).attr("transform",x).attr("d",R+"Z");var Q=m.append("path").attr("class","zoombox-corners").style({fill:Qf.background,stroke:Qf.defaultLine,"stroke-width":1}).attr("transform",x).attr("d","M0,0Z");if(s&&n.hasText){var oe=m.select(".label-temp");oe.empty()&&(oe=m.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var ee=w._uid+qh.SELECTID,G=[],re=Oh(y,n.xaxes,n.yaxes,n.subplot);M&&!e.shiftKey&&(n._clearSubplotSelections=function(){if(o){var te=E._id,ue=D._id;Mk(y,te,ue,re);for(var de=(y.layout||{}).selections||[],Ee=[],Me=!1,ve=0;ve<de.length;ve++){var Ae=w.selections[ve];!Ae||Ae.xref!==te||Ae.yref!==ue?Ee.push(de[ve]):Me=!0}Me&&(y._fullLayout._noEmitSelectedAtStart=!0,jf.call("_guiRelayout",y,{selections:Ee}))}});var H=PQ(n);n.moveFn=function(te,ue){n._clearSubplotSelections&&(n._clearSubplotSelections(),n._clearSubplotSelections=void 0),A=Math.max(0,Math.min(N,g*te+T)),h=Math.max(0,Math.min(I,c*ue+d));var de=Math.abs(A-T),Ee=Math.abs(h-d);if(l){var Me,ve,Ae;if(f){var ke=w.selectdirection;switch(ke==="any"?Ee<Math.min(de*.6,qi)?Me="h":de<Math.min(Ee*.6,qi)?Me="v":Me="d":Me=ke,Me){case"h":ve=p?I/2:0,Ae=I;break;case"v":ve=p?N/2:0,Ae=N;break}}if(s)switch(w.newshape.drawdirection){case"vertical":Me="h",ve=p?I/2:0,Ae=I;break;case"horizontal":Me="v",ve=p?N/2:0,Ae=N;break;case"ortho":de<Ee?(Me="h",ve=d,Ae=h):(Me="v",ve=T,Ae=A);break;default:Me="d"}Me==="h"?(U=b?py(p,[A,ve],[A,Ae]):[[T,ve],[T,Ae],[A,Ae],[A,ve]],U.xmin=b?A:Math.min(T,A),U.xmax=b?A:Math.max(T,A),U.ymin=Math.min(ve,Ae),U.ymax=Math.max(ve,Ae),Q.attr("d","M"+U.xmin+","+(d-qi)+"h-4v"+2*qi+"h4ZM"+(U.xmax-1)+","+(d-qi)+"h4v"+2*qi+"h-4Z")):Me==="v"?(U=b?py(p,[ve,h],[Ae,h]):[[ve,d],[ve,h],[Ae,h],[Ae,d]],U.xmin=Math.min(ve,Ae),U.xmax=Math.max(ve,Ae),U.ymin=b?h:Math.min(d,h),U.ymax=b?h:Math.max(d,h),Q.attr("d","M"+(T-qi)+","+U.ymin+"v-4h"+2*qi+"v4ZM"+(T-qi)+","+(U.ymax-1)+"v4h"+2*qi+"v-4Z")):Me==="d"&&(U=b?py(p,[T,d],[A,h]):[[T,d],[T,h],[A,h],[A,d]],U.xmin=Math.min(T,A),U.xmax=Math.max(T,A),U.ymin=Math.min(d,h),U.ymax=Math.max(d,h),Q.attr("d","M0,0Z"))}else i&&(L.addPt([A,h]),U=L.filtered);if(n.selectionDefs&&n.selectionDefs.length?(O=xk(n.mergedPolygons,U,F),U.subtract=F,P=My(n.selectionDefs.concat([U]))):(O=[U],P=by(U)),hk(_k(O,u),Y,n),f){var De=yy(y,!1),Ce=De.eventData?De.eventData.points.slice():[];De=yy(y,!1,P,re,n),P=De.selectionTesters,$=De.eventData;var Oe;L?Oe=L.filtered:Oe=Tk(O),$f.throttle(ee,qh.SELECTDELAY,function(){G=wk(P,re);for(var Ue=G.slice(),ge=0;ge<Ce.length;ge++){for(var Te=Ce[ge],ce=!1,ye=0;ye<Ue.length;ye++)if(Ue[ye].curveNumber===Te.curveNumber&&Ue[ye].pointNumber===Te.pointNumber){ce=!0;break}ce||Ue.push(Te)}Ue.length&&($||($={}),$.points=Ue),H($,Oe),FQ(y,$)})}},n.clickFn=function(te,ue){if(Q.remove(),y._fullLayout._activeShapeIndex>=0){y._fullLayout._deactivateShape(y);return}if(!s){var de=w.clickmode;$f.done(ee).then(function(){if($f.clear(ee),te===2){for(Y.remove(),X=0;X<re.length;X++)j=re[X],j._module.selectPoints(j,!1);if(t0(y,re),r0(n),Ay(y),re.length){var Ee=re[0].xaxis,Me=re[0].yaxis;if(Ee&&Me){for(var ve=[],Ae=y._fullLayout.selections,ke=0;ke<Ae.length;ke++){var De=Ae[ke];De&&(De.xref!==Ee._id||De.yref!==Me._id)&&ve.push(De)}ve.length<Ae.length&&(y._fullLayout._noEmitSelectedAtStart=!0,jf.call("_guiRelayout",y,{selections:ve}))}}}else de.indexOf("select")>-1&&yk(ue,y,n.xaxes,n.yaxes,n.subplot,n,Y),de==="event"&&n0(y,void 0);iQ.click(y,ue,S.id)}).catch(zh.error)}},n.doneFn=function(){Q.remove(),$f.done(ee).then(function(){$f.clear(ee),!M&&U&&n.selectionDefs&&(U.subtract=F,n.selectionDefs.push(U),n.mergedPolygons.length=0,[].push.apply(n.mergedPolygons,O)),(M||s)&&r0(n,M),n.doneFnCompleted&&n.doneFnCompleted(G),f&&n0(y,$)}).catch(zh.error)}}function yk(e,r,t,n,a,o,i){var l=r._hoverdata,u=r._fullLayout,s=u.clickmode,f=s.indexOf("event")>-1,v=[],p,b,y,w,M,m,k,S,x,T;if(TQ(l)){mk(e,r,o),p=Oh(r,t,n,a);var d=AQ(l,p),_=d.pointNumbers.length>0;if(_?kQ(p,d):SQ(p)&&(k=ck(d))){for(i&&i.remove(),T=0;T<p.length;T++)b=p[T],b._module.selectPoints(b,!1);t0(r,p),r0(o),f&&Ay(r)}else{S=e.shiftKey&&(k!==void 0?k:ck(d)),y=bQ(d.pointNumber,d.searchInfo,S);var g=o.selectionDefs.concat([y]);for(w=My(g,w),T=0;T<p.length;T++)if(M=p[T]._module.selectPoints(p[T],w),m=bk(M,p[T]),v.length)for(var c=0;c<m.length;c++)v.push(m[c]);else v=m;if(x={points:v},t0(r,p,x),y&&o&&o.selectionDefs.push(y),i){var A=o.mergedPolygons,h=my(o.dragmode);hk(_k(A,h),i,o)}f&&n0(r,x)}}}function bQ(e,r,t){return{pointNumber:e,searchInfo:r,subtract:!!t}}function gy(e){return"pointNumber"in e&&"searchInfo"in e}function _Q(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(r,t,n,a){var o=e.searchInfo.cd[0].trace.index,i=a.cd[0].trace.index;return i===o&&n===e.pointNumber},isRect:!1,degenerate:!1,subtract:!!e.subtract}}function My(e){if(!e.length)return;for(var r=[],t=gy(e[0])?0:e[0][0][0],n=t,a=gy(e[0])?0:e[0][0][1],o=a,i=0;i<e.length;i++)if(gy(e[i]))r.push(_Q(e[i]));else{var l=by(e[i]);l.subtract=!!e[i].subtract,r.push(l),t=Math.min(t,l.xmin),n=Math.max(n,l.xmax),a=Math.min(a,l.ymin),o=Math.max(o,l.ymax)}function u(s,f,v,p){for(var b=!1,y=0;y<r.length;y++)r[y].contains(s,f,v,p)&&(b=!r[y].subtract);return b}return{xmin:t,xmax:n,ymin:a,ymax:o,pts:[],contains:u,isRect:!1,degenerate:!1}}function mk(e,r,t){var n=r._fullLayout,a=t.plotinfo,o=t.dragmode,i=n._lastSelectedSubplot&&n._lastSelectedSubplot===a.id,l=(e.shiftKey||e.altKey)&&!(e0(o)&&my(o));i&&l&&a.selection&&a.selection.selectionDefs&&!t.selectionDefs?(t.selectionDefs=a.selection.selectionDefs,t.mergedPolygons=a.selection.mergedPolygons):(!l||!a.selection)&&r0(t),i||(dk(r),n._lastSelectedSubplot=a.id)}function wQ(e){return e._fullLayout._activeShapeIndex>=0}function MQ(e){return e._fullLayout._activeSelectionIndex>=0}function r0(e,r){var t=e.dragmode,n=e.plotinfo,a=e.gd;wQ(a)&&a._fullLayout._deactivateShape(a),MQ(a)&&a._fullLayout._deactivateSelection(a);var o=a._fullLayout,i=o._zoomlayer,l=e0(t),u=xy(t);if(l||u){var s=i.selectAll(".select-outline-"+n.id);if(s&&a._fullLayout._outlining){var f;l&&(f=fQ(s,e)),f&&jf.call("_guiRelayout",a,{shapes:f});var v;u&&!wy(e)&&(v=cQ(s,e)),v&&(a._fullLayout._noEmitSelectedAtStart=!0,jf.call("_guiRelayout",a,{selections:v}).then(function(){r&&vQ(a)})),a._fullLayout._outlining=!1}}n.selection={},n.selection.selectionDefs=e.selectionDefs=[],n.selection.mergedPolygons=e.mergedPolygons=[]}function fk(e){return e._id}function Oh(e,r,t,n){if(!e.calcdata)return[];var a=[],o=r.map(fk),i=t.map(fk),l,u,s;for(s=0;s<e.calcdata.length;s++)if(l=e.calcdata[s],u=l[0].trace,!(u.visible!==!0||!u._module||!u._module.selectPoints))if(wy({subplot:n})&&(u.subplot===n||u.geo===n))a.push(Nh(u._module,l,r[0],t[0]));else if(u.type==="splom"){if(u._xaxes[o[0]]&&u._yaxes[i[0]]){var f=Nh(u._module,l,r[0],t[0]);f.scene=e._fullLayout._splomScenes[u.uid],a.push(f)}}else if(u.type==="sankey"){var v=Nh(u._module,l,r[0],t[0]);a.push(v)}else{if(o.indexOf(u.xaxis)===-1&&(!u._xA||!u._xA.overlaying)||i.indexOf(u.yaxis)===-1&&(!u._yA||!u._yA.overlaying))continue;a.push(Nh(u._module,l,qa(e,u.xaxis),qa(e,u.yaxis)))}return a}function Nh(e,r,t,n){return{_module:e,cd:r,xaxis:t,yaxis:n}}function TQ(e){return e&&Array.isArray(e)&&e[0].hoverOnBox!==!0}function AQ(e,r){var t=e[0],n=-1,a=[],o,i;for(i=0;i<r.length;i++)if(o=r[i],t.fullData.index===o.cd[0].trace.index){if(t.hoverOnBox===!0)break;t.pointNumber!==void 0?n=t.pointNumber:t.binNumber!==void 0&&(n=t.binNumber,a=t.pointNumbers);break}return{pointNumber:n,pointNumbers:a,searchInfo:o}}function ck(e){var r=e.searchInfo.cd[0].trace,t=e.pointNumber,n=e.pointNumbers,a=n.length>0,o=a?n[0]:t;return r.selectedpoints?r.selectedpoints.indexOf(o)>-1:!1}function kQ(e,r){var t=[],n,a,o,i;for(i=0;i<e.length;i++)n=e[i],n.cd[0].trace.selectedpoints&&n.cd[0].trace.selectedpoints.length>0&&t.push(n);if(t.length===1&&(o=t[0]===r.searchInfo,o&&(a=r.searchInfo.cd[0].trace,a.selectedpoints.length===r.pointNumbers.length))){for(i=0;i<r.pointNumbers.length;i++)if(a.selectedpoints.indexOf(r.pointNumbers[i])<0)return!1;return!0}return!1}function SQ(e){var r=0,t,n,a;for(a=0;a<e.length;a++)if(t=e[a],n=t.cd[0].trace,n.selectedpoints&&(n.selectedpoints.length>1||(r+=n.selectedpoints.length,r>1)))return!1;return r===1}function t0(e,r,t){var n;for(n=0;n<r.length;n++){var a=r[n].cd[0].trace._fullInput,o=e._fullLayout._tracePreGUI[a.uid]||{};o.selectedpoints===void 0&&(o.selectedpoints=a._input.selectedpoints||null)}var i;if(t){var l=t.points||[];for(n=0;n<r.length;n++)i=r[n].cd[0].trace,i._input.selectedpoints=i._fullInput.selectedpoints=[],i._fullInput!==i&&(i.selectedpoints=[]);for(var u=0;u<l.length;u++){var s=l[u],f=s.data,v=s.fullData,p=s.pointIndex,b=s.pointIndices;b?([].push.apply(f.selectedpoints,b),i._fullInput!==i&&[].push.apply(v.selectedpoints,b)):(f.selectedpoints.push(p),i._fullInput!==i&&v.selectedpoints.push(p))}}else for(n=0;n<r.length;n++)i=r[n].cd[0].trace,delete i.selectedpoints,delete i._input.selectedpoints,i._fullInput!==i&&delete i._fullInput.selectedpoints;CQ(e,r)}function CQ(e,r){for(var t=!1,n=0;n<r.length;n++){var a=r[n],o=a.cd;jf.traceIs(o[0].trace,"regl")&&(t=!0);var i=a._module,l=i.styleOnSelect||i.style;l&&(l(e,o,o[0].node3),o[0].nodeRangePlot3&&l(e,o,o[0].nodeRangePlot3))}t&&(dQ(e),pQ(e))}function xk(e,r,t){for(var n=t?ok.difference:ok.union,a=n({regions:e},{regions:[r]}),o=a.regions.reverse(),i=0;i<o.length;i++){var l=o[i];l.subtract=Ty(l,o.slice(0,i))}return o}function bk(e,r){if(Array.isArray(e))for(var t=r.cd,n=r.cd[0].trace,a=0;a<e.length;a++)e[a]=oQ(e[a],n,t);return e}function _k(e,r){for(var t=[],n=0;n<e.length;n++){t[n]=[];for(var a=0;a<e[n].length;a++){t[n][a]=[],t[n][a][0]=a?"L":"M";for(var o=0;o<e[n][a].length;o++)t[n][a].push(e[n][a][o])}r||t[n].push(["Z",t[n][0][1],t[n][0][2]])}return t}function wk(e,r){for(var t=[],n,a=[],o,i=0;i<r.length;i++){var l=r[i];o=l._module.selectPoints(l,e),a.push(o),n=bk(o,l),t=t.concat(n)}return t}function yy(e,r,t,n,a){var o=!!n,i,l,u;a&&(i=a.plotinfo,l=a.xaxes[0]._id,u=a.yaxes[0]._id);var s=[],f=[],v=vk(e),p=e._fullLayout;if(i){var b=p._zoomlayer,y=p.dragmode,w=e0(y),M=xy(y);if(w||M){var m=qa(e,l,"x"),k=qa(e,u,"y");if(m&&k){var S=b.selectAll(".select-outline-"+i.id);if(S&&e._fullLayout._outlining&&S.length){for(var x=S[0][0],T=x.getAttribute("d"),d=uQ(T,e,i),_=[],g=0;g<d.length;g++){for(var c=d[g],A=[],h=0;h<c.length;h++)A.push([Xo(m,c[h][1]),Xo(k,c[h][2])]);A.xref=l,A.yref=u,A.subtract=Ty(A,_),_.push(A)}v=v.concat(_)}}}}var R=l&&u?[l+u]:p._subplots.cartesian;EQ(e);for(var E={},D=0;D<R.length;D++){var N=R[D],I=N.indexOf("y"),F=N.slice(0,I),L=N.slice(I),P=l&&u?t:void 0;if(P=RQ(v,F,L,P),P){var O=n;if(!o){var U=qa(e,F,"x"),X=qa(e,L,"y");O=Oh(e,[U],[X],N);for(var j=0;j<O.length;j++){var $=O[j],Y=$.cd[0],q=Y.trace;if($._module.name==="scattergl"&&!Y.t.xpx){var Z=q.x,ne=q.y,Q=q._length;Y.t.xpx=[],Y.t.ypx=[];for(var oe=0;oe<Q;oe++)Y.t.xpx[oe]=U.c2p(Z[oe]),Y.t.ypx[oe]=X.c2p(ne[oe])}$._module.name==="splom"&&(E[q.uid]||(E[q.uid]=!0))}}var ee=wk(P,O);s=s.concat(ee),f=f.concat(O)}}var G={points:s};t0(e,f,G);var re=p.clickmode,H=re.indexOf("event")>-1&&r;if(!i&&r){var te=vk(e,!0);if(te.length){var ue=te[0].xref,de=te[0].yref;if(ue&&de){var Ee=Tk(te),Me=Ak([qa(e,ue,"x"),qa(e,de,"y")]);Me(G,Ee)}}e._fullLayout._noEmitSelectedAtStart?e._fullLayout._noEmitSelectedAtStart=!1:H&&n0(e,G),p._reselect=!1}if(!i&&p._deselect){var ve=p._deselect;l=ve.xref,u=ve.yref,LQ(l,u,f)||Mk(e,l,u,n),H&&(G.points.length?n0(e,G):Ay(e)),p._deselect=!1}return{eventData:G,selectionTesters:t}}function EQ(e){var r=e.calcdata;if(r)for(var t=0;t<r.length;t++){var n=r[t][0],a=n.trace,o=e._fullLayout._splomScenes;if(o){var i=o[a.uid];i&&(i.selectBatch=[])}}}function LQ(e,r,t){for(var n=0;n<t.length;n++){var a=t[n];if(a.xaxis&&a.xaxis._id===e&&a.yaxis&&a.yaxis._id===r)return!0}return!1}function Mk(e,r,t,n){n=Oh(e,[qa(e,r,"x")],[qa(e,t,"y")],r+t);for(var a=0;a<n.length;a++){var o=n[a];o._module.selectPoints(o,!1)}t0(e,n)}function RQ(e,r,t,n){for(var a,o=0;o<e.length;o++){var i=e[o];if(!(r!==i.xref||t!==i.yref))if(a){var l=!!i.subtract;a=xk(a,i,l),n=My(a)}else a=[i],n=by(i)}return n}function vk(e,r){for(var t=[],n=e._fullLayout,a=n.selections,o=a.length,i=0;i<o;i++)if(!(r&&i!==n._activeSelectionIndex)){var l=a[i];if(l){var u=l.xref,s=l.yref,f=qa(e,u,"x"),v=qa(e,s,"y"),p,b,y,w,M;if(l.type==="rect"){M=[];var m=Xo(f,l.x0),k=Xo(f,l.x1),S=Xo(v,l.y0),x=Xo(v,l.y1);M=[[m,S],[m,x],[k,x],[k,S]],p=Math.min(m,k),b=Math.max(m,k),y=Math.min(S,x),w=Math.max(S,x),M.xmin=p,M.xmax=b,M.ymin=y,M.ymax=w,M.xref=u,M.yref=s,M.subtract=!1,M.isRect=!0,t.push(M)}else if(l.type==="path")for(var T=l.path.split("Z"),d=[],_=0;_<T.length;_++){var g=T[_];if(g){g+="Z";var c=lk.extractPathCoords(g,sk.paramIsX,"raw"),A=lk.extractPathCoords(g,sk.paramIsY,"raw");p=1/0,b=-1/0,y=1/0,w=-1/0,M=[];for(var h=0;h<c.length;h++){var R=Xo(f,c[h]),E=Xo(v,A[h]);M.push([R,E]),p=Math.min(R,p),b=Math.max(R,b),y=Math.min(E,y),w=Math.max(E,w)}M.xmin=p,M.xmax=b,M.ymin=y,M.ymax=w,M.xref=u,M.yref=s,M.subtract=Ty(M,d),d.push(M),t.push(M)}}}}return t}function Ty(e,r){for(var t=!1,n=0;n<r.length;n++)for(var a=r[n],o=0;o<e.length;o++)if(nQ(e[o],a)){t=!t;break}return t}function Xo(e,r){return e.type==="date"&&(r=r.replace("_"," ")),e.type==="log"?e.c2p(r):e.r2p(r,null,e.calendar)}function Tk(e){for(var r=e.length,t=[],n=0;n<r;n++){var a=e[n];t=t.concat(a),t=t.concat([a[0]])}return DQ(t)}function DQ(e){return e.isRect=e.length===5&&e[0][0]===e[4][0]&&e[0][1]===e[4][1]&&e[0][0]===e[1][0]&&e[2][0]===e[3][0]&&e[0][1]===e[3][1]&&e[1][1]===e[2][1]||e[0][1]===e[1][1]&&e[2][1]===e[3][1]&&e[0][0]===e[3][0]&&e[1][0]===e[2][0],e.isRect&&(e.xmin=Math.min(e[0][0],e[2][0]),e.xmax=Math.max(e[0][0],e[2][0]),e.ymin=Math.min(e[0][1],e[2][1]),e.ymax=Math.max(e[0][1],e[2][1])),e}function Ak(e){return function(r,t){for(var n,a,o=0;o<e.length;o++){var i=e[o],l=i._id,u=l.charAt(0);if(t.isRect){n||(n={});var s=t[u+"min"],f=t[u+"max"];s!==void 0&&f!==void 0&&(n[l]=[uk(i,s),uk(i,f)].sort(hQ))}else a||(a={}),a[l]=t.map(yQ(i))}n&&(r.range=n),a&&(r.lassoPoints=a)}}function PQ(e){var r=e.plotinfo;return r.fillRangeItems||Ak(e.xaxes.concat(e.yaxes))}function FQ(e,r){e.emit("plotly_selecting",r)}function n0(e,r){r&&(r.selections=(e.layout||{}).selections||[]),e.emit("plotly_selected",r)}function Ay(e){e.emit("plotly_deselect",null)}kk.exports={reselect:yy,prepSelect:xQ,clearOutline:dk,clearSelectionsCache:r0,selectOnClick:yk}});var ky=pe((zve,Ck)=>{"use strict";Ck.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]});var i0=pe((qve,Ek)=>{"use strict";Ek.exports={axisRefDescription:function(e,r,t){return["If set to a",e,"axis id (e.g. *"+e+"* or","*"+e+"2*), the `"+e+"` position refers to a",e,"coordinate. If set to *paper*, the `"+e+"`","position refers to the distance from the",r,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",r,"("+t+"). If set to a",e,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",r,"of the domain of that axis: e.g.,","*"+e+"2 domain* refers to the domain of the second",e," axis and a",e,"position of 0.5 refers to the","point between the",r,"and the",t,"of the domain of the","second",e,"axis."].join(" ")}}});var yu=pe((Bve,Dk)=>{"use strict";var Lk=ky(),Rk=kn(),Bh=wn(),IQ=gt().templatedArray,Ove=i0();Dk.exports=IQ("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:Rk({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:Lk.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:Lk.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",Bh.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",Bh.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",Bh.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",Bh.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:Rk({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc"})});var Uh=pe((Uve,Pk)=>{"use strict";Pk.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}});var Ik=pe((Hve,Fk)=>{"use strict";Fk.exports=function(r){return{valType:"color",editType:"style",anim:!0}}});var $l=pe((Vve,Uk)=>{"use strict";var Nk=ro().axisHoverFormat,NQ=Sa().texttemplateAttrs,zQ=Sa().hovertemplateAttrs,zk=ja(),qQ=kn(),OQ=Ao().dash,BQ=Ao().pattern,UQ=yt(),HQ=Uh(),Hh=Mt().extendFlat,VQ=Ik();function qk(e){return{valType:"any",dflt:0,editType:"calc"}}function Ok(e){return{valType:"any",editType:"calc"}}function Bk(e){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}Uk.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:qk("x"),yperiod:qk("y"),xperiod0:Ok("x0"),yperiod0:Ok("y0"),xperiodalignment:Bk("x"),yperiodalignment:Bk("y"),xhoverformat:Nk("x"),yhoverformat:Nk("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:NQ({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:zQ({},{keys:HQ.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:Hh({},OQ,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:VQ(!0),fillgradient:Hh({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:BQ,marker:Hh({symbol:{valType:"enumerated",values:UQ.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:Hh({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},zk("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},zk("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:qQ({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}});var Sy=pe((Yve,Gk)=>{"use strict";var Hk=yu(),Vk=$l().line,GQ=Ao().dash,Vh=Mt().extendFlat,YQ=zn().overrideAll,WQ=gt().templatedArray,Gve=i0();Gk.exports=YQ(WQ("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:Vh({},Hk.xref,{}),yref:Vh({},Hk.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:Vk.color,width:Vh({},Vk.width,{min:1,dflt:1}),dash:Vh({},GQ,{dflt:"dot"})}}),"arraydraw","from-root")});var Zk=pe((Wve,Xk)=>{"use strict";var Yk=ir(),Gh=St(),XQ=ei(),ZQ=Sy(),Wk=Wo();Xk.exports=function(r,t){XQ(r,t,{name:"selections",handleItemDefaults:JQ});for(var n=t.selections,a=0;a<n.length;a++){var o=n[a];o&&o.path===void 0&&(o.x0===void 0||o.x1===void 0||o.y0===void 0||o.y1===void 0)&&(t.selections[a]=null)}};function JQ(e,r,t){function n(d,_){return Yk.coerce(e,r,ZQ,d,_)}var a=n("path"),o=a?"path":"rect",i=n("type",o),l=i!=="path";l&&delete r.path,n("opacity"),n("line.color"),n("line.width"),n("line.dash");for(var u=["x","y"],s=0;s<2;s++){var f=u[s],v={_fullLayout:t},p,b,y,w=Gh.coerceRef(e,r,v,f);if(p=Gh.getFromId(v,w),p._selectionIndices.push(r._index),y=Wk.rangeToShapePosition(p),b=Wk.shapePositionToRange(p),l){var M=f+"0",m=f+"1",k=e[M],S=e[m];e[M]=b(e[M],!0),e[m]=b(e[m],!0),Gh.coercePosition(r,v,n,w,M),Gh.coercePosition(r,v,n,w,m);var x=r[M],T=r[m];x!==void 0&&T!==void 0&&(r[M]=y(x),r[m]=y(T),e[M]=k,e[m]=S)}}l&&Yk.noneOrAll(e,r,["x0","x1","y0","y1"])}});var Kk=pe((Xve,Jk)=>{"use strict";Jk.exports=function(r,t,n){n("newselection.mode");var a=n("newselection.line.width");a&&(n("newselection.line.color"),n("newselection.line.dash")),n("activeselection.fillcolor"),n("activeselection.opacity")}});var o0=pe((Zve,jk)=>{"use strict";var KQ=Er(),Qk=ir(),$k=on();jk.exports=function(r){return function(n,a){var o=n[r];if(Array.isArray(o))for(var i=KQ.subplotsRegistry.cartesian,l=i.idRegex,u=a._subplots,s=u.xaxis,f=u.yaxis,v=u.cartesian,p=a._has("cartesian"),b=0;b<o.length;b++){var y=o[b];if(Qk.isPlainObject(y)){var w=$k.cleanId(y.xref,"x",!1),M=$k.cleanId(y.yref,"y",!1),m=l.x.test(w),k=l.y.test(M);if(m||k){p||Qk.pushUnique(a._basePlotModules,i);var S=!1;m&&s.indexOf(w)===-1&&(s.push(w),S=!0),k&&f.indexOf(M)===-1&&(f.push(M),S=!0),S&&m&&k&&v.push(w+M)}}}}}});var mu=pe((Jve,rS)=>{"use strict";var eS=vy(),l0=Sk();rS.exports={moduleType:"component",name:"selections",layoutAttributes:Sy(),supplyLayoutDefaults:Zk(),supplyDrawNewSelectionDefaults:Kk(),includeBasePlot:o0()("selections"),draw:eS.draw,drawOne:eS.drawOne,reselect:l0.reselect,prepSelect:l0.prepSelect,clearOutline:l0.clearOutline,clearSelectionsCache:l0.clearSelectionsCache,selectOnClick:l0.selectOnClick}});var wS=pe((Kve,_S)=>{"use strict";var Dy=it(),Oa=ir(),tS=Oa.numberFormat,QQ=ka(),$Q=Zv(),Yh=Er(),cS=Oa.strTranslate,jQ=Yn(),nS=Zr(),Zo=yt(),e$=io(),aS=St(),r$=Vo(),t$=ti(),vS=uu(),Wh=vS.selectingOrDrawing,n$=vS.freeMode,a$=qn().FROM_TL,i$=sh(),o$=Rh().redrawReglTraces,l$=ln(),Ey=on().getFromId,s$=mu().prepSelect,u$=mu().clearOutline,f$=mu().selectOnClick,Cy=ay(),Py=wn(),iS=Py.MINDRAG,Xn=Py.MINZOOM,oS=!0;function c$(e,r,t,n,a,o,i,l){var u=e._fullLayout._zoomlayer,s=i+l==="nsew",f=(i+l).length===1,v,p,b,y,w,M,m,k,S,x,T,d,_,g,c,A,h,R,E,D,N,I,F;t+=r.yaxis._shift;function L(){if(v=r.xaxis,p=r.yaxis,S=v._length,x=p._length,m=v._offset,k=p._offset,b={},b[v._id]=v,y={},y[p._id]=p,i&&l)for(var me=r.overlays,he=0;he<me.length;he++){var be=me[he].xaxis;b[be._id]=be;var Se=me[he].yaxis;y[Se._id]=Se}w=fS(b),M=fS(y),_=lS(w,l),g=lS(M,i),c=!g&&!_,d=uS(e,e._fullLayout._axisMatchGroups,b,y),T=uS(e,e._fullLayout._axisConstraintGroups,b,y,d);var ze=T.isSubplotConstrained||d.isSubplotConstrained;A=l||ze,h=i||ze;var Fe=e._fullLayout;R=Fe._has("scattergl"),E=Fe._has("splom"),D=Fe._has("svg")}L();var P=d$(g+_,e._fullLayout.dragmode,s),O=dS(r,i+l+"drag",P,t,n,a,o);if(c&&!s)return O.onmousedown=null,O.style.pointerEvents="none",O;var U={element:O,gd:e,plotinfo:r};U.prepFn=function(me,he,be){var Se=U.dragmode,ze=e._fullLayout.dragmode;ze!==Se&&(U.dragmode=ze),L(),I=e._fullLayout._invScaleX,F=e._fullLayout._invScaleY,c||(s?me.shiftKey?ze==="pan"?ze="zoom":Wh(ze)||(ze="pan"):me.ctrlKey&&(ze="pan"):ze="pan"),n$(ze)?U.minDrag=1:U.minDrag=void 0,Wh(ze)?(U.xaxes=w,U.yaxes=M,s$(me,he,be,U,ze)):(U.clickFn=j,Wh(Se)&&X(),c||(ze==="zoom"?(U.moveFn=te,U.doneFn=de,U.minDrag=1,H(me,he,be)):ze==="pan"&&(U.moveFn=De,U.doneFn=ge))),e._fullLayout._redrag=function(){var Fe=e._dragdata;if(Fe&&Fe.element===O){var Ze=e._fullLayout.dragmode;Wh(Ze)||(L(),Te([0,0,S,x]),U.moveFn(Fe.dx,Fe.dy))}}};function X(){U.plotinfo.selection=!1,u$(e)}function j(me,he){var be=U.gd;if(be._fullLayout._activeShapeIndex>=0){be._fullLayout._deactivateShape(be);return}var Se=be._fullLayout.clickmode;if(Ry(be),me===2&&!f&&Ue(),s)Se.indexOf("select")>-1&&f$(he,be,w,M,r.id,U),Se.indexOf("event")>-1&&e$.click(be,he,r.id);else if(me===1&&f){var ze=i?p:v,Fe=i==="s"||l==="w"?0:1,Ze=ze._name+".range["+Fe+"]",Ye=v$(ze,Fe),Ge="left",We="middle";if(ze.fixedrange)return;i?(We=i==="n"?"top":"bottom",ze.side==="right"&&(Ge="right")):l==="e"&&(Ge="right"),be._context.showAxisRangeEntryBoxes&&Dy.select(O).call(jQ.makeEditable,{gd:be,immediate:!0,background:be._fullLayout.paper_bgcolor,text:String(Ye),fill:ze.tickfont?ze.tickfont.color:"#444",horizontalAlign:Ge,verticalAlign:We}).on("edit",function(we){var Pe=ze.d2r(we);Pe!==void 0&&Yh.call("_guiRelayout",be,Ze,Pe)})}}t$.init(U);var $,Y,q,Z,ne,Q,oe,ee,G,re;function H(me,he,be){var Se=O.getBoundingClientRect();$=he-Se.left,Y=be-Se.top,e._fullLayout._calcInverseTransform(e);var ze=Oa.apply3DTransform(e._fullLayout._invTransform)($,Y);$=ze[0],Y=ze[1],q={l:$,r:$,w:0,t:Y,b:Y,h:0},Z=e._hmpixcount?e._hmlumcount/e._hmpixcount:QQ(e._fullLayout.plot_bgcolor).getLuminance(),ne="M0,0H"+S+"V"+x+"H0V0",Q=!1,oe="xy",re=!1,ee=pS(u,Z,m,k,ne),G=gS(u,m,k)}function te(me,he){if(e._transitioningWithDuration)return!1;var be=Math.max(0,Math.min(S,I*me+$)),Se=Math.max(0,Math.min(x,F*he+Y)),ze=Math.abs(be-$),Fe=Math.abs(Se-Y);q.l=Math.min($,be),q.r=Math.max($,be),q.t=Math.min(Y,Se),q.b=Math.max(Y,Se);function Ze(){oe="",q.r=q.l,q.t=q.b,G.attr("d","M0,0Z")}if(T.isSubplotConstrained)ze>Xn||Fe>Xn?(oe="xy",ze/S>Fe/x?(Fe=ze*x/S,Y>Se?q.t=Y-Fe:q.b=Y+Fe):(ze=Fe*S/x,$>be?q.l=$-ze:q.r=$+ze),G.attr("d",Xh(q))):Ze();else if(d.isSubplotConstrained)if(ze>Xn||Fe>Xn){oe="xy";var Ye=Math.min(q.l/S,(x-q.b)/x),Ge=Math.max(q.r/S,(x-q.t)/x);q.l=Ye*S,q.r=Ge*S,q.b=(1-Ye)*x,q.t=(1-Ge)*x,G.attr("d",Xh(q))}else Ze();else!g||Fe<Math.min(Math.max(ze*.6,iS),Xn)?ze<iS||!_?Ze():(q.t=0,q.b=x,oe="x",G.attr("d",p$(q,Y))):!_||ze<Math.min(Fe*.6,Xn)?(q.l=0,q.r=S,oe="y",G.attr("d",g$(q,$))):(oe="xy",G.attr("d",Xh(q)));q.w=q.r-q.l,q.h=q.b-q.t,oe&&(re=!0),e._dragged=re,yS(ee,G,q,ne,Q,Z),ue(),e.emit("plotly_relayouting",N),Q=!0}function ue(){N={},(oe==="xy"||oe==="x")&&(Ly(w,q.l/S,q.r/S,N,T.xaxes),Ce("x",N)),(oe==="xy"||oe==="y")&&(Ly(M,(x-q.b)/x,(x-q.t)/x,N,T.yaxes),Ce("y",N))}function de(){ue(),Ry(e),ge(),xS(e)}var Ee=[0,0,S,x],Me=null,ve=Py.REDRAWDELAY,Ae=r.mainplot?e._fullLayout._plots[r.mainplot]:r;function ke(me){if(!e._context._scrollZoom.cartesian&&!e._fullLayout._enablescrollzoom)return;if(X(),e._transitioningWithDuration){me.preventDefault(),me.stopPropagation();return}L(),clearTimeout(Me);var he=-me.deltaY;if(isFinite(he)||(he=me.wheelDelta/10),!isFinite(he)){Oa.log("Did not find wheel motion attributes: ",me);return}var be=Math.exp(-Math.min(Math.max(he,-20),20)/200),Se=Ae.draglayer.select(".nsewdrag").node().getBoundingClientRect(),ze=(me.clientX-Se.left)/Se.width,Fe=(Se.bottom-me.clientY)/Se.height,Ze;function Ye(Ge,We,we){if(Ge.fixedrange)return;var Pe=Oa.simpleMap(Ge.range,Ge.r2l),Qe=Pe[0]+(Pe[1]-Pe[0])*We;function Ve(ar){return Ge.l2r(Qe+(ar-Qe)*we)}Ge.range=Pe.map(Ve)}if(A){for(l||(ze=.5),Ze=0;Ze<w.length;Ze++)Ye(w[Ze],ze,be);Ce("x"),Ee[2]*=be,Ee[0]+=Ee[2]*ze*(1/be-1)}if(h){for(i||(Fe=.5),Ze=0;Ze<M.length;Ze++)Ye(M[Ze],Fe,be);Ce("y"),Ee[3]*=be,Ee[1]+=Ee[3]*(1-Fe)*(1/be-1)}Te(Ee),Oe(),e.emit("plotly_relayouting",N),Me=setTimeout(function(){e._fullLayout&&(Ee=[0,0,S,x],ge())},ve),me.preventDefault()}i.length*l.length!==1&&bS(O,ke);function De(me,he){if(me=me*I,he=he*F,e._transitioningWithDuration)return;if(e._fullLayout._replotting=!0,_==="ew"||g==="ns"){var be=_?-me:0,Se=g?-he:0;if(d.isSubplotConstrained){if(_&&g){var ze=(me/S-he/x)/2;me=ze*S,he=-ze*x,be=-me,Se=-he}g?be=-Se*S/x:Se=-be*x/S}_&&(sS(w,me),Ce("x")),g&&(sS(M,he),Ce("y")),Te([be,Se,S,x]),Oe(),e.emit("plotly_relayouting",N);return}function Fe(Ve,ar,se){for(var K=1-ar,ae,Re,Be=0;Be<Ve.length;Be++){var je=Ve[Be];if(!je.fixedrange){ae=je,Re=je._rl[K]+(je._rl[ar]-je._rl[K])/h$(se/je._length);var nr=je.l2r(Re);nr!==!1&&nr!==void 0&&(je.range[ar]=nr)}}return ae._length*(ae._rl[ar]-Re)/(ae._rl[ar]-ae._rl[K])}var Ze=_==="w"==(g==="n")?1:-1;if(_&&g&&(T.isSubplotConstrained||d.isSubplotConstrained)){var Ye=(me/S+Ze*he/x)/2;me=Ye*S,he=Ze*Ye*x}var Ge,We;if(_==="w"?me=Fe(w,0,me):_==="e"?me=Fe(w,1,-me):_||(me=0),g==="n"?he=Fe(M,1,he):g==="s"?he=Fe(M,0,-he):g||(he=0),Ge=_==="w"?me:0,We=g==="n"?he:0,T.isSubplotConstrained&&!d.isSubplotConstrained||d.isSubplotConstrained&&_&&g&&Ze>0){var we;if(d.isSubplotConstrained||!_&&g.length===1){for(we=0;we<w.length;we++)w[we].range=w[we]._r.slice(),Cy(w[we],1-he/x);me=he*S/x,Ge=me/2}if(d.isSubplotConstrained||!g&&_.length===1){for(we=0;we<M.length;we++)M[we].range=M[we]._r.slice(),Cy(M[we],1-me/S);he=me*x/S,We=he/2}}(!d.isSubplotConstrained||!g)&&Ce("x"),(!d.isSubplotConstrained||!_)&&Ce("y");var Pe=S-me,Qe=x-he;d.isSubplotConstrained&&!(_&&g)&&(_?(We=Ge?0:me*x/S,Qe=Pe*x/S):(Ge=We?0:he*S/x,Pe=Qe*S/x)),Te([Ge,We,Pe,Qe]),Oe(),e.emit("plotly_relayouting",N)}function Ce(me,he){for(var be=d.isSubplotConstrained?{x:M,y:w}[me]:d[me+"axes"],Se=d.isSubplotConstrained?{x:w,y:M}[me]:[],ze=0;ze<be.length;ze++){var Fe=be[ze],Ze=Fe._id,Ye=d.xLinks[Ze]||d.yLinks[Ze],Ge=Se[0]||b[Ye]||y[Ye];Ge&&(he?(he[Fe._name+".range[0]"]=he[Ge._name+".range[0]"],he[Fe._name+".range[1]"]=he[Ge._name+".range[1]"]):Fe.range=Ge.range.slice())}}function Oe(){var me=[],he;function be(Ze){for(he=0;he<Ze.length;he++)Ze[he].fixedrange||me.push(Ze[he]._id)}function Se(Ze,Ye){for(he=0;he<Ze.length;he++){var Ge=Ze[he],We=Ge[Ye];!Ge.fixedrange&&We.tickmode==="sync"&&me.push(We._id)}}for(A&&(be(w),be(T.xaxes),be(d.xaxes),Se(r.overlays,"xaxis")),h&&(be(M),be(T.yaxes),be(d.yaxes),Se(r.overlays,"yaxis")),N={},he=0;he<me.length;he++){var ze=me[he],Fe=Ey(e,ze);aS.drawOne(e,Fe,{skipTitle:!0}),N[Fe._name+".range[0]"]=Fe.range[0],N[Fe._name+".range[1]"]=Fe.range[1]}aS.redrawComponents(e,me)}function Ue(){if(!e._transitioningWithDuration){var me=e._context.doubleClick,he=[];_&&(he=he.concat(w)),g&&(he=he.concat(M)),d.xaxes&&(he=he.concat(d.xaxes)),d.yaxes&&(he=he.concat(d.yaxes));var be={},Se,ze;if(me==="reset+autosize")for(me="autosize",ze=0;ze<he.length;ze++){Se=he[ze];var Fe=Se._rangeInitial0,Ze=Se._rangeInitial1,Ye=Fe!==void 0||Ze!==void 0;if(Ye&&(Fe!==void 0&&Fe!==Se.range[0]||Ze!==void 0&&Ze!==Se.range[1])||!Ye&&Se.autorange!==!0){me="reset";break}}if(me==="autosize")for(ze=0;ze<he.length;ze++)Se=he[ze],Se.fixedrange||(be[Se._name+".autorange"]=!0);else if(me==="reset"){for((_||T.isSubplotConstrained)&&(he=he.concat(T.xaxes)),g&&!T.isSubplotConstrained&&(he=he.concat(T.yaxes)),T.isSubplotConstrained&&(_?g||(he=he.concat(M)):he=he.concat(w)),ze=0;ze<he.length;ze++)if(Se=he[ze],!Se.fixedrange){var Ge=Se._name,We=Se._autorangeInitial;Se._rangeInitial0===void 0&&Se._rangeInitial1===void 0?be[Ge+".autorange"]=!0:Se._rangeInitial0===void 0?(be[Ge+".autorange"]=We,be[Ge+".range"]=[null,Se._rangeInitial1]):Se._rangeInitial1===void 0?(be[Ge+".range"]=[Se._rangeInitial0,null],be[Ge+".autorange"]=We):be[Ge+".range"]=[Se._rangeInitial0,Se._rangeInitial1]}}e.emit("plotly_doubleclick",null),Yh.call("_guiRelayout",e,be)}}function ge(){Te([0,0,S,x]),Oa.syncOrAsync([l$.previousPromises,function(){e._fullLayout._replotting=!1,Yh.call("_guiRelayout",e,N)}],e)}function Te(me){var he=e._fullLayout,be=he._plots,Se=he._subplots.cartesian,ze,Fe,Ze,Ye;if(E&&Yh.subplotsRegistry.splom.drag(e),R){for(ze=0;ze<Se.length;ze++)if(Fe=be[Se[ze]],Ze=Fe.xaxis,Ye=Fe.yaxis,Fe._scene){Ze.limitRange&&Ze.limitRange(),Ye.limitRange&&Ye.limitRange();var Ge=Oa.simpleMap(Ze.range,Ze.r2l),We=Oa.simpleMap(Ye.range,Ye.r2l);Fe._scene.update({range:[Ge[0],We[0],Ge[1],We[1]]})}}if((E||R)&&(i$(e),o$(e)),D){var we=me[2]/v._length,Pe=me[3]/p._length;for(ze=0;ze<Se.length;ze++){Fe=be[Se[ze]],Ze=Fe.xaxis,Ye=Fe.yaxis;var Qe=(A||d.isSubplotConstrained)&&!Ze.fixedrange&&b[Ze._id],Ve=(h||d.isSubplotConstrained)&&!Ye.fixedrange&&y[Ye._id],ar,se,K,ae;if(Qe?(ar=we,K=l||d.isSubplotConstrained?me[0]:Le(Ze,ar)):d.xaHash[Ze._id]?(ar=we,K=me[0]*Ze._length/v._length):d.yaHash[Ze._id]?(ar=Pe,K=g==="ns"?-me[1]*Ze._length/p._length:Le(Ze,ar,{n:"top",s:"bottom"}[g])):(ar=ce(Ze,we,Pe),K=ye(Ze,ar)),ar>1&&(Ze.maxallowed!==void 0&&A===(Ze.range[0]<Ze.range[1]?"e":"w")||Ze.minallowed!==void 0&&A===(Ze.range[0]<Ze.range[1]?"w":"e"))&&(ar=1,K=0),Ve?(se=Pe,ae=i||d.isSubplotConstrained?me[1]:Le(Ye,se)):d.yaHash[Ye._id]?(se=Pe,ae=me[1]*Ye._length/p._length):d.xaHash[Ye._id]?(se=we,ae=_==="ew"?-me[0]*Ye._length/v._length:Le(Ye,se,{e:"right",w:"left"}[_])):(se=ce(Ye,we,Pe),ae=ye(Ye,se)),se>1&&(Ye.maxallowed!==void 0&&h===(Ye.range[0]<Ye.range[1]?"n":"s")||Ye.minallowed!==void 0&&h===(Ye.range[0]<Ye.range[1]?"s":"n"))&&(se=1,ae=0),!(!ar&&!se)){ar||(ar=1),se||(se=1);var Re=Ze._offset-K/ar,Be=Ye._offset-ae/se;Fe.clipRect.call(Zo.setTranslate,K,ae).call(Zo.setScale,ar,se),Fe.plot.call(Zo.setTranslate,Re,Be).call(Zo.setScale,1/ar,1/se),(ar!==Fe.xScaleFactor||se!==Fe.yScaleFactor)&&(Zo.setPointGroupScale(Fe.zoomScalePts,ar,se),Zo.setTextPointsScale(Fe.zoomScaleTxt,ar,se)),Zo.hideOutsideRangePoints(Fe.clipOnAxisFalseTraces,Fe),Fe.xScaleFactor=ar,Fe.yScaleFactor=se}}}}function ce(me,he,be){return me.fixedrange?0:A&&T.xaHash[me._id]?he:h&&(T.isSubplotConstrained?T.xaHash:T.yaHash)[me._id]?be:0}function ye(me,he){return he?(me.range=me._r.slice(),Cy(me,he),Le(me,he)):0}function Le(me,he,be){return me._length*(1-he)*a$[be||me.constraintoward||"middle"]}return O}function hS(e,r,t,n){var a=Oa.ensureSingle(e.draglayer,r,t,function(o){o.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id)});return a.call(r$,n),a.node()}function dS(e,r,t,n,a,o,i){var l=hS(e,"rect",r,t);return Dy.select(l).call(Zo.setRect,n,a,o,i),l}function lS(e,r){for(var t=0;t<e.length;t++)if(!e[t].fixedrange)return r;return""}function v$(e,r){var t=e.range[r],n=Math.abs(t-e.range[1-r]),a;return e.type==="date"?t:e.type==="log"?(a=Math.ceil(Math.max(0,-Math.log(n)/Math.LN10))+3,tS("."+a+"g")(Math.pow(10,t))):(a=Math.floor(Math.log(Math.abs(t))/Math.LN10)-Math.floor(Math.log(n)/Math.LN10)+4,tS("."+String(a)+"g")(t))}function Ly(e,r,t,n,a){for(var o=0;o<e.length;o++){var i=e[o];if(!i.fixedrange)if(i.rangebreaks){var l=i._id.charAt(0)==="y",u=l?1-r:r,s=l?1-t:t;n[i._name+".range[0]"]=i.l2r(i.p2l(u*i._length)),n[i._name+".range[1]"]=i.l2r(i.p2l(s*i._length))}else{var f=i._rl[0],v=i._rl[1]-f;n[i._name+".range[0]"]=i.l2r(f+v*r),n[i._name+".range[1]"]=i.l2r(f+v*t)}}if(a&&a.length){var p=(r+(1-t))/2;Ly(a,p,1-p,n,[])}}function sS(e,r){for(var t=0;t<e.length;t++){var n=e[t];if(!n.fixedrange){if(n.rangebreaks){var a=0,o=n._length,i=n.p2l(a+r)-n.p2l(a),l=n.p2l(o+r)-n.p2l(o),u=(i+l)/2;n.range=[n.l2r(n._rl[0]-u),n.l2r(n._rl[1]-u)]}else n.range=[n.l2r(n._rl[0]-r/n._m),n.l2r(n._rl[1]-r/n._m)];n.limitRange&&n.limitRange()}}}function h$(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function d$(e,r,t){return e?e==="nsew"?t?"":r==="pan"?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}function pS(e,r,t,n,a){return e.append("path").attr("class","zoombox").style({fill:r>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",cS(t,n)).attr("d",a+"Z")}function gS(e,r,t){return e.append("path").attr("class","zoombox-corners").style({fill:nS.background,stroke:nS.defaultLine,"stroke-width":1,opacity:0}).attr("transform",cS(r,t)).attr("d","M0,0Z")}function yS(e,r,t,n,a,o){e.attr("d",n+"M"+t.l+","+t.t+"v"+t.h+"h"+t.w+"v-"+t.h+"h-"+t.w+"Z"),mS(e,r,a,o)}function mS(e,r,t,n){t||(e.transition().style("fill",n>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),r.transition().style("opacity",1).duration(200))}function Ry(e){Dy.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function xS(e){oS&&e.data&&e._context.showTips&&(Oa.notifier(Oa._(e,"Double-click to zoom back out"),"long"),oS=!1)}function p$(e,r){return"M"+(e.l-.5)+","+(r-Xn-.5)+"h-3v"+(2*Xn+1)+"h3ZM"+(e.r+.5)+","+(r-Xn-.5)+"h3v"+(2*Xn+1)+"h-3Z"}function g$(e,r){return"M"+(r-Xn-.5)+","+(e.t-.5)+"v-3h"+(2*Xn+1)+"v3ZM"+(r-Xn-.5)+","+(e.b+.5)+"v3h"+(2*Xn+1)+"v-3Z"}function Xh(e){var r=Math.floor(Math.min(e.b-e.t,e.r-e.l,Xn)/2);return"M"+(e.l-3.5)+","+(e.t-.5+r)+"h3v"+-r+"h"+r+"v-3h-"+(r+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+r)+"h-3v"+-r+"h"+-r+"v-3h"+(r+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-r)+"h-3v"+r+"h"+-r+"v3h"+(r+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-r)+"h3v"+r+"h"+r+"v3h-"+(r+3)+"Z"}function uS(e,r,t,n,a){for(var o=!1,i={},l={},u,s,f,v,p=(a||{}).xaHash,b=(a||{}).yaHash,y=0;y<r.length;y++){var w=r[y];for(u in t)if(w[u]){for(f in w)!(a&&(p[f]||b[f]))&&!(f.charAt(0)==="x"?t:n)[f]&&(i[f]=u);for(s in n)!(a&&(p[s]||b[s]))&&w[s]&&(o=!0)}for(s in n)if(w[s])for(v in w)!(a&&(p[v]||b[v]))&&!(v.charAt(0)==="x"?t:n)[v]&&(l[v]=s)}o&&(Oa.extendFlat(i,l),l={});var M={},m=[];for(f in i){var k=Ey(e,f);m.push(k),M[k._id]=k}var S={},x=[];for(v in l){var T=Ey(e,v);x.push(T),S[T._id]=T}return{xaHash:M,yaHash:S,xaxes:m,yaxes:x,xLinks:i,yLinks:l,isSubplotConstrained:o}}function bS(e,r){if(!$Q)e.onwheel!==void 0?e.onwheel=r:e.onmousewheel!==void 0?e.onmousewheel=r:e.isAddedWheelEvent||(e.isAddedWheelEvent=!0,e.addEventListener("wheel",r,{passive:!1}));else{var t=e.onwheel!==void 0?"wheel":"mousewheel";e._onwheel&&e.removeEventListener(t,e._onwheel),e._onwheel=r,e.addEventListener(t,r,{passive:!1})}}function fS(e){var r=[];for(var t in e)r.push(e[t]);return r}_S.exports={makeDragBox:c$,makeDragger:hS,makeRectDragger:dS,makeZoombox:pS,makeCorners:gS,updateZoombox:yS,xyCorners:Xh,transitionZoombox:mS,removeZoombox:Ry,showDoubleClickNotifier:xS,attachWheelEventHandler:bS}});var Fy=pe(Jh=>{"use strict";var y$=it(),Zh=io(),m$=ti(),x$=Vo(),ii=wS().makeDragBox,cn=wn().DRAGGERSIZE;Jh.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){y$.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var n=Object.keys(t._plots||{}).sort(function(o,i){if((t._plots[o].mainplot&&!0)===(t._plots[i].mainplot&&!0)){var l=o.split("y"),u=i.split("y");return l[0]===u[0]?Number(l[1]||1)-Number(u[1]||1):Number(l[0]||1)-Number(u[0]||1)}return t._plots[o].mainplot?1:-1});n.forEach(function(o){var i=t._plots[o],l=i.xaxis,u=i.yaxis;if(!i.mainplot){var s=ii(r,i,l._offset,u._offset,l._length,u._length,"ns","ew");s.onmousemove=function(p){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===o&&r._fullLayout._plots[o]&&Zh.hover(r,p,o)},Zh.hover(r,p,o),r._fullLayout._lasthover=s,r._fullLayout._hoversubplot=o},s.onmouseout=function(p){r._dragging||(r._fullLayout._hoversubplot=null,m$.unhover(r,p))},r._context.showAxisDragHandles&&(ii(r,i,l._offset-cn,u._offset-cn,cn,cn,"n","w"),ii(r,i,l._offset+l._length,u._offset-cn,cn,cn,"n","e"),ii(r,i,l._offset-cn,u._offset+u._length,cn,cn,"s","w"),ii(r,i,l._offset+l._length,u._offset+u._length,cn,cn,"s","e"))}if(r._context.showAxisDragHandles){if(o===l._mainSubplot){var f=l._mainLinePosition;l.side==="top"&&(f-=cn),ii(r,i,l._offset+l._length*.1,f,l._length*.8,cn,"","ew"),ii(r,i,l._offset,f,l._length*.1,cn,"","w"),ii(r,i,l._offset+l._length*.9,f,l._length*.1,cn,"","e")}if(o===u._mainSubplot){var v=u._mainLinePosition;u.side!=="right"&&(v-=cn),ii(r,i,v,u._offset+u._length*.1,cn,u._length*.8,"ns",""),ii(r,i,v,u._offset+u._length*.9,cn,u._length*.1,"s",""),ii(r,i,v,u._offset,cn,u._length*.1,"n","")}}});var a=t._hoverlayer.node();a.onmousemove=function(o){o.target=r._fullLayout._lasthover,Zh.hover(r,o,t._hoversubplot)},a.onclick=function(o){o.target=r._fullLayout._lasthover,Zh.click(r,o)},a.onmousedown=function(o){r._fullLayout._lasthover.onmousedown(o)},Jh.updateFx(r)}};Jh.updateFx=function(e){var r=e._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";x$(r._draggers,t)}});var AS=pe(($ve,TS)=>{"use strict";var MS=Er();TS.exports=function(r){for(var t=MS.layoutArrayContainers,n=MS.layoutArrayRegexes,a=r.split("[")[0],o,i,l=0;l<n.length;l++)if(i=r.match(n[l]),i&&i.index===0){o=i[0];break}if(o||(o=t[t.indexOf(a)]),!o)return!1;var u=r.substr(o.length);return u?(i=u.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),i?{array:o,index:Number(i[1]),property:i[3]||""}:!1):{array:o,index:"",property:""}}});var SS=pe(u0=>{"use strict";var b$=wo(),Iy=Fc(),s0=Al(),_$=Rp().sorterAsc,Ny=Er();u0.containerArrayMatch=AS();var w$=u0.isAddVal=function(r){return r==="add"||b$(r)},kS=u0.isRemoveVal=function(r){return r===null||r==="remove"};u0.applyContainerArrayChanges=function(r,t,n,a,o){var i=t.astr,l=Ny.getComponentMethod(i,"supplyLayoutDefaults"),u=Ny.getComponentMethod(i,"draw"),s=Ny.getComponentMethod(i,"drawOne"),f=a.replot||a.recalc||l===Iy||u===Iy,v=r.layout,p=r._fullLayout;if(n[""]){Object.keys(n).length>1&&s0.warn("Full array edits are incompatible with other edits",i);var b=n[""][""];if(kS(b))t.set(null);else if(Array.isArray(b))t.set(b);else return s0.warn("Unrecognized full array edit value",i,b),!0;return f?!1:(l(v,p),u(r),!0)}var y=Object.keys(n).map(Number).sort(_$),w=t.get(),M=w||[],m=o(p,i).get(),k=[],S=-1,x=M.length,T,d,_,g,c,A,h,R;for(T=0;T<y.length;T++){if(_=y[T],g=n[_],c=Object.keys(g),A=g[""],h=w$(A),_<0||_>M.length-(h?0:1)){s0.warn("index out of range",i,_);continue}if(A!==void 0)c.length>1&&s0.warn("Insertion & removal are incompatible with edits to the same index.",i,_),kS(A)?k.push(_):h?(A==="add"&&(A={}),M.splice(_,0,A),m&&m.splice(_,0,{})):s0.warn("Unrecognized full object edit value",i,_,A),S===-1&&(S=_);else for(d=0;d<c.length;d++)R=i+"["+_+"].",o(M[_],c[d],R).set(g[c[d]])}for(T=k.length-1;T>=0;T--)M.splice(k[T],1),m&&m.splice(k[T],1);if(M.length?w||t.set(M):t.set(null),f)return!1;if(l(v,p),s!==Iy){var E;if(S===-1)E=y;else{for(x=Math.max(M.length,x),E=[],T=0;T<y.length&&(_=y[T],!(_>=S));T++)E.push(_);for(T=S;T<x;T++)E.push(T)}for(T=0;T<E.length;T++)s(r,E[T])}else u(r);return!0}});var IS=pe(oi=>{"use strict";var RS=rt(),ehe=_p(),DS=Er(),fa=ir(),f0=ln(),PS=on(),FS=Zr(),c0=PS.cleanId,M$=PS.getFromTrace,zy=DS.traceIs;oi.clearPromiseQueue=function(e){Array.isArray(e._promises)&&e._promises.length>0&&fa.log("Clearing previous rejected promises from queue."),e._promises=[]};oi.cleanLayout=function(e){var r,t;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var n=(f0.subplotsRegistry.cartesian||{}).attrRegex,a=(f0.subplotsRegistry.polar||{}).attrRegex,o=(f0.subplotsRegistry.ternary||{}).attrRegex,i=(f0.subplotsRegistry.gl3d||{}).attrRegex,l=Object.keys(e);for(r=0;r<l.length;r++){var u=l[r];if(n&&n.test(u)){var s=e[u];s.anchor&&s.anchor!=="free"&&(s.anchor=c0(s.anchor)),s.overlaying&&(s.overlaying=c0(s.overlaying)),s.type||(s.isdate?s.type="date":s.islog?s.type="log":s.isdate===!1&&s.islog===!1&&(s.type="linear")),(s.autorange==="withzero"||s.autorange==="tozero")&&(s.autorange=!0,s.rangemode="tozero"),s.insiderange&&delete s.range,delete s.islog,delete s.isdate,delete s.categories,Kh(s,"domain")&&delete s.domain}}var f=Array.isArray(e.annotations)?e.annotations.length:0;for(r=0;r<f;r++){var v=e.annotations[r];fa.isPlainObject(v)&&(xu(v,"xref"),xu(v,"yref"))}var p=Array.isArray(e.shapes)?e.shapes.length:0;for(r=0;r<p;r++){var b=e.shapes[r];fa.isPlainObject(b)&&(xu(b,"xref"),xu(b,"yref"))}var y=Array.isArray(e.images)?e.images.length:0;for(r=0;r<y;r++){var w=e.images[r];fa.isPlainObject(w)&&(xu(w,"xref"),xu(w,"yref"))}var M=e.legend;return M&&(M.x>3?(M.x=1.02,M.xanchor="left"):M.x<-2&&(M.x=-.02,M.xanchor="right"),M.y>3?(M.y=1.02,M.yanchor="bottom"):M.y<-2&&(M.y=-.02,M.yanchor="top")),e.dragmode==="rotate"&&(e.dragmode="orbit"),FS.clean(e),e.template&&e.template.layout&&oi.cleanLayout(e.template.layout),e};function xu(e,r){var t=e[r],n=r.charAt(0);t&&t!=="paper"&&(e[r]=c0(t,n,!0))}oi.cleanData=function(e){for(var r=0;r<e.length;r++){var t=e[r],n;if(t.type==="histogramy"&&"xbins"in t&&!("ybins"in t)&&(t.ybins=t.xbins,delete t.xbins),t.type==="histogramy"&&oi.swapXYData(t),(t.type==="histogramx"||t.type==="histogramy")&&(t.type="histogram"),"scl"in t&&!("colorscale"in t)&&(t.colorscale=t.scl,delete t.scl),"reversescl"in t&&!("reversescale"in t)&&(t.reversescale=t.reversescl,delete t.reversescl),t.xaxis&&(t.xaxis=c0(t.xaxis,"x")),t.yaxis&&(t.yaxis=c0(t.yaxis,"y")),zy(t,"gl3d")&&t.scene&&(t.scene=f0.subplotsRegistry.gl3d.cleanId(t.scene)),!zy(t,"pie-like")&&!zy(t,"bar-like"))if(Array.isArray(t.textposition))for(n=0;n<t.textposition.length;n++)t.textposition[n]=ES(t.textposition[n]);else t.textposition&&(t.textposition=ES(t.textposition));var a=DS.getModule(t);if(a&&a.colorbar){var o=a.colorbar.container,i=o?t[o]:t;i&&i.colorscale&&(i.colorscale==="YIGnBu"&&(i.colorscale="YlGnBu"),i.colorscale==="YIOrRd"&&(i.colorscale="YlOrRd"))}if(t.type==="surface"&&fa.isPlainObject(t.contours)){var l=["x","y","z"];for(n=0;n<l.length;n++){var u=t.contours[l[n]];fa.isPlainObject(u)&&(u.highlightColor&&(u.highlightcolor=u.highlightColor,delete u.highlightColor),u.highlightWidth&&(u.highlightwidth=u.highlightWidth,delete u.highlightWidth))}}if(t.type==="candlestick"||t.type==="ohlc"){var s=(t.increasing||{}).showlegend!==!1,f=(t.decreasing||{}).showlegend!==!1,v=CS(t.increasing),p=CS(t.decreasing);if(v!==!1&&p!==!1){var b=T$(v,p,s,f);b&&(t.name=b)}else(v||p)&&!t.name&&(t.name=v||p)}Kh(t,"line")&&delete t.line,"marker"in t&&(Kh(t.marker,"line")&&delete t.marker.line,Kh(t,"marker")&&delete t.marker),FS.clean(t),t.autobinx&&(delete t.autobinx,delete t.xbins),t.autobiny&&(delete t.autobiny,delete t.ybins)}};function CS(e){if(!fa.isPlainObject(e))return!1;var r=e.name;return delete e.name,delete e.showlegend,(typeof r=="string"||typeof r=="number")&&String(r)}function T$(e,r,t,n){if(t&&!n)return e;if(n&&!t||!e.trim())return r;if(!r.trim())return e;var a=Math.min(e.length,r.length),o;for(o=0;o<a&&e.charAt(o)===r.charAt(o);o++);var i=e.substr(0,o);return i.trim()}function ES(e){var r="middle",t="center";return typeof e=="string"&&(e.indexOf("top")!==-1?r="top":e.indexOf("bottom")!==-1&&(r="bottom"),e.indexOf("left")!==-1?t="left":e.indexOf("right")!==-1&&(t="right")),r+" "+t}function Kh(e,r){return r in e&&typeof e[r]=="object"&&Object.keys(e[r]).length===0}oi.swapXYData=function(e){var r;if(fa.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var t=e.error_y,n="copy_ystyle"in t?t.copy_ystyle:!(t.color||t.thickness||t.width);fa.swapAttrs(e,["error_?.copy_ystyle"]),n&&fa.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}if(typeof e.hoverinfo=="string"){var a=e.hoverinfo.split("+");for(r=0;r<a.length;r++)a[r]==="x"?a[r]="y":a[r]==="y"&&(a[r]="x");e.hoverinfo=a.join("+")}};oi.coerceTraceIndices=function(e,r){if(RS(r))return[r];if(!Array.isArray(r)||!r.length)return e.data.map(function(a,o){return o});if(Array.isArray(r)){for(var t=[],n=0;n<r.length;n++)fa.isIndex(r[n],e.data.length)?t.push(r[n]):fa.warn("trace index (",r[n],") is not a number or is out of bounds");return t}return r};oi.manageArrayContainers=function(e,r,t){var n=e.obj,a=e.parts,o=a.length,i=a[o-1],l=RS(i);if(l&&r===null){var u=a.slice(0,o-1).join("."),s=fa.nestedProperty(n,u).get();s.splice(i,1)}else l&&e.get()===void 0&&e.get()===void 0&&(t[e.astr]=null),e.set(r)};var A$=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function LS(e){var r=e.search(A$);if(r>0)return e.substr(0,r)}oi.hasParent=function(e,r){for(var t=LS(r);t;){if(t in e)return!0;t=LS(t)}return!1};var k$=["x","y","z"];oi.clearAxisTypes=function(e,r,t){for(var n=0;n<r.length;n++)for(var a=e._fullData[n],o=0;o<3;o++){var i=M$(e,a,k$[o]);if(i&&i.type!=="log"){var l=i._name,u=i._id.substr(1);if(u.substr(0,5)==="scene"){if(t[u]!==void 0)continue;l=u+"."+l}var s=l+".type";t[l]===void 0&&t[s]===void 0&&fa.nestedProperty(e.layout,s).set(null)}}}});var Gy=pe(tt=>{"use strict";var jh=it(),S$=rt(),C$=Gp(),fr=ir(),_t=fr.nestedProperty,By=mf(),Zn=dw(),Ba=Er(),o1=Vs(),Rr=ln(),Vn=St(),E$=c2(),L$=Ra(),qy=yt(),R$=Zr(),D$=Fy().initInteractions,P$=Io(),F$=mu().clearOutline,BS=Tl().dfltConfig,Qh=SS(),Jt=IS(),ht=Rh(),Jo=zn(),I$=wn().AX_NAME_PATTERN,Oy=0,NS=5;function N$(e,r,t,n){var a;if(e=fr.getGraphDiv(e),By.init(e),fr.isPlainObject(r)){var o=r;r=o.data,t=o.layout,n=o.config,a=o.frames}var i=By.triggerHandler(e,"plotly_beforeplot",[r,t,n]);if(i===!1)return Promise.reject();!r&&!t&&!fr.isPlotDiv(e)&&fr.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",e);function l(){if(a)return tt.addFrames(e,a)}HS(e,n),t||(t={}),jh.select(e).classed("js-plotly-plot",!0),qy.makeTester(),Array.isArray(e._promises)||(e._promises=[]);var u=(e.data||[]).length===0&&Array.isArray(r);Array.isArray(r)&&(Jt.cleanData(r),u?e.data=r:e.data.push.apply(e.data,r),e.empty=!1),(!e.layout||u)&&(e.layout=Jt.cleanLayout(t)),Rr.supplyDefaults(e);var s=e._fullLayout,f=s._has("cartesian");s._replotting=!0,(u||s._shouldCreateBgLayer)&&(ij(e),s._shouldCreateBgLayer&&delete s._shouldCreateBgLayer),qy.initGradients(e),qy.initPatterns(e),u&&Vn.saveShowSpikeInitial(e);var v=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;v&&Rr.doCalcdata(e);for(var p=0;p<e.calcdata.length;p++)e.calcdata[p][0].trace=e._fullData[p];e._context.responsive?e._responsiveChartHandler||(e._responsiveChartHandler=function(){fr.isHidden(e)||Rr.resize(e)},window.addEventListener("resize",e._responsiveChartHandler)):fr.clearResponsive(e);var b=fr.extendFlat({},s._size),y=0;function w(){for(var _=s._basePlotModules,g=0;g<_.length;g++)_[g].drawFramework&&_[g].drawFramework(e);!s._glcanvas&&s._has("gl")&&(s._glcanvas=s._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(R){return R.key}),s._glcanvas.enter().append("canvas").attr("class",function(R){return"gl-canvas gl-canvas-"+R.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var c=e._context.plotGlPixelRatio;if(s._glcanvas){s._glcanvas.attr("width",s.width*c).attr("height",s.height*c).style("width",s.width+"px").style("height",s.height+"px");var A=s._glcanvas.data()[0].regl;if(A&&(Math.floor(s.width*c)!==A._gl.drawingBufferWidth||Math.floor(s.height*c)!==A._gl.drawingBufferHeight)){var h="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(y)fr.error(h);else return fr.log(h+" Clearing graph and plotting again."),Rr.cleanPlot([],{},e._fullData,s),Rr.supplyDefaults(e),s=e._fullLayout,Rr.doCalcdata(e),y++,w()}}return s.modebar.orientation==="h"?s._modebardiv.style("height",null).style("width","100%"):s._modebardiv.style("width",null).style("height",s.height+"px"),Rr.previousPromises(e)}function M(){if(Rr.clearAutoMarginIds(e),ht.drawMarginPushers(e),Vn.allowAutoMargin(e),e._fullLayout.title.text&&e._fullLayout.title.automargin&&Rr.allowAutoMargin(e,"title.automargin"),s._has("pie"))for(var _=e._fullData,g=0;g<_.length;g++){var c=_[g];c.type==="pie"&&c.automargin&&Rr.allowAutoMargin(e,"pie."+c.uid+".automargin")}return Rr.doAutoMargin(e),Rr.previousPromises(e)}function m(){if(Rr.didMarginChange(b,s._size))return fr.syncOrAsync([M,ht.layoutStyles],e)}function k(){if(!v){S();return}return fr.syncOrAsync([Ba.getComponentMethod("shapes","calcAutorange"),Ba.getComponentMethod("annotations","calcAutorange"),S],e)}function S(){e._transitioning||(ht.doAutoRangeAndConstraints(e),u&&Vn.saveRangeInitial(e),Ba.getComponentMethod("rangeslider","calcAutorange")(e))}function x(){return Vn.draw(e,u?"":"redraw")}var T=[Rr.previousPromises,l,w,M,m];f&&T.push(k),T.push(ht.layoutStyles),f&&T.push(x,function(g){var c=g._fullLayout._insideTickLabelsUpdaterange;if(c)return g._fullLayout._insideTickLabelsUpdaterange=void 0,v0(g,c).then(function(){Vn.saveRangeInitial(g,!0)})}),T.push(ht.drawData,ht.finalDraw,D$,Rr.addLinks,Rr.rehover,Rr.redrag,Rr.reselect,Rr.doAutoMargin,Rr.previousPromises);var d=fr.syncOrAsync(T,e);return(!d||!d.then)&&(d=Promise.resolve()),d.then(function(){return h0(e),e})}function h0(e){var r=e._fullLayout;r._redrawFromAutoMarginCount?r._redrawFromAutoMarginCount--:e.emit("plotly_afterplot")}function z$(e){return fr.extendFlat(BS,e)}function US(e,r){try{e._fullLayout._paper.style("background",r)}catch(t){fr.error(t)}}function q$(e,r){var t=R$.combine(r,"white");US(e,t)}function HS(e,r){if(!e._context){e._context=fr.extendDeep({},BS);var t=jh.select("base");e._context._baseUrl=t.size()&&t.attr("href")?window.location.href.split("#")[0]:""}var n=e._context,a,o,i;if(r){for(o=Object.keys(r),a=0;a<o.length;a++)i=o[a],!(i==="editable"||i==="edits")&&i in n&&(i==="setBackground"&&r[i]==="opaque"?n[i]=q$:n[i]=r[i]);var l=r.editable;if(l!==void 0)for(n.editable=l,o=Object.keys(n.edits),a=0;a<o.length;a++)n.edits[o[a]]=l;if(r.edits)for(o=Object.keys(r.edits),a=0;a<o.length;a++)i=o[a],i in n.edits&&(n.edits[i]=r.edits[i]);n._exportedPlot=r._exportedPlot}n.staticPlot&&(n.editable=!1,n.edits={},n.autosizable=!1,n.scrollZoom=!1,n.doubleClick=!1,n.showTips=!1,n.showLink=!1,n.displayModeBar=!1),n.displayModeBar==="hover"&&!C$&&(n.displayModeBar=!0),(n.setBackground==="transparent"||typeof n.setBackground!="function")&&(n.setBackground=US),n._hasZeroHeight=n._hasZeroHeight||e.clientHeight===0,n._hasZeroWidth=n._hasZeroWidth||e.clientWidth===0;var u=n.scrollZoom,s=n._scrollZoom={};if(u===!0)s.cartesian=1,s.gl3d=1,s.geo=1,s.mapbox=1,s.map=1;else if(typeof u=="string"){var f=u.split("+");for(a=0;a<f.length;a++)s[f[a]]=1}else u!==!1&&(s.gl3d=1,s.geo=1,s.mapbox=1,s.map=1)}function O$(e){if(e=fr.getGraphDiv(e),!fr.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return Jt.cleanData(e.data),Jt.cleanLayout(e.layout),e.calcdata=void 0,tt._doPlot(e).then(function(){return e.emit("plotly_redraw"),e})}function B$(e,r,t,n){return e=fr.getGraphDiv(e),Rr.cleanPlot([],{},e._fullData||[],e._fullLayout||{}),Rr.purge(e),tt._doPlot(e,r,t,n)}function e1(e,r){var t=r+1,n=[],a,o;for(a=0;a<e.length;a++)o=e[a],o<0?n.push(t+o):n.push(o);return n}function r1(e,r,t){var n,a;for(n=0;n<r.length;n++){if(a=r[n],a!==parseInt(a,10))throw new Error("all values in "+t+" must be integers");if(a>=e.data.length||a<-e.data.length)throw new Error(t+" must be valid indices for gd.data.");if(r.indexOf(a,n+1)>-1||a>=0&&r.indexOf(-e.data.length+a)>-1||a<0&&r.indexOf(e.data.length+a)>-1)throw new Error("each index in "+t+" must be unique.")}}function VS(e,r,t){if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(typeof r=="undefined")throw new Error("currentIndices is a required argument.");if(Array.isArray(r)||(r=[r]),r1(e,r,"currentIndices"),typeof t!="undefined"&&!Array.isArray(t)&&(t=[t]),typeof t!="undefined"&&r1(e,t,"newIndices"),typeof t!="undefined"&&r.length!==t.length)throw new Error("current and new indices must be of equal length.")}function U$(e,r,t){var n,a;if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(typeof r=="undefined")throw new Error("traces must be defined.");for(Array.isArray(r)||(r=[r]),n=0;n<r.length;n++)if(a=r[n],typeof a!="object"||Array.isArray(a)||a===null)throw new Error("all values in traces array must be non-array objects");if(typeof t!="undefined"&&!Array.isArray(t)&&(t=[t]),typeof t!="undefined"&&t.length!==r.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function H$(e,r,t,n){var a=fr.isPlainObject(n);if(!Array.isArray(e.data))throw new Error("gd.data must be an array");if(!fr.isPlainObject(r))throw new Error("update must be a key:value object");if(typeof t=="undefined")throw new Error("indices must be an integer or array of integers");r1(e,t,"indices");for(var o in r){if(!Array.isArray(r[o])||r[o].length!==t.length)throw new Error("attribute "+o+" must be an array of length equal to indices array length");if(a&&(!(o in n)||!Array.isArray(n[o])||n[o].length!==r[o].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function V$(e,r,t,n){var a=fr.isPlainObject(n),o=[],i,l,u,s,f;Array.isArray(t)||(t=[t]),t=e1(t,e.data.length-1);for(var v in r)for(var p=0;p<t.length;p++){if(i=e.data[t[p]],u=_t(i,v),l=u.get(),s=r[v][p],!fr.isArrayOrTypedArray(s))throw new Error("attribute: "+v+" index: "+p+" must be an array");if(!fr.isArrayOrTypedArray(l))throw new Error("cannot extend missing or non-array attribute: "+v);if(l.constructor!==s.constructor)throw new Error("cannot extend array with an array of a different type: "+v);f=a?n[v][p]:n,S$(f)||(f=-1),o.push({prop:u,target:l,insert:s,maxp:Math.floor(f)})}return o}function GS(e,r,t,n,a){H$(e,r,t,n);for(var o=V$(e,r,t,n),i={},l={},u=0;u<o.length;u++){var s=o[u].prop,f=o[u].maxp,v=a(o[u].target,o[u].insert,f);s.set(v[0]),Array.isArray(i[s.astr])||(i[s.astr]=[]),i[s.astr].push(v[1]),Array.isArray(l[s.astr])||(l[s.astr]=[]),l[s.astr].push(o[u].target.length)}return{update:i,maxPoints:l}}function YS(e,r){var t=new e.constructor(e.length+r.length);return t.set(e),t.set(r,e.length),t}function WS(e,r,t,n){e=fr.getGraphDiv(e);function a(u,s,f){var v,p;if(fr.isTypedArray(u))if(f<0){var b=new u.constructor(0),y=YS(u,s);f<0?(v=y,p=b):(v=b,p=y)}else if(v=new u.constructor(f),p=new u.constructor(u.length+s.length-f),f===s.length)v.set(s),p.set(u);else if(f<s.length){var w=s.length-f;v.set(s.subarray(w)),p.set(u),p.set(s.subarray(0,w),u.length)}else{var M=f-s.length,m=u.length-M;v.set(u.subarray(m)),v.set(s,M),p.set(u.subarray(0,m))}else v=u.concat(s),p=f>=0&&f<v.length?v.splice(0,v.length-f):[];return[v,p]}var o=GS(e,r,t,n,a),i=tt.redraw(e),l=[e,o.update,t,o.maxPoints];return Zn.add(e,tt.prependTraces,l,WS,arguments),i}function XS(e,r,t,n){e=fr.getGraphDiv(e);function a(u,s,f){var v,p;if(fr.isTypedArray(u))if(f<=0){var b=new u.constructor(0),y=YS(s,u);f<0?(v=y,p=b):(v=b,p=y)}else if(v=new u.constructor(f),p=new u.constructor(u.length+s.length-f),f===s.length)v.set(s),p.set(u);else if(f<s.length){var w=s.length-f;v.set(s.subarray(0,w)),p.set(s.subarray(w)),p.set(u,w)}else{var M=f-s.length;v.set(s),v.set(u.subarray(0,M),s.length),p.set(u.subarray(M))}else v=s.concat(u),p=f>=0&&f<v.length?v.splice(f,v.length):[];return[v,p]}var o=GS(e,r,t,n,a),i=tt.redraw(e),l=[e,o.update,t,o.maxPoints];return Zn.add(e,tt.extendTraces,l,XS,arguments),i}function ZS(e,r,t){e=fr.getGraphDiv(e);var n=[],a=tt.deleteTraces,o=ZS,i=[e,n],l=[e,r],u,s;for(U$(e,r,t),Array.isArray(r)||(r=[r]),r=r.map(function(f){return fr.extendFlat({},f)}),Jt.cleanData(r),u=0;u<r.length;u++)e.data.push(r[u]);for(u=0;u<r.length;u++)n.push(-r.length+u);if(typeof t=="undefined")return s=tt.redraw(e),Zn.add(e,a,i,o,l),s;Array.isArray(t)||(t=[t]);try{VS(e,n,t)}catch(f){throw e.data.splice(e.data.length-r.length,r.length),f}return Zn.startSequence(e),Zn.add(e,a,i,o,l),s=tt.moveTraces(e,n,t),Zn.stopSequence(e),s}function JS(e,r){e=fr.getGraphDiv(e);var t=[],n=tt.addTraces,a=JS,o=[e,t,r],i=[e,r],l,u;if(typeof r=="undefined")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(r)||(r=[r]),r1(e,r,"indices"),r=e1(r,e.data.length-1),r.sort(fr.sorterDes),l=0;l<r.length;l+=1)u=e.data.splice(r[l],1)[0],t.push(u);var s=tt.redraw(e);return Zn.add(e,n,o,a,i),s}function Uy(e,r,t){e=fr.getGraphDiv(e);var n=[],a=[],o=Uy,i=Uy,l=[e,t,r],u=[e,r,t],s;if(VS(e,r,t),r=Array.isArray(r)?r:[r],typeof t=="undefined")for(t=[],s=0;s<r.length;s++)t.push(-r.length+s);for(t=Array.isArray(t)?t:[t],r=e1(r,e.data.length-1),t=e1(t,e.data.length-1),s=0;s<e.data.length;s++)r.indexOf(s)===-1&&n.push(e.data[s]);for(s=0;s<r.length;s++)a.push({newIndex:t[s],trace:e.data[r[s]]});for(a.sort(function(v,p){return v.newIndex-p.newIndex}),s=0;s<a.length;s+=1)n.splice(a[s].newIndex,0,a[s].trace);e.data=n;var f=tt.redraw(e);return Zn.add(e,o,l,i,u),f}function t1(e,r,t,n){e=fr.getGraphDiv(e),Jt.clearPromiseQueue(e);var a={};if(typeof r=="string")a[r]=t;else if(fr.isPlainObject(r))a=fr.extendFlat({},r),n===void 0&&(n=t);else return fr.warn("Restyle fail.",r,t,n),Promise.reject();Object.keys(a).length&&(e.changed=!0);var o=Jt.coerceTraceIndices(e,n),i=KS(e,a,o),l=i.flags;l.calc&&(e.calcdata=void 0),l.clearAxisTypes&&Jt.clearAxisTypes(e,o,{});var u=[];l.fullReplot?u.push(tt._doPlot):(u.push(Rr.previousPromises),Rr.supplyDefaults(e),l.markerSize&&(Rr.doCalcdata(e),l1(u)),l.style&&u.push(ht.doTraceStyle),l.colorbars&&u.push(ht.doColorBars),u.push(h0)),u.push(Rr.rehover,Rr.redrag,Rr.reselect),Zn.add(e,t1,[e,i.undoit,i.traces],t1,[e,i.redoit,i.traces]);var s=fr.syncOrAsync(u,e);return(!s||!s.then)&&(s=Promise.resolve()),s.then(function(){return e.emit("plotly_restyle",i.eventData),e})}function uo(e){return e===void 0?null:e}function $h(e,r){return r?function(t,n,a){var o=_t(t,n),i=o.set;return o.set=function(l){var u=(a||"")+n;n1(u,o.get(),l,e),i(l)},o}:_t}function n1(e,r,t,n){if(Array.isArray(r)||Array.isArray(t))for(var a=Array.isArray(r)?r:[],o=Array.isArray(t)?t:[],i=Math.max(a.length,o.length),l=0;l<i;l++)n1(e+"["+l+"]",a[l],o[l],n);else if(fr.isPlainObject(r)||fr.isPlainObject(t)){var u=fr.isPlainObject(r)?r:{},s=fr.isPlainObject(t)?t:{},f=fr.extendFlat({},u,s);for(var v in f)n1(e+"."+v,u[v],s[v],n)}else n[e]===void 0&&(n[e]=uo(r))}function G$(e,r,t){for(var n in t){var a=_t(e,n);n1(n,a.get(),t[n],r)}}function KS(e,r,t){var n=e._fullLayout,a=e._fullData,o=e.data,i=n._guiEditing,l=$h(n._preGUI,i),u=fr.extendDeepAll({},r),s,f=Jo.traceFlags(),v={},p={},b;function y(){return t.map(function(){})}function w(G){var re=Vn.id2name(G);b.indexOf(re)===-1&&b.push(re)}function M(G){return"LAYOUT"+G+".autorange"}function m(G){return"LAYOUT"+G+".range"}function k(G){for(var re=G;re<a.length;re++)if(a[re]._input===o[G])return a[re]}function S(G,re,H){if(Array.isArray(G)){G.forEach(function(Ee){S(Ee,re,H)});return}if(!(G in r||Jt.hasParent(r,G))){var te;if(G.substr(0,6)==="LAYOUT")te=l(e.layout,G.replace("LAYOUT",""));else{var ue=t[H],de=n._tracePreGUI[k(ue)._fullInput.uid];te=$h(de,i)(o[ue],G)}G in p||(p[G]=y()),p[G][H]===void 0&&(p[G][H]=uo(te.get())),re!==void 0&&te.set(re)}}function x(G){return function(re){return a[re][G]}}function T(G){return function(re,H){return re===!1?a[t[H]][G]:null}}for(var d in r){if(Jt.hasParent(r,d))throw new Error("cannot set "+d+" and a parent attribute simultaneously");var _=r[d],g,c,A,h,R,E;if((d==="autobinx"||d==="autobiny")&&(d=d.charAt(d.length-1)+"bins",Array.isArray(_)?_=_.map(T(d)):_===!1?_=t.map(x(d)):_=null),v[d]=_,d.substr(0,6)==="LAYOUT"){A=l(e.layout,d.replace("LAYOUT","")),p[d]=[uo(A.get())],A.set(Array.isArray(_)?_[0]:_),f.calc=!0;continue}for(p[d]=y(),s=0;s<t.length;s++){g=o[t[s]],c=k(t[s]);var D=n._tracePreGUI[c._fullInput.uid];if(A=$h(D,i)(g,d),h=A.get(),R=Array.isArray(_)?_[s%_.length]:_,R!==void 0){var N=A.parts[A.parts.length-1],I=d.substr(0,d.length-N.length-1),F=I?I+".":"",L=I?_t(c,I).get():c;if(E=o1.getTraceValObject(c,A.parts),E&&E.impliedEdits&&R!==null)for(var P in E.impliedEdits)S(fr.relativeAttr(d,P),E.impliedEdits[P],s);else if((N==="thicknessmode"||N==="lenmode")&&h!==R&&(R==="fraction"||R==="pixels")&&L){var O=n._size,U=L.orient,X=U==="top"||U==="bottom";if(N==="thicknessmode"){var j=X?O.h:O.w;S(F+"thickness",L.thickness*(R==="fraction"?1/j:j),s)}else{var $=X?O.w:O.h;S(F+"len",L.len*(R==="fraction"?1/$:$),s)}}else if(d==="type"&&(R==="pie"!=(h==="pie")||R==="funnelarea"!=(h==="funnelarea"))){var Y="x",q="y";(R==="bar"||h==="bar")&&g.orientation==="h"&&(Y="y",q="x"),fr.swapAttrs(g,["?","?src"],"labels",Y),fr.swapAttrs(g,["d?","?0"],"label",Y),fr.swapAttrs(g,["?","?src"],"values",q),h==="pie"||h==="funnelarea"?(_t(g,"marker.color").set(_t(g,"marker.colors").get()),n._pielayer.selectAll("g.trace").remove()):Ba.traceIs(g,"cartesian")&&_t(g,"marker.colors").set(_t(g,"marker.color").get())}p[d][s]=uo(h);var Z=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Z.indexOf(d)!==-1){if(d==="orientation"){A.set(R);var ne=g.x&&!g.y?"h":"v";if((A.get()||ne)===c.orientation)continue}else d==="orientationaxes"&&(g.orientation={v:"h",h:"v"}[c.orientation]);Jt.swapXYData(g),f.calc=f.clearAxisTypes=!0}else Rr.dataArrayContainers.indexOf(A.parts[0])!==-1?(Jt.manageArrayContainers(A,R,p),f.calc=!0):(E?E.arrayOk&&!Ba.traceIs(c,"regl")&&(fr.isArrayOrTypedArray(R)||fr.isArrayOrTypedArray(h))?f.calc=!0:Jo.update(f,E):f.calc=!0,A.set(R))}}if(["swapxyaxes","orientationaxes"].indexOf(d)!==-1&&Vn.swap(e,t),d==="orientationaxes"){var Q=_t(e.layout,"hovermode"),oe=Q.get();oe==="x"?Q.set("y"):oe==="y"?Q.set("x"):oe==="x unified"?Q.set("y unified"):oe==="y unified"&&Q.set("x unified")}if(["orientation","type"].indexOf(d)!==-1){for(b=[],s=0;s<t.length;s++){var ee=o[t[s]];Ba.traceIs(ee,"cartesian")&&(w(ee.xaxis||"x"),w(ee.yaxis||"y"))}S(b.map(M),!0,0),S(b.map(m),[0,1],0)}}return(f.calc||f.plot)&&(f.fullReplot=!0),{flags:f,undoit:p,redoit:v,traces:t,eventData:fr.extendDeepNoArrays([],[u,t])}}function v0(e,r,t){e=fr.getGraphDiv(e),Jt.clearPromiseQueue(e);var n={};if(typeof r=="string")n[r]=t;else if(fr.isPlainObject(r))n=fr.extendFlat({},r);else return fr.warn("Relayout fail.",r,t),Promise.reject();Object.keys(n).length&&(e.changed=!0);var a=eC(e,n),o=a.flags;o.calc&&(e.calcdata=void 0);var i=[Rr.previousPromises];o.layoutReplot?i.push(ht.layoutReplot):Object.keys(n).length&&(QS(e,o,a)||Rr.supplyDefaults(e),o.legend&&i.push(ht.doLegend),o.layoutstyle&&i.push(ht.layoutStyles),o.axrange&&l1(i,a.rangesAltered),o.ticks&&i.push(ht.doTicksRelayout),o.modebar&&i.push(ht.doModeBar),o.camera&&i.push(ht.doCamera),o.colorbars&&i.push(ht.doColorBars),i.push(h0)),i.push(Rr.rehover,Rr.redrag,Rr.reselect),Zn.add(e,v0,[e,a.undoit],v0,[e,a.redoit]);var l=fr.syncOrAsync(i,e);return(!l||!l.then)&&(l=Promise.resolve(e)),l.then(function(){return e.emit("plotly_relayout",a.eventData),e})}function QS(e,r,t){var n=e._fullLayout;if(!r.axrange)return!1;for(var a in r)if(a!=="axrange"&&r[a])return!1;var o,i,l=function(b,y){return fr.coerce(o,i,L$,b,y)},u={};for(var s in t.rangesAltered){var f=Vn.id2name(s);if(o=e.layout[f],i=n[f],E$(o,i,l,u),i._matchGroup){for(var v in i._matchGroup)if(v!==s){var p=n[Vn.id2name(v)];p.autorange=i.autorange,p.range=i.range.slice(),p._input.range=i.range.slice()}}}return!0}function l1(e,r){var t=r?function(n){var a=[],o=!0;for(var i in r){var l=Vn.getFromId(n,i);if(a.push(i),(l.ticklabelposition||"").indexOf("inside")!==-1&&l._anchorAxis&&a.push(l._anchorAxis._id),l._matchGroup)for(var u in l._matchGroup)r[u]||a.push(u)}return Vn.draw(n,a,{skipTitle:o})}:function(n){return Vn.draw(n,"redraw")};e.push(F$,ht.doAutoRangeAndConstraints,t,ht.drawData,ht.finalDraw)}var $S=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,jS=/^[xyz]axis[0-9]*\.autorange$/,Y$=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function eC(e,r){var t=e.layout,n=e._fullLayout,a=n._guiEditing,o=$h(n._preGUI,a),i=Object.keys(r),l=Vn.list(e),u=fr.extendDeepAll({},r),s={},f,v,p;for(i=Object.keys(r),v=0;v<i.length;v++)if(i[v].indexOf("allaxes")===0){for(p=0;p<l.length;p++){var b=l[p]._id.substr(1),y=b.indexOf("scene")!==-1?b+".":"",w=i[v].replace("allaxes",y+l[p]._name);r[w]||(r[w]=r[i[v]])}delete r[i[v]]}var M=Jo.layoutFlags(),m={},k={};function S(de,Ee){if(Array.isArray(de)){de.forEach(function(ve){S(ve,Ee)});return}if(!(de in r||Jt.hasParent(r,de))){var Me=o(t,de);de in k||(k[de]=uo(Me.get())),Ee!==void 0&&Me.set(Ee)}}var x={},T;function d(de){var Ee=Vn.name2id(de.split(".")[0]);return x[Ee]=1,Ee}for(var _ in r){if(Jt.hasParent(r,_))throw new Error("cannot set "+_+" and a parent attribute simultaneously");for(var g=o(t,_),c=r[_],A=g.parts.length,h=A-1;h>0&&typeof g.parts[h]!="string";)h--;var R=g.parts[h],E=g.parts[h-1]+"."+R,D=g.parts.slice(0,h).join("."),N=_t(e.layout,D).get(),I=_t(n,D).get(),F=g.get();if(c!==void 0){m[_]=c,k[_]=R==="reverse"?c:uo(F);var L=o1.getLayoutValObject(n,g.parts);if(L&&L.impliedEdits&&c!==null)for(var P in L.impliedEdits)S(fr.relativeAttr(_,P),L.impliedEdits[P]);if(["width","height"].indexOf(_)!==-1)if(c){S("autosize",null);var O=_==="height"?"width":"height";S(O,n[O])}else n[_]=e._initialAutoSize[_];else if(_==="autosize")S("width",c?null:n.width),S("height",c?null:n.height);else if(E.match($S))d(E),_t(n,D+"._inputRange").set(null);else if(E.match(jS)){d(E),_t(n,D+"._inputRange").set(null);var U=_t(n,D).get();U._inputDomain&&(U._input.domain=U._inputDomain.slice())}else E.match(Y$)&&_t(n,D+"._inputDomain").set(null);if(R==="type"){T=N;var X=I.type==="linear"&&c==="log",j=I.type==="log"&&c==="linear";if(X||j){if(!T||!T.range)S(D+".autorange",!0);else if(I.autorange)X&&(T.range=T.range[1]>T.range[0]?[1,2]:[2,1]);else{var $=T.range[0],Y=T.range[1];X?($<=0&&Y<=0&&S(D+".autorange",!0),$<=0?$=Y/1e6:Y<=0&&(Y=$/1e6),S(D+".range[0]",Math.log($)/Math.LN10),S(D+".range[1]",Math.log(Y)/Math.LN10)):(S(D+".range[0]",Math.pow(10,$)),S(D+".range[1]",Math.pow(10,Y)))}Array.isArray(n._subplots.polar)&&n._subplots.polar.length&&n[g.parts[0]]&&g.parts[1]==="radialaxis"&&delete n[g.parts[0]]._subplot.viewInitial["radialaxis.range"],Ba.getComponentMethod("annotations","convertCoords")(e,I,c,S),Ba.getComponentMethod("images","convertCoords")(e,I,c,S)}else S(D+".autorange",!0),S(D+".range",null);_t(n,D+"._inputRange").set(null)}else if(R.match(I$)){var q=_t(n,_).get(),Z=(c||{}).type;(!Z||Z==="-")&&(Z="linear"),Ba.getComponentMethod("annotations","convertCoords")(e,q,Z,S),Ba.getComponentMethod("images","convertCoords")(e,q,Z,S)}var ne=Qh.containerArrayMatch(_);if(ne){f=ne.array,v=ne.index;var Q=ne.property,oe=L||{editType:"calc"};v!==""&&Q===""&&(Qh.isAddVal(c)?k[_]=null:Qh.isRemoveVal(c)?k[_]=(_t(t,f).get()||[])[v]:fr.warn("unrecognized full object value",r)),Jo.update(M,oe),s[f]||(s[f]={});var ee=s[f][v];ee||(ee=s[f][v]={}),ee[Q]=c,delete r[_]}else R==="reverse"?(N.range?N.range.reverse():(S(D+".autorange",!0),N.range=[1,0]),I.autorange?M.calc=!0:M.plot=!0):(_==="dragmode"&&(c===!1&&F!==!1||c!==!1&&F===!1)||n._has("scatter-like")&&n._has("regl")&&_==="dragmode"&&(c==="lasso"||c==="select")&&!(F==="lasso"||F==="select")?M.plot=!0:L?Jo.update(M,L):M.calc=!0,g.set(c))}}for(f in s){var G=Qh.applyContainerArrayChanges(e,o(t,f),s[f],M,o);G||(M.plot=!0)}for(var re in x){T=Vn.getFromId(e,re);var H=T&&T._constraintGroup;if(H){M.calc=!0;for(var te in H)x[te]||(Vn.getFromId(e,te)._constraintShrinkable=!0)}}(rC(e)||r.height||r.width)&&(M.plot=!0);var ue=n.shapes;for(v=0;v<ue.length;v++)if(ue[v].showlegend){M.calc=!0;break}return(M.plot||M.calc)&&(M.layoutReplot=!0),{flags:M,rangesAltered:x,undoit:k,redoit:m,eventData:u}}function rC(e){var r=e._fullLayout,t=r.width,n=r.height;return e.layout.autosize&&Rr.plotAutoSize(e,e.layout,r),r.width!==t||r.height!==n}function a1(e,r,t,n){e=fr.getGraphDiv(e),Jt.clearPromiseQueue(e),fr.isPlainObject(r)||(r={}),fr.isPlainObject(t)||(t={}),Object.keys(r).length&&(e.changed=!0),Object.keys(t).length&&(e.changed=!0);var a=Jt.coerceTraceIndices(e,n),o=KS(e,fr.extendFlat({},r),a),i=o.flags,l=eC(e,fr.extendFlat({},t)),u=l.flags;(i.calc||u.calc)&&(e.calcdata=void 0),i.clearAxisTypes&&Jt.clearAxisTypes(e,a,t);var s=[];u.layoutReplot?s.push(ht.layoutReplot):i.fullReplot?s.push(tt._doPlot):(s.push(Rr.previousPromises),QS(e,u,l)||Rr.supplyDefaults(e),i.style&&s.push(ht.doTraceStyle),(i.colorbars||u.colorbars)&&s.push(ht.doColorBars),u.legend&&s.push(ht.doLegend),u.layoutstyle&&s.push(ht.layoutStyles),u.axrange&&l1(s,l.rangesAltered),u.ticks&&s.push(ht.doTicksRelayout),u.modebar&&s.push(ht.doModeBar),u.camera&&s.push(ht.doCamera),s.push(h0)),s.push(Rr.rehover,Rr.redrag,Rr.reselect),Zn.add(e,a1,[e,o.undoit,l.undoit,o.traces],a1,[e,o.redoit,l.redoit,o.traces]);var f=fr.syncOrAsync(s,e);return(!f||!f.then)&&(f=Promise.resolve(e)),f.then(function(){return e.emit("plotly_update",{data:o.eventData,layout:l.eventData}),e})}function Vy(e){return function(t){t._fullLayout._guiEditing=!0;var n=e.apply(null,arguments);return t._fullLayout._guiEditing=!1,n}}var W$=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^(map\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],X$=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function zS(e,r){for(var t=0;t<r.length;t++){var n=r[t],a=e.match(n.pattern);if(a){var o=a[1]||"";return{head:o,tail:e.substr(o.length+1),attr:n.attr}}}}function qS(e,r){var t=_t(r,e).get();if(t!==void 0)return t;var n=e.split(".");for(n.pop();n.length>1;)if(n.pop(),t=_t(r,n.join(".")+".uirevision").get(),t!==void 0)return t;return r.uirevision}function Z$(e,r){for(var t=0;t<r.length;t++)if(r[t]._fullInput.uid===e)return t;return-1}function J$(e,r,t){for(var n=0;n<r.length;n++)if(r[n].uid===e)return n;return!r[t]||r[t].uid?-1:t}function OS(e,r){var t=fr.isPlainObject(e),n=Array.isArray(e);return t||n?(t&&fr.isPlainObject(r)||n&&Array.isArray(r))&&JSON.stringify(e)===JSON.stringify(r):e===r}function K$(e,r,t,n){var a=n._preGUI,o,i,l,u,s,f,v,p,b,y,w=[],M={},m={};for(o in a){if(s=zS(o,W$),s){if(b=s.head,y=s.tail,i=s.attr||b+".uirevision",l=_t(n,i).get(),u=l&&qS(i,r),u&&u===l){if(f=a[o],f===null&&(f=void 0),v=_t(r,o),p=v.get(),OS(p,f)){p===void 0&&y==="autorange"&&w.push(b),v.set(uo(_t(n,o).get()));continue}else if(y==="autorange"||y.substr(0,6)==="range["){var k=a[b+".range[0]"],S=a[b+".range[1]"],x=a[b+".autorange"];if(x||x===null&&k===null&&S===null){if(!(b in M)){var T=_t(r,b).get();M[b]=T&&(T.autorange||T.autorange!==!1&&(!T.range||T.range.length!==2))}if(M[b]){v.set(uo(_t(n,o).get()));continue}}}}}else fr.warn("unrecognized GUI edit: "+o);delete a[o],s&&s.tail.substr(0,6)==="range["&&(m[s.head]=1)}for(var d=0;d<w.length;d++){var _=w[d];if(m[_]){var g=_t(r,_).get();g&&delete g.autorange}}var c=n._tracePreGUI;for(var A in c){var h=c[A],R=null,E;for(o in h){if(!R){var D=Z$(A,t);if(D<0){delete c[A];break}var N=t[D];E=N._fullInput;var I=J$(A,e,E.index);if(I<0){delete c[A];break}R=e[I]}if(s=zS(o,X$),s){if(s.attr?(l=_t(n,s.attr).get(),u=l&&qS(s.attr,r)):(l=E.uirevision,u=R.uirevision,u===void 0&&(u=r.uirevision)),u&&u===l&&(f=h[o],f===null&&(f=void 0),v=_t(R,o),p=v.get(),OS(p,f))){v.set(uo(_t(E,o).get()));continue}}else fr.warn("unrecognized GUI edit: "+o+" in trace uid "+A);delete h[o]}}}function Q$(e,r,t,n){var a,o;function i(){return tt.addFrames(e,a)}e=fr.getGraphDiv(e),Jt.clearPromiseQueue(e);var l=e._fullData,u=e._fullLayout;if(!fr.isPlotDiv(e)||!l||!u)o=tt.newPlot(e,r,t,n);else{if(fr.isPlainObject(r)){var s=r;r=s.data,t=s.layout,n=s.config,a=s.frames}var f=!1;if(n){var v=fr.extendDeep({},e._context);e._context=void 0,HS(e,n),f=Hy(v,e._context)}e.data=r||[],Jt.cleanData(e.data),e.layout=t||{},Jt.cleanLayout(e.layout),K$(e.data,e.layout,l,u),Rr.supplyDefaults(e,{skipUpdateCalc:!0});var p=e._fullData,b=e._fullLayout,y=b.datarevision===void 0,w=b.transition,M=j$(e,u,b,y,w),m=M.newDataRevision,k=$$(e,l,p,y,w,m);if(rC(e)&&(M.layoutReplot=!0),k.calc||M.calc){e.calcdata=void 0;for(var S=Object.getOwnPropertyNames(b),x=0;x<S.length;x++){var T=S[x],d=T.substring(0,5);if(d==="xaxis"||d==="yaxis"){var _=b[T]._emptyCategories;_&&_()}}}else Rr.supplyDefaultsUpdateCalc(e.calcdata,p);var g=[];if(a&&(e._transitionData={},Rr.createTransitionData(e),g.push(i)),b.transition&&!f&&(k.anim||M.anim))M.ticks&&g.push(ht.doTicksRelayout),Rr.doCalcdata(e),ht.doAutoRangeAndConstraints(e),g.push(function(){return Rr.transitionFromReact(e,k,M,u)});else if(k.fullReplot||M.layoutReplot||f)e._fullLayout._skipDefaults=!0,g.push(tt._doPlot);else{for(var c in M.arrays){var A=M.arrays[c];if(A.length){var h=Ba.getComponentMethod(c,"drawOne");if(h!==fr.noop)for(var R=0;R<A.length;R++)h(e,A[R]);else{var E=Ba.getComponentMethod(c,"draw");if(E===fr.noop)throw new Error("cannot draw components: "+c);E(e)}}}g.push(Rr.previousPromises),k.style&&g.push(ht.doTraceStyle),(k.colorbars||M.colorbars)&&g.push(ht.doColorBars),M.legend&&g.push(ht.doLegend),M.layoutstyle&&g.push(ht.layoutStyles),M.axrange&&l1(g),M.ticks&&g.push(ht.doTicksRelayout),M.modebar&&g.push(ht.doModeBar),M.camera&&g.push(ht.doCamera),g.push(h0)}g.push(Rr.rehover,Rr.redrag,Rr.reselect),o=fr.syncOrAsync(g,e),(!o||!o.then)&&(o=Promise.resolve(e))}return o.then(function(){return e.emit("plotly_react",{data:r,layout:t}),e})}function $$(e,r,t,n,a,o){var i=r.length===t.length;if(!a&&!i)return{fullReplot:!0,calc:!0};var l=Jo.traceFlags();l.arrays={},l.nChanges=0,l.nChangesAnim=0;var u,s;function f(b){var y=o1.getTraceValObject(s,b);return!s._module.animatable&&y.anim&&(y.anim=!1),y}var v={getValObject:f,flags:l,immutable:n,transition:a,newDataRevision:o,gd:e},p={};for(u=0;u<r.length;u++)if(t[u]){if(s=t[u]._fullInput,p[s.uid])continue;p[s.uid]=1,i1(r[u]._fullInput,s,[],v)}return(l.calc||l.plot)&&(l.fullReplot=!0),a&&l.nChanges&&l.nChangesAnim&&(l.anim=l.nChanges===l.nChangesAnim&&i?"all":"some"),l}function j$(e,r,t,n,a){var o=Jo.layoutFlags();o.arrays={},o.rangesAltered={},o.nChanges=0,o.nChangesAnim=0;function i(p){return o1.getLayoutValObject(t,p)}for(var l in t)if(!(!l.startsWith("xaxis")&&!l.startsWith("yaxis"))&&r[l]){var u=t[l].domain,s=r[l].domain,f=r[l]._inputDomain;r[l]._inputDomain&&(u[0]===f[0]&&u[1]===f[1]?t[l].domain=r[l].domain:(u[0]!==s[0]||u[1]!==s[1])&&(t[l]._inputDomain=null))}var v={getValObject:i,flags:o,immutable:n,transition:a,gd:e};return i1(r,t,[],v),(o.plot||o.calc)&&(o.layoutReplot=!0),a&&o.nChanges&&o.nChangesAnim&&(o.anim=o.nChanges===o.nChangesAnim?"all":"some"),o}function i1(e,r,t,n){var a,o,i,l=n.getValObject,u=n.flags,s=n.immutable,f=n.inArray,v=n.arrayIndex;function p(){var D=a.editType;if(f&&D.indexOf("arraydraw")!==-1){fr.pushUnique(u.arrays[f],v);return}Jo.update(u,a),D!=="none"&&u.nChanges++,n.transition&&a.anim&&u.nChangesAnim++,($S.test(i)||jS.test(i))&&(u.rangesAltered[t[0]]=1),o==="datarevision"&&(u.newDataRevision=1)}function b(D){return D.valType==="data_array"||D.arrayOk}for(o in e){if(u.calc&&!n.transition)return;var y=e[o],w=r[o],M=t.concat(o);if(i=M.join("."),!(o.charAt(0)==="_"||typeof y=="function"||y===w)){if((o==="tick0"||o==="dtick")&&t[0]!=="geo"){var m=r.tickmode;if(m==="auto"||m==="array"||!m)continue}if(!(o==="range"&&r.autorange)&&!((o==="zmin"||o==="zmax")&&r.type==="contourcarpet")&&(a=l(M),!!a&&!(a._compareAsJSON&&JSON.stringify(y)===JSON.stringify(w)))){var k=a.valType,S,x=b(a),T=Array.isArray(y),d=Array.isArray(w);if(T&&d){var _="_input_"+o,g=e[_],c=r[_];if(Array.isArray(g)&&g===c)continue}if(w===void 0)x&&T?u.calc=!0:p();else if(a._isLinkedToArray){var A=[],h=!1;f||(u.arrays[o]=A);var R=Math.min(y.length,w.length),E=Math.max(y.length,w.length);if(R!==E)if(a.editType==="arraydraw")h=!0;else{p();continue}for(S=0;S<R;S++)i1(y[S],w[S],M.concat(S),fr.extendFlat({inArray:o,arrayIndex:S},n));if(h)for(S=R;S<E;S++)A.push(S)}else!k&&fr.isPlainObject(y)?i1(y,w,M,n):x?T&&d?(s&&(u.calc=!0),(s||n.newDataRevision)&&p()):T!==d?u.calc=!0:p():T&&d?(y.length!==w.length||String(y)!==String(w))&&p():p()}}}for(o in r)if(!(o in e||o.charAt(0)==="_"||typeof r[o]=="function"))if(a=l(t.concat(o)),b(a)&&Array.isArray(r[o])){u.calc=!0;return}else p()}function Hy(e,r){var t;for(t in e)if(t.charAt(0)!=="_"){var n=e[t],a=r[t];if(n!==a)if(fr.isPlainObject(n)&&fr.isPlainObject(a)){if(Hy(n,a))return!0}else if(Array.isArray(n)&&Array.isArray(a)){if(n.length!==a.length)return!0;for(var o=0;o<n.length;o++)if(n[o]!==a[o])if(fr.isPlainObject(n[o])&&fr.isPlainObject(a[o])){if(Hy(n[o],a[o]))return!0}else return!0}else return!0}}function ej(e,r,t){if(e=fr.getGraphDiv(e),!fr.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var n=e._transitionData;n._frameQueue||(n._frameQueue=[]),t=Rr.supplyAnimationDefaults(t);var a=t.transition,o=t.frame;n._frameWaitingCnt===void 0&&(n._frameWaitingCnt=0);function i(s){return Array.isArray(a)?s>=a.length?a[0]:a[s]:a}function l(s){return Array.isArray(o)?s>=o.length?o[0]:o[s]:o}function u(s,f){var v=0;return function(){if(s&&++v===f)return s()}}return new Promise(function(s,f){function v(){if(n._frameQueue.length!==0){for(;n._frameQueue.length;){var R=n._frameQueue.pop();R.onInterrupt&&R.onInterrupt()}e.emit("plotly_animationinterrupted",[])}}function p(R){if(R.length!==0){for(var E=0;E<R.length;E++){var D;R[E].type==="byname"?D=Rr.computeFrame(e,R[E].name):D=R[E].data;var N=l(E),I=i(E);I.duration=Math.min(I.duration,N.duration);var F={frame:D,name:R[E].name,frameOpts:N,transitionOpts:I};E===R.length-1&&(F.onComplete=u(s,2),F.onInterrupt=f),n._frameQueue.push(F)}t.mode==="immediate"&&(n._lastFrameAt=-1/0),n._animationRaf||w()}}function b(){e.emit("plotly_animated"),window.cancelAnimationFrame(n._animationRaf),n._animationRaf=null}function y(){n._currentFrame&&n._currentFrame.onComplete&&n._currentFrame.onComplete();var R=n._currentFrame=n._frameQueue.shift();if(R){var E=R.name?R.name.toString():null;e._fullLayout._currentFrame=E,n._lastFrameAt=Date.now(),n._timeToNext=R.frameOpts.duration,Rr.transition(e,R.frame.data,R.frame.layout,Jt.coerceTraceIndices(e,R.frame.traces),R.frameOpts,R.transitionOpts).then(function(){R.onComplete&&R.onComplete()}),e.emit("plotly_animatingframe",{name:E,frame:R.frame,animation:{frame:R.frameOpts,transition:R.transitionOpts}})}else b()}function w(){e.emit("plotly_animating"),n._lastFrameAt=-1/0,n._timeToNext=0,n._runningTransitions=0,n._currentFrame=null;var R=function(){n._animationRaf=window.requestAnimationFrame(R),Date.now()-n._lastFrameAt>n._timeToNext&&y()};R()}var M=0;function m(R){return Array.isArray(a)?M>=a.length?R.transitionOpts=a[M]:R.transitionOpts=a[0]:R.transitionOpts=a,M++,R}var k,S,x=[],T=r==null,d=Array.isArray(r),_=!T&&!d&&fr.isPlainObject(r);if(_)x.push({type:"object",data:m(fr.extendFlat({},r))});else if(T||["string","number"].indexOf(typeof r)!==-1)for(k=0;k<n._frames.length;k++)S=n._frames[k],S&&(T||String(S.group)===String(r))&&x.push({type:"byname",name:String(S.name),data:m({name:S.name})});else if(d)for(k=0;k<r.length;k++){var g=r[k];["number","string"].indexOf(typeof g)!==-1?(g=String(g),x.push({type:"byname",name:g,data:m({name:g})})):fr.isPlainObject(g)&&x.push({type:"object",data:m(fr.extendFlat({},g))})}for(k=0;k<x.length;k++)if(S=x[k],S.type==="byname"&&!n._frameHash[S.data.name]){fr.warn('animate failure: frame not found: "'+S.data.name+'"'),f();return}["next","immediate"].indexOf(t.mode)!==-1&&v(),t.direction==="reverse"&&x.reverse();var c=e._fullLayout._currentFrame;if(c&&t.fromcurrent){var A=-1;for(k=0;k<x.length;k++)if(S=x[k],S.type==="byname"&&S.name===c){A=k;break}if(A>0&&A<x.length-1){var h=[];for(k=0;k<x.length;k++)S=x[k],(x[k].type!=="byname"||k>A)&&h.push(S);x=h}}x.length>0?p(x):(e.emit("plotly_animated"),s())})}function rj(e,r,t){if(e=fr.getGraphDiv(e),r==null)return Promise.resolve();if(!fr.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var n,a,o,i,l=e._transitionData._frames,u=e._transitionData._frameHash;if(!Array.isArray(r))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+r);var s=l.length+r.length*2,f=[],v={};for(n=r.length-1;n>=0;n--)if(fr.isPlainObject(r[n])){var p=r[n].name,b=(u[p]||v[p]||{}).name,y=r[n].name,w=u[b]||v[b];b&&y&&typeof y=="number"&&w&&Oy<NS&&(Oy++,fr.warn('addFrames: overwriting frame "'+(u[b]||v[b]).name+'" with a frame whose name of type "number" also equates to "'+b+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),Oy===NS&&fr.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),v[p]={name:p},f.push({frame:Rr.supplyFrameDefaults(r[n]),index:t&&t[n]!==void 0&&t[n]!==null?t[n]:s+n})}f.sort(function(_,g){return _.index>g.index?-1:_.index<g.index?1:0});var M=[],m=[],k=l.length;for(n=f.length-1;n>=0;n--){if(a=f[n].frame,typeof a.name=="number"&&fr.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!a.name)for(;u[a.name="frame "+e._transitionData._counter++];);if(u[a.name]){for(o=0;o<l.length&&(l[o]||{}).name!==a.name;o++);M.push({type:"replace",index:o,value:a}),m.unshift({type:"replace",index:o,value:l[o]})}else i=Math.max(0,Math.min(f[n].index,k)),M.push({type:"insert",index:i,value:a}),m.unshift({type:"delete",index:i}),k++}var S=Rr.modifyFrames,x=Rr.modifyFrames,T=[e,m],d=[e,M];return Zn&&Zn.add(e,S,T,x,d),Rr.modifyFrames(e,M)}function tj(e,r){if(e=fr.getGraphDiv(e),!fr.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);var t,n,a=e._transitionData._frames,o=[],i=[];if(!r)for(r=[],t=0;t<a.length;t++)r.push(t);for(r=r.slice(),r.sort(),t=r.length-1;t>=0;t--)n=r[t],o.push({type:"delete",index:n}),i.unshift({type:"insert",index:n,value:a[n]});var l=Rr.modifyFrames,u=Rr.modifyFrames,s=[e,i],f=[e,o];return Zn&&Zn.add(e,l,s,u,f),Rr.modifyFrames(e,o)}function nj(e){e=fr.getGraphDiv(e);var r=e._fullLayout||{},t=e._fullData||[];return Rr.cleanPlot([],{},t,r),Rr.purge(e),By.purge(e),r._container&&r._container.remove(),delete e._context,e}function aj(e){var r=e._fullLayout,t=e.getBoundingClientRect();if(!fr.equalDomRects(t,r._lastBBox)){var n=r._invTransform=fr.inverseTransformMatrix(fr.getFullTransformMatrix(e));r._invScaleX=Math.sqrt(n[0][0]*n[0][0]+n[0][1]*n[0][1]+n[0][2]*n[0][2]),r._invScaleY=Math.sqrt(n[1][0]*n[1][0]+n[1][1]*n[1][1]+n[1][2]*n[1][2]),r._lastBBox=t}}function ij(e){var r=jh.select(e),t=e._fullLayout;if(t._calcInverseTransform=aj,t._calcInverseTransform(e),t._container=r.selectAll(".plot-container").data([0]),t._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0).style({width:"100%",height:"100%"}),t._paperdiv=t._container.selectAll(".svg-container").data([0]),t._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),t._glcontainer=t._paperdiv.selectAll(".gl-container").data([{}]),t._glcontainer.enter().append("div").classed("gl-container",!0),t._paperdiv.selectAll(".main-svg").remove(),t._paperdiv.select(".modebar-container").remove(),t._paper=t._paperdiv.insert("svg",":first-child").classed("main-svg",!0),t._toppaper=t._paperdiv.append("svg").classed("main-svg",!0),t._modebardiv=t._paperdiv.append("div"),delete t._modeBar,t._hoverpaper=t._paperdiv.append("svg").classed("main-svg",!0),!t._uid){var n={};jh.selectAll("defs").each(function(){this.id&&(n[this.id.split("-")[1]]=1)}),t._uid=fr.randstr(n)}t._paperdiv.selectAll(".main-svg").attr(P$.svgAttrs),t._defs=t._paper.append("defs").attr("id","defs-"+t._uid),t._clips=t._defs.append("g").classed("clips",!0),t._topdefs=t._toppaper.append("defs").attr("id","topdefs-"+t._uid),t._topclips=t._topdefs.append("g").classed("clips",!0),t._bgLayer=t._paper.append("g").classed("bglayer",!0),t._draggers=t._paper.append("g").classed("draglayer",!0);var a=t._paper.append("g").classed("layer-below",!0);t._imageLowerLayer=a.append("g").classed("imagelayer",!0),t._shapeLowerLayer=a.append("g").classed("shapelayer",!0),t._cartesianlayer=t._paper.append("g").classed("cartesianlayer",!0),t._polarlayer=t._paper.append("g").classed("polarlayer",!0),t._smithlayer=t._paper.append("g").classed("smithlayer",!0),t._ternarylayer=t._paper.append("g").classed("ternarylayer",!0),t._geolayer=t._paper.append("g").classed("geolayer",!0),t._funnelarealayer=t._paper.append("g").classed("funnelarealayer",!0),t._pielayer=t._paper.append("g").classed("pielayer",!0),t._iciclelayer=t._paper.append("g").classed("iciclelayer",!0),t._treemaplayer=t._paper.append("g").classed("treemaplayer",!0),t._sunburstlayer=t._paper.append("g").classed("sunburstlayer",!0),t._indicatorlayer=t._toppaper.append("g").classed("indicatorlayer",!0),t._glimages=t._paper.append("g").classed("glimages",!0);var o=t._toppaper.append("g").classed("layer-above",!0);t._imageUpperLayer=o.append("g").classed("imagelayer",!0),t._shapeUpperLayer=o.append("g").classed("shapelayer",!0),t._selectionLayer=t._toppaper.append("g").classed("selectionlayer",!0),t._infolayer=t._toppaper.append("g").classed("infolayer",!0),t._menulayer=t._toppaper.append("g").classed("menulayer",!0),t._zoomlayer=t._toppaper.append("g").classed("zoomlayer",!0),t._hoverlayer=t._hoverpaper.append("g").classed("hoverlayer",!0),t._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),e.emit("plotly_framework")}tt.animate=ej;tt.addFrames=rj;tt.deleteFrames=tj;tt.addTraces=ZS;tt.deleteTraces=JS;tt.extendTraces=WS;tt.moveTraces=Uy;tt.prependTraces=XS;tt.newPlot=B$;tt._doPlot=N$;tt.purge=nj;tt.react=Q$;tt.redraw=O$;tt.relayout=v0;tt.restyle=t1;tt.setPlotConfig=z$;tt.update=a1;tt._guiRelayout=Vy(v0);tt._guiRestyle=Vy(t1);tt._guiUpdate=Vy(a1);tt._storeDirectGUIEdit=G$});var jl=pe(Oi=>{"use strict";var oj=Er();Oi.getDelay=function(e){return e._has&&(e._has("gl3d")||e._has("mapbox")||e._has("map"))?500:0};Oi.getRedrawFunc=function(e){return function(){oj.getComponentMethod("colorbar","draw")(e)}};Oi.encodeSVG=function(e){return"data:image/svg+xml,"+encodeURIComponent(e)};Oi.encodeJSON=function(e){return"data:application/json,"+encodeURIComponent(e)};var tC=window.URL||window.webkitURL;Oi.createObjectURL=function(e){return tC.createObjectURL(e)};Oi.revokeObjectURL=function(e){return tC.revokeObjectURL(e)};Oi.createBlob=function(e,r){if(r==="svg")return new window.Blob([e],{type:"image/svg+xml;charset=utf-8"});if(r==="full-json")return new window.Blob([e],{type:"application/json;charset=utf-8"});var t=lj(window.atob(e));return new window.Blob([t],{type:"image/"+r})};Oi.octetStream=function(e){document.location.href="data:application/octet-stream"+e};function lj(e){for(var r=e.length,t=new ArrayBuffer(r),n=new Uint8Array(t),a=0;a<r;a++)n[a]=e.charCodeAt(a);return t}Oi.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/});var s1=pe((ohe,nC)=>{"use strict";var Wy=it(),ahe=ir(),sj=yt(),uj=Zr(),ihe=Io(),Yy=/"/g,d0="TOBESTRIPPED",fj=new RegExp('("'+d0+")|("+d0+'")',"g");function cj(e){var r=Wy.select("body").append("div").style({display:"none"}).html(""),t=e.replace(/(&[^;]*;)/gi,function(n){return n==="&lt;"?"&#60;":n==="&rt;"?"&#62;":n.indexOf("<")!==-1||n.indexOf(">")!==-1?"":r.html(n).text()});return r.remove(),t}function vj(e){return e.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}nC.exports=function(r,t,n){var a=r._fullLayout,o=a._paper,i=a._toppaper,l=a.width,u=a.height,s;o.insert("rect",":first-child").call(sj.setRect,0,0,l,u).call(uj.fill,a.paper_bgcolor);var f=a._basePlotModules||[];for(s=0;s<f.length;s++){var v=f[s];v.toSVG&&v.toSVG(r)}if(i){var p=i.node().childNodes,b=Array.prototype.slice.call(p);for(s=0;s<b.length;s++){var y=b[s];y.childNodes.length&&o.node().appendChild(y)}}a._draggers&&a._draggers.remove(),o.node().style.background="",o.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var M=Wy.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){M.remove();return}else M.style({visibility:null,display:null});var m=this.style.fontFamily;m&&m.indexOf('"')!==-1&&M.style("font-family",m.replace(Yy,d0));var k=this.style.fontWeight;k&&(k==="normal"||k==="400")&&M.style("font-weight",void 0);var S=this.style.fontStyle;S&&S==="normal"&&M.style("font-style",void 0);var x=this.style.fontVariant;x&&x==="normal"&&M.style("font-variant",void 0)}),o.selectAll(".gradient_filled,.pattern_filled").each(function(){var M=Wy.select(this),m=this.style.fill;m&&m.indexOf("url(")!==-1&&M.style("fill",m.replace(Yy,d0));var k=this.style.stroke;k&&k.indexOf("url(")!==-1&&M.style("stroke",k.replace(Yy,d0))}),(t==="pdf"||t==="eps")&&o.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),t==="svg"&&n&&(o.attr("width",n*l),o.attr("height",n*u),o.attr("viewBox","0 0 "+l+" "+u));var w=new window.XMLSerializer().serializeToString(o.node());return w=cj(w),w=vj(w),w=w.replace(fj,"'"),w}});var u1=pe((lhe,aC)=>{"use strict";var hj=ir(),dj=tv().EventEmitter,p0=jl();function pj(e){var r=e.emitter||new dj,t=new Promise(function(n,a){var o=window.Image,i=e.svg,l=e.format||"png",u=e.canvas,s=e.scale||1,f=e.width||300,v=e.height||150,p=s*f,b=s*v,y=u.getContext("2d",{willReadFrequently:!0}),w=new o,M,m;l==="svg"||hj.isSafari()?m=p0.encodeSVG(i):(M=p0.createBlob(i,"svg"),m=p0.createObjectURL(M)),u.width=p,u.height=b,w.onload=function(){var k;switch(M=null,p0.revokeObjectURL(m),l!=="svg"&&y.drawImage(w,0,0,p,b),l){case"jpeg":k=u.toDataURL("image/jpeg");break;case"png":k=u.toDataURL("image/png");break;case"webp":k=u.toDataURL("image/webp");break;case"svg":k=m;break;default:var S="Image format is not jpeg, png, svg or webp.";if(a(new Error(S)),!e.promise)return r.emit("error",S)}n(k),e.promise||r.emit("success",k)},w.onerror=function(k){if(M=null,p0.revokeObjectURL(m),a(k),!e.promise)return r.emit("error",k)},w.src=m});return e.promise?t:r}aC.exports=pj});var Zy=pe((she,lC)=>{"use strict";var iC=rt(),oC=Gy(),gj=ln(),Bi=ir(),g0=jl(),yj=s1(),mj=u1(),xj=pc().version,Xy={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function bj(e,r){r=r||{};var t,n,a,o;Bi.isPlainObject(e)?(t=e.data||[],n=e.layout||{},a=e.config||{},o={}):(e=Bi.getGraphDiv(e),t=Bi.extendDeep([],e.data),n=Bi.extendDeep({},e.layout),a=e._context,o=e._fullLayout||{});function i(d){return!(d in r)||Bi.validate(r[d],Xy[d])}if(!i("width")&&r.width!==null||!i("height")&&r.height!==null)throw new Error("Height and width should be pixel values.");if(!i("format"))throw new Error("Export format is not "+Bi.join2(Xy.format.values,", "," or ")+".");var l={};function u(d,_){return Bi.coerce(r,l,Xy,d,_)}var s=u("format"),f=u("width"),v=u("height"),p=u("scale"),b=u("setBackground"),y=u("imageDataOnly"),w=document.createElement("div");w.style.position="absolute",w.style.left="-5000px",document.body.appendChild(w);var M=Bi.extendFlat({},n);f?M.width=f:r.width===null&&iC(o.width)&&(M.width=o.width),v?M.height=v:r.height===null&&iC(o.height)&&(M.height=o.height);var m=Bi.extendFlat({},a,{_exportedPlot:!0,staticPlot:!0,setBackground:b}),k=g0.getRedrawFunc(w);function S(){return new Promise(function(d){setTimeout(d,g0.getDelay(w._fullLayout))})}function x(){return new Promise(function(d,_){var g=yj(w,s,p),c=w._fullLayout.width,A=w._fullLayout.height;function h(){oC.purge(w),document.body.removeChild(w)}if(s==="full-json"){var R=gj.graphJson(w,!1,"keepdata","object",!0,!0);return R.version=xj,R=JSON.stringify(R),h(),d(y?R:g0.encodeJSON(R))}if(h(),s==="svg")return d(y?g:g0.encodeSVG(g));var E=document.createElement("canvas");E.id=Bi.randstr(),mj({format:s,width:c,height:A,scale:p,canvas:E,svg:g,promise:!0}).then(d).catch(_)})}function T(d){return y?d.replace(g0.IMAGE_URL_PREFIX,""):d}return new Promise(function(d,_){oC.newPlot(w,t,M,m).then(k).then(S).then(x).then(function(g){d(T(g))}).catch(function(g){_(g)})})}lC.exports=bj});var cC=pe((uhe,fC)=>{"use strict";var Ua=ir(),_j=ln(),wj=Vs(),Mj=Tl().dfltConfig,li=Ua.isPlainObject,rs=Array.isArray,sC=Ua.isArrayOrTypedArray;fC.exports=function(r,t){r===void 0&&(r=[]),t===void 0&&(t={});var n=wj.get(),a=[],o={_context:Ua.extendFlat({},Mj)},i,l;rs(r)?(o.data=Ua.extendDeep([],r),i=r):(o.data=[],i=[],a.push(vn("array","data"))),li(t)?(o.layout=Ua.extendDeep({},t),l=t):(o.layout={},l={},arguments.length>1&&a.push(vn("object","layout"))),_j.supplyDefaults(o);for(var u=o._fullData,s=i.length,f=0;f<s;f++){var v=i[f],p=["data",f];if(!li(v)){a.push(vn("object",p));continue}var b=u[f],y=b.type,w=n.traces[y].attributes;w.type={valType:"enumerated",values:[y]},b.visible===!1&&v.visible!==!1&&a.push(vn("invisible",p)),f1(v,b,w,a,p)}var M=o._fullLayout,m=Tj(n,u);return f1(l,M,m,a,"layout"),a.length===0?void 0:a};function f1(e,r,t,n,a,o){o=o||[];for(var i=Object.keys(e),l=0;l<i.length;l++){var u=i[l],s=o.slice();s.push(u);var f=e[u],v=r[u],p=Sj(t,u),b=(p||{}).valType,y=b==="info_array",w=b==="colorscale",M=(p||{}).items;if(!kj(t,u))n.push(vn("schema",a,s));else if(li(f)&&li(v)&&b!=="any")f1(f,v,p,n,a,s);else if(y&&rs(f)){f.length>v.length&&n.push(vn("unused",a,s.concat(v.length)));var m=v.length,k=Array.isArray(M);k&&(m=Math.min(m,M.length));var S,x,T,d,_;if(p.dimensions===2)for(x=0;x<m;x++)if(rs(f[x])){f[x].length>v[x].length&&n.push(vn("unused",a,s.concat(x,v[x].length)));var g=v[x].length;for(S=0;S<(k?Math.min(g,M[x].length):g);S++)T=k?M[x][S]:M,d=f[x][S],_=v[x][S],Ua.validate(d,T)?_!==d&&_!==+d&&n.push(vn("dynamic",a,s.concat(x,S),d,_)):n.push(vn("value",a,s.concat(x,S),d))}else n.push(vn("array",a,s.concat(x),f[x]));else for(x=0;x<m;x++)T=k?M[x]:M,d=f[x],_=v[x],Ua.validate(d,T)?_!==d&&_!==+d&&n.push(vn("dynamic",a,s.concat(x),d,_)):n.push(vn("value",a,s.concat(x),d))}else if(p.items&&!y&&rs(f)){var c=M[Object.keys(M)[0]],A=[],h,R;for(h=0;h<v.length;h++){var E=v[h]._index||h;if(R=s.slice(),R.push(E),li(f[E])&&li(v[h])){A.push(E);var D=f[E],N=v[h];li(D)&&D.visible!==!1&&N.visible===!1?n.push(vn("invisible",a,R)):f1(D,N,c,n,a,R)}}for(h=0;h<f.length;h++)R=s.slice(),R.push(h),li(f[h])?A.indexOf(h)===-1&&n.push(vn("unused",a,R)):n.push(vn("object",a,R,f[h]))}else!li(f)&&li(v)?n.push(vn("object",a,s,f)):!sC(f)&&sC(v)&&!y&&!w?n.push(vn("array",a,s,f)):u in r?Ua.validate(f,p)?p.valType==="enumerated"&&(p.coerceNumber&&f!==+v||f!==v)&&n.push(vn("dynamic",a,s,f,v)):n.push(vn("value",a,s,f)):n.push(vn("unused",a,s,f))}return n}function Tj(e,r){for(var t=e.layout.layoutAttributes,n=0;n<r.length;n++){var a=r[n],o=e.traces[a.type],i=o.layoutAttributes;i&&(a.subplot?Ua.extendFlat(t[o.attributes.subplot.dflt],i):Ua.extendFlat(t,i))}return t}var Aj={object:function(e,r){var t;return e==="layout"&&r===""?t="The layout argument":e[0]==="data"&&r===""?t="Trace "+e[1]+" in the data argument":t=es(e)+"key "+r,t+" must be linked to an object container"},array:function(e,r){var t;return e==="data"?t="The data argument":t=es(e)+"key "+r,t+" must be linked to an array container"},schema:function(e,r){return es(e)+"key "+r+" is not part of the schema"},unused:function(e,r,t){var n=li(t)?"container":"key";return es(e)+n+" "+r+" did not get coerced"},dynamic:function(e,r,t,n){return[es(e)+"key",r,"(set to '"+t+"')","got reset to","'"+n+"'","during defaults."].join(" ")},invisible:function(e,r){return(r?es(e)+"item "+r:"Trace "+e[1])+" got defaulted to be not visible"},value:function(e,r,t){return[es(e)+"key "+r,"is set to an invalid value ("+t+")"].join(" ")}};function es(e){return rs(e)?"In data trace "+e[1]+", ":"In "+e+", "}function vn(e,r,t,n,a){t=t||"";var o,i;rs(r)?(o=r[0],i=r[1]):(o=r,i=null);var l=Ej(t),u=Aj[e](r,l,n,a);return Ua.log(u),{code:e,container:o,trace:i,path:t,astr:l,msg:u}}function kj(e,r){var t=uC(r),n=t.keyMinusId,a=t.id;return n in e&&e[n]._isSubplotObj&&a?!0:r in e}function Sj(e,r){if(r in e)return e[r];var t=uC(r);return e[t.keyMinusId]}var Cj=Ua.counterRegex("([a-z]+)");function uC(e){var r=e.match(Cj);return{keyMinusId:r&&r[1],id:r&&r[2]}}function Ej(e){if(!rs(e))return String(e);for(var r="",t=0;t<e.length;t++){var n=e[t];typeof n=="number"?r=r.substr(0,r.length-1)+"["+n+"]":r+=n,t<e.length-1&&(r+=".")}return r}});var hC=pe((fhe,vC)=>{"use strict";var Lj=ir(),c1=jl();function Rj(e,r,t){var n=document.createElement("a"),a="download"in n,o=new Promise(function(i,l){var u,s;if(a)return u=c1.createBlob(e,t),s=c1.createObjectURL(u),n.href=s,n.download=r,document.body.appendChild(n),n.click(),document.body.removeChild(n),c1.revokeObjectURL(s),u=null,i(r);if(Lj.isSafari()){var f=t==="svg"?",":";base64,";return c1.octetStream(f+encodeURIComponent(e)),i(r)}l(new Error("download error"))});return o}vC.exports=Rj});var Jy=pe((vhe,pC)=>{"use strict";var dC=ir(),Dj=Zy(),Pj=hC(),che=jl();function Fj(e,r){var t;return dC.isPlainObject(e)||(t=dC.getGraphDiv(e)),r=r||{},r.format=r.format||"png",r.width=r.width||null,r.height=r.height||null,r.imageDataOnly=!0,new Promise(function(n,a){t&&t._snapshotInProgress&&a(new Error("Snapshotting already in progress.")),t&&(t._snapshotInProgress=!0);var o=Dj(e,r),i=r.filename||e.fn||"newplot";i+="."+r.format.replace("-","."),o.then(function(l){return t&&(t._snapshotInProgress=!1),Pj(l,i,r.format)}).then(function(l){n(l)}).catch(function(l){t&&(t._snapshotInProgress=!1),a(l)})})}pC.exports=Fj});var bC=pe(Ky=>{"use strict";var ca=ir(),va=ca.isPlainObject,gC=Vs(),yC=ln(),Ij=Sn(),mC=gt(),xC=Tl().dfltConfig;Ky.makeTemplate=function(e){e=ca.isPlainObject(e)?e:ca.getGraphDiv(e),e=ca.extendDeep({_context:xC},{data:e.data,layout:e.layout}),yC.supplyDefaults(e);var r=e.data||[],t=e.layout||{};t._basePlotModules=e._fullLayout._basePlotModules,t._modules=e._fullLayout._modules;var n={data:{},layout:{}};r.forEach(function(b){var y={};y0(b,y,zj.bind(null,b));var w=ca.coerce(b,{},Ij,"type"),M=n.data[w];M||(M=n.data[w]=[]),M.push(y)}),y0(t,n.layout,Nj.bind(null,t)),delete n.layout.template;var a=t.template;if(va(a)){var o=a.layout,i,l,u,s,f,v;va(o)&&v1(o,n.layout);var p=a.data;if(va(p)){for(l in n.data)if(u=p[l],Array.isArray(u)){for(f=n.data[l],v=f.length,s=u.length,i=0;i<v;i++)v1(u[i%s],f[i]);for(i=v;i<s;i++)f.push(ca.extendDeep({},u[i]))}for(l in p)l in n.data||(n.data[l]=ca.extendDeep([],p[l]))}}return n};function v1(e,r){e=ca.extendDeep({},e);var t=Object.keys(e).sort(),n,a;function o(f,v,p){if(va(v)&&va(f))v1(f,v);else if(Array.isArray(v)&&Array.isArray(f)){var b=mC.arrayTemplater({_template:e},p);for(a=0;a<v.length;a++){var y=v[a],w=b.newItem(y)._template;w&&v1(w,y)}var M=b.defaultItems();for(a=0;a<M.length;a++)v.push(M[a]._template);for(a=0;a<v.length;a++)delete v[a].templateitemname}}for(n=0;n<t.length;n++){var i=t[n],l=e[i];if(i in r?o(l,r[i],i):r[i]=l,h1(i)===i)for(var u in r){var s=h1(u);u!==s&&s===i&&!(u in e)&&o(l,r[u],i)}}}function h1(e){return e.replace(/[0-9]+$/,"")}function y0(e,r,t,n,a){var o=a&&t(a);for(var i in e){var l=e[i],u=Ha(e,i,n),s=Ha(e,i,a),f=t(s);if(!f){var v=h1(i);v!==i&&(s=Ha(e,v,a),f=t(s))}if(!(o&&o===f)&&!(!f||f._noTemplating||f.valType==="data_array"||f.arrayOk&&Array.isArray(l)))if(!f.valType&&va(l))y0(l,r,t,u,s);else if(f._isLinkedToArray&&Array.isArray(l))for(var p=!1,b=0,y={},w=0;w<l.length;w++){var M=l[w];if(va(M)){var m=M.name;if(m)y[m]||(y0(M,r,t,Ha(l,b,u),Ha(l,b,s)),b++,y[m]=1);else if(!p){var k=mC.arrayDefaultKey(i),S=Ha(e,k,n),x=Ha(l,b,u);y0(M,r,t,x,Ha(l,b,s));var T=ca.nestedProperty(r,x),d=ca.nestedProperty(r,S);d.set(T.get()),T.set(null),p=!0}}}else{var _=ca.nestedProperty(r,u);_.set(l)}}}function Nj(e,r){return gC.getLayoutValObject(e,ca.nestedProperty({},r).parts)}function zj(e,r){return gC.getTraceValObject(e,ca.nestedProperty({},r).parts)}function Ha(e,r,t){var n;return t?Array.isArray(e)?n=t+"["+r+"]":n=t+"."+r:n=r,n}Ky.validateTemplate=function(e,r){var t=ca.extendDeep({},{_context:xC,data:e.data,layout:e.layout}),n=t.layout||{};va(r)||(r=n.template||{});var a=r.layout,o=r.data,i=[];t.layout=n,t.layout.template=r,yC.supplyDefaults(t);var l=t._fullLayout,u=t._fullData,s={};function f(S,x){for(var T in S)if(T.charAt(0)!=="_"&&va(S[T])){var d=h1(T),_=[],g;for(g=0;g<x.length;g++)_.push(Ha(S,T,x[g])),d!==T&&_.push(Ha(S,d,x[g]));for(g=0;g<_.length;g++)s[_[g]]=1;f(S[T],_)}}function v(S,x){for(var T in S)if(T.indexOf("defaults")===-1&&va(S[T])){var d=Ha(S,T,x);s[d]?v(S[T],d):i.push({code:"unused",path:d})}}if(va(a)?(f(l,["layout"]),v(a,"layout")):i.push({code:"layout"}),!va(o))i.push({code:"data"});else{for(var p={},b,y=0;y<u.length;y++){var w=u[y];b=w.type,p[b]=(p[b]||0)+1,w._fullInput._template||i.push({code:"missing",index:w.index,traceType:b})}for(b in o){var M=o[b].length,m=p[b]||0;M>m?i.push({code:"unused",traceType:b,templateCount:M,dataCount:m}):m>M&&i.push({code:"reused",traceType:b,templateCount:M,dataCount:m})}}function k(S,x){for(var T in S)if(T.charAt(0)!=="_"){var d=S[T],_=Ha(S,T,x);va(d)?(Array.isArray(S)&&d._template===!1&&d.templateitemname&&i.push({code:"missing",path:_,templateitemname:d.templateitemname}),k(d,_)):Array.isArray(d)&&qj(d)&&k(d,_)}}if(k({data:u,layout:l},""),i.length)return i.map(Oj)};function qj(e){for(var r=0;r<e.length;r++)if(va(e[r]))return!0}function Oj(e){var r;switch(e.code){case"data":r="The template has no key data.";break;case"layout":r="The template has no key layout.";break;case"missing":e.path?r="There are no templates for item "+e.path+" with name "+e.templateitemname:r="There are no templates for trace "+e.index+", of type "+e.traceType+".";break;case"unused":e.path?r="The template item at "+e.path+" was not used in constructing the plot.":e.dataCount?r="Some of the templates of type "+e.traceType+" were not used. The template has "+e.templateCount+" traces, the data only has "+e.dataCount+" of this type.":r="The template has "+e.templateCount+" traces of type "+e.traceType+" but there are none in the data.";break;case"reused":r="Some of the templates of type "+e.traceType+" were used more than once. The template has "+e.templateCount+" traces, the data has "+e.dataCount+" of this type.";break}return e.msg=r,e}});var wC=pe(kt=>{"use strict";var rn=Gy();kt._doPlot=rn._doPlot;kt.newPlot=rn.newPlot;kt.restyle=rn.restyle;kt.relayout=rn.relayout;kt.redraw=rn.redraw;kt.update=rn.update;kt._guiRestyle=rn._guiRestyle;kt._guiRelayout=rn._guiRelayout;kt._guiUpdate=rn._guiUpdate;kt._storeDirectGUIEdit=rn._storeDirectGUIEdit;kt.react=rn.react;kt.extendTraces=rn.extendTraces;kt.prependTraces=rn.prependTraces;kt.addTraces=rn.addTraces;kt.deleteTraces=rn.deleteTraces;kt.moveTraces=rn.moveTraces;kt.purge=rn.purge;kt.addFrames=rn.addFrames;kt.deleteFrames=rn.deleteFrames;kt.animate=rn.animate;kt.setPlotConfig=rn.setPlotConfig;var Bj=ff().getGraphDiv,Uj=Th().eraseActiveShape;kt.deleteActiveShape=function(e){return Uj(Bj(e))};kt.toImage=Zy();kt.validate=cC();kt.downloadImage=Jy();var _C=bC();kt.makeTemplate=_C.makeTemplate;kt.validateTemplate=_C.validateTemplate});var TC=pe((phe,MC)=>{"use strict";var Qy=ir(),Hj=Er();MC.exports=function(r,t,n,a){var o=a("x"),i=a("y"),l,u=Hj.getComponentMethod("calendars","handleTraceDefaults");if(u(r,t,["x","y"],n),o){var s=Qy.minRowLength(o);i?l=Math.min(s,Qy.minRowLength(i)):(l=s,a("y0"),a("dy"))}else{if(!i)return 0;l=Qy.minRowLength(i),a("x0"),a("dx")}return t._length=l,l}});var CC=pe((ghe,SC)=>{"use strict";var AC=ir().dateTick0,Vj=nn(),Gj=Vj.ONEWEEK;function kC(e,r){return e%Gj===0?AC(r,1):AC(r,0)}SC.exports=function(r,t,n,a,o){if(o||(o={x:!0,y:!0}),o.x){var i=a("xperiod");i&&(a("xperiod0",kC(i,t.xcalendar)),a("xperiodalignment"))}if(o.y){var l=a("yperiod");l&&(a("yperiod0",kC(l,t.ycalendar)),a("yperiodalignment"))}}});var RC=pe((yhe,LC)=>{"use strict";var EC=["orientation","groupnorm","stackgaps"];LC.exports=function(r,t,n,a){var o=n._scatterStackOpts,i=a("stackgroup");if(i){var l=t.xaxis+t.yaxis,u=o[l];u||(u=o[l]={});var s=u[i],f=!1;s?s.traces.push(t):(s=u[i]={traceIndices:[],traces:[t]},f=!0);for(var v={orientation:t.x&&!t.y?"h":"v"},p=0;p<EC.length;p++){var b=EC[p],y=b+"Found";if(!s[y]){var w=r[b]!==void 0,M=b==="orientation";if((w||f)&&(s[b]=a(b,v[b]),M&&(s.fillDflt=s[b]==="h"?"tonextx":"tonexty"),w&&(s[y]=!0,!f&&(delete s.traces[0][b],M))))for(var m=0;m<s.traces.length-1;m++){var k=s.traces[m];k._input.fill!==k.fill&&(k.fill=s.fillDflt)}}}return s}}});var $y=pe((mhe,IC)=>{"use strict";var DC=Zr(),PC=Si().hasColorscale,FC=Ei(),Yj=oa();IC.exports=function(r,t,n,a,o,i){var l=Yj.isBubble(r),u=(r.line||{}).color,s;if(i=i||{},u&&(n=u),o("marker.symbol"),o("marker.opacity",l?.7:1),o("marker.size"),i.noAngle||(o("marker.angle"),i.noAngleRef||o("marker.angleref"),i.noStandOff||o("marker.standoff")),o("marker.color",n),PC(r,"marker")&&FC(r,t,a,o,{prefix:"marker.",cLetter:"c"}),i.noSelect||(o("selected.marker.color"),o("unselected.marker.color"),o("selected.marker.size"),o("unselected.marker.size")),i.noLine||(u&&!Array.isArray(u)&&t.marker.color!==u?s=u:l?s=DC.background:s=DC.defaultLine,o("marker.line.color",s),PC(r,"marker.line")&&FC(r,t,a,o,{prefix:"marker.line.",cLetter:"c"}),o("marker.line.width",l?1:0)),l&&(o("marker.sizeref"),o("marker.sizemin"),o("marker.sizemode")),i.gradient){var f=o("marker.gradient.type");f!=="none"&&o("marker.gradient.color")}}});var jy=pe((xhe,NC)=>{"use strict";var Wj=ir().isArrayOrTypedArray,Xj=Si().hasColorscale,Zj=Ei();NC.exports=function(r,t,n,a,o,i){i||(i={});var l=(r.marker||{}).color;if(l&&l._inputArray&&(l=l._inputArray),o("line.color",n),Xj(r,"line"))Zj(r,t,a,o,{prefix:"line.",cLetter:"c"});else{var u=(Wj(l)?!1:l)||n;o("line.color",u)}o("line.width"),i.noDash||o("line.dash"),i.backoff&&o("line.backoff")}});var qC=pe((bhe,zC)=>{"use strict";zC.exports=function(r,t,n){var a=n("line.shape");a==="spline"&&n("line.smoothing")}});var em=pe((_he,OC)=>{"use strict";var Jj=ir();OC.exports=function(e,r,t,n,a){a=a||{},n("textposition"),Jj.coerceFont(n,"textfont",a.font||t.font,a),a.noSelect||(n("selected.textfont.color"),n("unselected.textfont.color"))}});var HC=pe((whe,UC)=>{"use strict";var d1=Zr(),BC=ir().isArrayOrTypedArray;function Kj(e){for(var r=d1.interpolate(e[0][1],e[1][1],.5),t=2;t<e.length;t++){var n=d1.interpolate(e[t-1][1],e[t][1],.5);r=d1.interpolate(r,n,e[t-1][0]/e[t][0])}return r}UC.exports=function(r,t,n,a,o){o||(o={});var i=!1;if(t.marker){var l=t.marker.color,u=(t.marker.line||{}).color;l&&!BC(l)?i=l:u&&!BC(u)&&(i=u)}var s;if(o.moduleHasFillgradient){var f=a("fillgradient.type");if(f!=="none"){a("fillgradient.start"),a("fillgradient.stop");var v=a("fillgradient.colorscale");v&&(s=Kj(v))}}a("fillcolor",d1.addOpacity((t.line||{}).color||i||s||n,.5))}});var WC=pe((Mhe,YC)=>{"use strict";var VC=ir(),Qj=Er(),$j=$l(),jj=Uh(),bu=oa(),eee=TC(),ree=CC(),tee=RC(),nee=$y(),aee=jy(),GC=qC(),iee=em(),oee=HC(),lee=ir().coercePattern;YC.exports=function(r,t,n,a){function o(b,y){return VC.coerce(r,t,$j,b,y)}var i=eee(r,t,a,o);if(i||(t.visible=!1),!!t.visible){ree(r,t,a,o),o("xhoverformat"),o("yhoverformat"),o("zorder");var l=tee(r,t,a,o);a.scattermode==="group"&&t.orientation===void 0&&o("orientation","v");var u=!l&&i<jj.PTS_LINESONLY?"lines+markers":"lines";o("text"),o("hovertext"),o("mode",u),bu.hasMarkers(t)&&nee(r,t,n,a,o,{gradient:!0}),bu.hasLines(t)&&(aee(r,t,n,a,o,{backoff:!0}),GC(r,t,o),o("connectgaps"),o("line.simplify")),bu.hasText(t)&&(o("texttemplate"),iee(r,t,a,o));var s=[];(bu.hasMarkers(t)||bu.hasText(t))&&(o("cliponaxis"),o("marker.maxdisplayed"),s.push("points")),o("fill",l?l.fillDflt:"none"),t.fill!=="none"&&(oee(r,t,n,o,{moduleHasFillgradient:!0}),bu.hasLines(t)||GC(r,t,o),lee(o,"fillpattern",t.fillcolor,!1));var f=(t.line||{}).color,v=(t.marker||{}).color;(t.fill==="tonext"||t.fill==="toself")&&s.push("fills"),o("hoveron",s.join("+")||"points"),t.hoveron!=="fills"&&o("hovertemplate");var p=Qj.getComponentMethod("errorbars","supplyDefaults");p(r,t,f||v||n,{axis:"y"}),p(r,t,f||v||n,{axis:"x",inherit:"y"}),VC.coerceSelectionMarkerOpacity(t,o)}}});var ZC=pe((The,XC)=>{"use strict";var see=Vf().getAxisGroup;XC.exports=function(r,t,n,a,o){var i=t.orientation,l=t[{v:"x",h:"y"}[i]+"axis"],u=see(n,l)+i,s=n._alignmentOpts||{},f=a("alignmentgroup"),v=s[u];v||(v=s[u]={});var p=v[f];p?p.traces.push(t):p=v[f]={traces:[t],alignmentIndex:Object.keys(v).length,offsetGroups:{}};var b=a("offsetgroup")||"",y=p.offsetGroups,w=y[b];t._offsetIndex=0,(o!=="group"||b)&&(w||(w=y[b]={offsetIndex:Object.keys(y).length}),t._offsetIndex=w.offsetIndex)}});var KC=pe((Ahe,JC)=>{"use strict";var uee=ir(),fee=ZC(),cee=$l();JC.exports=function(r,t){var n,a,o,i=t.scattermode;function l(p){return uee.coerce(a._input,a,cee,p)}if(t.scattermode==="group")for(o=0;o<r.length;o++)a=r[o],a.type==="scatter"&&(n=a._input,fee(n,a,t,l,i));for(o=0;o<r.length;o++){var u=r[o];if(u.type==="scatter"){var s=u.fill;if(!(s==="none"||s==="toself")&&(u.opacity=void 0,s==="tonexty"||s==="tonextx"))for(var f=o-1;f>=0;f--){var v=r[f];if(v.type==="scatter"&&v.xaxis===u.xaxis&&v.yaxis===u.yaxis){v.opacity=void 0;break}}}}}});var $C=pe((khe,QC)=>{"use strict";var vee=ir(),hee=lv();QC.exports=function(e,r){function t(a,o){return vee.coerce(e,r,hee,a,o)}var n=r.barmode==="group";r.scattermode==="group"&&t("scattergap",n?r.bargap:.2)}});var rE=pe((She,eE)=>{"use strict";var dee=rt(),jC=ir(),pee=jC.dateTime2ms,p1=jC.incrementMonth,gee=nn(),yee=gee.ONEAVGMONTH;eE.exports=function(r,t,n,a){if(t.type!=="date")return{vals:a};var o=r[n+"periodalignment"];if(!o)return{vals:a};var i=r[n+"period"],l;if(dee(i)){if(i=+i,i<=0)return{vals:a}}else if(typeof i=="string"&&i.charAt(0)==="M"){var u=+i.substring(1);if(u>0&&Math.round(u)===u)l=u;else return{vals:a}}for(var s=t.calendar,f=o==="start",v=o==="end",p=r[n+"period0"],b=pee(p,s)||0,y=[],w=[],M=[],m=a.length,k=0;k<m;k++){var S=a[k],x,T,d;if(l){for(x=Math.round((S-b)/(l*yee)),d=p1(b,l*x,s);d>S;)d=p1(d,-l,s);for(;d<=S;)d=p1(d,l,s);T=p1(d,-l,s)}else{for(x=Math.round((S-b)/i),d=b+x*i;d>S;)d-=i;for(;d<=S;)d+=i;T=d-i}y[k]=f?T:v?d:(T+d)/2,w[k]=T,M[k]=d}return{vals:y,starts:w,ends:M}}});var nm=pe((Che,nE)=>{"use strict";var rm=Si().hasColorscale,tm=zo(),tE=oa();nE.exports=function(r,t){tE.hasLines(t)&&rm(t,"line")&&tm(r,t,{vals:t.line.color,containerStr:"line",cLetter:"c"}),tE.hasMarkers(t)&&(rm(t,"marker")&&tm(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),rm(t,"marker.line")&&tm(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}});var g1=pe((Ehe,aE)=>{"use strict";var Nt=ir();aE.exports=function(r,t){for(var n=0;n<r.length;n++)r[n].i=n;Nt.mergeArray(t.text,r,"tx"),Nt.mergeArray(t.texttemplate,r,"txt"),Nt.mergeArray(t.hovertext,r,"htx"),Nt.mergeArray(t.customdata,r,"data"),Nt.mergeArray(t.textposition,r,"tp"),t.textfont&&(Nt.mergeArrayCastPositive(t.textfont.size,r,"ts"),Nt.mergeArray(t.textfont.color,r,"tc"),Nt.mergeArray(t.textfont.family,r,"tf"),Nt.mergeArray(t.textfont.weight,r,"tw"),Nt.mergeArray(t.textfont.style,r,"ty"),Nt.mergeArray(t.textfont.variant,r,"tv"),Nt.mergeArray(t.textfont.textcase,r,"tC"),Nt.mergeArray(t.textfont.lineposition,r,"tE"),Nt.mergeArray(t.textfont.shadow,r,"tS"));var a=t.marker;if(a){Nt.mergeArrayCastPositive(a.size,r,"ms"),Nt.mergeArrayCastPositive(a.opacity,r,"mo"),Nt.mergeArray(a.symbol,r,"mx"),Nt.mergeArray(a.angle,r,"ma"),Nt.mergeArray(a.standoff,r,"mf"),Nt.mergeArray(a.color,r,"mc");var o=a.line;a.line&&(Nt.mergeArray(o.color,r,"mlc"),Nt.mergeArrayCastPositive(o.width,r,"mlw"));var i=a.gradient;i&&i.type!=="none"&&(Nt.mergeArray(i.type,r,"mgt"),Nt.mergeArray(i.color,r,"mgc"))}}});var lE=pe((Lhe,oE)=>{"use strict";var iE=ir();oE.exports=function(r,t){iE.isArrayOrTypedArray(t.selectedpoints)&&iE.tagSelected(r,t)}});var sm=pe((Rhe,dE)=>{"use strict";var sE=rt(),im=ir(),m0=St(),uE=rE(),am=nn().BADNUM,om=oa(),mee=nm(),xee=g1(),bee=lE();function _ee(e,r){var t=e._fullLayout,n=r._xA=m0.getFromId(e,r.xaxis||"x","x"),a=r._yA=m0.getFromId(e,r.yaxis||"y","y"),o=n.makeCalcdata(r,"x"),i=a.makeCalcdata(r,"y"),l=uE(r,n,"x",o),u=uE(r,a,"y",i),s=l.vals,f=u.vals,v=r._length,p=new Array(v),b=r.ids,y=lm(r,t,n,a),w=!1,M,m,k,S,x,T;vE(t,r);var d="x",_="y",g;if(y)im.pushUnique(y.traceIndices,r.index),M=y.orientation==="v",M?(_="s",g="x"):(d="s",g="y"),x=y.stackgaps==="interpolate";else{var c=cE(r,v);fE(e,r,n,a,s,f,c)}var A=!!r.xperiodalignment,h=!!r.yperiodalignment;for(m=0;m<v;m++){var R=p[m]={},E=sE(s[m]),D=sE(f[m]);E&&D?(R[d]=s[m],R[_]=f[m],A&&(R.orig_x=o[m],R.xEnd=l.ends[m],R.xStart=l.starts[m]),h&&(R.orig_y=i[m],R.yEnd=u.ends[m],R.yStart=u.starts[m])):y&&(M?E:D)?(R[g]=M?s[m]:f[m],R.gap=!0,x?(R.s=am,w=!0):R.s=0):R[d]=R[_]=am,b&&(R.id=String(b[m]))}if(xee(p,r),mee(e,r),bee(p,r),y){for(m=0;m<p.length;)p[m][g]===am?p.splice(m,1):m++;if(im.sort(p,function(L,P){return L[g]-P[g]||L.i-P.i}),w){for(m=0;m<p.length-1&&p[m].gap;)m++;for(T=p[m].s,T||(T=p[m].s=0),k=0;k<m;k++)p[k].s=T;for(S=p.length-1;S>m&&p[S].gap;)S--;for(T=p[S].s,k=p.length-1;k>S;k--)p[k].s=T;for(;m<S;)if(m++,p[m].gap){for(k=m+1;p[k].gap;)k++;for(var N=p[m-1][g],I=p[m-1].s,F=(p[k].s-I)/(p[k][g]-N);m<k;)p[m].s=I+(p[m][g]-N)*F,m++}}}return p}function fE(e,r,t,n,a,o,i){var l=r._length,u=e._fullLayout,s=t._id,f=n._id,v=u._firstScatter[hE(r)]===r.uid,p=(lm(r,u,t,n)||{}).orientation,b=r.fill;t._minDtick=0,n._minDtick=0;var y={padded:!0},w={padded:!0};i&&(y.ppad=w.ppad=i);var M=l<2||a[0]!==a[l-1]||o[0]!==o[l-1];M&&(b==="tozerox"||b==="tonextx"&&(v||p==="h"))?y.tozero=!0:!(r.error_y||{}).visible&&(b==="tonexty"||b==="tozeroy"||!om.hasMarkers(r)&&!om.hasText(r))&&(y.padded=!1,y.ppad=0),M&&(b==="tozeroy"||b==="tonexty"&&(v||p==="v"))?w.tozero=!0:(b==="tonextx"||b==="tozerox")&&(w.padded=!1),s&&(r._extremes[s]=m0.findExtremes(t,a,y)),f&&(r._extremes[f]=m0.findExtremes(n,o,w))}function cE(e,r){if(om.hasMarkers(e)){var t=e.marker,n=1.6*(e.marker.sizeref||1),a;if(e.marker.sizemode==="area"?a=function(s){return Math.max(Math.sqrt((s||0)/n),3)}:a=function(s){return Math.max((s||0)/n,3)},im.isArrayOrTypedArray(t.size)){var o={type:"linear"};m0.setConvert(o);for(var i=o.makeCalcdata(e.marker,"size"),l=new Array(r),u=0;u<r;u++)l[u]=a(i[u]);return l}else return a(t.size)}}function vE(e,r){var t=hE(r),n=e._firstScatter;n[t]||(n[t]=r.uid)}function hE(e){var r=e.stackgroup;return e.xaxis+e.yaxis+e.type+(r?"-"+r:"")}function lm(e,r,t,n){var a=e.stackgroup;if(a){var o=r._scatterStackOpts[t._id+n._id][a],i=o.orientation==="v"?n:t;if(i.type==="linear"||i.type==="log")return o}}dE.exports={calc:_ee,calcMarkerSize:cE,calcAxisExpansion:fE,setFirstScatter:vE,getStackOpts:lm}});var gE=pe((Dhe,pE)=>{"use strict";pE.exports=y1;var wee=ir().distinctVals;function y1(e,r){this.traces=e,this.sepNegVal=r.sepNegVal,this.overlapNoMerge=r.overlapNoMerge;for(var t=1/0,n=r.posAxis._id.charAt(0),a=[],o=0;o<e.length;o++){for(var i=e[o],l=0;l<i.length;l++){var u=i[l],s=u.p;s===void 0&&(s=u[n]),s!==void 0&&a.push(s)}i[0]&&i[0].width1&&(t=Math.min(i[0].width1,t))}this.positions=a;var f=wee(a);this.distinctPositions=f.vals,f.vals.length===1&&t!==1/0?this.minDiff=t:this.minDiff=Math.min(f.minDiff,t);var v=(r.posAxis||{}).type;(v==="category"||v==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}y1.prototype.put=function(r,t,n){var a=this.getLabel(r,t,n),o=this.bins[a]||0;return this.bins[a]=o+n,o};y1.prototype.get=function(r,t,n){var a=this.getLabel(r,t,n);return this.bins[a]||0};y1.prototype.getLabel=function(r,t,n){var a=n<0&&this.sepNegVal?"v":"^",o=this.overlapNoMerge?r:Math.round(r/this.binWidth);return a+o+"g"+t}});var _E=pe((Phe,bE)=>{"use strict";var Va=rt(),Ko=ir().isArrayOrTypedArray,_u=nn().BADNUM,Mee=Er(),x0=St(),Tee=Vf().getAxisGroup,m1=gE();function Aee(e,r){for(var t=r.xaxis,n=r.yaxis,a=e._fullLayout,o=e._fullData,i=e.calcdata,l=[],u=[],s=0;s<o.length;s++){var f=o[s];if(f.visible===!0&&Mee.traceIs(f,"bar")&&f.xaxis===t._id&&f.yaxis===n._id&&(f.orientation==="h"?l.push(i[s]):u.push(i[s]),f._computePh))for(var v=e.calcdata[s],p=0;p<v.length;p++)typeof v[p].ph0=="function"&&(v[p].ph0=v[p].ph0()),typeof v[p].ph1=="function"&&(v[p].ph1=v[p].ph1())}var b={xCat:t.type==="category"||t.type==="multicategory",yCat:n.type==="category"||n.type==="multicategory",mode:a.barmode,norm:a.barnorm,gap:a.bargap,groupgap:a.bargroupgap};fm(e,t,n,u,b),fm(e,n,t,l,b)}function fm(e,r,t,n,a){if(n.length){var o,i,l,u,s;switch(Cee(t,n),a.mode){case"overlay":um(e,r,t,n,a);break;case"group":for(o=[],i=[],l=0;l<n.length;l++)u=n[l],s=u[0].trace,s.offset===void 0?i.push(u):o.push(u);i.length&&Eee(e,r,t,i,a),o.length&&um(e,r,t,o,a);break;case"stack":case"relative":for(o=[],i=[],l=0;l<n.length;l++)u=n[l],s=u[0].trace,s.base===void 0?i.push(u):o.push(u);See(i),i.length&&Lee(e,r,t,i,a),o.length&&um(e,r,t,o,a);break}kee(n),Nee(n,r)}}function kee(e){var r,t,n,a,o,i,l;for(r=0;r<e.length;r++)t=e[r],n=t[0].trace,a=t[0].t,a.cornerradiusvalue===void 0&&(o=n.marker?n.marker.cornerradius:void 0,o!==void 0&&(i=Va(o)?+o:+o.slice(0,-1),l=Va(o)?"px":"%",a.cornerradiusvalue=i,a.cornerradiusform=l))}function See(e){if(!(e.length<2)){var r,t,n,a,o,i,l;for(r=0;r<e.length&&(t=e[r],n=t[0].trace,o=n.marker?n.marker.cornerradius:void 0,o===void 0);r++);if(o!==void 0)for(i=Va(o)?+o:+o.slice(0,-1),l=Va(o)?"px":"%",r=0;r<e.length;r++)t=e[r],a=t[0].t,a.cornerradiusvalue=i,a.cornerradiusform=l}}function Cee(e,r){var t,n;for(t=0;t<r.length;t++){var a=r[t],o=a[0].trace,i=o.type==="funnel"?o._base:o.base,l,u=o.orientation==="h"?o.xcalendar:o.ycalendar,s=e.type==="category"||e.type==="multicategory"?function(){return null}:e.d2c;if(Ko(i)){for(n=0;n<Math.min(i.length,a.length);n++)l=s(i[n],0,u),Va(l)?(a[n].b=+l,a[n].hasB=1):a[n].b=0;for(;n<a.length;n++)a[n].b=0}else{l=s(i,0,u);var f=Va(l);for(l=f?l:0,n=0;n<a.length;n++)a[n].b=l,f&&(a[n].hasB=1)}}}function um(e,r,t,n,a){for(var o=0;o<n.length;o++){var i=n[o],l=new m1([i],{posAxis:r,sepNegVal:!1,overlapNoMerge:!a.norm});cm(e,r,l,a),a.norm?(xE(l),vm(t,l,a)):mE(t,l)}}function Eee(e,r,t,n,a){var o=new m1(n,{posAxis:r,sepNegVal:!1,overlapNoMerge:!a.norm});cm(e,r,o,a),Fee(o,r),a.norm?(xE(o),vm(t,o,a)):mE(t,o)}function Lee(e,r,t,n,a){var o=new m1(n,{posAxis:r,sepNegVal:a.mode==="relative",overlapNoMerge:!(a.norm||a.mode==="stack"||a.mode==="relative")});cm(e,r,o,a),Pee(t,o,a);for(var i=0;i<n.length;i++)for(var l=n[i],u=l[0].t.offsetindex,s=0;s<l.length;s++){var f=l[s];if(f.s!==_u){var v=f.b+f.s===o.get(f.p,u,f.s);v&&(f._outmost=!0)}}a.norm&&vm(t,o,a)}function cm(e,r,t,n){var a=e._fullLayout,o=t.positions,i=t.distinctPositions,l=t.minDiff,u=t.traces,s=u.length,f=o.length!==i.length,v=l*(1-n.gap),p,b,y,w;if(r._id==="angularaxis")p=v,b=p*(1-(n.groupgap||0)),y=-b/2;else{var M=Tee(a,r._id)+u[0][0].trace.orientation;w=a._alignmentOpts[M]||{}}for(var m=0;m<s;m++){var k=u[m],S=k[0].trace;if(r._id!=="angularaxis"){var x=w[S.alignmentgroup]||{},T=Object.keys(x.offsetGroups||{}).length;T?p=v/T:p=f?v/s:v,b=p*(1-(n.groupgap||0)),T?y=((2*S._offsetIndex+1-T)*p-b)/2:y=f?((2*m+1-s)*p-b)/2:-b/2}var d=k[0].t;d.barwidth=b,d.offsetindex=S._offsetIndex||0,d.poffset=y,d.bargroupwidth=v,d.bardelta=l}t.binWidth=u[0][0].t.barwidth/100,Ree(t),Dee(r,t),r._id==="angularaxis"?yE(r,t):yE(r,t,f)}function Ree(e){var r=e.traces,t,n;for(t=0;t<r.length;t++){var a=r[t],o=a[0],i=o.trace,l=o.t,u=i._offset||i.offset,s=l.poffset,f;if(Ko(u)){for(f=Array.prototype.slice.call(u,0,a.length),n=0;n<f.length;n++)Va(f[n])||(f[n]=s);for(n=f.length;n<a.length;n++)f.push(s);l.poffset=f}else u!==void 0&&(l.poffset=u);var v=i._width||i.width,p=l.barwidth;if(Ko(v)){var b=Array.prototype.slice.call(v,0,a.length);for(n=0;n<b.length;n++)Va(b[n])||(b[n]=p);for(n=b.length;n<a.length;n++)b.push(p);if(l.barwidth=b,u===void 0){for(f=[],n=0;n<a.length;n++)f.push(s+(p-b[n])/2);l.poffset=f}}else v!==void 0&&(l.barwidth=v,u===void 0&&(l.poffset=s+(p-v)/2))}}function Dee(e,r){for(var t=r.traces,n=wu(e),a=0;a<t.length;a++)for(var o=t[a],i=o[0].t,l=i.poffset,u=Ko(l),s=i.barwidth,f=Ko(s),v=0;v<o.length;v++){var p=o[v],b=p.w=f?s[v]:s;p.p===void 0&&(p.p=p[n],p["orig_"+n]=p[n]);var y=(u?l[v]:l)+b/2;p[n]=p.p+y}}function yE(e,r,t){var n=r.traces,a=r.minDiff,o=a/2;x0.minDtick(e,r.minDiff,r.distinctPositions[0],t);for(var i=0;i<n.length;i++){var l=n[i],u=l[0],s=u.trace,f=[],v,p,b,y;for(y=0;y<l.length;y++)v=l[y],p=v.p-o,b=v.p+o,f.push(p,b);if(s.width||s.offset){var w=u.t,M=w.poffset,m=w.barwidth,k=Ko(M),S=Ko(m);for(y=0;y<l.length;y++){v=l[y];var x=k?M[y]:M,T=S?m[y]:m;p=v.p+x,b=p+T,f.push(p,b)}}s._extremes[e._id]=x0.findExtremes(e,f,{padded:!1})}}function mE(e,r){for(var t=r.traces,n=wu(e),a=0;a<t.length;a++){for(var o=t[a],i=o[0].trace,l=i.type==="scatter",u=i.orientation==="v",s=[],f=!1,v=0;v<o.length;v++){var p=o[v],b=l?0:p.b,y=l?u?p.y:p.x:b+p.s;p[n]=y,s.push(y),p.hasB&&s.push(b),(!p.hasB||!p.b)&&(f=!0)}i._extremes[e._id]=x0.findExtremes(e,s,{tozero:f,padded:!0})}}function Pee(e,r,t){var n=wu(e),a=r.traces,o,i,l,u,s,f,v;for(u=0;u<a.length;u++)if(o=a[u],i=o[0].trace,i.type==="funnel")for(v=o[0].t.offsetindex,s=0;s<o.length;s++)f=o[s],f.s!==_u&&r.put(f.p,v,-.5*f.s);for(u=0;u<a.length;u++){o=a[u],i=o[0].trace,l=i.type==="funnel",v=i.type==="barpolar"?0:o[0].t.offsetindex;var p=[];for(s=0;s<o.length;s++)if(f=o[s],f.s!==_u){var b;l?b=f.s:b=f.s+f.b;var y=r.put(f.p,v,b),w=y+b;f.b=y,f[n]=w,t.norm||(p.push(w),f.hasB&&p.push(y))}t.norm||(i._extremes[e._id]=x0.findExtremes(e,p,{tozero:!0,padded:!0}))}}function xE(e){for(var r=e.traces,t=0;t<r.length;t++)for(var n=r[t],a=n[0].t.offsetindex,o=0;o<n.length;o++){var i=n[o];i.s!==_u&&e.put(i.p,a,i.b+i.s)}}function Fee(e,r){for(var t=e.traces,n=0;n<t.length;n++){var a=t[n],o=a[0].trace,i=a[0].t.offsetindex;if(o.base===void 0)for(var l=new m1([a],{posAxis:r,sepNegVal:!0,overlapNoMerge:!0}),u=0;u<a.length;u++){var s=a[u];if(s.p!==_u){var f=l.put(s.p,i,s.b+s.s);f&&(s.b=f)}}}}function vm(e,r,t){var n=r.traces,a=wu(e),o=t.norm==="fraction"?1:100,i=o/1e9,l=e.l2c(e.c2l(0)),u=t.mode==="stack"?o:l;function s(d){return Va(e.c2l(d))&&(d<l-i||d>u+i||!Va(l))}for(var f=0;f<n.length;f++){for(var v=n[f],p=v[0].t.offsetindex,b=v[0].trace,y=[],w=!1,M=!1,m=0;m<v.length;m++){var k=v[m];if(k.s!==_u){var S=Math.abs(o/r.get(k.p,p,k.s));k.b*=S,k.s*=S;var x=k.b,T=x+k.s;k[a]=T,y.push(T),M=M||s(T),k.hasB&&(y.push(x),M=M||s(x)),(!k.hasB||!k.b)&&(w=!0)}}b._extremes[e._id]=x0.findExtremes(e,y,{tozero:w,padded:M})}}function Iee(e,r,t,n){for(var a=wu(n),o=0;o<e.length;o++)for(var i=e[o],l=0;l<i.length;l++){var u=i[l],s=u[a];u._sMin=r[s],u._sMax=t[s]}}function Nee(e,r){var t=wu(r),n={},a,o,i,l=1/0,u=-1/0;for(a=0;a<e.length;a++)for(i=e[a],o=0;o<i.length;o++){var s=i[o].p;Va(s)&&(l=Math.min(l,s),u=Math.max(u,s))}var f=1e4/(u-l),v=n.round=function(g){return String(Math.round(f*(g-l)))},p={},b={},y=e.some(function(g){var c=g[0].trace;return"marker"in c&&c.marker.cornerradius});for(a=0;a<e.length;a++){i=e[a],i[0].t.extents=n;var w=i[0].t.poffset,M=Ko(w);for(o=0;o<i.length;o++){var m=i[o],k=m[t]-m.w/2;if(Va(k)){var S=m[t]+m.w/2,x=v(m.p);n[x]?n[x]=[Math.min(k,n[x][0]),Math.max(S,n[x][1])]:n[x]=[k,S]}if(m.p0=m.p+(M?w[o]:w),m.p1=m.p0+m.w,m.s0=m.b,m.s1=m.s0+m.s,y){var T=Math.min(m.s0,m.s1)||0,d=Math.max(m.s0,m.s1)||0,_=m[t];p[_]=_ in p?Math.min(p[_],T):T,b[_]=_ in b?Math.max(b[_],d):d}}}y&&Iee(e,p,b,r)}function wu(e){return e._id.charAt(0)}bE.exports={crossTraceCalc:Aee,setGroupPositions:fm}});var AE=pe((Fhe,TE)=>{"use strict";var wE=sm(),ME=_E().setGroupPositions;function zee(e,r){for(var t=r.xaxis,n=r.yaxis,a=e._fullLayout,o=e._fullData,i=e.calcdata,l=[],u=[],s=0;s<o.length;s++){var f=o[s];f.visible===!0&&f.type==="scatter"&&f.xaxis===t._id&&f.yaxis===n._id&&(f.orientation==="h"?l.push(i[s]):f.orientation==="v"&&u.push(i[s]))}var v={mode:a.scattermode,gap:a.scattergap};ME(e,t,n,u,v),ME(e,n,t,l,v)}TE.exports=function(r,t){r._fullLayout.scattermode==="group"&&zee(r,t);var n=t.xaxis,a=t.yaxis,o=n._id+a._id,i=r._fullLayout._scatterStackOpts[o];if(i){var l=r.calcdata,u,s,f,v,p,b,y,w,M,m,k,S,x,T,d;for(var _ in i){m=i[_];var g=m.traceIndices;if(g.length){for(k=m.stackgaps==="interpolate",S=m.groupnorm,m.orientation==="v"?(x="x",T="y"):(x="y",T="x"),d=new Array(g.length),u=0;u<d.length;u++)d[u]=!1;b=l[g[0]];var c=new Array(b.length);for(u=0;u<b.length;u++)c[u]=b[u][x];for(u=1;u<g.length;u++){for(p=l[g[u]],s=f=0;s<p.length;s++){for(y=p[s][x];y>c[f]&&f<c.length;f++)hm(p,s,c[f],u,d,k,x),s++;if(y!==c[f]){for(v=0;v<u;v++)hm(l[g[v]],f,y,v,d,k,x);c.splice(f,0,y)}f++}for(;f<c.length;f++)hm(p,s,c[f],u,d,k,x),s++}var A=c.length;for(s=0;s<b.length;s++){for(w=b[s][T]=b[s].s,u=1;u<g.length;u++)p=l[g[u]],p[0].trace._rawLength=p[0].trace._length,p[0].trace._length=A,w+=p[s].s,p[s][T]=w;if(S)for(M=(S==="fraction"?w:w/100)||1,u=0;u<g.length;u++){var h=l[g[u]][s];h[T]/=M,h.sNorm=h.s/M}}for(u=0;u<g.length;u++){p=l[g[u]];var R=p[0].trace,E=wE.calcMarkerSize(R,R._rawLength),D=Array.isArray(E);if(E&&d[u]||D){var N=E;for(E=new Array(A),s=0;s<A;s++)E[s]=p[s].gap?0:D?N[p[s].i]:N}var I=new Array(A),F=new Array(A);for(s=0;s<A;s++)I[s]=p[s].x,F[s]=p[s].y;wE.calcAxisExpansion(r,R,n,a,I,F,E),p[0].t.orientation=m.orientation}}}}};function hm(e,r,t,n,a,o,i){a[n]=!0;var l={i:null,gap:!0,s:0};if(l[i]=t,e.splice(r,0,l),r&&t===e[r-1][i]){var u=e[r-1];l.s=u.s,l.i=u.i,l.gap=u.gap}else o&&(l.s=qee(e,r,t,i));r||(e[0].t=e[1].t,e[0].trace=e[1].trace,delete e[1].t,delete e[1].trace)}function qee(e,r,t,n){var a=e[r-1],o=e[r+1];return o?a?a.s+(o.s-a.s)*(t-a[n])/(o[n]-a[n]):o.s:a.s}});var DE=pe((Ihe,RE)=>{"use strict";var Oee=yt(),EE=nn(),b0=EE.BADNUM,LE=EE.LOG_CLIP,kE=LE+.5,SE=LE-.5,x1=ir(),Bee=x1.segmentsIntersect,CE=x1.constrain,dm=Uh();RE.exports=function(r,t){var n=t.trace||{},a=t.xaxis,o=t.yaxis,i=a.type==="log",l=o.type==="log",u=a._length,s=o._length,f=t.backoff,v=n.marker,p=t.connectGaps,b=t.baseTolerance,y=t.shape,w=y==="linear",M=n.fill&&n.fill!=="none",m=[],k=dm.minTolerance,S=r.length,x=new Array(S),T=0,d,_,g,c,A,h,R,E,D,N,I,F,L,P,O,U;function X(We){var we=r[We];if(!we)return!1;var Pe=t.linearized?a.l2p(we.x):a.c2p(we.x),Qe=t.linearized?o.l2p(we.y):o.c2p(we.y);if(Pe===b0){if(i&&(Pe=a.c2p(we.x,!0)),Pe===b0)return!1;l&&Qe===b0&&(Pe*=Math.abs(a._m*s*(a._m>0?kE:SE)/(o._m*u*(o._m>0?kE:SE)))),Pe*=1e3}if(Qe===b0){if(l&&(Qe=o.c2p(we.y,!0)),Qe===b0)return!1;Qe*=1e3}return[Pe,Qe]}function j(We,we,Pe,Qe){var Ve=Pe-We,ar=Qe-we,se=.5-We,K=.5-we,ae=Ve*Ve+ar*ar,Re=Ve*se+ar*K;if(Re>0&&Re<ae){var Be=se*ar-K*Ve;if(Be*Be<ae)return!0}}var $,Y;function q(We,we){var Pe=We[0]/u,Qe=We[1]/s,Ve=Math.max(0,-Pe,Pe-1,-Qe,Qe-1);return Ve&&$!==void 0&&j(Pe,Qe,$,Y)&&(Ve=0),Ve&&we&&j(Pe,Qe,we[0]/u,we[1]/s)&&(Ve=0),(1+dm.toleranceGrowth*Ve)*b}function Z(We,we){var Pe=We[0]-we[0],Qe=We[1]-we[1];return Math.sqrt(Pe*Pe+Qe*Qe)}var ne=dm.maxScreensAway,Q=-u*ne,oe=u*(1+ne),ee=-s*ne,G=s*(1+ne),re=[[Q,ee,oe,ee],[oe,ee,oe,G],[oe,G,Q,G],[Q,G,Q,ee]],H,te,ue,de,Ee,Me;function ve(We,we){for(var Pe=[],Qe=0,Ve=0;Ve<4;Ve++){var ar=re[Ve],se=Bee(We[0],We[1],we[0],we[1],ar[0],ar[1],ar[2],ar[3]);se&&(!Qe||Math.abs(se.x-Pe[0][0])>1||Math.abs(se.y-Pe[0][1])>1)&&(se=[se.x,se.y],Qe&&Z(se,We)<Z(Pe[0],We)?Pe.unshift(se):Pe.push(se),Qe++)}return Pe}function Ae(We){if(We[0]<Q||We[0]>oe||We[1]<ee||We[1]>G)return[CE(We[0],Q,oe),CE(We[1],ee,G)]}function ke(We,we){if(We[0]===we[0]&&(We[0]===Q||We[0]===oe)||We[1]===we[1]&&(We[1]===ee||We[1]===G))return!0}function De(We,we){var Pe=[],Qe=Ae(We),Ve=Ae(we);return Qe&&Ve&&ke(Qe,Ve)||(Qe&&Pe.push(Qe),Ve&&Pe.push(Ve)),Pe}function Ce(We,we,Pe){return function(Qe,Ve){var ar=Ae(Qe),se=Ae(Ve),K=[];if(ar&&se&&ke(ar,se))return K;ar&&K.push(ar),se&&K.push(se);var ae=2*x1.constrain((Qe[We]+Ve[We])/2,we,Pe)-((ar||Qe)[We]+(se||Ve)[We]);if(ae){var Re;ar&&se?Re=ae>0==ar[We]>se[We]?ar:se:Re=ar||se,Re[We]+=ae}return K}}var Oe;y==="linear"||y==="spline"?Oe=ve:y==="hv"||y==="vh"?Oe=De:y==="hvh"?Oe=Ce(0,Q,oe):y==="vhv"&&(Oe=Ce(1,ee,G));function Ue(We,we){var Pe=we[0]-We[0],Qe=(we[1]-We[1])/Pe,Ve=(We[1]*we[0]-we[1]*We[0])/Pe;return Ve>0?[Qe>0?Q:oe,G]:[Qe>0?oe:Q,ee]}function ge(We){var we=We[0],Pe=We[1],Qe=we===x[T-1][0],Ve=Pe===x[T-1][1];if(!(Qe&&Ve))if(T>1){var ar=we===x[T-2][0],se=Pe===x[T-2][1];Qe&&(we===Q||we===oe)&&ar?se?T--:x[T-1]=We:Ve&&(Pe===ee||Pe===G)&&se?ar?T--:x[T-1]=We:x[T++]=We}else x[T++]=We}function Te(We){x[T-1][0]!==We[0]&&x[T-1][1]!==We[1]&&ge([ue,de]),ge(We),Ee=null,ue=de=0}var ce=x1.isArrayOrTypedArray(v);function ye(We){if(We&&f&&(We.i=d,We.d=r,We.trace=n,We.marker=ce?v[We.i]:v,We.backoff=f),$=We[0]/u,Y=We[1]/s,H=We[0]<Q?Q:We[0]>oe?oe:0,te=We[1]<ee?ee:We[1]>G?G:0,H||te){if(!T)x[T++]=[H||We[0],te||We[1]];else if(Ee){var we=Oe(Ee,We);we.length>1&&(Te(we[0]),x[T++]=we[1])}else Me=Oe(x[T-1],We)[0],x[T++]=Me;var Pe=x[T-1];H&&te&&(Pe[0]!==H||Pe[1]!==te)?(Ee&&(ue!==H&&de!==te?ge(ue&&de?Ue(Ee,We):[ue||H,de||te]):ue&&de&&ge([ue,de])),ge([H,te])):ue-H&&de-te&&ge([H||ue,te||de]),Ee=We,ue=H,de=te}else Ee&&Te(Oe(Ee,We)[0]),x[T++]=We}for(d=0;d<S;d++)if(_=X(d),!!_){for(T=0,Ee=null,ye(_),d++;d<S;d++){if(c=X(d),!c){if(p)continue;break}if(!w||!t.simplify){ye(c);continue}var Le=X(d+1);if(N=Z(c,_),!(!(M&&(T===0||T===S-1))&&N<q(c,Le)*k)){for(E=[(c[0]-_[0])/N,(c[1]-_[1])/N],A=_,I=N,F=P=O=0,R=!1,g=c,d++;d<r.length;d++){if(h=Le,Le=X(d+1),!h){if(p)continue;break}if(D=[h[0]-_[0],h[1]-_[1]],U=D[0]*E[1]-D[1]*E[0],P=Math.min(P,U),O=Math.max(O,U),O-P>q(h,Le))break;g=h,L=D[0]*E[0]+D[1]*E[1],L>I?(I=L,c=h,R=!1):L<F&&(F=L,A=h,R=!0)}if(R?(ye(c),g!==A&&ye(A)):(A!==_&&ye(A),g!==c&&ye(c)),ye(g),d>=r.length||!h)break;ye(h),_=h}}Ee&&ge([ue||Ee[0],de||Ee[1]]),m.push(x.slice(0,T))}var me=y.slice(y.length-1);if(f&&me!=="h"&&me!=="v"){for(var he=!1,be=-1,Se=[],ze=0;ze<m.length;ze++)for(var Fe=0;Fe<m[ze].length-1;Fe++){var Ze=m[ze][Fe],Ye=m[ze][Fe+1],Ge=Oee.applyBackoff(Ye,Ze);(Ge[0]!==Ye[0]||Ge[1]!==Ye[1])&&(he=!0),Se[be+1]||(be++,Se[be]=[Ze,[Ge[0],Ge[1]]])}return he?Se:m}return m}});var IE=pe((Nhe,FE)=>{"use strict";var PE={tonextx:1,tonexty:1,tonext:1};FE.exports=function(r,t,n){var a,o,i,l,u,s={},f=!1,v=-1,p=0,b=-1;for(o=0;o<n.length;o++)a=n[o][0].trace,i=a.stackgroup||"",i?i in s?u=s[i]:(u=s[i]=p,p++):a.fill in PE&&b>=0?u=b:(u=b=p,p++),u<v&&(f=!0),a._groupIndex=v=u;var y=n.slice();f&&y.sort(function(M,m){var k=M[0].trace,S=m[0].trace;return k._groupIndex-S._groupIndex||k.index-S.index});var w={};for(o=0;o<y.length;o++)a=y[o][0].trace,i=a.stackgroup||"",a.visible===!0?(a._nexttrace=null,a.fill in PE&&(l=w[i],a._prevtrace=l||null,l&&(l._nexttrace=a)),a._ownfill=a.fill&&(a.fill.substr(0,6)==="tozero"||a.fill==="toself"||a.fill.substr(0,2)==="to"&&!a._prevtrace),w[i]=a):a._prevtrace=a._nexttrace=a._ownfill=null;return y}});var OE=pe((zhe,qE)=>{"use strict";var si=it(),Uee=Er(),_0=ir(),Mu=_0.ensureSingle,zE=_0.identity,zt=yt(),Tu=oa(),Hee=DE(),Vee=IE(),b1=dy().tester;qE.exports=function(r,t,n,a,o,i){var l,u,s=!o,f=!!o&&o.duration>0,v=Vee(r,t,n);if(l=a.selectAll("g.trace").data(v,function(b){return b[0].trace.uid}),l.enter().append("g").attr("class",function(b){return"trace scatter trace"+b[0].trace.uid}).style("stroke-miterlimit",2),l.order(),Gee(r,l,t),f){i&&(u=i());var p=si.transition().duration(o.duration).ease(o.easing).each("end",function(){u&&u()}).each("interrupt",function(){u&&u()});p.each(function(){a.selectAll("g.trace").each(function(b,y){NE(r,y,t,b,v,this,o)})})}else l.each(function(b,y){NE(r,y,t,b,v,this,o)});s&&l.exit().remove(),a.selectAll("path:not([d])").remove()};function Gee(e,r,t){r.each(function(n){var a=Mu(si.select(this),"g","fills");zt.setClipUrl(a,t.layerClipId,e);var o=n[0].trace,i=[];o._ownfill&&i.push("_ownFill"),o._nexttrace&&i.push("_nextFill");var l=a.selectAll("g").data(i,zE);l.enter().append("g"),l.exit().each(function(u){o[u]=null}).remove(),l.order().each(function(u){o[u]=Mu(si.select(this),"path","js-fill")})})}function NE(e,r,t,n,a,o,i){var l=e._context.staticPlot,u;Yee(e,r,t,n,a);var s=!!i&&i.duration>0;function f(Ce){return s?Ce.transition():Ce}var v=t.xaxis,p=t.yaxis,b=n[0].trace,y=b.line,w=si.select(o),M=Mu(w,"g","errorbars"),m=Mu(w,"g","lines"),k=Mu(w,"g","points"),S=Mu(w,"g","text");if(Uee.getComponentMethod("errorbars","plot")(e,M,t,i),b.visible!==!0)return;f(w).style("opacity",b.opacity);var x,T,d=b.fill.charAt(b.fill.length-1);d!=="x"&&d!=="y"&&(d="");var _,g;d==="y"?(_=1,g=p.c2p(0,!0)):d==="x"&&(_=0,g=v.c2p(0,!0)),n[0][t.isRangePlot?"nodeRangePlot3":"node3"]=w;var c="",A=[],h=b._prevtrace,R=null,E=null;h&&(c=h._prevRevpath||"",T=h._nextFill,A=h._ownPolygons,R=h._fillsegments,E=h._fillElement);var D,N,I="",F="",L,P,O,U,X,j,$=[];b._polygons=[];var Y=[],q=[],Z=_0.noop;if(x=b._ownFill,Tu.hasLines(b)||b.fill!=="none"){T&&T.datum(n),["hv","vh","hvh","vhv"].indexOf(y.shape)!==-1?(L=zt.steps(y.shape),P=zt.steps(y.shape.split("").reverse().join(""))):y.shape==="spline"?L=P=function(Ce){var Oe=Ce[Ce.length-1];return Ce.length>1&&Ce[0][0]===Oe[0]&&Ce[0][1]===Oe[1]?zt.smoothclosed(Ce.slice(1),y.smoothing):zt.smoothopen(Ce,y.smoothing)}:L=P=function(Ce){return"M"+Ce.join("L")},O=function(Ce){return P(Ce.reverse())},q=Hee(n,{xaxis:v,yaxis:p,trace:b,connectGaps:b.connectgaps,baseTolerance:Math.max(y.width||1,3)/4,shape:y.shape,backoff:y.backoff,simplify:y.simplify,fill:b.fill}),Y=new Array(q.length);var ne=0;for(u=0;u<q.length;u++){var Q,oe=q[u];!Q||!d?(Q=oe.slice(),Y[ne]=Q,ne++):Q.push.apply(Q,oe)}b._fillElement=null,b._fillExclusionElement=E,b._fillsegments=Y.slice(0,ne),Y=b._fillsegments,q.length&&(U=q[0][0].slice(),X=q[q.length-1],j=X[X.length-1].slice()),Z=function(Ce){return function(Oe){if(D=L(Oe),N=O(Oe),I?d?(I+="L"+D.substr(1),F=N+("L"+F.substr(1))):(I+="Z"+D,F=N+"Z"+F):(I=D,F=N),Tu.hasLines(b)){var Ue=si.select(this);if(Ue.datum(n),Ce)f(Ue.style("opacity",0).attr("d",D).call(zt.lineGroupStyle)).style("opacity",1);else{var ge=f(Ue);ge.attr("d",D),zt.singleLineStyle(n,ge)}}}}}var ee=m.selectAll(".js-line").data(q);f(ee.exit()).style("opacity",0).remove(),ee.each(Z(!1)),ee.enter().append("path").classed("js-line",!0).style("vector-effect",l?"none":"non-scaling-stroke").call(zt.lineGroupStyle).each(Z(!0)),zt.setClipUrl(ee,t.layerClipId,e);function G(Ce){f(Ce).attr("d","M0,0Z")}var re=function(){var Ce=new Array(Y.length);for(u=0;u<Y.length;u++)Ce[u]=b1(Y[u]);return Ce},H=function(Ce){var Oe,Ue;if(!Ce||Ce.length===0)for(Oe=new Array(Y.length),Ue=0;Ue<Y.length;Ue++){var ge=Y[Ue][0].slice(),Te=Y[Ue][Y[Ue].length-1].slice();ge[_]=Te[_]=g;var ce=[Te,ge],ye=ce.concat(Y[Ue]);Oe[Ue]=b1(ye)}else{for(Oe=new Array(Ce.length-1+Y.length),Ue=0;Ue<Ce.length-1;Ue++)Oe[Ue]=b1(Ce[Ue]);var Le=Ce[Ce.length-1].slice();for(Le.reverse(),Ue=0;Ue<Y.length;Ue++)Oe[Ce.length-1+Ue]=b1(Y[Ue].concat(Le))}return Oe};q.length?(x?(x.datum(n),U&&j&&(d?(U[_]=j[_]=g,f(x).attr("d","M"+j+"L"+U+"L"+I.substr(1)).call(zt.singleFillStyle,e),$=H(null)):(f(x).attr("d",I+"Z").call(zt.singleFillStyle,e),$=re())),b._polygons=$,b._fillElement=x):T&&(b.fill.substr(0,6)==="tonext"&&I&&c?(b.fill==="tonext"?(f(T).attr("d",I+"Z"+c+"Z").call(zt.singleFillStyle,e),$=re(),b._polygons=$.concat(A)):(f(T).attr("d",I+"L"+c.substr(1)+"Z").call(zt.singleFillStyle,e),$=H(R),b._polygons=$),b._fillElement=T):G(T)),b._prevRevpath=F):(x?G(x):T&&G(T),b._prevRevpath=null),b._ownPolygons=$;function te(Ce){return Ce.filter(function(Oe){return!Oe.gap&&Oe.vis})}function ue(Ce){return Ce.filter(function(Oe){return Oe.vis})}function de(Ce){return Ce.filter(function(Oe){return!Oe.gap})}function Ee(Ce){return Ce.id}function Me(Ce){if(Ce.ids)return Ee}function ve(){return!1}function Ae(Ce,Oe,Ue){var ge,Te,ce,ye=Ue[0].trace,Le=Tu.hasMarkers(ye),me=Tu.hasText(ye),he=Me(ye),be=ve,Se=ve;if(Le||me){var ze=zE,Fe=ye.stackgroup,Ze=Fe&&e._fullLayout._scatterStackOpts[v._id+p._id][Fe].stackgaps==="infer zero";ye.marker.maxdisplayed||ye._needsCull?ze=Ze?ue:te:Fe&&!Ze&&(ze=de),Le&&(be=ze),me&&(Se=ze)}Te=Ce.selectAll("path.point"),ge=Te.data(be,he);var Ye=ge.enter().append("path").classed("point",!0);s&&Ye.call(zt.pointStyle,ye,e).call(zt.translatePoints,v,p).style("opacity",0).transition().style("opacity",1),ge.order();var Ge;Le&&(Ge=zt.makePointStyleFns(ye)),ge.each(function(We){var we=si.select(this),Pe=f(we);ce=zt.translatePoint(We,Pe,v,p),ce?(zt.singlePointStyle(We,Pe,ye,Ge,e),t.layerClipId&&zt.hideOutsideRangePoint(We,Pe,v,p,ye.xcalendar,ye.ycalendar),ye.customdata&&we.classed("plotly-customdata",We.data!==null&&We.data!==void 0)):Pe.remove()}),s?ge.exit().transition().style("opacity",0).remove():ge.exit().remove(),Te=Oe.selectAll("g"),ge=Te.data(Se,he),ge.enter().append("g").classed("textpoint",!0).append("text"),ge.order(),ge.each(function(We){var we=si.select(this),Pe=f(we.select("text"));ce=zt.translatePoint(We,Pe,v,p),ce?t.layerClipId&&zt.hideOutsideRangePoint(We,we,v,p,ye.xcalendar,ye.ycalendar):we.remove()}),ge.selectAll("text").call(zt.textPointStyle,ye,e).each(function(We){var we=v.c2p(We.x),Pe=p.c2p(We.y);si.select(this).selectAll("tspan.line").each(function(){f(si.select(this)).attr({x:we,y:Pe})})}),ge.exit().remove()}k.datum(n),S.datum(n),Ae(k,S,n);var ke=b.cliponaxis===!1,De=ke?null:t.layerClipId;zt.setClipUrl(k,De,e),zt.setClipUrl(S,De,e)}function Yee(e,r,t,n,a){var o=t.xaxis,i=t.yaxis,l=si.extent(_0.simpleMap(o.range,o.r2c)),u=si.extent(_0.simpleMap(i.range,i.r2c)),s=n[0].trace;if(Tu.hasMarkers(s)){var f=s.marker.maxdisplayed;if(f!==0){var v=n.filter(function(w){return w.x>=l[0]&&w.x<=l[1]&&w.y>=u[0]&&w.y<=u[1]}),p=Math.ceil(v.length/f),b=0;a.forEach(function(w,M){var m=w[0].trace;Tu.hasMarkers(m)&&m.marker.maxdisplayed>0&&M<r&&b++});var y=Math.round(b*p/3+Math.floor(b/3)*p/7.1);n.forEach(function(w){delete w.vis}),v.forEach(function(w,M){Math.round((M+y)%p)===0&&(w.vis=!0)})}}}});var UE=pe((qhe,BE)=>{"use strict";BE.exports={container:"marker",min:"cmin",max:"cmax"}});var VE=pe((Ohe,HE)=>{"use strict";var _1=St();HE.exports=function(r,t,n){var a={},o={_fullLayout:n},i=_1.getFromTrace(o,t,"x"),l=_1.getFromTrace(o,t,"y"),u=r.orig_x;u===void 0&&(u=r.x);var s=r.orig_y;return s===void 0&&(s=r.y),a.xLabel=_1.tickText(i,i.c2l(u),!0).text,a.yLabel=_1.tickText(l,l.c2l(s),!0).text,a}});var mm=pe((Bhe,GE)=>{"use strict";var pm=it(),Au=yt(),Wee=Er();function Xee(e){var r=pm.select(e).selectAll("g.trace.scatter");r.style("opacity",function(t){return t[0].trace.opacity}),r.selectAll("g.points").each(function(t){var n=pm.select(this),a=t.trace||t[0].trace;gm(n,a,e)}),r.selectAll("g.text").each(function(t){var n=pm.select(this),a=t.trace||t[0].trace;ym(n,a,e)}),r.selectAll("g.trace path.js-line").call(Au.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(Au.fillGroupStyle,e,!1),Wee.getComponentMethod("errorbars","style")(r)}function gm(e,r,t){Au.pointStyle(e.selectAll("path.point"),r,t)}function ym(e,r,t){Au.textPointStyle(e.selectAll("text"),r,t)}function Zee(e,r,t){var n=r[0].trace;n.selectedpoints?(Au.selectedPointStyle(t.selectAll("path.point"),n),Au.selectedTextStyle(t.selectAll("text"),n)):(gm(t,n,e),ym(t,n,e))}GE.exports={style:Xee,stylePoints:gm,styleText:ym,styleOnSelect:Zee}});var WE=pe((Uhe,YE)=>{"use strict";var ku=Zr(),Jee=oa();YE.exports=function(r,t){var n,a;if(r.mode==="lines")return n=r.line.color,n&&ku.opacity(n)?n:r.fillcolor;if(r.mode==="none")return r.fill?r.fillcolor:"";var o=t.mcc||(r.marker||{}).color,i=t.mlcc||((r.marker||{}).line||{}).color;return a=o&&ku.opacity(o)?o:i&&ku.opacity(i)&&(t.mlw||((r.marker||{}).line||{}).width)?i:"",a?ku.opacity(a)<.3?ku.addOpacity(a,.3):a:(n=(r.line||{}).color,n&&ku.opacity(n)&&Jee.hasLines(r)&&r.line.width?n:r.fillcolor)}});var JE=pe((Hhe,ZE)=>{"use strict";var w1=ir(),XE=io(),Kee=Er(),Qee=WE(),xm=Zr(),$ee=w1.fillText;ZE.exports=function(r,t,n,a){var o=r.cd,i=o[0].trace,l=r.xa,u=r.ya,s=l.c2p(t),f=u.c2p(n),v=[s,f],p=i.hoveron||"",b=i.mode.indexOf("markers")!==-1?3:.5,y=!!i.xperiodalignment,w=!!i.yperiodalignment;if(p.indexOf("points")!==-1){var M=function(F){if(y){var L=l.c2p(F.xStart),P=l.c2p(F.xEnd);return s>=Math.min(L,P)&&s<=Math.max(L,P)?0:1/0}var O=Math.max(3,F.mrc||0),U=1-1/O,X=Math.abs(l.c2p(F.x)-s);return X<O?U*X/O:X-O+U},m=function(F){if(w){var L=u.c2p(F.yStart),P=u.c2p(F.yEnd);return f>=Math.min(L,P)&&f<=Math.max(L,P)?0:1/0}var O=Math.max(3,F.mrc||0),U=1-1/O,X=Math.abs(u.c2p(F.y)-f);return X<O?U*X/O:X-O+U},k=function(F){var L=Math.max(b,F.mrc||0),P=l.c2p(F.x)-s,O=u.c2p(F.y)-f;return Math.max(Math.sqrt(P*P+O*O)-L,1-b/L)},S=XE.getDistanceFunction(a,M,m,k);if(XE.getClosest(o,S,r),r.index!==!1){var x=o[r.index],T=l.c2p(x.x,!0),d=u.c2p(x.y,!0),_=x.mrc||1;r.index=x.i;var g=o[0].t.orientation,c=g&&(x.sNorm||x.s),A=g==="h"?c:x.orig_x!==void 0?x.orig_x:x.x,h=g==="v"?c:x.orig_y!==void 0?x.orig_y:x.y;return w1.extendFlat(r,{color:Qee(i,x),x0:T-_,x1:T+_,xLabelVal:A,y0:d-_,y1:d+_,yLabelVal:h,spikeDistance:k(x),hovertemplate:i.hovertemplate}),$ee(x,i,r),Kee.getComponentMethod("errorbars","hoverInfo")(x,i,r),[r]}}function R(F){if(!F)return!1;var L=F.node();try{var P=new DOMPoint(v[0],v[1]);return L.isPointInFill(P)}catch(U){var O=L.ownerSVGElement.createSVGPoint();return O.x=v[0],O.y=v[1],L.isPointInFill(O)}}function E(F){var L,P=[],O=1/0,U=-1/0,X=1/0,j=-1/0,$;for(L=0;L<F.length;L++){var Y=F[L];Y.contains(v)&&(P.push(Y),X=Math.min(X,Y.ymin),j=Math.max(j,Y.ymax))}if(P.length===0)return null;X=Math.max(X,0),j=Math.min(j,u._length),$=(X+j)/2;var q,Z,ne,Q,oe,ee,G;for(L=0;L<P.length;L++)for(Z=P[L].pts,q=1;q<Z.length;q++)ee=Z[q-1][1],G=Z[q][1],ee>$!=G>=$&&(Q=Z[q-1][0],oe=Z[q][0],G-ee&&(ne=Q+(oe-Q)*($-ee)/(G-ee),O=Math.min(O,ne),U=Math.max(U,ne)));return O=Math.max(O,0),U=Math.min(U,l._length),{x0:O,x1:U,y0:$,y1:$}}if(p.indexOf("fills")!==-1&&i._fillElement){var D=R(i._fillElement)&&!R(i._fillExclusionElement);if(D){var N=E(i._polygons);N===null&&(N={x0:v[0],x1:v[0],y0:v[1],y1:v[1]});var I=xm.defaultLine;return xm.opacity(i.fillcolor)?I=i.fillcolor:xm.opacity((i.line||{}).color)&&(I=i.line.color),w1.extendFlat(r,{distance:r.maxHoverDistance,x0:N.x0,x1:N.x1,y0:N.y0,y1:N.y1,color:I,hovertemplate:!1}),delete r.index,i.text&&!w1.isArrayOrTypedArray(i.text)?r.text=String(i.text):r.text=i.name,[r]}}}});var $E=pe((Vhe,QE)=>{"use strict";var KE=oa();QE.exports=function(r,t){var n=r.cd,a=r.xaxis,o=r.yaxis,i=[],l=n[0].trace,u,s,f,v,p=!KE.hasMarkers(l)&&!KE.hasText(l);if(p)return[];if(t===!1)for(u=0;u<n.length;u++)n[u].selected=0;else for(u=0;u<n.length;u++)s=n[u],f=a.c2p(s.x),v=o.c2p(s.y),s.i!==null&&t.contains([f,v],!1,u,r)?(i.push({pointNumber:s.i,x:a.c2d(s.x),y:o.c2d(s.y)}),s.selected=1):s.selected=0;return i}});var eL=pe((Ghe,jE)=>{"use strict";jE.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}});var _m=pe((Yhe,nL)=>{"use strict";var w0=Er().traceIs,bm=Yg();nL.exports=function(r,t,n,a){n("autotypenumbers",a.autotypenumbersDflt);var o=n("type",(a.splomStash||{}).type);o==="-"&&(jee(t,a.data),t.type==="-"?t.type="linear":r.type=t.type)};function jee(e,r){if(e.type==="-"){var t=e._id,n=t.charAt(0),a;t.indexOf("scene")!==-1&&(t=n);var o=ere(r,t,n);if(o){if(o.type==="histogram"&&n==={v:"y",h:"x"}[o.orientation||"v"]){e.type="linear";return}var i=n+"calendar",l=o[i],u={noMultiCategory:!w0(o,"cartesian")||w0(o,"noMultiCategory")};if(o.type==="box"&&o._hasPreCompStats&&n==={h:"x",v:"y"}[o.orientation||"v"]&&(u.noMultiCategory=!0),u.autotypenumbers=e.autotypenumbers,tL(o,n)){var s=rL(o),f=[];for(a=0;a<r.length;a++){var v=r[a];!w0(v,"box-violin")||(v[n+"axis"]||n)!==t||(v[s]!==void 0?f.push(v[s][0]):v.name!==void 0?f.push(v.name):f.push("text"),v[i]!==l&&(l=void 0))}e.type=bm(f,l,u)}else if(o.type==="splom"){var p=o.dimensions,b=p[o._axesDim[t]];b.visible&&(e.type=bm(b.values,l,u))}else e.type=bm(o[n]||[o[n+"0"]],l,u)}}}function ere(e,r,t){for(var n=0;n<e.length;n++){var a=e[n];if(a.type==="splom"&&a._length>0&&(a["_"+t+"axes"]||{})[r])return a;if((a[t+"axis"]||t)===r){if(tL(a,t))return a;if((a[t]||[]).length||a[t+"0"])return a}}}function rL(e){return{v:"x",h:"y"}[e.orientation||"v"]}function tL(e,r){var t=rL(e),n=w0(e,"box-violin"),a=w0(e._fullInput||{},"candlestick");return n&&!a&&r===t&&e[t]===void 0&&e[t+"0"]===void 0}});var iL=pe((Whe,aL)=>{"use strict";var rre=ea().isTypedArraySpec;function tre(e,r){var t=r.dataAttr||e._id.charAt(0),n={},a,o,i;if(r.axData)a=r.axData;else for(a=[],o=0;o<r.data.length;o++){var l=r.data[o];l[t+"axis"]===e._id&&a.push(l)}for(o=0;o<a.length;o++){var u=a[o][t];for(i=0;i<u.length;i++){var s=u[i];s!=null&&(n[s]=1)}}return Object.keys(n)}aL.exports=function(r,t,n,a){if(t.type==="category"){var o=r.categoryarray,i=Array.isArray(o)&&o.length>0||rre(o),l;i&&(l="array");var u=n("categoryorder",l),s;u==="array"&&(s=n("categoryarray")),!i&&u==="array"&&(u=t.categoryorder="trace"),u==="trace"?t._initialCategories=[]:u==="array"?t._initialCategories=s.slice():(s=tre(t,a).sort(),u==="category ascending"?t._initialCategories=s:u==="category descending"&&(t._initialCategories=s.reverse()))}}});var sL=pe((Xhe,lL)=>{"use strict";var oL=ka().mix,nre=Ti(),are=ir();lL.exports=function(r,t,n,a){a=a||{};var o=a.dfltColor;function i(_,g){return are.coerce2(r,t,a.attributes,_,g)}var l=i("linecolor",o),u=i("linewidth"),s=n("showline",a.showLine||!!l||!!u);s||(delete t.linecolor,delete t.linewidth);var f=oL(o,a.bgColor,a.blend||nre.lightFraction).toRgbString(),v=i("gridcolor",f),p=i("gridwidth"),b=i("griddash"),y=n("showgrid",a.showGrid||!!v||!!p||!!b);if(y||(delete t.gridcolor,delete t.gridwidth,delete t.griddash),a.hasMinor){var w=oL(t.gridcolor,a.bgColor,67).toRgbString(),M=i("minor.gridcolor",w),m=i("minor.gridwidth",t.gridwidth||1),k=i("minor.griddash",t.griddash||"solid"),S=n("minor.showgrid",!!M||!!m||!!k);S||(delete t.minor.gridcolor,delete t.minor.gridwidth,delete t.minor.griddash)}if(!a.noZeroLine){var x=i("zerolinecolor",o),T=i("zerolinewidth"),d=n("zeroline",a.showGrid||!!x||!!T);d||(delete t.zerolinecolor,delete t.zerolinewidth)}}});var T1=pe((Zhe,dL)=>{"use strict";var uL=rt(),ire=Er(),M0=ir(),ore=gt(),lre=ei(),wm=Ra(),fL=dg(),cL=gg(),sre=xg(),ure=bg(),fre=iL(),cre=sL(),vre=c2(),vL=Rv(),M1=wn().WEEKDAY_PATTERN,hre=wn().HOUR_PATTERN;dL.exports=function(r,t,n,a,o){var i=a.letter,l=a.font||{},u=a.splomStash||{},s=n("visible",!a.visibleDflt),f=t._template||{},v=t.type||f.type||"-",p;if(v==="date"){var b=ire.getComponentMethod("calendars","handleDefaults");b(r,t,"calendar",a.calendar),a.noTicklabelmode||(p=n("ticklabelmode"))}!a.noTicklabelindex&&(v==="date"||v==="linear")&&n("ticklabelindex");var y="";(!a.noTicklabelposition||v==="multicategory")&&(y=M0.coerce(r,t,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:p==="period"?["outside","inside"]:i==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),a.noTicklabeloverflow||n("ticklabeloverflow",y.indexOf("inside")!==-1?"hide past domain":v==="category"||v==="multicategory"?"allow":"hide past div"),vL(t,o),vre(r,t,n,a),fre(r,t,n,a),v!=="category"&&!a.noHover&&n("hoverformat");var w=n("color"),M=w!==wm.color.dflt?w:l.color,m=u.label||o._dfltTitle[i];if(ure(r,t,n,v,a),!s)return t;n("title.text",m),M0.coerceFont(n,"title.font",l,{overrideDflt:{size:M0.bigFont(l.size),color:M}}),fL(r,t,n,v);var k=a.hasMinor;if(k&&(ore.newContainer(t,"minor"),fL(r,t,n,v,{isMinor:!0})),sre(r,t,n,v,a),cL(r,t,n,a),k){var S=a.isMinor;a.isMinor=!0,cL(r,t,n,a),a.isMinor=S}cre(r,t,n,{dfltColor:w,bgColor:a.bgColor,showGrid:a.showGrid,hasMinor:k,attributes:wm}),k&&!t.minor.ticks&&!t.minor.showgrid&&delete t.minor,(t.showline||t.ticks)&&n("mirror");var x=v==="multicategory";if(!a.noTickson&&(v==="category"||x)&&(t.ticks||t.showgrid)){var T;x&&(T="boundaries");var d=n("tickson",T);d==="boundaries"&&delete t.ticklabelposition}if(x){var _=n("showdividers");_&&(n("dividercolor"),n("dividerwidth"))}if(v==="date")if(lre(r,t,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:dre}),!t.rangebreaks.length)delete t.rangebreaks;else{for(var g=0;g<t.rangebreaks.length;g++)if(t.rangebreaks[g].pattern===M1){t._hasDayOfWeekBreaks=!0;break}if(vL(t,o),o._has("scattergl")||o._has("splom"))for(var c=0;c<a.data.length;c++){var A=a.data[c];(A.type==="scattergl"||A.type==="splom")&&(A.visible=!1,M0.warn(A.type+" traces do not work on axes with rangebreaks. Setting trace "+A.index+" to `visible: false`."))}}return t};function dre(e,r,t){function n(p,b){return M0.coerce(e,r,wm.rangebreaks,p,b)}var a=n("enabled");if(a){var o=n("bounds");if(o&&o.length>=2){var i="",l,u;if(o.length===2){for(l=0;l<2;l++)if(u=hL(o[l]),u){i=M1;break}}var s=n("pattern",i);if(s===M1)for(l=0;l<2;l++)u=hL(o[l]),u&&(r.bounds[l]=o[l]=u-1);if(s)for(l=0;l<2;l++)switch(u=o[l],s){case M1:if(!uL(u)){r.enabled=!1;return}if(u=+u,u!==Math.floor(u)||u<0||u>=7){r.enabled=!1;return}r.bounds[l]=o[l]=u;break;case hre:if(!uL(u)){r.enabled=!1;return}if(u=+u,u<0||u>24){r.enabled=!1;return}r.bounds[l]=o[l]=u;break}if(t.autorange===!1){var f=t.range;if(f[0]<f[1]){if(o[0]<f[0]&&o[1]>f[1]){r.enabled=!1;return}}else if(o[0]>f[0]&&o[1]<f[1]){r.enabled=!1;return}}}else{var v=n("values");if(v&&v.length)n("dvalue");else{r.enabled=!1;return}}}}var pre={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function hL(e){if(typeof e=="string")return pre[e.substr(0,3).toLowerCase()]}});var Mm=pe((Jhe,pL)=>{"use strict";var gre=rt(),A1=ir();pL.exports=function(r,t,n,a){var o=a.counterAxes||[],i=a.overlayableAxes||[],l=a.letter,u=a.grid,s=a.overlayingDomain,f,v,p,b,y,w;u&&(v=u._domains[l][u._axisMap[t._id]],f=u._anchors[t._id],v&&(p=u[l+"side"].split(" ")[0],b=u.domain[l][p==="right"||p==="top"?1:0])),v=v||[0,1],f=f||(gre(r.position)?"free":o[0]||"free"),p=p||(l==="x"?"bottom":"left"),b=b||0,y=0,w=!1;var M=A1.coerce(r,t,{anchor:{valType:"enumerated",values:["free"].concat(o),dflt:f}},"anchor"),m=A1.coerce(r,t,{side:{valType:"enumerated",values:l==="x"?["bottom","top"]:["left","right"],dflt:p}},"side");if(M==="free"){if(l==="y"){var k=n("autoshift");k&&(b=m==="left"?s[0]:s[1],w=t.automargin?t.automargin:!0,y=m==="left"?-3:3),n("shift",y)}n("position",b)}n("automargin",w);var S=!1;if(i.length&&(S=A1.coerce(r,t,{overlaying:{valType:"enumerated",values:[!1].concat(i),dflt:!1}},"overlaying")),!S){var x=n("domain",v);x[0]>x[1]-1/4096&&(t.domain=v),A1.noneOrAll(r.domain,t.domain,v),t.tickmode==="sync"&&(t.tickmode="auto")}return n("layer"),t}});var TL=pe((Khe,ML)=>{"use strict";var ts=ir(),gL=Zr(),yre=to().isUnifiedHover,mre=z2(),yL=gt(),xre=Ds(),mL=Ra(),bre=_m(),xL=T1(),_re=Vf(),bL=Mm(),Am=on(),Ui=Am.id2name,_L=Am.name2id,wre=wn().AX_ID_PATTERN,wL=Er(),k1=wL.traceIs,Tm=wL.getComponentMethod;function S1(e,r,t){Array.isArray(e[r])?e[r].push(t):e[r]=[t]}ML.exports=function(r,t,n){var a=t.autotypenumbers,o={},i={},l={},u={},s={},f={},v={},p={},b={},y={},w,M;for(w=0;w<n.length;w++){var m=n[w];if(k1(m,"cartesian")){var k;if(m.xaxis)k=Ui(m.xaxis),S1(o,k,m);else if(m.xaxes)for(M=0;M<m.xaxes.length;M++)S1(o,Ui(m.xaxes[M]),m);var S;if(m.yaxis)S=Ui(m.yaxis),S1(o,S,m);else if(m.yaxes)for(M=0;M<m.yaxes.length;M++)S1(o,Ui(m.yaxes[M]),m);if(m.type==="funnel"?m.orientation==="h"?(k&&(i[k]=!0),S&&(v[S]=!0)):S&&(l[S]=!0):m.type==="image"?(S&&(p[S]=!0),k&&(p[k]=!0)):(S&&(s[S]=!0,f[S]=!0),(!k1(m,"carpet")||m.type==="carpet"&&!m._cheater)&&k&&(u[k]=!0)),m.type==="carpet"&&m._cheater&&k&&(i[k]=!0),k1(m,"2dMap")&&(b[k]=!0,b[S]=!0),k1(m,"oriented")){var x=m.orientation==="h"?S:k;y[x]=!0}}}var T=t._subplots,d=T.xaxis,_=T.yaxis,g=ts.simpleMap(d,Ui),c=ts.simpleMap(_,Ui),A=g.concat(c),h=gL.background;d.length&&_.length&&(h=ts.coerce(r,t,xre,"plot_bgcolor"));var R=gL.combine(h,t.paper_bgcolor),E,D,N,I,F;function L(){var Te=o[E]||[];F._traceIndices=Te.map(function(ce){return ce.index}),F._annIndices=[],F._shapeIndices=[],F._selectionIndices=[],F._imgIndices=[],F._subplotsWith=[],F._counterAxes=[],F._name=F._attr=E,F._id=D}function P(Te,ce){return ts.coerce(I,F,mL,Te,ce)}function O(Te,ce){return ts.coerce2(I,F,mL,Te,ce)}function U(Te){return Te==="x"?_:d}function X(Te,ce){for(var ye=Te==="x"?g:c,Le=[],me=0;me<ye.length;me++){var he=ye[me];he!==ce&&!(r[he]||{}).overlaying&&Le.push(_L(he))}return Le}var j={x:U("x"),y:U("y")},$=j.x.concat(j.y),Y={},q=[];function Z(){var Te=I.matches;wre.test(Te)&&$.indexOf(Te)===-1&&(Y[Te]=I.type,q=Object.keys(Y))}var ne=mre(r,t),Q=yre(ne);for(w=0;w<A.length;w++){E=A[w],D=_L(E),N=E.charAt(0),ts.isPlainObject(r[E])||(r[E]={}),I=r[E],F=yL.newContainer(t,E,N+"axis"),L();var oe=N==="x"&&!u[E]&&i[E]||N==="y"&&!s[E]&&l[E],ee=N==="y"&&(!f[E]&&v[E]||p[E]),G={hasMinor:!0,letter:N,font:t.font,outerTicks:b[E],showGrid:!y[E],data:o[E]||[],bgColor:R,calendar:t.calendar,automargin:!0,visibleDflt:oe,reverseDflt:ee,autotypenumbersDflt:a,splomStash:((t._splomAxes||{})[N]||{})[D],noAutotickangles:N==="y"};P("uirevision",t.uirevision),bre(I,F,P,G),xL(I,F,P,G,t);var re=Q&&N===ne.charAt(0),H=O("spikecolor",Q?F.color:void 0),te=O("spikethickness",Q?1.5:void 0),ue=O("spikedash",Q?"dot":void 0),de=O("spikemode",Q?"across":void 0),Ee=O("spikesnap"),Me=P("showspikes",!!re||!!H||!!te||!!ue||!!de||!!Ee);Me||(delete F.spikecolor,delete F.spikethickness,delete F.spikedash,delete F.spikemode,delete F.spikesnap);var ve=Ui(I.overlaying),Ae=[0,1];if(t[ve]!==void 0){var ke=Ui(t[ve].anchor);t[ke]!==void 0&&(Ae=t[ke].domain)}bL(I,F,P,{letter:N,counterAxes:j[N],overlayableAxes:X(N,E),grid:t.grid,overlayingDomain:Ae}),P("title.standoff"),Z(),F._input=I}for(w=0;w<q.length;){D=q[w++],E=Ui(D),N=E.charAt(0),ts.isPlainObject(r[E])||(r[E]={}),I=r[E],F=yL.newContainer(t,E,N+"axis"),L();var De={letter:N,font:t.font,outerTicks:b[E],showGrid:!y[E],data:[],bgColor:R,calendar:t.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:a,splomStash:((t._splomAxes||{})[N]||{})[D]};P("uirevision",t.uirevision),F.type=Y[D]||"linear",xL(I,F,P,De,t),bL(I,F,P,{letter:N,counterAxes:j[N],overlayableAxes:X(N,E),grid:t.grid}),P("fixedrange"),Z(),F._input=I}var Ce=Tm("rangeslider","handleDefaults"),Oe=Tm("rangeselector","handleDefaults");for(w=0;w<g.length;w++)E=g[w],I=r[E],F=t[E],Ce(r,t,E),F.type==="date"&&Oe(I,F,t,c,F.calendar),P("fixedrange");for(w=0;w<c.length;w++){E=c[w],I=r[E],F=t[E];var Ue=t[Ui(F.anchor)],ge=Tm("rangeslider","isVisible")(Ue);P("fixedrange",ge)}_re.handleDefaults(r,t,{axIds:$.concat(q).sort(Am.idSort),axHasImage:p})}});var SL=pe((Qhe,kL)=>{"use strict";var Mre=it(),AL=Er(),C1=ir(),xa=yt(),E1=St();kL.exports=function(r,t,n,a){var o=r._fullLayout;if(t.length===0){E1.redrawComponents(r);return}function i(M){var m=M.xaxis,k=M.yaxis;o._defs.select("#"+M.clipId+"> rect").call(xa.setTranslate,0,0).call(xa.setScale,1,1),M.plot.call(xa.setTranslate,m._offset,k._offset).call(xa.setScale,1,1);var S=M.plot.selectAll(".scatterlayer .trace");S.selectAll(".point").call(xa.setPointGroupScale,1,1),S.selectAll(".textpoint").call(xa.setTextPointsScale,1,1),S.call(xa.hideOutsideRangePoints,M)}function l(M,m){var k=M.plotinfo,S=k.xaxis,x=k.yaxis,T=S._length,d=x._length,_=!!M.xr1,g=!!M.yr1,c=[];if(_){var A=C1.simpleMap(M.xr0,S.r2l),h=C1.simpleMap(M.xr1,S.r2l),R=A[1]-A[0],E=h[1]-h[0];c[0]=(A[0]*(1-m)+m*h[0]-A[0])/(A[1]-A[0])*T,c[2]=T*(1-m+m*E/R),S.range[0]=S.l2r(A[0]*(1-m)+m*h[0]),S.range[1]=S.l2r(A[1]*(1-m)+m*h[1])}else c[0]=0,c[2]=T;if(g){var D=C1.simpleMap(M.yr0,x.r2l),N=C1.simpleMap(M.yr1,x.r2l),I=D[1]-D[0],F=N[1]-N[0];c[1]=(D[1]*(1-m)+m*N[1]-D[1])/(D[0]-D[1])*d,c[3]=d*(1-m+m*F/I),x.range[0]=S.l2r(D[0]*(1-m)+m*N[0]),x.range[1]=x.l2r(D[1]*(1-m)+m*N[1])}else c[1]=0,c[3]=d;E1.drawOne(r,S,{skipTitle:!0}),E1.drawOne(r,x,{skipTitle:!0}),E1.redrawComponents(r,[S._id,x._id]);var L=_?T/c[2]:1,P=g?d/c[3]:1,O=_?c[0]:0,U=g?c[1]:0,X=_?c[0]/c[2]*T:0,j=g?c[1]/c[3]*d:0,$=S._offset-X,Y=x._offset-j;k.clipRect.call(xa.setTranslate,O,U).call(xa.setScale,1/L,1/P),k.plot.call(xa.setTranslate,$,Y).call(xa.setScale,L,P),xa.setPointGroupScale(k.zoomScalePts,1/L,1/P),xa.setTextPointsScale(k.zoomScaleTxt,1/L,1/P)}var u;a&&(u=a());function s(){for(var M={},m=0;m<t.length;m++){var k=t[m],S=k.plotinfo.xaxis,x=k.plotinfo.yaxis;k.xr1&&(M[S._name+".range"]=k.xr1.slice()),k.yr1&&(M[x._name+".range"]=k.yr1.slice())}return u&&u(),AL.call("relayout",r,M).then(function(){for(var T=0;T<t.length;T++)i(t[T].plotinfo)})}function f(){for(var M={},m=0;m<t.length;m++){var k=t[m],S=k.plotinfo.xaxis,x=k.plotinfo.yaxis;k.xr0&&(M[S._name+".range"]=k.xr0.slice()),k.yr0&&(M[x._name+".range"]=k.yr0.slice())}return AL.call("relayout",r,M).then(function(){for(var T=0;T<t.length;T++)i(t[T].plotinfo)})}var v,p,b,y=Mre.ease(n.easing);r._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(b),b=null,f()});function w(){p=Date.now();for(var M=Math.min(1,(p-v)/n.duration),m=y(M),k=0;k<t.length;k++)l(t[k],m);p-v>n.duration?(s(),b=window.cancelAnimationFrame(w)):b=window.requestAnimationFrame(w)}return v=Date.now(),b=window.requestAnimationFrame(w),Promise.resolve()}});var km=pe(Ln=>{"use strict";var R1=it(),CL=Er(),ns=ir(),Tre=ln(),Are=yt(),EL=_f().getModuleCalcData,Qo=on(),ui=wn(),kre=Io(),ut=ns.ensureSingle;function L1(e,r,t){return ns.ensureSingle(e,r,t,function(n){n.datum(t)})}var as=ui.zindexSeparator;Ln.name="cartesian";Ln.attr=["xaxis","yaxis"];Ln.idRoot=["x","y"];Ln.idRegex=ui.idRegex;Ln.attrRegex=ui.attrRegex;Ln.attributes=eL();Ln.layoutAttributes=Ra();Ln.supplyLayoutDefaults=TL();Ln.transitionAxes=SL();Ln.finalizeSubplots=function(e,r){var t=r._subplots,n=t.xaxis,a=t.yaxis,o=t.cartesian,i=o,l={},u={},s,f,v;for(s=0;s<i.length;s++){var p=i[s].split("y");l[p[0]]=1,u["y"+p[1]]=1}for(s=0;s<n.length;s++)f=n[s],l[f]||(v=(e[Qo.id2name(f)]||{}).anchor,ui.idRegex.y.test(v)||(v="y"),o.push(f+v),i.push(f+v),u[v]||(u[v]=1,ns.pushUnique(a,v)));for(s=0;s<a.length;s++)v=a[s],u[v]||(f=(e[Qo.id2name(v)]||{}).anchor,ui.idRegex.x.test(f)||(f="x"),o.push(f+v),i.push(f+v),l[f]||(l[f]=1,ns.pushUnique(n,f)));if(!i.length){f="",v="";for(var b in e)if(ui.attrRegex.test(b)){var y=b.charAt(0);y==="x"?(!f||+b.substr(5)<+f.substr(5))&&(f=b):(!v||+b.substr(5)<+v.substr(5))&&(v=b)}f=f?Qo.name2id(f):"x",v=v?Qo.name2id(v):"y",n.push(f),a.push(v),o.push(f+v)}};Ln.plot=function(e,r,t,n){var a=e._fullLayout,o=a._subplots.cartesian,i=e.calcdata,l;if(!Array.isArray(r))for(r=[],l=0;l<i.length;l++)r.push(l);for(var u=a._zindices,s=0;s<u.length;s++){var f=u[s];for(l=0;l<o.length;l++){var v=o[l],p=a._plots[v];if(s>0){var b=p.id;if(b.indexOf(as)!==-1)continue;b+=as+(s+1),p=ns.extendFlat({},p,{id:b,plot:a._cartesianlayer.selectAll(".subplot").select("."+b)})}for(var y=[],w,M=0;M<i.length;M++){var m=i[M],k=m[0].trace;f===(k.zorder||0)&&k.xaxis+k.yaxis===v&&((r.indexOf(k.index)!==-1||k.carpet)&&(w&&w[0].trace.xaxis+w[0].trace.yaxis===v&&["tonextx","tonexty","tonext"].indexOf(k.fill)!==-1&&y.indexOf(w)===-1&&y.push(w),y.push(m)),w=m)}LL(e,p,y,t,n)}}};function LL(e,r,t,n,a){for(var o=ui.traceLayerClasses,i=e._fullLayout,l=i._zindices,u=i._modules,s,f,v,p=[],b=[],y=0;y<l.length;y++)for(var w=l[y],M=0;M<u.length;M++){s=u[M];var m=s.name,k=CL.modules[m].categories;if(k.svg){var S=s.layerName||m+"layer",x=S+(y?Number(y)+1:""),T=s.plot;f=EL(t,T,w),v=f[0],t=f[1],v.length&&p.push({i:o.indexOf(S),zindex:y,className:x,plotMethod:T,cdModule:v}),k.zoomScale&&b.push("."+x)}}p.sort(function(g,c){return(g.zindex||0)-(c.zindex||0)||g.i-c.i});var d=r.plot.selectAll("g.mlayer").data(p,function(g){return g.className});if(d.enter().append("g").attr("class",function(g){return g.className}).classed("mlayer",!0).classed("rangeplot",r.isRangePlot),d.exit().remove(),d.order(),d.each(function(g){var c=R1.select(this),A=g.className;g.plotMethod(e,r,g.cdModule,c,n,a),ui.clipOnAxisFalseQuery.indexOf("."+A)===-1&&Are.setClipUrl(c,r.layerClipId,e)}),i._has("scattergl")&&(s=CL.getModule("scattergl"),v=EL(t,s)[0],s.plot(e,r,v)),!e._context.staticPlot&&(r._hasClipOnAxisFalse&&(r.clipOnAxisFalseTraces=r.plot.selectAll(ui.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),b.length)){var _=r.plot.selectAll(b.join(",")).selectAll(".trace");r.zoomScalePts=_.selectAll("path.point"),r.zoomScaleTxt=_.selectAll(".textpoint")}}Ln.clean=function(e,r,t,n){var a=n._plots||{},o=r._plots||{},i=n._subplots||{},l,u,s;if(n._hasOnlyLargeSploms&&!r._hasOnlyLargeSploms)for(s in a)l=a[s],l.plotgroup&&l.plotgroup.remove();var f=n._has&&n._has("gl"),v=r._has&&r._has("gl");if(f&&!v)for(s in a)l=a[s],l._scene&&l._scene.destroy();if(i.xaxis&&i.yaxis){var p=Qo.listIds({_fullLayout:n});for(u=0;u<p.length;u++){var b=p[u];r[Qo.id2name(b)]||n._infolayer.selectAll(".g-"+b+"title").remove()}}var y=n._has&&n._has("cartesian"),w=r._has&&r._has("cartesian");if(y&&!w)DL(n._cartesianlayer.selectAll(".subplot"),n),n._defs.selectAll(".axesclip").remove(),delete n._axisConstraintGroups,delete n._axisMatchGroups;else if(i.cartesian)for(u=0;u<i.cartesian.length;u++){var M=i.cartesian[u];if(M.indexOf(as)===-1&&!o[M]){var m="."+M+",."+M+"-x,."+M+"-y";n._cartesianlayer.selectAll(m).remove(),PL(M,n)}}};Ln.drawFramework=function(e){var r=e._fullLayout,t=e.calcdata,n,a={};for(n=0;n<t.length;n++){var o=t[n][0],i=o.trace,l=i.zorder||0;a[l]||(a[l]=[]),a[l].push(o)}var u=Object.keys(a).map(Number).sort(ns.sorterAsc);u.length||(u=[0]),r._zindices=u;var s=Sre(e),f=s.length,v=[];for(n=0;n<f;n++)v[n]=s[n].slice();for(var p=1;p<u.length;p++){var b=[];for(n=0;n<f;n++)b[n]=s[n].slice(),b[n][0]+=as+(p+1);v=v.concat(b)}var y=r._cartesianlayer.selectAll(".subplot").data(v,String);y.enter().append("g").attr("class",function(w){return"subplot "+w[0]}),y.order(),y.exit().call(DL,r),y.each(function(w){var M=w[0],m=M.indexOf(as),k=m!==-1,S=k?M.slice(0,m):M,x=r._plots[M];x||(x=ns.extendFlat({},r._plots[S]),x&&(x.id=M,r._plots[M]=x,r._subplots.cartesian.push(M))),x&&(x.plotgroup=R1.select(this),RL(e,x),k||(x.draglayer=ut(r._draggers,"g",M)))})};Ln.rangePlot=function(e,r,t){RL(e,r),LL(e,r,t),Tre.style(e)};function Sre(e){var r=e._fullLayout,t=r._zindices.length,n=r._subplots.cartesian,a=n.length,o,i,l,u,s,f,v=[],p=[];for(o=0;o<a;o++){l=n[o],u=r._plots[l],s=u.xaxis,f=u.yaxis;var b=s._mainAxis,y=f._mainAxis,w=b._id+y._id,M=r._plots[w];u.overlays=[],w!==l&&M?(u.mainplot=w,u.mainplotinfo=M,p.push(l)):(u.mainplot=void 0,u.mainplotinfo=void 0,v.push(l))}for(o=0;o<p.length;o++)l=p[o],u=r._plots[l],u.mainplotinfo.overlays.push(u);var m=v.concat(p),k=[];for(o=0;o<a;o++){l=m[o],u=r._plots[l],s=u.xaxis,f=u.yaxis;for(var S=[],x=1;x<=t;x++){var T="";for(x>1&&(T+=as+x),S.push(l+T),i=0;i<u.overlays.length;i++)S.push(u.overlays[i].id+T)}S=S.concat([s.layer,f.layer,s.overlaying||"",f.overlaying||""]),k.push(S)}return k}function RL(e,r){var t=e._fullLayout,n=r.plotgroup,a=r.id,o=a.indexOf(as),i=o!==-1,l=ui.layerValue2layerClass[r.xaxis.layer],u=ui.layerValue2layerClass[r.yaxis.layer],s=t._hasOnlyLargeSploms,f=t._zindices.length>1,v=r.mainplotinfo;if(!r.mainplot||f)if(s)r.xlines=ut(n,"path","xlines-above"),r.ylines=ut(n,"path","ylines-above"),r.xaxislayer=ut(n,"g","xaxislayer-above"),r.yaxislayer=ut(n,"g","yaxislayer-above");else{if(!i){var p=ut(n,"g","layer-subplot");r.shapelayer=ut(p,"g","shapelayer"),r.imagelayer=ut(p,"g","imagelayer"),v&&f?(r.minorGridlayer=v.minorGridlayer,r.gridlayer=v.gridlayer,r.zerolinelayer=v.zerolinelayer):(r.minorGridlayer=ut(n,"g","minor-gridlayer"),r.gridlayer=ut(n,"g","gridlayer"),r.zerolinelayer=ut(n,"g","zerolinelayer"));var b=ut(n,"g","layer-between");r.shapelayerBetween=ut(b,"g","shapelayer"),r.imagelayerBetween=ut(b,"g","imagelayer"),ut(n,"path","xlines-below"),ut(n,"path","ylines-below"),r.overlinesBelow=ut(n,"g","overlines-below"),ut(n,"g","xaxislayer-below"),ut(n,"g","yaxislayer-below"),r.overaxesBelow=ut(n,"g","overaxes-below")}r.overplot=ut(n,"g","overplot"),r.plot=ut(r.overplot,"g",a),i||(r.xlines=ut(n,"path","xlines-above"),r.ylines=ut(n,"path","ylines-above"),r.overlinesAbove=ut(n,"g","overlines-above"),ut(n,"g","xaxislayer-above"),ut(n,"g","yaxislayer-above"),r.overaxesAbove=ut(n,"g","overaxes-above"),r.xlines=n.select(".xlines-"+l),r.ylines=n.select(".ylines-"+u),r.xaxislayer=n.select(".xaxislayer-"+l),r.yaxislayer=n.select(".yaxislayer-"+u))}else{var y=v.plotgroup,w=a+"-x",M=a+"-y";r.minorGridlayer=v.minorGridlayer,r.gridlayer=v.gridlayer,r.zerolinelayer=v.zerolinelayer,ut(v.overlinesBelow,"path",w),ut(v.overlinesBelow,"path",M),ut(v.overaxesBelow,"g",w),ut(v.overaxesBelow,"g",M),r.plot=ut(v.overplot,"g",a),ut(v.overlinesAbove,"path",w),ut(v.overlinesAbove,"path",M),ut(v.overaxesAbove,"g",w),ut(v.overaxesAbove,"g",M),r.xlines=y.select(".overlines-"+l).select("."+w),r.ylines=y.select(".overlines-"+u).select("."+M),r.xaxislayer=y.select(".overaxes-"+l).select("."+w),r.yaxislayer=y.select(".overaxes-"+u).select("."+M)}i||(s||(L1(r.minorGridlayer,"g",r.xaxis._id),L1(r.minorGridlayer,"g",r.yaxis._id),r.minorGridlayer.selectAll("g").map(function(m){return m[0]}).sort(Qo.idSort),L1(r.gridlayer,"g",r.xaxis._id),L1(r.gridlayer,"g",r.yaxis._id),r.gridlayer.selectAll("g").map(function(m){return m[0]}).sort(Qo.idSort)),r.xlines.style("fill","none").classed("crisp",!0),r.ylines.style("fill","none").classed("crisp",!0))}function DL(e,r){if(e){var t={};e.each(function(u){var s=u[0],f=R1.select(this);f.remove(),PL(s,r),t[s]=!0});for(var n in r._plots)for(var a=r._plots[n],o=a.overlays||[],i=0;i<o.length;i++){var l=o[i];t[l.id]&&l.plot.selectAll(".trace").remove()}}}function PL(e,r){r._draggers.selectAll("g."+e).remove(),r._defs.select("#clip"+r._uid+e+"plot").remove()}Ln.toSVG=function(e){var r=e._fullLayout._glimages,t=R1.select(e).selectAll(".svg-container"),n=t.filter(function(o,i){return i===t.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function a(){var o=this,i=o.toDataURL("image/png"),l=r.append("svg:image");l.attr({xmlns:kre.svg,"xlink:href":i,preserveAspectRatio:"none",x:0,y:0,width:o.style.width,height:o.style.height})}n.each(a)};Ln.updateFx=Fy().updateFx});var IL=pe((jhe,FL)=>{"use strict";var D1=oa();FL.exports={hasLines:D1.hasLines,hasMarkers:D1.hasMarkers,hasText:D1.hasText,isBubble:D1.isBubble,attributes:$l(),layoutAttributes:lv(),supplyDefaults:WC(),crossTraceDefaults:KC(),supplyLayoutDefaults:$C(),calc:sm().calc,crossTraceCalc:AE(),arraysToCalcdata:g1(),plot:OE(),colorbar:UE(),formatLabels:VE(),style:mm().style,styleOnSelect:mm().styleOnSelect,hoverPoints:JE(),selectPoints:$E(),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:km(),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}});var qL=pe((e1e,zL)=>{"use strict";var Cre=it(),Ere=Zr(),NL=ky(),Sm=ir(),Lre=Sm.strScale,Rre=Sm.strRotate,Dre=Sm.strTranslate;zL.exports=function(r,t,n){var a=r.node(),o=NL[n.arrowhead||0],i=NL[n.startarrowhead||0],l=(n.arrowwidth||1)*(n.arrowsize||1),u=(n.arrowwidth||1)*(n.startarrowsize||1),s=t.indexOf("start")>=0,f=t.indexOf("end")>=0,v=o.backoff*l+n.standoff,p=i.backoff*u+n.startstandoff,b,y,w,M;if(a.nodeName==="line"){b={x:+r.attr("x1"),y:+r.attr("y1")},y={x:+r.attr("x2"),y:+r.attr("y2")};var m=b.x-y.x,k=b.y-y.y;if(w=Math.atan2(k,m),M=w+Math.PI,v&&p&&v+p>Math.sqrt(m*m+k*k)){D();return}if(v){if(v*v>m*m+k*k){D();return}var S=v*Math.cos(w),x=v*Math.sin(w);y.x+=S,y.y+=x,r.attr({x2:y.x,y2:y.y})}if(p){if(p*p>m*m+k*k){D();return}var T=p*Math.cos(w),d=p*Math.sin(w);b.x-=T,b.y-=d,r.attr({x1:b.x,y1:b.y})}}else if(a.nodeName==="path"){var _=a.getTotalLength(),g="";if(_<v+p){D();return}var c=a.getPointAtLength(0),A=a.getPointAtLength(.1);w=Math.atan2(c.y-A.y,c.x-A.x),b=a.getPointAtLength(Math.min(p,_)),g="0px,"+p+"px,";var h=a.getPointAtLength(_),R=a.getPointAtLength(_-.1);M=Math.atan2(h.y-R.y,h.x-R.x),y=a.getPointAtLength(Math.max(0,_-v));var E=g?p+v:v;g+=_-E+"px,"+_+"px",r.style("stroke-dasharray",g)}function D(){r.style("stroke-dasharray","0px,100px")}function N(I,F,L,P){I.path&&(I.noRotate&&(L=0),Cre.select(a.parentNode).append("path").attr({class:r.attr("class"),d:I.path,transform:Dre(F.x,F.y)+Rre(L*180/Math.PI)+Lre(P)}).style({fill:Ere.rgb(n.arrowcolor),"stroke-width":0}))}s&&N(i,b,w,u),f&&N(o,y,M,l)}});var P1=pe((r1e,VL)=>{"use strict";var OL=it(),Cm=Er(),Pre=ln(),jo=ir(),Em=jo.strTranslate,A0=St(),is=Zr(),fo=yt(),BL=io(),Lm=Yn(),Rm=Vo(),T0=ti(),Fre=gt().arrayEditor,Ire=qL();VL.exports={draw:Nre,drawOne:UL,drawRaw:HL};function Nre(e){var r=e._fullLayout;r._infolayer.selectAll(".annotation").remove();for(var t=0;t<r.annotations.length;t++)r.annotations[t].visible&&UL(e,t);return Pre.previousPromises(e)}function UL(e,r){var t=e._fullLayout,n=t.annotations[r]||{},a=A0.getFromId(e,n.xref),o=A0.getFromId(e,n.yref);a&&a.setScale(),o&&o.setScale(),HL(e,n,r,!1,a,o)}function $o(e,r,t,n,a){var o=a[t],i=a[t+"ref"],l=t.indexOf("y")!==-1,u=A0.getRefType(i)==="domain",s=l?n.h:n.w;return e?u?o+(l?-r:r)/e._length:e.p2r(e.r2p(o)+r):o+(l?-r:r)/s}function HL(e,r,t,n,a,o){var i=e._fullLayout,l=e._fullLayout._size,u=e._context.edits,s,f;n?(s="annotation-"+n,f=n+".annotations"):(s="annotation",f="annotations");var v=Fre(e.layout,f,r),p=v.modifyBase,b=v.modifyItem,y=v.getUpdateObj;i._infolayer.selectAll("."+s+'[data-index="'+t+'"]').remove();var w="clip"+i._uid+"_ann"+t;if(!r._input||r.visible===!1){OL.selectAll("#"+w).remove();return}var M={x:{},y:{}},m=+r.textangle||0,k=i._infolayer.append("g").classed(s,!0).attr("data-index",String(t)).style("opacity",r.opacity),S=k.append("g").classed("annotation-text-g",!0),x=u[r.showarrow?"annotationTail":"annotationPosition"],T=r.captureevents||u.annotationText||x;function d(P){var O={index:t,annotation:r._input,fullAnnotation:r,event:P};return n&&(O.subplotId=n),O}var _=S.append("g").style("pointer-events",T?"all":null).call(Rm,"pointer").on("click",function(){e._dragging=!1,e.emit("plotly_clickannotation",d(OL.event))});r.hovertext&&_.on("mouseover",function(){var P=r.hoverlabel,O=P.font,U=this.getBoundingClientRect(),X=e.getBoundingClientRect();BL.loneHover({x0:U.left-X.left,x1:U.right-X.left,y:(U.top+U.bottom)/2-X.top,text:r.hovertext,color:P.bgcolor,borderColor:P.bordercolor,fontFamily:O.family,fontSize:O.size,fontColor:O.color,fontWeight:O.weight,fontStyle:O.style,fontVariant:O.variant,fontShadow:O.fontShadow,fontLineposition:O.fontLineposition,fontTextcase:O.fontTextcase},{container:i._hoverlayer.node(),outerContainer:i._paper.node(),gd:e})}).on("mouseout",function(){BL.loneUnhover(i._hoverlayer.node())});var g=r.borderwidth,c=r.borderpad,A=g+c,h=_.append("rect").attr("class","bg").style("stroke-width",g+"px").call(is.stroke,r.bordercolor).call(is.fill,r.bgcolor),R=r.width||r.height,E=i._topclips.selectAll("#"+w).data(R?[0]:[]);E.enter().append("clipPath").classed("annclip",!0).attr("id",w).append("rect"),E.exit().remove();var D=r.font,N=i._meta?jo.templateString(r.text,i._meta):r.text,I=_.append("text").classed("annotation-text",!0).text(N);function F(P){return P.call(fo.font,D).attr({"text-anchor":{left:"start",right:"end"}[r.align]||"middle"}),Lm.convertToTspans(P,e,L),P}function L(){var P=I.selectAll("a");if(P.size()===1&&P.text()===I.text()){var O=_.insert("a",":first-child").attr({"xlink:xlink:href":P.attr("xlink:href"),"xlink:xlink:show":P.attr("xlink:show")}).style({cursor:"pointer"});O.node().appendChild(h.node())}var U=_.select(".annotation-text-math-group"),X=!U.empty(),j=fo.bBox((X?U:I).node()),$=j.width,Y=j.height,q=r.width||$,Z=r.height||Y,ne=Math.round(q+2*A),Q=Math.round(Z+2*A);function oe(Qe,Ve){return Ve==="auto"&&(Qe<1/3?Ve="left":Qe>2/3?Ve="right":Ve="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Ve]}for(var ee=!1,G=["x","y"],re=0;re<G.length;re++){var H=G[re],te=r[H+"ref"]||H,ue=r["a"+H+"ref"],de={x:a,y:o}[H],Ee=(m+(H==="x"?0:-90))*Math.PI/180,Me=ne*Math.cos(Ee),ve=Q*Math.sin(Ee),Ae=Math.abs(Me)+Math.abs(ve),ke=r[H+"anchor"],De=r[H+"shift"]*(H==="x"?1:-1),Ce=M[H],Oe,Ue,ge,Te,ce,ye=A0.getRefType(te);if(de&&ye!=="domain"){var Le=de.r2fraction(r[H]);(Le<0||Le>1)&&(ue===te?(Le=de.r2fraction(r["a"+H]),(Le<0||Le>1)&&(ee=!0)):ee=!0),Oe=de._offset+de.r2p(r[H]),Te=.5}else{var me=ye==="domain";H==="x"?(ge=r[H],Oe=me?de._offset+de._length*ge:Oe=l.l+l.w*ge):(ge=1-r[H],Oe=me?de._offset+de._length*ge:Oe=l.t+l.h*ge),Te=r.showarrow?.5:ge}if(r.showarrow){Ce.head=Oe;var he=r["a"+H];if(ce=Me*oe(.5,r.xanchor)-ve*oe(.5,r.yanchor),ue===te){var be=A0.getRefType(ue);be==="domain"?(H==="y"&&(he=1-he),Ce.tail=de._offset+de._length*he):be==="paper"?H==="y"?(he=1-he,Ce.tail=l.t+l.h*he):Ce.tail=l.l+l.w*he:Ce.tail=de._offset+de.r2p(he),Ue=ce}else Ce.tail=Oe+he,Ue=ce+he;Ce.text=Ce.tail+ce;var Se=i[H==="x"?"width":"height"];if(te==="paper"&&(Ce.head=jo.constrain(Ce.head,1,Se-1)),ue==="pixel"){var ze=-Math.max(Ce.tail-3,Ce.text),Fe=Math.min(Ce.tail+3,Ce.text)-Se;ze>0?(Ce.tail+=ze,Ce.text+=ze):Fe>0&&(Ce.tail-=Fe,Ce.text-=Fe)}Ce.tail+=De,Ce.head+=De}else ce=Ae*oe(Te,ke),Ue=ce,Ce.text=Oe+ce;Ce.text+=De,ce+=De,Ue+=De,r["_"+H+"padplus"]=Ae/2+Ue,r["_"+H+"padminus"]=Ae/2-Ue,r["_"+H+"size"]=Ae,r["_"+H+"shift"]=ce}if(ee){_.remove();return}var Ze=0,Ye=0;if(r.align!=="left"&&(Ze=(q-$)*(r.align==="center"?.5:1)),r.valign!=="top"&&(Ye=(Z-Y)*(r.valign==="middle"?.5:1)),X)U.select("svg").attr({x:A+Ze-1,y:A+Ye}).call(fo.setClipUrl,R?w:null,e);else{var Ge=A+Ye-j.top,We=A+Ze-j.left;I.call(Lm.positionText,We,Ge).call(fo.setClipUrl,R?w:null,e)}E.select("rect").call(fo.setRect,A,A,q,Z),h.call(fo.setRect,g/2,g/2,ne-g,Q-g),_.call(fo.setTranslate,Math.round(M.x.text-ne/2),Math.round(M.y.text-Q/2)),S.attr({transform:"rotate("+m+","+M.x.text+","+M.y.text+")"});var we=function(Qe,Ve){k.selectAll(".annotation-arrow-g").remove();var ar=M.x.head,se=M.y.head,K=M.x.tail+Qe,ae=M.y.tail+Ve,Re=M.x.text+Qe,Be=M.y.text+Ve,je=jo.rotationXYMatrix(m,Re,Be),nr=jo.apply2DTransform(je),hr=jo.apply2DTransform2(je),wr=+h.attr("width"),Cr=+h.attr("height"),Tr=Re-.5*wr,Ar=Tr+wr,ft=Be-.5*Cr,Yr=ft+Cr,mr=[[Tr,ft,Tr,Yr],[Tr,Yr,Ar,Yr],[Ar,Yr,Ar,ft],[Ar,ft,Tr,ft]].map(hr);if(!mr.reduce(function(nt,Ft){return nt^!!jo.segmentsIntersect(ar,se,ar+1e6,se+1e6,Ft[0],Ft[1],Ft[2],Ft[3])},!1)){mr.forEach(function(nt){var Ft=jo.segmentsIntersect(K,ae,ar,se,nt[0],nt[1],nt[2],nt[3]);Ft&&(K=Ft.x,ae=Ft.y)});var ct=r.arrowwidth,Sr=r.arrowcolor,Ur=r.arrowside,xt=k.append("g").style({opacity:is.opacity(Sr)}).classed("annotation-arrow-g",!0),zr=xt.append("path").attr("d","M"+K+","+ae+"L"+ar+","+se).style("stroke-width",ct+"px").call(is.stroke,is.rgb(Sr));if(Ire(zr,Ur,r),u.annotationPosition&&zr.node().parentNode&&!n){var Hr=ar,Ot=se;if(r.standoff){var Lt=Math.sqrt(Math.pow(ar-K,2)+Math.pow(se-ae,2));Hr+=r.standoff*(K-ar)/Lt,Ot+=r.standoff*(ae-se)/Lt}var yn=xt.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(K-Hr)+","+(ae-Ot),transform:Em(Hr,Ot)}).style("stroke-width",ct+6+"px").call(is.stroke,"rgba(0,0,0,0)").call(is.fill,"rgba(0,0,0,0)"),Gt,Rt;T0.init({element:yn.node(),gd:e,prepFn:function(){var nt=fo.getTranslate(_);Gt=nt.x,Rt=nt.y,a&&a.autorange&&p(a._name+".autorange",!0),o&&o.autorange&&p(o._name+".autorange",!0)},moveFn:function(nt,Ft){var ha=nr(Gt,Rt),Qn=ha[0]+nt,Fn=ha[1]+Ft;_.call(fo.setTranslate,Qn,Fn),b("x",$o(a,nt,"x",l,r)),b("y",$o(o,Ft,"y",l,r)),r.axref===r.xref&&b("ax",$o(a,nt,"ax",l,r)),r.ayref===r.yref&&b("ay",$o(o,Ft,"ay",l,r)),xt.attr("transform",Em(nt,Ft)),S.attr({transform:"rotate("+m+","+Qn+","+Fn+")"})},doneFn:function(){Cm.call("_guiRelayout",e,y());var nt=document.querySelector(".js-notes-box-panel");nt&&nt.redraw(nt.selectedObj)}})}}};if(r.showarrow&&we(0,0),x){var Pe;T0.init({element:_.node(),gd:e,prepFn:function(){Pe=S.attr("transform")},moveFn:function(Qe,Ve){var ar="pointer";if(r.showarrow)r.axref===r.xref?b("ax",$o(a,Qe,"ax",l,r)):b("ax",r.ax+Qe),r.ayref===r.yref?b("ay",$o(o,Ve,"ay",l.w,r)):b("ay",r.ay+Ve),we(Qe,Ve);else{if(n)return;var se,K;if(a)se=$o(a,Qe,"x",l,r);else{var ae=r._xsize/l.w,Re=r.x+(r._xshift-r.xshift)/l.w-ae/2;se=T0.align(Re+Qe/l.w,ae,0,1,r.xanchor)}if(o)K=$o(o,Ve,"y",l,r);else{var Be=r._ysize/l.h,je=r.y-(r._yshift+r.yshift)/l.h-Be/2;K=T0.align(je-Ve/l.h,Be,0,1,r.yanchor)}b("x",se),b("y",K),(!a||!o)&&(ar=T0.getCursor(a?.5:se,o?.5:K,r.xanchor,r.yanchor))}S.attr({transform:Em(Qe,Ve)+Pe}),Rm(_,ar)},clickFn:function(Qe,Ve){r.captureevents&&e.emit("plotly_clickannotation",d(Ve))},doneFn:function(){Rm(_),Cm.call("_guiRelayout",e,y());var Qe=document.querySelector(".js-notes-box-panel");Qe&&Qe.redraw(Qe.selectedObj)}})}}u.annotationText?I.call(Lm.makeEditable,{delegate:_,gd:e}).call(F).on("edit",function(P){r.text=P,this.call(F),b("text",P),a&&a.autorange&&p(a._name+".autorange",!0),o&&o.autorange&&p(o._name+".autorange",!0),Cm.call("_guiRelayout",e,y())}):I.call(F)}});var JL=pe((t1e,ZL)=>{"use strict";var GL=ir(),zre=Er(),YL=gt().arrayEditor;ZL.exports={hasClickToShow:qre,onClick:Ore};function qre(e,r){var t=XL(e,r);return t.on.length>0||t.explicitOff.length>0}function Ore(e,r){var t=XL(e,r),n=t.on,a=t.off.concat(t.explicitOff),o={},i=e._fullLayout.annotations,l,u;if(n.length||a.length){for(l=0;l<n.length;l++)u=YL(e.layout,"annotations",i[n[l]]),u.modifyItem("visible",!0),GL.extendFlat(o,u.getUpdateObj());for(l=0;l<a.length;l++)u=YL(e.layout,"annotations",i[a[l]]),u.modifyItem("visible",!1),GL.extendFlat(o,u.getUpdateObj());return zre.call("update",e,{},o)}}function XL(e,r){var t=e._fullLayout.annotations,n=[],a=[],o=[],i=(r||[]).length,l,u,s,f,v,p,b,y;for(l=0;l<t.length;l++)if(s=t[l],f=s.clicktoshow,f){for(u=0;u<i;u++)if(v=r[u],p=v.xaxis,b=v.yaxis,p._id===s.xref&&b._id===s.yref&&p.d2r(v.x)===WL(s._xclick,p)&&b.d2r(v.y)===WL(s._yclick,b)){s.visible?f==="onout"?y=a:y=o:y=n,y.push(l);break}u===i&&s.visible&&f==="onout"&&a.push(l)}return{on:n,off:a,explicitOff:o}}function WL(e,r){return r.type==="log"?r.l2r(e):r.d2r(e)}});var Pm=pe((n1e,KL)=>{"use strict";var Dm=ir(),Su=Zr();KL.exports=function(r,t,n,a){a("opacity");var o=a("bgcolor"),i=a("bordercolor"),l=Su.opacity(i);a("borderpad");var u=a("borderwidth"),s=a("showarrow");a("text",s?" ":n._dfltTitle.annotation),a("textangle"),Dm.coerceFont(a,"font",n.font),a("width"),a("align");var f=a("height");if(f&&a("valign"),s){var v=a("arrowside"),p,b;v.indexOf("end")!==-1&&(p=a("arrowhead"),b=a("arrowsize")),v.indexOf("start")!==-1&&(a("startarrowhead",p),a("startarrowsize",b)),a("arrowcolor",l?t.bordercolor:Su.defaultLine),a("arrowwidth",(l&&u||1)*2),a("standoff"),a("startstandoff")}var y=a("hovertext"),w=n.hoverlabel||{};if(y){var M=a("hoverlabel.bgcolor",w.bgcolor||(Su.opacity(o)?Su.rgb(o):Su.defaultLine)),m=a("hoverlabel.bordercolor",w.bordercolor||Su.contrast(M)),k=Dm.extendFlat({},w.font);k.color||(k.color=m),Dm.coerceFont(a,"hoverlabel.font",k)}a("captureevents",!!y)}});var $L=pe((a1e,QL)=>{"use strict";var Fm=ir(),os=St(),Bre=ei(),Ure=Pm(),Hre=yu();QL.exports=function(r,t){Bre(r,t,{name:"annotations",handleItemDefaults:Vre})};function Vre(e,r,t){function n(S,x){return Fm.coerce(e,r,Hre,S,x)}var a=n("visible"),o=n("clicktoshow");if(a||o){Ure(e,r,t,n);for(var i=r.showarrow,l=["x","y"],u=[-10,-30],s={_fullLayout:t},f=0;f<2;f++){var v=l[f],p=os.coerceRef(e,r,s,v,"","paper");if(p!=="paper"){var b=os.getFromId(s,p);b._annIndices.push(r._index)}if(os.coercePosition(r,s,n,p,v,.5),i){var y="a"+v,w=os.coerceRef(e,r,s,y,"pixel",["pixel","paper"]);w!=="pixel"&&w!==p&&(w=r[y]="pixel");var M=w==="pixel"?u[f]:.4;os.coercePosition(r,s,n,w,y,M)}n(v+"anchor"),n(v+"shift")}if(Fm.noneOrAll(e,r,["x","y"]),i&&Fm.noneOrAll(e,r,["ax","ay"]),o){var m=n("xclick"),k=n("yclick");r._xclick=m===void 0?r.x:os.cleanPosition(m,s,r.xref),r._yclick=k===void 0?r.y:os.cleanPosition(k,s,r.yref)}}}});var rR=pe((i1e,eR)=>{"use strict";var Im=ir(),ls=St(),Gre=P1().draw;eR.exports=function(r){var t=r._fullLayout,n=Im.filterVisible(t.annotations);if(n.length&&r._fullData.length)return Im.syncOrAsync([Gre,Yre],r)};function Yre(e){var r=e._fullLayout;Im.filterVisible(r.annotations).forEach(function(t){var n=ls.getFromId(e,t.xref),a=ls.getFromId(e,t.yref),o=ls.getRefType(t.xref),i=ls.getRefType(t.yref);t._extremes={},o==="range"&&jL(t,n),i==="range"&&jL(t,a)})}function jL(e,r){var t=r._id,n=t.charAt(0),a=e[n],o=e["a"+n],i=e[n+"ref"],l=e["a"+n+"ref"],u=e["_"+n+"padplus"],s=e["_"+n+"padminus"],f={x:1,y:-1}[n]*e[n+"shift"],v=3*e.arrowsize*e.arrowwidth||0,p=v+f,b=v-f,y=3*e.startarrowsize*e.arrowwidth||0,w=y+f,M=y-f,m;if(l===i){var k=ls.findExtremes(r,[r.r2c(a)],{ppadplus:p,ppadminus:b}),S=ls.findExtremes(r,[r.r2c(o)],{ppadplus:Math.max(u,w),ppadminus:Math.max(s,M)});m={min:[k.min[0],S.min[0]],max:[k.max[0],S.max[0]]}}else w=o?w+o:w,M=o?M-o:M,m=ls.findExtremes(r,[r.r2c(a)],{ppadplus:Math.max(u,p,w),ppadminus:Math.max(s,b,M)});e._extremes[t]=m}});var nR=pe((o1e,tR)=>{"use strict";var Wre=rt(),Xre=Ac();tR.exports=function(r,t,n,a){t=t||{};var o=n==="log"&&t.type==="linear",i=n==="linear"&&t.type==="log";if(!(o||i))return;var l=r._fullLayout.annotations,u=t._id.charAt(0),s,f;function v(b){var y=s[b],w=null;o?w=Xre(y,t.range):w=Math.pow(10,y),Wre(w)||(w=null),a(f+b,w)}for(var p=0;p<l.length;p++)s=l[p],f="annotations["+p+"].",s[u+"ref"]===t._id&&v(u),s["a"+u+"ref"]===t._id&&v("a"+u)}});var oR=pe((l1e,iR)=>{"use strict";var Nm=P1(),aR=JL();iR.exports={moduleType:"component",name:"annotations",layoutAttributes:yu(),supplyLayoutDefaults:$L(),includeBasePlot:o0()("annotations"),calcAutorange:rR(),draw:Nm.draw,drawOne:Nm.drawOne,drawRaw:Nm.drawRaw,hasClickToShow:aR.hasClickToShow,onClick:aR.onClick,convertCoords:nR()}});var F1=pe((s1e,lR)=>{"use strict";var wt=yu(),Zre=zn().overrideAll,Jre=gt().templatedArray;lR.exports=Zre(Jre("annotation",{visible:wt.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:wt.xanchor,xshift:wt.xshift,yanchor:wt.yanchor,yshift:wt.yshift,text:wt.text,textangle:wt.textangle,font:wt.font,width:wt.width,height:wt.height,opacity:wt.opacity,align:wt.align,valign:wt.valign,bgcolor:wt.bgcolor,bordercolor:wt.bordercolor,borderpad:wt.borderpad,borderwidth:wt.borderwidth,showarrow:wt.showarrow,arrowcolor:wt.arrowcolor,arrowhead:wt.arrowhead,startarrowhead:wt.startarrowhead,arrowside:wt.arrowside,arrowsize:wt.arrowsize,startarrowsize:wt.startarrowsize,arrowwidth:wt.arrowwidth,standoff:wt.standoff,startstandoff:wt.startstandoff,hovertext:wt.hovertext,hoverlabel:wt.hoverlabel,captureevents:wt.captureevents}),"calc","from-root")});var uR=pe((u1e,sR)=>{"use strict";var zm=ir(),Kre=St(),Qre=ei(),$re=Pm(),jre=F1();sR.exports=function(r,t,n){Qre(r,t,{name:"annotations",handleItemDefaults:ete,fullLayout:n.fullLayout})};function ete(e,r,t,n){function a(l,u){return zm.coerce(e,r,jre,l,u)}function o(l){var u=l+"axis",s={_fullLayout:{}};return s._fullLayout[u]=t[u],Kre.coercePosition(r,s,a,l,l,.5)}var i=a("visible");i&&($re(e,r,n.fullLayout,a),o("x"),o("y"),o("z"),zm.noneOrAll(e,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",a("xanchor"),a("yanchor"),a("xshift"),a("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",a("ax",-10),a("ay",-30),zm.noneOrAll(e,r,["ax","ay"])))}});var hR=pe((f1e,vR)=>{"use strict";var fR=ir(),cR=St();vR.exports=function(r){for(var t=r.fullSceneLayout,n=t.annotations,a=0;a<n.length;a++)rte(n[a],r);r.fullLayout._infolayer.selectAll(".annotation-"+r.id).remove()};function rte(e,r){var t=r.fullSceneLayout,n=t.domain,a=r.fullLayout._size,o={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};e._xa={},fR.extendFlat(e._xa,o),cR.setConvert(e._xa),e._xa._offset=a.l+n.x[0]*a.w,e._xa.l2p=function(){return .5*(1+e._pdata[0]/e._pdata[3])*a.w*(n.x[1]-n.x[0])},e._ya={},fR.extendFlat(e._ya,o),cR.setConvert(e._ya),e._ya._offset=a.t+(1-n.y[1])*a.h,e._ya.l2p=function(){return .5*(1-e._pdata[1]/e._pdata[3])*a.h*(n.y[1]-n.y[0])}}});var Om=pe((c1e,dR)=>{"use strict";function qm(e,r){var t=[0,0,0,0],n,a;for(n=0;n<4;++n)for(a=0;a<4;++a)t[a]+=e[4*n+a]*r[n];return t}function tte(e,r){var t=qm(e.projection,qm(e.view,qm(e.model,[r[0],r[1],r[2],1])));return t}dR.exports=tte});var gR=pe((v1e,pR)=>{"use strict";var nte=P1().drawRaw,ate=Om(),ite=["x","y","z"];pR.exports=function(r){for(var t=r.fullSceneLayout,n=r.dataScale,a=t.annotations,o=0;o<a.length;o++){for(var i=a[o],l=!1,u=0;u<3;u++){var s=ite[u],f=i[s],v=t[s+"axis"],p=v.r2fraction(f);if(p<0||p>1){l=!0;break}}l?r.fullLayout._infolayer.select(".annotation-"+r.id+'[data-index="'+o+'"]').remove():(i._pdata=ate(r.glplot.cameraParams,[t.xaxis.r2l(i.x)*n[0],t.yaxis.r2l(i.y)*n[1],t.zaxis.r2l(i.z)*n[2]]),nte(r.graphDiv,i,o,r.id,i._xa,i._ya))}}});var xR=pe((h1e,mR)=>{"use strict";var ote=Er(),yR=ir();mR.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:F1()}}},layoutAttributes:F1(),handleDefaults:uR(),includeBasePlot:lte,convert:hR(),draw:gR()};function lte(e,r){var t=ote.subplotsRegistry.gl3d;if(t)for(var n=t.attrRegex,a=Object.keys(e),o=0;o<a.length;o++){var i=a[o];n.test(i)&&(e[i].annotations||[]).length&&(yR.pushUnique(r._basePlotModules,t),yR.pushUnique(r._subplots.gl3d,i))}}});var Bm=pe((p1e,MR)=>{"use strict";var bR=yu(),_R=kn(),wR=$l().line,ste=Ao().dash,fi=Mt().extendFlat,ute=gt().templatedArray,d1e=i0(),Cu=Sn(),fte=Sa().shapeTexttemplateAttrs,cte=Oc();MR.exports=ute("shape",{visible:fi({},Cu.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:fi({},Cu.legend,{editType:"calc+arraydraw"}),legendgroup:fi({},Cu.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:fi({},Cu.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:_R({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:fi({},Cu.legendrank,{editType:"calc+arraydraw"}),legendwidth:fi({},Cu.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:fi({},bR.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},yref:fi({},bR.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:fi({},wR.color,{editType:"arraydraw"}),width:fi({},wR.width,{editType:"calc+arraydraw"}),dash:fi({},ste,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:fte({},{keys:Object.keys(cte)}),font:_R({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})});var kR=pe((g1e,AR)=>{"use strict";var k0=ir(),Eu=St(),vte=ei(),hte=Bm(),TR=Wo();AR.exports=function(r,t){vte(r,t,{name:"shapes",handleItemDefaults:pte})};function dte(e,r){return e?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}function pte(e,r,t){function n(P,O){return k0.coerce(e,r,hte,P,O)}r._isShape=!0;var a=n("visible");if(a){var o=n("showlegend");o&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),k0.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var i=n("path"),l=i?"path":"rect",u=n("type",l),s=u!=="path";s&&delete r.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var f=n("line.width");f&&(n("line.color"),n("line.dash"));for(var v=n("xsizemode"),p=n("ysizemode"),b=["x","y"],y=0;y<2;y++){var w=b[y],M=w+"anchor",m=w==="x"?v:p,k={_fullLayout:t},S,x,T,d=Eu.coerceRef(e,r,k,w,void 0,"paper"),_=Eu.getRefType(d);if(_==="range"?(S=Eu.getFromId(k,d),S._shapeIndices.push(r._index),T=TR.rangeToShapePosition(S),x=TR.shapePositionToRange(S),(S.type==="category"||S.type==="multicategory")&&(n(w+"0shift"),n(w+"1shift"))):x=T=k0.identity,s){var g=.25,c=.75,A=w+"0",h=w+"1",R=e[A],E=e[h];e[A]=x(e[A],!0),e[h]=x(e[h],!0),m==="pixel"?(n(A,0),n(h,10)):(Eu.coercePosition(r,k,n,d,A,g),Eu.coercePosition(r,k,n,d,h,c)),r[A]=T(r[A]),r[h]=T(r[h]),e[A]=R,e[h]=E}if(m==="pixel"){var D=e[M];e[M]=x(e[M],!0),Eu.coercePosition(r,k,n,d,M,.25),r[M]=T(r[M]),e[M]=D}}s&&k0.noneOrAll(e,r,["x0","x1","y0","y1"]);var N=u==="line",I,F;if(s&&(I=n("label.texttemplate")),I||(F=n("label.text")),F||I){n("label.textangle");var L=n("label.textposition",N?"middle":"middle center");n("label.xanchor"),n("label.yanchor",dte(N,L)),n("label.padding"),k0.coerceFont(n,"label.font",t.font)}}}});var ER=pe((y1e,CR)=>{"use strict";var gte=Zr(),SR=ir();function yte(e,r){return e?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}CR.exports=function(r,t,n){n("newshape.visible"),n("newshape.name"),n("newshape.showlegend"),n("newshape.legend"),n("newshape.legendwidth"),n("newshape.legendgroup"),n("newshape.legendgrouptitle.text"),SR.coerceFont(n,"newshape.legendgrouptitle.font"),n("newshape.legendrank"),n("newshape.drawdirection"),n("newshape.layer"),n("newshape.fillcolor"),n("newshape.fillrule"),n("newshape.opacity");var a=n("newshape.line.width");if(a){var o=(r||{}).plot_bgcolor||"#FFF";n("newshape.line.color",gte.contrast(o)),n("newshape.line.dash")}var i=r.dragmode==="drawline",l=n("newshape.label.text"),u=n("newshape.label.texttemplate");if(l||u){n("newshape.label.textangle");var s=n("newshape.label.textposition",i?"middle":"middle center");n("newshape.label.xanchor"),n("newshape.label.yanchor",yte(i,s)),n("newshape.label.padding"),SR.coerceFont(n,"newshape.label.font",t.font)}n("activeshape.fillcolor"),n("activeshape.opacity")}});var FR=pe((m1e,PR)=>{"use strict";var Um=ir(),Lu=St(),Ru=Of(),RR=Wo();PR.exports=function(r){var t=r._fullLayout,n=Um.filterVisible(t.shapes);if(!(!n.length||!r._fullData.length))for(var a=0;a<n.length;a++){var o=n[a];o._extremes={};var i,l,u=Lu.getRefType(o.xref),s=Lu.getRefType(o.yref);o.xref!=="paper"&&u!=="domain"&&(i=Lu.getFromId(r,o.xref),l=LR(i,o,Ru.paramIsX),l&&(o._extremes[i._id]=Lu.findExtremes(i,l,mte(o)))),o.yref!=="paper"&&s!=="domain"&&(i=Lu.getFromId(r,o.yref),l=LR(i,o,Ru.paramIsY),l&&(o._extremes[i._id]=Lu.findExtremes(i,l,xte(o))))}};function mte(e){return DR(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function xte(e){return DR(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function DR(e,r,t,n,a,o){var i=e/2,l=o;if(r==="pixel"){var u=a?RR.extractPathCoords(a,o?Ru.paramIsY:Ru.paramIsX):[t,n],s=Um.aggNums(Math.max,null,u),f=Um.aggNums(Math.min,null,u),v=f<0?Math.abs(f)+i:i,p=s>0?s+i:i;return{ppad:i,ppadplus:l?v:p,ppadminus:l?p:v}}else return{ppad:i}}function LR(e,r,t){var n=e._id.charAt(0)==="x"?"x":"y",a=e.type==="category"||e.type==="multicategory",o,i,l=0,u=0,s=a?e.r2c:e.d2c,f=r[n+"sizemode"]==="scaled";if(f?(o=r[n+"0"],i=r[n+"1"],a&&(l=r[n+"0shift"],u=r[n+"1shift"])):(o=r[n+"anchor"],i=r[n+"anchor"]),o!==void 0)return[s(o)+l,s(i)+u];if(r.path){var v=1/0,p=-1/0,b=r.path.match(Ru.segmentRE),y,w,M,m,k;for(e.type==="date"&&(s=RR.decodeDate(s)),y=0;y<b.length;y++)w=b[y],M=t[w.charAt(0)].drawn,M!==void 0&&(m=b[y].substr(1).match(Ru.paramRE),!(!m||m.length<M)&&(k=s(m[M]),k<v&&(v=k),k>p&&(p=k)));if(p>=v)return[v,p]}}});var zR=pe((x1e,NR)=>{"use strict";var IR=Th();NR.exports={moduleType:"component",name:"shapes",layoutAttributes:Bm(),supplyLayoutDefaults:kR(),supplyDrawNewShapeDefaults:ER(),includeBasePlot:o0()("shapes"),calcAutorange:FR(),draw:IR.draw,drawOne:IR.drawOne}});var Hm=pe((_1e,OR)=>{"use strict";var qR=wn(),bte=gt().templatedArray,b1e=i0();OR.exports=bte("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",qR.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",qR.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})});var UR=pe((w1e,BR)=>{"use strict";var _te=ir(),Vm=St(),wte=ei(),Mte=Hm(),Tte="images";BR.exports=function(r,t){var n={name:Tte,handleItemDefaults:Ate};wte(r,t,n)};function Ate(e,r,t){function n(p,b){return _te.coerce(e,r,Mte,p,b)}var a=n("source"),o=n("visible",!!a);if(!o)return r;n("layer"),n("xanchor"),n("yanchor"),n("sizex"),n("sizey"),n("sizing"),n("opacity");for(var i={_fullLayout:t},l=["x","y"],u=0;u<2;u++){var s=l[u],f=Vm.coerceRef(e,r,i,s,"paper",void 0);if(f!=="paper"){var v=Vm.getFromId(i,f);v._imgIndices.push(r._index)}Vm.coercePosition(r,i,n,f,s,0)}return r}});var YR=pe((M1e,GR)=>{"use strict";var HR=it(),kte=yt(),Du=St(),VR=on(),Ste=Io();GR.exports=function(r){var t=r._fullLayout,n=[],a={},o=[],i,l;for(l=0;l<t.images.length;l++){var u=t.images[l];if(u.visible)if(u.layer==="below"&&u.xref!=="paper"&&u.yref!=="paper"){i=VR.ref2id(u.xref)+VR.ref2id(u.yref);var s=t._plots[i];if(!s){o.push(u);continue}s.mainplot&&(i=s.mainplot.id),a[i]||(a[i]=[]),a[i].push(u)}else u.layer==="above"?n.push(u):o.push(u)}var f={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function v(x){var T=HR.select(this);if(this._imgSrc!==x.source)if(T.attr("xmlns",Ste.svg),!r._context.staticPlot||x.source&&x.source.slice(0,5)==="data:")T.attr("xlink:href",x.source),this._imgSrc=x.source;else{var d=new Promise(function(_){var g=new Image;this.img=g,g.setAttribute("crossOrigin","anonymous"),g.onerror=c,g.onload=function(){var A=document.createElement("canvas");A.width=this.width,A.height=this.height;var h=A.getContext("2d",{willReadFrequently:!0});h.drawImage(this,0,0);var R=A.toDataURL("image/png");T.attr("xlink:href",R),_()},T.on("error",c),g.src=x.source,this._imgSrc=x.source;function c(){T.remove(),_()}}.bind(this));r._promises.push(d)}}function p(x){var T=HR.select(this),d=Du.getFromId(r,x.xref),_=Du.getFromId(r,x.yref),g=Du.getRefType(x.xref)==="domain",c=Du.getRefType(x.yref)==="domain",A=t._size,h,R;d!==void 0?h=typeof x.xref=="string"&&g?d._length*x.sizex:Math.abs(d.l2p(x.sizex)-d.l2p(0)):h=x.sizex*A.w,_!==void 0?R=typeof x.yref=="string"&&c?_._length*x.sizey:Math.abs(_.l2p(x.sizey)-_.l2p(0)):R=x.sizey*A.h;var E=h*f.x[x.xanchor].offset,D=R*f.y[x.yanchor].offset,N=f.x[x.xanchor].sizing+f.y[x.yanchor].sizing,I,F;switch(d!==void 0?I=typeof x.xref=="string"&&g?d._length*x.x+d._offset:d.r2p(x.x)+d._offset:I=x.x*A.w+A.l,I+=E,_!==void 0?F=typeof x.yref=="string"&&c?_._length*(1-x.y)+_._offset:_.r2p(x.y)+_._offset:F=A.h-x.y*A.h+A.t,F+=D,x.sizing){case"fill":N+=" slice";break;case"stretch":N="none";break}T.attr({x:I,y:F,width:h,height:R,preserveAspectRatio:N,opacity:x.opacity});var L=d&&Du.getRefType(x.xref)!=="domain"?d._id:"",P=_&&Du.getRefType(x.yref)!=="domain"?_._id:"",O=L+P;kte.setClipUrl(T,O?"clip"+t._uid+O:null,r)}function b(x){return[x.xref,x.x,x.sizex,x.yref,x.y,x.sizey].join("_")}function y(x,T){return x._index-T._index}var w=t._imageLowerLayer.selectAll("image").data(o,b),M=t._imageUpperLayer.selectAll("image").data(n,b);w.enter().append("image"),M.enter().append("image"),w.exit().remove(),M.exit().remove(),w.each(function(x){v.bind(this)(x),p.bind(this)(x)}),M.each(function(x){v.bind(this)(x),p.bind(this)(x)}),w.sort(y),M.sort(y);var m=Object.keys(t._plots);for(l=0;l<m.length;l++){i=m[l];var k=t._plots[i];if(k.imagelayer){var S=k.imagelayer.selectAll("image").data(a[i]||[],b);S.enter().append("image"),S.exit().remove(),S.each(function(x){v.bind(this)(x),p.bind(this)(x)}),S.sort(y)}}}});var ZR=pe((T1e,XR)=>{"use strict";var WR=rt(),Cte=Ac();XR.exports=function(r,t,n,a){t=t||{};var o=n==="log"&&t.type==="linear",i=n==="linear"&&t.type==="log";if(o||i){for(var l=r._fullLayout.images,u=t._id.charAt(0),s,f,v=0;v<l.length;v++)if(s=l[v],f="images["+v+"].",s[u+"ref"]===t._id){var p=s[u],b=s["size"+u],y=null,w=null;if(o){y=Cte(p,t.range);var M=b/Math.pow(10,y)/2;w=2*Math.log(M+Math.sqrt(1+M*M))/Math.LN10}else y=Math.pow(10,p),w=y*(Math.pow(10,b/2)-Math.pow(10,-b/2));WR(y)?WR(w)||(w=null):(y=null,w=null),a(f+u,y),a(f+"size"+u,w)}}}});var KR=pe((A1e,JR)=>{"use strict";JR.exports={moduleType:"component",name:"images",layoutAttributes:Hm(),supplyLayoutDefaults:UR(),includeBasePlot:o0()("images"),draw:YR(),convertCoords:ZR()}});var I1=pe((k1e,QR)=>{"use strict";QR.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25C4",right:"\u25BA",up:"\u25B2",down:"\u25BC"}}});var Gm=pe((S1e,jR)=>{"use strict";var Ete=kn(),Lte=Ti(),Rte=Mt().extendFlat,Dte=zn().overrideAll,Pte=Bc(),$R=gt().templatedArray,Fte=$R("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});jR.exports=Dte($R("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:Fte,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:Rte(Pte({editType:"arraydraw"}),{}),font:Ete({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:Lte.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")});var nD=pe((C1e,tD)=>{"use strict";var N1=ir(),eD=ei(),rD=Gm(),Ite=I1(),Nte=Ite.name,zte=rD.buttons;tD.exports=function(r,t){var n={name:Nte,handleItemDefaults:qte};eD(r,t,n)};function qte(e,r,t){function n(i,l){return N1.coerce(e,r,rD,i,l)}var a=eD(e,r,{name:"buttons",handleItemDefaults:Ote}),o=n("visible",a.length>0);o&&(n("active"),n("direction"),n("type"),n("showactive"),n("x"),n("y"),N1.noneOrAll(e,r,["x","y"]),n("xanchor"),n("yanchor"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),N1.coerceFont(n,"font",t.font),n("bgcolor",t.paper_bgcolor),n("bordercolor"),n("borderwidth"))}function Ote(e,r){function t(a,o){return N1.coerce(e,r,zte,a,o)}var n=t("visible",e.method==="skip"||Array.isArray(e.args));n&&(t("method"),t("args"),t("args2"),t("label"),t("execute"))}});var oD=pe((E1e,iD)=>{"use strict";iD.exports=Dt;var ci=it(),aD=Zr(),Pu=yt(),z1=ir();function Dt(e,r,t){this.gd=e,this.container=r,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}Dt.barWidth=2;Dt.barLength=20;Dt.barRadius=2;Dt.barPad=1;Dt.barColor="#808BA4";Dt.prototype.enable=function(r,t,n){var a=this.gd._fullLayout,o=a.width,i=a.height;this.position=r;var l=this.position.l,u=this.position.w,s=this.position.t,f=this.position.h,v=this.position.direction,p=v==="down",b=v==="left",y=v==="right",w=v==="up",M=u,m=f,k,S,x,T;!p&&!b&&!y&&!w&&(this.position.direction="down",p=!0);var d=p||w;d?(k=l,S=k+M,p?(x=s,T=Math.min(x+m,i),m=T-x):(T=s+m,x=Math.max(T-m,0),m=T-x)):(x=s,T=x+m,b?(S=l+M,k=Math.max(S-M,0),M=S-k):(k=l,S=Math.min(k+M,o),M=S-k)),this._box={l:k,t:x,w:M,h:m};var _=u>M,g=Dt.barLength+2*Dt.barPad,c=Dt.barWidth+2*Dt.barPad,A=l,h=s+f;h+c>i&&(h=i-c);var R=this.container.selectAll("rect.scrollbar-horizontal").data(_?[0]:[]);R.exit().on(".drag",null).remove(),R.enter().append("rect").classed("scrollbar-horizontal",!0).call(aD.fill,Dt.barColor),_?(this.hbar=R.attr({rx:Dt.barRadius,ry:Dt.barRadius,x:A,y:h,width:g,height:c}),this._hbarXMin=A+g/2,this._hbarTranslateMax=M-g):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var E=f>m,D=Dt.barWidth+2*Dt.barPad,N=Dt.barLength+2*Dt.barPad,I=l+u,F=s;I+D>o&&(I=o-D);var L=this.container.selectAll("rect.scrollbar-vertical").data(E?[0]:[]);L.exit().on(".drag",null).remove(),L.enter().append("rect").classed("scrollbar-vertical",!0).call(aD.fill,Dt.barColor),E?(this.vbar=L.attr({rx:Dt.barRadius,ry:Dt.barRadius,x:I,y:F,width:D,height:N}),this._vbarYMin=F+N/2,this._vbarTranslateMax=m-N):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var P=this.id,O=k-.5,U=E?S+D+.5:S+.5,X=x-.5,j=_?T+c+.5:T+.5,$=a._topdefs.selectAll("#"+P).data(_||E?[0]:[]);if($.exit().remove(),$.enter().append("clipPath").attr("id",P).append("rect"),_||E?(this._clipRect=$.select("rect").attr({x:Math.floor(O),y:Math.floor(X),width:Math.ceil(U)-Math.floor(O),height:Math.ceil(j)-Math.floor(X)}),this.container.call(Pu.setClipUrl,P,this.gd),this.bg.attr({x:l,y:s,width:u,height:f})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(Pu.setClipUrl,null),delete this._clipRect),_||E){var Y=ci.behavior.drag().on("dragstart",function(){ci.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(Y);var q=ci.behavior.drag().on("dragstart",function(){ci.event.sourceEvent.preventDefault(),ci.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));_&&this.hbar.on(".drag",null).call(q),E&&this.vbar.on(".drag",null).call(q)}this.setTranslate(t,n)};Dt.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(Pu.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)};Dt.prototype._onBoxDrag=function(){var r=this.translateX,t=this.translateY;this.hbar&&(r-=ci.event.dx),this.vbar&&(t-=ci.event.dy),this.setTranslate(r,t)};Dt.prototype._onBoxWheel=function(){var r=this.translateX,t=this.translateY;this.hbar&&(r+=ci.event.deltaY),this.vbar&&(t+=ci.event.deltaY),this.setTranslate(r,t)};Dt.prototype._onBarDrag=function(){var r=this.translateX,t=this.translateY;if(this.hbar){var n=r+this._hbarXMin,a=n+this._hbarTranslateMax,o=z1.constrain(ci.event.x,n,a),i=(o-n)/(a-n),l=this.position.w-this._box.w;r=i*l}if(this.vbar){var u=t+this._vbarYMin,s=u+this._vbarTranslateMax,f=z1.constrain(ci.event.y,u,s),v=(f-u)/(s-u),p=this.position.h-this._box.h;t=v*p}this.setTranslate(r,t)};Dt.prototype.setTranslate=function(r,t){var n=this.position.w-this._box.w,a=this.position.h-this._box.h;if(r=z1.constrain(r||0,0,n),t=z1.constrain(t||0,0,a),this.translateX=r,this.translateY=t,this.container.call(Pu.setTranslate,this._box.l-this.position.l-r,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+r-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var o=r/n;this.hbar.call(Pu.setTranslate,r+o*this._hbarTranslateMax,t)}if(this.vbar){var i=t/a;this.vbar.call(Pu.setTranslate,r,t+i*this._vbarTranslateMax)}}});var gD=pe((L1e,pD)=>{"use strict";var Fu=it(),S0=ln(),C0=Zr(),Iu=yt(),ba=ir(),q1=Yn(),Bte=gt().arrayEditor,sD=qn().LINE_SPACING,Dr=I1(),Ute=oD();pD.exports=function(r){var t=r._fullLayout,n=ba.filterVisible(t[Dr.name]);function a(p){S0.autoMargin(r,hD(p))}var o=t._menulayer.selectAll("g."+Dr.containerClassName).data(n.length>0?[0]:[]);if(o.enter().append("g").classed(Dr.containerClassName,!0).style("cursor","pointer"),o.exit().each(function(){Fu.select(this).selectAll("g."+Dr.headerGroupClassName).each(a)}).remove(),n.length!==0){var i=o.selectAll("g."+Dr.headerGroupClassName).data(n,Hte);i.enter().append("g").classed(Dr.headerGroupClassName,!0);for(var l=ba.ensureSingle(o,"g",Dr.dropdownButtonGroupClassName,function(p){p.style("pointer-events","all")}),u=0;u<n.length;u++){var s=n[u];Zte(r,s)}var f="updatemenus"+t._uid,v=new Ute(r,l,f);i.enter().size()&&(l.node().parentNode.appendChild(l.node()),l.call(Wm)),i.exit().each(function(p){l.call(Wm),a(p)}).remove(),i.each(function(p){var b=Fu.select(this),y=p.type==="dropdown"?l:null;S0.manageCommandObserver(r,p,p.buttons,function(w){Ym(r,p,p.buttons[w.index],b,y,v,w.index,!0)}),p.type==="dropdown"?(fD(r,b,l,v,p),uD(l,p)&&E0(r,b,l,v,p)):E0(r,b,null,null,p)})}};function Hte(e){return e._index}function Vte(e){return+e.attr(Dr.menuIndexAttrName)==-1}function uD(e,r){return+e.attr(Dr.menuIndexAttrName)===r._index}function Ym(e,r,t,n,a,o,i,l){r.active=i,Bte(e.layout,Dr.name,r).applyUpdate("active",i),r.type==="buttons"?E0(e,n,null,null,r):r.type==="dropdown"&&(a.attr(Dr.menuIndexAttrName,"-1"),fD(e,n,a,o,r),l||E0(e,n,a,o,r))}function fD(e,r,t,n,a){var o=ba.ensureSingle(r,"g",Dr.headerClassName,function(p){p.style("pointer-events","all")}),i=a._dims,l=a.active,u=a.buttons[l]||Dr.blankHeaderOpts,s={y:a.pad.t,yPad:0,x:a.pad.l,xPad:0,index:0},f={width:i.headerWidth,height:i.headerHeight};o.call(Xm,a,u,e).call(dD,a,s,f);var v=ba.ensureSingle(r,"text",Dr.headerArrowClassName,function(p){p.attr("text-anchor","end").call(Iu.font,a.font).text(Dr.arrowSymbol[a.direction])});v.attr({x:i.headerWidth-Dr.arrowOffsetX+a.pad.l,y:i.headerHeight/2+Dr.textOffsetY+a.pad.t}),o.on("click",function(){t.call(Wm,String(uD(t,a)?-1:a._index)),E0(e,r,t,n,a)}),o.on("mouseover",function(){o.call(cD)}),o.on("mouseout",function(){o.call(vD,a)}),Iu.setTranslate(r,i.lx,i.ly)}function E0(e,r,t,n,a){t||(t=r,t.attr("pointer-events","all"));var o=!Vte(t)||a.type==="buttons"?a.buttons:[],i=a.type==="dropdown"?Dr.dropdownButtonClassName:Dr.buttonClassName,l=t.selectAll("g."+i).data(ba.filterVisible(o)),u=l.enter().append("g").classed(i,!0),s=l.exit();a.type==="dropdown"?(u.attr("opacity","0").transition().attr("opacity","1"),s.transition().attr("opacity","0").remove()):s.remove();var f=0,v=0,p=a._dims,b=["up","down"].indexOf(a.direction)!==-1;a.type==="dropdown"&&(b?v=p.headerHeight+Dr.gapButtonHeader:f=p.headerWidth+Dr.gapButtonHeader),a.type==="dropdown"&&a.direction==="up"&&(v=-Dr.gapButtonHeader+Dr.gapButton-p.openHeight),a.type==="dropdown"&&a.direction==="left"&&(f=-Dr.gapButtonHeader+Dr.gapButton-p.openWidth);var y={x:p.lx+f+a.pad.l,y:p.ly+v+a.pad.t,yPad:Dr.gapButton,xPad:Dr.gapButton,index:0},w={l:y.x+a.borderwidth,t:y.y+a.borderwidth};l.each(function(M,m){var k=Fu.select(this);k.call(Xm,a,M,e).call(dD,a,y),k.on("click",function(){Fu.event.defaultPrevented||(M.execute&&(M.args2&&a.active===m?(Ym(e,a,M,r,t,n,-1),S0.executeAPICommand(e,M.method,M.args2)):(Ym(e,a,M,r,t,n,m),S0.executeAPICommand(e,M.method,M.args))),e.emit("plotly_buttonclicked",{menu:a,button:M,active:a.active}))}),k.on("mouseover",function(){k.call(cD)}),k.on("mouseout",function(){k.call(vD,a),l.call(lD,a)})}),l.call(lD,a),b?(w.w=Math.max(p.openWidth,p.headerWidth),w.h=y.y-w.t):(w.w=y.x-w.l,w.h=Math.max(p.openHeight,p.headerHeight)),w.direction=a.direction,n&&(l.size()?Gte(e,r,t,n,a,w):Yte(n))}function Gte(e,r,t,n,a,o){var i=a.direction,l=i==="up"||i==="down",u=a._dims,s=a.active,f,v,p;if(l)for(v=0,p=0;p<s;p++)v+=u.heights[p]+Dr.gapButton;else for(f=0,p=0;p<s;p++)f+=u.widths[p]+Dr.gapButton;n.enable(o,f,v),n.hbar&&n.hbar.attr("opacity","0").transition().attr("opacity","1"),n.vbar&&n.vbar.attr("opacity","0").transition().attr("opacity","1")}function Yte(e){var r=!!e.hbar,t=!!e.vbar;r&&e.hbar.transition().attr("opacity","0").each("end",function(){r=!1,t||e.disable()}),t&&e.vbar.transition().attr("opacity","0").each("end",function(){t=!1,r||e.disable()})}function Xm(e,r,t,n){e.call(Wte,r).call(Xte,r,t,n)}function Wte(e,r){var t=ba.ensureSingle(e,"rect",Dr.itemRectClassName,function(n){n.attr({rx:Dr.rx,ry:Dr.ry,"shape-rendering":"crispEdges"})});t.call(C0.stroke,r.bordercolor).call(C0.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px")}function Xte(e,r,t,n){var a=ba.ensureSingle(e,"text",Dr.itemTextClassName,function(l){l.attr({"text-anchor":"start","data-notex":1})}),o=t.label,i=n._fullLayout._meta;i&&(o=ba.templateString(o,i)),a.call(Iu.font,r.font).text(o).call(q1.convertToTspans,n)}function lD(e,r){var t=r.active;e.each(function(n,a){var o=Fu.select(this);a===t&&r.showactive&&o.select("rect."+Dr.itemRectClassName).call(C0.fill,Dr.activeColor)})}function cD(e){e.select("rect."+Dr.itemRectClassName).call(C0.fill,Dr.hoverColor)}function vD(e,r){e.select("rect."+Dr.itemRectClassName).call(C0.fill,r.bgcolor)}function Zte(e,r){var t=r._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},n=Iu.tester.selectAll("g."+Dr.dropdownButtonClassName).data(ba.filterVisible(r.buttons));n.enter().append("g").classed(Dr.dropdownButtonClassName,!0);var a=["up","down"].indexOf(r.direction)!==-1;n.each(function(f,v){var p=Fu.select(this);p.call(Xm,r,f,e);var b=p.select("."+Dr.itemTextClassName),y=b.node()&&Iu.bBox(b.node()).width,w=Math.max(y+Dr.textPadX,Dr.minWidth),M=r.font.size*sD,m=q1.lineCount(b),k=Math.max(M*m,Dr.minHeight)+Dr.textOffsetY;k=Math.ceil(k),w=Math.ceil(w),t.widths[v]=w,t.heights[v]=k,t.height1=Math.max(t.height1,k),t.width1=Math.max(t.width1,w),a?(t.totalWidth=Math.max(t.totalWidth,w),t.openWidth=t.totalWidth,t.totalHeight+=k+Dr.gapButton,t.openHeight+=k+Dr.gapButton):(t.totalWidth+=w+Dr.gapButton,t.openWidth+=w+Dr.gapButton,t.totalHeight=Math.max(t.totalHeight,k),t.openHeight=t.totalHeight)}),a?t.totalHeight-=Dr.gapButton:t.totalWidth-=Dr.gapButton,t.headerWidth=t.width1+Dr.arrowPadX,t.headerHeight=t.height1,r.type==="dropdown"&&(a?(t.width1+=Dr.arrowPadX,t.totalHeight=t.height1):t.totalWidth=t.width1,t.totalWidth+=Dr.arrowPadX),n.remove();var o=t.totalWidth+r.pad.l+r.pad.r,i=t.totalHeight+r.pad.t+r.pad.b,l=e._fullLayout._size;t.lx=l.l+l.w*r.x,t.ly=l.t+l.h*(1-r.y);var u="left";ba.isRightAnchor(r)&&(t.lx-=o,u="right"),ba.isCenterAnchor(r)&&(t.lx-=o/2,u="center");var s="top";ba.isBottomAnchor(r)&&(t.ly-=i,s="bottom"),ba.isMiddleAnchor(r)&&(t.ly-=i/2,s="middle"),t.totalWidth=Math.ceil(t.totalWidth),t.totalHeight=Math.ceil(t.totalHeight),t.lx=Math.round(t.lx),t.ly=Math.round(t.ly),S0.autoMargin(e,hD(r),{x:r.x,y:r.y,l:o*({right:1,center:.5}[u]||0),r:o*({left:1,center:.5}[u]||0),b:i*({top:1,middle:.5}[s]||0),t:i*({bottom:1,middle:.5}[s]||0)})}function hD(e){return Dr.autoMarginIdRoot+e._index}function dD(e,r,t,n){n=n||{};var a=e.select("."+Dr.itemRectClassName),o=e.select("."+Dr.itemTextClassName),i=r.borderwidth,l=t.index,u=r._dims;Iu.setTranslate(e,i+t.x,i+t.y);var s=["up","down"].indexOf(r.direction)!==-1,f=n.height||(s?u.heights[l]:u.height1);a.attr({x:0,y:0,width:n.width||(s?u.width1:u.widths[l]),height:f});var v=r.font.size*sD,p=q1.lineCount(o),b=(p-1)*v/2;q1.positionText(o,Dr.textOffsetX,f/2-b+Dr.textOffsetY),s?t.y+=u.heights[l]+t.yPad:t.x+=u.widths[l]+t.xPad,t.index++}function Wm(e,r){e.attr(Dr.menuIndexAttrName,r||"-1").selectAll("g."+Dr.dropdownButtonClassName).remove()}});var mD=pe((R1e,yD)=>{"use strict";var Jte=I1();yD.exports={moduleType:"component",name:Jte.name,layoutAttributes:Gm(),supplyLayoutDefaults:nD(),draw:gD()}});var L0=pe((D1e,xD)=>{"use strict";xD.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}});var Zm=pe((P1e,wD)=>{"use strict";var bD=kn(),Kte=Bc(),Qte=Mt().extendDeepAll,$te=zn().overrideAll,jte=cf(),_D=gt().templatedArray,ss=L0(),ene=_D("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});wD.exports=$te(_D("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:ene,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:Qte(Kte({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:jte.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:bD({})},font:bD({}),activebgcolor:{valType:"color",dflt:ss.gripBgActiveColor},bgcolor:{valType:"color",dflt:ss.railBgColor},bordercolor:{valType:"color",dflt:ss.railBorderColor},borderwidth:{valType:"number",min:0,dflt:ss.railBorderWidth},ticklen:{valType:"number",min:0,dflt:ss.tickLength},tickcolor:{valType:"color",dflt:ss.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:ss.minorTickLength}}),"arraydraw","from-root")});var kD=pe((F1e,AD)=>{"use strict";var Nu=ir(),MD=ei(),TD=Zm(),rne=L0(),tne=rne.name,nne=TD.steps;AD.exports=function(r,t){MD(r,t,{name:tne,handleItemDefaults:ane})};function ane(e,r,t){function n(v,p){return Nu.coerce(e,r,TD,v,p)}for(var a=MD(e,r,{name:"steps",handleItemDefaults:ine}),o=0,i=0;i<a.length;i++)a[i].visible&&o++;var l;if(o<2?l=r.visible=!1:l=n("visible"),!!l){r._stepCount=o;var u=r._visibleSteps=Nu.filterVisible(a),s=n("active");(a[s]||{}).visible||(r.active=u[0]._index),n("x"),n("y"),Nu.noneOrAll(e,r,["x","y"]),n("xanchor"),n("yanchor"),n("len"),n("lenmode"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),Nu.coerceFont(n,"font",t.font);var f=n("currentvalue.visible");f&&(n("currentvalue.xanchor"),n("currentvalue.prefix"),n("currentvalue.suffix"),n("currentvalue.offset"),Nu.coerceFont(n,"currentvalue.font",r.font)),n("transition.duration"),n("transition.easing"),n("bgcolor"),n("activebgcolor"),n("bordercolor"),n("borderwidth"),n("ticklen"),n("tickwidth"),n("tickcolor"),n("minorticklen")}}function ine(e,r){function t(o,i){return Nu.coerce(e,r,nne,o,i)}var n;if(e.method!=="skip"&&!Array.isArray(e.args)?n=r.visible=!1:n=t("visible"),n){t("method"),t("args");var a=t("label","step-"+r._index);t("value",a),t("execute")}}});var ND=pe((I1e,ID)=>{"use strict";var vi=it(),O1=ln(),el=Zr(),hi=yt(),_a=ir(),one=_a.strTranslate,R0=Yn(),lne=gt().arrayEditor,Gr=L0(),Qm=qn(),ED=Qm.LINE_SPACING,Jm=Qm.FROM_TL,Km=Qm.FROM_BR;ID.exports=function(r){var t=r._context.staticPlot,n=r._fullLayout,a=sne(n,r),o=n._infolayer.selectAll("g."+Gr.containerClassName).data(a.length>0?[0]:[]);o.enter().append("g").classed(Gr.containerClassName,!0).style("cursor",t?null:"ew-resize");function i(f){f._commandObserver&&(f._commandObserver.remove(),delete f._commandObserver),O1.autoMargin(r,LD(f))}if(o.exit().each(function(){vi.select(this).selectAll("g."+Gr.groupClassName).each(i)}).remove(),a.length!==0){var l=o.selectAll("g."+Gr.groupClassName).data(a,une);l.enter().append("g").classed(Gr.groupClassName,!0),l.exit().each(i).remove();for(var u=0;u<a.length;u++){var s=a[u];fne(r,s)}l.each(function(f){var v=vi.select(this);pne(f),O1.manageCommandObserver(r,f,f._visibleSteps,function(p){var b=v.data()[0];b.active!==p.index&&(b._dragging||DD(r,v,b,p.index,!1,!0))}),cne(r,vi.select(this),f)})}};function LD(e){return Gr.autoMarginIdRoot+e._index}function sne(e,r){for(var t=e[Gr.name],n=[],a=0;a<t.length;a++){var o=t[a];o.visible&&(o._gd=r,n.push(o))}return n}function une(e){return e._index}function fne(e,r){var t=hi.tester.selectAll("g."+Gr.labelGroupClass).data(r._visibleSteps);t.enter().append("g").classed(Gr.labelGroupClass,!0);var n=0,a=0;t.each(function(y){var w=vi.select(this),M=RD(w,{step:y},r),m=M.node();if(m){var k=hi.bBox(m);a=Math.max(a,k.height),n=Math.max(n,k.width)}}),t.remove();var o=r._dims={};o.inputAreaWidth=Math.max(Gr.railWidth,Gr.gripHeight);var i=e._fullLayout._size;o.lx=i.l+i.w*r.x,o.ly=i.t+i.h*(1-r.y),r.lenmode==="fraction"?o.outerLength=Math.round(i.w*r.len):o.outerLength=r.len,o.inputAreaStart=0,o.inputAreaLength=Math.round(o.outerLength-r.pad.l-r.pad.r);var l=o.inputAreaLength-2*Gr.stepInset,u=l/(r._stepCount-1),s=n+Gr.labelPadding;if(o.labelStride=Math.max(1,Math.ceil(s/u)),o.labelHeight=a,o.currentValueMaxWidth=0,o.currentValueHeight=0,o.currentValueTotalHeight=0,o.currentValueMaxLines=1,r.currentvalue.visible){var f=hi.tester.append("g");t.each(function(y){var w=B1(f,r,y.label),M=w.node()&&hi.bBox(w.node())||{width:0,height:0},m=R0.lineCount(w);o.currentValueMaxWidth=Math.max(o.currentValueMaxWidth,Math.ceil(M.width)),o.currentValueHeight=Math.max(o.currentValueHeight,Math.ceil(M.height)),o.currentValueMaxLines=Math.max(o.currentValueMaxLines,m)}),o.currentValueTotalHeight=o.currentValueHeight+r.currentvalue.offset,f.remove()}o.height=o.currentValueTotalHeight+Gr.tickOffset+r.ticklen+Gr.labelOffset+o.labelHeight+r.pad.t+r.pad.b;var v="left";_a.isRightAnchor(r)&&(o.lx-=o.outerLength,v="right"),_a.isCenterAnchor(r)&&(o.lx-=o.outerLength/2,v="center");var p="top";_a.isBottomAnchor(r)&&(o.ly-=o.height,p="bottom"),_a.isMiddleAnchor(r)&&(o.ly-=o.height/2,p="middle"),o.outerLength=Math.ceil(o.outerLength),o.height=Math.ceil(o.height),o.lx=Math.round(o.lx),o.ly=Math.round(o.ly);var b={y:r.y,b:o.height*Km[p],t:o.height*Jm[p]};r.lenmode==="fraction"?(b.l=0,b.xl=r.x-r.len*Jm[v],b.r=0,b.xr=r.x+r.len*Km[v]):(b.x=r.x,b.l=o.outerLength*Jm[v],b.r=o.outerLength*Km[v]),O1.autoMargin(e,LD(r),b)}function cne(e,r,t){(t.steps[t.active]||{}).visible||(t.active=t._visibleSteps[0]._index),r.call(B1,t).call(yne,t).call(hne,t).call(dne,t).call(gne,e,t).call(vne,e,t);var n=t._dims;hi.setTranslate(r,n.lx+t.pad.l,n.ly+t.pad.t),r.call(FD,t,!1),r.call(B1,t)}function B1(e,r,t){if(r.currentvalue.visible){var n=r._dims,a,o;switch(r.currentvalue.xanchor){case"right":a=n.inputAreaLength-Gr.currentValueInset-n.currentValueMaxWidth,o="left";break;case"center":a=n.inputAreaLength*.5,o="middle";break;default:a=Gr.currentValueInset,o="left"}var i=_a.ensureSingle(e,"text",Gr.labelClass,function(p){p.attr({"text-anchor":o,"data-notex":1})}),l=r.currentvalue.prefix?r.currentvalue.prefix:"";if(typeof t=="string")l+=t;else{var u=r.steps[r.active].label,s=r._gd._fullLayout._meta;s&&(u=_a.templateString(u,s)),l+=u}r.currentvalue.suffix&&(l+=r.currentvalue.suffix),i.call(hi.font,r.currentvalue.font).text(l).call(R0.convertToTspans,r._gd);var f=R0.lineCount(i),v=(n.currentValueMaxLines+1-f)*r.currentvalue.font.size*ED;return R0.positionText(i,a,v),i}}function vne(e,r,t){var n=_a.ensureSingle(e,"rect",Gr.gripRectClass,function(a){a.call(PD,r,e,t).style("pointer-events","all")});n.attr({width:Gr.gripWidth,height:Gr.gripHeight,rx:Gr.gripRadius,ry:Gr.gripRadius}).call(el.stroke,t.bordercolor).call(el.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px")}function RD(e,r,t){var n=_a.ensureSingle(e,"text",Gr.labelClass,function(i){i.attr({"text-anchor":"middle","data-notex":1})}),a=r.step.label,o=t._gd._fullLayout._meta;return o&&(a=_a.templateString(a,o)),n.call(hi.font,t.font).text(a).call(R0.convertToTspans,t._gd),n}function hne(e,r){var t=_a.ensureSingle(e,"g",Gr.labelsClass),n=r._dims,a=t.selectAll("g."+Gr.labelGroupClass).data(n.labelSteps);a.enter().append("g").classed(Gr.labelGroupClass,!0),a.exit().remove(),a.each(function(o){var i=vi.select(this);i.call(RD,o,r),hi.setTranslate(i,$m(r,o.fraction),Gr.tickOffset+r.ticklen+r.font.size*ED+Gr.labelOffset+n.currentValueTotalHeight)})}function SD(e,r,t,n,a){var o=Math.round(n*(t._stepCount-1)),i=t._visibleSteps[o]._index;i!==t.active&&DD(e,r,t,i,!0,a)}function DD(e,r,t,n,a,o){var i=t.active;t.active=n,lne(e.layout,Gr.name,t).applyUpdate("active",n);var l=t.steps[t.active];r.call(FD,t,o),r.call(B1,t),e.emit("plotly_sliderchange",{slider:t,step:t.steps[t.active],interaction:a,previousActive:i}),l&&l.method&&a&&(r._nextMethod?(r._nextMethod.step=l,r._nextMethod.doCallback=a,r._nextMethod.doTransition=o):(r._nextMethod={step:l,doCallback:a,doTransition:o},r._nextMethodRaf=window.requestAnimationFrame(function(){var u=r._nextMethod.step;u.method&&(u.execute&&O1.executeAPICommand(e,u.method,u.args),r._nextMethod=null,r._nextMethodRaf=null)})))}function PD(e,r,t){if(r._context.staticPlot)return;var n=t.node(),a=vi.select(r);function o(){return t.data()[0]}function i(){var l=o();r.emit("plotly_sliderstart",{slider:l});var u=t.select("."+Gr.gripRectClass);vi.event.stopPropagation(),vi.event.preventDefault(),u.call(el.fill,l.activebgcolor);var s=CD(l,vi.mouse(n)[0]);SD(r,t,l,s,!0),l._dragging=!0;function f(){var p=o(),b=CD(p,vi.mouse(n)[0]);SD(r,t,p,b,!1)}a.on("mousemove",f),a.on("touchmove",f);function v(){var p=o();p._dragging=!1,u.call(el.fill,p.bgcolor),a.on("mouseup",null),a.on("mousemove",null),a.on("touchend",null),a.on("touchmove",null),r.emit("plotly_sliderend",{slider:p,step:p.steps[p.active]})}a.on("mouseup",v),a.on("touchend",v)}e.on("mousedown",i),e.on("touchstart",i)}function dne(e,r){var t=e.selectAll("rect."+Gr.tickRectClass).data(r._visibleSteps),n=r._dims;t.enter().append("rect").classed(Gr.tickRectClass,!0),t.exit().remove(),t.attr({width:r.tickwidth+"px","shape-rendering":"crispEdges"}),t.each(function(a,o){var i=o%n.labelStride===0,l=vi.select(this);l.attr({height:i?r.ticklen:r.minorticklen}).call(el.fill,r.tickcolor),hi.setTranslate(l,$m(r,o/(r._stepCount-1))-.5*r.tickwidth,(i?Gr.tickOffset:Gr.minorTickOffset)+n.currentValueTotalHeight)})}function pne(e){var r=e._dims;r.labelSteps=[];for(var t=e._stepCount,n=0;n<t;n+=r.labelStride)r.labelSteps.push({fraction:n/(t-1),step:e._visibleSteps[n]})}function FD(e,r,t){for(var n=e.select("rect."+Gr.gripRectClass),a=0,o=0;o<r._stepCount;o++)if(r._visibleSteps[o]._index===r.active){a=o;break}var i=$m(r,a/(r._stepCount-1));if(!r._invokingCommand){var l=n;t&&r.transition.duration>0&&(l=l.transition().duration(r.transition.duration).ease(r.transition.easing)),l.attr("transform",one(i-Gr.gripWidth*.5,r._dims.currentValueTotalHeight))}}function $m(e,r){var t=e._dims;return t.inputAreaStart+Gr.stepInset+(t.inputAreaLength-2*Gr.stepInset)*Math.min(1,Math.max(0,r))}function CD(e,r){var t=e._dims;return Math.min(1,Math.max(0,(r-Gr.stepInset-t.inputAreaStart)/(t.inputAreaLength-2*Gr.stepInset-2*t.inputAreaStart)))}function gne(e,r,t){var n=t._dims,a=_a.ensureSingle(e,"rect",Gr.railTouchRectClass,function(o){o.call(PD,r,e,t).style("pointer-events","all")});a.attr({width:n.inputAreaLength,height:Math.max(n.inputAreaWidth,Gr.tickOffset+t.ticklen+n.labelHeight)}).call(el.fill,t.bgcolor).attr("opacity",0),hi.setTranslate(a,0,n.currentValueTotalHeight)}function yne(e,r){var t=r._dims,n=t.inputAreaLength-Gr.railInset*2,a=_a.ensureSingle(e,"rect",Gr.railRectClass);a.attr({width:n,height:Gr.railWidth,rx:Gr.railRadius,ry:Gr.railRadius,"shape-rendering":"crispEdges"}).call(el.stroke,r.bordercolor).call(el.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px"),hi.setTranslate(a,Gr.railInset,(t.inputAreaWidth-Gr.railWidth)*.5+t.currentValueTotalHeight)}});var qD=pe((N1e,zD)=>{"use strict";var mne=L0();zD.exports={moduleType:"component",name:mne.name,layoutAttributes:Zm(),supplyLayoutDefaults:kD(),draw:ND()}});var U1=pe((z1e,BD)=>{"use strict";var OD=Ti();BD.exports={bgcolor:{valType:"color",dflt:OD.background,editType:"plot"},bordercolor:{valType:"color",dflt:OD.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}});var jm=pe((q1e,UD)=>{"use strict";UD.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}});var H1=pe((O1e,HD)=>{"use strict";HD.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}});var YD=pe(G1=>{"use strict";var xne=on(),bne=Yn(),VD=H1(),_ne=qn().LINE_SPACING,V1=VD.name;function GD(e){var r=e&&e[V1];return r&&r.visible}G1.isVisible=GD;G1.makeData=function(e){for(var r=xne.list({_fullLayout:e},"x",!0),t=e.margin,n=[],a=0;a<r.length;a++){var o=r[a];if(GD(o)){n.push(o);var i=o[V1];i._id=V1+o._id,i._height=(e.height-t.b-t.t)*i.thickness,i._offsetShift=Math.floor(i.borderwidth/2)}}e._rangeSliderData=n};G1.autoMarginOpts=function(e,r){var t=e._fullLayout,n=r[V1],a=r._id.charAt(0),o=0,i=0;if(r.side==="bottom"&&(o=r._depth,r.title.text!==t._dfltTitle[a])){i=1.5*r.title.font.size+10+n._offsetShift;var l=(r.title.text.match(bne.BR_TAG_ALL)||[]).length;i+=l*r.title.font.size*_ne}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:n._height+o+Math.max(t.margin.b,i),pad:VD.extraPad+n._offsetShift*2}}});var JD=pe((U1e,ZD)=>{"use strict";var Y1=ir(),WD=gt(),XD=on(),wne=U1(),Mne=jm();ZD.exports=function(r,t,n){var a=r[n],o=t[n];if(!(a.rangeslider||t._requestRangeslider[o._id]))return;Y1.isPlainObject(a.rangeslider)||(a.rangeslider={});var i=a.rangeslider,l=WD.newContainer(o,"rangeslider");function u(T,d){return Y1.coerce(i,l,wne,T,d)}var s,f;function v(T,d){return Y1.coerce(s,f,Mne,T,d)}var p=u("visible");if(p){u("bgcolor",t.plot_bgcolor),u("bordercolor"),u("borderwidth"),u("thickness"),u("autorange",!o.isValidRange(i.range)),u("range");var b=t._subplots;if(b)for(var y=b.cartesian.filter(function(T){return T.substr(0,T.indexOf("y"))===XD.name2id(n)}).map(function(T){return T.substr(T.indexOf("y"),T.length)}),w=Y1.simpleMap(y,XD.id2name),M=0;M<w.length;M++){var m=w[M];s=i[m]||{},f=WD.newContainer(l,m,"yaxis");var k=t[m],S;s.range&&k.isValidRange(s.range)&&(S="fixed");var x=v("rangemode",S);x!=="match"&&v("range",k.range.slice())}l._input=i}}});var QD=pe((H1e,KD)=>{"use strict";var Tne=on().list,Ane=$s().getAutoRange,kne=H1();KD.exports=function(r){for(var t=Tne(r,"x",!0),n=0;n<t.length;n++){var a=t[n],o=a[kne.name];o&&o.visible&&o.autorange&&(o._input.autorange=!0,o._input.range=o.range=Ane(r,a))}}});var rP=pe((V1e,eP)=>{"use strict";var W1=it(),Sne=Er(),Cne=ln(),qt=ir(),X1=qt.strTranslate,jD=yt(),rl=Zr(),Ene=Sf(),Lne=km(),e3=on(),Rne=ti(),Dne=Vo(),Qr=H1();eP.exports=function(e){for(var r=e._fullLayout,t=r._rangeSliderData,n=0;n<t.length;n++){var a=t[n][Qr.name];a._clipId=a._id+"-"+r._uid}function o(l){return l._name}var i=r._infolayer.selectAll("g."+Qr.containerClassName).data(t,o);i.exit().each(function(l){var u=l[Qr.name];r._topdefs.select("#"+u._clipId).remove()}).remove(),t.length!==0&&(i.enter().append("g").classed(Qr.containerClassName,!0).attr("pointer-events","all"),i.each(function(l){var u=W1.select(this),s=l[Qr.name],f=r[e3.id2name(l.anchor)],v=s[e3.id2name(l.anchor)];if(s.range){var p=qt.simpleMap(s.range,l.r2l),b=qt.simpleMap(l.range,l.r2l),y;b[0]<b[1]?y=[Math.min(p[0],b[0]),Math.max(p[1],b[1])]:y=[Math.max(p[0],b[0]),Math.min(p[1],b[1])],s.range=s._input.range=qt.simpleMap(y,l.l2r)}l.cleanRange("rangeslider.range");var w=r._size,M=l.domain;s._width=w.w*(M[1]-M[0]);var m=Math.round(w.l+w.w*M[0]),k=Math.round(w.t+w.h*(1-l._counterDomainMin)+(l.side==="bottom"?l._depth:0)+s._offsetShift+Qr.extraPad);u.attr("transform",X1(m,k)),s._rl=qt.simpleMap(s.range,l.r2l);var S=s._rl[0],x=s._rl[1],T=x-S;if(s.p2d=function(N){return N/s._width*T+S},s.d2p=function(N){return(N-S)/T*s._width},l.rangebreaks){var d=l.locateBreaks(S,x);if(d.length){var _,g,c=0;for(_=0;_<d.length;_++)g=d[_],c+=g.max-g.min;var A=s._width/(x-S-c),h=[-A*S];for(_=0;_<d.length;_++)g=d[_],h.push(h[h.length-1]-A*(g.max-g.min));for(s.d2p=function(N){for(var I=h[0],F=0;F<d.length;F++){var L=d[F];if(N>=L.max)I=h[F+1];else if(N<L.min)break}return I+A*N},_=0;_<d.length;_++)g=d[_],g.pmin=s.d2p(g.min),g.pmax=s.d2p(g.max);s.p2d=function(N){for(var I=h[0],F=0;F<d.length;F++){var L=d[F];if(N>=L.pmax)I=h[F+1];else if(N<L.pmin)break}return(N-I)/A}}}if(v.rangemode!=="match"){var R=f.r2l(v.range[0]),E=f.r2l(v.range[1]),D=E-R;s.d2pOppAxis=function(N){return(N-R)/D*s._height}}u.call(Nne,e,l,s).call(zne,e,l,s).call(qne,e,l,s).call(Bne,e,l,s,v).call(Une,e,l,s).call(Hne,e,l,s),Pne(u,e,l,s),Ine(u,e,l,s,f,v),l.side==="bottom"&&Ene.draw(e,l._id+"title",{propContainer:l,propName:l._name+".title",placeholder:r._dfltTitle.x,attributes:{x:l._offset+l._length/2,y:k+s._height+s._offsetShift+10+1.5*l.title.font.size,"text-anchor":"middle"}})}))};function $D(e){return typeof e.clientX=="number"?e.clientX:e.touches&&e.touches.length>0?e.touches[0].clientX:0}function Pne(e,r,t,n){if(r._context.staticPlot)return;var a=e.select("rect."+Qr.slideBoxClassName).node(),o=e.select("rect."+Qr.grabAreaMinClassName).node(),i=e.select("rect."+Qr.grabAreaMaxClassName).node();function l(){var u=W1.event,s=u.target,f=$D(u),v=f-e.node().getBoundingClientRect().left,p=n.d2p(t._rl[0]),b=n.d2p(t._rl[1]),y=Rne.coverSlip();this.addEventListener("touchmove",w),this.addEventListener("touchend",M),y.addEventListener("mousemove",w),y.addEventListener("mouseup",M);function w(m){var k=$D(m),S=+k-f,x,T,d;switch(s){case a:if(d="ew-resize",p+S>t._length||b+S<0)return;x=p+S,T=b+S;break;case o:if(d="col-resize",p+S>t._length)return;x=p+S,T=b;break;case i:if(d="col-resize",b+S<0)return;x=p,T=b+S;break;default:d="ew-resize",x=v,T=v+S;break}if(T<x){var _=T;T=x,x=_}n._pixelMin=x,n._pixelMax=T,Dne(W1.select(y),d),Fne(e,r,t,n)}function M(){y.removeEventListener("mousemove",w),y.removeEventListener("mouseup",M),this.removeEventListener("touchmove",w),this.removeEventListener("touchend",M),qt.removeElement(y)}}e.on("mousedown",l),e.on("touchstart",l)}function Fne(e,r,t,n){function a(l){return t.l2r(qt.constrain(l,n._rl[0],n._rl[1]))}var o=a(n.p2d(n._pixelMin)),i=a(n.p2d(n._pixelMax));window.requestAnimationFrame(function(){Sne.call("_guiRelayout",r,t._name+".range",[o,i])})}function Ine(e,r,t,n,a,o){var i=Qr.handleWidth/2;function l(m){return qt.constrain(m,0,n._width)}function u(m){return qt.constrain(m,0,n._height)}function s(m){return qt.constrain(m,-i,n._width+i)}var f=l(n.d2p(t._rl[0])),v=l(n.d2p(t._rl[1]));if(e.select("rect."+Qr.slideBoxClassName).attr("x",f).attr("width",v-f),e.select("rect."+Qr.maskMinClassName).attr("width",f),e.select("rect."+Qr.maskMaxClassName).attr("x",v).attr("width",n._width-v),o.rangemode!=="match"){var p=n._height-u(n.d2pOppAxis(a._rl[1])),b=n._height-u(n.d2pOppAxis(a._rl[0]));e.select("rect."+Qr.maskMinOppAxisClassName).attr("x",f).attr("height",p).attr("width",v-f),e.select("rect."+Qr.maskMaxOppAxisClassName).attr("x",f).attr("y",b).attr("height",n._height-b).attr("width",v-f),e.select("rect."+Qr.slideBoxClassName).attr("y",p).attr("height",b-p)}var y=.5,w=Math.round(s(f-i))-y,M=Math.round(s(v-i))+y;e.select("g."+Qr.grabberMinClassName).attr("transform",X1(w,y)),e.select("g."+Qr.grabberMaxClassName).attr("transform",X1(M,y))}function Nne(e,r,t,n){var a=qt.ensureSingle(e,"rect",Qr.bgClassName,function(u){u.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),o=n.borderwidth%2===0?n.borderwidth:n.borderwidth-1,i=-n._offsetShift,l=jD.crispRound(r,n.borderwidth);a.attr({width:n._width+o,height:n._height+o,transform:X1(i,i),"stroke-width":l}).call(rl.stroke,n.bordercolor).call(rl.fill,n.bgcolor)}function zne(e,r,t,n){var a=r._fullLayout,o=qt.ensureSingleById(a._topdefs,"clipPath",n._clipId,function(i){i.append("rect").attr({x:0,y:0})});o.select("rect").attr({width:n._width,height:n._height})}function qne(e,r,t,n){var a=r.calcdata,o=e.selectAll("g."+Qr.rangePlotClassName).data(t._subplotsWith,qt.identity);o.enter().append("g").attr("class",function(l){return Qr.rangePlotClassName+" "+l}).call(jD.setClipUrl,n._clipId,r),o.order(),o.exit().remove();var i;o.each(function(l,u){var s=W1.select(this),f=u===0,v=e3.getFromId(r,l,"y"),p=v._name,b=n[p],y={data:[],layout:{xaxis:{type:t.type,domain:[0,1],range:n.range.slice(),calendar:t.calendar},width:n._width,height:n._height,margin:{t:0,b:0,l:0,r:0}},_context:r._context};t.rangebreaks&&(y.layout.xaxis.rangebreaks=t.rangebreaks),y.layout[p]={type:v.type,domain:[0,1],range:b.rangemode!=="match"?b.range.slice():v.range.slice(),calendar:v.calendar},v.rangebreaks&&(y.layout[p].rangebreaks=v.rangebreaks),Cne.supplyDefaults(y);var w=y._fullLayout.xaxis,M=y._fullLayout[p];w.clearCalc(),w.setScale(),M.clearCalc(),M.setScale();var m={id:l,plotgroup:s,xaxis:w,yaxis:M,isRangePlot:!0};f?i=m:(m.mainplot="xy",m.mainplotinfo=i),Lne.rangePlot(r,m,One(a,l))})}function One(e,r){for(var t=[],n=0;n<e.length;n++){var a=e[n],o=a[0].trace;o.xaxis+o.yaxis===r&&t.push(a)}return t}function Bne(e,r,t,n,a){var o=qt.ensureSingle(e,"rect",Qr.maskMinClassName,function(s){s.attr({x:0,y:0,"shape-rendering":"crispEdges"})});o.attr("height",n._height).call(rl.fill,Qr.maskColor);var i=qt.ensureSingle(e,"rect",Qr.maskMaxClassName,function(s){s.attr({y:0,"shape-rendering":"crispEdges"})});if(i.attr("height",n._height).call(rl.fill,Qr.maskColor),a.rangemode!=="match"){var l=qt.ensureSingle(e,"rect",Qr.maskMinOppAxisClassName,function(s){s.attr({y:0,"shape-rendering":"crispEdges"})});l.attr("width",n._width).call(rl.fill,Qr.maskOppAxisColor);var u=qt.ensureSingle(e,"rect",Qr.maskMaxOppAxisClassName,function(s){s.attr({y:0,"shape-rendering":"crispEdges"})});u.attr("width",n._width).style("border-top",Qr.maskOppBorder).call(rl.fill,Qr.maskOppAxisColor)}}function Une(e,r,t,n){if(!r._context.staticPlot){var a=qt.ensureSingle(e,"rect",Qr.slideBoxClassName,function(o){o.attr({y:0,cursor:Qr.slideBoxCursor,"shape-rendering":"crispEdges"})});a.attr({height:n._height,fill:Qr.slideBoxFill})}}function Hne(e,r,t,n){var a=qt.ensureSingle(e,"g",Qr.grabberMinClassName),o=qt.ensureSingle(e,"g",Qr.grabberMaxClassName),i={x:0,width:Qr.handleWidth,rx:Qr.handleRadius,fill:rl.background,stroke:rl.defaultLine,"stroke-width":Qr.handleStrokeWidth,"shape-rendering":"crispEdges"},l={y:Math.round(n._height/4),height:Math.round(n._height/2)},u=qt.ensureSingle(a,"rect",Qr.handleMinClassName,function(b){b.attr(i)});u.attr(l);var s=qt.ensureSingle(o,"rect",Qr.handleMaxClassName,function(b){b.attr(i)});s.attr(l);var f={width:Qr.grabAreaWidth,x:0,y:0,fill:Qr.grabAreaFill,cursor:r._context.staticPlot?void 0:Qr.grabAreaCursor},v=qt.ensureSingle(a,"rect",Qr.grabAreaMinClassName,function(b){b.attr(f)});v.attr("height",n._height);var p=qt.ensureSingle(o,"rect",Qr.grabAreaMaxClassName,function(b){b.attr(f)});p.attr("height",n._height)}});var nP=pe((G1e,tP)=>{"use strict";var Vne=ir(),Gne=U1(),Yne=jm(),r3=YD();tP.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:Vne.extendFlat({},Gne,{yaxis:Yne})}}},layoutAttributes:U1(),handleDefaults:JD(),calcAutorange:QD(),draw:rP(),isVisible:r3.isVisible,makeData:r3.makeData,autoMarginOpts:r3.autoMarginOpts}});var Z1=pe((Y1e,iP)=>{"use strict";var Wne=kn(),aP=Ti(),Xne=gt().templatedArray,Zne=Xne("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});iP.exports={visible:{valType:"boolean",editType:"plot"},buttons:Zne,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:Wne({editType:"plot"}),bgcolor:{valType:"color",dflt:aP.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:aP.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}});var t3=pe((W1e,oP)=>{"use strict";oP.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}});var uP=pe((X1e,sP)=>{"use strict";var J1=ir(),Jne=Zr(),Kne=gt(),Qne=ei(),lP=Z1(),n3=t3();sP.exports=function(r,t,n,a,o){var i=r.rangeselector||{},l=Kne.newContainer(t,"rangeselector");function u(b,y){return J1.coerce(i,l,lP,b,y)}var s=Qne(i,l,{name:"buttons",handleItemDefaults:$ne,calendar:o}),f=u("visible",s.length>0);if(f){var v=jne(t,n,a);u("x",v[0]),u("y",v[1]),J1.noneOrAll(r,t,["x","y"]),u("xanchor"),u("yanchor"),J1.coerceFont(u,"font",n.font);var p=u("bgcolor");u("activecolor",Jne.contrast(p,n3.lightAmount,n3.darkAmount)),u("bordercolor"),u("borderwidth")}};function $ne(e,r,t,n){var a=n.calendar;function o(u,s){return J1.coerce(e,r,lP.buttons,u,s)}var i=o("visible");if(i){var l=o("step");l!=="all"&&(a&&a!=="gregorian"&&(l==="month"||l==="year")?r.stepmode="backward":o("stepmode"),o("count")),o("label")}}function jne(e,r,t){for(var n=t.filter(function(l){return r[l].anchor===e._id}),a=0,o=0;o<n.length;o++){var i=r[n[o]].domain;i&&(a=Math.max(i[1],a))}return[e.domain[0],a+n3.yPad]}});var cP=pe((Z1e,fP)=>{"use strict";var eae=ap(),rae=ir().titleCase;fP.exports=function(r,t){var n=r._name,a={};if(t.step==="all")a[n+".autorange"]=!0;else{var o=tae(r,t);a[n+".range[0]"]=o[0],a[n+".range[1]"]=o[1]}return a};function tae(e,r){var t=e.range,n=new Date(e.r2l(t[1])),a=r.step,o=eae["utc"+rae(a)],i=r.count,l;switch(r.stepmode){case"backward":l=e.l2r(+o.offset(n,-i));break;case"todate":var u=o.offset(n,-i);l=e.l2r(+o.ceil(u));break}var s=t[1];return[l,s]}});var xP=pe((J1e,mP)=>{"use strict";var Q1=it(),nae=Er(),aae=ln(),vP=Zr(),yP=yt(),co=ir(),hP=co.strTranslate,K1=Yn(),iae=on(),o3=qn(),dP=o3.LINE_SPACING,pP=o3.FROM_TL,gP=o3.FROM_BR,i3=t3(),oae=cP();mP.exports=function(r){var t=r._fullLayout,n=t._infolayer.selectAll(".rangeselector").data(lae(r),sae);n.enter().append("g").classed("rangeselector",!0),n.exit().remove(),n.style({cursor:"pointer","pointer-events":"all"}),n.each(function(a){var o=Q1.select(this),i=a,l=i.rangeselector,u=o.selectAll("g.button").data(co.filterVisible(l.buttons));u.enter().append("g").classed("button",!0),u.exit().remove(),u.each(function(s){var f=Q1.select(this),v=oae(i,s);s._isActive=uae(i,s,v),f.call(a3,l,s),f.call(cae,l,s,r),f.on("click",function(){r._dragged||nae.call("_guiRelayout",r,v)}),f.on("mouseover",function(){s._isHovered=!0,f.call(a3,l,s)}),f.on("mouseout",function(){s._isHovered=!1,f.call(a3,l,s)})}),hae(r,u,l,i._name,o)})};function lae(e){for(var r=iae.list(e,"x",!0),t=[],n=0;n<r.length;n++){var a=r[n];a.rangeselector&&a.rangeselector.visible&&t.push(a)}return t}function sae(e){return e._id}function uae(e,r,t){if(r.step==="all")return e.autorange===!0;var n=Object.keys(t);return e.range[0]===t[n[0]]&&e.range[1]===t[n[1]]}function a3(e,r,t){var n=co.ensureSingle(e,"rect","selector-rect",function(a){a.attr("shape-rendering","crispEdges")});n.attr({rx:i3.rx,ry:i3.ry}),n.call(vP.stroke,r.bordercolor).call(vP.fill,fae(r,t)).style("stroke-width",r.borderwidth+"px")}function fae(e,r){return r._isActive||r._isHovered?e.activecolor:e.bgcolor}function cae(e,r,t,n){function a(i){K1.convertToTspans(i,n)}var o=co.ensureSingle(e,"text","selector-text",function(i){i.attr("text-anchor","middle")});o.call(yP.font,r.font).text(vae(t,n._fullLayout._meta)).call(a)}function vae(e,r){return e.label?r?co.templateString(e.label,r):e.label:e.step==="all"?"all":e.count+e.step.charAt(0)}function hae(e,r,t,n,a){var o=0,i=0,l=t.borderwidth;r.each(function(){var b=Q1.select(this),y=b.select(".selector-text"),w=t.font.size*dP,M=Math.max(w*K1.lineCount(y),16)+3;i=Math.max(i,M)}),r.each(function(){var b=Q1.select(this),y=b.select(".selector-rect"),w=b.select(".selector-text"),M=w.node()&&yP.bBox(w.node()).width,m=t.font.size*dP,k=K1.lineCount(w),S=Math.max(M+10,i3.minButtonWidth);b.attr("transform",hP(l+o,l)),y.attr({x:0,y:0,width:S,height:i}),K1.positionText(w,S/2,i/2-(k-1)*m/2+3),o+=S+5});var u=e._fullLayout._size,s=u.l+u.w*t.x,f=u.t+u.h*(1-t.y),v="left";co.isRightAnchor(t)&&(s-=o,v="right"),co.isCenterAnchor(t)&&(s-=o/2,v="center");var p="top";co.isBottomAnchor(t)&&(f-=i,p="bottom"),co.isMiddleAnchor(t)&&(f-=i/2,p="middle"),o=Math.ceil(o),i=Math.ceil(i),s=Math.round(s),f=Math.round(f),aae.autoMargin(e,n+"-range-selector",{x:t.x,y:t.y,l:o*pP[v],r:o*gP[v],b:i*gP[p],t:i*pP[p]}),a.attr("transform",hP(s,f))}});var _P=pe((K1e,bP)=>{"use strict";bP.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:Z1()}}},layoutAttributes:Z1(),handleDefaults:uP(),draw:xP()}});var $1=pe(l3=>{"use strict";var wP=Mt().extendFlat;l3.attributes=function(e,r){e=e||{},r=r||{};var t={valType:"info_array",editType:e.editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},n=e.name?e.name+" ":"",a=e.trace?"trace ":"subplot ",o=r.description?" "+r.description:"",i={x:wP({},t,{}),y:wP({},t,{}),editType:e.editType};return e.noGridCell||(i.row={valType:"integer",min:0,dflt:0,editType:e.editType},i.column={valType:"integer",min:0,dflt:0,editType:e.editType}),i};l3.defaults=function(e,r,t,n){var a=n&&n.x||[0,1],o=n&&n.y||[0,1],i=r.grid;if(i){var l=t("domain.column");l!==void 0&&(l<i.columns?a=i._domains.x[l]:delete e.domain.column);var u=t("domain.row");u!==void 0&&(u<i.rows?o=i._domains.y[u]:delete e.domain.row)}var s=t("domain.x",a),f=t("domain.y",o);s[0]<s[1]||(e.domain.x=a.slice()),f[0]<f[1]||(e.domain.y=o.slice())}});var SP=pe(($1e,kP)=>{"use strict";var dae=ir(),pae=Es().counter,gae=$1().attributes,MP=wn().idRegex,yae=gt(),s3={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[pae("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[MP.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[MP.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:gae({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function j1(e,r,t){var n=r[t+"axes"],a=Object.keys((e._splomAxes||{})[t]||{});if(Array.isArray(n))return n;if(a.length)return a}function mae(e,r){var t=e.grid||{},n=j1(r,t,"x"),a=j1(r,t,"y");if(!e.grid&&!n&&!a)return;var o=Array.isArray(t.subplots)&&Array.isArray(t.subplots[0]),i=Array.isArray(n),l=Array.isArray(a),u=i&&n!==t.xaxes&&l&&a!==t.yaxes,s,f;o?(s=t.subplots.length,f=t.subplots[0].length):(l&&(s=a.length),i&&(f=n.length));var v=yae.newContainer(r,"grid");function p(d,_){return dae.coerce(t,v,s3,d,_)}var b=p("rows",s),y=p("columns",f);if(!(b*y>1)){delete r.grid;return}if(!o&&!i&&!l){var w=p("pattern")==="independent";w&&(o=!0)}v._hasSubplotGrid=o;var M=p("roworder"),m=M==="top to bottom",k=o?.2:.1,S=o?.3:.1,x,T;u&&r._splomGridDflt&&(x=r._splomGridDflt.xside,T=r._splomGridDflt.yside),v._domains={x:TP("x",p,k,x,y),y:TP("y",p,S,T,b,m)}}function TP(e,r,t,n,a,o){var i=r(e+"gap",t),l=r("domain."+e);r(e+"side",n);for(var u=new Array(a),s=l[0],f=(l[1]-s)/(a-i),v=f*(1-i),p=0;p<a;p++){var b=s+f*p;u[o?a-1-p:p]=[b,b+v]}return u}function xae(e,r){var t=r.grid;if(!(!t||!t._domains)){var n=e.grid||{},a=r._subplots,o=t._hasSubplotGrid,i=t.rows,l=t.columns,u=t.pattern==="independent",s,f,v,p,b,y,w,M=t._axisMap={};if(o){var m=n.subplots||[];y=t.subplots=new Array(i);var k=1;for(s=0;s<i;s++){var S=y[s]=new Array(l),x=m[s]||[];for(f=0;f<l;f++)if(u?(b=k===1?"xy":"x"+k+"y"+k,k++):b=x[f],S[f]="",a.cartesian.indexOf(b)!==-1){if(w=b.indexOf("y"),v=b.slice(0,w),p=b.slice(w),M[v]!==void 0&&M[v]!==f||M[p]!==void 0&&M[p]!==s)continue;S[f]=b,M[v]=f,M[p]=s}}}else{var T=j1(r,n,"x"),d=j1(r,n,"y");t.xaxes=AP(T,a.xaxis,l,M,"x"),t.yaxes=AP(d,a.yaxis,i,M,"y")}var _=t._anchors={},g=t.roworder==="top to bottom";for(var c in M){var A=c.charAt(0),h=t[A+"side"],R,E,D;if(h.length<8)_[c]="free";else if(A==="x"){if(h.charAt(0)==="t"===g?(R=0,E=1,D=i):(R=i-1,E=-1,D=-1),o){var N=M[c];for(s=R;s!==D;s+=E)if(b=y[s][N],!!b&&(w=b.indexOf("y"),b.slice(0,w)===c)){_[c]=b.slice(w);break}}else for(s=R;s!==D;s+=E)if(p=t.yaxes[s],a.cartesian.indexOf(c+p)!==-1){_[c]=p;break}}else if(h.charAt(0)==="l"?(R=0,E=1,D=l):(R=l-1,E=-1,D=-1),o){var I=M[c];for(s=R;s!==D;s+=E)if(b=y[I][s],!!b&&(w=b.indexOf("y"),b.slice(w)===c)){_[c]=b.slice(0,w);break}}else for(s=R;s!==D;s+=E)if(v=t.xaxes[s],a.cartesian.indexOf(v+c)!==-1){_[c]=v;break}}}}function AP(e,r,t,n,a){var o=new Array(t),i;function l(u,s){r.indexOf(s)!==-1&&n[s]===void 0?(o[u]=s,n[s]=u):o[u]=""}if(Array.isArray(e))for(i=0;i<t;i++)l(i,e[i]);else for(l(0,a),i=1;i<t;i++)l(i,a+(i+1));return o}kP.exports={moduleType:"component",name:"grid",schema:{layout:{grid:s3}},layoutAttributes:s3,sizeDefaults:mae,contentDefaults:xae}});var u3=pe((j1e,CP)=>{"use strict";CP.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc"}});var RP=pe((ede,LP)=>{"use strict";var EP=rt(),bae=Er(),_ae=ir(),wae=gt(),Mae=u3();LP.exports=function(e,r,t,n){var a="error_"+n.axis,o=wae.newContainer(r,a),i=e[a]||{};function l(y,w){return _ae.coerce(i,o,Mae,y,w)}var u=i.array!==void 0||i.value!==void 0||i.type==="sqrt",s=l("visible",u);if(s!==!1){var f=l("type","array"in i?"data":"percent"),v=!0;f!=="sqrt"&&(v=l("symmetric",!((f==="data"?"arrayminus":"valueminus")in i))),f==="data"?(l("array"),l("traceref"),v||(l("arrayminus"),l("tracerefminus"))):(f==="percent"||f==="constant")&&(l("value"),v||l("valueminus"));var p="copy_"+n.inherit+"style";if(n.inherit){var b=r["error_"+n.inherit];(b||{}).visible&&l(p,!(i.color||EP(i.thickness)||EP(i.width)))}(!n.inherit||!o[p])&&(l("color",t),l("thickness"),l("width",bae.traceIs(r,"gl3d")?0:4))}}});var f3=pe((rde,PP)=>{"use strict";PP.exports=function(r){var t=r.type,n=r.symmetric;if(t==="data"){var a=r.array||[];if(n)return function(s,f){var v=+a[f];return[v,v]};var o=r.arrayminus||[];return function(s,f){var v=+a[f],p=+o[f];return!isNaN(v)||!isNaN(p)?[p||0,v||0]:[NaN,NaN]}}else{var i=DP(t,r.value),l=DP(t,r.valueminus);return n||r.valueminus===void 0?function(s){var f=i(s);return[f,f]}:function(s){return[l(s),i(s)]}}};function DP(e,r){if(e==="percent")return function(t){return Math.abs(t*r/100)};if(e==="constant")return function(){return Math.abs(r)};if(e==="sqrt")return function(t){return Math.sqrt(Math.abs(t))}}});var NP=pe((tde,IP)=>{"use strict";var c3=rt(),Tae=Er(),v3=St(),Aae=ir(),kae=f3();IP.exports=function(r){for(var t=r.calcdata,n=0;n<t.length;n++){var a=t[n],o=a[0].trace;if(o.visible===!0&&Tae.traceIs(o,"errorBarsOK")){var i=v3.getFromId(r,o.xaxis),l=v3.getFromId(r,o.yaxis);FP(a,o,i,"x"),FP(a,o,l,"y")}}};function FP(e,r,t,n){var a=r["error_"+n]||{},o=a.visible&&["linear","log"].indexOf(t.type)!==-1,i=[];if(o){for(var l=kae(a),u=0;u<e.length;u++){var s=e[u],f=s.i;if(f===void 0)f=u;else if(f===null)continue;var v=s[n];if(c3(t.c2l(v))){var p=l(v,f);if(c3(p[0])&&c3(p[1])){var b=s[n+"s"]=v-p[0],y=s[n+"h"]=v+p[1];i.push(b,y)}}}var w=t._id,M=r._extremes[w],m=v3.findExtremes(t,i,Aae.extendFlat({tozero:M.opts.tozero},{padded:!0}));M.min=M.min.concat(m.min),M.max=M.max.concat(m.max)}}});var OP=pe((nde,qP)=>{"use strict";var zP=it(),tl=rt(),Sae=yt(),Cae=oa();qP.exports=function(r,t,n,a){var o,i=n.xaxis,l=n.yaxis,u=a&&a.duration>0,s=r._context.staticPlot;t.each(function(f){var v=f[0].trace,p=v.error_x||{},b=v.error_y||{},y;v.ids&&(y=function(k){return k.id});var w=Cae.hasMarkers(v)&&v.marker.maxdisplayed>0;!b.visible&&!p.visible&&(f=[]);var M=zP.select(this).selectAll("g.errorbar").data(f,y);if(M.exit().remove(),!!f.length){p.visible||M.selectAll("path.xerror").remove(),b.visible||M.selectAll("path.yerror").remove(),M.style("opacity",1);var m=M.enter().append("g").classed("errorbar",!0);u&&m.style("opacity",0).transition().duration(a.duration).style("opacity",1),Sae.setClipUrl(M,n.layerClipId,r),M.each(function(k){var S=zP.select(this),x=Eae(k,i,l);if(!(w&&!k.vis)){var T,d=S.select("path.yerror");if(b.visible&&tl(x.x)&&tl(x.yh)&&tl(x.ys)){var _=b.width;T="M"+(x.x-_)+","+x.yh+"h"+2*_+"m-"+_+",0V"+x.ys,x.noYS||(T+="m-"+_+",0h"+2*_),o=!d.size(),o?d=S.append("path").style("vector-effect",s?"none":"non-scaling-stroke").classed("yerror",!0):u&&(d=d.transition().duration(a.duration).ease(a.easing)),d.attr("d",T)}else d.remove();var g=S.select("path.xerror");if(p.visible&&tl(x.y)&&tl(x.xh)&&tl(x.xs)){var c=(p.copy_ystyle?b:p).width;T="M"+x.xh+","+(x.y-c)+"v"+2*c+"m0,-"+c+"H"+x.xs,x.noXS||(T+="m0,-"+c+"v"+2*c),o=!g.size(),o?g=S.append("path").style("vector-effect",s?"none":"non-scaling-stroke").classed("xerror",!0):u&&(g=g.transition().duration(a.duration).ease(a.easing)),g.attr("d",T)}else g.remove()}})}})};function Eae(e,r,t){var n={x:r.c2p(e.x),y:t.c2p(e.y)};return e.yh!==void 0&&(n.yh=t.c2p(e.yh),n.ys=t.c2p(e.ys),tl(n.ys)||(n.noYS=!0,n.ys=t.c2p(e.ys,!0))),e.xh!==void 0&&(n.xh=r.c2p(e.xh),n.xs=r.c2p(e.xs),tl(n.xs)||(n.noXS=!0,n.xs=r.c2p(e.xs,!0))),n}});var HP=pe((ade,UP)=>{"use strict";var Lae=it(),BP=Zr();UP.exports=function(r){r.each(function(t){var n=t[0].trace,a=n.error_y||{},o=n.error_x||{},i=Lae.select(this);i.selectAll("path.yerror").style("stroke-width",a.thickness+"px").call(BP.stroke,a.color),o.copy_ystyle&&(o=a),i.selectAll("path.xerror").style("stroke-width",o.thickness+"px").call(BP.stroke,o.color)})}});var YP=pe((ide,GP)=>{"use strict";var D0=ir(),VP=zn().overrideAll,P0=u3(),us={error_x:D0.extendFlat({},P0),error_y:D0.extendFlat({},P0)};delete us.error_x.copy_zstyle;delete us.error_y.copy_zstyle;delete us.error_y.copy_ystyle;var F0={error_x:D0.extendFlat({},P0),error_y:D0.extendFlat({},P0),error_z:D0.extendFlat({},P0)};delete F0.error_x.copy_ystyle;delete F0.error_y.copy_ystyle;delete F0.error_z.copy_ystyle;delete F0.error_z.copy_zstyle;GP.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:us,bar:us,histogram:us,scatter3d:VP(F0,"calc","nested"),scattergl:VP(us,"calc","nested")}},supplyDefaults:RP(),calc:NP(),makeComputeError:f3(),plot:OP(),style:HP(),hoverInfo:Rae};function Rae(e,r,t){(r.error_y||{}).visible&&(t.yerr=e.yh-e.y,r.error_y.symmetric||(t.yerrneg=e.y-e.ys)),(r.error_x||{}).visible&&(t.xerr=e.xh-e.x,r.error_x.symmetric||(t.xerrneg=e.x-e.xs))}});var XP=pe((ode,WP)=>{"use strict";WP.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}});var eF=pe((lde,jP)=>{"use strict";var nl=it(),h3=ka(),rd=ln(),ZP=Er(),vo=St(),ed=ti(),Ga=ir(),pi=Ga.strTranslate,$P=Mt().extendFlat,d3=Vo(),di=yt(),p3=Zr(),Dae=Sf(),Pae=Yn(),Fae=Si().flipScale,Iae=T1(),Nae=Mm(),zae=Ra(),g3=qn(),JP=g3.LINE_SPACING,KP=g3.FROM_TL,QP=g3.FROM_BR,Et=XP().cn;function qae(e){var r=e._fullLayout,t=r._infolayer.selectAll("g."+Et.colorbar).data(Oae(e),function(n){return n._id});t.enter().append("g").attr("class",function(n){return n._id}).classed(Et.colorbar,!0),t.each(function(n){var a=nl.select(this);Ga.ensureSingle(a,"rect",Et.cbbg),Ga.ensureSingle(a,"g",Et.cbfills),Ga.ensureSingle(a,"g",Et.cblines),Ga.ensureSingle(a,"g",Et.cbaxis,function(i){i.classed(Et.crisp,!0)}),Ga.ensureSingle(a,"g",Et.cbtitleunshift,function(i){i.append("g").classed(Et.cbtitle,!0)}),Ga.ensureSingle(a,"rect",Et.cboutline);var o=Bae(a,n,e);o&&o.then&&(e._promises||[]).push(o),e._context.edits.colorbarPosition&&Uae(a,n,e)}),t.exit().each(function(n){rd.autoMargin(e,n._id)}).remove(),t.order()}function Oae(e){var r=e._fullLayout,t=e.calcdata,n=[],a,o,i,l;function u(S){return $P(S,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function s(){typeof l.calc=="function"?l.calc(e,i,a):(a._fillgradient=o.reversescale?Fae(o.colorscale):o.colorscale,a._zrange=[o[l.min],o[l.max]])}for(var f=0;f<t.length;f++){var v=t[f];if(i=v[0].trace,!!i._module){var p=i._module.colorbar;if(i.visible===!0&&p)for(var b=Array.isArray(p),y=b?p:[p],w=0;w<y.length;w++){l=y[w];var M=l.container;o=M?i[M]:i,o&&o.showscale&&(a=u(o.colorbar),a._id="cb"+i.uid+(b&&M?"-"+M:""),a._traceIndex=i.index,a._propPrefix=(M?M+".":"")+"colorbar.",a._meta=i._meta,s(),n.push(a))}}}for(var m in r._colorAxes)if(o=r[m],o.showscale){var k=r._colorAxes[m];a=u(o.colorbar),a._id="cb"+m,a._propPrefix=m+".colorbar.",a._meta=r._meta,l={min:"cmin",max:"cmax"},k[0]!=="heatmap"&&(i=k[1],l.calc=i._module.colorbar.calc),s(),n.push(a)}return n}function Bae(e,r,t){var n=r.orientation==="v",a=r.len,o=r.lenmode,i=r.thickness,l=r.thicknessmode,u=r.outlinewidth,s=r.borderwidth,f=r.bgcolor,v=r.xanchor,p=r.yanchor,b=r.xpad,y=r.ypad,w=r.x,M=n?r.y:1-r.y,m=r.yref==="paper",k=r.xref==="paper",S=t._fullLayout,x=S._size,T=r._fillcolor,d=r._line,_=r.title,g=_.side,c=r._zrange||nl.extent((typeof T=="function"?T:d.color).domain()),A=typeof d.color=="function"?d.color:function(){return d.color},h=typeof T=="function"?T:function(){return T},R=r._levels,E=Hae(t,r,c),D=E.fill,N=E.line,I=Math.round(i*(l==="fraction"?n?x.w:x.h:1)),F=I/(n?x.w:x.h),L=Math.round(a*(o==="fraction"?n?x.h:x.w:1)),P=L/(n?x.h:x.w),O=k?x.w:t._fullLayout.width,U=m?x.h:t._fullLayout.height,X=Math.round(n?w*O+b:M*U+y),j={center:.5,right:1}[v]||0,$={top:1,middle:.5}[p]||0,Y=n?w-j*F:M-$*F,q=n?M-$*P:w-j*P,Z=Math.round(n?U*(1-q):O*q);r._lenFrac=P,r._thickFrac=F,r._uFrac=Y,r._vFrac=q;var ne=r._axis=Vae(t,r,c);ne.position=F+(n?w+b/x.w:M+y/x.h);var Q=["top","bottom"].indexOf(g)!==-1;if(n&&Q&&(ne.title.side=g,ne.titlex=w+b/x.w,ne.titley=q+(_.side==="top"?P-y/x.h:y/x.h)),!n&&!Q&&(ne.title.side=g,ne.titley=M+y/x.h,ne.titlex=q+b/x.w),d.color&&r.tickmode==="auto"){ne.tickmode="linear",ne.tick0=R.start;var oe=R.size,ee=Ga.constrain(L/50,4,15)+1,G=(c[1]-c[0])/((r.nticks||ee)*oe);if(G>1){var re=Math.pow(10,Math.floor(Math.log(G)/Math.LN10));oe*=re*Ga.roundUp(G/re,[2,5,10]),(Math.abs(R.start)/R.size+1e-6)%1<2e-6&&(ne.tick0=0)}ne.dtick=oe}ne.domain=n?[q+y/x.h,q+P-y/x.h]:[q+b/x.w,q+P-b/x.w],ne.setScale(),e.attr("transform",pi(Math.round(x.l),Math.round(x.t)));var H=e.select("."+Et.cbtitleunshift).attr("transform",pi(-Math.round(x.l),-Math.round(x.t))),te=ne.ticklabelposition,ue=ne.title.font.size,de=e.select("."+Et.cbaxis),Ee,Me=0,ve=0;function Ae(Ue,ge){var Te={propContainer:ne,propName:r._propPrefix+"title",traceIndex:r._traceIndex,_meta:r._meta,placeholder:S._dfltTitle.colorbar,containerGroup:e.select("."+Et.cbtitle)},ce=Ue.charAt(0)==="h"?Ue.substr(1):"h"+Ue;e.selectAll("."+ce+",."+ce+"-math-group").remove(),Dae.draw(t,Ue,$P(Te,ge||{}))}function ke(){if(n&&Q||!n&&!Q){var Ue,ge;g==="top"&&(Ue=b+x.l+O*w,ge=y+x.t+U*(1-q-P)+3+ue*.75),g==="bottom"&&(Ue=b+x.l+O*w,ge=y+x.t+U*(1-q)-3-ue*.25),g==="right"&&(ge=y+x.t+U*M+3+ue*.75,Ue=b+x.l+O*q),Ae(ne._id+"title",{attributes:{x:Ue,y:ge,"text-anchor":n?"start":"middle"}})}}function De(){if(n&&!Q||!n&&Q){var Ue=ne.position||0,ge=ne._offset+ne._length/2,Te,ce;if(g==="right")ce=ge,Te=x.l+O*Ue+10+ue*(ne.showticklabels?1:.5);else if(Te=ge,g==="bottom"&&(ce=x.t+U*Ue+10+(te.indexOf("inside")===-1?ne.tickfont.size:0)+(ne.ticks!=="intside"&&r.ticklen||0)),g==="top"){var ye=_.text.split("<br>").length;ce=x.t+U*Ue+10-I-JP*ue*ye}Ae((n?"h":"v")+ne._id+"title",{avoid:{selection:nl.select(t).selectAll("g."+ne._id+"tick"),side:g,offsetTop:n?0:x.t,offsetLeft:n?x.l:0,maxShift:n?S.width:S.height},attributes:{x:Te,y:ce,"text-anchor":"middle"},transform:{rotate:n?-90:0,offset:0}})}}function Ce(){if(!n&&!Q||n&&Q){var Ue=e.select("."+Et.cbtitle),ge=Ue.select("text"),Te=[-u/2,u/2],ce=Ue.select(".h"+ne._id+"title-math-group").node(),ye=15.6;ge.node()&&(ye=parseInt(ge.node().style.fontSize,10)*JP);var Le;if(ce?(Le=di.bBox(ce),ve=Le.width,Me=Le.height,Me>ye&&(Te[1]-=(Me-ye)/2)):ge.node()&&!ge.classed(Et.jsPlaceholder)&&(Le=di.bBox(ge.node()),ve=Le.width,Me=Le.height),n){if(Me){if(Me+=5,g==="top")ne.domain[1]-=Me/x.h,Te[1]*=-1;else{ne.domain[0]+=Me/x.h;var me=Pae.lineCount(ge);Te[1]+=(1-me)*ye}Ue.attr("transform",pi(Te[0],Te[1])),ne.setScale()}}else ve&&(g==="right"&&(ne.domain[0]+=(ve+ue/2)/x.w),Ue.attr("transform",pi(Te[0],Te[1])),ne.setScale())}e.selectAll("."+Et.cbfills+",."+Et.cblines).attr("transform",n?pi(0,Math.round(x.h*(1-ne.domain[1]))):pi(Math.round(x.w*ne.domain[0]),0)),de.attr("transform",n?pi(0,Math.round(-x.t)):pi(Math.round(-x.l),0));var he=e.select("."+Et.cbfills).selectAll("rect."+Et.cbfill).attr("style","").data(D);he.enter().append("rect").classed(Et.cbfill,!0).attr("style",""),he.exit().remove();var be=c.map(ne.c2p).map(Math.round).sort(function(Ye,Ge){return Ye-Ge});he.each(function(Ye,Ge){var We=[Ge===0?c[0]:(D[Ge]+D[Ge-1])/2,Ge===D.length-1?c[1]:(D[Ge]+D[Ge+1])/2].map(ne.c2p).map(Math.round);n&&(We[1]=Ga.constrain(We[1]+(We[1]>We[0])?1:-1,be[0],be[1]));var we=nl.select(this).attr(n?"x":"y",X).attr(n?"y":"x",nl.min(We)).attr(n?"width":"height",Math.max(I,2)).attr(n?"height":"width",Math.max(nl.max(We)-nl.min(We),2));if(r._fillgradient)di.gradient(we,t,r._id,n?"vertical":"horizontalreversed",r._fillgradient,"fill");else{var Pe=h(Ye).replace("e-","");we.attr("fill",h3(Pe).toHexString())}});var Se=e.select("."+Et.cblines).selectAll("path."+Et.cbline).data(d.color&&d.width?N:[]);Se.enter().append("path").classed(Et.cbline,!0),Se.exit().remove(),Se.each(function(Ye){var Ge=X,We=Math.round(ne.c2p(Ye))+d.width/2%1;nl.select(this).attr("d","M"+(n?Ge+","+We:We+","+Ge)+(n?"h":"v")+I).call(di.lineGroupStyle,d.width,A(Ye),d.dash)}),de.selectAll("g."+ne._id+"tick,path").remove();var ze=X+I+(u||0)/2-(r.ticks==="outside"?1:0),Fe=vo.calcTicks(ne),Ze=vo.getTickSigns(ne)[2];return vo.drawTicks(t,ne,{vals:ne.ticks==="inside"?vo.clipEnds(ne,Fe):Fe,layer:de,path:vo.makeTickPath(ne,ze,Ze),transFn:vo.makeTransTickFn(ne)}),vo.drawLabels(t,ne,{vals:Fe,layer:de,transFn:vo.makeTransTickLabelFn(ne),labelFns:vo.makeLabelFns(ne,ze)})}function Oe(){var Ue,ge=I+u/2;te.indexOf("inside")===-1&&(Ue=di.bBox(de.node()),ge+=n?Ue.width:Ue.height),Ee=H.select("text");var Te=0,ce=n&&g==="top",ye=!n&&g==="right",Le=0;if(Ee.node()&&!Ee.classed(Et.jsPlaceholder)){var me,he=H.select(".h"+ne._id+"title-math-group").node();he&&(n&&Q||!n&&!Q)?(Ue=di.bBox(he),Te=Ue.width,me=Ue.height):(Ue=di.bBox(H.node()),Te=Ue.right-x.l-(n?X:Z),me=Ue.bottom-x.t-(n?Z:X),!n&&g==="top"&&(ge+=Ue.height,Le=Ue.height)),ye&&(Ee.attr("transform",pi(Te/2+ue/2,0)),Te*=2),ge=Math.max(ge,n?Te:me)}var be=(n?b:y)*2+ge+s+u/2,Se=0;!n&&_.text&&p==="bottom"&&M<=0&&(Se=be/2,be+=Se,Le+=Se),S._hColorbarMoveTitle=Se,S._hColorbarMoveCBTitle=Le;var ze=s+u,Fe=(n?X:Z)-ze/2-(n?b:0),Ze=(n?Z:X)-(n?L:y+Le-Se);e.select("."+Et.cbbg).attr("x",Fe).attr("y",Ze).attr(n?"width":"height",Math.max(be-Se,2)).attr(n?"height":"width",Math.max(L+ze,2)).call(p3.fill,f).call(p3.stroke,r.bordercolor).style("stroke-width",s);var Ye=ye?Math.max(Te-10,0):0;e.selectAll("."+Et.cboutline).attr("x",(n?X:Z+b)+Ye).attr("y",(n?Z+y-L:X)+(ce?Me:0)).attr(n?"width":"height",Math.max(I,2)).attr(n?"height":"width",Math.max(L-(n?2*y+Me:2*b+Ye),2)).call(p3.stroke,r.outlinecolor).style({fill:"none","stroke-width":u});var Ge=n?j*be:0,We=n?0:(1-$)*be-Le;if(Ge=k?x.l-Ge:-Ge,We=m?x.t-We:-We,e.attr("transform",pi(Ge,We)),!n&&(s||h3(f).getAlpha()&&!h3.equals(S.paper_bgcolor,f))){var we=de.selectAll("text"),Pe=we[0].length,Qe=e.select("."+Et.cbbg).node(),Ve=di.bBox(Qe),ar=di.getTranslate(e),se=2;we.each(function(Tr,Ar){var ft=0,Yr=Pe-1;if(Ar===ft||Ar===Yr){var mr=di.bBox(this),ct=di.getTranslate(this),Sr;if(Ar===Yr){var Ur=mr.right+ct.x,xt=Ve.right+ar.x+Z-s-se+w;Sr=xt-Ur,Sr>0&&(Sr=0)}else if(Ar===ft){var zr=mr.left+ct.x,Hr=Ve.left+ar.x+Z+s+se;Sr=Hr-zr,Sr<0&&(Sr=0)}Sr&&(Pe<3?this.setAttribute("transform","translate("+Sr+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var K={},ae=KP[v],Re=QP[v],Be=KP[p],je=QP[p],nr=be-I;n?(o==="pixels"?(K.y=M,K.t=L*Be,K.b=L*je):(K.t=K.b=0,K.yt=M+a*Be,K.yb=M-a*je),l==="pixels"?(K.x=w,K.l=be*ae,K.r=be*Re):(K.l=nr*ae,K.r=nr*Re,K.xl=w-i*ae,K.xr=w+i*Re)):(o==="pixels"?(K.x=w,K.l=L*ae,K.r=L*Re):(K.l=K.r=0,K.xl=w+a*ae,K.xr=w-a*Re),l==="pixels"?(K.y=1-M,K.t=be*Be,K.b=be*je):(K.t=nr*Be,K.b=nr*je,K.yt=M-i*Be,K.yb=M+i*je));var hr=r.y<.5?"b":"t",wr=r.x<.5?"l":"r";t._fullLayout._reservedMargin[r._id]={};var Cr={r:S.width-Fe-Ge,l:Fe+K.r,b:S.height-Ze-We,t:Ze+K.b};k&&m?rd.autoMargin(t,r._id,K):k?t._fullLayout._reservedMargin[r._id][hr]=Cr[hr]:m||n?t._fullLayout._reservedMargin[r._id][wr]=Cr[wr]:t._fullLayout._reservedMargin[r._id][hr]=Cr[hr]}return Ga.syncOrAsync([rd.previousPromises,ke,Ce,De,rd.previousPromises,Oe],t)}function Uae(e,r,t){var n=r.orientation==="v",a=t._fullLayout,o=a._size,i,l,u;ed.init({element:e.node(),gd:t,prepFn:function(){i=e.attr("transform"),d3(e)},moveFn:function(s,f){e.attr("transform",i+pi(s,f)),l=ed.align((n?r._uFrac:r._vFrac)+s/o.w,n?r._thickFrac:r._lenFrac,0,1,r.xanchor),u=ed.align((n?r._vFrac:1-r._uFrac)-f/o.h,n?r._lenFrac:r._thickFrac,0,1,r.yanchor);var v=ed.getCursor(l,u,r.xanchor,r.yanchor);d3(e,v)},doneFn:function(){if(d3(e),l!==void 0&&u!==void 0){var s={};s[r._propPrefix+"x"]=l,s[r._propPrefix+"y"]=u,r._traceIndex!==void 0?ZP.call("_guiRestyle",t,s,r._traceIndex):ZP.call("_guiRelayout",t,s)}}})}function Hae(e,r,t){var n=r._levels,a=[],o=[],i,l,u=n.end+n.size/100,s=n.size,f=1.001*t[0]-.001*t[1],v=1.001*t[1]-.001*t[0];for(l=0;l<1e5&&(i=n.start+l*s,!(s>0?i>=u:i<=u));l++)i>f&&i<v&&a.push(i);if(r._fillgradient)o=[0];else if(typeof r._fillcolor=="function"){var p=r._filllevels;if(p)for(u=p.end+p.size/100,s=p.size,l=0;l<1e5&&(i=p.start+l*s,!(s>0?i>=u:i<=u));l++)i>t[0]&&i<t[1]&&o.push(i);else o=a.map(function(b){return b-n.size/2}),o.push(o[o.length-1]+n.size)}else r._fillcolor&&typeof r._fillcolor=="string"&&(o=[0]);return n.size<0&&(a.reverse(),o.reverse()),{line:a,fill:o}}function Vae(e,r,t){var n=e._fullLayout,a=r.orientation==="v",o={type:"linear",range:t,tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:r.ticks,ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,labelalias:r.labelalias,ticklabelposition:r.ticklabelposition,ticklabeloverflow:r.ticklabeloverflow,ticklabelstep:r.ticklabelstep,tickfont:r.tickfont,tickangle:r.tickangle,tickformat:r.tickformat,exponentformat:r.exponentformat,minexponent:r.minexponent,separatethousands:r.separatethousands,showexponent:r.showexponent,showtickprefix:r.showtickprefix,tickprefix:r.tickprefix,showticksuffix:r.showticksuffix,ticksuffix:r.ticksuffix,title:r.title,showline:!0,anchor:"free",side:a?"right":"bottom",position:1},i=a?"y":"x",l={type:"linear",_id:i+r._id},u={letter:i,font:n.font,noAutotickangles:i==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:n.calendar};function s(f,v){return Ga.coerce(o,l,zae,f,v)}return Iae(o,l,s,u,n),Nae(o,l,s,u),l}jP.exports={draw:qae}});var tF=pe((sde,rF)=>{"use strict";rF.exports={moduleType:"component",name:"colorbar",attributes:pv(),supplyDefaults:_g(),draw:eF().draw,hasColorbar:fg()}});var aF=pe((ude,nF)=>{"use strict";nF.exports={moduleType:"component",name:"legend",layoutAttributes:g2(),supplyLayoutDefaults:x2(),draw:D2(),style:C2()}});var oF=pe((fde,iF)=>{"use strict";iF.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}});var sF=pe((cde,lF)=>{"use strict";lF.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}});var m3=pe((vde,vF)=>{"use strict";var Gae=Er(),cF=ir(),y3=cF.extendFlat,uF=cF.extendDeep;function fF(e){var r;switch(e){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function Yae(e){var r=["xaxis","yaxis","zaxis"];return r.indexOf(e.slice(0,5))>-1}vF.exports=function(r,t){var n,a=r.data,o=r.layout,i=uF([],a),l=uF({},o,fF(t.tileClass)),u=r._context||{};if(t.width&&(l.width=t.width),t.height&&(l.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){l.annotations=[];var s=Object.keys(l);for(n=0;n<s.length;n++)Yae(s[n])&&(l[s[n]].title={text:""});for(n=0;n<i.length;n++){var f=i[n];f.showscale=!1,f.marker&&(f.marker.showscale=!1),Gae.traceIs(f,"pie-like")&&(f.textposition="none")}}if(Array.isArray(t.annotations))for(n=0;n<t.annotations.length;n++)l.annotations.push(t.annotations[n]);var v=Object.keys(l).filter(function(M){return M.match(/^scene\d*$/)});if(v.length){var p={};for(t.tileClass==="thumbnail"&&(p={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<v.length;n++){var b=l[v[n]];b.xaxis||(b.xaxis={}),b.yaxis||(b.yaxis={}),b.zaxis||(b.zaxis={}),y3(b.xaxis,p),y3(b.yaxis,p),y3(b.zaxis,p),b._scene=null}}var y=document.createElement("div");t.tileClass&&(y.className=t.tileClass);var w={gd:y,td:y,layout:l,data:i,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:u.mapboxAccessToken}};return t.setBackground!=="transparent"&&(w.config.setBackground=t.setBackground||"opaque"),w.gd.defaultLayout=fF(t.tileClass),w}});var pF=pe((hde,dF)=>{"use strict";var Wae=tv().EventEmitter,Xae=Er(),Zae=ir(),hF=jl(),Jae=m3(),Kae=s1(),Qae=u1();function $ae(e,r){var t=new Wae,n=Jae(e,{format:"png"}),a=n.gd;a.style.position="absolute",a.style.left="-5000px",document.body.appendChild(a);function o(){var l=hF.getDelay(a._fullLayout);setTimeout(function(){var u=Kae(a),s=document.createElement("canvas");s.id=Zae.randstr(),t=Qae({format:r.format,width:a._fullLayout.width,height:a._fullLayout.height,canvas:s,emitter:t,svg:u}),t.clean=function(){a&&document.body.removeChild(a)}},l)}var i=hF.getRedrawFunc(a);return Xae.call("_doPlot",a,n.data,n.layout,n.config).then(i).then(o).catch(function(l){t.emit("error",l)}),t}dF.exports=$ae});var mF=pe((dde,yF)=>{"use strict";var gF=jl(),jae={getDelay:gF.getDelay,getRedrawFunc:gF.getRedrawFunc,clone:m3(),toSVG:s1(),svgToImg:u1(),toImage:pF(),downloadImage:Jy()};yF.exports=jae});var bF=pe(ho=>{"use strict";ho.version=pc().version;sb();$6();var eie=Er(),I0=ho.register=eie.register,b3=wC(),xF=Object.keys(b3);for(td=0;td<xF.length;td++)zu=xF[td],zu.charAt(0)!=="_"&&(ho[zu]=b3[zu]),I0({moduleType:"apiMethod",name:zu,fn:b3[zu]});var zu,td;I0(IL());I0([oR(),xR(),mu(),zR(),KR(),mD(),qD(),nP(),_P(),SP(),YP(),Li(),tF(),aF(),io(),ny()]);I0([oF(),sF()]);window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(I0(window.PlotlyLocales),delete window.PlotlyLocales);ho.Icons=uh();var nd=io(),x3=ln();ho.Plots={resize:x3.resize,graphJson:x3.graphJson,sendDataToCloud:x3.sendDataToCloud};ho.Fx={hover:nd.hover,unhover:nd.unhover,loneHover:nd.loneHover,loneUnhover:nd.loneUnhover};ho.Snapshot=mF();ho.PlotSchema=Vs()});var wF=pe((gde,_F)=>{"use strict";_F.exports=bF()});var pn=pe((yde,MF)=>{(function(){var e={1964:function(a,o,i){a.exports={alpha_shape:i(3502),convex_hull:i(7352),delaunay_triangulate:i(7642),gl_cone3d:i(6405),gl_error3d:i(9165),gl_line3d:i(5714),gl_mesh3d:i(7201),gl_plot3d:i(4100),gl_scatter3d:i(8418),gl_streamtube3d:i(7815),gl_surface3d:i(9499),ndarray:i(9618),ndarray_linear_interpolate:i(4317)}},4793:function(a,o,i){"use strict";var l;function u(se,K){if(!(se instanceof K))throw new TypeError("Cannot call a class as a function")}function s(se,K){for(var ae=0;ae<K.length;ae++){var Re=K[ae];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(se,v(Re.key),Re)}}function f(se,K,ae){return K&&s(se.prototype,K),ae&&s(se,ae),Object.defineProperty(se,"prototype",{writable:!1}),se}function v(se){var K=p(se,"string");return x(K)=="symbol"?K:K+""}function p(se,K){if(x(se)!="object"||!se)return se;var ae=se[Symbol.toPrimitive];if(ae!==void 0){var Re=ae.call(se,K||"default");if(x(Re)!="object")return Re;throw new TypeError("@@toPrimitive must return a primitive value.")}return(K==="string"?String:Number)(se)}function b(se,K,ae){return K=m(K),y(se,M()?Reflect.construct(K,ae||[],m(se).constructor):K.apply(se,ae))}function y(se,K){if(K&&(x(K)=="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(se)}function w(se){if(se===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return se}function M(){try{var se=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(K){}return(M=function(){return!!se})()}function m(se){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},m(se)}function k(se,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");se.prototype=Object.create(K&&K.prototype,{constructor:{value:se,writable:!0,configurable:!0}}),Object.defineProperty(se,"prototype",{writable:!1}),K&&S(se,K)}function S(se,K){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ae,Re){return ae.__proto__=Re,ae},S(se,K)}function x(se){"@babel/helpers - typeof";return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},x(se)}var T=i(7507),d=i(3778),_=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;o.hp=h,l=X,o.IS=50;var g=2147483647;l=g,h.TYPED_ARRAY_SUPPORT=c(),!h.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{var se=new Uint8Array(1),K={foo:function(){return 42}};return Object.setPrototypeOf(K,Uint8Array.prototype),Object.setPrototypeOf(se,K),se.foo()===42}catch(ae){return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function A(se){if(se>g)throw new RangeError('The value "'+se+'" is invalid for option "size"');var K=new Uint8Array(se);return Object.setPrototypeOf(K,h.prototype),K}function h(se,K,ae){if(typeof se=="number"){if(typeof K=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return N(se)}return R(se,K,ae)}h.poolSize=8192;function R(se,K,ae){if(typeof se=="string")return I(se,K);if(ArrayBuffer.isView(se))return L(se);if(se==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+x(se));if(we(se,ArrayBuffer)||se&&we(se.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(we(se,SharedArrayBuffer)||se&&we(se.buffer,SharedArrayBuffer)))return P(se,K,ae);if(typeof se=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Re=se.valueOf&&se.valueOf();if(Re!=null&&Re!==se)return h.from(Re,K,ae);var Be=O(se);if(Be)return Be;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof se[Symbol.toPrimitive]=="function")return h.from(se[Symbol.toPrimitive]("string"),K,ae);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+x(se))}h.from=function(se,K,ae){return R(se,K,ae)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function E(se){if(typeof se!="number")throw new TypeError('"size" argument must be of type number');if(se<0)throw new RangeError('The value "'+se+'" is invalid for option "size"')}function D(se,K,ae){return E(se),se<=0?A(se):K!==void 0?typeof ae=="string"?A(se).fill(K,ae):A(se).fill(K):A(se)}h.alloc=function(se,K,ae){return D(se,K,ae)};function N(se){return E(se),A(se<0?0:U(se)|0)}h.allocUnsafe=function(se){return N(se)},h.allocUnsafeSlow=function(se){return N(se)};function I(se,K){if((typeof K!="string"||K==="")&&(K="utf8"),!h.isEncoding(K))throw new TypeError("Unknown encoding: "+K);var ae=j(se,K)|0,Re=A(ae),Be=Re.write(se,K);return Be!==ae&&(Re=Re.slice(0,Be)),Re}function F(se){for(var K=se.length<0?0:U(se.length)|0,ae=A(K),Re=0;Re<K;Re+=1)ae[Re]=se[Re]&255;return ae}function L(se){if(we(se,Uint8Array)){var K=new Uint8Array(se);return P(K.buffer,K.byteOffset,K.byteLength)}return F(se)}function P(se,K,ae){if(K<0||se.byteLength<K)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<K+(ae||0))throw new RangeError('"length" is outside of buffer bounds');var Re;return K===void 0&&ae===void 0?Re=new Uint8Array(se):ae===void 0?Re=new Uint8Array(se,K):Re=new Uint8Array(se,K,ae),Object.setPrototypeOf(Re,h.prototype),Re}function O(se){if(h.isBuffer(se)){var K=U(se.length)|0,ae=A(K);return ae.length===0||se.copy(ae,0,0,K),ae}if(se.length!==void 0)return typeof se.length!="number"||Pe(se.length)?A(0):F(se);if(se.type==="Buffer"&&Array.isArray(se.data))return F(se.data)}function U(se){if(se>=g)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g.toString(16)+" bytes");return se|0}function X(se){return+se!=se&&(se=0),h.alloc(+se)}h.isBuffer=function(K){return K!=null&&K._isBuffer===!0&&K!==h.prototype},h.compare=function(K,ae){if(we(K,Uint8Array)&&(K=h.from(K,K.offset,K.byteLength)),we(ae,Uint8Array)&&(ae=h.from(ae,ae.offset,ae.byteLength)),!h.isBuffer(K)||!h.isBuffer(ae))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(K===ae)return 0;for(var Re=K.length,Be=ae.length,je=0,nr=Math.min(Re,Be);je<nr;++je)if(K[je]!==ae[je]){Re=K[je],Be=ae[je];break}return Re<Be?-1:Be<Re?1:0},h.isEncoding=function(K){switch(String(K).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(K,ae){if(!Array.isArray(K))throw new TypeError('"list" argument must be an Array of Buffers');if(K.length===0)return h.alloc(0);var Re;if(ae===void 0)for(ae=0,Re=0;Re<K.length;++Re)ae+=K[Re].length;var Be=h.allocUnsafe(ae),je=0;for(Re=0;Re<K.length;++Re){var nr=K[Re];if(we(nr,Uint8Array))je+nr.length>Be.length?(h.isBuffer(nr)||(nr=h.from(nr)),nr.copy(Be,je)):Uint8Array.prototype.set.call(Be,nr,je);else if(h.isBuffer(nr))nr.copy(Be,je);else throw new TypeError('"list" argument must be an Array of Buffers');je+=nr.length}return Be};function j(se,K){if(h.isBuffer(se))return se.length;if(ArrayBuffer.isView(se)||we(se,ArrayBuffer))return se.byteLength;if(typeof se!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+x(se));var ae=se.length,Re=arguments.length>2&&arguments[2]===!0;if(!Re&&ae===0)return 0;for(var Be=!1;;)switch(K){case"ascii":case"latin1":case"binary":return ae;case"utf8":case"utf-8":return Fe(se).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae*2;case"hex":return ae>>>1;case"base64":return Ge(se).length;default:if(Be)return Re?-1:Fe(se).length;K=(""+K).toLowerCase(),Be=!0}}h.byteLength=j;function $(se,K,ae){var Re=!1;if((K===void 0||K<0)&&(K=0),K>this.length||((ae===void 0||ae>this.length)&&(ae=this.length),ae<=0)||(ae>>>=0,K>>>=0,ae<=K))return"";for(se||(se="utf8");;)switch(se){case"hex":return Me(this,K,ae);case"utf8":case"utf-8":return H(this,K,ae);case"ascii":return de(this,K,ae);case"latin1":case"binary":return Ee(this,K,ae);case"base64":return re(this,K,ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ve(this,K,ae);default:if(Re)throw new TypeError("Unknown encoding: "+se);se=(se+"").toLowerCase(),Re=!0}}h.prototype._isBuffer=!0;function Y(se,K,ae){var Re=se[K];se[K]=se[ae],se[ae]=Re}h.prototype.swap16=function(){var K=this.length;if(K%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ae=0;ae<K;ae+=2)Y(this,ae,ae+1);return this},h.prototype.swap32=function(){var K=this.length;if(K%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ae=0;ae<K;ae+=4)Y(this,ae,ae+3),Y(this,ae+1,ae+2);return this},h.prototype.swap64=function(){var K=this.length;if(K%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ae=0;ae<K;ae+=8)Y(this,ae,ae+7),Y(this,ae+1,ae+6),Y(this,ae+2,ae+5),Y(this,ae+3,ae+4);return this},h.prototype.toString=function(){var K=this.length;return K===0?"":arguments.length===0?H(this,0,K):$.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(K){if(!h.isBuffer(K))throw new TypeError("Argument must be a Buffer");return this===K?!0:h.compare(this,K)===0},h.prototype.inspect=function(){var K="",ae=o.IS;return K=this.toString("hex",0,ae).replace(/(.{2})/g,"$1 ").trim(),this.length>ae&&(K+=" ... "),"<Buffer "+K+">"},_&&(h.prototype[_]=h.prototype.inspect),h.prototype.compare=function(K,ae,Re,Be,je){if(we(K,Uint8Array)&&(K=h.from(K,K.offset,K.byteLength)),!h.isBuffer(K))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+x(K));if(ae===void 0&&(ae=0),Re===void 0&&(Re=K?K.length:0),Be===void 0&&(Be=0),je===void 0&&(je=this.length),ae<0||Re>K.length||Be<0||je>this.length)throw new RangeError("out of range index");if(Be>=je&&ae>=Re)return 0;if(Be>=je)return-1;if(ae>=Re)return 1;if(ae>>>=0,Re>>>=0,Be>>>=0,je>>>=0,this===K)return 0;for(var nr=je-Be,hr=Re-ae,wr=Math.min(nr,hr),Cr=this.slice(Be,je),Tr=K.slice(ae,Re),Ar=0;Ar<wr;++Ar)if(Cr[Ar]!==Tr[Ar]){nr=Cr[Ar],hr=Tr[Ar];break}return nr<hr?-1:hr<nr?1:0};function q(se,K,ae,Re,Be){if(se.length===0)return-1;if(typeof ae=="string"?(Re=ae,ae=0):ae>2147483647?ae=2147483647:ae<-2147483648&&(ae=-2147483648),ae=+ae,Pe(ae)&&(ae=Be?0:se.length-1),ae<0&&(ae=se.length+ae),ae>=se.length){if(Be)return-1;ae=se.length-1}else if(ae<0)if(Be)ae=0;else return-1;if(typeof K=="string"&&(K=h.from(K,Re)),h.isBuffer(K))return K.length===0?-1:Z(se,K,ae,Re,Be);if(typeof K=="number")return K=K&255,typeof Uint8Array.prototype.indexOf=="function"?Be?Uint8Array.prototype.indexOf.call(se,K,ae):Uint8Array.prototype.lastIndexOf.call(se,K,ae):Z(se,[K],ae,Re,Be);throw new TypeError("val must be string, number or Buffer")}function Z(se,K,ae,Re,Be){var je=1,nr=se.length,hr=K.length;if(Re!==void 0&&(Re=String(Re).toLowerCase(),Re==="ucs2"||Re==="ucs-2"||Re==="utf16le"||Re==="utf-16le")){if(se.length<2||K.length<2)return-1;je=2,nr/=2,hr/=2,ae/=2}function wr(Yr,mr){return je===1?Yr[mr]:Yr.readUInt16BE(mr*je)}var Cr;if(Be){var Tr=-1;for(Cr=ae;Cr<nr;Cr++)if(wr(se,Cr)===wr(K,Tr===-1?0:Cr-Tr)){if(Tr===-1&&(Tr=Cr),Cr-Tr+1===hr)return Tr*je}else Tr!==-1&&(Cr-=Cr-Tr),Tr=-1}else for(ae+hr>nr&&(ae=nr-hr),Cr=ae;Cr>=0;Cr--){for(var Ar=!0,ft=0;ft<hr;ft++)if(wr(se,Cr+ft)!==wr(K,ft)){Ar=!1;break}if(Ar)return Cr}return-1}h.prototype.includes=function(K,ae,Re){return this.indexOf(K,ae,Re)!==-1},h.prototype.indexOf=function(K,ae,Re){return q(this,K,ae,Re,!0)},h.prototype.lastIndexOf=function(K,ae,Re){return q(this,K,ae,Re,!1)};function ne(se,K,ae,Re){ae=Number(ae)||0;var Be=se.length-ae;Re?(Re=Number(Re),Re>Be&&(Re=Be)):Re=Be;var je=K.length;Re>je/2&&(Re=je/2);var nr;for(nr=0;nr<Re;++nr){var hr=parseInt(K.substr(nr*2,2),16);if(Pe(hr))return nr;se[ae+nr]=hr}return nr}function Q(se,K,ae,Re){return We(Fe(K,se.length-ae),se,ae,Re)}function oe(se,K,ae,Re){return We(Ze(K),se,ae,Re)}function ee(se,K,ae,Re){return We(Ge(K),se,ae,Re)}function G(se,K,ae,Re){return We(Ye(K,se.length-ae),se,ae,Re)}h.prototype.write=function(K,ae,Re,Be){if(ae===void 0)Be="utf8",Re=this.length,ae=0;else if(Re===void 0&&typeof ae=="string")Be=ae,Re=this.length,ae=0;else if(isFinite(ae))ae=ae>>>0,isFinite(Re)?(Re=Re>>>0,Be===void 0&&(Be="utf8")):(Be=Re,Re=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var je=this.length-ae;if((Re===void 0||Re>je)&&(Re=je),K.length>0&&(Re<0||ae<0)||ae>this.length)throw new RangeError("Attempt to write outside buffer bounds");Be||(Be="utf8");for(var nr=!1;;)switch(Be){case"hex":return ne(this,K,ae,Re);case"utf8":case"utf-8":return Q(this,K,ae,Re);case"ascii":case"latin1":case"binary":return oe(this,K,ae,Re);case"base64":return ee(this,K,ae,Re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,K,ae,Re);default:if(nr)throw new TypeError("Unknown encoding: "+Be);Be=(""+Be).toLowerCase(),nr=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(se,K,ae){return K===0&&ae===se.length?T.fromByteArray(se):T.fromByteArray(se.slice(K,ae))}function H(se,K,ae){ae=Math.min(se.length,ae);for(var Re=[],Be=K;Be<ae;){var je=se[Be],nr=null,hr=je>239?4:je>223?3:je>191?2:1;if(Be+hr<=ae){var wr=void 0,Cr=void 0,Tr=void 0,Ar=void 0;switch(hr){case 1:je<128&&(nr=je);break;case 2:wr=se[Be+1],(wr&192)===128&&(Ar=(je&31)<<6|wr&63,Ar>127&&(nr=Ar));break;case 3:wr=se[Be+1],Cr=se[Be+2],(wr&192)===128&&(Cr&192)===128&&(Ar=(je&15)<<12|(wr&63)<<6|Cr&63,Ar>2047&&(Ar<55296||Ar>57343)&&(nr=Ar));break;case 4:wr=se[Be+1],Cr=se[Be+2],Tr=se[Be+3],(wr&192)===128&&(Cr&192)===128&&(Tr&192)===128&&(Ar=(je&15)<<18|(wr&63)<<12|(Cr&63)<<6|Tr&63,Ar>65535&&Ar<1114112&&(nr=Ar))}}nr===null?(nr=65533,hr=1):nr>65535&&(nr-=65536,Re.push(nr>>>10&1023|55296),nr=56320|nr&1023),Re.push(nr),Be+=hr}return ue(Re)}var te=4096;function ue(se){var K=se.length;if(K<=te)return String.fromCharCode.apply(String,se);for(var ae="",Re=0;Re<K;)ae+=String.fromCharCode.apply(String,se.slice(Re,Re+=te));return ae}function de(se,K,ae){var Re="";ae=Math.min(se.length,ae);for(var Be=K;Be<ae;++Be)Re+=String.fromCharCode(se[Be]&127);return Re}function Ee(se,K,ae){var Re="";ae=Math.min(se.length,ae);for(var Be=K;Be<ae;++Be)Re+=String.fromCharCode(se[Be]);return Re}function Me(se,K,ae){var Re=se.length;(!K||K<0)&&(K=0),(!ae||ae<0||ae>Re)&&(ae=Re);for(var Be="",je=K;je<ae;++je)Be+=Qe[se[je]];return Be}function ve(se,K,ae){for(var Re=se.slice(K,ae),Be="",je=0;je<Re.length-1;je+=2)Be+=String.fromCharCode(Re[je]+Re[je+1]*256);return Be}h.prototype.slice=function(K,ae){var Re=this.length;K=~~K,ae=ae===void 0?Re:~~ae,K<0?(K+=Re,K<0&&(K=0)):K>Re&&(K=Re),ae<0?(ae+=Re,ae<0&&(ae=0)):ae>Re&&(ae=Re),ae<K&&(ae=K);var Be=this.subarray(K,ae);return Object.setPrototypeOf(Be,h.prototype),Be};function Ae(se,K,ae){if(se%1!==0||se<0)throw new RangeError("offset is not uint");if(se+K>ae)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(K,ae,Re){K=K>>>0,ae=ae>>>0,Re||Ae(K,ae,this.length);for(var Be=this[K],je=1,nr=0;++nr<ae&&(je*=256);)Be+=this[K+nr]*je;return Be},h.prototype.readUintBE=h.prototype.readUIntBE=function(K,ae,Re){K=K>>>0,ae=ae>>>0,Re||Ae(K,ae,this.length);for(var Be=this[K+--ae],je=1;ae>0&&(je*=256);)Be+=this[K+--ae]*je;return Be},h.prototype.readUint8=h.prototype.readUInt8=function(K,ae){return K=K>>>0,ae||Ae(K,1,this.length),this[K]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(K,ae){return K=K>>>0,ae||Ae(K,2,this.length),this[K]|this[K+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(K,ae){return K=K>>>0,ae||Ae(K,2,this.length),this[K]<<8|this[K+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(K,ae){return K=K>>>0,ae||Ae(K,4,this.length),(this[K]|this[K+1]<<8|this[K+2]<<16)+this[K+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(K,ae){return K=K>>>0,ae||Ae(K,4,this.length),this[K]*16777216+(this[K+1]<<16|this[K+2]<<8|this[K+3])},h.prototype.readBigUInt64LE=Ve(function(K){K=K>>>0,he(K,"offset");var ae=this[K],Re=this[K+7];(ae===void 0||Re===void 0)&&be(K,this.length-8);var Be=ae+this[++K]*Math.pow(2,8)+this[++K]*Math.pow(2,16)+this[++K]*Math.pow(2,24),je=this[++K]+this[++K]*Math.pow(2,8)+this[++K]*Math.pow(2,16)+Re*Math.pow(2,24);return BigInt(Be)+(BigInt(je)<<BigInt(32))}),h.prototype.readBigUInt64BE=Ve(function(K){K=K>>>0,he(K,"offset");var ae=this[K],Re=this[K+7];(ae===void 0||Re===void 0)&&be(K,this.length-8);var Be=ae*Math.pow(2,24)+this[++K]*Math.pow(2,16)+this[++K]*Math.pow(2,8)+this[++K],je=this[++K]*Math.pow(2,24)+this[++K]*Math.pow(2,16)+this[++K]*Math.pow(2,8)+Re;return(BigInt(Be)<<BigInt(32))+BigInt(je)}),h.prototype.readIntLE=function(K,ae,Re){K=K>>>0,ae=ae>>>0,Re||Ae(K,ae,this.length);for(var Be=this[K],je=1,nr=0;++nr<ae&&(je*=256);)Be+=this[K+nr]*je;return je*=128,Be>=je&&(Be-=Math.pow(2,8*ae)),Be},h.prototype.readIntBE=function(K,ae,Re){K=K>>>0,ae=ae>>>0,Re||Ae(K,ae,this.length);for(var Be=ae,je=1,nr=this[K+--Be];Be>0&&(je*=256);)nr+=this[K+--Be]*je;return je*=128,nr>=je&&(nr-=Math.pow(2,8*ae)),nr},h.prototype.readInt8=function(K,ae){return K=K>>>0,ae||Ae(K,1,this.length),this[K]&128?(255-this[K]+1)*-1:this[K]},h.prototype.readInt16LE=function(K,ae){K=K>>>0,ae||Ae(K,2,this.length);var Re=this[K]|this[K+1]<<8;return Re&32768?Re|4294901760:Re},h.prototype.readInt16BE=function(K,ae){K=K>>>0,ae||Ae(K,2,this.length);var Re=this[K+1]|this[K]<<8;return Re&32768?Re|4294901760:Re},h.prototype.readInt32LE=function(K,ae){return K=K>>>0,ae||Ae(K,4,this.length),this[K]|this[K+1]<<8|this[K+2]<<16|this[K+3]<<24},h.prototype.readInt32BE=function(K,ae){return K=K>>>0,ae||Ae(K,4,this.length),this[K]<<24|this[K+1]<<16|this[K+2]<<8|this[K+3]},h.prototype.readBigInt64LE=Ve(function(K){K=K>>>0,he(K,"offset");var ae=this[K],Re=this[K+7];(ae===void 0||Re===void 0)&&be(K,this.length-8);var Be=this[K+4]+this[K+5]*Math.pow(2,8)+this[K+6]*Math.pow(2,16)+(Re<<24);return(BigInt(Be)<<BigInt(32))+BigInt(ae+this[++K]*Math.pow(2,8)+this[++K]*Math.pow(2,16)+this[++K]*Math.pow(2,24))}),h.prototype.readBigInt64BE=Ve(function(K){K=K>>>0,he(K,"offset");var ae=this[K],Re=this[K+7];(ae===void 0||Re===void 0)&&be(K,this.length-8);var Be=(ae<<24)+this[++K]*Math.pow(2,16)+this[++K]*Math.pow(2,8)+this[++K];return(BigInt(Be)<<BigInt(32))+BigInt(this[++K]*Math.pow(2,24)+this[++K]*Math.pow(2,16)+this[++K]*Math.pow(2,8)+Re)}),h.prototype.readFloatLE=function(K,ae){return K=K>>>0,ae||Ae(K,4,this.length),d.read(this,K,!0,23,4)},h.prototype.readFloatBE=function(K,ae){return K=K>>>0,ae||Ae(K,4,this.length),d.read(this,K,!1,23,4)},h.prototype.readDoubleLE=function(K,ae){return K=K>>>0,ae||Ae(K,8,this.length),d.read(this,K,!0,52,8)},h.prototype.readDoubleBE=function(K,ae){return K=K>>>0,ae||Ae(K,8,this.length),d.read(this,K,!1,52,8)};function ke(se,K,ae,Re,Be,je){if(!h.isBuffer(se))throw new TypeError('"buffer" argument must be a Buffer instance');if(K>Be||K<je)throw new RangeError('"value" argument is out of bounds');if(ae+Re>se.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(K,ae,Re,Be){if(K=+K,ae=ae>>>0,Re=Re>>>0,!Be){var je=Math.pow(2,8*Re)-1;ke(this,K,ae,Re,je,0)}var nr=1,hr=0;for(this[ae]=K&255;++hr<Re&&(nr*=256);)this[ae+hr]=K/nr&255;return ae+Re},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(K,ae,Re,Be){if(K=+K,ae=ae>>>0,Re=Re>>>0,!Be){var je=Math.pow(2,8*Re)-1;ke(this,K,ae,Re,je,0)}var nr=Re-1,hr=1;for(this[ae+nr]=K&255;--nr>=0&&(hr*=256);)this[ae+nr]=K/hr&255;return ae+Re},h.prototype.writeUint8=h.prototype.writeUInt8=function(K,ae,Re){return K=+K,ae=ae>>>0,Re||ke(this,K,ae,1,255,0),this[ae]=K&255,ae+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(K,ae,Re){return K=+K,ae=ae>>>0,Re||ke(this,K,ae,2,65535,0),this[ae]=K&255,this[ae+1]=K>>>8,ae+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(K,ae,Re){return K=+K,ae=ae>>>0,Re||ke(this,K,ae,2,65535,0),this[ae]=K>>>8,this[ae+1]=K&255,ae+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(K,ae,Re){return K=+K,ae=ae>>>0,Re||ke(this,K,ae,4,4294967295,0),this[ae+3]=K>>>24,this[ae+2]=K>>>16,this[ae+1]=K>>>8,this[ae]=K&255,ae+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(K,ae,Re){return K=+K,ae=ae>>>0,Re||ke(this,K,ae,4,4294967295,0),this[ae]=K>>>24,this[ae+1]=K>>>16,this[ae+2]=K>>>8,this[ae+3]=K&255,ae+4};function De(se,K,ae,Re,Be){me(K,Re,Be,se,ae,7);var je=Number(K&BigInt(4294967295));se[ae++]=je,je=je>>8,se[ae++]=je,je=je>>8,se[ae++]=je,je=je>>8,se[ae++]=je;var nr=Number(K>>BigInt(32)&BigInt(4294967295));return se[ae++]=nr,nr=nr>>8,se[ae++]=nr,nr=nr>>8,se[ae++]=nr,nr=nr>>8,se[ae++]=nr,ae}function Ce(se,K,ae,Re,Be){me(K,Re,Be,se,ae,7);var je=Number(K&BigInt(4294967295));se[ae+7]=je,je=je>>8,se[ae+6]=je,je=je>>8,se[ae+5]=je,je=je>>8,se[ae+4]=je;var nr=Number(K>>BigInt(32)&BigInt(4294967295));return se[ae+3]=nr,nr=nr>>8,se[ae+2]=nr,nr=nr>>8,se[ae+1]=nr,nr=nr>>8,se[ae]=nr,ae+8}h.prototype.writeBigUInt64LE=Ve(function(K){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return De(this,K,ae,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=Ve(function(K){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ce(this,K,ae,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(K,ae,Re,Be){if(K=+K,ae=ae>>>0,!Be){var je=Math.pow(2,8*Re-1);ke(this,K,ae,Re,je-1,-je)}var nr=0,hr=1,wr=0;for(this[ae]=K&255;++nr<Re&&(hr*=256);)K<0&&wr===0&&this[ae+nr-1]!==0&&(wr=1),this[ae+nr]=(K/hr>>0)-wr&255;return ae+Re},h.prototype.writeIntBE=function(K,ae,Re,Be){if(K=+K,ae=ae>>>0,!Be){var je=Math.pow(2,8*Re-1);ke(this,K,ae,Re,je-1,-je)}var nr=Re-1,hr=1,wr=0;for(this[ae+nr]=K&255;--nr>=0&&(hr*=256);)K<0&&wr===0&&this[ae+nr+1]!==0&&(wr=1),this[ae+nr]=(K/hr>>0)-wr&255;return ae+Re},h.prototype.writeInt8=function(K,ae,Re){return K=+K,ae=ae>>>0,Re||ke(this,K,ae,1,127,-128),K<0&&(K=255+K+1),this[ae]=K&255,ae+1},h.prototype.writeInt16LE=function(K,ae,Re){return K=+K,ae=ae>>>0,Re||ke(this,K,ae,2,32767,-32768),this[ae]=K&255,this[ae+1]=K>>>8,ae+2},h.prototype.writeInt16BE=function(K,ae,Re){return K=+K,ae=ae>>>0,Re||ke(this,K,ae,2,32767,-32768),this[ae]=K>>>8,this[ae+1]=K&255,ae+2},h.prototype.writeInt32LE=function(K,ae,Re){return K=+K,ae=ae>>>0,Re||ke(this,K,ae,4,2147483647,-2147483648),this[ae]=K&255,this[ae+1]=K>>>8,this[ae+2]=K>>>16,this[ae+3]=K>>>24,ae+4},h.prototype.writeInt32BE=function(K,ae,Re){return K=+K,ae=ae>>>0,Re||ke(this,K,ae,4,2147483647,-2147483648),K<0&&(K=4294967295+K+1),this[ae]=K>>>24,this[ae+1]=K>>>16,this[ae+2]=K>>>8,this[ae+3]=K&255,ae+4},h.prototype.writeBigInt64LE=Ve(function(K){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return De(this,K,ae,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=Ve(function(K){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ce(this,K,ae,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Oe(se,K,ae,Re,Be,je){if(ae+Re>se.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("Index out of range")}function Ue(se,K,ae,Re,Be){return K=+K,ae=ae>>>0,Be||Oe(se,K,ae,4,34028234663852886e22,-34028234663852886e22),d.write(se,K,ae,Re,23,4),ae+4}h.prototype.writeFloatLE=function(K,ae,Re){return Ue(this,K,ae,!0,Re)},h.prototype.writeFloatBE=function(K,ae,Re){return Ue(this,K,ae,!1,Re)};function ge(se,K,ae,Re,Be){return K=+K,ae=ae>>>0,Be||Oe(se,K,ae,8,17976931348623157e292,-17976931348623157e292),d.write(se,K,ae,Re,52,8),ae+8}h.prototype.writeDoubleLE=function(K,ae,Re){return ge(this,K,ae,!0,Re)},h.prototype.writeDoubleBE=function(K,ae,Re){return ge(this,K,ae,!1,Re)},h.prototype.copy=function(K,ae,Re,Be){if(!h.isBuffer(K))throw new TypeError("argument should be a Buffer");if(Re||(Re=0),!Be&&Be!==0&&(Be=this.length),ae>=K.length&&(ae=K.length),ae||(ae=0),Be>0&&Be<Re&&(Be=Re),Be===Re||K.length===0||this.length===0)return 0;if(ae<0)throw new RangeError("targetStart out of bounds");if(Re<0||Re>=this.length)throw new RangeError("Index out of range");if(Be<0)throw new RangeError("sourceEnd out of bounds");Be>this.length&&(Be=this.length),K.length-ae<Be-Re&&(Be=K.length-ae+Re);var je=Be-Re;return this===K&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ae,Re,Be):Uint8Array.prototype.set.call(K,this.subarray(Re,Be),ae),je},h.prototype.fill=function(K,ae,Re,Be){if(typeof K=="string"){if(typeof ae=="string"?(Be=ae,ae=0,Re=this.length):typeof Re=="string"&&(Be=Re,Re=this.length),Be!==void 0&&typeof Be!="string")throw new TypeError("encoding must be a string");if(typeof Be=="string"&&!h.isEncoding(Be))throw new TypeError("Unknown encoding: "+Be);if(K.length===1){var je=K.charCodeAt(0);(Be==="utf8"&&je<128||Be==="latin1")&&(K=je)}}else typeof K=="number"?K=K&255:typeof K=="boolean"&&(K=Number(K));if(ae<0||this.length<ae||this.length<Re)throw new RangeError("Out of range index");if(Re<=ae)return this;ae=ae>>>0,Re=Re===void 0?this.length:Re>>>0,K||(K=0);var nr;if(typeof K=="number")for(nr=ae;nr<Re;++nr)this[nr]=K;else{var hr=h.isBuffer(K)?K:h.from(K,Be),wr=hr.length;if(wr===0)throw new TypeError('The value "'+K+'" is invalid for argument "value"');for(nr=0;nr<Re-ae;++nr)this[nr+ae]=hr[nr%wr]}return this};var Te={};function ce(se,K,ae){Te[se]=function(Re){function Be(){var je;return u(this,Be),je=b(this,Be),Object.defineProperty(je,"message",{value:K.apply(je,arguments),writable:!0,configurable:!0}),je.name="".concat(je.name," [").concat(se,"]"),je.stack,delete je.name,je}return k(Be,Re),f(Be,[{key:"code",get:function(){return se},set:function(nr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:nr,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(se,"]: ").concat(this.message)}}])}(ae)}ce("ERR_BUFFER_OUT_OF_BOUNDS",function(se){return se?"".concat(se," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),ce("ERR_INVALID_ARG_TYPE",function(se,K){return'The "'.concat(se,'" argument must be of type number. Received type ').concat(x(K))},TypeError),ce("ERR_OUT_OF_RANGE",function(se,K,ae){var Re='The value of "'.concat(se,'" is out of range.'),Be=ae;return Number.isInteger(ae)&&Math.abs(ae)>Math.pow(2,32)?Be=ye(String(ae)):typeof ae=="bigint"&&(Be=String(ae),(ae>Math.pow(BigInt(2),BigInt(32))||ae<-Math.pow(BigInt(2),BigInt(32)))&&(Be=ye(Be)),Be+="n"),Re+=" It must be ".concat(K,". Received ").concat(Be),Re},RangeError);function ye(se){for(var K="",ae=se.length,Re=se[0]==="-"?1:0;ae>=Re+4;ae-=3)K="_".concat(se.slice(ae-3,ae)).concat(K);return"".concat(se.slice(0,ae)).concat(K)}function Le(se,K,ae){he(K,"offset"),(se[K]===void 0||se[K+ae]===void 0)&&be(K,se.length-(ae+1))}function me(se,K,ae,Re,Be,je){if(se>ae||se<K){var nr=typeof K=="bigint"?"n":"",hr;throw je>3?K===0||K===BigInt(0)?hr=">= 0".concat(nr," and < 2").concat(nr," ** ").concat((je+1)*8).concat(nr):hr=">= -(2".concat(nr," ** ").concat((je+1)*8-1).concat(nr,") and < 2 ** ")+"".concat((je+1)*8-1).concat(nr):hr=">= ".concat(K).concat(nr," and <= ").concat(ae).concat(nr),new Te.ERR_OUT_OF_RANGE("value",hr,se)}Le(Re,Be,je)}function he(se,K){if(typeof se!="number")throw new Te.ERR_INVALID_ARG_TYPE(K,"number",se)}function be(se,K,ae){throw Math.floor(se)!==se?(he(se,ae),new Te.ERR_OUT_OF_RANGE(ae||"offset","an integer",se)):K<0?new Te.ERR_BUFFER_OUT_OF_BOUNDS:new Te.ERR_OUT_OF_RANGE(ae||"offset",">= ".concat(ae?1:0," and <= ").concat(K),se)}var Se=/[^+/0-9A-Za-z-_]/g;function ze(se){if(se=se.split("=")[0],se=se.trim().replace(Se,""),se.length<2)return"";for(;se.length%4!==0;)se=se+"=";return se}function Fe(se,K){K=K||1/0;for(var ae,Re=se.length,Be=null,je=[],nr=0;nr<Re;++nr){if(ae=se.charCodeAt(nr),ae>55295&&ae<57344){if(!Be){if(ae>56319){(K-=3)>-1&&je.push(239,191,189);continue}else if(nr+1===Re){(K-=3)>-1&&je.push(239,191,189);continue}Be=ae;continue}if(ae<56320){(K-=3)>-1&&je.push(239,191,189),Be=ae;continue}ae=(Be-55296<<10|ae-56320)+65536}else Be&&(K-=3)>-1&&je.push(239,191,189);if(Be=null,ae<128){if((K-=1)<0)break;je.push(ae)}else if(ae<2048){if((K-=2)<0)break;je.push(ae>>6|192,ae&63|128)}else if(ae<65536){if((K-=3)<0)break;je.push(ae>>12|224,ae>>6&63|128,ae&63|128)}else if(ae<1114112){if((K-=4)<0)break;je.push(ae>>18|240,ae>>12&63|128,ae>>6&63|128,ae&63|128)}else throw new Error("Invalid code point")}return je}function Ze(se){for(var K=[],ae=0;ae<se.length;++ae)K.push(se.charCodeAt(ae)&255);return K}function Ye(se,K){for(var ae,Re,Be,je=[],nr=0;nr<se.length&&!((K-=2)<0);++nr)ae=se.charCodeAt(nr),Re=ae>>8,Be=ae%256,je.push(Be),je.push(Re);return je}function Ge(se){return T.toByteArray(ze(se))}function We(se,K,ae,Re){var Be;for(Be=0;Be<Re&&!(Be+ae>=K.length||Be>=se.length);++Be)K[Be+ae]=se[Be];return Be}function we(se,K){return se instanceof K||se!=null&&se.constructor!=null&&se.constructor.name!=null&&se.constructor.name===K.name}function Pe(se){return se!==se}var Qe=function(){for(var se="0123456789abcdef",K=new Array(256),ae=0;ae<16;++ae)for(var Re=ae*16,Be=0;Be<16;++Be)K[Re+Be]=se[ae]+se[Be];return K}();function Ve(se){return typeof BigInt=="undefined"?ar:se}function ar(){throw new Error("BigInt not supported")}},9216:function(a){"use strict";a.exports=u,a.exports.isMobile=u,a.exports.default=u;var o=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,i=/CrOS/,l=/android|ipad|playbook|silk/i;function u(s){s||(s={});var f=s.ua;if(!f&&typeof navigator!="undefined"&&(f=navigator.userAgent),f&&f.headers&&typeof f.headers["user-agent"]=="string"&&(f=f.headers["user-agent"]),typeof f!="string")return!1;var v=o.test(f)&&!i.test(f)||!!s.tablet&&l.test(f);return!v&&s.tablet&&s.featureDetect&&navigator&&navigator.maxTouchPoints>1&&f.indexOf("Macintosh")!==-1&&f.indexOf("Safari")!==-1&&(v=!0),v}},6296:function(a,o,i){"use strict";a.exports=p;var l=i(7261),u=i(9977),s=i(1811);function f(b,y){this._controllerNames=Object.keys(b),this._controllerList=this._controllerNames.map(function(w){return b[w]}),this._mode=y,this._active=b[y],this._active||(this._mode="turntable",this._active=b.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var v=f.prototype;v.flush=function(b){for(var y=this._controllerList,w=0;w<y.length;++w)y[w].flush(b)},v.idle=function(b){for(var y=this._controllerList,w=0;w<y.length;++w)y[w].idle(b)},v.lookAt=function(b,y,w,M){for(var m=this._controllerList,k=0;k<m.length;++k)m[k].lookAt(b,y,w,M)},v.rotate=function(b,y,w,M){for(var m=this._controllerList,k=0;k<m.length;++k)m[k].rotate(b,y,w,M)},v.pan=function(b,y,w,M){for(var m=this._controllerList,k=0;k<m.length;++k)m[k].pan(b,y,w,M)},v.translate=function(b,y,w,M){for(var m=this._controllerList,k=0;k<m.length;++k)m[k].translate(b,y,w,M)},v.setMatrix=function(b,y){for(var w=this._controllerList,M=0;M<w.length;++M)w[M].setMatrix(b,y)},v.setDistanceLimits=function(b,y){for(var w=this._controllerList,M=0;M<w.length;++M)w[M].setDistanceLimits(b,y)},v.setDistance=function(b,y){for(var w=this._controllerList,M=0;M<w.length;++M)w[M].setDistance(b,y)},v.recalcMatrix=function(b){this._active.recalcMatrix(b)},v.getDistance=function(b){return this._active.getDistance(b)},v.getDistanceLimits=function(b){return this._active.getDistanceLimits(b)},v.lastT=function(){return this._active.lastT()},v.setMode=function(b){if(b!==this._mode){var y=this._controllerNames.indexOf(b);if(!(y<0)){var w=this._active,M=this._controllerList[y],m=Math.max(w.lastT(),M.lastT());w.recalcMatrix(m),M.setMatrix(m,w.computedMatrix),this._active=M,this._mode=b,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},v.getMode=function(){return this._mode};function p(b){b=b||{};var y=b.eye||[0,0,1],w=b.center||[0,0,0],M=b.up||[0,1,0],m=b.distanceLimits||[0,1/0],k=b.mode||"turntable",S=l(),x=u(),T=s();return S.setDistanceLimits(m[0],m[1]),S.lookAt(0,y,w,M),x.setDistanceLimits(m[0],m[1]),x.lookAt(0,y,w,M),T.setDistanceLimits(m[0],m[1]),T.lookAt(0,y,w,M),new f({turntable:S,orbit:x,matrix:T},k)}},7169:function(a,o,i){"use strict";var l=typeof WeakMap=="undefined"?i(1538):WeakMap,u=i(2762),s=i(8116),f=new l;function v(p){var b=f.get(p),y=b&&(b._triangleBuffer.handle||b._triangleBuffer.buffer);if(!y||!p.isBuffer(y)){var w=u(p,new Float32Array([-1,-1,-1,4,4,-1]));b=s(p,[{buffer:w,type:p.FLOAT,size:2}]),b._triangleBuffer=w,f.set(p,b)}b.bind(),p.drawArrays(p.TRIANGLES,0,3),b.unbind()}a.exports=v},1085:function(a,o,i){var l=i(1371);a.exports=u;function u(s,f,v){f=typeof f=="number"?f:1,v=v||": ";var p=s.split(/\r?\n/),b=String(p.length+f-1).length;return p.map(function(y,w){var M=w+f,m=String(M).length,k=l(M,b-m);return k+v+y}).join(`
`)}},3952:function(a,o,i){"use strict";a.exports=s;var l=i(3250);function u(f,v){for(var p=new Array(v+1),b=0;b<f.length;++b)p[b]=f[b];for(var b=0;b<=f.length;++b){for(var y=f.length;y<=v;++y){for(var w=new Array(v),M=0;M<v;++M)w[M]=Math.pow(y+1-b,M);p[y]=w}var m=l.apply(void 0,p);if(m)return!0}return!1}function s(f){var v=f.length;if(v===0)return[];if(v===1)return[0];for(var p=f[0].length,b=[f[0]],y=[0],w=1;w<v;++w){if(b.push(f[w]),!u(b,p)){b.pop();continue}if(y.push(w),y.length===p+1)return y}return y}},5995:function(a,o,i){"use strict";a.exports=s;var l=i(7642),u=i(6037);function s(f,v){return l(v).filter(function(p){for(var b=new Array(p.length),y=0;y<p.length;++y)b[y]=v[p[y]];return u(b)*f<1})}},3502:function(a,o,i){a.exports=s;var l=i(5995),u=i(9127);function s(f,v){return u(l(f,v))}},6468:function(a){a.exports=function(i){return atob(i)}},2642:function(a,o,i){"use strict";a.exports=s;var l=i(727);function u(f){for(var v=0,p=0;p<f.length;++p)v+=f[p];return v}function s(f,v){for(var p=v.length,b=new Array(p+1),y=0;y<p;++y){for(var w=new Array(p+1),M=0;M<=p;++M)w[M]=f[M][y];b[y]=w}b[p]=new Array(p+1);for(var y=0;y<=p;++y)b[p][y]=1;for(var m=new Array(p+1),y=0;y<p;++y)m[y]=v[y];m[p]=1;var k=l(b,m),S=u(k[p+1]);S===0&&(S=1);for(var x=new Array(p+1),y=0;y<=p;++y)x[y]=u(k[y])/S;return x}},7507:function(a,o){"use strict";o.byteLength=b,o.toByteArray=w,o.fromByteArray=k;for(var i=[],l=[],u=typeof Uint8Array!="undefined"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,v=s.length;f<v;++f)i[f]=s[f],l[s.charCodeAt(f)]=f;l[45]=62,l[95]=63;function p(S){var x=S.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=S.indexOf("=");T===-1&&(T=x);var d=T===x?0:4-T%4;return[T,d]}function b(S){var x=p(S),T=x[0],d=x[1];return(T+d)*3/4-d}function y(S,x,T){return(x+T)*3/4-T}function w(S){var x,T=p(S),d=T[0],_=T[1],g=new u(y(S,d,_)),c=0,A=_>0?d-4:d,h;for(h=0;h<A;h+=4)x=l[S.charCodeAt(h)]<<18|l[S.charCodeAt(h+1)]<<12|l[S.charCodeAt(h+2)]<<6|l[S.charCodeAt(h+3)],g[c++]=x>>16&255,g[c++]=x>>8&255,g[c++]=x&255;return _===2&&(x=l[S.charCodeAt(h)]<<2|l[S.charCodeAt(h+1)]>>4,g[c++]=x&255),_===1&&(x=l[S.charCodeAt(h)]<<10|l[S.charCodeAt(h+1)]<<4|l[S.charCodeAt(h+2)]>>2,g[c++]=x>>8&255,g[c++]=x&255),g}function M(S){return i[S>>18&63]+i[S>>12&63]+i[S>>6&63]+i[S&63]}function m(S,x,T){for(var d,_=[],g=x;g<T;g+=3)d=(S[g]<<16&16711680)+(S[g+1]<<8&65280)+(S[g+2]&255),_.push(M(d));return _.join("")}function k(S){for(var x,T=S.length,d=T%3,_=[],g=16383,c=0,A=T-d;c<A;c+=g)_.push(m(S,c,c+g>A?A:c+g));return d===1?(x=S[T-1],_.push(i[x>>2]+i[x<<4&63]+"==")):d===2&&(x=(S[T-2]<<8)+S[T-1],_.push(i[x>>10]+i[x>>4&63]+i[x<<2&63]+"=")),_.join("")}},3865:function(a,o,i){"use strict";var l=i(869);a.exports=u;function u(s,f){return l(s[0].mul(f[1]).add(f[0].mul(s[1])),s[1].mul(f[1]))}},1318:function(a){"use strict";a.exports=o;function o(i,l){return i[0].mul(l[1]).cmp(l[0].mul(i[1]))}},8697:function(a,o,i){"use strict";var l=i(869);a.exports=u;function u(s,f){return l(s[0].mul(f[1]),s[1].mul(f[0]))}},7842:function(a,o,i){"use strict";var l=i(6330),u=i(1533),s=i(2651),f=i(6768),v=i(869),p=i(8697);a.exports=b;function b(y,w){if(l(y))return w?p(y,b(w)):[y[0].clone(),y[1].clone()];var M=0,m,k;if(u(y))m=y.clone();else if(typeof y=="string")m=f(y);else{if(y===0)return[s(0),s(1)];if(y===Math.floor(y))m=s(y);else{for(;y!==Math.floor(y);)y=y*Math.pow(2,256),M-=256;m=s(y)}}if(l(w))m.mul(w[1]),k=w[0].clone();else if(u(w))k=w.clone();else if(typeof w=="string")k=f(w);else if(!w)k=s(1);else if(w===Math.floor(w))k=s(w);else{for(;w!==Math.floor(w);)w=w*Math.pow(2,256),M+=256;k=s(w)}return M>0?m=m.ushln(M):M<0&&(k=k.ushln(-M)),v(m,k)}},6330:function(a,o,i){"use strict";var l=i(1533);a.exports=u;function u(s){return Array.isArray(s)&&s.length===2&&l(s[0])&&l(s[1])}},5716:function(a,o,i){"use strict";var l=i(6859);a.exports=u;function u(s){return s.cmp(new l(0))}},1369:function(a,o,i){"use strict";var l=i(5716);a.exports=u;function u(s){var f=s.length,v=s.words,p=0;if(f===1)p=v[0];else if(f===2)p=v[0]+v[1]*67108864;else for(var b=0;b<f;b++){var y=v[b];p+=y*Math.pow(67108864,b)}return l(s)*p}},4025:function(a,o,i){"use strict";var l=i(2361),u=i(8828).countTrailingZeros;a.exports=s;function s(f){var v=u(l.lo(f));if(v<32)return v;var p=u(l.hi(f));return p>20?52:p+32}},1533:function(a,o,i){"use strict";var l=i(6859);a.exports=u;function u(s){return s&&typeof s=="object"&&!!s.words}},2651:function(a,o,i){"use strict";var l=i(6859),u=i(2361);a.exports=s;function s(f){var v=u.exponent(f);return v<52?new l(f):new l(f*Math.pow(2,52-v)).ushln(v-52)}},869:function(a,o,i){"use strict";var l=i(2651),u=i(5716);a.exports=s;function s(f,v){var p=u(f),b=u(v);if(p===0)return[l(0),l(1)];if(b===0)return[l(0),l(0)];b<0&&(f=f.neg(),v=v.neg());var y=f.gcd(v);return y.cmpn(1)?[f.div(y),v.div(y)]:[f,v]}},6768:function(a,o,i){"use strict";var l=i(6859);a.exports=u;function u(s){return new l(s)}},6504:function(a,o,i){"use strict";var l=i(869);a.exports=u;function u(s,f){return l(s[0].mul(f[0]),s[1].mul(f[1]))}},7721:function(a,o,i){"use strict";var l=i(5716);a.exports=u;function u(s){return l(s[0])*l(s[1])}},5572:function(a,o,i){"use strict";var l=i(869);a.exports=u;function u(s,f){return l(s[0].mul(f[1]).sub(s[1].mul(f[0])),s[1].mul(f[1]))}},946:function(a,o,i){"use strict";var l=i(1369),u=i(4025);a.exports=s;function s(f){var v=f[0],p=f[1];if(v.cmpn(0)===0)return 0;var b=v.abs().divmod(p.abs()),y=b.div,w=l(y),M=b.mod,m=v.negative!==p.negative?-1:1;if(M.cmpn(0)===0)return m*w;if(w){var k=u(w)+4,S=l(M.ushln(k).divRound(p));return m*(w+S*Math.pow(2,-k))}else{var x=p.bitLength()-M.bitLength()+53,S=l(M.ushln(x).divRound(p));return x<1023?m*S*Math.pow(2,-x):(S*=Math.pow(2,-1023),m*S*Math.pow(2,1023-x))}}},2478:function(a){"use strict";function o(v,p,b,y,w){for(var M=w+1;y<=w;){var m=y+w>>>1,k=v[m],S=b!==void 0?b(k,p):k-p;S>=0?(M=m,w=m-1):y=m+1}return M}function i(v,p,b,y,w){for(var M=w+1;y<=w;){var m=y+w>>>1,k=v[m],S=b!==void 0?b(k,p):k-p;S>0?(M=m,w=m-1):y=m+1}return M}function l(v,p,b,y,w){for(var M=y-1;y<=w;){var m=y+w>>>1,k=v[m],S=b!==void 0?b(k,p):k-p;S<0?(M=m,y=m+1):w=m-1}return M}function u(v,p,b,y,w){for(var M=y-1;y<=w;){var m=y+w>>>1,k=v[m],S=b!==void 0?b(k,p):k-p;S<=0?(M=m,y=m+1):w=m-1}return M}function s(v,p,b,y,w){for(;y<=w;){var M=y+w>>>1,m=v[M],k=b!==void 0?b(m,p):m-p;if(k===0)return M;k<=0?y=M+1:w=M-1}return-1}function f(v,p,b,y,w,M){return typeof b=="function"?M(v,p,b,y===void 0?0:y|0,w===void 0?v.length-1:w|0):M(v,p,void 0,b===void 0?0:b|0,y===void 0?v.length-1:y|0)}a.exports={ge:function(v,p,b,y,w){return f(v,p,b,y,w,o)},gt:function(v,p,b,y,w){return f(v,p,b,y,w,i)},lt:function(v,p,b,y,w){return f(v,p,b,y,w,l)},le:function(v,p,b,y,w){return f(v,p,b,y,w,u)},eq:function(v,p,b,y,w){return f(v,p,b,y,w,s)}}},8828:function(a,o){"use strict";"use restrict";var i=32;o.INT_BITS=i,o.INT_MAX=2147483647,o.INT_MIN=-1<<i-1,o.sign=function(s){return(s>0)-(s<0)},o.abs=function(s){var f=s>>i-1;return(s^f)-f},o.min=function(s,f){return f^(s^f)&-(s<f)},o.max=function(s,f){return s^(s^f)&-(s<f)},o.isPow2=function(s){return!(s&s-1)&&!!s},o.log2=function(s){var f,v;return f=(s>65535)<<4,s>>>=f,v=(s>255)<<3,s>>>=v,f|=v,v=(s>15)<<2,s>>>=v,f|=v,v=(s>3)<<1,s>>>=v,f|=v,f|s>>1},o.log10=function(s){return s>=1e9?9:s>=1e8?8:s>=1e7?7:s>=1e6?6:s>=1e5?5:s>=1e4?4:s>=1e3?3:s>=100?2:s>=10?1:0},o.popCount=function(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),(s+(s>>>4)&252645135)*16843009>>>24};function l(s){var f=32;return s&=-s,s&&f--,s&65535&&(f-=16),s&16711935&&(f-=8),s&252645135&&(f-=4),s&858993459&&(f-=2),s&1431655765&&(f-=1),f}o.countTrailingZeros=l,o.nextPow2=function(s){return s+=s===0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1},o.prevPow2=function(s){return s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s-(s>>>1)},o.parity=function(s){return s^=s>>>16,s^=s>>>8,s^=s>>>4,s&=15,27030>>>s&1};var u=new Array(256);(function(s){for(var f=0;f<256;++f){var v=f,p=f,b=7;for(v>>>=1;v;v>>>=1)p<<=1,p|=v&1,--b;s[f]=p<<b&255}})(u),o.reverse=function(s){return u[s&255]<<24|u[s>>>8&255]<<16|u[s>>>16&255]<<8|u[s>>>24&255]},o.interleave2=function(s,f){return s&=65535,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,s|f<<1},o.deinterleave2=function(s,f){return s=s>>>f&1431655765,s=(s|s>>>1)&858993459,s=(s|s>>>2)&252645135,s=(s|s>>>4)&16711935,s=(s|s>>>16)&65535,s<<16>>16},o.interleave3=function(s,f,v){return s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,s|=f<<1,v&=1023,v=(v|v<<16)&4278190335,v=(v|v<<8)&251719695,v=(v|v<<4)&3272356035,v=(v|v<<2)&1227133513,s|v<<2},o.deinterleave3=function(s,f){return s=s>>>f&1227133513,s=(s|s>>>2)&3272356035,s=(s|s>>>4)&251719695,s=(s|s>>>8)&4278190335,s=(s|s>>>16)&1023,s<<22>>22},o.nextCombination=function(s){var f=s|s-1;return f+1|(~f&-~f)-1>>>l(s)+1}},6859:function(a,o,i){a=i.nmd(a),function(l,u){"use strict";function s(F,L){if(!F)throw new Error(L||"Assertion failed")}function f(F,L){F.super_=L;var P=function(){};P.prototype=L.prototype,F.prototype=new P,F.prototype.constructor=F}function v(F,L,P){if(v.isBN(F))return F;this.negative=0,this.words=null,this.length=0,this.red=null,F!==null&&((L==="le"||L==="be")&&(P=L,L=10),this._init(F||0,L||10,P||"be"))}typeof l=="object"?l.exports=v:u.BN=v,v.BN=v,v.wordSize=26;var p;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?p=window.Buffer:p=i(7790).Buffer}catch(F){}v.isBN=function(L){return L instanceof v?!0:L!==null&&typeof L=="object"&&L.constructor.wordSize===v.wordSize&&Array.isArray(L.words)},v.max=function(L,P){return L.cmp(P)>0?L:P},v.min=function(L,P){return L.cmp(P)<0?L:P},v.prototype._init=function(L,P,O){if(typeof L=="number")return this._initNumber(L,P,O);if(typeof L=="object")return this._initArray(L,P,O);P==="hex"&&(P=16),s(P===(P|0)&&P>=2&&P<=36),L=L.toString().replace(/\s+/g,"");var U=0;L[0]==="-"&&(U++,this.negative=1),U<L.length&&(P===16?this._parseHex(L,U,O):(this._parseBase(L,P,U),O==="le"&&this._initArray(this.toArray(),P,O)))},v.prototype._initNumber=function(L,P,O){L<0&&(this.negative=1,L=-L),L<67108864?(this.words=[L&67108863],this.length=1):L<4503599627370496?(this.words=[L&67108863,L/67108864&67108863],this.length=2):(s(L<9007199254740992),this.words=[L&67108863,L/67108864&67108863,1],this.length=3),O==="le"&&this._initArray(this.toArray(),P,O)},v.prototype._initArray=function(L,P,O){if(s(typeof L.length=="number"),L.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(L.length/3),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var X,j,$=0;if(O==="be")for(U=L.length-1,X=0;U>=0;U-=3)j=L[U]|L[U-1]<<8|L[U-2]<<16,this.words[X]|=j<<$&67108863,this.words[X+1]=j>>>26-$&67108863,$+=24,$>=26&&($-=26,X++);else if(O==="le")for(U=0,X=0;U<L.length;U+=3)j=L[U]|L[U+1]<<8|L[U+2]<<16,this.words[X]|=j<<$&67108863,this.words[X+1]=j>>>26-$&67108863,$+=24,$>=26&&($-=26,X++);return this.strip()};function b(F,L){var P=F.charCodeAt(L);return P>=65&&P<=70?P-55:P>=97&&P<=102?P-87:P-48&15}function y(F,L,P){var O=b(F,P);return P-1>=L&&(O|=b(F,P-1)<<4),O}v.prototype._parseHex=function(L,P,O){this.length=Math.ceil((L.length-P)/6),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var X=0,j=0,$;if(O==="be")for(U=L.length-1;U>=P;U-=2)$=y(L,P,U)<<X,this.words[j]|=$&67108863,X>=18?(X-=18,j+=1,this.words[j]|=$>>>26):X+=8;else{var Y=L.length-P;for(U=Y%2===0?P+1:P;U<L.length;U+=2)$=y(L,P,U)<<X,this.words[j]|=$&67108863,X>=18?(X-=18,j+=1,this.words[j]|=$>>>26):X+=8}this.strip()};function w(F,L,P,O){for(var U=0,X=Math.min(F.length,P),j=L;j<X;j++){var $=F.charCodeAt(j)-48;U*=O,$>=49?U+=$-49+10:$>=17?U+=$-17+10:U+=$}return U}v.prototype._parseBase=function(L,P,O){this.words=[0],this.length=1;for(var U=0,X=1;X<=67108863;X*=P)U++;U--,X=X/P|0;for(var j=L.length-O,$=j%U,Y=Math.min(j,j-$)+O,q=0,Z=O;Z<Y;Z+=U)q=w(L,Z,Z+U,P),this.imuln(X),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q);if($!==0){var ne=1;for(q=w(L,Z,L.length,P),Z=0;Z<$;Z++)ne*=P;this.imuln(ne),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q)}this.strip()},v.prototype.copy=function(L){L.words=new Array(this.length);for(var P=0;P<this.length;P++)L.words[P]=this.words[P];L.length=this.length,L.negative=this.negative,L.red=this.red},v.prototype.clone=function(){var L=new v(null);return this.copy(L),L},v.prototype._expand=function(L){for(;this.length<L;)this.words[this.length++]=0;return this},v.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},v.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},v.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var M=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];v.prototype.toString=function(L,P){L=L||10,P=P|0||1;var O;if(L===16||L==="hex"){O="";for(var U=0,X=0,j=0;j<this.length;j++){var $=this.words[j],Y=(($<<U|X)&16777215).toString(16);X=$>>>24-U&16777215,X!==0||j!==this.length-1?O=M[6-Y.length]+Y+O:O=Y+O,U+=2,U>=26&&(U-=26,j--)}for(X!==0&&(O=X.toString(16)+O);O.length%P!==0;)O="0"+O;return this.negative!==0&&(O="-"+O),O}if(L===(L|0)&&L>=2&&L<=36){var q=m[L],Z=k[L];O="";var ne=this.clone();for(ne.negative=0;!ne.isZero();){var Q=ne.modn(Z).toString(L);ne=ne.idivn(Z),ne.isZero()?O=Q+O:O=M[q-Q.length]+Q+O}for(this.isZero()&&(O="0"+O);O.length%P!==0;)O="0"+O;return this.negative!==0&&(O="-"+O),O}s(!1,"Base should be between 2 and 36")},v.prototype.toNumber=function(){var L=this.words[0];return this.length===2?L+=this.words[1]*67108864:this.length===3&&this.words[2]===1?L+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-L:L},v.prototype.toJSON=function(){return this.toString(16)},v.prototype.toBuffer=function(L,P){return s(typeof p!="undefined"),this.toArrayLike(p,L,P)},v.prototype.toArray=function(L,P){return this.toArrayLike(Array,L,P)},v.prototype.toArrayLike=function(L,P,O){var U=this.byteLength(),X=O||Math.max(1,U);s(U<=X,"byte array longer than desired length"),s(X>0,"Requested array length <= 0"),this.strip();var j=P==="le",$=new L(X),Y,q,Z=this.clone();if(j){for(q=0;!Z.isZero();q++)Y=Z.andln(255),Z.iushrn(8),$[q]=Y;for(;q<X;q++)$[q]=0}else{for(q=0;q<X-U;q++)$[q]=0;for(q=0;!Z.isZero();q++)Y=Z.andln(255),Z.iushrn(8),$[X-q-1]=Y}return $},Math.clz32?v.prototype._countBits=function(L){return 32-Math.clz32(L)}:v.prototype._countBits=function(L){var P=L,O=0;return P>=4096&&(O+=13,P>>>=13),P>=64&&(O+=7,P>>>=7),P>=8&&(O+=4,P>>>=4),P>=2&&(O+=2,P>>>=2),O+P},v.prototype._zeroBits=function(L){if(L===0)return 26;var P=L,O=0;return P&8191||(O+=13,P>>>=13),P&127||(O+=7,P>>>=7),P&15||(O+=4,P>>>=4),P&3||(O+=2,P>>>=2),P&1||O++,O},v.prototype.bitLength=function(){var L=this.words[this.length-1],P=this._countBits(L);return(this.length-1)*26+P};function S(F){for(var L=new Array(F.bitLength()),P=0;P<L.length;P++){var O=P/26|0,U=P%26;L[P]=(F.words[O]&1<<U)>>>U}return L}v.prototype.zeroBits=function(){if(this.isZero())return 0;for(var L=0,P=0;P<this.length;P++){var O=this._zeroBits(this.words[P]);if(L+=O,O!==26)break}return L},v.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},v.prototype.toTwos=function(L){return this.negative!==0?this.abs().inotn(L).iaddn(1):this.clone()},v.prototype.fromTwos=function(L){return this.testn(L-1)?this.notn(L).iaddn(1).ineg():this.clone()},v.prototype.isNeg=function(){return this.negative!==0},v.prototype.neg=function(){return this.clone().ineg()},v.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},v.prototype.iuor=function(L){for(;this.length<L.length;)this.words[this.length++]=0;for(var P=0;P<L.length;P++)this.words[P]=this.words[P]|L.words[P];return this.strip()},v.prototype.ior=function(L){return s((this.negative|L.negative)===0),this.iuor(L)},v.prototype.or=function(L){return this.length>L.length?this.clone().ior(L):L.clone().ior(this)},v.prototype.uor=function(L){return this.length>L.length?this.clone().iuor(L):L.clone().iuor(this)},v.prototype.iuand=function(L){var P;this.length>L.length?P=L:P=this;for(var O=0;O<P.length;O++)this.words[O]=this.words[O]&L.words[O];return this.length=P.length,this.strip()},v.prototype.iand=function(L){return s((this.negative|L.negative)===0),this.iuand(L)},v.prototype.and=function(L){return this.length>L.length?this.clone().iand(L):L.clone().iand(this)},v.prototype.uand=function(L){return this.length>L.length?this.clone().iuand(L):L.clone().iuand(this)},v.prototype.iuxor=function(L){var P,O;this.length>L.length?(P=this,O=L):(P=L,O=this);for(var U=0;U<O.length;U++)this.words[U]=P.words[U]^O.words[U];if(this!==P)for(;U<P.length;U++)this.words[U]=P.words[U];return this.length=P.length,this.strip()},v.prototype.ixor=function(L){return s((this.negative|L.negative)===0),this.iuxor(L)},v.prototype.xor=function(L){return this.length>L.length?this.clone().ixor(L):L.clone().ixor(this)},v.prototype.uxor=function(L){return this.length>L.length?this.clone().iuxor(L):L.clone().iuxor(this)},v.prototype.inotn=function(L){s(typeof L=="number"&&L>=0);var P=Math.ceil(L/26)|0,O=L%26;this._expand(P),O>0&&P--;for(var U=0;U<P;U++)this.words[U]=~this.words[U]&67108863;return O>0&&(this.words[U]=~this.words[U]&67108863>>26-O),this.strip()},v.prototype.notn=function(L){return this.clone().inotn(L)},v.prototype.setn=function(L,P){s(typeof L=="number"&&L>=0);var O=L/26|0,U=L%26;return this._expand(O+1),P?this.words[O]=this.words[O]|1<<U:this.words[O]=this.words[O]&~(1<<U),this.strip()},v.prototype.iadd=function(L){var P;if(this.negative!==0&&L.negative===0)return this.negative=0,P=this.isub(L),this.negative^=1,this._normSign();if(this.negative===0&&L.negative!==0)return L.negative=0,P=this.isub(L),L.negative=1,P._normSign();var O,U;this.length>L.length?(O=this,U=L):(O=L,U=this);for(var X=0,j=0;j<U.length;j++)P=(O.words[j]|0)+(U.words[j]|0)+X,this.words[j]=P&67108863,X=P>>>26;for(;X!==0&&j<O.length;j++)P=(O.words[j]|0)+X,this.words[j]=P&67108863,X=P>>>26;if(this.length=O.length,X!==0)this.words[this.length]=X,this.length++;else if(O!==this)for(;j<O.length;j++)this.words[j]=O.words[j];return this},v.prototype.add=function(L){var P;return L.negative!==0&&this.negative===0?(L.negative=0,P=this.sub(L),L.negative^=1,P):L.negative===0&&this.negative!==0?(this.negative=0,P=L.sub(this),this.negative=1,P):this.length>L.length?this.clone().iadd(L):L.clone().iadd(this)},v.prototype.isub=function(L){if(L.negative!==0){L.negative=0;var P=this.iadd(L);return L.negative=1,P._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(L),this.negative=1,this._normSign();var O=this.cmp(L);if(O===0)return this.negative=0,this.length=1,this.words[0]=0,this;var U,X;O>0?(U=this,X=L):(U=L,X=this);for(var j=0,$=0;$<X.length;$++)P=(U.words[$]|0)-(X.words[$]|0)+j,j=P>>26,this.words[$]=P&67108863;for(;j!==0&&$<U.length;$++)P=(U.words[$]|0)+j,j=P>>26,this.words[$]=P&67108863;if(j===0&&$<U.length&&U!==this)for(;$<U.length;$++)this.words[$]=U.words[$];return this.length=Math.max(this.length,$),U!==this&&(this.negative=1),this.strip()},v.prototype.sub=function(L){return this.clone().isub(L)};function x(F,L,P){P.negative=L.negative^F.negative;var O=F.length+L.length|0;P.length=O,O=O-1|0;var U=F.words[0]|0,X=L.words[0]|0,j=U*X,$=j&67108863,Y=j/67108864|0;P.words[0]=$;for(var q=1;q<O;q++){for(var Z=Y>>>26,ne=Y&67108863,Q=Math.min(q,L.length-1),oe=Math.max(0,q-F.length+1);oe<=Q;oe++){var ee=q-oe|0;U=F.words[ee]|0,X=L.words[oe]|0,j=U*X+ne,Z+=j/67108864|0,ne=j&67108863}P.words[q]=ne|0,Y=Z|0}return Y!==0?P.words[q]=Y|0:P.length--,P.strip()}var T=function(L,P,O){var U=L.words,X=P.words,j=O.words,$=0,Y,q,Z,ne=U[0]|0,Q=ne&8191,oe=ne>>>13,ee=U[1]|0,G=ee&8191,re=ee>>>13,H=U[2]|0,te=H&8191,ue=H>>>13,de=U[3]|0,Ee=de&8191,Me=de>>>13,ve=U[4]|0,Ae=ve&8191,ke=ve>>>13,De=U[5]|0,Ce=De&8191,Oe=De>>>13,Ue=U[6]|0,ge=Ue&8191,Te=Ue>>>13,ce=U[7]|0,ye=ce&8191,Le=ce>>>13,me=U[8]|0,he=me&8191,be=me>>>13,Se=U[9]|0,ze=Se&8191,Fe=Se>>>13,Ze=X[0]|0,Ye=Ze&8191,Ge=Ze>>>13,We=X[1]|0,we=We&8191,Pe=We>>>13,Qe=X[2]|0,Ve=Qe&8191,ar=Qe>>>13,se=X[3]|0,K=se&8191,ae=se>>>13,Re=X[4]|0,Be=Re&8191,je=Re>>>13,nr=X[5]|0,hr=nr&8191,wr=nr>>>13,Cr=X[6]|0,Tr=Cr&8191,Ar=Cr>>>13,ft=X[7]|0,Yr=ft&8191,mr=ft>>>13,ct=X[8]|0,Sr=ct&8191,Ur=ct>>>13,xt=X[9]|0,zr=xt&8191,Hr=xt>>>13;O.negative=L.negative^P.negative,O.length=19,Y=Math.imul(Q,Ye),q=Math.imul(Q,Ge),q=q+Math.imul(oe,Ye)|0,Z=Math.imul(oe,Ge);var Ot=($+Y|0)+((q&8191)<<13)|0;$=(Z+(q>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,Y=Math.imul(G,Ye),q=Math.imul(G,Ge),q=q+Math.imul(re,Ye)|0,Z=Math.imul(re,Ge),Y=Y+Math.imul(Q,we)|0,q=q+Math.imul(Q,Pe)|0,q=q+Math.imul(oe,we)|0,Z=Z+Math.imul(oe,Pe)|0;var Lt=($+Y|0)+((q&8191)<<13)|0;$=(Z+(q>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,Y=Math.imul(te,Ye),q=Math.imul(te,Ge),q=q+Math.imul(ue,Ye)|0,Z=Math.imul(ue,Ge),Y=Y+Math.imul(G,we)|0,q=q+Math.imul(G,Pe)|0,q=q+Math.imul(re,we)|0,Z=Z+Math.imul(re,Pe)|0,Y=Y+Math.imul(Q,Ve)|0,q=q+Math.imul(Q,ar)|0,q=q+Math.imul(oe,Ve)|0,Z=Z+Math.imul(oe,ar)|0;var yn=($+Y|0)+((q&8191)<<13)|0;$=(Z+(q>>>13)|0)+(yn>>>26)|0,yn&=67108863,Y=Math.imul(Ee,Ye),q=Math.imul(Ee,Ge),q=q+Math.imul(Me,Ye)|0,Z=Math.imul(Me,Ge),Y=Y+Math.imul(te,we)|0,q=q+Math.imul(te,Pe)|0,q=q+Math.imul(ue,we)|0,Z=Z+Math.imul(ue,Pe)|0,Y=Y+Math.imul(G,Ve)|0,q=q+Math.imul(G,ar)|0,q=q+Math.imul(re,Ve)|0,Z=Z+Math.imul(re,ar)|0,Y=Y+Math.imul(Q,K)|0,q=q+Math.imul(Q,ae)|0,q=q+Math.imul(oe,K)|0,Z=Z+Math.imul(oe,ae)|0;var Gt=($+Y|0)+((q&8191)<<13)|0;$=(Z+(q>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,Y=Math.imul(Ae,Ye),q=Math.imul(Ae,Ge),q=q+Math.imul(ke,Ye)|0,Z=Math.imul(ke,Ge),Y=Y+Math.imul(Ee,we)|0,q=q+Math.imul(Ee,Pe)|0,q=q+Math.imul(Me,we)|0,Z=Z+Math.imul(Me,Pe)|0,Y=Y+Math.imul(te,Ve)|0,q=q+Math.imul(te,ar)|0,q=q+Math.imul(ue,Ve)|0,Z=Z+Math.imul(ue,ar)|0,Y=Y+Math.imul(G,K)|0,q=q+Math.imul(G,ae)|0,q=q+Math.imul(re,K)|0,Z=Z+Math.imul(re,ae)|0,Y=Y+Math.imul(Q,Be)|0,q=q+Math.imul(Q,je)|0,q=q+Math.imul(oe,Be)|0,Z=Z+Math.imul(oe,je)|0;var Rt=($+Y|0)+((q&8191)<<13)|0;$=(Z+(q>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,Y=Math.imul(Ce,Ye),q=Math.imul(Ce,Ge),q=q+Math.imul(Oe,Ye)|0,Z=Math.imul(Oe,Ge),Y=Y+Math.imul(Ae,we)|0,q=q+Math.imul(Ae,Pe)|0,q=q+Math.imul(ke,we)|0,Z=Z+Math.imul(ke,Pe)|0,Y=Y+Math.imul(Ee,Ve)|0,q=q+Math.imul(Ee,ar)|0,q=q+Math.imul(Me,Ve)|0,Z=Z+Math.imul(Me,ar)|0,Y=Y+Math.imul(te,K)|0,q=q+Math.imul(te,ae)|0,q=q+Math.imul(ue,K)|0,Z=Z+Math.imul(ue,ae)|0,Y=Y+Math.imul(G,Be)|0,q=q+Math.imul(G,je)|0,q=q+Math.imul(re,Be)|0,Z=Z+Math.imul(re,je)|0,Y=Y+Math.imul(Q,hr)|0,q=q+Math.imul(Q,wr)|0,q=q+Math.imul(oe,hr)|0,Z=Z+Math.imul(oe,wr)|0;var nt=($+Y|0)+((q&8191)<<13)|0;$=(Z+(q>>>13)|0)+(nt>>>26)|0,nt&=67108863,Y=Math.imul(ge,Ye),q=Math.imul(ge,Ge),q=q+Math.imul(Te,Ye)|0,Z=Math.imul(Te,Ge),Y=Y+Math.imul(Ce,we)|0,q=q+Math.imul(Ce,Pe)|0,q=q+Math.imul(Oe,we)|0,Z=Z+Math.imul(Oe,Pe)|0,Y=Y+Math.imul(Ae,Ve)|0,q=q+Math.imul(Ae,ar)|0,q=q+Math.imul(ke,Ve)|0,Z=Z+Math.imul(ke,ar)|0,Y=Y+Math.imul(Ee,K)|0,q=q+Math.imul(Ee,ae)|0,q=q+Math.imul(Me,K)|0,Z=Z+Math.imul(Me,ae)|0,Y=Y+Math.imul(te,Be)|0,q=q+Math.imul(te,je)|0,q=q+Math.imul(ue,Be)|0,Z=Z+Math.imul(ue,je)|0,Y=Y+Math.imul(G,hr)|0,q=q+Math.imul(G,wr)|0,q=q+Math.imul(re,hr)|0,Z=Z+Math.imul(re,wr)|0,Y=Y+Math.imul(Q,Tr)|0,q=q+Math.imul(Q,Ar)|0,q=q+Math.imul(oe,Tr)|0,Z=Z+Math.imul(oe,Ar)|0;var Ft=($+Y|0)+((q&8191)<<13)|0;$=(Z+(q>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,Y=Math.imul(ye,Ye),q=Math.imul(ye,Ge),q=q+Math.imul(Le,Ye)|0,Z=Math.imul(Le,Ge),Y=Y+Math.imul(ge,we)|0,q=q+Math.imul(ge,Pe)|0,q=q+Math.imul(Te,we)|0,Z=Z+Math.imul(Te,Pe)|0,Y=Y+Math.imul(Ce,Ve)|0,q=q+Math.imul(Ce,ar)|0,q=q+Math.imul(Oe,Ve)|0,Z=Z+Math.imul(Oe,ar)|0,Y=Y+Math.imul(Ae,K)|0,q=q+Math.imul(Ae,ae)|0,q=q+Math.imul(ke,K)|0,Z=Z+Math.imul(ke,ae)|0,Y=Y+Math.imul(Ee,Be)|0,q=q+Math.imul(Ee,je)|0,q=q+Math.imul(Me,Be)|0,Z=Z+Math.imul(Me,je)|0,Y=Y+Math.imul(te,hr)|0,q=q+Math.imul(te,wr)|0,q=q+Math.imul(ue,hr)|0,Z=Z+Math.imul(ue,wr)|0,Y=Y+Math.imul(G,Tr)|0,q=q+Math.imul(G,Ar)|0,q=q+Math.imul(re,Tr)|0,Z=Z+Math.imul(re,Ar)|0,Y=Y+Math.imul(Q,Yr)|0,q=q+Math.imul(Q,mr)|0,q=q+Math.imul(oe,Yr)|0,Z=Z+Math.imul(oe,mr)|0;var ha=($+Y|0)+((q&8191)<<13)|0;$=(Z+(q>>>13)|0)+(ha>>>26)|0,ha&=67108863,Y=Math.imul(he,Ye),q=Math.imul(he,Ge),q=q+Math.imul(be,Ye)|0,Z=Math.imul(be,Ge),Y=Y+Math.imul(ye,we)|0,q=q+Math.imul(ye,Pe)|0,q=q+Math.imul(Le,we)|0,Z=Z+Math.imul(Le,Pe)|0,Y=Y+Math.imul(ge,Ve)|0,q=q+Math.imul(ge,ar)|0,q=q+Math.imul(Te,Ve)|0,Z=Z+Math.imul(Te,ar)|0,Y=Y+Math.imul(Ce,K)|0,q=q+Math.imul(Ce,ae)|0,q=q+Math.imul(Oe,K)|0,Z=Z+Math.imul(Oe,ae)|0,Y=Y+Math.imul(Ae,Be)|0,q=q+Math.imul(Ae,je)|0,q=q+Math.imul(ke,Be)|0,Z=Z+Math.imul(ke,je)|0,Y=Y+Math.imul(Ee,hr)|0,q=q+Math.imul(Ee,wr)|0,q=q+Math.imul(Me,hr)|0,Z=Z+Math.imul(Me,wr)|0,Y=Y+Math.imul(te,Tr)|0,q=q+Math.imul(te,Ar)|0,q=q+Math.imul(ue,Tr)|0,Z=Z+Math.imul(ue,Ar)|0,Y=Y+Math.imul(G,Yr)|0,q=q+Math.imul(G,mr)|0,q=q+Math.imul(re,Yr)|0,Z=Z+Math.imul(re,mr)|0,Y=Y+Math.imul(Q,Sr)|0,q=q+Math.imul(Q,Ur)|0,q=q+Math.imul(oe,Sr)|0,Z=Z+Math.imul(oe,Ur)|0;var Qn=($+Y|0)+((q&8191)<<13)|0;$=(Z+(q>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,Y=Math.imul(ze,Ye),q=Math.imul(ze,Ge),q=q+Math.imul(Fe,Ye)|0,Z=Math.imul(Fe,Ge),Y=Y+Math.imul(he,we)|0,q=q+Math.imul(he,Pe)|0,q=q+Math.imul(be,we)|0,Z=Z+Math.imul(be,Pe)|0,Y=Y+Math.imul(ye,Ve)|0,q=q+Math.imul(ye,ar)|0,q=q+Math.imul(Le,Ve)|0,Z=Z+Math.imul(Le,ar)|0,Y=Y+Math.imul(ge,K)|0,q=q+Math.imul(ge,ae)|0,q=q+Math.imul(Te,K)|0,Z=Z+Math.imul(Te,ae)|0,Y=Y+Math.imul(Ce,Be)|0,q=q+Math.imul(Ce,je)|0,q=q+Math.imul(Oe,Be)|0,Z=Z+Math.imul(Oe,je)|0,Y=Y+Math.imul(Ae,hr)|0,q=q+Math.imul(Ae,wr)|0,q=q+Math.imul(ke,hr)|0,Z=Z+Math.imul(ke,wr)|0,Y=Y+Math.imul(Ee,Tr)|0,q=q+Math.imul(Ee,Ar)|0,q=q+Math.imul(Me,Tr)|0,Z=Z+Math.imul(Me,Ar)|0,Y=Y+Math.imul(te,Yr)|0,q=q+Math.imul(te,mr)|0,q=q+Math.imul(ue,Yr)|0,Z=Z+Math.imul(ue,mr)|0,Y=Y+Math.imul(G,Sr)|0,q=q+Math.imul(G,Ur)|0,q=q+Math.imul(re,Sr)|0,Z=Z+Math.imul(re,Ur)|0,Y=Y+Math.imul(Q,zr)|0,q=q+Math.imul(Q,Hr)|0,q=q+Math.imul(oe,zr)|0,Z=Z+Math.imul(oe,Hr)|0;var Fn=($+Y|0)+((q&8191)<<13)|0;$=(Z+(q>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,Y=Math.imul(ze,we),q=Math.imul(ze,Pe),q=q+Math.imul(Fe,we)|0,Z=Math.imul(Fe,Pe),Y=Y+Math.imul(he,Ve)|0,q=q+Math.imul(he,ar)|0,q=q+Math.imul(be,Ve)|0,Z=Z+Math.imul(be,ar)|0,Y=Y+Math.imul(ye,K)|0,q=q+Math.imul(ye,ae)|0,q=q+Math.imul(Le,K)|0,Z=Z+Math.imul(Le,ae)|0,Y=Y+Math.imul(ge,Be)|0,q=q+Math.imul(ge,je)|0,q=q+Math.imul(Te,Be)|0,Z=Z+Math.imul(Te,je)|0,Y=Y+Math.imul(Ce,hr)|0,q=q+Math.imul(Ce,wr)|0,q=q+Math.imul(Oe,hr)|0,Z=Z+Math.imul(Oe,wr)|0,Y=Y+Math.imul(Ae,Tr)|0,q=q+Math.imul(Ae,Ar)|0,q=q+Math.imul(ke,Tr)|0,Z=Z+Math.imul(ke,Ar)|0,Y=Y+Math.imul(Ee,Yr)|0,q=q+Math.imul(Ee,mr)|0,q=q+Math.imul(Me,Yr)|0,Z=Z+Math.imul(Me,mr)|0,Y=Y+Math.imul(te,Sr)|0,q=q+Math.imul(te,Ur)|0,q=q+Math.imul(ue,Sr)|0,Z=Z+Math.imul(ue,Ur)|0,Y=Y+Math.imul(G,zr)|0,q=q+Math.imul(G,Hr)|0,q=q+Math.imul(re,zr)|0,Z=Z+Math.imul(re,Hr)|0;var wa=($+Y|0)+((q&8191)<<13)|0;$=(Z+(q>>>13)|0)+(wa>>>26)|0,wa&=67108863,Y=Math.imul(ze,Ve),q=Math.imul(ze,ar),q=q+Math.imul(Fe,Ve)|0,Z=Math.imul(Fe,ar),Y=Y+Math.imul(he,K)|0,q=q+Math.imul(he,ae)|0,q=q+Math.imul(be,K)|0,Z=Z+Math.imul(be,ae)|0,Y=Y+Math.imul(ye,Be)|0,q=q+Math.imul(ye,je)|0,q=q+Math.imul(Le,Be)|0,Z=Z+Math.imul(Le,je)|0,Y=Y+Math.imul(ge,hr)|0,q=q+Math.imul(ge,wr)|0,q=q+Math.imul(Te,hr)|0,Z=Z+Math.imul(Te,wr)|0,Y=Y+Math.imul(Ce,Tr)|0,q=q+Math.imul(Ce,Ar)|0,q=q+Math.imul(Oe,Tr)|0,Z=Z+Math.imul(Oe,Ar)|0,Y=Y+Math.imul(Ae,Yr)|0,q=q+Math.imul(Ae,mr)|0,q=q+Math.imul(ke,Yr)|0,Z=Z+Math.imul(ke,mr)|0,Y=Y+Math.imul(Ee,Sr)|0,q=q+Math.imul(Ee,Ur)|0,q=q+Math.imul(Me,Sr)|0,Z=Z+Math.imul(Me,Ur)|0,Y=Y+Math.imul(te,zr)|0,q=q+Math.imul(te,Hr)|0,q=q+Math.imul(ue,zr)|0,Z=Z+Math.imul(ue,Hr)|0;var xi=($+Y|0)+((q&8191)<<13)|0;$=(Z+(q>>>13)|0)+(xi>>>26)|0,xi&=67108863,Y=Math.imul(ze,K),q=Math.imul(ze,ae),q=q+Math.imul(Fe,K)|0,Z=Math.imul(Fe,ae),Y=Y+Math.imul(he,Be)|0,q=q+Math.imul(he,je)|0,q=q+Math.imul(be,Be)|0,Z=Z+Math.imul(be,je)|0,Y=Y+Math.imul(ye,hr)|0,q=q+Math.imul(ye,wr)|0,q=q+Math.imul(Le,hr)|0,Z=Z+Math.imul(Le,wr)|0,Y=Y+Math.imul(ge,Tr)|0,q=q+Math.imul(ge,Ar)|0,q=q+Math.imul(Te,Tr)|0,Z=Z+Math.imul(Te,Ar)|0,Y=Y+Math.imul(Ce,Yr)|0,q=q+Math.imul(Ce,mr)|0,q=q+Math.imul(Oe,Yr)|0,Z=Z+Math.imul(Oe,mr)|0,Y=Y+Math.imul(Ae,Sr)|0,q=q+Math.imul(Ae,Ur)|0,q=q+Math.imul(ke,Sr)|0,Z=Z+Math.imul(ke,Ur)|0,Y=Y+Math.imul(Ee,zr)|0,q=q+Math.imul(Ee,Hr)|0,q=q+Math.imul(Me,zr)|0,Z=Z+Math.imul(Me,Hr)|0;var Gi=($+Y|0)+((q&8191)<<13)|0;$=(Z+(q>>>13)|0)+(Gi>>>26)|0,Gi&=67108863,Y=Math.imul(ze,Be),q=Math.imul(ze,je),q=q+Math.imul(Fe,Be)|0,Z=Math.imul(Fe,je),Y=Y+Math.imul(he,hr)|0,q=q+Math.imul(he,wr)|0,q=q+Math.imul(be,hr)|0,Z=Z+Math.imul(be,wr)|0,Y=Y+Math.imul(ye,Tr)|0,q=q+Math.imul(ye,Ar)|0,q=q+Math.imul(Le,Tr)|0,Z=Z+Math.imul(Le,Ar)|0,Y=Y+Math.imul(ge,Yr)|0,q=q+Math.imul(ge,mr)|0,q=q+Math.imul(Te,Yr)|0,Z=Z+Math.imul(Te,mr)|0,Y=Y+Math.imul(Ce,Sr)|0,q=q+Math.imul(Ce,Ur)|0,q=q+Math.imul(Oe,Sr)|0,Z=Z+Math.imul(Oe,Ur)|0,Y=Y+Math.imul(Ae,zr)|0,q=q+Math.imul(Ae,Hr)|0,q=q+Math.imul(ke,zr)|0,Z=Z+Math.imul(ke,Hr)|0;var Yi=($+Y|0)+((q&8191)<<13)|0;$=(Z+(q>>>13)|0)+(Yi>>>26)|0,Yi&=67108863,Y=Math.imul(ze,hr),q=Math.imul(ze,wr),q=q+Math.imul(Fe,hr)|0,Z=Math.imul(Fe,wr),Y=Y+Math.imul(he,Tr)|0,q=q+Math.imul(he,Ar)|0,q=q+Math.imul(be,Tr)|0,Z=Z+Math.imul(be,Ar)|0,Y=Y+Math.imul(ye,Yr)|0,q=q+Math.imul(ye,mr)|0,q=q+Math.imul(Le,Yr)|0,Z=Z+Math.imul(Le,mr)|0,Y=Y+Math.imul(ge,Sr)|0,q=q+Math.imul(ge,Ur)|0,q=q+Math.imul(Te,Sr)|0,Z=Z+Math.imul(Te,Ur)|0,Y=Y+Math.imul(Ce,zr)|0,q=q+Math.imul(Ce,Hr)|0,q=q+Math.imul(Oe,zr)|0,Z=Z+Math.imul(Oe,Hr)|0;var Wi=($+Y|0)+((q&8191)<<13)|0;$=(Z+(q>>>13)|0)+(Wi>>>26)|0,Wi&=67108863,Y=Math.imul(ze,Tr),q=Math.imul(ze,Ar),q=q+Math.imul(Fe,Tr)|0,Z=Math.imul(Fe,Ar),Y=Y+Math.imul(he,Yr)|0,q=q+Math.imul(he,mr)|0,q=q+Math.imul(be,Yr)|0,Z=Z+Math.imul(be,mr)|0,Y=Y+Math.imul(ye,Sr)|0,q=q+Math.imul(ye,Ur)|0,q=q+Math.imul(Le,Sr)|0,Z=Z+Math.imul(Le,Ur)|0,Y=Y+Math.imul(ge,zr)|0,q=q+Math.imul(ge,Hr)|0,q=q+Math.imul(Te,zr)|0,Z=Z+Math.imul(Te,Hr)|0;var tn=($+Y|0)+((q&8191)<<13)|0;$=(Z+(q>>>13)|0)+(tn>>>26)|0,tn&=67108863,Y=Math.imul(ze,Yr),q=Math.imul(ze,mr),q=q+Math.imul(Fe,Yr)|0,Z=Math.imul(Fe,mr),Y=Y+Math.imul(he,Sr)|0,q=q+Math.imul(he,Ur)|0,q=q+Math.imul(be,Sr)|0,Z=Z+Math.imul(be,Ur)|0,Y=Y+Math.imul(ye,zr)|0,q=q+Math.imul(ye,Hr)|0,q=q+Math.imul(Le,zr)|0,Z=Z+Math.imul(Le,Hr)|0;var xo=($+Y|0)+((q&8191)<<13)|0;$=(Z+(q>>>13)|0)+(xo>>>26)|0,xo&=67108863,Y=Math.imul(ze,Sr),q=Math.imul(ze,Ur),q=q+Math.imul(Fe,Sr)|0,Z=Math.imul(Fe,Ur),Y=Y+Math.imul(he,zr)|0,q=q+Math.imul(he,Hr)|0,q=q+Math.imul(be,zr)|0,Z=Z+Math.imul(be,Hr)|0;var bi=($+Y|0)+((q&8191)<<13)|0;$=(Z+(q>>>13)|0)+(bi>>>26)|0,bi&=67108863,Y=Math.imul(ze,zr),q=Math.imul(ze,Hr),q=q+Math.imul(Fe,zr)|0,Z=Math.imul(Fe,Hr);var _i=($+Y|0)+((q&8191)<<13)|0;return $=(Z+(q>>>13)|0)+(_i>>>26)|0,_i&=67108863,j[0]=Ot,j[1]=Lt,j[2]=yn,j[3]=Gt,j[4]=Rt,j[5]=nt,j[6]=Ft,j[7]=ha,j[8]=Qn,j[9]=Fn,j[10]=wa,j[11]=xi,j[12]=Gi,j[13]=Yi,j[14]=Wi,j[15]=tn,j[16]=xo,j[17]=bi,j[18]=_i,$!==0&&(j[19]=$,O.length++),O};Math.imul||(T=x);function d(F,L,P){P.negative=L.negative^F.negative,P.length=F.length+L.length;for(var O=0,U=0,X=0;X<P.length-1;X++){var j=U;U=0;for(var $=O&67108863,Y=Math.min(X,L.length-1),q=Math.max(0,X-F.length+1);q<=Y;q++){var Z=X-q,ne=F.words[Z]|0,Q=L.words[q]|0,oe=ne*Q,ee=oe&67108863;j=j+(oe/67108864|0)|0,ee=ee+$|0,$=ee&67108863,j=j+(ee>>>26)|0,U+=j>>>26,j&=67108863}P.words[X]=$,O=j,j=U}return O!==0?P.words[X]=O:P.length--,P.strip()}function _(F,L,P){var O=new g;return O.mulp(F,L,P)}v.prototype.mulTo=function(L,P){var O,U=this.length+L.length;return this.length===10&&L.length===10?O=T(this,L,P):U<63?O=x(this,L,P):U<1024?O=d(this,L,P):O=_(this,L,P),O};function g(F,L){this.x=F,this.y=L}g.prototype.makeRBT=function(L){for(var P=new Array(L),O=v.prototype._countBits(L)-1,U=0;U<L;U++)P[U]=this.revBin(U,O,L);return P},g.prototype.revBin=function(L,P,O){if(L===0||L===O-1)return L;for(var U=0,X=0;X<P;X++)U|=(L&1)<<P-X-1,L>>=1;return U},g.prototype.permute=function(L,P,O,U,X,j){for(var $=0;$<j;$++)U[$]=P[L[$]],X[$]=O[L[$]]},g.prototype.transform=function(L,P,O,U,X,j){this.permute(j,L,P,O,U,X);for(var $=1;$<X;$<<=1)for(var Y=$<<1,q=Math.cos(2*Math.PI/Y),Z=Math.sin(2*Math.PI/Y),ne=0;ne<X;ne+=Y)for(var Q=q,oe=Z,ee=0;ee<$;ee++){var G=O[ne+ee],re=U[ne+ee],H=O[ne+ee+$],te=U[ne+ee+$],ue=Q*H-oe*te;te=Q*te+oe*H,H=ue,O[ne+ee]=G+H,U[ne+ee]=re+te,O[ne+ee+$]=G-H,U[ne+ee+$]=re-te,ee!==Y&&(ue=q*Q-Z*oe,oe=q*oe+Z*Q,Q=ue)}},g.prototype.guessLen13b=function(L,P){var O=Math.max(P,L)|1,U=O&1,X=0;for(O=O/2|0;O;O=O>>>1)X++;return 1<<X+1+U},g.prototype.conjugate=function(L,P,O){if(!(O<=1))for(var U=0;U<O/2;U++){var X=L[U];L[U]=L[O-U-1],L[O-U-1]=X,X=P[U],P[U]=-P[O-U-1],P[O-U-1]=-X}},g.prototype.normalize13b=function(L,P){for(var O=0,U=0;U<P/2;U++){var X=Math.round(L[2*U+1]/P)*8192+Math.round(L[2*U]/P)+O;L[U]=X&67108863,X<67108864?O=0:O=X/67108864|0}return L},g.prototype.convert13b=function(L,P,O,U){for(var X=0,j=0;j<P;j++)X=X+(L[j]|0),O[2*j]=X&8191,X=X>>>13,O[2*j+1]=X&8191,X=X>>>13;for(j=2*P;j<U;++j)O[j]=0;s(X===0),s((X&-8192)===0)},g.prototype.stub=function(L){for(var P=new Array(L),O=0;O<L;O++)P[O]=0;return P},g.prototype.mulp=function(L,P,O){var U=2*this.guessLen13b(L.length,P.length),X=this.makeRBT(U),j=this.stub(U),$=new Array(U),Y=new Array(U),q=new Array(U),Z=new Array(U),ne=new Array(U),Q=new Array(U),oe=O.words;oe.length=U,this.convert13b(L.words,L.length,$,U),this.convert13b(P.words,P.length,Z,U),this.transform($,j,Y,q,U,X),this.transform(Z,j,ne,Q,U,X);for(var ee=0;ee<U;ee++){var G=Y[ee]*ne[ee]-q[ee]*Q[ee];q[ee]=Y[ee]*Q[ee]+q[ee]*ne[ee],Y[ee]=G}return this.conjugate(Y,q,U),this.transform(Y,q,oe,j,U,X),this.conjugate(oe,j,U),this.normalize13b(oe,U),O.negative=L.negative^P.negative,O.length=L.length+P.length,O.strip()},v.prototype.mul=function(L){var P=new v(null);return P.words=new Array(this.length+L.length),this.mulTo(L,P)},v.prototype.mulf=function(L){var P=new v(null);return P.words=new Array(this.length+L.length),_(this,L,P)},v.prototype.imul=function(L){return this.clone().mulTo(L,this)},v.prototype.imuln=function(L){s(typeof L=="number"),s(L<67108864);for(var P=0,O=0;O<this.length;O++){var U=(this.words[O]|0)*L,X=(U&67108863)+(P&67108863);P>>=26,P+=U/67108864|0,P+=X>>>26,this.words[O]=X&67108863}return P!==0&&(this.words[O]=P,this.length++),this},v.prototype.muln=function(L){return this.clone().imuln(L)},v.prototype.sqr=function(){return this.mul(this)},v.prototype.isqr=function(){return this.imul(this.clone())},v.prototype.pow=function(L){var P=S(L);if(P.length===0)return new v(1);for(var O=this,U=0;U<P.length&&P[U]===0;U++,O=O.sqr());if(++U<P.length)for(var X=O.sqr();U<P.length;U++,X=X.sqr())P[U]!==0&&(O=O.mul(X));return O},v.prototype.iushln=function(L){s(typeof L=="number"&&L>=0);var P=L%26,O=(L-P)/26,U=67108863>>>26-P<<26-P,X;if(P!==0){var j=0;for(X=0;X<this.length;X++){var $=this.words[X]&U,Y=(this.words[X]|0)-$<<P;this.words[X]=Y|j,j=$>>>26-P}j&&(this.words[X]=j,this.length++)}if(O!==0){for(X=this.length-1;X>=0;X--)this.words[X+O]=this.words[X];for(X=0;X<O;X++)this.words[X]=0;this.length+=O}return this.strip()},v.prototype.ishln=function(L){return s(this.negative===0),this.iushln(L)},v.prototype.iushrn=function(L,P,O){s(typeof L=="number"&&L>=0);var U;P?U=(P-P%26)/26:U=0;var X=L%26,j=Math.min((L-X)/26,this.length),$=67108863^67108863>>>X<<X,Y=O;if(U-=j,U=Math.max(0,U),Y){for(var q=0;q<j;q++)Y.words[q]=this.words[q];Y.length=j}if(j!==0)if(this.length>j)for(this.length-=j,q=0;q<this.length;q++)this.words[q]=this.words[q+j];else this.words[0]=0,this.length=1;var Z=0;for(q=this.length-1;q>=0&&(Z!==0||q>=U);q--){var ne=this.words[q]|0;this.words[q]=Z<<26-X|ne>>>X,Z=ne&$}return Y&&Z!==0&&(Y.words[Y.length++]=Z),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},v.prototype.ishrn=function(L,P,O){return s(this.negative===0),this.iushrn(L,P,O)},v.prototype.shln=function(L){return this.clone().ishln(L)},v.prototype.ushln=function(L){return this.clone().iushln(L)},v.prototype.shrn=function(L){return this.clone().ishrn(L)},v.prototype.ushrn=function(L){return this.clone().iushrn(L)},v.prototype.testn=function(L){s(typeof L=="number"&&L>=0);var P=L%26,O=(L-P)/26,U=1<<P;if(this.length<=O)return!1;var X=this.words[O];return!!(X&U)},v.prototype.imaskn=function(L){s(typeof L=="number"&&L>=0);var P=L%26,O=(L-P)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=O)return this;if(P!==0&&O++,this.length=Math.min(O,this.length),P!==0){var U=67108863^67108863>>>P<<P;this.words[this.length-1]&=U}return this.strip()},v.prototype.maskn=function(L){return this.clone().imaskn(L)},v.prototype.iaddn=function(L){return s(typeof L=="number"),s(L<67108864),L<0?this.isubn(-L):this.negative!==0?this.length===1&&(this.words[0]|0)<L?(this.words[0]=L-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(L),this.negative=1,this):this._iaddn(L)},v.prototype._iaddn=function(L){this.words[0]+=L;for(var P=0;P<this.length&&this.words[P]>=67108864;P++)this.words[P]-=67108864,P===this.length-1?this.words[P+1]=1:this.words[P+1]++;return this.length=Math.max(this.length,P+1),this},v.prototype.isubn=function(L){if(s(typeof L=="number"),s(L<67108864),L<0)return this.iaddn(-L);if(this.negative!==0)return this.negative=0,this.iaddn(L),this.negative=1,this;if(this.words[0]-=L,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var P=0;P<this.length&&this.words[P]<0;P++)this.words[P]+=67108864,this.words[P+1]-=1;return this.strip()},v.prototype.addn=function(L){return this.clone().iaddn(L)},v.prototype.subn=function(L){return this.clone().isubn(L)},v.prototype.iabs=function(){return this.negative=0,this},v.prototype.abs=function(){return this.clone().iabs()},v.prototype._ishlnsubmul=function(L,P,O){var U=L.length+O,X;this._expand(U);var j,$=0;for(X=0;X<L.length;X++){j=(this.words[X+O]|0)+$;var Y=(L.words[X]|0)*P;j-=Y&67108863,$=(j>>26)-(Y/67108864|0),this.words[X+O]=j&67108863}for(;X<this.length-O;X++)j=(this.words[X+O]|0)+$,$=j>>26,this.words[X+O]=j&67108863;if($===0)return this.strip();for(s($===-1),$=0,X=0;X<this.length;X++)j=-(this.words[X]|0)+$,$=j>>26,this.words[X]=j&67108863;return this.negative=1,this.strip()},v.prototype._wordDiv=function(L,P){var O=this.length-L.length,U=this.clone(),X=L,j=X.words[X.length-1]|0,$=this._countBits(j);O=26-$,O!==0&&(X=X.ushln(O),U.iushln(O),j=X.words[X.length-1]|0);var Y=U.length-X.length,q;if(P!=="mod"){q=new v(null),q.length=Y+1,q.words=new Array(q.length);for(var Z=0;Z<q.length;Z++)q.words[Z]=0}var ne=U.clone()._ishlnsubmul(X,1,Y);ne.negative===0&&(U=ne,q&&(q.words[Y]=1));for(var Q=Y-1;Q>=0;Q--){var oe=(U.words[X.length+Q]|0)*67108864+(U.words[X.length+Q-1]|0);for(oe=Math.min(oe/j|0,67108863),U._ishlnsubmul(X,oe,Q);U.negative!==0;)oe--,U.negative=0,U._ishlnsubmul(X,1,Q),U.isZero()||(U.negative^=1);q&&(q.words[Q]=oe)}return q&&q.strip(),U.strip(),P!=="div"&&O!==0&&U.iushrn(O),{div:q||null,mod:U}},v.prototype.divmod=function(L,P,O){if(s(!L.isZero()),this.isZero())return{div:new v(0),mod:new v(0)};var U,X,j;return this.negative!==0&&L.negative===0?(j=this.neg().divmod(L,P),P!=="mod"&&(U=j.div.neg()),P!=="div"&&(X=j.mod.neg(),O&&X.negative!==0&&X.iadd(L)),{div:U,mod:X}):this.negative===0&&L.negative!==0?(j=this.divmod(L.neg(),P),P!=="mod"&&(U=j.div.neg()),{div:U,mod:j.mod}):this.negative&L.negative?(j=this.neg().divmod(L.neg(),P),P!=="div"&&(X=j.mod.neg(),O&&X.negative!==0&&X.isub(L)),{div:j.div,mod:X}):L.length>this.length||this.cmp(L)<0?{div:new v(0),mod:this}:L.length===1?P==="div"?{div:this.divn(L.words[0]),mod:null}:P==="mod"?{div:null,mod:new v(this.modn(L.words[0]))}:{div:this.divn(L.words[0]),mod:new v(this.modn(L.words[0]))}:this._wordDiv(L,P)},v.prototype.div=function(L){return this.divmod(L,"div",!1).div},v.prototype.mod=function(L){return this.divmod(L,"mod",!1).mod},v.prototype.umod=function(L){return this.divmod(L,"mod",!0).mod},v.prototype.divRound=function(L){var P=this.divmod(L);if(P.mod.isZero())return P.div;var O=P.div.negative!==0?P.mod.isub(L):P.mod,U=L.ushrn(1),X=L.andln(1),j=O.cmp(U);return j<0||X===1&&j===0?P.div:P.div.negative!==0?P.div.isubn(1):P.div.iaddn(1)},v.prototype.modn=function(L){s(L<=67108863);for(var P=(1<<26)%L,O=0,U=this.length-1;U>=0;U--)O=(P*O+(this.words[U]|0))%L;return O},v.prototype.idivn=function(L){s(L<=67108863);for(var P=0,O=this.length-1;O>=0;O--){var U=(this.words[O]|0)+P*67108864;this.words[O]=U/L|0,P=U%L}return this.strip()},v.prototype.divn=function(L){return this.clone().idivn(L)},v.prototype.egcd=function(L){s(L.negative===0),s(!L.isZero());var P=this,O=L.clone();P.negative!==0?P=P.umod(L):P=P.clone();for(var U=new v(1),X=new v(0),j=new v(0),$=new v(1),Y=0;P.isEven()&&O.isEven();)P.iushrn(1),O.iushrn(1),++Y;for(var q=O.clone(),Z=P.clone();!P.isZero();){for(var ne=0,Q=1;!(P.words[0]&Q)&&ne<26;++ne,Q<<=1);if(ne>0)for(P.iushrn(ne);ne-- >0;)(U.isOdd()||X.isOdd())&&(U.iadd(q),X.isub(Z)),U.iushrn(1),X.iushrn(1);for(var oe=0,ee=1;!(O.words[0]&ee)&&oe<26;++oe,ee<<=1);if(oe>0)for(O.iushrn(oe);oe-- >0;)(j.isOdd()||$.isOdd())&&(j.iadd(q),$.isub(Z)),j.iushrn(1),$.iushrn(1);P.cmp(O)>=0?(P.isub(O),U.isub(j),X.isub($)):(O.isub(P),j.isub(U),$.isub(X))}return{a:j,b:$,gcd:O.iushln(Y)}},v.prototype._invmp=function(L){s(L.negative===0),s(!L.isZero());var P=this,O=L.clone();P.negative!==0?P=P.umod(L):P=P.clone();for(var U=new v(1),X=new v(0),j=O.clone();P.cmpn(1)>0&&O.cmpn(1)>0;){for(var $=0,Y=1;!(P.words[0]&Y)&&$<26;++$,Y<<=1);if($>0)for(P.iushrn($);$-- >0;)U.isOdd()&&U.iadd(j),U.iushrn(1);for(var q=0,Z=1;!(O.words[0]&Z)&&q<26;++q,Z<<=1);if(q>0)for(O.iushrn(q);q-- >0;)X.isOdd()&&X.iadd(j),X.iushrn(1);P.cmp(O)>=0?(P.isub(O),U.isub(X)):(O.isub(P),X.isub(U))}var ne;return P.cmpn(1)===0?ne=U:ne=X,ne.cmpn(0)<0&&ne.iadd(L),ne},v.prototype.gcd=function(L){if(this.isZero())return L.abs();if(L.isZero())return this.abs();var P=this.clone(),O=L.clone();P.negative=0,O.negative=0;for(var U=0;P.isEven()&&O.isEven();U++)P.iushrn(1),O.iushrn(1);do{for(;P.isEven();)P.iushrn(1);for(;O.isEven();)O.iushrn(1);var X=P.cmp(O);if(X<0){var j=P;P=O,O=j}else if(X===0||O.cmpn(1)===0)break;P.isub(O)}while(!0);return O.iushln(U)},v.prototype.invm=function(L){return this.egcd(L).a.umod(L)},v.prototype.isEven=function(){return(this.words[0]&1)===0},v.prototype.isOdd=function(){return(this.words[0]&1)===1},v.prototype.andln=function(L){return this.words[0]&L},v.prototype.bincn=function(L){s(typeof L=="number");var P=L%26,O=(L-P)/26,U=1<<P;if(this.length<=O)return this._expand(O+1),this.words[O]|=U,this;for(var X=U,j=O;X!==0&&j<this.length;j++){var $=this.words[j]|0;$+=X,X=$>>>26,$&=67108863,this.words[j]=$}return X!==0&&(this.words[j]=X,this.length++),this},v.prototype.isZero=function(){return this.length===1&&this.words[0]===0},v.prototype.cmpn=function(L){var P=L<0;if(this.negative!==0&&!P)return-1;if(this.negative===0&&P)return 1;this.strip();var O;if(this.length>1)O=1;else{P&&(L=-L),s(L<=67108863,"Number is too big");var U=this.words[0]|0;O=U===L?0:U<L?-1:1}return this.negative!==0?-O|0:O},v.prototype.cmp=function(L){if(this.negative!==0&&L.negative===0)return-1;if(this.negative===0&&L.negative!==0)return 1;var P=this.ucmp(L);return this.negative!==0?-P|0:P},v.prototype.ucmp=function(L){if(this.length>L.length)return 1;if(this.length<L.length)return-1;for(var P=0,O=this.length-1;O>=0;O--){var U=this.words[O]|0,X=L.words[O]|0;if(U!==X){U<X?P=-1:U>X&&(P=1);break}}return P},v.prototype.gtn=function(L){return this.cmpn(L)===1},v.prototype.gt=function(L){return this.cmp(L)===1},v.prototype.gten=function(L){return this.cmpn(L)>=0},v.prototype.gte=function(L){return this.cmp(L)>=0},v.prototype.ltn=function(L){return this.cmpn(L)===-1},v.prototype.lt=function(L){return this.cmp(L)===-1},v.prototype.lten=function(L){return this.cmpn(L)<=0},v.prototype.lte=function(L){return this.cmp(L)<=0},v.prototype.eqn=function(L){return this.cmpn(L)===0},v.prototype.eq=function(L){return this.cmp(L)===0},v.red=function(L){return new N(L)},v.prototype.toRed=function(L){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),L.convertTo(this)._forceRed(L)},v.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},v.prototype._forceRed=function(L){return this.red=L,this},v.prototype.forceRed=function(L){return s(!this.red,"Already a number in reduction context"),this._forceRed(L)},v.prototype.redAdd=function(L){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,L)},v.prototype.redIAdd=function(L){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,L)},v.prototype.redSub=function(L){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,L)},v.prototype.redISub=function(L){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,L)},v.prototype.redShl=function(L){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,L)},v.prototype.redMul=function(L){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,L),this.red.mul(this,L)},v.prototype.redIMul=function(L){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,L),this.red.imul(this,L)},v.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},v.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},v.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},v.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},v.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},v.prototype.redPow=function(L){return s(this.red&&!L.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,L)};var c={k256:null,p224:null,p192:null,p25519:null};function A(F,L){this.name=F,this.p=new v(L,16),this.n=this.p.bitLength(),this.k=new v(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}A.prototype._tmp=function(){var L=new v(null);return L.words=new Array(Math.ceil(this.n/13)),L},A.prototype.ireduce=function(L){var P=L,O;do this.split(P,this.tmp),P=this.imulK(P),P=P.iadd(this.tmp),O=P.bitLength();while(O>this.n);var U=O<this.n?-1:P.ucmp(this.p);return U===0?(P.words[0]=0,P.length=1):U>0?P.isub(this.p):P.strip!==void 0?P.strip():P._strip(),P},A.prototype.split=function(L,P){L.iushrn(this.n,0,P)},A.prototype.imulK=function(L){return L.imul(this.k)};function h(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}f(h,A),h.prototype.split=function(L,P){for(var O=4194303,U=Math.min(L.length,9),X=0;X<U;X++)P.words[X]=L.words[X];if(P.length=U,L.length<=9){L.words[0]=0,L.length=1;return}var j=L.words[9];for(P.words[P.length++]=j&O,X=10;X<L.length;X++){var $=L.words[X]|0;L.words[X-10]=($&O)<<4|j>>>22,j=$}j>>>=22,L.words[X-10]=j,j===0&&L.length>10?L.length-=10:L.length-=9},h.prototype.imulK=function(L){L.words[L.length]=0,L.words[L.length+1]=0,L.length+=2;for(var P=0,O=0;O<L.length;O++){var U=L.words[O]|0;P+=U*977,L.words[O]=P&67108863,P=U*64+(P/67108864|0)}return L.words[L.length-1]===0&&(L.length--,L.words[L.length-1]===0&&L.length--),L};function R(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}f(R,A);function E(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}f(E,A);function D(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}f(D,A),D.prototype.imulK=function(L){for(var P=0,O=0;O<L.length;O++){var U=(L.words[O]|0)*19+P,X=U&67108863;U>>>=26,L.words[O]=X,P=U}return P!==0&&(L.words[L.length++]=P),L},v._prime=function(L){if(c[L])return c[L];var P;if(L==="k256")P=new h;else if(L==="p224")P=new R;else if(L==="p192")P=new E;else if(L==="p25519")P=new D;else throw new Error("Unknown prime "+L);return c[L]=P,P};function N(F){if(typeof F=="string"){var L=v._prime(F);this.m=L.p,this.prime=L}else s(F.gtn(1),"modulus must be greater than 1"),this.m=F,this.prime=null}N.prototype._verify1=function(L){s(L.negative===0,"red works only with positives"),s(L.red,"red works only with red numbers")},N.prototype._verify2=function(L,P){s((L.negative|P.negative)===0,"red works only with positives"),s(L.red&&L.red===P.red,"red works only with red numbers")},N.prototype.imod=function(L){return this.prime?this.prime.ireduce(L)._forceRed(this):L.umod(this.m)._forceRed(this)},N.prototype.neg=function(L){return L.isZero()?L.clone():this.m.sub(L)._forceRed(this)},N.prototype.add=function(L,P){this._verify2(L,P);var O=L.add(P);return O.cmp(this.m)>=0&&O.isub(this.m),O._forceRed(this)},N.prototype.iadd=function(L,P){this._verify2(L,P);var O=L.iadd(P);return O.cmp(this.m)>=0&&O.isub(this.m),O},N.prototype.sub=function(L,P){this._verify2(L,P);var O=L.sub(P);return O.cmpn(0)<0&&O.iadd(this.m),O._forceRed(this)},N.prototype.isub=function(L,P){this._verify2(L,P);var O=L.isub(P);return O.cmpn(0)<0&&O.iadd(this.m),O},N.prototype.shl=function(L,P){return this._verify1(L),this.imod(L.ushln(P))},N.prototype.imul=function(L,P){return this._verify2(L,P),this.imod(L.imul(P))},N.prototype.mul=function(L,P){return this._verify2(L,P),this.imod(L.mul(P))},N.prototype.isqr=function(L){return this.imul(L,L.clone())},N.prototype.sqr=function(L){return this.mul(L,L)},N.prototype.sqrt=function(L){if(L.isZero())return L.clone();var P=this.m.andln(3);if(s(P%2===1),P===3){var O=this.m.add(new v(1)).iushrn(2);return this.pow(L,O)}for(var U=this.m.subn(1),X=0;!U.isZero()&&U.andln(1)===0;)X++,U.iushrn(1);s(!U.isZero());var j=new v(1).toRed(this),$=j.redNeg(),Y=this.m.subn(1).iushrn(1),q=this.m.bitLength();for(q=new v(2*q*q).toRed(this);this.pow(q,Y).cmp($)!==0;)q.redIAdd($);for(var Z=this.pow(q,U),ne=this.pow(L,U.addn(1).iushrn(1)),Q=this.pow(L,U),oe=X;Q.cmp(j)!==0;){for(var ee=Q,G=0;ee.cmp(j)!==0;G++)ee=ee.redSqr();s(G<oe);var re=this.pow(Z,new v(1).iushln(oe-G-1));ne=ne.redMul(re),Z=re.redSqr(),Q=Q.redMul(Z),oe=G}return ne},N.prototype.invm=function(L){var P=L._invmp(this.m);return P.negative!==0?(P.negative=0,this.imod(P).redNeg()):this.imod(P)},N.prototype.pow=function(L,P){if(P.isZero())return new v(1).toRed(this);if(P.cmpn(1)===0)return L.clone();var O=4,U=new Array(1<<O);U[0]=new v(1).toRed(this),U[1]=L;for(var X=2;X<U.length;X++)U[X]=this.mul(U[X-1],L);var j=U[0],$=0,Y=0,q=P.bitLength()%26;for(q===0&&(q=26),X=P.length-1;X>=0;X--){for(var Z=P.words[X],ne=q-1;ne>=0;ne--){var Q=Z>>ne&1;if(j!==U[0]&&(j=this.sqr(j)),Q===0&&$===0){Y=0;continue}$<<=1,$|=Q,Y++,!(Y!==O&&(X!==0||ne!==0))&&(j=this.mul(j,U[$]),Y=0,$=0)}q=26}return j},N.prototype.convertTo=function(L){var P=L.umod(this.m);return P===L?P.clone():P},N.prototype.convertFrom=function(L){var P=L.clone();return P.red=null,P},v.mont=function(L){return new I(L)};function I(F){N.call(this,F),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new v(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}f(I,N),I.prototype.convertTo=function(L){return this.imod(L.ushln(this.shift))},I.prototype.convertFrom=function(L){var P=this.imod(L.mul(this.rinv));return P.red=null,P},I.prototype.imul=function(L,P){if(L.isZero()||P.isZero())return L.words[0]=0,L.length=1,L;var O=L.imul(P),U=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),X=O.isub(U).iushrn(this.shift),j=X;return X.cmp(this.m)>=0?j=X.isub(this.m):X.cmpn(0)<0&&(j=X.iadd(this.m)),j._forceRed(this)},I.prototype.mul=function(L,P){if(L.isZero()||P.isZero())return new v(0)._forceRed(this);var O=L.mul(P),U=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),X=O.isub(U).iushrn(this.shift),j=X;return X.cmp(this.m)>=0?j=X.isub(this.m):X.cmpn(0)<0&&(j=X.iadd(this.m)),j._forceRed(this)},I.prototype.invm=function(L){var P=this.imod(L._invmp(this.m).mul(this.r2));return P._forceRed(this)}}(a,this)},6204:function(a){"use strict";a.exports=o;function o(i){var l,u,s,f=i.length,v=0;for(l=0;l<f;++l)v+=i[l].length;var p=new Array(v),b=0;for(l=0;l<f;++l){var y=i[l],w=y.length;for(u=0;u<w;++u){var M=p[b++]=new Array(w-1),m=0;for(s=0;s<w;++s)s!==u&&(M[m++]=y[s]);if(u&1){var k=M[1];M[1]=M[0],M[0]=k}}}return p}},6867:function(a,o,i){"use strict";a.exports=m;var l=i(1888),u=i(855),s=i(7150);function f(k,S){for(var x=0;x<k;++x)if(!(S[x]<=S[x+k]))return!0;return!1}function v(k,S,x,T){for(var d=0,_=0,g=0,c=k.length;g<c;++g){var A=k[g];if(!f(S,A)){for(var h=0;h<2*S;++h)x[d++]=A[h];T[_++]=g}}return _}function p(k,S,x,T){var d=k.length,_=S.length;if(!(d<=0||_<=0)){var g=k[0].length>>>1;if(!(g<=0)){var c,A=l.mallocDouble(2*g*d),h=l.mallocInt32(d);if(d=v(k,g,A,h),d>0){if(g===1&&T)u.init(d),c=u.sweepComplete(g,x,0,d,A,h,0,d,A,h);else{var R=l.mallocDouble(2*g*_),E=l.mallocInt32(_);_=v(S,g,R,E),_>0&&(u.init(d+_),g===1?c=u.sweepBipartite(g,x,0,d,A,h,0,_,R,E):c=s(g,x,T,d,A,h,_,R,E),l.free(R),l.free(E))}l.free(A),l.free(h)}return c}}}var b;function y(k,S){b.push([k,S])}function w(k){return b=[],p(k,k,y,!0),b}function M(k,S){return b=[],p(k,S,y,!1),b}function m(k,S,x){switch(arguments.length){case 1:return w(k);case 2:return typeof S=="function"?p(k,k,S,!0):M(k,S);case 3:return p(k,S,x,!1);default:throw new Error("box-intersect: Invalid arguments")}}},2455:function(a,o){"use strict";function i(){function s(p,b,y,w,M,m,k,S,x,T,d){for(var _=2*p,g=w,c=_*w;g<M;++g,c+=_){var A=m[b+c],h=m[b+c+p],R=k[g];e:for(var E=S,D=_*S;E<x;++E,D+=_){var N=T[b+D],I=T[b+D+p],F=d[E];if(!(I<A||h<N)){for(var L=b+1;L<p;++L){var P=m[L+c],O=m[L+p+c],U=T[L+D],X=T[L+p+D];if(O<U||X<P)continue e}var j=y(R,F);if(j!==void 0)return j}}}}function f(p,b,y,w,M,m,k,S,x,T,d){for(var _=2*p,g=S,c=_*S;g<x;++g,c+=_){var A=T[b+c],h=T[b+c+p],R=d[g];e:for(var E=w,D=_*w;E<M;++E,D+=_){var N=m[b+D],I=m[b+D+p],F=k[E];if(!(h<N||I<A)){for(var L=b+1;L<p;++L){var P=m[L+D],O=m[L+p+D],U=T[L+c],X=T[L+p+c];if(O<U||X<P)continue e}var j=y(F,R);if(j!==void 0)return j}}}}function v(p,b,y,w,M,m,k,S,x,T,d){return M-w>x-S?s(p,b,y,w,M,m,k,S,x,T,d):f(p,b,y,w,M,m,k,S,x,T,d)}return v}function l(){function s(y,w,M,m,k,S,x,T,d,_,g){for(var c=2*y,A=m,h=c*m;A<k;++A,h+=c){var R=S[w+h],E=S[w+h+y],D=x[A];e:for(var N=T,I=c*T;N<d;++N,I+=c){var F=_[w+I],L=g[N];if(!(F<=R||E<F)){for(var P=w+1;P<y;++P){var O=S[P+h],U=S[P+y+h],X=_[P+I],j=_[P+y+I];if(U<X||j<O)continue e}var $=M(L,D);if($!==void 0)return $}}}}function f(y,w,M,m,k,S,x,T,d,_,g){for(var c=2*y,A=m,h=c*m;A<k;++A,h+=c){var R=S[w+h],E=S[w+h+y],D=x[A];e:for(var N=T,I=c*T;N<d;++N,I+=c){var F=_[w+I],L=g[N];if(!(F<R||E<F)){for(var P=w+1;P<y;++P){var O=S[P+h],U=S[P+y+h],X=_[P+I],j=_[P+y+I];if(U<X||j<O)continue e}var $=M(D,L);if($!==void 0)return $}}}}function v(y,w,M,m,k,S,x,T,d,_,g){for(var c=2*y,A=T,h=c*T;A<d;++A,h+=c){var R=_[w+h],E=g[A];e:for(var D=m,N=c*m;D<k;++D,N+=c){var I=S[w+N],F=S[w+N+y],L=x[D];if(!(R<=I||F<R)){for(var P=w+1;P<y;++P){var O=S[P+N],U=S[P+y+N],X=_[P+h],j=_[P+y+h];if(U<X||j<O)continue e}var $=M(E,L);if($!==void 0)return $}}}}function p(y,w,M,m,k,S,x,T,d,_,g){for(var c=2*y,A=T,h=c*T;A<d;++A,h+=c){var R=_[w+h],E=g[A];e:for(var D=m,N=c*m;D<k;++D,N+=c){var I=S[w+N],F=S[w+N+y],L=x[D];if(!(R<I||F<R)){for(var P=w+1;P<y;++P){var O=S[P+N],U=S[P+y+N],X=_[P+h],j=_[P+y+h];if(U<X||j<O)continue e}var $=M(L,E);if($!==void 0)return $}}}}function b(y,w,M,m,k,S,x,T,d,_,g,c){return S-k>_-d?m?s(y,w,M,k,S,x,T,d,_,g,c):f(y,w,M,k,S,x,T,d,_,g,c):m?v(y,w,M,k,S,x,T,d,_,g,c):p(y,w,M,k,S,x,T,d,_,g,c)}return b}function u(s){return s?i():l()}o.partial=u(!1),o.full=u(!0)},7150:function(a,o,i){"use strict";a.exports=F;var l=i(1888),u=i(8828),s=i(2455),f=s.partial,v=s.full,p=i(855),b=i(3545),y=i(8105),w=128,M=1<<22,m=1<<22,k=y("!(lo>=p0)&&!(p1>=hi)"),S=y("lo===p0"),x=y("lo<p0"),T=y("hi<=p0"),d=y("lo<=p0&&p0<=hi"),_=y("lo<p0&&p0<=hi"),g=6,c=2,A=1024,h=l.mallocInt32(A),R=l.mallocDouble(A);function E(L,P){var O=8*u.log2(P+1)*(L+1)|0,U=u.nextPow2(g*O);h.length<U&&(l.free(h),h=l.mallocInt32(U));var X=u.nextPow2(c*O);R.length<X&&(l.free(R),R=l.mallocDouble(X))}function D(L,P,O,U,X,j,$,Y,q){var Z=g*L;h[Z]=P,h[Z+1]=O,h[Z+2]=U,h[Z+3]=X,h[Z+4]=j,h[Z+5]=$;var ne=c*L;R[ne]=Y,R[ne+1]=q}function N(L,P,O,U,X,j,$,Y,q,Z,ne){var Q=2*L,oe=q*Q,ee=Z[oe+P];e:for(var G=X,re=X*Q;G<j;++G,re+=Q){var H=$[re+P],te=$[re+P+L];if(!(ee<H||te<ee)&&!(U&&ee===H)){for(var ue=Y[G],de=P+1;de<L;++de){var H=$[re+de],te=$[re+de+L],Ee=Z[oe+de],Me=Z[oe+de+L];if(te<Ee||Me<H)continue e}var ve;if(U?ve=O(ne,ue):ve=O(ue,ne),ve!==void 0)return ve}}}function I(L,P,O,U,X,j,$,Y,q,Z){var ne=2*L,Q=Y*ne,oe=q[Q+P];e:for(var ee=U,G=U*ne;ee<X;++ee,G+=ne){var re=$[ee];if(re!==Z){var H=j[G+P],te=j[G+P+L];if(!(oe<H||te<oe)){for(var ue=P+1;ue<L;++ue){var H=j[G+ue],te=j[G+ue+L],de=q[Q+ue],Ee=q[Q+ue+L];if(te<de||Ee<H)continue e}var Me=O(re,Z);if(Me!==void 0)return Me}}}}function F(L,P,O,U,X,j,$,Y,q){E(L,U+$);var Z=0,ne=2*L,Q;for(D(Z++,0,0,U,0,$,O?16:0,-1/0,1/0),O||D(Z++,0,0,$,0,U,1,-1/0,1/0);Z>0;){Z-=1;var oe=Z*g,ee=h[oe],G=h[oe+1],re=h[oe+2],H=h[oe+3],te=h[oe+4],ue=h[oe+5],de=Z*c,Ee=R[de],Me=R[de+1],ve=ue&1,Ae=!!(ue&16),ke=X,De=j,Ce=Y,Oe=q;if(ve&&(ke=Y,De=q,Ce=X,Oe=j),!(ue&2&&(re=x(L,ee,G,re,ke,De,Me),G>=re))&&!(ue&4&&(G=T(L,ee,G,re,ke,De,Ee),G>=re))){var Ue=re-G,ge=te-H;if(Ae){if(L*Ue*(Ue+ge)<m){if(Q=p.scanComplete(L,ee,P,G,re,ke,De,H,te,Ce,Oe),Q!==void 0)return Q;continue}}else if(L*Math.min(Ue,ge)<w){if(Q=f(L,ee,P,ve,G,re,ke,De,H,te,Ce,Oe),Q!==void 0)return Q;continue}else if(L*Ue*ge<M){if(Q=p.scanBipartite(L,ee,P,ve,G,re,ke,De,H,te,Ce,Oe),Q!==void 0)return Q;continue}var Te=k(L,ee,G,re,ke,De,Ee,Me);if(G<Te)if(L*(Te-G)<w){if(Q=v(L,ee+1,P,G,Te,ke,De,H,te,Ce,Oe),Q!==void 0)return Q}else if(ee===L-2){if(ve?Q=p.sweepBipartite(L,P,H,te,Ce,Oe,G,Te,ke,De):Q=p.sweepBipartite(L,P,G,Te,ke,De,H,te,Ce,Oe),Q!==void 0)return Q}else D(Z++,ee+1,G,Te,H,te,ve,-1/0,1/0),D(Z++,ee+1,H,te,G,Te,ve^1,-1/0,1/0);if(Te<re){var ce=b(L,ee,H,te,Ce,Oe),ye=Ce[ne*ce+ee],Le=S(L,ee,ce,te,Ce,Oe,ye);if(Le<te&&D(Z++,ee,Te,re,Le,te,(ve|4)+(Ae?16:0),ye,Me),H<ce&&D(Z++,ee,Te,re,H,ce,(ve|2)+(Ae?16:0),Ee,ye),ce+1===Le){if(Ae?Q=I(L,ee,P,Te,re,ke,De,ce,Ce,Oe[ce]):Q=N(L,ee,P,ve,Te,re,ke,De,ce,Ce,Oe[ce]),Q!==void 0)return Q}else if(ce<Le){var me;if(Ae){if(me=d(L,ee,Te,re,ke,De,ye),Te<me){var he=S(L,ee,Te,me,ke,De,ye);if(ee===L-2){if(Te<he&&(Q=p.sweepComplete(L,P,Te,he,ke,De,ce,Le,Ce,Oe),Q!==void 0)||he<me&&(Q=p.sweepBipartite(L,P,he,me,ke,De,ce,Le,Ce,Oe),Q!==void 0))return Q}else Te<he&&D(Z++,ee+1,Te,he,ce,Le,16,-1/0,1/0),he<me&&(D(Z++,ee+1,he,me,ce,Le,0,-1/0,1/0),D(Z++,ee+1,ce,Le,he,me,1,-1/0,1/0))}}else ve?me=_(L,ee,Te,re,ke,De,ye):me=d(L,ee,Te,re,ke,De,ye),Te<me&&(ee===L-2?ve?Q=p.sweepBipartite(L,P,ce,Le,Ce,Oe,Te,me,ke,De):Q=p.sweepBipartite(L,P,Te,me,ke,De,ce,Le,Ce,Oe):(D(Z++,ee+1,Te,me,ce,Le,ve,-1/0,1/0),D(Z++,ee+1,ce,Le,Te,me,ve^1,-1/0,1/0)))}}}}}},3545:function(a,o,i){"use strict";a.exports=v;var l=i(8105),u=l("lo<p0"),s=8;function f(p,b,y,w,M,m){for(var k=2*p,S=k*(y+1)+b,x=y+1;x<w;++x,S+=k)for(var T=M[S],d=x,_=k*(x-1);d>y&&M[_+b]>T;--d,_-=k){for(var g=_,c=_+k,A=0;A<k;++A,++g,++c){var h=M[g];M[g]=M[c],M[c]=h}var R=m[d];m[d]=m[d-1],m[d-1]=R}}function v(p,b,y,w,M,m){if(w<=y+1)return y;for(var k=y,S=w,x=w+y>>>1,T=2*p,d=x,_=M[T*x+b];k<S;){if(S-k<s){f(p,b,k,S,M,m),_=M[T*x+b];break}var g=S-k,c=Math.random()*g+k|0,A=M[T*c+b],h=Math.random()*g+k|0,R=M[T*h+b],E=Math.random()*g+k|0,D=M[T*E+b];A<=R?D>=R?(d=h,_=R):A>=D?(d=c,_=A):(d=E,_=D):R>=D?(d=h,_=R):D>=A?(d=c,_=A):(d=E,_=D);for(var F=T*(S-1),L=T*d,N=0;N<T;++N,++F,++L){var I=M[F];M[F]=M[L],M[L]=I}var P=m[S-1];m[S-1]=m[d],m[d]=P,d=u(p,b,k,S-1,M,m,_);for(var F=T*(S-1),L=T*d,N=0;N<T;++N,++F,++L){var I=M[F];M[F]=M[L],M[L]=I}var P=m[S-1];if(m[S-1]=m[d],m[d]=P,x<d){for(S=d-1;k<S&&M[T*(S-1)+b]===_;)S-=1;S+=1}else if(d<x)for(k=d+1;k<S&&M[T*k+b]===_;)k+=1;else break}return u(p,b,y,x,M,m,M[T*x+b])}},8105:function(a){"use strict";a.exports=i;var o={"lo===p0":l,"lo<p0":u,"lo<=p0":s,"hi<=p0":f,"lo<p0&&p0<=hi":p,"lo<=p0&&p0<=hi":v,"!(lo>=p0)&&!(p1>=hi)":b};function i(y){return o[y]}function l(y,w,M,m,k,S,x){for(var T=2*y,d=T*M,_=d,g=M,c=w,A=y+w,h=M;m>h;++h,d+=T){var R=k[d+c];if(R===x)if(g===h)g+=1,_+=T;else{for(var E=0;T>E;++E){var D=k[d+E];k[d+E]=k[_],k[_++]=D}var N=S[h];S[h]=S[g],S[g++]=N}}return g}function u(y,w,M,m,k,S,x){for(var T=2*y,d=T*M,_=d,g=M,c=w,A=y+w,h=M;m>h;++h,d+=T){var R=k[d+c];if(R<x)if(g===h)g+=1,_+=T;else{for(var E=0;T>E;++E){var D=k[d+E];k[d+E]=k[_],k[_++]=D}var N=S[h];S[h]=S[g],S[g++]=N}}return g}function s(y,w,M,m,k,S,x){for(var T=2*y,d=T*M,_=d,g=M,c=w,A=y+w,h=M;m>h;++h,d+=T){var R=k[d+A];if(R<=x)if(g===h)g+=1,_+=T;else{for(var E=0;T>E;++E){var D=k[d+E];k[d+E]=k[_],k[_++]=D}var N=S[h];S[h]=S[g],S[g++]=N}}return g}function f(y,w,M,m,k,S,x){for(var T=2*y,d=T*M,_=d,g=M,c=w,A=y+w,h=M;m>h;++h,d+=T){var R=k[d+A];if(R<=x)if(g===h)g+=1,_+=T;else{for(var E=0;T>E;++E){var D=k[d+E];k[d+E]=k[_],k[_++]=D}var N=S[h];S[h]=S[g],S[g++]=N}}return g}function v(y,w,M,m,k,S,x){for(var T=2*y,d=T*M,_=d,g=M,c=w,A=y+w,h=M;m>h;++h,d+=T){var R=k[d+c],E=k[d+A];if(R<=x&&x<=E)if(g===h)g+=1,_+=T;else{for(var D=0;T>D;++D){var N=k[d+D];k[d+D]=k[_],k[_++]=N}var I=S[h];S[h]=S[g],S[g++]=I}}return g}function p(y,w,M,m,k,S,x){for(var T=2*y,d=T*M,_=d,g=M,c=w,A=y+w,h=M;m>h;++h,d+=T){var R=k[d+c],E=k[d+A];if(R<x&&x<=E)if(g===h)g+=1,_+=T;else{for(var D=0;T>D;++D){var N=k[d+D];k[d+D]=k[_],k[_++]=N}var I=S[h];S[h]=S[g],S[g++]=I}}return g}function b(y,w,M,m,k,S,x,T){for(var d=2*y,_=d*M,g=_,c=M,A=w,h=y+w,R=M;m>R;++R,_+=d){var E=k[_+A],D=k[_+h];if(!(E>=x)&&!(T>=D))if(c===R)c+=1,g+=d;else{for(var N=0;d>N;++N){var I=k[_+N];k[_+N]=k[g],k[g++]=I}var F=S[R];S[R]=S[c],S[c++]=F}}return c}},4192:function(a){"use strict";a.exports=i;var o=32;function i(w,M){M<=4*o?l(0,M-1,w):y(0,M-1,w)}function l(w,M,m){for(var k=2*(w+1),S=w+1;S<=M;++S){for(var x=m[k++],T=m[k++],d=S,_=k-2;d-- >w;){var g=m[_-2],c=m[_-1];if(g<x)break;if(g===x&&c<T)break;m[_]=g,m[_+1]=c,_-=2}m[_]=x,m[_+1]=T}}function u(w,M,m){w*=2,M*=2;var k=m[w],S=m[w+1];m[w]=m[M],m[w+1]=m[M+1],m[M]=k,m[M+1]=S}function s(w,M,m){w*=2,M*=2,m[w]=m[M],m[w+1]=m[M+1]}function f(w,M,m,k){w*=2,M*=2,m*=2;var S=k[w],x=k[w+1];k[w]=k[M],k[w+1]=k[M+1],k[M]=k[m],k[M+1]=k[m+1],k[m]=S,k[m+1]=x}function v(w,M,m,k,S){w*=2,M*=2,S[w]=S[M],S[M]=m,S[w+1]=S[M+1],S[M+1]=k}function p(w,M,m){w*=2,M*=2;var k=m[w],S=m[M];return k<S?!1:k===S?m[w+1]>m[M+1]:!0}function b(w,M,m,k){w*=2;var S=k[w];return S<M?!0:S===M?k[w+1]<m:!1}function y(w,M,m){var k=(M-w+1)/6|0,S=w+k,x=M-k,T=w+M>>1,d=T-k,_=T+k,g=S,c=d,A=T,h=_,R=x,E=w+1,D=M-1,N=0;p(g,c,m)&&(N=g,g=c,c=N),p(h,R,m)&&(N=h,h=R,R=N),p(g,A,m)&&(N=g,g=A,A=N),p(c,A,m)&&(N=c,c=A,A=N),p(g,h,m)&&(N=g,g=h,h=N),p(A,h,m)&&(N=A,A=h,h=N),p(c,R,m)&&(N=c,c=R,R=N),p(c,A,m)&&(N=c,c=A,A=N),p(h,R,m)&&(N=h,h=R,R=N);for(var I=m[2*c],F=m[2*c+1],L=m[2*h],P=m[2*h+1],O=2*g,U=2*A,X=2*R,j=2*S,$=2*T,Y=2*x,q=0;q<2;++q){var Z=m[O+q],ne=m[U+q],Q=m[X+q];m[j+q]=Z,m[$+q]=ne,m[Y+q]=Q}s(d,w,m),s(_,M,m);for(var oe=E;oe<=D;++oe)if(b(oe,I,F,m))oe!==E&&u(oe,E,m),++E;else if(!b(oe,L,P,m))for(;;)if(b(D,L,P,m)){b(D,I,F,m)?(f(oe,E,D,m),++E,--D):(u(oe,D,m),--D);break}else{if(--D<oe)break;continue}v(w,E-1,I,F,m),v(M,D+1,L,P,m),E-2-w<=o?l(w,E-2,m):y(w,E-2,m),M-(D+2)<=o?l(D+2,M,m):y(D+2,M,m),D-E<=o?l(E,D,m):y(E,D,m)}},855:function(a,o,i){"use strict";a.exports={init:S,sweepBipartite:d,sweepComplete:_,scanBipartite:g,scanComplete:c};var l=i(1888),u=i(8828),s=i(4192),f=1<<28,v=1024,p=l.mallocInt32(v),b=l.mallocInt32(v),y=l.mallocInt32(v),w=l.mallocInt32(v),M=l.mallocInt32(v),m=l.mallocInt32(v),k=l.mallocDouble(v*8);function S(A){var h=u.nextPow2(A);p.length<h&&(l.free(p),p=l.mallocInt32(h)),b.length<h&&(l.free(b),b=l.mallocInt32(h)),y.length<h&&(l.free(y),y=l.mallocInt32(h)),w.length<h&&(l.free(w),w=l.mallocInt32(h)),M.length<h&&(l.free(M),M=l.mallocInt32(h)),m.length<h&&(l.free(m),m=l.mallocInt32(h));var R=8*h;k.length<R&&(l.free(k),k=l.mallocDouble(R))}function x(A,h,R,E){var D=h[E],N=A[R-1];A[D]=N,h[N]=D}function T(A,h,R,E){A[R]=E,h[E]=R}function d(A,h,R,E,D,N,I,F,L,P){for(var O=0,U=2*A,X=A-1,j=U-1,$=R;$<E;++$){var Y=N[$],q=U*$;k[O++]=D[q+X],k[O++]=-(Y+1),k[O++]=D[q+j],k[O++]=Y}for(var $=I;$<F;++$){var Y=P[$]+f,Z=U*$;k[O++]=L[Z+X],k[O++]=-Y,k[O++]=L[Z+j],k[O++]=Y}var ne=O>>>1;s(k,ne);for(var Q=0,oe=0,$=0;$<ne;++$){var ee=k[2*$+1]|0;if(ee>=f)ee=ee-f|0,x(y,w,oe--,ee);else if(ee>=0)x(p,b,Q--,ee);else if(ee<=-f){ee=-ee-f|0;for(var G=0;G<Q;++G){var re=h(p[G],ee);if(re!==void 0)return re}T(y,w,oe++,ee)}else{ee=-ee-1|0;for(var G=0;G<oe;++G){var re=h(ee,y[G]);if(re!==void 0)return re}T(p,b,Q++,ee)}}}function _(A,h,R,E,D,N,I,F,L,P){for(var O=0,U=2*A,X=A-1,j=U-1,$=R;$<E;++$){var Y=N[$]+1<<1,q=U*$;k[O++]=D[q+X],k[O++]=-Y,k[O++]=D[q+j],k[O++]=Y}for(var $=I;$<F;++$){var Y=P[$]+1<<1,Z=U*$;k[O++]=L[Z+X],k[O++]=-Y|1,k[O++]=L[Z+j],k[O++]=Y|1}var ne=O>>>1;s(k,ne);for(var Q=0,oe=0,ee=0,$=0;$<ne;++$){var G=k[2*$+1]|0,re=G&1;if($<ne-1&&G>>1===k[2*$+3]>>1&&(re=2,$+=1),G<0){for(var H=-(G>>1)-1,te=0;te<ee;++te){var ue=h(M[te],H);if(ue!==void 0)return ue}if(re!==0)for(var te=0;te<Q;++te){var ue=h(p[te],H);if(ue!==void 0)return ue}if(re!==1)for(var te=0;te<oe;++te){var ue=h(y[te],H);if(ue!==void 0)return ue}re===0?T(p,b,Q++,H):re===1?T(y,w,oe++,H):re===2&&T(M,m,ee++,H)}else{var H=(G>>1)-1;re===0?x(p,b,Q--,H):re===1?x(y,w,oe--,H):re===2&&x(M,m,ee--,H)}}}function g(A,h,R,E,D,N,I,F,L,P,O,U){var X=0,j=2*A,$=h,Y=h+A,q=1,Z=1;E?Z=f:q=f;for(var ne=D;ne<N;++ne){var Q=ne+q,oe=j*ne;k[X++]=I[oe+$],k[X++]=-Q,k[X++]=I[oe+Y],k[X++]=Q}for(var ne=L;ne<P;++ne){var Q=ne+Z,ee=j*ne;k[X++]=O[ee+$],k[X++]=-Q}var G=X>>>1;s(k,G);for(var re=0,ne=0;ne<G;++ne){var H=k[2*ne+1]|0;if(H<0){var Q=-H,te=!1;if(Q>=f?(te=!E,Q-=f):(te=!!E,Q-=1),te)T(p,b,re++,Q);else{var ue=U[Q],de=j*Q,Ee=O[de+h+1],Me=O[de+h+1+A];e:for(var ve=0;ve<re;++ve){var Ae=p[ve],ke=j*Ae;if(!(Me<I[ke+h+1]||I[ke+h+1+A]<Ee)){for(var De=h+2;De<A;++De)if(O[de+De+A]<I[ke+De]||I[ke+De+A]<O[de+De])continue e;var Ce=F[Ae],Oe;if(E?Oe=R(ue,Ce):Oe=R(Ce,ue),Oe!==void 0)return Oe}}}}else x(p,b,re--,H-q)}}function c(A,h,R,E,D,N,I,F,L,P,O){for(var U=0,X=2*A,j=h,$=h+A,Y=E;Y<D;++Y){var q=Y+f,Z=X*Y;k[U++]=N[Z+j],k[U++]=-q,k[U++]=N[Z+$],k[U++]=q}for(var Y=F;Y<L;++Y){var q=Y+1,ne=X*Y;k[U++]=P[ne+j],k[U++]=-q}var Q=U>>>1;s(k,Q);for(var oe=0,Y=0;Y<Q;++Y){var ee=k[2*Y+1]|0;if(ee<0){var q=-ee;if(q>=f)p[oe++]=q-f;else{q-=1;var G=O[q],re=X*q,H=P[re+h+1],te=P[re+h+1+A];e:for(var ue=0;ue<oe;++ue){var de=p[ue],Ee=I[de];if(Ee===G)break;var Me=X*de;if(!(te<N[Me+h+1]||N[Me+h+1+A]<H)){for(var ve=h+2;ve<A;++ve)if(P[re+ve+A]<N[Me+ve]||N[Me+ve+A]<P[re+ve])continue e;var Ae=R(Ee,G);if(Ae!==void 0)return Ae}}}}else{for(var q=ee-f,ue=oe-1;ue>=0;--ue)if(p[ue]===q){for(var ve=ue+1;ve<oe;++ve)p[ve-1]=p[ve];break}--oe}}}},2538:function(a,o,i){"use strict";var l=i(8902),u=i(5542),s=i(2272),f=i(5023);a.exports=w;function v(M){return[Math.min(M[0],M[1]),Math.max(M[0],M[1])]}function p(M,m){return M[0]-m[0]||M[1]-m[1]}function b(M){return M.map(v).sort(p)}function y(M,m,k){return m in M?M[m]:k}function w(M,m,k){Array.isArray(m)?(k=k||{},m=m||[]):(k=m||{},m=[]);var S=!!y(k,"delaunay",!0),x=!!y(k,"interior",!0),T=!!y(k,"exterior",!0),d=!!y(k,"infinity",!1);if(!x&&!T||M.length===0)return[];var _=l(M,m);if(S||x!==T||d){for(var g=u(M.length,b(m)),c=0;c<_.length;++c){var A=_[c];g.addTriangle(A[0],A[1],A[2])}return S&&s(M,g),T?x?d?f(g,0,d):g.cells():f(g,1,d):f(g,-1)}else return _}},2272:function(a,o,i){"use strict";var l=i(2646)[4],u=i(2478);a.exports=f;function s(v,p,b,y,w,M){var m=p.opposite(y,w);if(!(m<0)){if(w<y){var k=y;y=w,w=k,k=M,M=m,m=k}p.isConstraint(y,w)||l(v[y],v[w],v[M],v[m])<0&&b.push(y,w)}}function f(v,p){for(var b=[],y=v.length,w=p.stars,M=0;M<y;++M)for(var m=w[M],k=1;k<m.length;k+=2){var S=m[k];if(!(S<M)&&!p.isConstraint(M,S)){for(var x=m[k-1],T=-1,d=1;d<m.length;d+=2)if(m[d-1]===S){T=m[d];break}T<0||l(v[M],v[S],v[x],v[T])<0&&b.push(M,S)}}for(;b.length>0;){for(var S=b.pop(),M=b.pop(),x=-1,T=-1,m=w[M],_=1;_<m.length;_+=2){var g=m[_-1],c=m[_];g===S?T=c:c===S&&(x=g)}x<0||T<0||l(v[M],v[S],v[x],v[T])>=0||(p.flip(M,S),s(v,p,b,x,M,T),s(v,p,b,M,T,x),s(v,p,b,T,S,x),s(v,p,b,S,x,T))}}},5023:function(a,o,i){"use strict";var l=i(2478);a.exports=b;function u(y,w,M,m,k,S,x){this.cells=y,this.neighbor=w,this.flags=m,this.constraint=M,this.active=k,this.next=S,this.boundary=x}var s=u.prototype;function f(y,w){return y[0]-w[0]||y[1]-w[1]||y[2]-w[2]}s.locate=function(){var y=[0,0,0];return function(w,M,m){var k=w,S=M,x=m;return M<m?M<w&&(k=M,S=m,x=w):m<w&&(k=m,S=w,x=M),k<0?-1:(y[0]=k,y[1]=S,y[2]=x,l.eq(this.cells,y,f))}}();function v(y,w){for(var M=y.cells(),m=M.length,k=0;k<m;++k){var S=M[k],x=S[0],T=S[1],d=S[2];T<d?T<x&&(S[0]=T,S[1]=d,S[2]=x):d<x&&(S[0]=d,S[1]=x,S[2]=T)}M.sort(f);for(var _=new Array(m),k=0;k<_.length;++k)_[k]=0;var g=[],c=[],A=new Array(3*m),h=new Array(3*m),R=null;w&&(R=[]);for(var E=new u(M,A,h,_,g,c,R),k=0;k<m;++k)for(var S=M[k],D=0;D<3;++D){var x=S[D],T=S[(D+1)%3],N=A[3*k+D]=E.locate(T,x,y.opposite(T,x)),I=h[3*k+D]=y.isConstraint(x,T);N<0&&(I?c.push(k):(g.push(k),_[k]=1),w&&R.push([T,x,-1]))}return E}function p(y,w,M){for(var m=0,k=0;k<y.length;++k)w[k]===M&&(y[m++]=y[k]);return y.length=m,y}function b(y,w,M){var m=v(y,M);if(w===0)return M?m.cells.concat(m.boundary):m.cells;for(var k=1,S=m.active,x=m.next,T=m.flags,d=m.cells,_=m.constraint,g=m.neighbor;S.length>0||x.length>0;){for(;S.length>0;){var c=S.pop();if(T[c]!==-k){T[c]=k;for(var A=d[c],h=0;h<3;++h){var R=g[3*c+h];R>=0&&T[R]===0&&(_[3*c+h]?x.push(R):(S.push(R),T[R]=k))}}}var E=x;x=S,S=E,x.length=0,k=-k}var D=p(d,T,w);return M?D.concat(m.boundary):D}},8902:function(a,o,i){"use strict";var l=i(2478),u=i(3250)[3],s=0,f=1,v=2;a.exports=x;function p(T,d,_,g,c){this.a=T,this.b=d,this.idx=_,this.lowerIds=g,this.upperIds=c}function b(T,d,_,g){this.a=T,this.b=d,this.type=_,this.idx=g}function y(T,d){var _=T.a[0]-d.a[0]||T.a[1]-d.a[1]||T.type-d.type;return _||T.type!==s&&(_=u(T.a,T.b,d.b),_)?_:T.idx-d.idx}function w(T,d){return u(T.a,T.b,d)}function M(T,d,_,g,c){for(var A=l.lt(d,g,w),h=l.gt(d,g,w),R=A;R<h;++R){for(var E=d[R],D=E.lowerIds,I=D.length;I>1&&u(_[D[I-2]],_[D[I-1]],g)>0;)T.push([D[I-1],D[I-2],c]),I-=1;D.length=I,D.push(c);for(var N=E.upperIds,I=N.length;I>1&&u(_[N[I-2]],_[N[I-1]],g)<0;)T.push([N[I-2],N[I-1],c]),I-=1;N.length=I,N.push(c)}}function m(T,d){var _;return T.a[0]<d.a[0]?_=u(T.a,T.b,d.a):_=u(d.b,d.a,T.a),_||(d.b[0]<T.b[0]?_=u(T.a,T.b,d.b):_=u(d.b,d.a,T.b),_||T.idx-d.idx)}function k(T,d,_){var g=l.le(T,_,m),c=T[g],A=c.upperIds,h=A[A.length-1];c.upperIds=[h],T.splice(g+1,0,new p(_.a,_.b,_.idx,[h],A))}function S(T,d,_){var g=_.a;_.a=_.b,_.b=g;var c=l.eq(T,_,m),A=T[c],h=T[c-1];h.upperIds=A.upperIds,T.splice(c,1)}function x(T,d){for(var _=T.length,g=d.length,c=[],A=0;A<_;++A)c.push(new b(T[A],null,s,A));for(var A=0;A<g;++A){var h=d[A],R=T[h[0]],E=T[h[1]];R[0]<E[0]?c.push(new b(R,E,v,A),new b(E,R,f,A)):R[0]>E[0]&&c.push(new b(E,R,v,A),new b(R,E,f,A))}c.sort(y);for(var D=c[0].a[0]-(1+Math.abs(c[0].a[0]))*Math.pow(2,-52),N=[new p([D,1],[D,0],-1,[],[],[],[])],I=[],A=0,F=c.length;A<F;++A){var L=c[A],P=L.type;P===s?M(I,N,T,L.a,L.idx):P===v?k(N,T,L):S(N,T,L)}return I}},5542:function(a,o,i){"use strict";var l=i(2478);a.exports=v;function u(p,b){this.stars=p,this.edges=b}var s=u.prototype;function f(p,b,y){for(var w=1,M=p.length;w<M;w+=2)if(p[w-1]===b&&p[w]===y){p[w-1]=p[M-2],p[w]=p[M-1],p.length=M-2;return}}s.isConstraint=function(){var p=[0,0];function b(y,w){return y[0]-w[0]||y[1]-w[1]}return function(y,w){return p[0]=Math.min(y,w),p[1]=Math.max(y,w),l.eq(this.edges,p,b)>=0}}(),s.removeTriangle=function(p,b,y){var w=this.stars;f(w[p],b,y),f(w[b],y,p),f(w[y],p,b)},s.addTriangle=function(p,b,y){var w=this.stars;w[p].push(b,y),w[b].push(y,p),w[y].push(p,b)},s.opposite=function(p,b){for(var y=this.stars[b],w=1,M=y.length;w<M;w+=2)if(y[w]===p)return y[w-1];return-1},s.flip=function(p,b){var y=this.opposite(p,b),w=this.opposite(b,p);this.removeTriangle(p,b,y),this.removeTriangle(b,p,w),this.addTriangle(p,w,y),this.addTriangle(b,y,w)},s.edges=function(){for(var p=this.stars,b=[],y=0,w=p.length;y<w;++y)for(var M=p[y],m=0,k=M.length;m<k;m+=2)b.push([M[m],M[m+1]]);return b},s.cells=function(){for(var p=this.stars,b=[],y=0,w=p.length;y<w;++y)for(var M=p[y],m=0,k=M.length;m<k;m+=2){var S=M[m],x=M[m+1];y<Math.min(S,x)&&b.push([y,S,x])}return b};function v(p,b){for(var y=new Array(p),w=0;w<p;++w)y[w]=[];return new u(y,b)}},2419:function(a){"use strict";a.exports=o;function o(i){for(var l=1,u=1;u<i.length;++u)for(var s=0;s<u;++s)if(i[u]<i[s])l=-l;else if(i[s]===i[u])return 0;return l}},3628:function(a,o,i){"use strict";var l=i(1338),u=i(727);function s(p,b){for(var y=0,w=p.length,M=0;M<w;++M)y+=p[M]*b[M];return y}function f(p){var b=p.length;if(b===0)return[];var y=p[0].length,w=l([p.length+1,p.length+1],1),M=l([p.length+1],1);w[b][b]=0;for(var m=0;m<b;++m){for(var k=0;k<=m;++k)w[k][m]=w[m][k]=2*s(p[m],p[k]);M[m]=s(p[m],p[m])}for(var S=u(w,M),x=0,T=S[b+1],m=0;m<T.length;++m)x+=T[m];for(var d=new Array(b),m=0;m<b;++m){for(var T=S[m],_=0,k=0;k<T.length;++k)_+=T[k];d[m]=_/x}return d}function v(p){if(p.length===0)return[];for(var b=p[0].length,y=l([b]),w=f(p),M=0;M<p.length;++M)for(var m=0;m<b;++m)y[m]+=p[M][m]*w[M];return y}v.barycenetric=f,a.exports=v},6037:function(a,o,i){a.exports=u;var l=i(3628);function u(s){for(var f=l(s),v=0,p=0;p<s.length;++p)for(var b=s[p],y=0;y<f.length;++y)v+=Math.pow(b[y]-f[y],2);return Math.sqrt(v/s.length)}},332:function(a,o,i){"use strict";a.exports=R;var l=i(1755),u=i(6867),s=i(1125),f=i(7842),v=i(1318),p=i(946),b=i(5838),y=i(1278),w=i(3637);function M(E){var D=p(E);return[y(D,-1/0),y(D,1/0)]}function m(E,D){for(var N=new Array(D.length),I=0;I<D.length;++I){var F=D[I],L=E[F[0]],P=E[F[1]];N[I]=[y(Math.min(L[0],P[0]),-1/0),y(Math.min(L[1],P[1]),-1/0),y(Math.max(L[0],P[0]),1/0),y(Math.max(L[1],P[1]),1/0)]}return N}function k(E){for(var D=new Array(E.length),N=0;N<E.length;++N){var I=E[N];D[N]=[y(I[0],-1/0),y(I[1],-1/0),y(I[0],1/0),y(I[1],1/0)]}return D}function S(E,D,N){var I=[];return u(N,function(F,L){var P=D[F],O=D[L];if(!(P[0]===O[0]||P[0]===O[1]||P[1]===O[0]||P[1]===O[1])){var U=E[P[0]],X=E[P[1]],j=E[O[0]],$=E[O[1]];s(U,X,j,$)&&I.push([F,L])}}),I}function x(E,D,N,I){var F=[];return u(N,I,function(L,P){var O=D[L];if(!(O[0]===P||O[1]===P)){var U=E[P],X=E[O[0]],j=E[O[1]];s(X,j,U,U)&&F.push([L,P])}}),F}function T(E,D,N,I,F){var L,P,O=E.map(function(de){return[f(de[0]),f(de[1])]});for(L=0;L<N.length;++L){var U=N[L];P=U[0];var X=U[1],j=D[P],$=D[X],Y=w(b(E[j[0]]),b(E[j[1]]),b(E[$[0]]),b(E[$[1]]));if(Y){var q=E.length;E.push([p(Y[0]),p(Y[1])]),O.push(Y),I.push([P,q],[X,q])}}for(I.sort(function(de,Ee){if(de[0]!==Ee[0])return de[0]-Ee[0];var Me=O[de[1]],ve=O[Ee[1]];return v(Me[0],ve[0])||v(Me[1],ve[1])}),L=I.length-1;L>=0;--L){var Z=I[L];P=Z[0];var ne=D[P],Q=ne[0],oe=ne[1],ee=E[Q],G=E[oe];if((ee[0]-G[0]||ee[1]-G[1])<0){var re=Q;Q=oe,oe=re}ne[0]=Q;var H=ne[1]=Z[1],te;for(F&&(te=ne[2]);L>0&&I[L-1][0]===P;){var Z=I[--L],ue=Z[1];F?D.push([H,ue,te]):D.push([H,ue]),H=ue}F?D.push([H,oe,te]):D.push([H,oe])}return O}function d(E,D,N){for(var I=D.length,F=new l(I),L=[],P=0;P<D.length;++P){var O=D[P],U=M(O[0]),X=M(O[1]);L.push([y(U[0],-1/0),y(X[0],-1/0),y(U[1],1/0),y(X[1],1/0)])}u(L,function(Z,ne){F.link(Z,ne)});for(var j=!0,$=new Array(I),P=0;P<I;++P){var Y=F.find(P);Y!==P&&(j=!1,E[Y]=[Math.min(E[P][0],E[Y][0]),Math.min(E[P][1],E[Y][1])])}if(j)return null;for(var q=0,P=0;P<I;++P){var Y=F.find(P);Y===P?($[P]=q,E[q++]=E[P]):$[P]=-1}E.length=q;for(var P=0;P<I;++P)$[P]<0&&($[P]=$[F.find(P)]);return $}function _(E,D){return E[0]-D[0]||E[1]-D[1]}function g(E,D){var N=E[0]-D[0]||E[1]-D[1];return N||(E[2]<D[2]?-1:E[2]>D[2]?1:0)}function c(E,D,N){if(E.length!==0){if(D)for(var I=0;I<E.length;++I){var F=E[I],L=D[F[0]],P=D[F[1]];F[0]=Math.min(L,P),F[1]=Math.max(L,P)}else for(var I=0;I<E.length;++I){var F=E[I],L=F[0],P=F[1];F[0]=Math.min(L,P),F[1]=Math.max(L,P)}N?E.sort(g):E.sort(_);for(var O=1,I=1;I<E.length;++I){var U=E[I-1],X=E[I];X[0]===U[0]&&X[1]===U[1]&&(!N||X[2]===U[2])||(E[O++]=X)}E.length=O}}function A(E,D,N){var I=d(E,[],k(E));return c(D,I,N),!!I}function h(E,D,N){var I=m(E,D),F=S(E,D,I),L=k(E),P=x(E,D,I,L),O=T(E,D,F,P,N),U=d(E,O,L);return c(D,U,N),U?!0:F.length>0||P.length>0}function R(E,D,N){var I;if(N){I=D;for(var F=new Array(D.length),L=0;L<D.length;++L){var P=D[L];F[L]=[P[0],P[1],N[L]]}D=F}for(var O=A(E,D,!!N);h(E,D,!!N);)O=!0;if(N&&O){I.length=0,N.length=0;for(var L=0;L<D.length;++L){var P=D[L];I.push([P[0],P[1]]),N.push(P[2])}}return O}},3637:function(a,o,i){"use strict";a.exports=w;var l=i(6504),u=i(8697),s=i(5572),f=i(7721),v=i(544),p=i(2653),b=i(8987);function y(M,m){return s(l(M[0],m[1]),l(M[1],m[0]))}function w(M,m,k,S){var x=v(m,M),T=v(S,k),d=y(x,T);if(f(d)===0)return null;var _=v(M,k),g=y(T,_),c=u(g,d),A=b(x,c),h=p(M,A);return h}},3642:function(a){a.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},6729:function(a,o,i){"use strict";var l=i(3642),u=i(395);a.exports=s;function s(b){var y,w,M,m,k,S,x,T,c,d,_;if(b||(b={}),T=(b.nshades||72)-1,x=b.format||"hex",S=b.colormap,S||(S="jet"),typeof S=="string"){if(S=S.toLowerCase(),!l[S])throw Error(S+" not a supported colorscale");k=l[S]}else if(Array.isArray(S))k=S.slice();else throw Error("unsupported colormap option",S);if(k.length>T+1)throw new Error(S+" map requires nshades to be at least size "+k.length);Array.isArray(b.alpha)?b.alpha.length!==2?d=[1,1]:d=b.alpha.slice():typeof b.alpha=="number"?d=[b.alpha,b.alpha]:d=[1,1],y=k.map(function(R){return Math.round(R.index*T)}),d[0]=Math.min(Math.max(d[0],0),1),d[1]=Math.min(Math.max(d[1],0),1);var g=k.map(function(R,E){var D=k[E].index,N=k[E].rgb.slice();return N.length===4&&N[3]>=0&&N[3]<=1||(N[3]=d[0]+(d[1]-d[0])*D),N}),c=[];for(_=0;_<y.length-1;++_){m=y[_+1]-y[_],w=g[_],M=g[_+1];for(var A=0;A<m;A++){var h=A/m;c.push([Math.round(u(w[0],M[0],h)),Math.round(u(w[1],M[1],h)),Math.round(u(w[2],M[2],h)),u(w[3],M[3],h)])}}return c.push(k[k.length-1].rgb.concat(d[1])),x==="hex"?c=c.map(v):x==="rgbaString"?c=c.map(p):x==="float"&&(c=c.map(f)),c}function f(b){return[b[0]/255,b[1]/255,b[2]/255,b[3]]}function v(b){for(var y,w="#",M=0;M<3;++M)y=b[M],y=y.toString(16),w+=("00"+y).substr(y.length);return w}function p(b){return"rgba("+b.join(",")+")"}},3140:function(a,o,i){"use strict";a.exports=b;var l=i(3250),u=i(8572),s=i(9362),f=i(5382),v=i(8210);function p(y,w,M){var m=s(y[0],-w[0]),k=s(y[1],-w[1]),S=s(M[0],-w[0]),x=s(M[1],-w[1]),T=v(f(m,S),f(k,x));return T[T.length-1]>=0}function b(y,w,M,m){var k=l(w,M,m);if(k===0){var S=u(l(y,w,M)),x=u(l(y,w,m));if(S===x){if(S===0){var T=p(y,w,M),d=p(y,w,m);return T===d?0:T?1:-1}return 0}else{if(x===0)return S>0||p(y,w,m)?-1:1;if(S===0)return x>0||p(y,w,M)?1:-1}return u(x-S)}var _=l(y,w,M);if(_>0)return k>0&&l(y,w,m)>0?1:-1;if(_<0)return k>0||l(y,w,m)>0?1:-1;var g=l(y,w,m);return g>0||p(y,w,M)?1:-1}},8572:function(a){"use strict";a.exports=function(i){return i<0?-1:i>0?1:0}},8507:function(a){a.exports=l;var o=Math.min;function i(u,s){return u-s}function l(u,s){var f=u.length,v=u.length-s.length;if(v)return v;switch(f){case 0:return 0;case 1:return u[0]-s[0];case 2:return u[0]+u[1]-s[0]-s[1]||o(u[0],u[1])-o(s[0],s[1]);case 3:var p=u[0]+u[1],b=s[0]+s[1];if(v=p+u[2]-(b+s[2]),v)return v;var y=o(u[0],u[1]),w=o(s[0],s[1]);return o(y,u[2])-o(w,s[2])||o(y+u[2],p)-o(w+s[2],b);case 4:var M=u[0],m=u[1],k=u[2],S=u[3],x=s[0],T=s[1],d=s[2],_=s[3];return M+m+k+S-(x+T+d+_)||o(M,m,k,S)-o(x,T,d,_,x)||o(M+m,M+k,M+S,m+k,m+S,k+S)-o(x+T,x+d,x+_,T+d,T+_,d+_)||o(M+m+k,M+m+S,M+k+S,m+k+S)-o(x+T+d,x+T+_,x+d+_,T+d+_);default:for(var g=u.slice().sort(i),c=s.slice().sort(i),A=0;A<f;++A)if(v=g[A]-c[A],v)return v;return 0}}},3788:function(a,o,i){"use strict";var l=i(8507),u=i(2419);a.exports=s;function s(f,v){return l(f,v)||u(f)-u(v)}},7352:function(a,o,i){"use strict";var l=i(5721),u=i(4750),s=i(2690);a.exports=f;function f(v){var p=v.length;if(p===0)return[];if(p===1)return[[0]];var b=v[0].length;return b===0?[]:b===1?l(v):b===2?u(v):s(v,b)}},5721:function(a){"use strict";a.exports=o;function o(i){for(var l=0,u=0,s=1;s<i.length;++s)i[s][0]<i[l][0]&&(l=s),i[s][0]>i[u][0]&&(u=s);return l<u?[[l],[u]]:l>u?[[u],[l]]:[[l]]}},4750:function(a,o,i){"use strict";a.exports=u;var l=i(3090);function u(s){var f=l(s),v=f.length;if(v<=2)return[];for(var p=new Array(v),b=f[v-1],y=0;y<v;++y){var w=f[y];p[y]=[b,w],b=w}return p}},2690:function(a,o,i){"use strict";a.exports=v;var l=i(8954),u=i(3952);function s(p,b){for(var y=p.length,w=new Array(y),M=0;M<b.length;++M)w[M]=p[b[M]];for(var m=b.length,M=0;M<y;++M)b.indexOf(M)<0&&(w[m++]=p[M]);return w}function f(p,b){for(var y=p.length,w=b.length,M=0;M<y;++M)for(var m=p[M],k=0;k<m.length;++k){var S=m[k];if(S<w)m[k]=b[S];else{S=S-w;for(var x=0;x<w;++x)S>=b[x]&&(S+=1);m[k]=S}}return p}function v(p,b){try{return l(p,!0)}catch(m){var y=u(p);if(y.length<=b)return[];var w=s(p,y),M=l(w,!0);return f(M,y)}}},4769:function(a){"use strict";function o(l,u,s,f,v,p){var b=6*v*v-6*v,y=3*v*v-4*v+1,w=-6*v*v+6*v,M=3*v*v-2*v;if(l.length){p||(p=new Array(l.length));for(var m=l.length-1;m>=0;--m)p[m]=b*l[m]+y*u[m]+w*s[m]+M*f[m];return p}return b*l+y*u+w*s[m]+M*f}function i(l,u,s,f,v,p){var b=v-1,y=v*v,w=b*b,M=(1+2*v)*w,m=v*w,k=y*(3-2*v),S=y*b;if(l.length){p||(p=new Array(l.length));for(var x=l.length-1;x>=0;--x)p[x]=M*l[x]+m*u[x]+k*s[x]+S*f[x];return p}return M*l+m*u+k*s+S*f}a.exports=i,a.exports.derivative=o},7642:function(a,o,i){"use strict";var l=i(8954),u=i(1682);a.exports=p;function s(b,y){this.point=b,this.index=y}function f(b,y){for(var w=b.point,M=y.point,m=w.length,k=0;k<m;++k){var S=M[k]-w[k];if(S)return S}return 0}function v(b,y,w){if(b===1)return w?[[-1,0]]:[];var M=y.map(function(T,d){return[T[0],d]});M.sort(function(T,d){return T[0]-d[0]});for(var m=new Array(b-1),k=1;k<b;++k){var S=M[k-1],x=M[k];m[k-1]=[S[1],x[1]]}return w&&m.push([-1,m[0][1]],[m[b-1][1],-1]),m}function p(b,y){var w=b.length;if(w===0)return[];var M=b[0].length;if(M<1)return[];if(M===1)return v(w,b,y);for(var m=new Array(w),k=1,S=0;S<w;++S){for(var x=b[S],T=new Array(M+1),d=0,_=0;_<M;++_){var g=x[_];T[_]=g,d+=g*g}T[M]=d,m[S]=new s(T,S),k=Math.max(d,k)}u(m,f),w=m.length;for(var c=new Array(w+M+1),A=new Array(w+M+1),h=(M+1)*(M+1)*k,R=new Array(M+1),S=0;S<=M;++S)R[S]=0;R[M]=h,c[0]=R.slice(),A[0]=-1;for(var S=0;S<=M;++S){var T=R.slice();T[S]=1,c[S+1]=T,A[S+1]=-1}for(var S=0;S<w;++S){var E=m[S];c[S+M+1]=E.point,A[S+M+1]=E.index}var D=l(c,!1);if(y?D=D.filter(function(N){for(var I=0,F=0;F<=M;++F){var L=A[N[F]];if(L<0&&++I>=2)return!1;N[F]=L}return!0}):D=D.filter(function(N){for(var I=0;I<=M;++I){var F=A[N[I]];if(F<0)return!1;N[I]=F}return!0}),M&1)for(var S=0;S<D.length;++S){var E=D[S],T=E[0];E[0]=E[1],E[1]=T}return D}},2361:function(a){var o=!1;if(typeof Float64Array!="undefined"){var i=new Float64Array(1),l=new Uint32Array(i.buffer);if(i[0]=1,o=!0,l[1]===1072693248){let k=function(T,d){return l[0]=T,l[1]=d,i[0]},S=function(T){return i[0]=T,l[0]},x=function(T){return i[0]=T,l[1]};var s=k,f=S,v=x;a.exports=function(d){return i[0]=d,[l[0],l[1]]},a.exports.pack=k,a.exports.lo=S,a.exports.hi=x}else if(l[0]===1072693248){let k=function(T,d){return l[1]=T,l[0]=d,i[0]},S=function(T){return i[0]=T,l[1]},x=function(T){return i[0]=T,l[0]};var p=k,b=S,y=x;a.exports=function(d){return i[0]=d,[l[1],l[0]]},a.exports.pack=k,a.exports.lo=S,a.exports.hi=x}else o=!1}if(!o){let k=function(T,d){return u.writeUInt32LE(T,0,!0),u.writeUInt32LE(d,4,!0),u.readDoubleLE(0,!0)},S=function(T){return u.writeDoubleLE(T,0,!0),u.readUInt32LE(0,!0)},x=function(T){return u.writeDoubleLE(T,0,!0),u.readUInt32LE(4,!0)};var w=k,M=S,m=x,u=new Buffer(8);a.exports=function(d){return u.writeDoubleLE(d,0,!0),[u.readUInt32LE(0,!0),u.readUInt32LE(4,!0)]},a.exports.pack=k,a.exports.lo=S,a.exports.hi=x}a.exports.sign=function(k){return a.exports.hi(k)>>>31},a.exports.exponent=function(k){var S=a.exports.hi(k);return(S<<1>>>21)-1023},a.exports.fraction=function(k){var S=a.exports.lo(k),x=a.exports.hi(k),T=x&(1<<20)-1;return x&2146435072&&(T+=1048576),[S,T]},a.exports.denormalized=function(k){var S=a.exports.hi(k);return!(S&2146435072)}},1338:function(a){"use strict";function o(u,s,f){var v=u[f]|0;if(v<=0)return[];var p=new Array(v),b;if(f===u.length-1)for(b=0;b<v;++b)p[b]=s;else for(b=0;b<v;++b)p[b]=o(u,s,f+1);return p}function i(u,s){var f,v;for(f=new Array(u),v=0;v<u;++v)f[v]=s;return f}function l(u,s){switch(typeof s=="undefined"&&(s=0),typeof u){case"number":if(u>0)return i(u|0,s);break;case"object":if(typeof u.length=="number")return o(u,s,0);break}return[]}a.exports=l},3134:function(a,o,i){"use strict";a.exports=u;var l=i(1682);function u(s,f){var v=s.length;if(typeof f!="number"){f=0;for(var p=0;p<v;++p){var b=s[p];f=Math.max(f,b[0],b[1])}f=(f|0)+1}f=f|0;for(var y=new Array(f),p=0;p<f;++p)y[p]=[];for(var p=0;p<v;++p){var b=s[p];y[b[0]].push(b[1]),y[b[1]].push(b[0])}for(var w=0;w<f;++w)l(y[w],function(M,m){return M-m});return y}},5033:function(a){"use strict";a.exports=o;function o(i,l,u){var s=l||0,f=u||1;return[[i[12]+i[0],i[13]+i[1],i[14]+i[2],i[15]+i[3]],[i[12]-i[0],i[13]-i[1],i[14]-i[2],i[15]-i[3]],[i[12]+i[4],i[13]+i[5],i[14]+i[6],i[15]+i[7]],[i[12]-i[4],i[13]-i[5],i[14]-i[6],i[15]-i[7]],[s*i[12]+i[8],s*i[13]+i[9],s*i[14]+i[10],s*i[15]+i[11]],[f*i[12]-i[8],f*i[13]-i[9],f*i[14]-i[10],f*i[15]-i[11]]]}},9215:function(a,o,i){"use strict";a.exports=b;var l=i(4769),u=i(2478);function s(y,w,M){return Math.min(w,Math.max(y,M))}function f(y,w,M){this.dimension=y.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var m=0;m<this.dimension;++m)this.bounds[0][m]=-1/0,this.bounds[1][m]=1/0;this._state=y.slice().reverse(),this._velocity=w.slice().reverse(),this._time=[M],this._scratch=[y.slice(),y.slice(),y.slice(),y.slice(),y.slice()]}var v=f.prototype;v.flush=function(y){var w=u.gt(this._time,y)-1;w<=0||(this._time.splice(0,w),this._state.splice(0,w*this.dimension),this._velocity.splice(0,w*this.dimension))},v.curve=function(y){var w=this._time,M=w.length,m=u.le(w,y),k=this._scratch[0],S=this._state,x=this._velocity,T=this.dimension,d=this.bounds;if(m<0)for(var _=T-1,g=0;g<T;++g,--_)k[g]=S[_];else if(m>=M-1)for(var _=S.length-1,c=y-w[M-1],g=0;g<T;++g,--_)k[g]=S[_]+c*x[_];else{for(var _=T*(m+1)-1,A=w[m],h=w[m+1],R=h-A||1,E=this._scratch[1],D=this._scratch[2],N=this._scratch[3],I=this._scratch[4],F=!0,g=0;g<T;++g,--_)E[g]=S[_],N[g]=x[_]*R,D[g]=S[_+T],I[g]=x[_+T]*R,F=F&&E[g]===D[g]&&N[g]===I[g]&&N[g]===0;if(F)for(var g=0;g<T;++g)k[g]=E[g];else l(E,N,D,I,(y-A)/R,k)}for(var L=d[0],P=d[1],g=0;g<T;++g)k[g]=s(L[g],P[g],k[g]);return k},v.dcurve=function(y){var w=this._time,M=w.length,m=u.le(w,y),k=this._scratch[0],S=this._state,x=this._velocity,T=this.dimension;if(m>=M-1)for(var d=S.length-1,_=y-w[M-1],g=0;g<T;++g,--d)k[g]=x[d];else{for(var d=T*(m+1)-1,c=w[m],A=w[m+1],h=A-c||1,R=this._scratch[1],E=this._scratch[2],D=this._scratch[3],N=this._scratch[4],I=!0,g=0;g<T;++g,--d)R[g]=S[d],D[g]=x[d]*h,E[g]=S[d+T],N[g]=x[d+T]*h,I=I&&R[g]===E[g]&&D[g]===N[g]&&D[g]===0;if(I)for(var g=0;g<T;++g)k[g]=0;else{l.derivative(R,D,E,N,(y-c)/h,k);for(var g=0;g<T;++g)k[g]/=h}}return k},v.lastT=function(){var y=this._time;return y[y.length-1]},v.stable=function(){for(var y=this._velocity,w=y.length,M=this.dimension-1;M>=0;--M)if(y[--w])return!1;return!0},v.jump=function(y){var w=this.lastT(),M=this.dimension;if(!(y<w||arguments.length!==M+1)){var m=this._state,k=this._velocity,S=m.length-this.dimension,x=this.bounds,T=x[0],d=x[1];this._time.push(w,y);for(var _=0;_<2;++_)for(var g=0;g<M;++g)m.push(m[S++]),k.push(0);this._time.push(y);for(var g=M;g>0;--g)m.push(s(T[g-1],d[g-1],arguments[g])),k.push(0)}},v.push=function(y){var w=this.lastT(),M=this.dimension;if(!(y<w||arguments.length!==M+1)){var m=this._state,k=this._velocity,S=m.length-this.dimension,x=y-w,T=this.bounds,d=T[0],_=T[1],g=x>1e-6?1/x:0;this._time.push(y);for(var c=M;c>0;--c){var A=s(d[c-1],_[c-1],arguments[c]);m.push(A),k.push((A-m[S++])*g)}}},v.set=function(y){var w=this.dimension;if(!(y<this.lastT()||arguments.length!==w+1)){var M=this._state,m=this._velocity,k=this.bounds,S=k[0],x=k[1];this._time.push(y);for(var T=w;T>0;--T)M.push(s(S[T-1],x[T-1],arguments[T])),m.push(0)}},v.move=function(y){var w=this.lastT(),M=this.dimension;if(!(y<=w||arguments.length!==M+1)){var m=this._state,k=this._velocity,S=m.length-this.dimension,x=this.bounds,T=x[0],d=x[1],_=y-w,g=_>1e-6?1/_:0;this._time.push(y);for(var c=M;c>0;--c){var A=arguments[c];m.push(s(T[c-1],d[c-1],m[S++]+A)),k.push(A*g)}}},v.idle=function(y){var w=this.lastT();if(!(y<w)){var M=this.dimension,m=this._state,k=this._velocity,S=m.length-M,x=this.bounds,T=x[0],d=x[1],_=y-w;this._time.push(y);for(var g=M-1;g>=0;--g)m.push(s(T[g],d[g],m[S]+_*k[S])),k.push(0),S+=1}};function p(y){for(var w=new Array(y),M=0;M<y;++M)w[M]=0;return w}function b(y,w,M){switch(arguments.length){case 0:return new f([0],[0],0);case 1:if(typeof y=="number"){var m=p(y);return new f(m,m,0)}else return new f(y,p(y.length),0);case 2:if(typeof w=="number"){var m=p(y.length);return new f(y,m,+w)}else M=0;case 3:if(y.length!==w.length)throw new Error("state and velocity lengths must match");return new f(y,w,M)}}},3840:function(a){"use strict";a.exports=T;var o=0,i=1;function l(d,_,g,c,A,h){this._color=d,this.key=_,this.value=g,this.left=c,this.right=A,this._count=h}function u(d){return new l(d._color,d.key,d.value,d.left,d.right,d._count)}function s(d,_){return new l(d,_.key,_.value,_.left,_.right,_._count)}function f(d){d._count=1+(d.left?d.left._count:0)+(d.right?d.right._count:0)}function v(d,_){this._compare=d,this.root=_}var p=v.prototype;Object.defineProperty(p,"keys",{get:function(){var d=[];return this.forEach(function(_,g){d.push(_)}),d}}),Object.defineProperty(p,"values",{get:function(){var d=[];return this.forEach(function(_,g){d.push(g)}),d}}),Object.defineProperty(p,"length",{get:function(){return this.root?this.root._count:0}}),p.insert=function(d,_){for(var g=this._compare,c=this.root,A=[],h=[];c;){var R=g(d,c.key);A.push(c),h.push(R),R<=0?c=c.left:c=c.right}A.push(new l(o,d,_,null,null,1));for(var E=A.length-2;E>=0;--E){var c=A[E];h[E]<=0?A[E]=new l(c._color,c.key,c.value,A[E+1],c.right,c._count+1):A[E]=new l(c._color,c.key,c.value,c.left,A[E+1],c._count+1)}for(var E=A.length-1;E>1;--E){var D=A[E-1],c=A[E];if(D._color===i||c._color===i)break;var N=A[E-2];if(N.left===D)if(D.left===c){var I=N.right;if(I&&I._color===o)D._color=i,N.right=s(i,I),N._color=o,E-=1;else{if(N._color=o,N.left=D.right,D._color=i,D.right=N,A[E-2]=D,A[E-1]=c,f(N),f(D),E>=3){var F=A[E-3];F.left===N?F.left=D:F.right=D}break}}else{var I=N.right;if(I&&I._color===o)D._color=i,N.right=s(i,I),N._color=o,E-=1;else{if(D.right=c.left,N._color=o,N.left=c.right,c._color=i,c.left=D,c.right=N,A[E-2]=c,A[E-1]=D,f(N),f(D),f(c),E>=3){var F=A[E-3];F.left===N?F.left=c:F.right=c}break}}else if(D.right===c){var I=N.left;if(I&&I._color===o)D._color=i,N.left=s(i,I),N._color=o,E-=1;else{if(N._color=o,N.right=D.left,D._color=i,D.left=N,A[E-2]=D,A[E-1]=c,f(N),f(D),E>=3){var F=A[E-3];F.right===N?F.right=D:F.left=D}break}}else{var I=N.left;if(I&&I._color===o)D._color=i,N.left=s(i,I),N._color=o,E-=1;else{if(D.left=c.right,N._color=o,N.right=c.left,c._color=i,c.right=D,c.left=N,A[E-2]=c,A[E-1]=D,f(N),f(D),f(c),E>=3){var F=A[E-3];F.right===N?F.right=c:F.left=c}break}}}return A[0]._color=i,new v(g,A[0])};function b(d,_){if(_.left){var g=b(d,_.left);if(g)return g}var g=d(_.key,_.value);if(g)return g;if(_.right)return b(d,_.right)}function y(d,_,g,c){var A=_(d,c.key);if(A<=0){if(c.left){var h=y(d,_,g,c.left);if(h)return h}var h=g(c.key,c.value);if(h)return h}if(c.right)return y(d,_,g,c.right)}function w(d,_,g,c,A){var h=g(d,A.key),R=g(_,A.key),E;if(h<=0&&(A.left&&(E=w(d,_,g,c,A.left),E)||R>0&&(E=c(A.key,A.value),E)))return E;if(R>0&&A.right)return w(d,_,g,c,A.right)}p.forEach=function(_,g,c){if(this.root)switch(arguments.length){case 1:return b(_,this.root);case 2:return y(g,this._compare,_,this.root);case 3:return this._compare(g,c)>=0?void 0:w(g,c,this._compare,_,this.root)}},Object.defineProperty(p,"begin",{get:function(){for(var d=[],_=this.root;_;)d.push(_),_=_.left;return new M(this,d)}}),Object.defineProperty(p,"end",{get:function(){for(var d=[],_=this.root;_;)d.push(_),_=_.right;return new M(this,d)}}),p.at=function(d){if(d<0)return new M(this,[]);for(var _=this.root,g=[];;){if(g.push(_),_.left){if(d<_.left._count){_=_.left;continue}d-=_.left._count}if(!d)return new M(this,g);if(d-=1,_.right){if(d>=_.right._count)break;_=_.right}else break}return new M(this,[])},p.ge=function(d){for(var _=this._compare,g=this.root,c=[],A=0;g;){var h=_(d,g.key);c.push(g),h<=0&&(A=c.length),h<=0?g=g.left:g=g.right}return c.length=A,new M(this,c)},p.gt=function(d){for(var _=this._compare,g=this.root,c=[],A=0;g;){var h=_(d,g.key);c.push(g),h<0&&(A=c.length),h<0?g=g.left:g=g.right}return c.length=A,new M(this,c)},p.lt=function(d){for(var _=this._compare,g=this.root,c=[],A=0;g;){var h=_(d,g.key);c.push(g),h>0&&(A=c.length),h<=0?g=g.left:g=g.right}return c.length=A,new M(this,c)},p.le=function(d){for(var _=this._compare,g=this.root,c=[],A=0;g;){var h=_(d,g.key);c.push(g),h>=0&&(A=c.length),h<0?g=g.left:g=g.right}return c.length=A,new M(this,c)},p.find=function(d){for(var _=this._compare,g=this.root,c=[];g;){var A=_(d,g.key);if(c.push(g),A===0)return new M(this,c);A<=0?g=g.left:g=g.right}return new M(this,[])},p.remove=function(d){var _=this.find(d);return _?_.remove():this},p.get=function(d){for(var _=this._compare,g=this.root;g;){var c=_(d,g.key);if(c===0)return g.value;c<=0?g=g.left:g=g.right}};function M(d,_){this.tree=d,this._stack=_}var m=M.prototype;Object.defineProperty(m,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(m,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),m.clone=function(){return new M(this.tree,this._stack.slice())};function k(d,_){d.key=_.key,d.value=_.value,d.left=_.left,d.right=_.right,d._color=_._color,d._count=_._count}function S(d){for(var _,g,c,A,h=d.length-1;h>=0;--h){if(_=d[h],h===0){_._color=i;return}if(g=d[h-1],g.left===_){if(c=g.right,c.right&&c.right._color===o){if(c=g.right=u(c),A=c.right=u(c.right),g.right=c.left,c.left=g,c.right=A,c._color=g._color,_._color=i,g._color=i,A._color=i,f(g),f(c),h>1){var R=d[h-2];R.left===g?R.left=c:R.right=c}d[h-1]=c;return}else if(c.left&&c.left._color===o){if(c=g.right=u(c),A=c.left=u(c.left),g.right=A.left,c.left=A.right,A.left=g,A.right=c,A._color=g._color,g._color=i,c._color=i,_._color=i,f(g),f(c),f(A),h>1){var R=d[h-2];R.left===g?R.left=A:R.right=A}d[h-1]=A;return}if(c._color===i)if(g._color===o){g._color=i,g.right=s(o,c);return}else{g.right=s(o,c);continue}else{if(c=u(c),g.right=c.left,c.left=g,c._color=g._color,g._color=o,f(g),f(c),h>1){var R=d[h-2];R.left===g?R.left=c:R.right=c}d[h-1]=c,d[h]=g,h+1<d.length?d[h+1]=_:d.push(_),h=h+2}}else{if(c=g.left,c.left&&c.left._color===o){if(c=g.left=u(c),A=c.left=u(c.left),g.left=c.right,c.right=g,c.left=A,c._color=g._color,_._color=i,g._color=i,A._color=i,f(g),f(c),h>1){var R=d[h-2];R.right===g?R.right=c:R.left=c}d[h-1]=c;return}else if(c.right&&c.right._color===o){if(c=g.left=u(c),A=c.right=u(c.right),g.left=A.right,c.right=A.left,A.right=g,A.left=c,A._color=g._color,g._color=i,c._color=i,_._color=i,f(g),f(c),f(A),h>1){var R=d[h-2];R.right===g?R.right=A:R.left=A}d[h-1]=A;return}if(c._color===i)if(g._color===o){g._color=i,g.left=s(o,c);return}else{g.left=s(o,c);continue}else{if(c=u(c),g.left=c.right,c.right=g,c._color=g._color,g._color=o,f(g),f(c),h>1){var R=d[h-2];R.right===g?R.right=c:R.left=c}d[h-1]=c,d[h]=g,h+1<d.length?d[h+1]=_:d.push(_),h=h+2}}}}m.remove=function(){var d=this._stack;if(d.length===0)return this.tree;var _=new Array(d.length),g=d[d.length-1];_[_.length-1]=new l(g._color,g.key,g.value,g.left,g.right,g._count);for(var c=d.length-2;c>=0;--c){var g=d[c];g.left===d[c+1]?_[c]=new l(g._color,g.key,g.value,_[c+1],g.right,g._count):_[c]=new l(g._color,g.key,g.value,g.left,_[c+1],g._count)}if(g=_[_.length-1],g.left&&g.right){var A=_.length;for(g=g.left;g.right;)_.push(g),g=g.right;var h=_[A-1];_.push(new l(g._color,h.key,h.value,g.left,g.right,g._count)),_[A-1].key=g.key,_[A-1].value=g.value;for(var c=_.length-2;c>=A;--c)g=_[c],_[c]=new l(g._color,g.key,g.value,g.left,_[c+1],g._count);_[A-1].left=_[A]}if(g=_[_.length-1],g._color===o){var R=_[_.length-2];R.left===g?R.left=null:R.right===g&&(R.right=null),_.pop();for(var c=0;c<_.length;++c)_[c]._count--;return new v(this.tree._compare,_[0])}else if(g.left||g.right){g.left?k(g,g.left):g.right&&k(g,g.right),g._color=i;for(var c=0;c<_.length-1;++c)_[c]._count--;return new v(this.tree._compare,_[0])}else{if(_.length===1)return new v(this.tree._compare,null);for(var c=0;c<_.length;++c)_[c]._count--;var E=_[_.length-2];S(_),E.left===g?E.left=null:E.right=null}return new v(this.tree._compare,_[0])},Object.defineProperty(m,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(m,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(m,"index",{get:function(){var d=0,_=this._stack;if(_.length===0){var g=this.tree.root;return g?g._count:0}else _[_.length-1].left&&(d=_[_.length-1].left._count);for(var c=_.length-2;c>=0;--c)_[c+1]===_[c].right&&(++d,_[c].left&&(d+=_[c].left._count));return d},enumerable:!0}),m.next=function(){var d=this._stack;if(d.length!==0){var _=d[d.length-1];if(_.right)for(_=_.right;_;)d.push(_),_=_.left;else for(d.pop();d.length>0&&d[d.length-1].right===_;)_=d[d.length-1],d.pop()}},Object.defineProperty(m,"hasNext",{get:function(){var d=this._stack;if(d.length===0)return!1;if(d[d.length-1].right)return!0;for(var _=d.length-1;_>0;--_)if(d[_-1].left===d[_])return!0;return!1}}),m.update=function(d){var _=this._stack;if(_.length===0)throw new Error("Can't update empty node!");var g=new Array(_.length),c=_[_.length-1];g[g.length-1]=new l(c._color,c.key,d,c.left,c.right,c._count);for(var A=_.length-2;A>=0;--A)c=_[A],c.left===_[A+1]?g[A]=new l(c._color,c.key,c.value,g[A+1],c.right,c._count):g[A]=new l(c._color,c.key,c.value,c.left,g[A+1],c._count);return new v(this.tree._compare,g[0])},m.prev=function(){var d=this._stack;if(d.length!==0){var _=d[d.length-1];if(_.left)for(_=_.left;_;)d.push(_),_=_.right;else for(d.pop();d.length>0&&d[d.length-1].left===_;)_=d[d.length-1],d.pop()}},Object.defineProperty(m,"hasPrev",{get:function(){var d=this._stack;if(d.length===0)return!1;if(d[d.length-1].left)return!0;for(var _=d.length-1;_>0;--_)if(d[_-1].right===d[_])return!0;return!1}});function x(d,_){return d<_?-1:d>_?1:0}function T(d){return new v(d||x,null)}},3837:function(a,o,i){"use strict";a.exports=E;var l=i(4935),u=i(501),s=i(5304),f=i(6429),v=i(6444),p=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),b=ArrayBuffer,y=DataView;function w(D){return b.isView(D)&&!(D instanceof y)}function M(D){return Array.isArray(D)||w(D)}function m(D,N){return D[0]=N[0],D[1]=N[1],D[2]=N[2],D}function k(D){this.gl=D,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=s(D)}var S=k.prototype;S.update=function(D){D=D||{};function N(Q,oe,ee){if(ee in D){var G=D[ee],re=this[ee],H;(Q?M(G)&&M(G[0]):M(G))?this[ee]=H=[oe(G[0]),oe(G[1]),oe(G[2])]:this[ee]=H=[oe(G),oe(G),oe(G)];for(var te=0;te<3;++te)if(H[te]!==re[te])return!0}return!1}var I=N.bind(this,!1,Number),F=N.bind(this,!1,Boolean),L=N.bind(this,!1,String),P=N.bind(this,!0,function(Q){if(M(Q)){if(Q.length===3)return[+Q[0],+Q[1],+Q[2],1];if(Q.length===4)return[+Q[0],+Q[1],+Q[2],+Q[3]]}return[0,0,0,1]}),O,U=!1,X=!1;if("bounds"in D)for(var j=D.bounds,$=0;$<2;++$)for(var Y=0;Y<3;++Y)j[$][Y]!==this.bounds[$][Y]&&(X=!0),this.bounds[$][Y]=j[$][Y];if("ticks"in D){O=D.ticks,U=!0,this.autoTicks=!1;for(var $=0;$<3;++$)this.tickSpacing[$]=0}else I("tickSpacing")&&(this.autoTicks=!0,X=!0);if(this._firstInit&&("ticks"in D||"tickSpacing"in D||(this.autoTicks=!0),X=!0,U=!0,this._firstInit=!1),X&&this.autoTicks&&(O=v.create(this.bounds,this.tickSpacing),U=!0),U){for(var $=0;$<3;++$)O[$].sort(function(oe,ee){return oe.x-ee.x});v.equal(O,this.ticks)?U=!1:this.ticks=O}F("tickEnable"),L("tickFont")&&(U=!0),L("tickFontStyle")&&(U=!0),L("tickFontWeight")&&(U=!0),L("tickFontVariant")&&(U=!0),I("tickSize"),I("tickAngle"),I("tickPad"),P("tickColor");var q=L("labels");L("labelFont")&&(q=!0),L("labelFontStyle")&&(q=!0),L("labelFontWeight")&&(q=!0),L("labelFontVariant")&&(q=!0),F("labelEnable"),I("labelSize"),I("labelPad"),P("labelColor"),F("lineEnable"),F("lineMirror"),I("lineWidth"),P("lineColor"),F("lineTickEnable"),F("lineTickMirror"),I("lineTickLength"),I("lineTickWidth"),P("lineTickColor"),F("gridEnable"),I("gridWidth"),P("gridColor"),F("zeroEnable"),P("zeroLineColor"),I("zeroLineWidth"),F("backgroundEnable"),P("backgroundColor");var Z=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],ne=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(q||U)&&this._text.update(this.bounds,this.labels,Z,this.ticks,ne):this._text=l(this.gl,this.bounds,this.labels,Z,this.ticks,ne),this._lines&&U&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=u(this.gl,this.bounds,this.ticks))};function x(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var T=[new x,new x,new x];function d(D,N,I,F,L){for(var P=D.primalOffset,O=D.primalMinor,U=D.mirrorOffset,X=D.mirrorMinor,j=F[N],$=0;$<3;++$)if(N!==$){var Y=P,q=U,Z=O,ne=X;j&1<<$&&(Y=U,q=P,Z=X,ne=O),Y[$]=I[0][$],q[$]=I[1][$],L[$]>0?(Z[$]=-1,ne[$]=0):(Z[$]=0,ne[$]=1)}}var _=[0,0,0],g={model:p,view:p,projection:p,_ortho:!1};S.isOpaque=function(){return!0},S.isTransparent=function(){return!1},S.drawTransparent=function(D){};var c=0,A=[0,0,0],h=[0,0,0],R=[0,0,0];S.draw=function(D){D=D||g;for(var ee=this.gl,N=D.model||p,I=D.view||p,F=D.projection||p,L=this.bounds,P=D._ortho||!1,O=f(N,I,F,L,P),U=O.cubeEdges,X=O.axis,j=I[12],$=I[13],Y=I[14],q=I[15],Z=P?2:1,ne=Z*this.pixelRatio*(F[3]*j+F[7]*$+F[11]*Y+F[15]*q)/ee.drawingBufferHeight,Q=0;Q<3;++Q)this.lastCubeProps.cubeEdges[Q]=U[Q],this.lastCubeProps.axis[Q]=X[Q];for(var oe=T,Q=0;Q<3;++Q)d(T[Q],Q,this.bounds,U,X);for(var ee=this.gl,G=_,Q=0;Q<3;++Q)this.backgroundEnable[Q]?G[Q]=X[Q]:G[Q]=0;this._background.draw(N,I,F,L,G,this.backgroundColor),this._lines.bind(N,I,F,this);for(var Q=0;Q<3;++Q){var re=[0,0,0];X[Q]>0?re[Q]=L[1][Q]:re[Q]=L[0][Q];for(var H=0;H<2;++H){var te=(Q+1+H)%3,ue=(Q+1+(H^1))%3;this.gridEnable[te]&&this._lines.drawGrid(te,ue,this.bounds,re,this.gridColor[te],this.gridWidth[te]*this.pixelRatio)}for(var H=0;H<2;++H){var te=(Q+1+H)%3,ue=(Q+1+(H^1))%3;this.zeroEnable[ue]&&Math.min(L[0][ue],L[1][ue])<=0&&Math.max(L[0][ue],L[1][ue])>=0&&this._lines.drawZero(te,ue,this.bounds,re,this.zeroLineColor[ue],this.zeroLineWidth[ue]*this.pixelRatio)}}for(var Q=0;Q<3;++Q){this.lineEnable[Q]&&this._lines.drawAxisLine(Q,this.bounds,oe[Q].primalOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio),this.lineMirror[Q]&&this._lines.drawAxisLine(Q,this.bounds,oe[Q].mirrorOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio);for(var de=m(A,oe[Q].primalMinor),Ee=m(h,oe[Q].mirrorMinor),Me=this.lineTickLength,H=0;H<3;++H){var ve=ne/N[5*H];de[H]*=Me[H]*ve,Ee[H]*=Me[H]*ve}this.lineTickEnable[Q]&&this._lines.drawAxisTicks(Q,oe[Q].primalOffset,de,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio),this.lineTickMirror[Q]&&this._lines.drawAxisTicks(Q,oe[Q].mirrorOffset,Ee,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio)}this._lines.unbind(),this._text.bind(N,I,F,this.pixelRatio);var Ae,ke=.5,De,Ce;function Oe(Le){Ce=[0,0,0],Ce[Le]=1}function Ue(Le,me,he){var be=(Le+1)%3,Se=(Le+2)%3,ze=me[be],Fe=me[Se],Ze=he[be],Ye=he[Se];if(ze>0&&Ye>0){Oe(be);return}else if(ze>0&&Ye<0){Oe(be);return}else if(ze<0&&Ye>0){Oe(be);return}else if(ze<0&&Ye<0){Oe(be);return}else if(Fe>0&&Ze>0){Oe(Se);return}else if(Fe>0&&Ze<0){Oe(Se);return}else if(Fe<0&&Ze>0){Oe(Se);return}else if(Fe<0&&Ze<0){Oe(Se);return}}for(var Q=0;Q<3;++Q){for(var ge=oe[Q].primalMinor,Te=oe[Q].mirrorMinor,ce=m(R,oe[Q].primalOffset),H=0;H<3;++H)this.lineTickEnable[Q]&&(ce[H]+=ne*ge[H]*Math.max(this.lineTickLength[H],0)/N[5*H]);var ye=[0,0,0];if(ye[Q]=1,this.tickEnable[Q]){this.tickAngle[Q]===-3600?(this.tickAngle[Q]=0,this.tickAlign[Q]="auto"):this.tickAlign[Q]=-1,De=1,Ae=[this.tickAlign[Q],ke,De],Ae[0]==="auto"?Ae[0]=c:Ae[0]=parseInt(""+Ae[0]),Ce=[0,0,0],Ue(Q,ge,Te);for(var H=0;H<3;++H)ce[H]+=ne*ge[H]*this.tickPad[H]/N[5*H];this._text.drawTicks(Q,this.tickSize[Q],this.tickAngle[Q],ce,this.tickColor[Q],ye,Ce,Ae)}if(this.labelEnable[Q]){De=0,Ce=[0,0,0],this.labels[Q].length>4&&(Oe(Q),De=1),Ae=[this.labelAlign[Q],ke,De],Ae[0]==="auto"?Ae[0]=c:Ae[0]=parseInt(""+Ae[0]);for(var H=0;H<3;++H)ce[H]+=ne*ge[H]*this.labelPad[H]/N[5*H];ce[Q]+=.5*(L[0][Q]+L[1][Q]),this._text.drawLabel(Q,this.labelSize[Q],this.labelAngle[Q],ce,this.labelColor[Q],[0,0,0],Ce,Ae)}}this._text.unbind()},S.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function E(D,N){var I=new k(D);return I.update(N),I}},5304:function(a,o,i){"use strict";a.exports=p;var l=i(2762),u=i(8116),s=i(1879).bg;function f(b,y,w,M){this.gl=b,this.buffer=y,this.vao=w,this.shader=M}var v=f.prototype;v.draw=function(b,y,w,M,m,k){for(var S=!1,x=0;x<3;++x)S=S||m[x];if(S){var T=this.gl;T.enable(T.POLYGON_OFFSET_FILL),T.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:b,view:y,projection:w,bounds:M,enable:m,colors:k},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),T.disable(T.POLYGON_OFFSET_FILL)}},v.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function p(b){for(var y=[],w=[],M=0,m=0;m<3;++m)for(var k=(m+1)%3,S=(m+2)%3,x=[0,0,0],T=[0,0,0],d=-1;d<=1;d+=2){w.push(M,M+2,M+1,M+1,M+2,M+3),x[m]=d,T[m]=d;for(var _=-1;_<=1;_+=2){x[k]=_;for(var g=-1;g<=1;g+=2)x[S]=g,y.push(x[0],x[1],x[2],T[0],T[1],T[2]),M+=1}var c=k;k=S,S=c}var A=l(b,new Float32Array(y)),h=l(b,new Uint16Array(w),b.ELEMENT_ARRAY_BUFFER),R=u(b,[{buffer:A,type:b.FLOAT,size:3,offset:0,stride:24},{buffer:A,type:b.FLOAT,size:3,offset:12,stride:24}],h),E=s(b);return E.attributes.position.location=0,E.attributes.normal.location=1,new f(b,A,R,E)}},6429:function(a,o,i){"use strict";a.exports=d;var l=i(8828),u=i(6760),s=i(5202),f=i(3250),v=new Array(16),p=new Array(8),b=new Array(8),y=new Array(3),w=[0,0,0];(function(){for(var _=0;_<8;++_)p[_]=[1,1,1,1],b[_]=[1,1,1]})();function M(_,g,c){for(var A=0;A<4;++A){_[A]=c[12+A];for(var h=0;h<3;++h)_[A]+=g[h]*c[4*h+A]}}var m=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function k(_){for(var g=0;g<m.length;++g)if(_=s.positive(_,m[g]),_.length<3)return 0;for(var c=_[0],A=c[0]/c[3],h=c[1]/c[3],R=0,g=1;g+1<_.length;++g){var E=_[g],D=_[g+1],N=E[0]/E[3],I=E[1]/E[3],F=D[0]/D[3],L=D[1]/D[3],P=N-A,O=I-h,U=F-A,X=L-h;R+=Math.abs(P*X-O*U)}return R}var S=[1,1,1],x=[0,0,0],T={cubeEdges:S,axis:x};function d(_,g,c,A,h){u(v,g,_),u(v,c,v);for(var R=0,E=0;E<2;++E){y[2]=A[E][2];for(var D=0;D<2;++D){y[1]=A[D][1];for(var N=0;N<2;++N)y[0]=A[N][0],M(p[R],y,v),R+=1}}for(var I=-1,E=0;E<8;++E){for(var F=p[E][3],L=0;L<3;++L)b[E][L]=p[E][L]/F;h&&(b[E][2]*=-1),F<0&&(I<0||b[E][2]<b[I][2])&&(I=E)}if(I<0){I=0;for(var P=0;P<3;++P){for(var O=(P+2)%3,U=(P+1)%3,X=-1,j=-1,$=0;$<2;++$){var Y=$<<P,q=Y+($<<O)+(1-$<<U),Z=Y+(1-$<<O)+($<<U);f(b[Y],b[q],b[Z],w)<0||($?X=1:j=1)}if(X<0||j<0){j>X&&(I|=1<<P);continue}for(var $=0;$<2;++$){var Y=$<<P,q=Y+($<<O)+(1-$<<U),Z=Y+(1-$<<O)+($<<U),ne=k([p[Y],p[q],p[Z],p[Y+(1<<O)+(1<<U)]]);$?X=ne:j=ne}if(j>X){I|=1<<P;continue}}}for(var Q=7^I,oe=-1,E=0;E<8;++E)E===I||E===Q||(oe<0||b[oe][1]>b[E][1])&&(oe=E);for(var ee=-1,E=0;E<3;++E){var G=oe^1<<E;if(!(G===I||G===Q)){ee<0&&(ee=G);var U=b[G];U[0]<b[ee][0]&&(ee=G)}}for(var re=-1,E=0;E<3;++E){var G=oe^1<<E;if(!(G===I||G===Q||G===ee)){re<0&&(re=G);var U=b[G];U[0]>b[re][0]&&(re=G)}}var H=S;H[0]=H[1]=H[2]=0,H[l.log2(ee^oe)]=oe&ee,H[l.log2(oe^re)]=oe&re;var te=re^7;te===I||te===Q?(te=ee^7,H[l.log2(re^te)]=te&re):H[l.log2(ee^te)]=te&ee;for(var ue=x,de=I,P=0;P<3;++P)de&1<<P?ue[P]=-1:ue[P]=1;return T}},501:function(a,o,i){"use strict";a.exports=S;var l=i(2762),u=i(8116),s=i(1879).n,f=[0,0,0],v=[0,0,0],p=[0,0,0],b=[0,0,0],y=[1,1];function w(x){return x[0]=x[1]=x[2]=0,x}function M(x,T){return x[0]=T[0],x[1]=T[1],x[2]=T[2],x}function m(x,T,d,_,g,c,A,h){this.gl=x,this.vertBuffer=T,this.vao=d,this.shader=_,this.tickCount=g,this.tickOffset=c,this.gridCount=A,this.gridOffset=h}var k=m.prototype;k.bind=function(x,T,d){this.shader.bind(),this.shader.uniforms.model=x,this.shader.uniforms.view=T,this.shader.uniforms.projection=d,y[0]=this.gl.drawingBufferWidth,y[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=y,this.vao.bind()},k.unbind=function(){this.vao.unbind()},k.drawAxisLine=function(x,T,d,_,g){var c=w(v);this.shader.uniforms.majorAxis=v,c[x]=T[1][x]-T[0][x],this.shader.uniforms.minorAxis=c;var A=M(b,d);A[x]+=T[0][x],this.shader.uniforms.offset=A,this.shader.uniforms.lineWidth=g,this.shader.uniforms.color=_;var h=w(p);h[(x+2)%3]=1,this.shader.uniforms.screenAxis=h,this.vao.draw(this.gl.TRIANGLES,6);var h=w(p);h[(x+1)%3]=1,this.shader.uniforms.screenAxis=h,this.vao.draw(this.gl.TRIANGLES,6)},k.drawAxisTicks=function(x,T,d,_,g){if(this.tickCount[x]){var c=w(f);c[x]=1,this.shader.uniforms.majorAxis=c,this.shader.uniforms.offset=T,this.shader.uniforms.minorAxis=d,this.shader.uniforms.color=_,this.shader.uniforms.lineWidth=g;var A=w(p);A[x]=1,this.shader.uniforms.screenAxis=A,this.vao.draw(this.gl.TRIANGLES,this.tickCount[x],this.tickOffset[x])}},k.drawGrid=function(x,T,d,_,g,c){if(this.gridCount[x]){var A=w(v);A[T]=d[1][T]-d[0][T],this.shader.uniforms.minorAxis=A;var h=M(b,_);h[T]+=d[0][T],this.shader.uniforms.offset=h;var R=w(f);R[x]=1,this.shader.uniforms.majorAxis=R;var E=w(p);E[x]=1,this.shader.uniforms.screenAxis=E,this.shader.uniforms.lineWidth=c,this.shader.uniforms.color=g,this.vao.draw(this.gl.TRIANGLES,this.gridCount[x],this.gridOffset[x])}},k.drawZero=function(x,T,d,_,g,c){var A=w(v);this.shader.uniforms.majorAxis=A,A[x]=d[1][x]-d[0][x],this.shader.uniforms.minorAxis=A;var h=M(b,_);h[x]+=d[0][x],this.shader.uniforms.offset=h;var R=w(p);R[T]=1,this.shader.uniforms.screenAxis=R,this.shader.uniforms.lineWidth=c,this.shader.uniforms.color=g,this.vao.draw(this.gl.TRIANGLES,6)},k.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function S(x,T,d){var _=[],g=[0,0,0],c=[0,0,0],A=[0,0,0],h=[0,0,0];_.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var R=0;R<3;++R){for(var N=_.length/3|0,E=0;E<d[R].length;++E){var D=+d[R][E].x;_.push(D,0,1,D,1,1,D,0,-1,D,0,-1,D,1,1,D,1,-1)}var F=_.length/3|0;g[R]=N,c[R]=F-N;for(var N=_.length/3|0,I=0;I<d[R].length;++I){var D=+d[R][I].x;_.push(D,0,1,D,1,1,D,0,-1,D,0,-1,D,1,1,D,1,-1)}var F=_.length/3|0;A[R]=N,h[R]=F-N}var L=l(x,new Float32Array(_)),P=u(x,[{buffer:L,type:x.FLOAT,size:3,stride:0,offset:0}]),O=s(x);return O.attributes.position.location=0,new m(x,L,P,O,c,g,h,A)}},1879:function(a,o,i){"use strict";var l=i(3236),u=i(9405),s=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),f=l([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);o.n=function(w){return u(w,s,f,null,[{name:"position",type:"vec3"}])};var v=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}
`]),p=l([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);o.Q=function(w){return u(w,v,p,null,[{name:"position",type:"vec3"}])};var b=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * (view * (model * vec4(nPosition, 1.0)));
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}
`]),y=l([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);o.bg=function(w){return u(w,b,y,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},4935:function(a,o,i){"use strict";a.exports=k;var l=i(2762),u=i(8116),s=i(4359),f=i(1879).Q,v=window||process.global||{},p=v.__TEXT_CACHE||{};v.__TEXT_CACHE={};var b=3;function y(S,x,T,d){this.gl=S,this.shader=x,this.buffer=T,this.vao=d,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var w=y.prototype,M=[0,0];w.bind=function(S,x,T,d){this.vao.bind(),this.shader.bind();var _=this.shader.uniforms;_.model=S,_.view=x,_.projection=T,_.pixelScale=d,M[0]=this.gl.drawingBufferWidth,M[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=M},w.unbind=function(){this.vao.unbind()},w.update=function(S,x,T,d,_){var g=[];function c(P,O,U,X,j,$){var Y=[U.style,U.weight,U.variant,U.family].join("_"),q=p[Y];q||(q=p[Y]={});var Z=q[O];Z||(Z=q[O]=m(O,{triangles:!0,font:U.family,fontStyle:U.style,fontWeight:U.weight,fontVariant:U.variant,textAlign:"center",textBaseline:"middle",lineSpacing:j,styletags:$}));for(var ne=(X||12)/12,Q=Z.positions,oe=Z.cells,ee=0,G=oe.length;ee<G;++ee)for(var re=oe[ee],H=2;H>=0;--H){var te=Q[re[H]];g.push(ne*te[0],-ne*te[1],P)}}for(var A=[0,0,0],h=[0,0,0],R=[0,0,0],E=[0,0,0],D=1.25,N={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},I=0;I<3;++I){R[I]=g.length/b|0,c(.5*(S[0][I]+S[1][I]),x[I],T[I],12,D,N),E[I]=(g.length/b|0)-R[I],A[I]=g.length/b|0;for(var F=0;F<d[I].length;++F)if(d[I][F].text){var L={family:d[I][F].font||_[I].family,style:_[I].fontStyle||_[I].style,weight:_[I].fontWeight||_[I].weight,variant:_[I].fontVariant||_[I].variant};c(d[I][F].x,d[I][F].text,L,d[I][F].fontSize||12,D,N)}h[I]=(g.length/b|0)-A[I]}this.buffer.update(g),this.tickOffset=A,this.tickCount=h,this.labelOffset=R,this.labelCount=E},w.drawTicks=function(S,x,T,d,_,g,c,A){this.tickCount[S]&&(this.shader.uniforms.axis=g,this.shader.uniforms.color=_,this.shader.uniforms.angle=T,this.shader.uniforms.scale=x,this.shader.uniforms.offset=d,this.shader.uniforms.alignDir=c,this.shader.uniforms.alignOpt=A,this.vao.draw(this.gl.TRIANGLES,this.tickCount[S],this.tickOffset[S]))},w.drawLabel=function(S,x,T,d,_,g,c,A){this.labelCount[S]&&(this.shader.uniforms.axis=g,this.shader.uniforms.color=_,this.shader.uniforms.angle=T,this.shader.uniforms.scale=x,this.shader.uniforms.offset=d,this.shader.uniforms.alignDir=c,this.shader.uniforms.alignOpt=A,this.vao.draw(this.gl.TRIANGLES,this.labelCount[S],this.labelOffset[S]))},w.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function m(S,x){try{return s(S,x)}catch(T){return console.warn('error vectorizing text:"'+S+'" error:',T),{cells:[],positions:[]}}}function k(S,x,T,d,_,g){var c=l(S),A=u(S,[{buffer:c,size:3}]),h=f(S);h.attributes.position.location=0;var R=new y(S,h,c,A);return R.update(x,T,d,_,g),R}},6444:function(a,o){"use strict";o.create=l,o.equal=u;function i(s,f){var v=s+"",p=v.indexOf("."),b=0;p>=0&&(b=v.length-p-1);var y=Math.pow(10,b),w=Math.round(s*f*y),M=w+"";if(M.indexOf("e")>=0)return M;var m=w/y,k=w%y;w<0?(m=-Math.ceil(m)|0,k=-k|0):(m=Math.floor(m)|0,k=k|0);var S=""+m;if(w<0&&(S="-"+S),b){for(var x=""+k;x.length<b;)x="0"+x;return S+"."+x}else return S}function l(s,f){for(var v=[],p=0;p<3;++p){for(var b=[],y=.5*(s[0][p]+s[1][p]),w=0;w*f[p]<=s[1][p];++w)b.push({x:w*f[p],text:i(f[p],w)});for(var w=-1;w*f[p]>=s[0][p];--w)b.push({x:w*f[p],text:i(f[p],w)});v.push(b)}return v}function u(s,f){for(var v=0;v<3;++v){if(s[v].length!==f[v].length)return!1;for(var p=0;p<s[v].length;++p){var b=s[v][p],y=f[v][p];if(b.x!==y.x||b.text!==y.text||b.font!==y.font||b.fontColor!==y.fontColor||b.fontSize!==y.fontSize||b.dx!==y.dx||b.dy!==y.dy)return!1}}return!0}},5445:function(a,o,i){"use strict";a.exports=T;var l=i(5033),u=i(5202),s=i(6429),f=i(6760),v=i(5665),p=i(5352),b=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),y=new Float32Array(16);function w(d,_,g){this.lo=d,this.hi=_,this.pixelsPerDataUnit=g}var M=[0,0,0,1],m=[0,0,0,1];function k(d,_,g,c,A){for(var h=0;h<3;++h){for(var R=M,E=m,D=0;D<3;++D)E[D]=R[D]=g[D];E[3]=R[3]=1,E[h]+=1,p(E,E,_),E[3]<0&&(d[h]=1/0),R[h]-=1,p(R,R,_),R[3]<0&&(d[h]=1/0);var N=(R[0]/R[3]-E[0]/E[3])*c,I=(R[1]/R[3]-E[1]/E[3])*A;d[h]=.25*Math.sqrt(N*N+I*I)}return d}var S=[new w(1/0,-1/0,1/0),new w(1/0,-1/0,1/0),new w(1/0,-1/0,1/0)],x=[0,0,0];function T(d,_,g,c,I){var h=_.model||b,R=_.view||b,E=_.projection||b,D=_._ortho||!1,N=d.bounds,I=I||s(h,R,E,N,D),F=I.axis;f(y,R,h),f(y,E,y);for(var L=S,P=0;P<3;++P)L[P].lo=1/0,L[P].hi=-1/0,L[P].pixelsPerDataUnit=1/0;var O=l(v(y,y));v(y,y);for(var U=0;U<3;++U){var X=(U+1)%3,j=(U+2)%3,$=x;e:for(var P=0;P<2;++P){var Y=[];if(F[U]<0!=!!P){$[U]=N[P][U];for(var q=0;q<2;++q){$[X]=N[q^P][X];for(var Z=0;Z<2;++Z)$[j]=N[Z^q^P][j],Y.push($.slice())}for(var ne=D?5:4,q=ne;q===ne;++q){if(Y.length===0)continue e;Y=u.positive(Y,O[q])}for(var q=0;q<Y.length;++q)for(var j=Y[q],Q=k(x,y,j,g,c),Z=0;Z<3;++Z)L[Z].lo=Math.min(L[Z].lo,j[Z]),L[Z].hi=Math.max(L[Z].hi,j[Z]),Z!==U&&(L[Z].pixelsPerDataUnit=Math.min(L[Z].pixelsPerDataUnit,Math.abs(Q[Z])))}}}return L}},2762:function(a,o,i){"use strict";var l=i(1888),u=i(5298),s=i(9618),f=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function v(m,k,S,x,T){this.gl=m,this.type=k,this.handle=S,this.length=x,this.usage=T}var p=v.prototype;p.bind=function(){this.gl.bindBuffer(this.type,this.handle)},p.unbind=function(){this.gl.bindBuffer(this.type,null)},p.dispose=function(){this.gl.deleteBuffer(this.handle)};function b(m,k,S,x,T,d){var _=T.length*T.BYTES_PER_ELEMENT;if(d<0)return m.bufferData(k,T,x),_;if(_+d>S)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return m.bufferSubData(k,d,T),S}function y(m,k){for(var S=l.malloc(m.length,k),x=m.length,T=0;T<x;++T)S[T]=m[T];return S}function w(m,k){for(var S=1,x=k.length-1;x>=0;--x){if(k[x]!==S)return!1;S*=m[x]}return!0}p.update=function(m,k){if(typeof k!="number"&&(k=-1),this.bind(),typeof m=="object"&&typeof m.shape!="undefined"){var S=m.dtype;if(f.indexOf(S)<0&&(S="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var x=gl.getExtension("OES_element_index_uint");x&&S!=="uint16"?S="uint32":S="uint16"}if(S===m.dtype&&w(m.shape,m.stride))m.offset===0&&m.data.length===m.shape[0]?this.length=b(this.gl,this.type,this.length,this.usage,m.data,k):this.length=b(this.gl,this.type,this.length,this.usage,m.data.subarray(m.offset,m.shape[0]),k);else{var T=l.malloc(m.size,S),d=s(T,m.shape);u.assign(d,m),k<0?this.length=b(this.gl,this.type,this.length,this.usage,T,k):this.length=b(this.gl,this.type,this.length,this.usage,T.subarray(0,m.size),k),l.free(T)}}else if(Array.isArray(m)){var _;this.type===this.gl.ELEMENT_ARRAY_BUFFER?_=y(m,"uint16"):_=y(m,"float32"),k<0?this.length=b(this.gl,this.type,this.length,this.usage,_,k):this.length=b(this.gl,this.type,this.length,this.usage,_.subarray(0,m.length),k),l.free(_)}else if(typeof m=="object"&&typeof m.length=="number")this.length=b(this.gl,this.type,this.length,this.usage,m,k);else if(typeof m=="number"||m===void 0){if(k>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");m=m|0,m<=0&&(m=1),this.gl.bufferData(this.type,m|0,this.usage),this.length=m}else throw new Error("gl-buffer: Invalid data type")};function M(m,k,S,x){if(S=S||m.ARRAY_BUFFER,x=x||m.DYNAMIC_DRAW,S!==m.ARRAY_BUFFER&&S!==m.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(x!==m.DYNAMIC_DRAW&&x!==m.STATIC_DRAW&&x!==m.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var T=m.createBuffer(),d=new v(m,S,T,0,x);return d.update(k),d}a.exports=M},6405:function(a,o,i){"use strict";var l=i(2931);a.exports=function(s,f){var v=s.positions,p=s.vectors,b={positions:[],vertexIntensity:[],vertexIntensityBounds:s.vertexIntensityBounds,vectors:[],cells:[],coneOffset:s.coneOffset,colormap:s.colormap};if(s.positions.length===0)return f&&(f[0]=[0,0,0],f[1]=[0,0,0]),b;for(var y=0,w=1/0,M=-1/0,m=1/0,k=-1/0,S=1/0,x=-1/0,T=null,d=null,_=[],g=1/0,c=!1,A=s.coneSizemode==="raw",h=0;h<v.length;h++){var R=v[h];w=Math.min(R[0],w),M=Math.max(R[0],M),m=Math.min(R[1],m),k=Math.max(R[1],k),S=Math.min(R[2],S),x=Math.max(R[2],x);var E=p[h];if(l.length(E)>y&&(y=l.length(E)),h&&!A){var D=2*l.distance(T,R)/(l.length(d)+l.length(E));D?(g=Math.min(g,D),c=!1):c=!0}c||(T=R,d=E),_.push(E)}var N=[w,m,S],I=[M,k,x];f&&(f[0]=N,f[1]=I),y===0&&(y=1);var F=1/y;isFinite(g)||(g=1),b.vectorScale=g;var L=s.coneSize||(A?1:.5);s.absoluteConeSize&&(L=s.absoluteConeSize*F),b.coneScale=L;for(var h=0,P=0;h<v.length;h++)for(var R=v[h],O=R[0],U=R[1],X=R[2],j=_[h],$=l.length(j)*F,Y=0,q=8;Y<q;Y++){b.positions.push([O,U,X,P++]),b.positions.push([O,U,X,P++]),b.positions.push([O,U,X,P++]),b.positions.push([O,U,X,P++]),b.positions.push([O,U,X,P++]),b.positions.push([O,U,X,P++]),b.vectors.push(j),b.vectors.push(j),b.vectors.push(j),b.vectors.push(j),b.vectors.push(j),b.vectors.push(j),b.vertexIntensity.push($,$,$),b.vertexIntensity.push($,$,$);var Z=b.positions.length;b.cells.push([Z-6,Z-5,Z-4],[Z-3,Z-2,Z-1])}return b};var u=i(614);a.exports.createMesh=i(9060),a.exports.createConeMesh=function(s,f){return a.exports.createMesh(s,f,{shaders:u,traceType:"cone"})}},9060:function(a,o,i){"use strict";var l=i(9405),u=i(2762),s=i(8116),f=i(7766),v=i(6760),p=i(7608),b=i(9618),y=i(6729),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function M(_,g,c,A,h,R,E,D,N,I,F){this.gl=_,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=g,this.dirty=!0,this.triShader=c,this.pickShader=A,this.trianglePositions=h,this.triangleVectors=R,this.triangleColors=D,this.triangleUVs=N,this.triangleIds=E,this.triangleVAO=I,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=F,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=w,this._view=w,this._projection=w,this._resolution=[1,1]}var m=M.prototype;m.isOpaque=function(){return this.opacity>=1},m.isTransparent=function(){return this.opacity<1},m.pickSlots=1,m.setPickBase=function(_){this.pickId=_};function k(_){for(var g=y({colormap:_,nshades:256,format:"rgba"}),c=new Uint8Array(256*4),A=0;A<256;++A){for(var h=g[A],R=0;R<3;++R)c[4*A+R]=h[R];c[4*A+3]=h[3]*255}return b(c,[256,256,4],[4,0,1])}function S(_){for(var g=_.length,c=new Array(g),A=0;A<g;++A)c[A]=_[A][2];return c}m.update=function(_){_=_||{};var g=this.gl;this.dirty=!0,"lightPosition"in _&&(this.lightPosition=_.lightPosition),"opacity"in _&&(this.opacity=_.opacity),"ambient"in _&&(this.ambientLight=_.ambient),"diffuse"in _&&(this.diffuseLight=_.diffuse),"specular"in _&&(this.specularLight=_.specular),"roughness"in _&&(this.roughness=_.roughness),"fresnel"in _&&(this.fresnel=_.fresnel),_.tubeScale!==void 0&&(this.tubeScale=_.tubeScale),_.vectorScale!==void 0&&(this.vectorScale=_.vectorScale),_.coneScale!==void 0&&(this.coneScale=_.coneScale),_.coneOffset!==void 0&&(this.coneOffset=_.coneOffset),_.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=g.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=g.LINEAR,this.texture.setPixels(k(_.colormap)),this.texture.generateMipmap());var c=_.cells,A=_.positions,h=_.vectors;if(!(!A||!c||!h)){var R=[],E=[],D=[],N=[],I=[];this.cells=c,this.positions=A,this.vectors=h;var F=_.meshColor||[1,1,1,1],L=_.vertexIntensity,P=1/0,O=-1/0;if(L)if(_.vertexIntensityBounds)P=+_.vertexIntensityBounds[0],O=+_.vertexIntensityBounds[1];else for(var U=0;U<L.length;++U){var X=L[U];P=Math.min(P,X),O=Math.max(O,X)}else for(var U=0;U<A.length;++U){var X=A[U][2];P=Math.min(P,X),O=Math.max(O,X)}L?this.intensity=L:this.intensity=S(A),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var U=0;U<A.length;++U)for(var j=A[U],$=0;$<3;++$)isNaN(j[$])||!isFinite(j[$])||(this.bounds[0][$]=Math.min(this.bounds[0][$],j[$]),this.bounds[1][$]=Math.max(this.bounds[1][$],j[$]));var Y=0;e:for(var U=0;U<c.length;++U){var q=c[U];switch(q.length){case 3:for(var $=0;$<3;++$)for(var Z=q[$],j=A[Z],ne=0;ne<3;++ne)if(isNaN(j[ne])||!isFinite(j[ne]))continue e;for(var $=0;$<3;++$){var Z=q[2-$],j=A[Z];R.push(j[0],j[1],j[2],j[3]);var Q=h[Z];E.push(Q[0],Q[1],Q[2],Q[3]||0);var oe=F;oe.length===3?D.push(oe[0],oe[1],oe[2],1):D.push(oe[0],oe[1],oe[2],oe[3]);var ee;L?ee=[(L[Z]-P)/(O-P),0]:ee=[(j[2]-P)/(O-P),0],N.push(ee[0],ee[1]),I.push(U)}Y+=1;break;default:break}}this.triangleCount=Y,this.trianglePositions.update(R),this.triangleVectors.update(E),this.triangleColors.update(D),this.triangleUVs.update(N),this.triangleIds.update(new Uint32Array(I))}},m.drawTransparent=m.draw=function(_){_=_||{};for(var g=this.gl,c=_.model||w,A=_.view||w,h=_.projection||w,R=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],E=0;E<3;++E)R[0][E]=Math.max(R[0][E],this.clipBounds[0][E]),R[1][E]=Math.min(R[1][E],this.clipBounds[1][E]);var D={model:c,view:A,projection:h,inverseModel:w.slice(),clipBounds:R,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};D.inverseModel=p(D.inverseModel,D.model),g.disable(g.CULL_FACE),this.texture.bind(0);var N=new Array(16);v(N,D.view,D.model),v(N,D.projection,N),p(N,N);for(var E=0;E<3;++E)D.eyePosition[E]=N[12+E]/N[15];for(var I=N[15],E=0;E<3;++E)I+=this.lightPosition[E]*N[4*E+3];for(var E=0;E<3;++E){for(var F=N[12+E],L=0;L<3;++L)F+=N[4*L+E]*this.lightPosition[L];D.lightPosition[E]=F/I}if(this.triangleCount>0){var P=this.triShader;P.bind(),P.uniforms=D,this.triangleVAO.bind(),g.drawArrays(g.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},m.drawPick=function(_){_=_||{};for(var g=this.gl,c=_.model||w,A=_.view||w,h=_.projection||w,R=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],E=0;E<3;++E)R[0][E]=Math.max(R[0][E],this.clipBounds[0][E]),R[1][E]=Math.min(R[1][E],this.clipBounds[1][E]);this._model=[].slice.call(c),this._view=[].slice.call(A),this._projection=[].slice.call(h),this._resolution=[g.drawingBufferWidth,g.drawingBufferHeight];var D={model:c,view:A,projection:h,clipBounds:R,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},N=this.pickShader;N.bind(),N.uniforms=D,this.triangleCount>0&&(this.triangleVAO.bind(),g.drawArrays(g.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},m.pick=function(_){if(!_||_.id!==this.pickId)return null;var g=_.value[0]+256*_.value[1]+65536*_.value[2],c=this.cells[g],A=this.positions[c[1]].slice(0,3),h={position:A,dataCoordinate:A,index:Math.floor(c[1]/48)};return this.traceType==="cone"?h.index=Math.floor(c[1]/48):this.traceType==="streamtube"&&(h.intensity=this.intensity[c[1]],h.velocity=this.vectors[c[1]].slice(0,3),h.divergence=this.vectors[c[1]][3],h.index=g),h},m.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function x(_,g){var c=l(_,g.meshShader.vertex,g.meshShader.fragment,null,g.meshShader.attributes);return c.attributes.position.location=0,c.attributes.color.location=2,c.attributes.uv.location=3,c.attributes.vector.location=4,c}function T(_,g){var c=l(_,g.pickShader.vertex,g.pickShader.fragment,null,g.pickShader.attributes);return c.attributes.position.location=0,c.attributes.id.location=1,c.attributes.vector.location=4,c}function d(_,g,c){var A=c.shaders;arguments.length===1&&(g=_,_=g.gl);var h=x(_,A),R=T(_,A),E=f(_,b(new Uint8Array([255,255,255,255]),[1,1,4]));E.generateMipmap(),E.minFilter=_.LINEAR_MIPMAP_LINEAR,E.magFilter=_.LINEAR;var D=u(_),N=u(_),I=u(_),F=u(_),L=u(_),P=s(_,[{buffer:D,type:_.FLOAT,size:4},{buffer:L,type:_.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:I,type:_.FLOAT,size:4},{buffer:F,type:_.FLOAT,size:2},{buffer:N,type:_.FLOAT,size:4}]),O=new M(_,E,h,R,D,N,L,I,F,P,c.traceType||"cone");return O.update(g),O}a.exports=d},614:function(a,o,i){var l=i(3236),u=l([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),s=l([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=l([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * (view * conePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),v=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);o.meshShader={vertex:u,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},o.pickShader={vertex:f,fragment:v,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},737:function(a){a.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},5171:function(a,o,i){var l=i(737);a.exports=function(s){return l[s]}},9165:function(a,o,i){"use strict";a.exports=M;var l=i(2762),u=i(8116),s=i(3436),f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function v(m,k,S,x){this.gl=m,this.shader=x,this.buffer=k,this.vao=S,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var p=v.prototype;p.isOpaque=function(){return!this.hasAlpha},p.isTransparent=function(){return this.hasAlpha},p.drawTransparent=p.draw=function(m){var k=this.gl,S=this.shader.uniforms;this.shader.bind();var x=S.view=m.view||f,T=S.projection=m.projection||f;S.model=m.model||f,S.clipBounds=this.clipBounds,S.opacity=this.opacity;var d=x[12],_=x[13],g=x[14],c=x[15],A=m._ortho||!1,h=A?2:1,R=h*this.pixelRatio*(T[3]*d+T[7]*_+T[11]*g+T[15]*c)/k.drawingBufferHeight;this.vao.bind();for(var E=0;E<3;++E)k.lineWidth(this.lineWidth[E]*this.pixelRatio),S.capSize=this.capSize[E]*R,this.lineCount[E]&&k.drawArrays(k.LINES,this.lineOffset[E],this.lineCount[E]);this.vao.unbind()};function b(m,k){for(var S=0;S<3;++S)m[0][S]=Math.min(m[0][S],k[S]),m[1][S]=Math.max(m[1][S],k[S])}var y=function(){for(var m=new Array(3),k=0;k<3;++k){for(var S=[],x=1;x<=2;++x)for(var T=-1;T<=1;T+=2){var d=(x+k)%3,_=[0,0,0];_[d]=T,S.push(_)}m[k]=S}return m}();function w(m,k,S,x){for(var T=y[x],d=0;d<T.length;++d){var _=T[d];m.push(k[0],k[1],k[2],S[0],S[1],S[2],S[3],_[0],_[1],_[2])}return T.length}p.update=function(m){m=m||{},"lineWidth"in m&&(this.lineWidth=m.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in m&&(this.capSize=m.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in m&&(this.opacity=+m.opacity,this.opacity<1&&(this.hasAlpha=!0));var k=m.color||[[0,0,0],[0,0,0],[0,0,0]],S=m.position,x=m.error;if(Array.isArray(k[0])||(k=[k,k,k]),S&&x){var T=[],d=S.length,_=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var g=0;g<3;++g){this.lineOffset[g]=_;e:for(var c=0;c<d;++c){for(var A=S[c],h=0;h<3;++h)if(isNaN(A[h])||!isFinite(A[h]))continue e;var R=x[c],E=k[g];if(Array.isArray(E[0])&&(E=k[c]),E.length===3?E=[E[0],E[1],E[2],1]:E.length===4&&(E=[E[0],E[1],E[2],E[3]],!this.hasAlpha&&E[3]<1&&(this.hasAlpha=!0)),!(isNaN(R[0][g])||isNaN(R[1][g]))){if(R[0][g]<0){var D=A.slice();D[g]+=R[0][g],T.push(A[0],A[1],A[2],E[0],E[1],E[2],E[3],0,0,0,D[0],D[1],D[2],E[0],E[1],E[2],E[3],0,0,0),b(this.bounds,D),_+=2+w(T,D,E,g)}if(R[1][g]>0){var D=A.slice();D[g]+=R[1][g],T.push(A[0],A[1],A[2],E[0],E[1],E[2],E[3],0,0,0,D[0],D[1],D[2],E[0],E[1],E[2],E[3],0,0,0),b(this.bounds,D),_+=2+w(T,D,E,g)}}}this.lineCount[g]=_-this.lineOffset[g]}this.buffer.update(T)}},p.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function M(m){var k=m.gl,S=l(k),x=u(k,[{buffer:S,type:k.FLOAT,size:3,offset:0,stride:40},{buffer:S,type:k.FLOAT,size:4,offset:12,stride:40},{buffer:S,type:k.FLOAT,size:3,offset:28,stride:40}]),T=s(k);T.attributes.position.location=0,T.attributes.color.location=1,T.attributes.offset.location=2;var d=new v(k,S,x,T);return d.update(m),d}},3436:function(a,o,i){"use strict";var l=i(3236),u=i(9405),s=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * (view * worldPosition);
  fragColor           = color;
  fragPosition        = position;
}`]),f=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);a.exports=function(v){return u(v,s,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},2260:function(a,o,i){"use strict";var l=i(7766);a.exports=_;var u=null,s,f,v,p;function b(g){var c=g.getParameter(g.FRAMEBUFFER_BINDING),A=g.getParameter(g.RENDERBUFFER_BINDING),h=g.getParameter(g.TEXTURE_BINDING_2D);return[c,A,h]}function y(g,c){g.bindFramebuffer(g.FRAMEBUFFER,c[0]),g.bindRenderbuffer(g.RENDERBUFFER,c[1]),g.bindTexture(g.TEXTURE_2D,c[2])}function w(g,c){var A=g.getParameter(c.MAX_COLOR_ATTACHMENTS_WEBGL);u=new Array(A+1);for(var h=0;h<=A;++h){for(var R=new Array(A),E=0;E<h;++E)R[E]=g.COLOR_ATTACHMENT0+E;for(var E=h;E<A;++E)R[E]=g.NONE;u[h]=R}}function M(g){switch(g){case s:throw new Error("gl-fbo: Framebuffer unsupported");case f:throw new Error("gl-fbo: Framebuffer incomplete attachment");case v:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case p:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function m(g,c,A,h,R,E){if(!h)return null;var D=l(g,c,A,R,h);return D.magFilter=g.NEAREST,D.minFilter=g.NEAREST,D.mipSamples=1,D.bind(),g.framebufferTexture2D(g.FRAMEBUFFER,E,g.TEXTURE_2D,D.handle,0),D}function k(g,c,A,h,R){var E=g.createRenderbuffer();return g.bindRenderbuffer(g.RENDERBUFFER,E),g.renderbufferStorage(g.RENDERBUFFER,h,c,A),g.framebufferRenderbuffer(g.FRAMEBUFFER,R,g.RENDERBUFFER,E),E}function S(g){var c=b(g.gl),A=g.gl,h=g.handle=A.createFramebuffer(),R=g._shape[0],E=g._shape[1],D=g.color.length,N=g._ext,I=g._useStencil,F=g._useDepth,L=g._colorType;A.bindFramebuffer(A.FRAMEBUFFER,h);for(var P=0;P<D;++P)g.color[P]=m(A,R,E,L,A.RGBA,A.COLOR_ATTACHMENT0+P);D===0?(g._color_rb=k(A,R,E,A.RGBA4,A.COLOR_ATTACHMENT0),N&&N.drawBuffersWEBGL(u[0])):D>1&&N.drawBuffersWEBGL(u[D]);var O=A.getExtension("WEBGL_depth_texture");O?I?g.depth=m(A,R,E,O.UNSIGNED_INT_24_8_WEBGL,A.DEPTH_STENCIL,A.DEPTH_STENCIL_ATTACHMENT):F&&(g.depth=m(A,R,E,A.UNSIGNED_SHORT,A.DEPTH_COMPONENT,A.DEPTH_ATTACHMENT)):F&&I?g._depth_rb=k(A,R,E,A.DEPTH_STENCIL,A.DEPTH_STENCIL_ATTACHMENT):F?g._depth_rb=k(A,R,E,A.DEPTH_COMPONENT16,A.DEPTH_ATTACHMENT):I&&(g._depth_rb=k(A,R,E,A.STENCIL_INDEX,A.STENCIL_ATTACHMENT));var U=A.checkFramebufferStatus(A.FRAMEBUFFER);if(U!==A.FRAMEBUFFER_COMPLETE){g._destroyed=!0,A.bindFramebuffer(A.FRAMEBUFFER,null),A.deleteFramebuffer(g.handle),g.handle=null,g.depth&&(g.depth.dispose(),g.depth=null),g._depth_rb&&(A.deleteRenderbuffer(g._depth_rb),g._depth_rb=null);for(var P=0;P<g.color.length;++P)g.color[P].dispose(),g.color[P]=null;g._color_rb&&(A.deleteRenderbuffer(g._color_rb),g._color_rb=null),y(A,c),M(U)}y(A,c)}function x(g,c,A,h,R,E,D,N){this.gl=g,this._shape=[c|0,A|0],this._destroyed=!1,this._ext=N,this.color=new Array(R);for(var I=0;I<R;++I)this.color[I]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=h,this._useDepth=E,this._useStencil=D;var F=this,L=[c|0,A|0];Object.defineProperties(L,{0:{get:function(){return F._shape[0]},set:function(P){return F.width=P}},1:{get:function(){return F._shape[1]},set:function(P){return F.height=P}}}),this._shapeVector=L,S(this)}var T=x.prototype;function d(g,c,A){if(g._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(g._shape[0]===c&&g._shape[1]===A)){var h=g.gl,R=h.getParameter(h.MAX_RENDERBUFFER_SIZE);if(c<0||c>R||A<0||A>R)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");g._shape[0]=c,g._shape[1]=A;for(var E=b(h),D=0;D<g.color.length;++D)g.color[D].shape=g._shape;g._color_rb&&(h.bindRenderbuffer(h.RENDERBUFFER,g._color_rb),h.renderbufferStorage(h.RENDERBUFFER,h.RGBA4,g._shape[0],g._shape[1])),g.depth&&(g.depth.shape=g._shape),g._depth_rb&&(h.bindRenderbuffer(h.RENDERBUFFER,g._depth_rb),g._useDepth&&g._useStencil?h.renderbufferStorage(h.RENDERBUFFER,h.DEPTH_STENCIL,g._shape[0],g._shape[1]):g._useDepth?h.renderbufferStorage(h.RENDERBUFFER,h.DEPTH_COMPONENT16,g._shape[0],g._shape[1]):g._useStencil&&h.renderbufferStorage(h.RENDERBUFFER,h.STENCIL_INDEX,g._shape[0],g._shape[1])),h.bindFramebuffer(h.FRAMEBUFFER,g.handle);var N=h.checkFramebufferStatus(h.FRAMEBUFFER);N!==h.FRAMEBUFFER_COMPLETE&&(g.dispose(),y(h,E),M(N)),y(h,E)}}Object.defineProperties(T,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(g){if(Array.isArray(g)||(g=[g|0,g|0]),g.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var c=g[0]|0,A=g[1]|0;return d(this,c,A),[c,A]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(g){return g=g|0,d(this,g,this._shape[1]),g},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(g){return g=g|0,d(this,this._shape[0],g),g},enumerable:!1}}),T.bind=function(){if(!this._destroyed){var g=this.gl;g.bindFramebuffer(g.FRAMEBUFFER,this.handle),g.viewport(0,0,this._shape[0],this._shape[1])}},T.dispose=function(){if(!this._destroyed){this._destroyed=!0;var g=this.gl;g.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(g.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var c=0;c<this.color.length;++c)this.color[c].dispose(),this.color[c]=null;this._color_rb&&(g.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function _(g,c,A,h){s||(s=g.FRAMEBUFFER_UNSUPPORTED,f=g.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,v=g.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,p=g.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var R=g.getExtension("WEBGL_draw_buffers");if(!u&&R&&w(g,R),Array.isArray(c)&&(h=A,A=c[1]|0,c=c[0]|0),typeof c!="number")throw new Error("gl-fbo: Missing shape parameter");var E=g.getParameter(g.MAX_RENDERBUFFER_SIZE);if(c<0||c>E||A<0||A>E)throw new Error("gl-fbo: Parameters are too large for FBO");h=h||{};var D=1;if("color"in h){if(D=Math.max(h.color|0,0),D<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(D>1)if(R){if(D>g.getParameter(R.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+D+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var N=g.UNSIGNED_BYTE,I=g.getExtension("OES_texture_float");if(h.float&&D>0){if(!I)throw new Error("gl-fbo: Context does not support floating point textures");N=g.FLOAT}else h.preferFloat&&D>0&&I&&(N=g.FLOAT);var F=!0;"depth"in h&&(F=!!h.depth);var L=!1;return"stencil"in h&&(L=!!h.stencil),new x(g,c,A,N,D,F,L,R)}},2992:function(a,o,i){var l=i(3387).sprintf,u=i(5171),s=i(1848),f=i(1085);a.exports=v;function v(p,b,y){"use strict";var w=s(b)||"of unknown name (see npm glsl-shader-name)",M="unknown type";y!==void 0&&(M=y===u.FRAGMENT_SHADER?"fragment":"vertex");for(var m=l(`Error compiling %s shader %s:
`,M,w),k=l("%s%s",m,p),S=p.split(`
`),x={},T=0;T<S.length;T++){var d=S[T];if(!(d===""||d==="\0")){var _=parseInt(d.split(":")[2]);if(isNaN(_))throw new Error(l("Could not parse error: %s",d));x[_]=d}}for(var g=f(b).split(`
`),T=0;T<g.length;T++)if(!(!x[T+3]&&!x[T+2]&&!x[T+1])){var c=g[T];if(m+=c+`
`,x[T+1]){var A=x[T+1];A=A.substr(A.split(":",3).join(":").length+1).trim(),m+=l(`^^^ %s

`,A)}}return{long:m.trim(),short:k.trim()}}},7319:function(a,o,i){var l=i(3236),u=i(9405),s=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),f=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),v=l([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),p=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];o.createShader=function(b){return u(b,s,f,null,p)},o.createPickShader=function(b){return u(b,s,v,null,p)}},5714:function(a,o,i){"use strict";a.exports=g;var l=i(2762),u=i(8116),s=i(7766),f=new Uint8Array(4),v=new Float32Array(f.buffer);function p(c,A,h,R){return f[0]=R,f[1]=h,f[2]=A,f[3]=c,v[0]}var b=i(2478),y=i(9618),w=i(7319),M=w.createShader,m=w.createPickShader,k=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function S(c,A){for(var h=0,R=0;R<3;++R){var E=c[R]-A[R];h+=E*E}return Math.sqrt(h)}function x(c){for(var A=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],h=0;h<3;++h)A[0][h]=Math.max(c[0][h],A[0][h]),A[1][h]=Math.min(c[1][h],A[1][h]);return A}function T(c,A,h,R){this.arcLength=c,this.position=A,this.index=h,this.dataCoordinate=R}function d(c,A,h,R,E,D){this.gl=c,this.shader=A,this.pickShader=h,this.buffer=R,this.vao=E,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=D,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var _=d.prototype;_.isTransparent=function(){return this.hasAlpha},_.isOpaque=function(){return!this.hasAlpha},_.pickSlots=1,_.setPickBase=function(c){this.pickId=c},_.drawTransparent=_.draw=function(c){if(this.vertexCount){var A=this.gl,h=this.shader,R=this.vao;h.bind(),h.uniforms={model:c.model||k,view:c.view||k,projection:c.projection||k,clipBounds:x(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[A.drawingBufferWidth,A.drawingBufferHeight],pixelRatio:this.pixelRatio},R.bind(),R.draw(A.TRIANGLE_STRIP,this.vertexCount),R.unbind()}},_.drawPick=function(c){if(this.vertexCount){var A=this.gl,h=this.pickShader,R=this.vao;h.bind(),h.uniforms={model:c.model||k,view:c.view||k,projection:c.projection||k,pickId:this.pickId,clipBounds:x(this.clipBounds),screenShape:[A.drawingBufferWidth,A.drawingBufferHeight],pixelRatio:this.pixelRatio},R.bind(),R.draw(A.TRIANGLE_STRIP,this.vertexCount),R.unbind()}},_.update=function(c){var A,h;this.dirty=!0;var R=!!c.connectGaps;"dashScale"in c&&(this.dashScale=c.dashScale),this.hasAlpha=!1,"opacity"in c&&(this.opacity=+c.opacity,this.opacity<1&&(this.hasAlpha=!0));var E=[],D=[],N=[],I=0,F=0,L=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],P=c.position||c.positions;if(P){var O=c.color||c.colors||[0,0,0,1],U=c.lineWidth||1,X=!1;e:for(A=1;A<P.length;++A){var j=P[A-1],$=P[A];for(D.push(I),N.push(j.slice()),h=0;h<3;++h){if(isNaN(j[h])||isNaN($[h])||!isFinite(j[h])||!isFinite($[h])){if(!R&&E.length>0){for(var Y=0;Y<24;++Y)E.push(E[E.length-12]);F+=2,X=!0}continue e}L[0][h]=Math.min(L[0][h],j[h],$[h]),L[1][h]=Math.max(L[1][h],j[h],$[h])}var q,Z;Array.isArray(O[0])?(q=O.length>A-1?O[A-1]:O.length>0?O[O.length-1]:[0,0,0,1],Z=O.length>A?O[A]:O.length>0?O[O.length-1]:[0,0,0,1]):q=Z=O,q.length===3&&(q=[q[0],q[1],q[2],1]),Z.length===3&&(Z=[Z[0],Z[1],Z[2],1]),!this.hasAlpha&&q[3]<1&&(this.hasAlpha=!0);var ne;Array.isArray(U)?ne=U.length>A-1?U[A-1]:U.length>0?U[U.length-1]:[0,0,0,1]:ne=U;var Q=I;if(I+=S(j,$),X){for(h=0;h<2;++h)E.push(j[0],j[1],j[2],$[0],$[1],$[2],Q,ne,q[0],q[1],q[2],q[3]);F+=2,X=!1}E.push(j[0],j[1],j[2],$[0],$[1],$[2],Q,ne,q[0],q[1],q[2],q[3],j[0],j[1],j[2],$[0],$[1],$[2],Q,-ne,q[0],q[1],q[2],q[3],$[0],$[1],$[2],j[0],j[1],j[2],I,-ne,Z[0],Z[1],Z[2],Z[3],$[0],$[1],$[2],j[0],j[1],j[2],I,ne,Z[0],Z[1],Z[2],Z[3]),F+=4}}if(this.buffer.update(E),D.push(I),N.push(P[P.length-1].slice()),this.bounds=L,this.vertexCount=F,this.points=N,this.arcLength=D,"dashes"in c){var oe=c.dashes,ee=oe.slice();for(ee.unshift(0),A=1;A<ee.length;++A)ee[A]=ee[A-1]+ee[A];var G=y(new Array(256*4),[256,1,4]);for(A=0;A<256;++A){for(h=0;h<4;++h)G.set(A,0,h,0);b.le(ee,ee[ee.length-1]*A/255)&1?G.set(A,0,0,0):G.set(A,0,0,255)}this.texture.setPixels(G)}},_.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},_.pick=function(c){if(!c||c.id!==this.pickId)return null;var A=p(c.value[0],c.value[1],c.value[2],0),h=b.le(this.arcLength,A);if(h<0)return null;if(h===this.arcLength.length-1)return new T(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),h);for(var R=this.points[h],E=this.points[Math.min(h+1,this.points.length-1)],D=(A-this.arcLength[h])/(this.arcLength[h+1]-this.arcLength[h]),N=1-D,I=[0,0,0],F=0;F<3;++F)I[F]=N*R[F]+D*E[F];var L=Math.min(D<.5?h:h+1,this.points.length-1);return new T(A,I,L,this.points[L])};function g(c){var A=c.gl||c.scene&&c.scene.gl,h=M(A);h.attributes.position.location=0,h.attributes.nextPosition.location=1,h.attributes.arcLength.location=2,h.attributes.lineWidth.location=3,h.attributes.color.location=4;var R=m(A);R.attributes.position.location=0,R.attributes.nextPosition.location=1,R.attributes.arcLength.location=2,R.attributes.lineWidth.location=3,R.attributes.color.location=4;for(var E=l(A),D=u(A,[{buffer:E,size:3,offset:0,stride:48},{buffer:E,size:3,offset:12,stride:48},{buffer:E,size:1,offset:24,stride:48},{buffer:E,size:1,offset:28,stride:48},{buffer:E,size:4,offset:32,stride:48}]),N=y(new Array(256*4),[256,1,4]),I=0;I<1024;++I)N.data[I]=255;var F=s(A,N);F.wrap=A.REPEAT;var L=new d(A,h,R,E,D,F);return L.update(c),L}},1903:function(a){a.exports=o;function o(i){var l=new Float32Array(16);return l[0]=i[0],l[1]=i[1],l[2]=i[2],l[3]=i[3],l[4]=i[4],l[5]=i[5],l[6]=i[6],l[7]=i[7],l[8]=i[8],l[9]=i[9],l[10]=i[10],l[11]=i[11],l[12]=i[12],l[13]=i[13],l[14]=i[14],l[15]=i[15],l}},6864:function(a){a.exports=o;function o(){var i=new Float32Array(16);return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}},9921:function(a){a.exports=o;function o(i){var l=i[0],u=i[1],s=i[2],f=i[3],v=i[4],p=i[5],b=i[6],y=i[7],w=i[8],M=i[9],m=i[10],k=i[11],S=i[12],x=i[13],T=i[14],d=i[15],_=l*p-u*v,g=l*b-s*v,c=l*y-f*v,A=u*b-s*p,h=u*y-f*p,R=s*y-f*b,E=w*x-M*S,D=w*T-m*S,N=w*d-k*S,I=M*T-m*x,F=M*d-k*x,L=m*d-k*T;return _*L-g*F+c*I+A*N-h*D+R*E}},7399:function(a){a.exports=o;function o(i,l){var u=l[0],s=l[1],f=l[2],v=l[3],p=u+u,b=s+s,y=f+f,w=u*p,M=s*p,m=s*b,k=f*p,S=f*b,x=f*y,T=v*p,d=v*b,_=v*y;return i[0]=1-m-x,i[1]=M+_,i[2]=k-d,i[3]=0,i[4]=M-_,i[5]=1-w-x,i[6]=S+T,i[7]=0,i[8]=k+d,i[9]=S-T,i[10]=1-w-m,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}},6743:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],v=l[2],p=l[3],b=s+s,y=f+f,w=v+v,M=s*b,m=s*y,k=s*w,S=f*y,x=f*w,T=v*w,d=p*b,_=p*y,g=p*w;return i[0]=1-(S+T),i[1]=m+g,i[2]=k-_,i[3]=0,i[4]=m-g,i[5]=1-(M+T),i[6]=x+d,i[7]=0,i[8]=k+_,i[9]=x-d,i[10]=1-(M+S),i[11]=0,i[12]=u[0],i[13]=u[1],i[14]=u[2],i[15]=1,i}},7894:function(a){a.exports=o;function o(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}},7608:function(a){a.exports=o;function o(i,l){var u=l[0],s=l[1],f=l[2],v=l[3],p=l[4],b=l[5],y=l[6],w=l[7],M=l[8],m=l[9],k=l[10],S=l[11],x=l[12],T=l[13],d=l[14],_=l[15],g=u*b-s*p,c=u*y-f*p,A=u*w-v*p,h=s*y-f*b,R=s*w-v*b,E=f*w-v*y,D=M*T-m*x,N=M*d-k*x,I=M*_-S*x,F=m*d-k*T,L=m*_-S*T,P=k*_-S*d,O=g*P-c*L+A*F+h*I-R*N+E*D;return O?(O=1/O,i[0]=(b*P-y*L+w*F)*O,i[1]=(f*L-s*P-v*F)*O,i[2]=(T*E-d*R+_*h)*O,i[3]=(k*R-m*E-S*h)*O,i[4]=(y*I-p*P-w*N)*O,i[5]=(u*P-f*I+v*N)*O,i[6]=(d*A-x*E-_*c)*O,i[7]=(M*E-k*A+S*c)*O,i[8]=(p*L-b*I+w*D)*O,i[9]=(s*I-u*L-v*D)*O,i[10]=(x*R-T*A+_*g)*O,i[11]=(m*A-M*R-S*g)*O,i[12]=(b*N-p*F-y*D)*O,i[13]=(u*F-s*N+f*D)*O,i[14]=(T*c-x*h-d*g)*O,i[15]=(M*h-m*c+k*g)*O,i):null}},6582:function(a,o,i){var l=i(7894);a.exports=u;function u(s,f,v,p){var b,y,w,M,m,k,S,x,T,d,_=f[0],g=f[1],c=f[2],A=p[0],h=p[1],R=p[2],E=v[0],D=v[1],N=v[2];return Math.abs(_-E)<1e-6&&Math.abs(g-D)<1e-6&&Math.abs(c-N)<1e-6?l(s):(S=_-E,x=g-D,T=c-N,d=1/Math.sqrt(S*S+x*x+T*T),S*=d,x*=d,T*=d,b=h*T-R*x,y=R*S-A*T,w=A*x-h*S,d=Math.sqrt(b*b+y*y+w*w),d?(d=1/d,b*=d,y*=d,w*=d):(b=0,y=0,w=0),M=x*w-T*y,m=T*b-S*w,k=S*y-x*b,d=Math.sqrt(M*M+m*m+k*k),d?(d=1/d,M*=d,m*=d,k*=d):(M=0,m=0,k=0),s[0]=b,s[1]=M,s[2]=S,s[3]=0,s[4]=y,s[5]=m,s[6]=x,s[7]=0,s[8]=w,s[9]=k,s[10]=T,s[11]=0,s[12]=-(b*_+y*g+w*c),s[13]=-(M*_+m*g+k*c),s[14]=-(S*_+x*g+T*c),s[15]=1,s)}},6760:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],v=l[2],p=l[3],b=l[4],y=l[5],w=l[6],M=l[7],m=l[8],k=l[9],S=l[10],x=l[11],T=l[12],d=l[13],_=l[14],g=l[15],c=u[0],A=u[1],h=u[2],R=u[3];return i[0]=c*s+A*b+h*m+R*T,i[1]=c*f+A*y+h*k+R*d,i[2]=c*v+A*w+h*S+R*_,i[3]=c*p+A*M+h*x+R*g,c=u[4],A=u[5],h=u[6],R=u[7],i[4]=c*s+A*b+h*m+R*T,i[5]=c*f+A*y+h*k+R*d,i[6]=c*v+A*w+h*S+R*_,i[7]=c*p+A*M+h*x+R*g,c=u[8],A=u[9],h=u[10],R=u[11],i[8]=c*s+A*b+h*m+R*T,i[9]=c*f+A*y+h*k+R*d,i[10]=c*v+A*w+h*S+R*_,i[11]=c*p+A*M+h*x+R*g,c=u[12],A=u[13],h=u[14],R=u[15],i[12]=c*s+A*b+h*m+R*T,i[13]=c*f+A*y+h*k+R*d,i[14]=c*v+A*w+h*S+R*_,i[15]=c*p+A*M+h*x+R*g,i}},4040:function(a){a.exports=o;function o(i,l,u,s,f,v,p){var b=1/(l-u),y=1/(s-f),w=1/(v-p);return i[0]=-2*b,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=-2*y,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2*w,i[11]=0,i[12]=(l+u)*b,i[13]=(f+s)*y,i[14]=(p+v)*w,i[15]=1,i}},4772:function(a){a.exports=o;function o(i,l,u,s,f){var v=1/Math.tan(l/2),p=1/(s-f);return i[0]=v/u,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=v,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=(f+s)*p,i[11]=-1,i[12]=0,i[13]=0,i[14]=2*f*s*p,i[15]=0,i}},6079:function(a){a.exports=o;function o(i,l,u,s){var f=s[0],v=s[1],p=s[2],b=Math.sqrt(f*f+v*v+p*p),y,w,M,m,k,S,x,T,d,_,g,c,A,h,R,E,D,N,I,F,L,P,O,U;return Math.abs(b)<1e-6?null:(b=1/b,f*=b,v*=b,p*=b,y=Math.sin(u),w=Math.cos(u),M=1-w,m=l[0],k=l[1],S=l[2],x=l[3],T=l[4],d=l[5],_=l[6],g=l[7],c=l[8],A=l[9],h=l[10],R=l[11],E=f*f*M+w,D=v*f*M+p*y,N=p*f*M-v*y,I=f*v*M-p*y,F=v*v*M+w,L=p*v*M+f*y,P=f*p*M+v*y,O=v*p*M-f*y,U=p*p*M+w,i[0]=m*E+T*D+c*N,i[1]=k*E+d*D+A*N,i[2]=S*E+_*D+h*N,i[3]=x*E+g*D+R*N,i[4]=m*I+T*F+c*L,i[5]=k*I+d*F+A*L,i[6]=S*I+_*F+h*L,i[7]=x*I+g*F+R*L,i[8]=m*P+T*O+c*U,i[9]=k*P+d*O+A*U,i[10]=S*P+_*O+h*U,i[11]=x*P+g*O+R*U,l!==i&&(i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15]),i)}},5567:function(a){a.exports=o;function o(i,l,u){var s=Math.sin(u),f=Math.cos(u),v=l[4],p=l[5],b=l[6],y=l[7],w=l[8],M=l[9],m=l[10],k=l[11];return l!==i&&(i[0]=l[0],i[1]=l[1],i[2]=l[2],i[3]=l[3],i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15]),i[4]=v*f+w*s,i[5]=p*f+M*s,i[6]=b*f+m*s,i[7]=y*f+k*s,i[8]=w*f-v*s,i[9]=M*f-p*s,i[10]=m*f-b*s,i[11]=k*f-y*s,i}},2408:function(a){a.exports=o;function o(i,l,u){var s=Math.sin(u),f=Math.cos(u),v=l[0],p=l[1],b=l[2],y=l[3],w=l[8],M=l[9],m=l[10],k=l[11];return l!==i&&(i[4]=l[4],i[5]=l[5],i[6]=l[6],i[7]=l[7],i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15]),i[0]=v*f-w*s,i[1]=p*f-M*s,i[2]=b*f-m*s,i[3]=y*f-k*s,i[8]=v*s+w*f,i[9]=p*s+M*f,i[10]=b*s+m*f,i[11]=y*s+k*f,i}},7089:function(a){a.exports=o;function o(i,l,u){var s=Math.sin(u),f=Math.cos(u),v=l[0],p=l[1],b=l[2],y=l[3],w=l[4],M=l[5],m=l[6],k=l[7];return l!==i&&(i[8]=l[8],i[9]=l[9],i[10]=l[10],i[11]=l[11],i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15]),i[0]=v*f+w*s,i[1]=p*f+M*s,i[2]=b*f+m*s,i[3]=y*f+k*s,i[4]=w*f-v*s,i[5]=M*f-p*s,i[6]=m*f-b*s,i[7]=k*f-y*s,i}},2504:function(a){a.exports=o;function o(i,l,u){var s=u[0],f=u[1],v=u[2];return i[0]=l[0]*s,i[1]=l[1]*s,i[2]=l[2]*s,i[3]=l[3]*s,i[4]=l[4]*f,i[5]=l[5]*f,i[6]=l[6]*f,i[7]=l[7]*f,i[8]=l[8]*v,i[9]=l[9]*v,i[10]=l[10]*v,i[11]=l[11]*v,i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15],i}},7656:function(a){a.exports=o;function o(i,l,u){var s=u[0],f=u[1],v=u[2],p,b,y,w,M,m,k,S,x,T,d,_;return l===i?(i[12]=l[0]*s+l[4]*f+l[8]*v+l[12],i[13]=l[1]*s+l[5]*f+l[9]*v+l[13],i[14]=l[2]*s+l[6]*f+l[10]*v+l[14],i[15]=l[3]*s+l[7]*f+l[11]*v+l[15]):(p=l[0],b=l[1],y=l[2],w=l[3],M=l[4],m=l[5],k=l[6],S=l[7],x=l[8],T=l[9],d=l[10],_=l[11],i[0]=p,i[1]=b,i[2]=y,i[3]=w,i[4]=M,i[5]=m,i[6]=k,i[7]=S,i[8]=x,i[9]=T,i[10]=d,i[11]=_,i[12]=p*s+M*f+x*v+l[12],i[13]=b*s+m*f+T*v+l[13],i[14]=y*s+k*f+d*v+l[14],i[15]=w*s+S*f+_*v+l[15]),i}},5665:function(a){a.exports=o;function o(i,l){if(i===l){var u=l[1],s=l[2],f=l[3],v=l[6],p=l[7],b=l[11];i[1]=l[4],i[2]=l[8],i[3]=l[12],i[4]=u,i[6]=l[9],i[7]=l[13],i[8]=s,i[9]=v,i[11]=l[14],i[12]=f,i[13]=p,i[14]=b}else i[0]=l[0],i[1]=l[4],i[2]=l[8],i[3]=l[12],i[4]=l[1],i[5]=l[5],i[6]=l[9],i[7]=l[13],i[8]=l[2],i[9]=l[6],i[10]=l[10],i[11]=l[14],i[12]=l[3],i[13]=l[7],i[14]=l[11],i[15]=l[15];return i}},7626:function(a,o,i){"use strict";var l=i(2642),u=i(9346);a.exports=b;function s(y,w){for(var M=[0,0,0,0],m=0;m<4;++m)for(var k=0;k<4;++k)M[k]+=y[4*m+k]*w[m];return M}function f(y,w,M,m,k){for(var S=s(m,s(M,s(w,[y[0],y[1],y[2],1]))),x=0;x<3;++x)S[x]/=S[3];return[.5*k[0]*(1+S[0]),.5*k[1]*(1-S[1])]}function v(y,w){if(y.length===2){for(var M=0,m=0,k=0;k<2;++k)M+=Math.pow(w[k]-y[0][k],2),m+=Math.pow(w[k]-y[1][k],2);return M=Math.sqrt(M),m=Math.sqrt(m),M+m<1e-6?[1,0]:[m/(M+m),M/(m+M)]}else if(y.length===3){var S=[0,0];return u(y[0],y[1],y[2],w,S),l(y,S)}return[]}function p(y,w){for(var M=[0,0,0],m=0;m<y.length;++m)for(var k=y[m],S=w[m],x=0;x<3;++x)M[x]+=S*k[x];return M}function b(y,w,M,m,k,S){if(y.length===1)return[0,y[0].slice()];for(var x=new Array(y.length),T=0;T<y.length;++T)x[T]=f(y[T],M,m,k,S);for(var d=0,_=1/0,T=0;T<x.length;++T){for(var g=0,c=0;c<2;++c)g+=Math.pow(x[T][c]-w[c],2);g<_&&(_=g,d=T)}for(var A=v(x,w),h=0,T=0;T<3;++T){if(A[T]<-.001||A[T]>1.0001)return null;h+=A[T]}return Math.abs(h-1)>.001?null:[d,p(y,A),A]}},840:function(a,o,i){var l=i(3236),u=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),s=l([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),f=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),v=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),p=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * (view * (model * vec4(position, 1.0)));
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),b=l([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),y=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_id        = id;
  f_position  = position;
}`]),w=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),M=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * (view * (model * vec4(position, 1.0)));
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),m=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
}`]),k=l([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);o.meshShader={vertex:u,fragment:s,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},o.wireShader={vertex:f,fragment:v,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},o.pointShader={vertex:p,fragment:b,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},o.pickShader={vertex:y,fragment:w,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},o.pointPickShader={vertex:M,fragment:w,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},o.contourShader={vertex:m,fragment:k,attributes:[{name:"position",type:"vec3"}]}},7201:function(a,o,i){"use strict";var l=1e-6,u=1e-6,s=i(9405),f=i(2762),v=i(8116),p=i(7766),b=i(8406),y=i(6760),w=i(7608),M=i(9618),m=i(6729),k=i(7765),S=i(1888),x=i(840),T=i(7626),d=x.meshShader,_=x.wireShader,g=x.pointShader,c=x.pickShader,A=x.pointPickShader,h=x.contourShader,R=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function E(Y,q,Z,ne,Q,oe,ee,G,re,H,te,ue,de,Ee,Me,ve,Ae,ke,De,Ce,Oe,Ue,ge,Te,ce,ye,Le){this.gl=Y,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=q,this.dirty=!0,this.triShader=Z,this.lineShader=ne,this.pointShader=Q,this.pickShader=oe,this.pointPickShader=ee,this.contourShader=G,this.trianglePositions=re,this.triangleColors=te,this.triangleNormals=de,this.triangleUVs=ue,this.triangleIds=H,this.triangleVAO=Ee,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Me,this.edgeColors=Ae,this.edgeUVs=ke,this.edgeIds=ve,this.edgeVAO=De,this.edgeCount=0,this.pointPositions=Ce,this.pointColors=Ue,this.pointUVs=ge,this.pointSizes=Te,this.pointIds=Oe,this.pointVAO=ce,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=ye,this.contourVAO=Le,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=R,this._view=R,this._projection=R,this._resolution=[1,1]}var D=E.prototype;D.isOpaque=function(){return!this.hasAlpha},D.isTransparent=function(){return this.hasAlpha},D.pickSlots=1,D.setPickBase=function(Y){this.pickId=Y};function N(Y,q){if(!q||!q.length)return 1;for(var Z=0;Z<q.length;++Z){if(q.length<2)return 1;if(q[Z][0]===Y)return q[Z][1];if(q[Z][0]>Y&&Z>0){var ne=(q[Z][0]-Y)/(q[Z][0]-q[Z-1][0]);return q[Z][1]*(1-ne)+ne*q[Z-1][1]}}return 1}function I(Y,q){for(var Z=m({colormap:Y,nshades:256,format:"rgba"}),ne=new Uint8Array(256*4),Q=0;Q<256;++Q){for(var oe=Z[Q],ee=0;ee<3;++ee)ne[4*Q+ee]=oe[ee];q?ne[4*Q+3]=255*N(Q/255,q):ne[4*Q+3]=255*oe[3]}return M(ne,[256,256,4],[4,0,1])}function F(Y){for(var q=Y.length,Z=new Array(q),ne=0;ne<q;++ne)Z[ne]=Y[ne][2];return Z}D.highlight=function(Y){if(!Y||!this.contourEnable){this.contourCount=0;return}for(var q=k(this.cells,this.intensity,Y.intensity),Z=q.cells,ne=q.vertexIds,Q=q.vertexWeights,oe=Z.length,ee=S.mallocFloat32(2*3*oe),G=0,re=0;re<oe;++re)for(var H=Z[re],te=0;te<2;++te){var ue=H[0];H.length===2&&(ue=H[te]);for(var de=ne[ue][0],Ee=ne[ue][1],Me=Q[ue],ve=1-Me,Ae=this.positions[de],ke=this.positions[Ee],De=0;De<3;++De)ee[G++]=Me*Ae[De]+ve*ke[De]}this.contourCount=G/3|0,this.contourPositions.update(ee.subarray(0,G)),S.free(ee)},D.update=function(Y){Y=Y||{};var q=this.gl;this.dirty=!0,"contourEnable"in Y&&(this.contourEnable=Y.contourEnable),"contourColor"in Y&&(this.contourColor=Y.contourColor),"lineWidth"in Y&&(this.lineWidth=Y.lineWidth),"lightPosition"in Y&&(this.lightPosition=Y.lightPosition),this.hasAlpha=!1,"opacity"in Y&&(this.opacity=Y.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in Y&&(this.opacityscale=Y.opacityscale,this.hasAlpha=!0),"ambient"in Y&&(this.ambientLight=Y.ambient),"diffuse"in Y&&(this.diffuseLight=Y.diffuse),"specular"in Y&&(this.specularLight=Y.specular),"roughness"in Y&&(this.roughness=Y.roughness),"fresnel"in Y&&(this.fresnel=Y.fresnel),Y.texture?(this.texture.dispose(),this.texture=p(q,Y.texture)):Y.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=q.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=q.LINEAR,this.texture.setPixels(I(Y.colormap,this.opacityscale)),this.texture.generateMipmap());var Z=Y.cells,ne=Y.positions;if(!(!ne||!Z)){var Q=[],oe=[],ee=[],G=[],re=[],H=[],te=[],ue=[],de=[],Ee=[],Me=[],ve=[],Ae=[],ke=[];this.cells=Z,this.positions=ne;var De=Y.vertexNormals,Ce=Y.cellNormals,Oe=Y.vertexNormalsEpsilon===void 0?l:Y.vertexNormalsEpsilon,Ue=Y.faceNormalsEpsilon===void 0?u:Y.faceNormalsEpsilon;Y.useFacetNormals&&!Ce&&(Ce=b.faceNormals(Z,ne,Ue)),!Ce&&!De&&(De=b.vertexNormals(Z,ne,Oe));var ge=Y.vertexColors,Te=Y.cellColors,ce=Y.meshColor||[1,1,1,1],ye=Y.vertexUVs,Le=Y.vertexIntensity,me=Y.cellUVs,he=Y.cellIntensity,be=1/0,Se=-1/0;if(!ye&&!me)if(Le)if(Y.vertexIntensityBounds)be=+Y.vertexIntensityBounds[0],Se=+Y.vertexIntensityBounds[1];else for(var ze=0;ze<Le.length;++ze){var Fe=Le[ze];be=Math.min(be,Fe),Se=Math.max(Se,Fe)}else if(he)if(Y.cellIntensityBounds)be=+Y.cellIntensityBounds[0],Se=+Y.cellIntensityBounds[1];else for(var ze=0;ze<he.length;++ze){var Fe=he[ze];be=Math.min(be,Fe),Se=Math.max(Se,Fe)}else for(var ze=0;ze<ne.length;++ze){var Fe=ne[ze][2];be=Math.min(be,Fe),Se=Math.max(Se,Fe)}Le?this.intensity=Le:he?this.intensity=he:this.intensity=F(ne),this.pickVertex=!(he||Te);var Ze=Y.pointSizes,Ye=Y.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var ze=0;ze<ne.length;++ze)for(var Ge=ne[ze],We=0;We<3;++We)isNaN(Ge[We])||!isFinite(Ge[We])||(this.bounds[0][We]=Math.min(this.bounds[0][We],Ge[We]),this.bounds[1][We]=Math.max(this.bounds[1][We],Ge[We]));var we=0,Pe=0,Qe=0;e:for(var ze=0;ze<Z.length;++ze){var Ve=Z[ze];switch(Ve.length){case 1:for(var ar=Ve[0],Ge=ne[ar],We=0;We<3;++We)if(isNaN(Ge[We])||!isFinite(Ge[We]))continue e;Ee.push(Ge[0],Ge[1],Ge[2]);var se;ge?se=ge[ar]:Te?se=Te[ze]:se=ce,this.opacityscale&&Le?oe.push(se[0],se[1],se[2],this.opacity*N((Le[ar]-be)/(Se-be),this.opacityscale)):se.length===3?Me.push(se[0],se[1],se[2],this.opacity):(Me.push(se[0],se[1],se[2],se[3]*this.opacity),se[3]<1&&(this.hasAlpha=!0));var K;ye?K=ye[ar]:Le?K=[(Le[ar]-be)/(Se-be),0]:me?K=me[ze]:he?K=[(he[ze]-be)/(Se-be),0]:K=[(Ge[2]-be)/(Se-be),0],ve.push(K[0],K[1]),Ze?Ae.push(Ze[ar]):Ae.push(Ye),ke.push(ze),Qe+=1;break;case 2:for(var We=0;We<2;++We)for(var ar=Ve[We],Ge=ne[ar],ae=0;ae<3;++ae)if(isNaN(Ge[ae])||!isFinite(Ge[ae]))continue e;for(var We=0;We<2;++We){var ar=Ve[We],Ge=ne[ar];H.push(Ge[0],Ge[1],Ge[2]);var se;ge?se=ge[ar]:Te?se=Te[ze]:se=ce,this.opacityscale&&Le?oe.push(se[0],se[1],se[2],this.opacity*N((Le[ar]-be)/(Se-be),this.opacityscale)):se.length===3?te.push(se[0],se[1],se[2],this.opacity):(te.push(se[0],se[1],se[2],se[3]*this.opacity),se[3]<1&&(this.hasAlpha=!0));var K;ye?K=ye[ar]:Le?K=[(Le[ar]-be)/(Se-be),0]:me?K=me[ze]:he?K=[(he[ze]-be)/(Se-be),0]:K=[(Ge[2]-be)/(Se-be),0],ue.push(K[0],K[1]),de.push(ze)}Pe+=1;break;case 3:for(var We=0;We<3;++We)for(var ar=Ve[We],Ge=ne[ar],ae=0;ae<3;++ae)if(isNaN(Ge[ae])||!isFinite(Ge[ae]))continue e;for(var We=0;We<3;++We){var ar=Ve[2-We],Ge=ne[ar];Q.push(Ge[0],Ge[1],Ge[2]);var se;ge?se=ge[ar]:Te?se=Te[ze]:se=ce,se?this.opacityscale&&Le?oe.push(se[0],se[1],se[2],this.opacity*N((Le[ar]-be)/(Se-be),this.opacityscale)):se.length===3?oe.push(se[0],se[1],se[2],this.opacity):(oe.push(se[0],se[1],se[2],se[3]*this.opacity),se[3]<1&&(this.hasAlpha=!0)):oe.push(.5,.5,.5,1);var K;ye?K=ye[ar]:Le?K=[(Le[ar]-be)/(Se-be),0]:me?K=me[ze]:he?K=[(he[ze]-be)/(Se-be),0]:K=[(Ge[2]-be)/(Se-be),0],G.push(K[0],K[1]);var Re;De?Re=De[ar]:Re=Ce[ze],ee.push(Re[0],Re[1],Re[2]),re.push(ze)}we+=1;break;default:break}}this.pointCount=Qe,this.edgeCount=Pe,this.triangleCount=we,this.pointPositions.update(Ee),this.pointColors.update(Me),this.pointUVs.update(ve),this.pointSizes.update(Ae),this.pointIds.update(new Uint32Array(ke)),this.edgePositions.update(H),this.edgeColors.update(te),this.edgeUVs.update(ue),this.edgeIds.update(new Uint32Array(de)),this.trianglePositions.update(Q),this.triangleColors.update(oe),this.triangleUVs.update(G),this.triangleNormals.update(ee),this.triangleIds.update(new Uint32Array(re))}},D.drawTransparent=D.draw=function(Y){Y=Y||{};for(var q=this.gl,Z=Y.model||R,ne=Y.view||R,Q=Y.projection||R,oe=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],ee=0;ee<3;++ee)oe[0][ee]=Math.max(oe[0][ee],this.clipBounds[0][ee]),oe[1][ee]=Math.min(oe[1][ee],this.clipBounds[1][ee]);var G={model:Z,view:ne,projection:Q,inverseModel:R.slice(),clipBounds:oe,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};G.inverseModel=w(G.inverseModel,G.model),q.disable(q.CULL_FACE),this.texture.bind(0);var re=new Array(16);y(re,G.view,G.model),y(re,G.projection,re),w(re,re);for(var ee=0;ee<3;++ee)G.eyePosition[ee]=re[12+ee]/re[15];for(var H=re[15],ee=0;ee<3;++ee)H+=this.lightPosition[ee]*re[4*ee+3];for(var ee=0;ee<3;++ee){for(var te=re[12+ee],ue=0;ue<3;++ue)te+=re[4*ue+ee]*this.lightPosition[ue];G.lightPosition[ee]=te/H}if(this.triangleCount>0){var de=this.triShader;de.bind(),de.uniforms=G,this.triangleVAO.bind(),q.drawArrays(q.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var de=this.lineShader;de.bind(),de.uniforms=G,this.edgeVAO.bind(),q.lineWidth(this.lineWidth*this.pixelRatio),q.drawArrays(q.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var de=this.pointShader;de.bind(),de.uniforms=G,this.pointVAO.bind(),q.drawArrays(q.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var de=this.contourShader;de.bind(),de.uniforms=G,this.contourVAO.bind(),q.drawArrays(q.LINES,0,this.contourCount),this.contourVAO.unbind()}},D.drawPick=function(Y){Y=Y||{};for(var q=this.gl,Z=Y.model||R,ne=Y.view||R,Q=Y.projection||R,oe=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],ee=0;ee<3;++ee)oe[0][ee]=Math.max(oe[0][ee],this.clipBounds[0][ee]),oe[1][ee]=Math.min(oe[1][ee],this.clipBounds[1][ee]);this._model=[].slice.call(Z),this._view=[].slice.call(ne),this._projection=[].slice.call(Q),this._resolution=[q.drawingBufferWidth,q.drawingBufferHeight];var G={model:Z,view:ne,projection:Q,clipBounds:oe,pickId:this.pickId/255},re=this.pickShader;if(re.bind(),re.uniforms=G,this.triangleCount>0&&(this.triangleVAO.bind(),q.drawArrays(q.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),q.lineWidth(this.lineWidth*this.pixelRatio),q.drawArrays(q.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var re=this.pointPickShader;re.bind(),re.uniforms=G,this.pointVAO.bind(),q.drawArrays(q.POINTS,0,this.pointCount),this.pointVAO.unbind()}},D.pick=function(Y){if(!Y||Y.id!==this.pickId)return null;for(var q=Y.value[0]+256*Y.value[1]+65536*Y.value[2],Z=this.cells[q],ne=this.positions,Q=new Array(Z.length),oe=0;oe<Z.length;++oe)Q[oe]=ne[Z[oe]];var ee=Y.coord[0],G=Y.coord[1];if(!this.pickVertex){var re=this.positions[Z[0]],H=this.positions[Z[1]],te=this.positions[Z[2]],ue=[(re[0]+H[0]+te[0])/3,(re[1]+H[1]+te[1])/3,(re[2]+H[2]+te[2])/3];return{_cellCenter:!0,position:[ee,G],index:q,cell:Z,cellId:q,intensity:this.intensity[q],dataCoordinate:ue}}var de=T(Q,[ee*this.pixelRatio,this._resolution[1]-G*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!de)return null;for(var Ee=de[2],Me=0,oe=0;oe<Z.length;++oe)Me+=Ee[oe]*this.intensity[Z[oe]];return{position:de[1],index:Z[de[0]],cell:Z,cellId:q,intensity:Me,dataCoordinate:this.positions[Z[de[0]]]}},D.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function L(Y){var q=s(Y,d.vertex,d.fragment);return q.attributes.position.location=0,q.attributes.color.location=2,q.attributes.uv.location=3,q.attributes.normal.location=4,q}function P(Y){var q=s(Y,_.vertex,_.fragment);return q.attributes.position.location=0,q.attributes.color.location=2,q.attributes.uv.location=3,q}function O(Y){var q=s(Y,g.vertex,g.fragment);return q.attributes.position.location=0,q.attributes.color.location=2,q.attributes.uv.location=3,q.attributes.pointSize.location=4,q}function U(Y){var q=s(Y,c.vertex,c.fragment);return q.attributes.position.location=0,q.attributes.id.location=1,q}function X(Y){var q=s(Y,A.vertex,A.fragment);return q.attributes.position.location=0,q.attributes.id.location=1,q.attributes.pointSize.location=4,q}function j(Y){var q=s(Y,h.vertex,h.fragment);return q.attributes.position.location=0,q}function $(Y,q){arguments.length===1&&(q=Y,Y=q.gl);var Z=Y.getExtension("OES_standard_derivatives")||Y.getExtension("MOZ_OES_standard_derivatives")||Y.getExtension("WEBKIT_OES_standard_derivatives");if(!Z)throw new Error("derivatives not supported");var ne=L(Y),Q=P(Y),oe=O(Y),ee=U(Y),G=X(Y),re=j(Y),H=p(Y,M(new Uint8Array([255,255,255,255]),[1,1,4]));H.generateMipmap(),H.minFilter=Y.LINEAR_MIPMAP_LINEAR,H.magFilter=Y.LINEAR;var te=f(Y),ue=f(Y),de=f(Y),Ee=f(Y),Me=f(Y),ve=v(Y,[{buffer:te,type:Y.FLOAT,size:3},{buffer:Me,type:Y.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ue,type:Y.FLOAT,size:4},{buffer:de,type:Y.FLOAT,size:2},{buffer:Ee,type:Y.FLOAT,size:3}]),Ae=f(Y),ke=f(Y),De=f(Y),Ce=f(Y),Oe=v(Y,[{buffer:Ae,type:Y.FLOAT,size:3},{buffer:Ce,type:Y.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ke,type:Y.FLOAT,size:4},{buffer:De,type:Y.FLOAT,size:2}]),Ue=f(Y),ge=f(Y),Te=f(Y),ce=f(Y),ye=f(Y),Le=v(Y,[{buffer:Ue,type:Y.FLOAT,size:3},{buffer:ye,type:Y.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ge,type:Y.FLOAT,size:4},{buffer:Te,type:Y.FLOAT,size:2},{buffer:ce,type:Y.FLOAT,size:1}]),me=f(Y),he=v(Y,[{buffer:me,type:Y.FLOAT,size:3}]),be=new E(Y,H,ne,Q,oe,ee,G,re,te,Me,ue,de,Ee,ve,Ae,Ce,ke,De,Oe,Ue,ye,ge,Te,ce,Le,me,he);return be.update(q),be}a.exports=$},4437:function(a,o,i){"use strict";a.exports=b;var l=i(3025),u=i(6296),s=i(351),f=i(8512),v=i(24),p=i(7520);function b(y,w){y=y||document.body,w=w||{};var M=[.01,1/0];"distanceLimits"in w&&(M[0]=w.distanceLimits[0],M[1]=w.distanceLimits[1]),"zoomMin"in w&&(M[0]=w.zoomMin),"zoomMax"in w&&(M[1]=w.zoomMax);var m=u({center:w.center||[0,0,0],up:w.up||[0,1,0],eye:w.eye||[0,0,10],mode:w.mode||"orbit",distanceLimits:M}),k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S=0,x=y.clientWidth,T=y.clientHeight,d={keyBindingMode:"rotate",enableWheel:!0,view:m,element:y,delay:w.delay||16,rotateSpeed:w.rotateSpeed||1,zoomSpeed:w.zoomSpeed||1,translateSpeed:w.translateSpeed||1,flipX:!!w.flipX,flipY:!!w.flipY,modes:m.modes,_ortho:w._ortho||w.projection&&w.projection.type==="orthographic"||!1,tick:function(){var _=l(),g=this.delay,c=_-2*g;m.idle(_-g),m.recalcMatrix(c),m.flush(_-(100+g*2));for(var A=!0,h=m.computedMatrix,R=0;R<16;++R)A=A&&k[R]===h[R],k[R]=h[R];var E=y.clientWidth===x&&y.clientHeight===T;return x=y.clientWidth,T=y.clientHeight,A?!E:(S=Math.exp(m.computedRadius[0]),!0)},lookAt:function(_,g,c){m.lookAt(m.lastT(),_,g,c)},rotate:function(_,g,c){m.rotate(m.lastT(),_,g,c)},pan:function(_,g,c){m.pan(m.lastT(),_,g,c)},translate:function(_,g,c){m.translate(m.lastT(),_,g,c)}};return Object.defineProperties(d,{matrix:{get:function(){return m.computedMatrix},set:function(_){return m.setMatrix(m.lastT(),_),m.computedMatrix},enumerable:!0},mode:{get:function(){return m.getMode()},set:function(_){var g=m.computedUp.slice(),c=m.computedEye.slice(),A=m.computedCenter.slice();if(m.setMode(_),_==="turntable"){var h=l();m._active.lookAt(h,c,A,g),m._active.lookAt(h+500,c,A,[0,0,1]),m._active.flush(h)}return m.getMode()},enumerable:!0},center:{get:function(){return m.computedCenter},set:function(_){return m.lookAt(m.lastT(),null,_),m.computedCenter},enumerable:!0},eye:{get:function(){return m.computedEye},set:function(_){return m.lookAt(m.lastT(),_),m.computedEye},enumerable:!0},up:{get:function(){return m.computedUp},set:function(_){return m.lookAt(m.lastT(),null,null,_),m.computedUp},enumerable:!0},distance:{get:function(){return S},set:function(_){return m.setDistance(m.lastT(),_),_},enumerable:!0},distanceLimits:{get:function(){return m.getDistanceLimits(M)},set:function(_){return m.setDistanceLimits(_),_},enumerable:!0}}),y.addEventListener("contextmenu",function(_){return _.preventDefault(),!1}),d._lastX=-1,d._lastY=-1,d._lastMods={shift:!1,control:!1,alt:!1,meta:!1},d.enableMouseListeners=function(){d.mouseListener=s(y,_),y.addEventListener("touchstart",function(g){var c=v(g.changedTouches[0],y);_(0,c[0],c[1],d._lastMods),_(1,c[0],c[1],d._lastMods)},p?{passive:!0}:!1),y.addEventListener("touchmove",function(g){var c=v(g.changedTouches[0],y);_(1,c[0],c[1],d._lastMods),g.preventDefault()},p?{passive:!1}:!1),y.addEventListener("touchend",function(g){_(0,d._lastX,d._lastY,d._lastMods)},p?{passive:!0}:!1);function _(g,c,A,h){var R=d.keyBindingMode;if(R!==!1){var E=R==="rotate",D=R==="pan",N=R==="zoom",I=!!h.control,F=!!h.alt,L=!!h.shift,P=!!(g&1),O=!!(g&2),U=!!(g&4),X=1/y.clientHeight,j=X*(c-d._lastX),$=X*(A-d._lastY),Y=d.flipX?1:-1,q=d.flipY?1:-1,Z=Math.PI*d.rotateSpeed,ne=l();if(d._lastX!==-1&&d._lastY!==-1&&((E&&P&&!I&&!F&&!L||P&&!I&&!F&&L)&&m.rotate(ne,Y*Z*j,-q*Z*$,0),(D&&P&&!I&&!F&&!L||O||P&&I&&!F&&!L)&&m.pan(ne,-d.translateSpeed*j*S,d.translateSpeed*$*S,0),N&&P&&!I&&!F&&!L||U||P&&!I&&F&&!L)){var Q=-d.zoomSpeed*$/window.innerHeight*(ne-m.lastT())*100;m.pan(ne,0,0,S*(Math.exp(Q)-1))}return d._lastX=c,d._lastY=A,d._lastMods=h,!0}}d.wheelListener=f(y,function(g,c){if(d.keyBindingMode!==!1&&d.enableWheel){var A=d.flipX?1:-1,h=d.flipY?1:-1,R=l();if(Math.abs(g)>Math.abs(c))m.rotate(R,0,0,-g*A*Math.PI*d.rotateSpeed/window.innerWidth);else if(!d._ortho){var E=-d.zoomSpeed*h*c/window.innerHeight*(R-m.lastT())/20;m.pan(R,0,0,S*(Math.exp(E)-1))}}},!0)},d.enableMouseListeners(),d}},799:function(a,o,i){var l=i(3236),u=i(9405),s=l([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),f=l([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);a.exports=function(v){return u(v,s,f,null,[{name:"position",type:"vec2"}])}},4100:function(a,o,i){"use strict";var l=i(4437),u=i(3837),s=i(5445),f=i(4449),v=i(3589),p=i(2260),b=i(7169),y=i(351),w=i(4772),M=i(4040),m=i(799),k=i(9216)({tablet:!0,featureDetect:!0});a.exports={createScene:_,createCamera:l};function S(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function x(c,A){var h=null;try{h=c.getContext("webgl",A),h||(h=c.getContext("experimental-webgl",A))}catch(R){return null}return h}function T(c){var A=Math.round(Math.log(Math.abs(c))/Math.log(10));if(A<0){var h=Math.round(Math.pow(10,-A));return Math.ceil(c*h)/h}else if(A>0){var h=Math.round(Math.pow(10,A));return Math.ceil(c/h)*h}return Math.ceil(c)}function d(c){return typeof c=="boolean"?c:!0}function _(c){c=c||{},c.camera=c.camera||{};var A=c.canvas;if(!A)if(A=document.createElement("canvas"),c.container){var h=c.container;h.appendChild(A)}else document.body.appendChild(A);var R=c.gl;if(R||(c.glOptions&&(k=!!c.glOptions.preserveDrawingBuffer),R=x(A,c.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:k})),!R)throw new Error("webgl not supported");var E=c.bounds||[[-10,-10,-10],[10,10,10]],D=new S,N=p(R,R.drawingBufferWidth,R.drawingBufferHeight,{preferFloat:!k}),I=m(R),F=c.cameraObject&&c.cameraObject._ortho===!0||c.camera.projection&&c.camera.projection.type==="orthographic"||!1,L={eye:c.camera.eye||[2,0,0],center:c.camera.center||[0,0,0],up:c.camera.up||[0,1,0],zoomMin:c.camera.zoomMax||.1,zoomMax:c.camera.zoomMin||100,mode:c.camera.mode||"turntable",_ortho:F},P=c.axes||{},O=u(R,P);O.enable=!P.disable;var U=c.spikes||{},X=f(R,U),j=[],$=[],Y=[],q=[],Z=!0,ee=!0,ne=new Array(16),Q=new Array(16),oe={view:null,projection:ne,model:Q,_ortho:!1},ee=!0,G=[R.drawingBufferWidth,R.drawingBufferHeight],re=c.cameraObject||l(A,L),H={gl:R,contextLost:!1,pixelRatio:c.pixelRatio||1,canvas:A,selection:D,camera:re,axes:O,axesPixels:null,spikes:X,bounds:E,objects:j,shape:G,aspect:c.aspectRatio||[1,1,1],pickRadius:c.pickRadius||10,zNear:c.zNear||.01,zFar:c.zFar||1e3,fovy:c.fovy||Math.PI/4,clearColor:c.clearColor||[0,0,0,0],autoResize:d(c.autoResize),autoBounds:d(c.autoBounds),autoScale:!!c.autoScale,autoCenter:d(c.autoCenter),clipToBounds:d(c.clipToBounds),snapToData:!!c.snapToData,onselect:c.onselect||null,onrender:c.onrender||null,onclick:c.onclick||null,cameraParams:oe,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ce){this.aspect[0]=Ce.x,this.aspect[1]=Ce.y,this.aspect[2]=Ce.z,ee=!0},setBounds:function(Ce,Oe){this.bounds[0][Ce]=Oe.min,this.bounds[1][Ce]=Oe.max},setClearColor:function(Ce){this.clearColor=Ce},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},te=[R.drawingBufferWidth/H.pixelRatio|0,R.drawingBufferHeight/H.pixelRatio|0];function ue(){if(!H._stopped&&H.autoResize){var Ce=A.parentNode,Oe=1,Ue=1;Ce&&Ce!==document.body?(Oe=Ce.clientWidth,Ue=Ce.clientHeight):(Oe=window.innerWidth,Ue=window.innerHeight);var ge=Math.ceil(Oe*H.pixelRatio)|0,Te=Math.ceil(Ue*H.pixelRatio)|0;if(ge!==A.width||Te!==A.height){A.width=ge,A.height=Te;var ce=A.style;ce.position=ce.position||"absolute",ce.left="0px",ce.top="0px",ce.width=Oe+"px",ce.height=Ue+"px",Z=!0}}}H.autoResize&&ue(),window.addEventListener("resize",ue);function de(){for(var Ce=j.length,Oe=q.length,Ue=0;Ue<Oe;++Ue)Y[Ue]=0;e:for(var Ue=0;Ue<Ce;++Ue){var ge=j[Ue],Te=ge.pickSlots;if(!Te){$[Ue]=-1;continue}for(var ce=0;ce<Oe;++ce)if(Y[ce]+Te<255){$[Ue]=ce,ge.setPickBase(Y[ce]+1),Y[ce]+=Te;continue e}var ye=v(R,G);$[Ue]=Oe,q.push(ye),Y.push(Te),ge.setPickBase(1),Oe+=1}for(;Oe>0&&Y[Oe-1]===0;)Y.pop(),q.pop().dispose()}H.update=function(Ce){H._stopped||(Ce=Ce||{},Z=!0,ee=!0)},H.add=function(Ce){H._stopped||(Ce.axes=O,j.push(Ce),$.push(-1),Z=!0,ee=!0,de())},H.remove=function(Ce){if(!H._stopped){var Oe=j.indexOf(Ce);Oe<0||(j.splice(Oe,1),$.pop(),Z=!0,ee=!0,de())}},H.dispose=function(){if(!H._stopped&&(H._stopped=!0,window.removeEventListener("resize",ue),A.removeEventListener("webglcontextlost",Ee),H.mouseListener.enabled=!1,!H.contextLost)){O.dispose(),X.dispose();for(var Ce=0;Ce<j.length;++Ce)j[Ce].dispose();N.dispose();for(var Ce=0;Ce<q.length;++Ce)q[Ce].dispose();I.dispose(),R=null,O=null,X=null,j=[]}},H._mouseRotating=!1,H._prevButtons=0,H.enableMouseListeners=function(){H.mouseListener=y(A,function(Ce,Oe,Ue){if(!H._stopped){var ge=q.length,Te=j.length,ce=D.object;D.distance=1/0,D.mouse[0]=Oe,D.mouse[1]=Ue,D.object=null,D.screen=null,D.dataCoordinate=D.dataPosition=null;var ye=!1;if(Ce&&H._prevButtons)H._mouseRotating=!0;else{H._mouseRotating&&(ee=!0),H._mouseRotating=!1;for(var Le=0;Le<ge;++Le){var me=q[Le].query(Oe,te[1]-Ue-1,H.pickRadius);if(me){if(me.distance>D.distance)continue;for(var he=0;he<Te;++he){var be=j[he];if($[he]===Le){var Se=be.pick(me);Se&&(D.buttons=Ce,D.screen=me.coord,D.distance=me.distance,D.object=be,D.index=Se.distance,D.dataPosition=Se.position,D.dataCoordinate=Se.dataCoordinate,D.data=Se,ye=!0)}}}}}ce&&ce!==D.object&&(ce.highlight&&ce.highlight(null),Z=!0),D.object&&(D.object.highlight&&D.object.highlight(D.data),Z=!0),ye=ye||D.object!==ce,ye&&H.onselect&&H.onselect(D),Ce&1&&!(H._prevButtons&1)&&H.onclick&&H.onclick(D),H._prevButtons=Ce}})};function Ee(){if(H.contextLost)return!0;R.isContextLost()&&(H.contextLost=!0,H.mouseListener.enabled=!1,H.selection.object=null,H.oncontextloss&&H.oncontextloss())}A.addEventListener("webglcontextlost",Ee);function Me(){if(!Ee()){R.colorMask(!0,!0,!0,!0),R.depthMask(!0),R.disable(R.BLEND),R.enable(R.DEPTH_TEST),R.depthFunc(R.LEQUAL);for(var Ce=j.length,Oe=q.length,Ue=0;Ue<Oe;++Ue){var ge=q[Ue];ge.shape=te,ge.begin();for(var Te=0;Te<Ce;++Te)if($[Te]===Ue){var ce=j[Te];ce.drawPick&&(ce.pixelRatio=1,ce.drawPick(oe))}ge.end()}}}var ve=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Ae=[ve[0].slice(),ve[1].slice()];function ke(){if(!Ee()){ue();var Ce=H.camera.tick();oe.view=H.camera.matrix,Z=Z||Ce,ee=ee||Ce,O.pixelRatio=H.pixelRatio,X.pixelRatio=H.pixelRatio;var Oe=j.length,Ue=ve[0],ge=ve[1];Ue[0]=Ue[1]=Ue[2]=1/0,ge[0]=ge[1]=ge[2]=-1/0;for(var Te=0;Te<Oe;++Te){var ce=j[Te];ce.pixelRatio=H.pixelRatio,ce.axes=H.axes,Z=Z||!!ce.dirty,ee=ee||!!ce.dirty;var ye=ce.bounds;if(ye)for(var Le=ye[0],me=ye[1],he=0;he<3;++he)Ue[he]=Math.min(Ue[he],Le[he]),ge[he]=Math.max(ge[he],me[he])}var be=H.bounds;if(H.autoBounds)for(var he=0;he<3;++he){if(ge[he]<Ue[he])Ue[he]=-1,ge[he]=1;else{Ue[he]===ge[he]&&(Ue[he]-=1,ge[he]+=1);var Se=.05*(ge[he]-Ue[he]);Ue[he]=Ue[he]-Se,ge[he]=ge[he]+Se}be[0][he]=Ue[he],be[1][he]=ge[he]}for(var ze=!1,he=0;he<3;++he)ze=ze||Ae[0][he]!==be[0][he]||Ae[1][he]!==be[1][he],Ae[0][he]=be[0][he],Ae[1][he]=be[1][he];if(ee=ee||ze,Z=Z||ze,!!Z){if(ze){for(var Fe=[0,0,0],Te=0;Te<3;++Te)Fe[Te]=T((be[1][Te]-be[0][Te])/10);O.autoTicks?O.update({bounds:be,tickSpacing:Fe}):O.update({bounds:be})}var Ze=R.drawingBufferWidth,Ye=R.drawingBufferHeight;G[0]=Ze,G[1]=Ye,te[0]=Math.max(Ze/H.pixelRatio,1)|0,te[1]=Math.max(Ye/H.pixelRatio,1)|0,g(H,F);for(var Te=0;Te<Oe;++Te){var ce=j[Te];ce.axesBounds=be,H.clipToBounds&&(ce.clipBounds=be)}D.object&&(H.snapToData?X.position=D.dataCoordinate:X.position=D.dataPosition,X.bounds=be),ee&&(ee=!1,Me()),H.axesPixels=s(H.axes,oe,Ze,Ye),H.onrender&&H.onrender(),R.bindFramebuffer(R.FRAMEBUFFER,null),R.viewport(0,0,Ze,Ye),H.clearRGBA(),R.depthMask(!0),R.colorMask(!0,!0,!0,!0),R.enable(R.DEPTH_TEST),R.depthFunc(R.LEQUAL),R.disable(R.BLEND),R.disable(R.CULL_FACE);var Ge=!1;O.enable&&(Ge=Ge||O.isTransparent(),O.draw(oe)),X.axes=O,D.object&&X.draw(oe),R.disable(R.CULL_FACE);for(var Te=0;Te<Oe;++Te){var ce=j[Te];ce.axes=O,ce.pixelRatio=H.pixelRatio,ce.isOpaque&&ce.isOpaque()&&ce.draw(oe),ce.isTransparent&&ce.isTransparent()&&(Ge=!0)}if(Ge){N.shape=G,N.bind(),R.clear(R.DEPTH_BUFFER_BIT),R.colorMask(!1,!1,!1,!1),R.depthMask(!0),R.depthFunc(R.LESS),O.enable&&O.isTransparent()&&O.drawTransparent(oe);for(var Te=0;Te<Oe;++Te){var ce=j[Te];ce.isOpaque&&ce.isOpaque()&&ce.draw(oe)}R.enable(R.BLEND),R.blendEquation(R.FUNC_ADD),R.blendFunc(R.ONE,R.ONE_MINUS_SRC_ALPHA),R.colorMask(!0,!0,!0,!0),R.depthMask(!1),R.clearColor(0,0,0,0),R.clear(R.COLOR_BUFFER_BIT),O.isTransparent()&&O.drawTransparent(oe);for(var Te=0;Te<Oe;++Te){var ce=j[Te];ce.isTransparent&&ce.isTransparent()&&ce.drawTransparent(oe)}R.bindFramebuffer(R.FRAMEBUFFER,null),R.blendFunc(R.ONE,R.ONE_MINUS_SRC_ALPHA),R.disable(R.DEPTH_TEST),I.bind(),N.color[0].bind(0),I.uniforms.accumBuffer=0,b(R),R.disable(R.BLEND)}Z=!1;for(var Te=0;Te<Oe;++Te)j[Te].dirty=!1}}}function De(){H._stopped||H.contextLost||(ke(),requestAnimationFrame(De))}return H.enableMouseListeners(),De(),H.redraw=function(){H._stopped||(Z=!0,ke())},H}function g(c,A){var h=c.bounds,R=c.cameraParams,E=R.projection,D=R.model,N=c.gl.drawingBufferWidth,I=c.gl.drawingBufferHeight,F=c.zNear,L=c.zFar,P=c.fovy,O=N/I;A?(M(E,-O,O,-1,1,F,L),R._ortho=!0):(w(E,P,O,F,L),R._ortho=!1);for(var U=0;U<16;++U)D[U]=0;D[15]=1;for(var X=0,U=0;U<3;++U)X=Math.max(X,h[1][U]-h[0][U]);for(var U=0;U<3;++U)c.autoScale?D[5*U]=c.aspect[U]/(h[1][U]-h[0][U]):D[5*U]=1/X,c.autoCenter&&(D[12+U]=-D[5*U]*.5*(h[0][U]+h[1][U]))}},783:function(a){a.exports=o;function o(i,l,u,s){var f=l[0],v=l[1],p=l[2],b=l[3],y=u[0],w=u[1],M=u[2],m=u[3],k,S,x,T,d;return S=f*y+v*w+p*M+b*m,S<0&&(S=-S,y=-y,w=-w,M=-M,m=-m),1-S>1e-6?(k=Math.acos(S),x=Math.sin(k),T=Math.sin((1-s)*k)/x,d=Math.sin(s*k)/x):(T=1-s,d=s),i[0]=T*f+d*y,i[1]=T*v+d*w,i[2]=T*p+d*M,i[3]=T*b+d*m,i}},5964:function(a){"use strict";a.exports=function(o){return!o&&o!==0?"":o.toString()}},9366:function(a,o,i){"use strict";var l=i(4359);a.exports=s;var u={};function s(f,v,p){var b=[v.style,v.weight,v.variant,v.family].join("_"),y=u[b];if(y||(y=u[b]={}),f in y)return y[f];var w={textAlign:"center",textBaseline:"middle",lineHeight:1,font:v.family,fontStyle:v.style,fontWeight:v.weight,fontVariant:v.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};w.triangles=!0;var M=l(f,w);w.triangles=!1;var m=l(f,w),k,S;if(p&&p!==1){for(k=0;k<M.positions.length;++k)for(S=0;S<M.positions[k].length;++S)M.positions[k][S]/=p;for(k=0;k<m.positions.length;++k)for(S=0;S<m.positions[k].length;++S)m.positions[k][S]/=p}var x=[[1/0,1/0],[-1/0,-1/0]],T=m.positions.length;for(k=0;k<T;++k){var d=m.positions[k];for(S=0;S<2;++S)x[0][S]=Math.min(x[0][S],d[S]),x[1][S]=Math.max(x[1][S],d[S])}return y[f]=[M,m,x]}},1283:function(a,o,i){var l=i(9405),u=i(3236),s=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),f=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),v=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * (view * (model * vec4(position, 1)));
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * (view * (model * vec4(dataPosition, 1)));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),p=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),b=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),y=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],w={vertex:s,fragment:p,attributes:y},M={vertex:f,fragment:p,attributes:y},m={vertex:v,fragment:p,attributes:y},k={vertex:s,fragment:b,attributes:y},S={vertex:f,fragment:b,attributes:y},x={vertex:v,fragment:b,attributes:y};function T(d,_){var g=l(d,_),c=g.attributes;return c.position.location=0,c.color.location=1,c.glyph.location=2,c.id.location=3,g}o.createPerspective=function(d){return T(d,w)},o.createOrtho=function(d){return T(d,M)},o.createProject=function(d){return T(d,m)},o.createPickPerspective=function(d){return T(d,k)},o.createPickOrtho=function(d){return T(d,S)},o.createPickProject=function(d){return T(d,x)}},8418:function(a,o,i){"use strict";var l=i(5219),u=i(2762),s=i(8116),f=i(1888),v=i(6760),p=i(1283),b=i(9366),y=i(5964),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],M=ArrayBuffer,m=DataView;function k(Q){return M.isView(Q)&&!(Q instanceof m)}function S(Q){return Array.isArray(Q)||k(Q)}a.exports=ne;function x(Q,oe){var ee=Q[0],G=Q[1],re=Q[2],H=Q[3];return Q[0]=oe[0]*ee+oe[4]*G+oe[8]*re+oe[12]*H,Q[1]=oe[1]*ee+oe[5]*G+oe[9]*re+oe[13]*H,Q[2]=oe[2]*ee+oe[6]*G+oe[10]*re+oe[14]*H,Q[3]=oe[3]*ee+oe[7]*G+oe[11]*re+oe[15]*H,Q}function T(Q,oe,ee,G){return x(G,G,ee),x(G,G,oe),x(G,G,Q)}function d(Q,oe){this.index=Q,this.dataCoordinate=this.position=oe}function _(Q){return Q===!0||Q>1?1:Q}function g(Q,oe,ee,G,re,H,te,ue,de,Ee,Me,ve){this.gl=Q,this.pixelRatio=1,this.shader=oe,this.orthoShader=ee,this.projectShader=G,this.pointBuffer=re,this.colorBuffer=H,this.glyphBuffer=te,this.idBuffer=ue,this.vao=de,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=Ee,this.pickOrthoShader=Me,this.pickProjectShader=ve,this.points=[],this._selectResult=new d(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var c=g.prototype;c.pickSlots=1,c.setPickBase=function(Q){this.pickId=Q},c.isTransparent=function(){if(this.hasAlpha)return!0;for(var Q=0;Q<3;++Q)if(this.axesProject[Q]&&this.projectHasAlpha)return!0;return!1},c.isOpaque=function(){if(!this.hasAlpha)return!0;for(var Q=0;Q<3;++Q)if(this.axesProject[Q]&&!this.projectHasAlpha)return!0;return!1};var A=[0,0],h=[0,0,0],R=[0,0,0],E=[0,0,0,1],D=[0,0,0,1],N=w.slice(),I=[0,0,0],F=[[0,0,0],[0,0,0]];function L(Q){return Q[0]=Q[1]=Q[2]=0,Q}function P(Q,oe){return Q[0]=oe[0],Q[1]=oe[1],Q[2]=oe[2],Q[3]=1,Q}function O(Q,oe,ee,G){return Q[0]=oe[0],Q[1]=oe[1],Q[2]=oe[2],Q[ee]=G,Q}function U(Q){for(var oe=F,ee=0;ee<2;++ee)for(var G=0;G<3;++G)oe[ee][G]=Math.max(Math.min(Q[ee][G],1e8),-1e8);return oe}function X(Q,oe,ee,G){var re=oe.axesProject,H=oe.gl,te=Q.uniforms,ue=ee.model||w,de=ee.view||w,Ee=ee.projection||w,Me=oe.axesBounds,ve=U(oe.clipBounds),Ae;oe.axes&&oe.axes.lastCubeProps?Ae=oe.axes.lastCubeProps.axis:Ae=[1,1,1],A[0]=2/H.drawingBufferWidth,A[1]=2/H.drawingBufferHeight,Q.bind(),te.view=de,te.projection=Ee,te.screenSize=A,te.highlightId=oe.highlightId,te.highlightScale=oe.highlightScale,te.clipBounds=ve,te.pickGroup=oe.pickId/255,te.pixelRatio=G;for(var ke=0;ke<3;++ke)if(re[ke]){te.scale=oe.projectScale[ke],te.opacity=oe.projectOpacity[ke];for(var De=N,Ce=0;Ce<16;++Ce)De[Ce]=0;for(var Ce=0;Ce<4;++Ce)De[5*Ce]=1;De[5*ke]=0,Ae[ke]<0?De[12+ke]=Me[0][ke]:De[12+ke]=Me[1][ke],v(De,ue,De),te.model=De;var Oe=(ke+1)%3,Ue=(ke+2)%3,ge=L(h),Te=L(R);ge[Oe]=1,Te[Ue]=1;var ce=T(Ee,de,ue,P(E,ge)),ye=T(Ee,de,ue,P(D,Te));if(Math.abs(ce[1])>Math.abs(ye[1])){var Le=ce;ce=ye,ye=Le,Le=ge,ge=Te,Te=Le;var me=Oe;Oe=Ue,Ue=me}ce[0]<0&&(ge[Oe]=-1),ye[1]>0&&(Te[Ue]=-1);for(var he=0,be=0,Ce=0;Ce<4;++Ce)he+=Math.pow(ue[4*Oe+Ce],2),be+=Math.pow(ue[4*Ue+Ce],2);ge[Oe]/=Math.sqrt(he),Te[Ue]/=Math.sqrt(be),te.axes[0]=ge,te.axes[1]=Te,te.fragClipBounds[0]=O(I,ve[0],ke,-1e8),te.fragClipBounds[1]=O(I,ve[1],ke,1e8),oe.vao.bind(),oe.vao.draw(H.TRIANGLES,oe.vertexCount),oe.lineWidth>0&&(H.lineWidth(oe.lineWidth*G),oe.vao.draw(H.LINES,oe.lineVertexCount,oe.vertexCount)),oe.vao.unbind()}}var j=[-1e8,-1e8,-1e8],$=[1e8,1e8,1e8],Y=[j,$];function q(Q,oe,ee,G,re,H,te){var ue=ee.gl;if((H===ee.projectHasAlpha||te)&&X(oe,ee,G,re),H===ee.hasAlpha||te){Q.bind();var de=Q.uniforms;de.model=G.model||w,de.view=G.view||w,de.projection=G.projection||w,A[0]=2/ue.drawingBufferWidth,A[1]=2/ue.drawingBufferHeight,de.screenSize=A,de.highlightId=ee.highlightId,de.highlightScale=ee.highlightScale,de.fragClipBounds=Y,de.clipBounds=ee.axes.bounds,de.opacity=ee.opacity,de.pickGroup=ee.pickId/255,de.pixelRatio=re,ee.vao.bind(),ee.vao.draw(ue.TRIANGLES,ee.vertexCount),ee.lineWidth>0&&(ue.lineWidth(ee.lineWidth*re),ee.vao.draw(ue.LINES,ee.lineVertexCount,ee.vertexCount)),ee.vao.unbind()}}c.draw=function(Q){var oe=this.useOrtho?this.orthoShader:this.shader;q(oe,this.projectShader,this,Q,this.pixelRatio,!1,!1)},c.drawTransparent=function(Q){var oe=this.useOrtho?this.orthoShader:this.shader;q(oe,this.projectShader,this,Q,this.pixelRatio,!0,!1)},c.drawPick=function(Q){var oe=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;q(oe,this.pickProjectShader,this,Q,1,!0,!0)},c.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;var oe=Q.value[2]+(Q.value[1]<<8)+(Q.value[0]<<16);if(oe>=this.pointCount||oe<0)return null;var ee=this.points[oe],G=this._selectResult;G.index=oe;for(var re=0;re<3;++re)G.position[re]=G.dataCoordinate[re]=ee[re];return G},c.highlight=function(Q){if(!Q)this.highlightId=[1,1,1,1];else{var oe=Q.index,ee=oe&255,G=oe>>8&255,re=oe>>16&255;this.highlightId=[ee/255,G/255,re/255,0]}};function Z(Q,oe,ee,G){var re;S(Q)?oe<Q.length?re=Q[oe]:re=void 0:re=Q,re=y(re);var H=!0;l(re)&&(re="\u25BC",H=!1),ee||(ee={});var te=ee.family;S(te)&&(te=te[oe]),te||(te="normal");var ue=ee.weight;S(ue)&&(ue=ue[oe]),ue||(ue="normal");var de=ee.style;S(de)&&(de=de[oe]),de||(de="normal");var Ee=ee.variant;S(Ee)&&(Ee=Ee[oe]),Ee||(Ee="normal");var Me=b(re,{family:te,weight:ue,style:de,variant:Ee},G),Me=b(re,ee,G);return{mesh:Me[0],lines:Me[1],bounds:Me[2],visible:H}}c.update=function(Q){if(Q=Q||{},"perspective"in Q&&(this.useOrtho=!Q.perspective),"orthographic"in Q&&(this.useOrtho=!!Q.orthographic),"lineWidth"in Q&&(this.lineWidth=Q.lineWidth),"project"in Q)if(S(Q.project))this.axesProject=Q.project;else{var oe=!!Q.project;this.axesProject=[oe,oe,oe]}if("projectScale"in Q)if(S(Q.projectScale))this.projectScale=Q.projectScale.slice();else{var ee=+Q.projectScale;this.projectScale=[ee,ee,ee]}if(this.projectHasAlpha=!1,"projectOpacity"in Q){if(S(Q.projectOpacity))this.projectOpacity=Q.projectOpacity.slice();else{var ee=+Q.projectOpacity;this.projectOpacity=[ee,ee,ee]}for(var G=0;G<3;++G)this.projectOpacity[G]=_(this.projectOpacity[G]),this.projectOpacity[G]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in Q&&(this.opacity=_(Q.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var re=Q.position,H={family:Q.font||"normal",style:Q.fontStyle||"normal",weight:Q.fontWeight||"normal",variant:Q.fontVariant||"normal"},te=Q.alignment||[0,0],ue,de;if(te.length===2)ue=te[0],de=te[1];else{ue=[],de=[];for(var G=0;G<te.length;++G)ue[G]=te[G][0],de[G]=te[G][1]}var Ee=[1/0,1/0,1/0],Me=[-1/0,-1/0,-1/0],ve=Q.glyph,Ae=Q.color,ke=Q.size,De=Q.angle,Ce=Q.lineColor,Oe=-1,Ue=0,ge=0,Te=0;if(re.length){Te=re.length;e:for(var G=0;G<Te;++G){for(var ce=re[G],ye=0;ye<3;++ye)if(isNaN(ce[ye])||!isFinite(ce[ye]))continue e;var Le=Z(ve,G,H,this.pixelRatio),me=Le.mesh,he=Le.lines,be=Le.bounds;Ue+=me.cells.length*3,ge+=he.edges.length*2}}var Se=Ue+ge,ze=f.mallocFloat(3*Se),Fe=f.mallocFloat(4*Se),Ze=f.mallocFloat(2*Se),Ye=f.mallocUint32(Se);if(Se>0){var Ge=0,We=Ue,we=[0,0,0,1],Pe=[0,0,0,1],Qe=S(Ae)&&S(Ae[0]),Ve=S(Ce)&&S(Ce[0]);e:for(var G=0;G<Te;++G){Oe+=1;for(var ce=re[G],ye=0;ye<3;++ye){if(isNaN(ce[ye])||!isFinite(ce[ye]))continue e;Me[ye]=Math.max(Me[ye],ce[ye]),Ee[ye]=Math.min(Ee[ye],ce[ye])}var Le=Z(ve,G,H,this.pixelRatio),me=Le.mesh,he=Le.lines,be=Le.bounds,ar=Le.visible;if(!ar)we=[1,1,1,0];else if(S(Ae)){var se;if(Qe?G<Ae.length?se=Ae[G]:se=[0,0,0,0]:se=Ae,se.length===3){for(var ye=0;ye<3;++ye)we[ye]=se[ye];we[3]=1}else if(se.length===4){for(var ye=0;ye<4;++ye)we[ye]=se[ye];!this.hasAlpha&&se[3]<1&&(this.hasAlpha=!0)}}else we[0]=we[1]=we[2]=0,we[3]=1;if(!ar)Pe=[1,1,1,0];else if(S(Ce)){var se;if(Ve?G<Ce.length?se=Ce[G]:se=[0,0,0,0]:se=Ce,se.length===3){for(var ye=0;ye<3;++ye)Pe[ye]=se[ye];Pe[ye]=1}else if(se.length===4){for(var ye=0;ye<4;++ye)Pe[ye]=se[ye];!this.hasAlpha&&se[3]<1&&(this.hasAlpha=!0)}}else Pe[0]=Pe[1]=Pe[2]=0,Pe[3]=1;var K=.5;ar?S(ke)?G<ke.length?K=+ke[G]:K=12:ke?K=+ke:this.useOrtho&&(K=12):K=0;var ae=0;S(De)?G<De.length?ae=+De[G]:ae=0:De&&(ae=+De);for(var Re=Math.cos(ae),Be=Math.sin(ae),ce=re[G],ye=0;ye<3;++ye)Me[ye]=Math.max(Me[ye],ce[ye]),Ee[ye]=Math.min(Ee[ye],ce[ye]);var je=ue,nr=de,je=0;S(ue)?G<ue.length?je=ue[G]:je=0:ue&&(je=ue);var nr=0;S(de)?G<de.length?nr=de[G]:nr=0:de&&(nr=de),je*=je>0?1-be[0][0]:je<0?1+be[1][0]:1,nr*=nr>0?1-be[0][1]:nr<0?1+be[1][1]:1;for(var hr=[je,nr],ft=me.cells||[],Yr=me.positions||[],ye=0;ye<ft.length;++ye)for(var wr=ft[ye],Cr=0;Cr<3;++Cr){for(var Tr=0;Tr<3;++Tr)ze[3*Ge+Tr]=ce[Tr];for(var Tr=0;Tr<4;++Tr)Fe[4*Ge+Tr]=we[Tr];Ye[Ge]=Oe;var Ar=Yr[wr[Cr]];Ze[2*Ge]=K*(Re*Ar[0]-Be*Ar[1]+hr[0]),Ze[2*Ge+1]=K*(Be*Ar[0]+Re*Ar[1]+hr[1]),Ge+=1}for(var ft=he.edges,Yr=he.positions,ye=0;ye<ft.length;++ye)for(var wr=ft[ye],Cr=0;Cr<2;++Cr){for(var Tr=0;Tr<3;++Tr)ze[3*We+Tr]=ce[Tr];for(var Tr=0;Tr<4;++Tr)Fe[4*We+Tr]=Pe[Tr];Ye[We]=Oe;var Ar=Yr[wr[Cr]];Ze[2*We]=K*(Re*Ar[0]-Be*Ar[1]+hr[0]),Ze[2*We+1]=K*(Be*Ar[0]+Re*Ar[1]+hr[1]),We+=1}}}this.bounds=[Ee,Me],this.points=re,this.pointCount=re.length,this.vertexCount=Ue,this.lineVertexCount=ge,this.pointBuffer.update(ze),this.colorBuffer.update(Fe),this.glyphBuffer.update(Ze),this.idBuffer.update(Ye),f.free(ze),f.free(Fe),f.free(Ze),f.free(Ye)},c.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function ne(Q){var oe=Q.gl,ee=p.createPerspective(oe),G=p.createOrtho(oe),re=p.createProject(oe),H=p.createPickPerspective(oe),te=p.createPickOrtho(oe),ue=p.createPickProject(oe),de=u(oe),Ee=u(oe),Me=u(oe),ve=u(oe),Ae=s(oe,[{buffer:de,size:3,type:oe.FLOAT},{buffer:Ee,size:4,type:oe.FLOAT},{buffer:Me,size:2,type:oe.FLOAT},{buffer:ve,size:4,type:oe.UNSIGNED_BYTE,normalized:!0}]),ke=new g(oe,ee,G,re,de,Ee,Me,ve,Ae,H,te,ue);return ke.update(Q),ke}},3589:function(a,o,i){"use strict";a.exports=w;var l=i(2260),u=i(1888),s=i(9618),f=i(8828).nextPow2,v=function(M,m,k){for(var S=1e8,x=-1,T=-1,d=M.shape[0],_=M.shape[1],g=0;g<d;g++)for(var c=0;c<_;c++){var A=M.get(g,c,0),h=M.get(g,c,1),R=M.get(g,c,2),E=M.get(g,c,3);if(A<255||h<255||R<255||E<255){var D=m-g,N=k-c,I=D*D+N*N;I<S&&(S=I,x=g,T=c)}}return[x,T,S]};function p(M,m,k,S,x){this.coord=[M,m],this.id=k,this.value=S,this.distance=x}function b(M,m,k){this.gl=M,this.fbo=m,this.buffer=k,this._readTimeout=null;var S=this;this._readCallback=function(){S.gl&&(m.bind(),M.readPixels(0,0,m.shape[0],m.shape[1],M.RGBA,M.UNSIGNED_BYTE,S.buffer),S._readTimeout=null)}}var y=b.prototype;Object.defineProperty(y,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(M){if(this.gl){this.fbo.shape=M;var m=this.fbo.shape[0],k=this.fbo.shape[1];if(k*m*4>this.buffer.length){u.free(this.buffer);for(var S=this.buffer=u.mallocUint8(f(k*m*4)),x=0;x<k*m*4;++x)S[x]=255}return M}}}),y.begin=function(){var M=this.gl,m=this.shape;M&&(this.fbo.bind(),M.clearColor(1,1,1,1),M.clear(M.COLOR_BUFFER_BIT|M.DEPTH_BUFFER_BIT))},y.end=function(){var M=this.gl;M&&(M.bindFramebuffer(M.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},y.query=function(M,m,k){if(!this.gl)return null;var S=this.fbo.shape.slice();M=M|0,m=m|0,typeof k!="number"&&(k=1);var x=Math.min(Math.max(M-k,0),S[0])|0,T=Math.min(Math.max(M+k,0),S[0])|0,d=Math.min(Math.max(m-k,0),S[1])|0,_=Math.min(Math.max(m+k,0),S[1])|0;if(T<=x||_<=d)return null;var g=[T-x,_-d],c=s(this.buffer,[g[0],g[1],4],[4,S[0]*4,1],4*(x+S[0]*d)),A=v(c.hi(g[0],g[1],1),k,k),h=A[0],R=A[1];if(h<0||Math.pow(this.radius,2)<A[2])return null;var E=c.get(h,R,0),D=c.get(h,R,1),N=c.get(h,R,2),I=c.get(h,R,3);return new p(h+x|0,R+d|0,E,[D,N,I],Math.sqrt(A[2]))},y.dispose=function(){this.gl&&(this.fbo.dispose(),u.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function w(M,m){var k=m[0],S=m[1],x={},T=l(M,k,S,x),d=u.mallocUint8(k*S*4);return new b(M,T,d)}},9405:function(a,o,i){"use strict";var l=i(3327),u=i(8731),s=i(216),f=i(5091),v=i(2145),p=i(8866);function b(m){this.gl=m,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var y=b.prototype;y.bind=function(){this.program||this._relink();var m,k=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),S=this.gl.lastAttribCount;if(k>S)for(m=S;m<k;m++)this.gl.enableVertexAttribArray(m);else if(S>k)for(m=k;m<S;m++)this.gl.disableVertexAttribArray(m);this.gl.lastAttribCount=k,this.gl.useProgram(this.program)},y.dispose=function(){for(var m=this.gl.lastAttribCount,k=0;k<m;k++)this.gl.disableVertexAttribArray(k);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function w(m,k){return m.name<k.name?-1:1}y.update=function(m,k,S,x){if(!k||arguments.length===1){var T=m;m=T.vertex,k=T.fragment,S=T.uniforms,x=T.attributes}var d=this,_=d.gl,g=d._vref;d._vref=f.shader(_,_.VERTEX_SHADER,m),g&&g.dispose(),d.vertShader=d._vref.shader;var c=this._fref;if(d._fref=f.shader(_,_.FRAGMENT_SHADER,k),c&&c.dispose(),d.fragShader=d._fref.shader,!S||!x){var A=_.createProgram();if(_.attachShader(A,d.fragShader),_.attachShader(A,d.vertShader),_.linkProgram(A),!_.getProgramParameter(A,_.LINK_STATUS)){var h=_.getProgramInfoLog(A);throw new p(h,"Error linking program:"+h)}S=S||v.uniforms(_,A),x=x||v.attributes(_,A),_.deleteProgram(A)}x=x.slice(),x.sort(w);var R=[],E=[],D=[],N;for(N=0;N<x.length;++N){var I=x[N];if(I.type.indexOf("mat")>=0){for(var F=I.type.charAt(I.type.length-1)|0,L=new Array(F),P=0;P<F;++P)L[P]=D.length,E.push(I.name+"["+P+"]"),typeof I.location=="number"?D.push(I.location+P):Array.isArray(I.location)&&I.location.length===F&&typeof I.location[P]=="number"?D.push(I.location[P]|0):D.push(-1);R.push({name:I.name,type:I.type,locations:L})}else R.push({name:I.name,type:I.type,locations:[D.length]}),E.push(I.name),typeof I.location=="number"?D.push(I.location|0):D.push(-1)}var O=0;for(N=0;N<D.length;++N)if(D[N]<0){for(;D.indexOf(O)>=0;)O+=1;D[N]=O}var U=new Array(S.length);function X(){d.program=f.program(_,d._vref,d._fref,E,D);for(var j=0;j<S.length;++j)U[j]=_.getUniformLocation(d.program,S[j].name)}X(),d._relink=X,d.types={uniforms:s(S),attributes:s(x)},d.attributes=u(_,d,R,D),Object.defineProperty(d,"uniforms",l(_,d,S,U))};function M(m,k,S,x,T){var d=new b(m);return d.update(k,S,x,T),d}a.exports=M},8866:function(a){function o(i,l,u){this.shortMessage=l||"",this.longMessage=u||"",this.rawError=i||"",this.message="gl-shader: "+(l||i||"")+(u?`
`+u:""),this.stack=new Error().stack}o.prototype=new Error,o.prototype.name="GLError",o.prototype.constructor=o,a.exports=o},8731:function(a,o,i){"use strict";a.exports=b;var l=i(8866);function u(y,w,M,m,k,S){this._gl=y,this._wrapper=w,this._index=M,this._locations=m,this._dimension=k,this._constFunc=S}var s=u.prototype;s.pointer=function(w,M,m,k){var S=this,x=S._gl,T=S._locations[S._index];x.vertexAttribPointer(T,S._dimension,w||x.FLOAT,!!M,m||0,k||0),x.enableVertexAttribArray(T)},s.set=function(y,w,M,m){return this._constFunc(this._locations[this._index],y,w,M,m)},Object.defineProperty(s,"location",{get:function(){return this._locations[this._index]},set:function(y){return y!==this._locations[this._index]&&(this._locations[this._index]=y|0,this._wrapper.program=null),y|0}});var f=[function(y,w,M){return M.length===void 0?y.vertexAttrib1f(w,M):y.vertexAttrib1fv(w,M)},function(y,w,M,m){return M.length===void 0?y.vertexAttrib2f(w,M,m):y.vertexAttrib2fv(w,M)},function(y,w,M,m,k){return M.length===void 0?y.vertexAttrib3f(w,M,m,k):y.vertexAttrib3fv(w,M)},function(y,w,M,m,k,S){return M.length===void 0?y.vertexAttrib4f(w,M,m,k,S):y.vertexAttrib4fv(w,M)}];function v(y,w,M,m,k,S,x){var T=f[k],d=new u(y,w,M,m,k,T);Object.defineProperty(S,x,{set:function(_){return y.disableVertexAttribArray(m[M]),T(y,m[M],_),_},get:function(){return d},enumerable:!0})}function p(y,w,M,m,k,S,x){for(var T=new Array(k),d=new Array(k),_=0;_<k;++_)v(y,w,M[_],m,k,T,_),d[_]=T[_];Object.defineProperty(T,"location",{set:function(A){if(Array.isArray(A))for(var h=0;h<k;++h)d[h].location=A[h];else for(var h=0;h<k;++h)d[h].location=A+h;return A},get:function(){for(var A=new Array(k),h=0;h<k;++h)A[h]=m[M[h]];return A},enumerable:!0}),T.pointer=function(A,h,R,E){A=A||y.FLOAT,h=!!h,R=R||k*k,E=E||0;for(var D=0;D<k;++D){var N=m[M[D]];y.vertexAttribPointer(N,k,A,h,R,E+D*k),y.enableVertexAttribArray(N)}};var g=new Array(k),c=y["vertexAttrib"+k+"fv"];Object.defineProperty(S,x,{set:function(A){for(var h=0;h<k;++h){var R=m[M[h]];if(y.disableVertexAttribArray(R),Array.isArray(A[0]))c.call(y,R,A[h]);else{for(var E=0;E<k;++E)g[E]=A[k*h+E];c.call(y,R,g)}}return A},get:function(){return T},enumerable:!0})}function b(y,w,M,m){for(var k={},S=0,x=M.length;S<x;++S){var T=M[S],d=T.name,_=T.type,g=T.locations;switch(_){case"bool":case"int":case"float":v(y,w,g[0],m,1,k,d);break;default:if(_.indexOf("vec")>=0){var c=_.charCodeAt(_.length-1)-48;if(c<2||c>4)throw new l("","Invalid data type for attribute "+d+": "+_);v(y,w,g[0],m,c,k,d)}else if(_.indexOf("mat")>=0){var c=_.charCodeAt(_.length-1)-48;if(c<2||c>4)throw new l("","Invalid data type for attribute "+d+": "+_);p(y,w,g,m,c,k,d)}else throw new l("","Unknown data type for attribute "+d+": "+_);break}}return k}},3327:function(a,o,i){"use strict";var l=i(216),u=i(8866);a.exports=v;function s(p){return function(){return p}}function f(p,b){for(var y=new Array(p),w=0;w<p;++w)y[w]=b;return y}function v(p,b,y,w){function M(_){return function(g,c,A){return g.getUniform(c.program,A[_])}}function m(_){return function(c){for(var A=k("",_),h=0;h<A.length;++h){var R=A[h],E=R[0],D=R[1];if(w[D]){var N=c;if(typeof E=="string"&&(E.indexOf(".")===0||E.indexOf("[")===0)){var I=E;if(E.indexOf(".")===0&&(I=E.slice(1)),I.indexOf("]")===I.length-1){var F=I.indexOf("["),L=I.slice(0,F),P=I.slice(F+1,I.length-1);N=L?c[L][P]:c[P]}else N=c[I]}var O=y[D].type,U;switch(O){case"bool":case"int":case"sampler2D":case"samplerCube":p.uniform1i(w[D],N);break;case"float":p.uniform1f(w[D],N);break;default:var X=O.indexOf("vec");if(0<=X&&X<=1&&O.length===4+X){if(U=O.charCodeAt(O.length-1)-48,U<2||U>4)throw new u("","Invalid data type");switch(O.charAt(0)){case"b":case"i":p["uniform"+U+"iv"](w[D],N);break;case"v":p["uniform"+U+"fv"](w[D],N);break;default:throw new u("","Unrecognized data type for vector "+name+": "+O)}}else if(O.indexOf("mat")===0&&O.length===4){if(U=O.charCodeAt(O.length-1)-48,U<2||U>4)throw new u("","Invalid uniform dimension type for matrix "+name+": "+O);p["uniformMatrix"+U+"fv"](w[D],!1,N);break}else throw new u("","Unknown uniform data type for "+name+": "+O)}}}}}function k(_,g){if(typeof g!="object")return[[_,g]];var c=[];for(var A in g){var h=g[A],R=_;parseInt(A)+""===A?R+="["+A+"]":R+="."+A,typeof h=="object"?c.push.apply(c,k(R,h)):c.push([R,h])}return c}function S(_){switch(_){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var g=_.indexOf("vec");if(0<=g&&g<=1&&_.length===4+g){var c=_.charCodeAt(_.length-1)-48;if(c<2||c>4)throw new u("","Invalid data type");return _.charAt(0)==="b"?f(c,!1):f(c,0)}else if(_.indexOf("mat")===0&&_.length===4){var c=_.charCodeAt(_.length-1)-48;if(c<2||c>4)throw new u("","Invalid uniform dimension type for matrix "+name+": "+_);return f(c*c,0)}else throw new u("","Unknown uniform data type for "+name+": "+_)}}function x(_,g,c){if(typeof c=="object"){var A=T(c);Object.defineProperty(_,g,{get:s(A),set:m(c),enumerable:!0,configurable:!1})}else w[c]?Object.defineProperty(_,g,{get:M(c),set:m(c),enumerable:!0,configurable:!1}):_[g]=S(y[c].type)}function T(_){var g;if(Array.isArray(_)){g=new Array(_.length);for(var c=0;c<_.length;++c)x(g,c,_[c])}else{g={};for(var A in _)x(g,A,_[A])}return g}var d=l(y,!0);return{get:s(T(d)),set:m(d),enumerable:!0,configurable:!0}}},216:function(a){"use strict";a.exports=o;function o(i,l){for(var u={},s=0;s<i.length;++s)for(var f=i[s].name,v=f.split("."),p=u,b=0;b<v.length;++b){var y=v[b].split("[");if(y.length>1){y[0]in p||(p[y[0]]=[]),p=p[y[0]];for(var w=1;w<y.length;++w){var M=parseInt(y[w]);w<y.length-1||b<v.length-1?(M in p||(w<y.length-1?p[M]=[]:p[M]={}),p=p[M]):l?p[M]=s:p[M]=i[s].type}}else b<v.length-1?(y[0]in p||(p[y[0]]={}),p=p[y[0]]):l?p[y[0]]=s:p[y[0]]=i[s].type}return u}},2145:function(a,o){"use strict";o.uniforms=s,o.attributes=f;var i={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},l=null;function u(v,p){if(!l){var b=Object.keys(i);l={};for(var y=0;y<b.length;++y){var w=b[y];l[v[w]]=i[w]}}return l[p]}function s(v,p){for(var b=v.getProgramParameter(p,v.ACTIVE_UNIFORMS),y=[],w=0;w<b;++w){var M=v.getActiveUniform(p,w);if(M){var m=u(v,M.type);if(M.size>1)for(var k=0;k<M.size;++k)y.push({name:M.name.replace("[0]","["+k+"]"),type:m});else y.push({name:M.name,type:m})}}return y}function f(v,p){for(var b=v.getProgramParameter(p,v.ACTIVE_ATTRIBUTES),y=[],w=0;w<b;++w){var M=v.getActiveAttrib(p,w);M&&y.push({name:M.name,type:u(v,M.type)})}return y}},5091:function(a,o,i){"use strict";o.shader=k,o.program=S;var l=i(8866),u=i(2992),s=typeof WeakMap=="undefined"?i(606):WeakMap,f=new s,v=0;function p(x,T,d,_,g,c,A){this.id=x,this.src=T,this.type=d,this.shader=_,this.count=c,this.programs=[],this.cache=A}p.prototype.dispose=function(){if(--this.count===0){for(var x=this.cache,T=x.gl,d=this.programs,_=0,g=d.length;_<g;++_){var c=x.programs[d[_]];c&&(delete x.programs[_],T.deleteProgram(c))}T.deleteShader(this.shader),delete x.shaders[this.type===T.FRAGMENT_SHADER|0][this.src]}};function b(x){this.gl=x,this.shaders=[{},{}],this.programs={}}var y=b.prototype;function w(x,T,d){var _=x.createShader(T);if(x.shaderSource(_,d),x.compileShader(_),!x.getShaderParameter(_,x.COMPILE_STATUS)){var g=x.getShaderInfoLog(_);try{var c=u(g,d,T)}catch(A){throw console.warn("Failed to format compiler error: "+A),new l(g,`Error compiling shader:
`+g)}throw new l(g,c.short,c.long)}return _}y.getShaderReference=function(x,T){var d=this.gl,_=this.shaders[x===d.FRAGMENT_SHADER|0],g=_[T];if(!g||!d.isShader(g.shader)){var c=w(d,x,T);g=_[T]=new p(v++,T,x,c,[],1,this)}else g.count+=1;return g};function M(x,T,d,_,g){var c=x.createProgram();x.attachShader(c,T),x.attachShader(c,d);for(var A=0;A<_.length;++A)x.bindAttribLocation(c,g[A],_[A]);if(x.linkProgram(c),!x.getProgramParameter(c,x.LINK_STATUS)){var h=x.getProgramInfoLog(c);throw new l(h,"Error linking program: "+h)}return c}y.getProgram=function(x,T,d,_){var g=[x.id,T.id,d.join(":"),_.join(":")].join("@"),c=this.programs[g];return(!c||!this.gl.isProgram(c))&&(this.programs[g]=c=M(this.gl,x.shader,T.shader,d,_),x.programs.push(g),T.programs.push(g)),c};function m(x){var T=f.get(x);return T||(T=new b(x),f.set(x,T)),T}function k(x,T,d){return m(x).getShaderReference(T,d)}function S(x,T,d,_,g){return m(x).getProgram(T,d,_,g)}},1493:function(a,o,i){"use strict";var l=i(3236),u=i(9405),s=l([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * (view * (model * vec4(vertexPosition, 1.0)));
  vec2 clipOffset = (projection * (view * (model * vec4(color, 0.0)))).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),f=l([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);a.exports=function(v){return u(v,s,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},4449:function(a,o,i){"use strict";var l=i(2762),u=i(8116),s=i(1493);a.exports=M;var f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function v(m,k,S,x){this.gl=m,this.buffer=k,this.vao=S,this.shader=x,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var p=v.prototype,b=[0,0,0],y=[0,0,0],w=[0,0];p.isTransparent=function(){return!1},p.drawTransparent=function(m){},p.draw=function(m){var k=this.gl,S=this.vao,x=this.shader;S.bind(),x.bind();var T=m.model||f,d=m.view||f,_=m.projection||f,g;this.axes&&(g=this.axes.lastCubeProps.axis);for(var c=b,A=y,h=0;h<3;++h)g&&g[h]<0?(c[h]=this.bounds[0][h],A[h]=this.bounds[1][h]):(c[h]=this.bounds[1][h],A[h]=this.bounds[0][h]);w[0]=k.drawingBufferWidth,w[1]=k.drawingBufferHeight,x.uniforms.model=T,x.uniforms.view=d,x.uniforms.projection=_,x.uniforms.coordinates=[this.position,c,A],x.uniforms.colors=this.colors,x.uniforms.screenShape=w;for(var h=0;h<3;++h)x.uniforms.lineWidth=this.lineWidth[h]*this.pixelRatio,this.enabled[h]&&(S.draw(k.TRIANGLES,6,6*h),this.drawSides[h]&&S.draw(k.TRIANGLES,12,18+12*h));S.unbind()},p.update=function(m){m&&("bounds"in m&&(this.bounds=m.bounds),"position"in m&&(this.position=m.position),"lineWidth"in m&&(this.lineWidth=m.lineWidth),"colors"in m&&(this.colors=m.colors),"enabled"in m&&(this.enabled=m.enabled),"drawSides"in m&&(this.drawSides=m.drawSides))},p.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function M(m,k){var S=[];function x(c,A,h,R,E,D){var N=[c,A,h,0,0,0,1];N[R+3]=1,N[R]=E,S.push.apply(S,N),N[6]=-1,S.push.apply(S,N),N[R]=D,S.push.apply(S,N),S.push.apply(S,N),N[6]=1,S.push.apply(S,N),N[R]=E,S.push.apply(S,N)}x(0,0,0,0,0,1),x(0,0,0,1,0,1),x(0,0,0,2,0,1),x(1,0,0,1,-1,1),x(1,0,0,2,-1,1),x(0,1,0,0,-1,1),x(0,1,0,2,-1,1),x(0,0,1,0,-1,1),x(0,0,1,1,-1,1);var T=l(m,S),d=u(m,[{type:m.FLOAT,buffer:T,size:3,offset:0,stride:28},{type:m.FLOAT,buffer:T,size:3,offset:12,stride:28},{type:m.FLOAT,buffer:T,size:1,offset:24,stride:28}]),_=s(m);_.attributes.position.location=0,_.attributes.color.location=1,_.attributes.weight.location=2;var g=new v(m,T,d,_);return g.update(k),g}},6740:function(a,o,i){var l=i(3236),u=l([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),s=l([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=l([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * (view * tubePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),v=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);o.meshShader={vertex:u,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},o.pickShader={vertex:f,fragment:v,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7815:function(a,o,i){"use strict";var l=i(2931),u=i(9970),s=["xyz","xzy","yxz","yzx","zxy","zyx"],f=function(x,T,d,_){for(var g=x.points,c=x.velocities,A=x.divergences,h=[],R=[],E=[],D=[],N=[],I=[],F=0,L=0,P=u.create(),O=u.create(),U=8,X=0;X<g.length;X++){var j=g[X],$=c[X],Y=A[X];T===0&&(Y=d*.05),L=l.length($)/_,P=u.create(),l.copy(P,$),P[3]=Y;for(var q=0;q<U;q++)N[q]=[j[0],j[1],j[2],q];if(D.length>0)for(var q=0;q<U;q++){var Z=(q+1)%U;h.push(D[q],N[q],N[Z],N[Z],D[Z],D[q]),E.push(O,P,P,P,O,O),I.push(F,L,L,L,F,F);var ne=h.length;R.push([ne-6,ne-5,ne-4],[ne-3,ne-2,ne-1])}var Q=D;D=N,N=Q;var oe=O;O=P,P=oe;var ee=F;F=L,L=ee}return{positions:h,cells:R,vectors:E,vertexIntensity:I}},v=function(x,T,d,_){for(var g=0,c=0;c<x.length;c++)for(var A=x[c].velocities,h=0;h<A.length;h++)g=Math.max(g,l.length(A[h]));for(var R=x.map(function(X){return f(X,d,_,g)}),E=[],D=[],N=[],I=[],c=0;c<R.length;c++){var F=R[c],L=E.length;E=E.concat(F.positions),N=N.concat(F.vectors),I=I.concat(F.vertexIntensity);for(var h=0;h<F.cells.length;h++){var P=F.cells[h],O=[];D.push(O);for(var U=0;U<P.length;U++)O.push(P[U]+L)}}return{positions:E,cells:D,vectors:N,vertexIntensity:I,colormap:T}},p=function(x,T){var d=x.length,_;for(_=0;_<d;_++){var g=x[_];if(g===T)return _;if(g>T)return _-1}return _},b=function(x,T,d){return x<T?T:x>d?d:x},y=function(x,T,d){var _=T.vectors,g=T.meshgrid,c=x[0],A=x[1],h=x[2],R=g[0].length,E=g[1].length,D=g[2].length,N=p(g[0],c),I=p(g[1],A),F=p(g[2],h),L=N+1,P=I+1,O=F+1;if(N=b(N,0,R-1),L=b(L,0,R-1),I=b(I,0,E-1),P=b(P,0,E-1),F=b(F,0,D-1),O=b(O,0,D-1),N<0||I<0||F<0||L>R-1||P>E-1||O>D-1)return l.create();var U=g[0][N],X=g[0][L],j=g[1][I],$=g[1][P],Y=g[2][F],q=g[2][O],Z=(c-U)/(X-U),ne=(A-j)/($-j),Q=(h-Y)/(q-Y);isFinite(Z)||(Z=.5),isFinite(ne)||(ne=.5),isFinite(Q)||(Q=.5);var oe,ee,G,re,H,te;switch(d.reversedX&&(N=R-1-N,L=R-1-L),d.reversedY&&(I=E-1-I,P=E-1-P),d.reversedZ&&(F=D-1-F,O=D-1-O),d.filled){case 5:H=F,te=O,G=I*D,re=P*D,oe=N*D*E,ee=L*D*E;break;case 4:H=F,te=O,oe=N*D,ee=L*D,G=I*D*R,re=P*D*R;break;case 3:G=I,re=P,H=F*E,te=O*E,oe=N*E*D,ee=L*E*D;break;case 2:G=I,re=P,oe=N*E,ee=L*E,H=F*E*R,te=O*E*R;break;case 1:oe=N,ee=L,H=F*R,te=O*R,G=I*R*D,re=P*R*D;break;default:oe=N,ee=L,G=I*R,re=P*R,H=F*R*E,te=O*R*E;break}var ue=_[oe+G+H],de=_[oe+G+te],Ee=_[oe+re+H],Me=_[oe+re+te],ve=_[ee+G+H],Ae=_[ee+G+te],ke=_[ee+re+H],De=_[ee+re+te],Ce=l.create(),Oe=l.create(),Ue=l.create(),ge=l.create();l.lerp(Ce,ue,ve,Z),l.lerp(Oe,de,Ae,Z),l.lerp(Ue,Ee,ke,Z),l.lerp(ge,Me,De,Z);var Te=l.create(),ce=l.create();l.lerp(Te,Ce,Ue,ne),l.lerp(ce,Oe,ge,ne);var ye=l.create();return l.lerp(ye,Te,ce,Q),ye},w=function(x,T){var d=T[0],_=T[1],g=T[2];return x[0]=d<0?-d:d,x[1]=_<0?-_:_,x[2]=g<0?-g:g,x},M=function(x){var T=1/0;x.sort(function(c,A){return c-A});for(var d=x.length,_=1;_<d;_++){var g=Math.abs(x[_]-x[_-1]);g<T&&(T=g)}return T},m=function(x){for(var T=[],d=[],_=[],g={},c={},A={},h=x.length,R=0;R<h;R++){var E=x[R],D=E[0],N=E[1],I=E[2];g[D]||(T.push(D),g[D]=!0),c[N]||(d.push(N),c[N]=!0),A[I]||(_.push(I),A[I]=!0)}var F=M(T),L=M(d),P=M(_),O=Math.min(F,L,P);return isFinite(O)?O:1};a.exports=function(x,T){var d=x.startingPositions,_=x.maxLength||1e3,g=x.tubeSize||1,c=x.absoluteTubeSize,A=x.gridFill||"+x+y+z",h={};A.indexOf("-x")!==-1&&(h.reversedX=!0),A.indexOf("-y")!==-1&&(h.reversedY=!0),A.indexOf("-z")!==-1&&(h.reversedZ=!0),h.filled=s.indexOf(A.replace(/-/g,"").replace(/\+/g,""));var R=x.getVelocity||function(Ae){return y(Ae,x,h)},E=x.getDivergence||function(Ae,ke){var De=l.create(),Ce=1e-4;l.add(De,Ae,[Ce,0,0]);var Oe=R(De);l.subtract(Oe,Oe,ke),l.scale(Oe,Oe,1/Ce),l.add(De,Ae,[0,Ce,0]);var Ue=R(De);l.subtract(Ue,Ue,ke),l.scale(Ue,Ue,1/Ce),l.add(De,Ae,[0,0,Ce]);var ge=R(De);return l.subtract(ge,ge,ke),l.scale(ge,ge,1/Ce),l.add(De,Oe,Ue),l.add(De,De,ge),De},D=[],N=T[0][0],I=T[0][1],F=T[0][2],L=T[1][0],P=T[1][1],O=T[1][2],U=function(Ae){var ke=Ae[0],De=Ae[1],Ce=Ae[2];return!(ke<N||ke>L||De<I||De>P||Ce<F||Ce>O)},X=l.distance(T[0],T[1]),j=10*X/_,$=j*j,Y=1,q=0,Z=d.length;Z>1&&(Y=m(d));for(var ne=0;ne<Z;ne++){var Q=l.create();l.copy(Q,d[ne]);var oe=[Q],ee=[],G=R(Q),re=Q;ee.push(G);var H=[],te=E(Q,G),ue=l.length(te);isFinite(ue)&&ue>q&&(q=ue),H.push(ue),D.push({points:oe,velocities:ee,divergences:H});for(var de=0;de<_*100&&oe.length<_&&U(Q);){de++;var Ee=l.clone(G),Me=l.squaredLength(Ee);if(Me===0)break;if(Me>$&&l.scale(Ee,Ee,j/Math.sqrt(Me)),l.add(Ee,Ee,Q),G=R(Ee),l.squaredDistance(re,Ee)-$>-1e-4*$){oe.push(Ee),re=Ee,ee.push(G);var te=E(Ee,G),ue=l.length(te);isFinite(ue)&&ue>q&&(q=ue),H.push(ue)}Q=Ee}}var ve=v(D,x.colormap,q,Y);return c?ve.tubeScale=c:(q===0&&(q=1),ve.tubeScale=g*.5*Y/q),ve};var k=i(6740),S=i(6405).createMesh;a.exports.createTubeMesh=function(x,T){return S(x,T,{shaders:k,traceType:"streamtube"})}},990:function(a,o,i){var l=i(9405),u=i(3236),s=u([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(localCoordinate, 1.0);
  vec4 clipPosition = projection * (view * worldPosition);
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),f=u([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color \u2014 in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),v=u([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(dataCoordinate, 1.0);

  vec4 clipPosition = projection * (view * worldPosition);
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),p=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);o.createShader=function(b){var y=l(b,s,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return y.attributes.uv.location=0,y.attributes.f.location=1,y.attributes.normal.location=2,y},o.createPickShader=function(b){var y=l(b,s,p,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return y.attributes.uv.location=0,y.attributes.f.location=1,y.attributes.normal.location=2,y},o.createContourShader=function(b){var y=l(b,v,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return y.attributes.uv.location=0,y.attributes.f.location=1,y},o.createPickContourShader=function(b){var y=l(b,v,p,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return y.attributes.uv.location=0,y.attributes.f.location=1,y}},9499:function(a,o,i){"use strict";a.exports=oe;var l=i(8828),u=i(2762),s=i(8116),f=i(7766),v=i(1888),p=i(6729),b=i(5298),y=i(9994),w=i(9618),M=i(3711),m=i(6760),k=i(7608),S=i(2478),x=i(6199),T=i(990),d=T.createShader,_=T.createContourShader,g=T.createPickShader,c=T.createPickContourShader,A=4*10,h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],R=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],E=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var ee=0;ee<3;++ee){var G=E[ee],re=(ee+1)%3,H=(ee+2)%3;G[re+0]=1,G[H+3]=1,G[ee+6]=1}})();function D(ee,G,re,H,te){this.position=ee,this.index=G,this.uv=re,this.level=H,this.dataCoordinate=te}var N=256;function I(ee,G,re,H,te,ue,de,Ee,Me,ve,Ae,ke,De,Ce,Oe){this.gl=ee,this.shape=G,this.bounds=re,this.objectOffset=Oe,this.intensityBounds=[],this._shader=H,this._pickShader=te,this._coordinateBuffer=ue,this._vao=de,this._colorMap=Ee,this._contourShader=Me,this._contourPickShader=ve,this._contourBuffer=Ae,this._contourVAO=ke,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new D([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=De,this._dynamicVAO=Ce,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[w(v.mallocFloat(1024),[0,0]),w(v.mallocFloat(1024),[0,0]),w(v.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var F=I.prototype;F.genColormap=function(ee,G){var re=!1,H=y([p({colormap:ee,nshades:N,format:"rgba"}).map(function(te,ue){var de=G?L(ue/255,G):te[3];return de<1&&(re=!0),[te[0],te[1],te[2],255*de]})]);return b.divseq(H,255),this.hasAlphaScale=re,H},F.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},F.isOpaque=function(){return!this.isTransparent()},F.pickSlots=1,F.setPickBase=function(ee){this.pickId=ee};function L(ee,G){if(!G||!G.length)return 1;for(var re=0;re<G.length;++re){if(G.length<2)return 1;if(G[re][0]===ee)return G[re][1];if(G[re][0]>ee&&re>0){var H=(G[re][0]-ee)/(G[re][0]-G[re-1][0]);return G[re][1]*(1-H)+H*G[re-1][1]}}return 1}var P=[0,0,0],O={showSurface:!1,showContour:!1,projections:[h.slice(),h.slice(),h.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function U(ee,G){var re,H,te,ue=G.axes&&G.axes.lastCubeProps.axis||P,de=G.showSurface,Ee=G.showContour;for(re=0;re<3;++re)for(de=de||G.surfaceProject[re],H=0;H<3;++H)Ee=Ee||G.contourProject[re][H];for(re=0;re<3;++re){var Me=O.projections[re];for(H=0;H<16;++H)Me[H]=0;for(H=0;H<4;++H)Me[5*H]=1;Me[5*re]=0,Me[12+re]=G.axesBounds[+(ue[re]>0)][re],m(Me,ee.model,Me);var ve=O.clipBounds[re];for(te=0;te<2;++te)for(H=0;H<3;++H)ve[te][H]=ee.clipBounds[te][H];ve[0][re]=-1e8,ve[1][re]=1e8}return O.showSurface=de,O.showContour=Ee,O}var X={model:h,view:h,projection:h,inverseModel:h.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},j=h.slice(),$=[1,0,0,0,1,0,0,0,1];function Y(ee,G){ee=ee||{};var re=this.gl;re.disable(re.CULL_FACE),this._colorMap.bind(0);var H=X;H.model=ee.model||h,H.view=ee.view||h,H.projection=ee.projection||h,H.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],H.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],H.objectOffset=this.objectOffset,H.contourColor=this.contourColor[0],H.inverseModel=k(H.inverseModel,H.model);for(var te=0;te<2;++te)for(var ue=H.clipBounds[te],de=0;de<3;++de)ue[de]=Math.min(Math.max(this.clipBounds[te][de],-1e8),1e8);H.kambient=this.ambientLight,H.kdiffuse=this.diffuseLight,H.kspecular=this.specularLight,H.roughness=this.roughness,H.fresnel=this.fresnel,H.opacity=this.opacity,H.height=0,H.permutation=$,H.vertexColor=this.vertexColor;var Ee=j;for(m(Ee,H.view,H.model),m(Ee,H.projection,Ee),k(Ee,Ee),te=0;te<3;++te)H.eyePosition[te]=Ee[12+te]/Ee[15];var Me=Ee[15];for(te=0;te<3;++te)Me+=this.lightPosition[te]*Ee[4*te+3];for(te=0;te<3;++te){var ve=Ee[12+te];for(de=0;de<3;++de)ve+=Ee[4*de+te]*this.lightPosition[de];H.lightPosition[te]=ve/Me}var Ae=U(H,this);if(Ae.showSurface){for(this._shader.bind(),this._shader.uniforms=H,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(re.TRIANGLES,this._vertexCount),te=0;te<3;++te)!this.surfaceProject[te]||!this.vertexCount||(this._shader.uniforms.model=Ae.projections[te],this._shader.uniforms.clipBounds=Ae.clipBounds[te],this._vao.draw(re.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ae.showContour){var ke=this._contourShader;H.kambient=1,H.kdiffuse=0,H.kspecular=0,H.opacity=1,ke.bind(),ke.uniforms=H;var De=this._contourVAO;for(De.bind(),te=0;te<3;++te)for(ke.uniforms.permutation=E[te],re.lineWidth(this.contourWidth[te]*this.pixelRatio),de=0;de<this.contourLevels[te].length;++de)de===this.highlightLevel[te]?(ke.uniforms.contourColor=this.highlightColor[te],ke.uniforms.contourTint=this.highlightTint[te]):(de===0||de-1===this.highlightLevel[te])&&(ke.uniforms.contourColor=this.contourColor[te],ke.uniforms.contourTint=this.contourTint[te]),this._contourCounts[te][de]&&(ke.uniforms.height=this.contourLevels[te][de],De.draw(re.LINES,this._contourCounts[te][de],this._contourOffsets[te][de]));for(te=0;te<3;++te)for(ke.uniforms.model=Ae.projections[te],ke.uniforms.clipBounds=Ae.clipBounds[te],de=0;de<3;++de)if(this.contourProject[te][de]){ke.uniforms.permutation=E[de],re.lineWidth(this.contourWidth[de]*this.pixelRatio);for(var Ce=0;Ce<this.contourLevels[de].length;++Ce)Ce===this.highlightLevel[de]?(ke.uniforms.contourColor=this.highlightColor[de],ke.uniforms.contourTint=this.highlightTint[de]):(Ce===0||Ce-1===this.highlightLevel[de])&&(ke.uniforms.contourColor=this.contourColor[de],ke.uniforms.contourTint=this.contourTint[de]),this._contourCounts[de][Ce]&&(ke.uniforms.height=this.contourLevels[de][Ce],De.draw(re.LINES,this._contourCounts[de][Ce],this._contourOffsets[de][Ce]))}for(De.unbind(),De=this._dynamicVAO,De.bind(),te=0;te<3;++te)if(this._dynamicCounts[te]!==0)for(ke.uniforms.model=H.model,ke.uniforms.clipBounds=H.clipBounds,ke.uniforms.permutation=E[te],re.lineWidth(this.dynamicWidth[te]*this.pixelRatio),ke.uniforms.contourColor=this.dynamicColor[te],ke.uniforms.contourTint=this.dynamicTint[te],ke.uniforms.height=this.dynamicLevel[te],De.draw(re.LINES,this._dynamicCounts[te],this._dynamicOffsets[te]),de=0;de<3;++de)this.contourProject[de][te]&&(ke.uniforms.model=Ae.projections[de],ke.uniforms.clipBounds=Ae.clipBounds[de],De.draw(re.LINES,this._dynamicCounts[te],this._dynamicOffsets[te]));De.unbind()}}F.draw=function(ee){return Y.call(this,ee,!1)},F.drawTransparent=function(ee){return Y.call(this,ee,!0)};var q={model:h,view:h,projection:h,inverseModel:h,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};F.drawPick=function(ee){ee=ee||{};var G=this.gl;G.disable(G.CULL_FACE);var re=q;re.model=ee.model||h,re.view=ee.view||h,re.projection=ee.projection||h,re.shape=this._field[2].shape,re.pickId=this.pickId/255,re.lowerBound=this.bounds[0],re.upperBound=this.bounds[1],re.objectOffset=this.objectOffset,re.permutation=$;for(var H=0;H<2;++H)for(var te=re.clipBounds[H],ue=0;ue<3;++ue)te[ue]=Math.min(Math.max(this.clipBounds[H][ue],-1e8),1e8);var de=U(re,this);if(de.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=re,this._vao.bind(),this._vao.draw(G.TRIANGLES,this._vertexCount),H=0;H<3;++H)this.surfaceProject[H]&&(this._pickShader.uniforms.model=de.projections[H],this._pickShader.uniforms.clipBounds=de.clipBounds[H],this._vao.draw(G.TRIANGLES,this._vertexCount));this._vao.unbind()}if(de.showContour){var Ee=this._contourPickShader;Ee.bind(),Ee.uniforms=re;var Me=this._contourVAO;for(Me.bind(),ue=0;ue<3;++ue)for(G.lineWidth(this.contourWidth[ue]*this.pixelRatio),Ee.uniforms.permutation=E[ue],H=0;H<this.contourLevels[ue].length;++H)this._contourCounts[ue][H]&&(Ee.uniforms.height=this.contourLevels[ue][H],Me.draw(G.LINES,this._contourCounts[ue][H],this._contourOffsets[ue][H]));for(H=0;H<3;++H)for(Ee.uniforms.model=de.projections[H],Ee.uniforms.clipBounds=de.clipBounds[H],ue=0;ue<3;++ue)if(this.contourProject[H][ue]){Ee.uniforms.permutation=E[ue],G.lineWidth(this.contourWidth[ue]*this.pixelRatio);for(var ve=0;ve<this.contourLevels[ue].length;++ve)this._contourCounts[ue][ve]&&(Ee.uniforms.height=this.contourLevels[ue][ve],Me.draw(G.LINES,this._contourCounts[ue][ve],this._contourOffsets[ue][ve]))}Me.unbind()}},F.pick=function(ee){if(!ee||ee.id!==this.pickId)return null;var G=this._field[2].shape,re=this._pickResult,H=G[0]*(ee.value[0]+(ee.value[2]>>4)/16)/255,te=Math.floor(H),ue=H-te,de=G[1]*(ee.value[1]+(ee.value[2]&15)/16)/255,Ee=Math.floor(de),Me=de-Ee;te+=1,Ee+=1;var ve=re.position;ve[0]=ve[1]=ve[2]=0;for(var Ae=0;Ae<2;++Ae)for(var ke=Ae?ue:1-ue,De=0;De<2;++De)for(var Ce=De?Me:1-Me,Oe=te+Ae,Ue=Ee+De,ge=ke*Ce,Te=0;Te<3;++Te)ve[Te]+=this._field[Te].get(Oe,Ue)*ge;for(var ce=this._pickResult.level,ye=0;ye<3;++ye)if(ce[ye]=S.le(this.contourLevels[ye],ve[ye]),ce[ye]<0)this.contourLevels[ye].length>0&&(ce[ye]=0);else if(ce[ye]<this.contourLevels[ye].length-1){var Le=this.contourLevels[ye][ce[ye]],me=this.contourLevels[ye][ce[ye]+1];Math.abs(Le-ve[ye])>Math.abs(me-ve[ye])&&(ce[ye]+=1)}for(re.index[0]=ue<.5?te:te+1,re.index[1]=Me<.5?Ee:Ee+1,re.uv[0]=H/G[0],re.uv[1]=de/G[1],Te=0;Te<3;++Te)re.dataCoordinate[Te]=this._field[Te].get(re.index[0],re.index[1]);return re},F.padField=function(ee,G){var re=G.shape.slice(),H=ee.shape.slice();b.assign(ee.lo(1,1).hi(re[0],re[1]),G),b.assign(ee.lo(1).hi(re[0],1),G.hi(re[0],1)),b.assign(ee.lo(1,H[1]-1).hi(re[0],1),G.lo(0,re[1]-1).hi(re[0],1)),b.assign(ee.lo(0,1).hi(1,re[1]),G.hi(1)),b.assign(ee.lo(H[0]-1,1).hi(1,re[1]),G.lo(re[0]-1)),ee.set(0,0,G.get(0,0)),ee.set(0,H[1]-1,G.get(0,re[1]-1)),ee.set(H[0]-1,0,G.get(re[0]-1,0)),ee.set(H[0]-1,H[1]-1,G.get(re[0]-1,re[1]-1))};function Z(ee,G){return Array.isArray(ee)?[G(ee[0]),G(ee[1]),G(ee[2])]:[G(ee),G(ee),G(ee)]}function ne(ee){return Array.isArray(ee)?ee.length===3?[ee[0],ee[1],ee[2],1]:[ee[0],ee[1],ee[2],ee[3]]:[0,0,0,1]}function Q(ee){if(Array.isArray(ee)){if(Array.isArray(ee))return[ne(ee[0]),ne(ee[1]),ne(ee[2])];var G=ne(ee);return[G.slice(),G.slice(),G.slice()]}}F.update=function(ee){ee=ee||{},this.objectOffset=ee.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in ee&&(this.contourWidth=Z(ee.contourWidth,Number)),"showContour"in ee&&(this.showContour=Z(ee.showContour,Boolean)),"showSurface"in ee&&(this.showSurface=!!ee.showSurface),"contourTint"in ee&&(this.contourTint=Z(ee.contourTint,Boolean)),"contourColor"in ee&&(this.contourColor=Q(ee.contourColor)),"contourProject"in ee&&(this.contourProject=Z(ee.contourProject,function(wa){return Z(wa,Boolean)})),"surfaceProject"in ee&&(this.surfaceProject=ee.surfaceProject),"dynamicColor"in ee&&(this.dynamicColor=Q(ee.dynamicColor)),"dynamicTint"in ee&&(this.dynamicTint=Z(ee.dynamicTint,Number)),"dynamicWidth"in ee&&(this.dynamicWidth=Z(ee.dynamicWidth,Number)),"opacity"in ee&&(this.opacity=ee.opacity),"opacityscale"in ee&&(this.opacityscale=ee.opacityscale),"colorBounds"in ee&&(this.colorBounds=ee.colorBounds),"vertexColor"in ee&&(this.vertexColor=ee.vertexColor?1:0),"colormap"in ee&&this._colorMap.setPixels(this.genColormap(ee.colormap,this.opacityscale));var G=ee.field||ee.coords&&ee.coords[2]||null,re=!1;if(G||(this._field[2].shape[0]||this._field[2].shape[2]?G=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):G=this._field[2].hi(0,0)),"field"in ee||"coords"in ee){var H=(G.shape[0]+2)*(G.shape[1]+2);H>this._field[2].data.length&&(v.freeFloat(this._field[2].data),this._field[2].data=v.mallocFloat(l.nextPow2(H))),this._field[2]=w(this._field[2].data,[G.shape[0]+2,G.shape[1]+2]),this.padField(this._field[2],G),this.shape=G.shape.slice();for(var te=this.shape,ue=0;ue<2;++ue)this._field[2].size>this._field[ue].data.length&&(v.freeFloat(this._field[ue].data),this._field[ue].data=v.mallocFloat(this._field[2].size)),this._field[ue]=w(this._field[ue].data,[te[0]+2,te[1]+2]);if(ee.coords){var de=ee.coords;if(!Array.isArray(de)||de.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(ue=0;ue<2;++ue){var Ee=de[ue];for(De=0;De<2;++De)if(Ee.shape[De]!==te[De])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[ue],Ee)}}else if(ee.ticks){var Me=ee.ticks;if(!Array.isArray(Me)||Me.length!==2)throw new Error("gl-surface: invalid ticks");for(ue=0;ue<2;++ue){var ve=Me[ue];if((Array.isArray(ve)||ve.length)&&(ve=w(ve)),ve.shape[0]!==te[ue])throw new Error("gl-surface: invalid tick length");var Ae=w(ve.data,te);Ae.stride[ue]=ve.stride[0],Ae.stride[ue^1]=0,this.padField(this._field[ue],Ae)}}else{for(ue=0;ue<2;++ue){var ke=[0,0];ke[ue]=1,this._field[ue]=w(this._field[ue].data,[te[0]+2,te[1]+2],ke,0)}this._field[0].set(0,0,0);for(var De=0;De<te[0];++De)this._field[0].set(De+1,0,De);for(this._field[0].set(te[0]+1,0,te[0]-1),this._field[1].set(0,0,0),De=0;De<te[1];++De)this._field[1].set(0,De+1,De);this._field[1].set(0,te[1]+1,te[1]-1)}var Ce=this._field,Oe=w(v.mallocFloat(Ce[2].size*3*2),[3,te[0]+2,te[1]+2,2]);for(ue=0;ue<3;++ue)x(Oe.pick(ue),Ce[ue],"mirror");var Ue=w(v.mallocFloat(Ce[2].size*3),[te[0]+2,te[1]+2,3]);for(ue=0;ue<te[0]+2;++ue)for(De=0;De<te[1]+2;++De){var ge=Oe.get(0,ue,De,0),Te=Oe.get(0,ue,De,1),ce=Oe.get(1,ue,De,0),ye=Oe.get(1,ue,De,1),Le=Oe.get(2,ue,De,0),me=Oe.get(2,ue,De,1),he=ce*me-ye*Le,be=Le*Te-me*ge,Se=ge*ye-Te*ce,ze=Math.sqrt(he*he+be*be+Se*Se);ze<1e-8?(ze=Math.max(Math.abs(he),Math.abs(be),Math.abs(Se)),ze<1e-8?(Se=1,be=he=0,ze=1):ze=1/ze):ze=1/Math.sqrt(ze),Ue.set(ue,De,0,he*ze),Ue.set(ue,De,1,be*ze),Ue.set(ue,De,2,Se*ze)}v.free(Oe.data);var Fe=[1/0,1/0,1/0],Ze=[-1/0,-1/0,-1/0],Ye=1/0,Ge=-1/0,We=(te[0]-1)*(te[1]-1)*6,we=v.mallocFloat(l.nextPow2(10*We)),Pe=0,Qe=0;for(ue=0;ue<te[0]-1;++ue)e:for(De=0;De<te[1]-1;++De){for(var Ve=0;Ve<2;++Ve)for(var ar=0;ar<2;++ar)for(var se=0;se<3;++se){var K=this._field[se].get(1+ue+Ve,1+De+ar);if(isNaN(K)||!isFinite(K))continue e}for(se=0;se<6;++se){var ae=ue+R[se][0],Re=De+R[se][1],Be=this._field[0].get(ae+1,Re+1),je=this._field[1].get(ae+1,Re+1);K=this._field[2].get(ae+1,Re+1),he=Ue.get(ae+1,Re+1,0),be=Ue.get(ae+1,Re+1,1),Se=Ue.get(ae+1,Re+1,2),ee.intensity&&(nr=ee.intensity.get(ae,Re));var nr=ee.intensity?ee.intensity.get(ae,Re):K+this.objectOffset[2];we[Pe++]=ae,we[Pe++]=Re,we[Pe++]=Be,we[Pe++]=je,we[Pe++]=K,we[Pe++]=0,we[Pe++]=nr,we[Pe++]=he,we[Pe++]=be,we[Pe++]=Se,Fe[0]=Math.min(Fe[0],Be+this.objectOffset[0]),Fe[1]=Math.min(Fe[1],je+this.objectOffset[1]),Fe[2]=Math.min(Fe[2],K+this.objectOffset[2]),Ye=Math.min(Ye,nr),Ze[0]=Math.max(Ze[0],Be+this.objectOffset[0]),Ze[1]=Math.max(Ze[1],je+this.objectOffset[1]),Ze[2]=Math.max(Ze[2],K+this.objectOffset[2]),Ge=Math.max(Ge,nr),Qe+=1}}for(ee.intensityBounds&&(Ye=+ee.intensityBounds[0],Ge=+ee.intensityBounds[1]),ue=6;ue<Pe;ue+=10)we[ue]=(we[ue]-Ye)/(Ge-Ye);this._vertexCount=Qe,this._coordinateBuffer.update(we.subarray(0,Pe)),v.freeFloat(we),v.free(Ue.data),this.bounds=[Fe,Ze],this.intensity=ee.intensity||this._field[2],(this.intensityBounds[0]!==Ye||this.intensityBounds[1]!==Ge)&&(re=!0),this.intensityBounds=[Ye,Ge]}if("levels"in ee){var hr=ee.levels;for(Array.isArray(hr[0])?hr=hr.slice():hr=[[],[],hr],ue=0;ue<3;++ue)hr[ue]=hr[ue].slice(),hr[ue].sort(function(wa,xi){return wa-xi});for(ue=0;ue<3;++ue)for(De=0;De<hr[ue].length;++De)hr[ue][De]-=this.objectOffset[ue];e:for(ue=0;ue<3;++ue){if(hr[ue].length!==this.contourLevels[ue].length){re=!0;break}for(De=0;De<hr[ue].length;++De)if(hr[ue][De]!==this.contourLevels[ue][De]){re=!0;break e}}this.contourLevels=hr}if(re){Ce=this._field,te=this.shape;for(var wr=[],Cr=0;Cr<3;++Cr){var Tr=this.contourLevels[Cr],Ar=[],ft=[],Yr=[0,0,0];for(ue=0;ue<Tr.length;++ue){var mr=M(this._field[Cr],Tr[ue]);Ar.push(wr.length/5|0),Qe=0;e:for(De=0;De<mr.cells.length;++De){var ct=mr.cells[De];for(se=0;se<2;++se){var Sr=mr.positions[ct[se]],Ur=Sr[0],xt=Math.floor(Ur)|0,zr=Ur-xt,Hr=Sr[1],Ot=Math.floor(Hr)|0,Lt=Hr-Ot,yn=!1;r:for(var Gt=0;Gt<3;++Gt){Yr[Gt]=0;var Rt=(Cr+Gt+1)%3;for(Ve=0;Ve<2;++Ve){var nt=Ve?zr:1-zr;for(ae=Math.min(Math.max(xt+Ve,0),te[0])|0,ar=0;ar<2;++ar){var Ft=ar?Lt:1-Lt;if(Re=Math.min(Math.max(Ot+ar,0),te[1])|0,Gt<2?K=this._field[Rt].get(ae,Re):K=(this.intensity.get(ae,Re)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(K)||isNaN(K)){yn=!0;break r}var ha=nt*Ft;Yr[Gt]+=ha*K}}}if(!yn)wr.push(Yr[0],Yr[1],Sr[0],Sr[1],Yr[2]),Qe+=1;else{if(se>0){for(var Qn=0;Qn<5;++Qn)wr.pop();Qe-=1}continue e}}}ft.push(Qe)}this._contourOffsets[Cr]=Ar,this._contourCounts[Cr]=ft}var Fn=v.mallocFloat(wr.length);for(ue=0;ue<wr.length;++ue)Fn[ue]=wr[ue];this._contourBuffer.update(Fn),v.freeFloat(Fn)}},F.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var ee=0;ee<3;++ee)v.freeFloat(this._field[ee].data)},F.highlight=function(ee){var G;if(!ee){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(G=0;G<3;++G)this.enableHighlight[G]?this.highlightLevel[G]=ee.level[G]:this.highlightLevel[G]=-1;var re;for(this.snapToData?re=ee.dataCoordinate:re=ee.position,G=0;G<3;++G)re[G]-=this.objectOffset[G];if(!((!this.enableDynamic[0]||re[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||re[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||re[2]===this.dynamicLevel[2]))){for(var H=0,te=this.shape,ue=v.mallocFloat(12*te[0]*te[1]),de=0;de<3;++de){if(!this.enableDynamic[de]){this.dynamicLevel[de]=NaN,this._dynamicCounts[de]=0;continue}this.dynamicLevel[de]=re[de];var Ee=(de+1)%3,Me=(de+2)%3,ve=this._field[de],Ae=this._field[Ee],ke=this._field[Me],De=M(ve,re[de]),Ce=De.cells,Oe=De.positions;for(this._dynamicOffsets[de]=H,G=0;G<Ce.length;++G)for(var Ue=Ce[G],ge=0;ge<2;++ge){var Te=Oe[Ue[ge]],ce=+Te[0],ye=ce|0,Le=Math.min(ye+1,te[0])|0,me=ce-ye,he=1-me,be=+Te[1],Se=be|0,ze=Math.min(Se+1,te[1])|0,Fe=be-Se,Ze=1-Fe,Ye=he*Ze,Ge=he*Fe,We=me*Ze,we=me*Fe,Pe=Ye*Ae.get(ye,Se)+Ge*Ae.get(ye,ze)+We*Ae.get(Le,Se)+we*Ae.get(Le,ze),Qe=Ye*ke.get(ye,Se)+Ge*ke.get(ye,ze)+We*ke.get(Le,Se)+we*ke.get(Le,ze);if(isNaN(Pe)||isNaN(Qe)){ge&&(H-=1);break}ue[2*H+0]=Pe,ue[2*H+1]=Qe,H+=1}this._dynamicCounts[de]=H-this._dynamicOffsets[de]}this._dynamicBuffer.update(ue.subarray(0,2*H)),v.freeFloat(ue)}};function oe(ee){var G=ee.gl,re=d(G),H=g(G),te=_(G),ue=c(G),de=u(G),Ee=s(G,[{buffer:de,size:4,stride:A,offset:0},{buffer:de,size:3,stride:A,offset:16},{buffer:de,size:3,stride:A,offset:28}]),Me=u(G),ve=s(G,[{buffer:Me,size:4,stride:20,offset:0},{buffer:Me,size:1,stride:20,offset:16}]),Ae=u(G),ke=s(G,[{buffer:Ae,size:2,type:G.FLOAT}]),De=f(G,1,N,G.RGBA,G.UNSIGNED_BYTE);De.minFilter=G.LINEAR,De.magFilter=G.LINEAR;var Ce=new I(G,[0,0],[[0,0,0],[0,0,0]],re,H,de,Ee,De,te,ue,Me,ve,Ae,ke,[0,0,0]),Oe={levels:[[],[],[]]};for(var Ue in ee)Oe[Ue]=ee[Ue];return Oe.colormap=Oe.colormap||"jet",Ce.update(Oe),Ce}},7766:function(a,o,i){"use strict";var l=i(9618),u=i(5298),s=i(1888);a.exports=c;var f=null,v=null,p=null;function b(A){f=[A.LINEAR,A.NEAREST_MIPMAP_LINEAR,A.LINEAR_MIPMAP_NEAREST,A.LINEAR_MIPMAP_NEAREST],v=[A.NEAREST,A.LINEAR,A.NEAREST_MIPMAP_NEAREST,A.NEAREST_MIPMAP_LINEAR,A.LINEAR_MIPMAP_NEAREST,A.LINEAR_MIPMAP_LINEAR],p=[A.REPEAT,A.CLAMP_TO_EDGE,A.MIRRORED_REPEAT]}function y(A){return typeof HTMLCanvasElement!="undefined"&&A instanceof HTMLCanvasElement||typeof HTMLImageElement!="undefined"&&A instanceof HTMLImageElement||typeof HTMLVideoElement!="undefined"&&A instanceof HTMLVideoElement||typeof ImageData!="undefined"&&A instanceof ImageData}var w=function(A,h){u.muls(A,h,255)};function M(A,h,R){var E=A.gl,D=E.getParameter(E.MAX_TEXTURE_SIZE);if(h<0||h>D||R<0||R>D)throw new Error("gl-texture2d: Invalid texture size");return A._shape=[h,R],A.bind(),E.texImage2D(E.TEXTURE_2D,0,A.format,h,R,0,A.format,A.type,null),A._mipLevels=[0],A}function m(A,h,R,E,D,N){this.gl=A,this.handle=h,this.format=D,this.type=N,this._shape=[R,E],this._mipLevels=[0],this._magFilter=A.NEAREST,this._minFilter=A.NEAREST,this._wrapS=A.CLAMP_TO_EDGE,this._wrapT=A.CLAMP_TO_EDGE,this._anisoSamples=1;var I=this,F=[this._wrapS,this._wrapT];Object.defineProperties(F,[{get:function(){return I._wrapS},set:function(P){return I.wrapS=P}},{get:function(){return I._wrapT},set:function(P){return I.wrapT=P}}]),this._wrapVector=F;var L=[this._shape[0],this._shape[1]];Object.defineProperties(L,[{get:function(){return I._shape[0]},set:function(P){return I.width=P}},{get:function(){return I._shape[1]},set:function(P){return I.height=P}}]),this._shapeVector=L}var k=m.prototype;Object.defineProperties(k,{minFilter:{get:function(){return this._minFilter},set:function(A){this.bind();var h=this.gl;if(this.type===h.FLOAT&&f.indexOf(A)>=0&&(h.getExtension("OES_texture_float_linear")||(A=h.NEAREST)),v.indexOf(A)<0)throw new Error("gl-texture2d: Unknown filter mode "+A);return h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,A),this._minFilter=A}},magFilter:{get:function(){return this._magFilter},set:function(A){this.bind();var h=this.gl;if(this.type===h.FLOAT&&f.indexOf(A)>=0&&(h.getExtension("OES_texture_float_linear")||(A=h.NEAREST)),v.indexOf(A)<0)throw new Error("gl-texture2d: Unknown filter mode "+A);return h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,A),this._magFilter=A}},mipSamples:{get:function(){return this._anisoSamples},set:function(A){var h=this._anisoSamples;if(this._anisoSamples=Math.max(A,1)|0,h!==this._anisoSamples){var R=this.gl.getExtension("EXT_texture_filter_anisotropic");R&&this.gl.texParameterf(this.gl.TEXTURE_2D,R.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(A){if(this.bind(),p.indexOf(A)<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,A),this._wrapS=A}},wrapT:{get:function(){return this._wrapT},set:function(A){if(this.bind(),p.indexOf(A)<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,A),this._wrapT=A}},wrap:{get:function(){return this._wrapVector},set:function(A){if(Array.isArray(A)||(A=[A,A]),A.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var h=0;h<2;++h)if(p.indexOf(A[h])<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);this._wrapS=A[0],this._wrapT=A[1];var R=this.gl;return this.bind(),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_S,this._wrapS),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_T,this._wrapT),A}},shape:{get:function(){return this._shapeVector},set:function(A){if(!Array.isArray(A))A=[A|0,A|0];else if(A.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return M(this,A[0]|0,A[1]|0),[A[0]|0,A[1]|0]}},width:{get:function(){return this._shape[0]},set:function(A){return A=A|0,M(this,A,this._shape[1]),A}},height:{get:function(){return this._shape[1]},set:function(A){return A=A|0,M(this,this._shape[0],A),A}}}),k.bind=function(A){var h=this.gl;return A!==void 0&&h.activeTexture(h.TEXTURE0+(A|0)),h.bindTexture(h.TEXTURE_2D,this.handle),A!==void 0?A|0:h.getParameter(h.ACTIVE_TEXTURE)-h.TEXTURE0},k.dispose=function(){this.gl.deleteTexture(this.handle)},k.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var A=Math.min(this._shape[0],this._shape[1]),h=0;A>0;++h,A>>>=1)this._mipLevels.indexOf(h)<0&&this._mipLevels.push(h)},k.setPixels=function(A,h,R,E){var D=this.gl;this.bind(),Array.isArray(h)?(E=R,R=h[1]|0,h=h[0]|0):(h=h||0,R=R||0),E=E||0;var N=y(A)?A:A.raw;if(N){var I=this._mipLevels.indexOf(E)<0;I?(D.texImage2D(D.TEXTURE_2D,0,this.format,this.format,this.type,N),this._mipLevels.push(E)):D.texSubImage2D(D.TEXTURE_2D,E,h,R,this.format,this.type,N)}else if(A.shape&&A.stride&&A.data){if(A.shape.length<2||h+A.shape[1]>this._shape[1]>>>E||R+A.shape[0]>this._shape[0]>>>E||h<0||R<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");x(D,h,R,E,this.format,this.type,this._mipLevels,A)}else throw new Error("gl-texture2d: Unsupported data type")};function S(A,h){return A.length===3?h[2]===1&&h[1]===A[0]*A[2]&&h[0]===A[2]:h[0]===1&&h[1]===A[0]}function x(A,h,R,E,D,N,I,F){var L=F.dtype,P=F.shape.slice();if(P.length<2||P.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var O=0,U=0,X=S(P,F.stride.slice());L==="float32"?O=A.FLOAT:L==="float64"?(O=A.FLOAT,X=!1,L="float32"):L==="uint8"?O=A.UNSIGNED_BYTE:(O=A.UNSIGNED_BYTE,X=!1,L="uint8");var j=1;if(P.length===2)U=A.LUMINANCE,P=[P[0],P[1],1],F=l(F.data,P,[F.stride[0],F.stride[1],1],F.offset);else if(P.length===3){if(P[2]===1)U=A.ALPHA;else if(P[2]===2)U=A.LUMINANCE_ALPHA;else if(P[2]===3)U=A.RGB;else if(P[2]===4)U=A.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");j=P[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((U===A.LUMINANCE||U===A.ALPHA)&&(D===A.LUMINANCE||D===A.ALPHA)&&(U=D),U!==D)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var $=F.size,Y=I.indexOf(E)<0;if(Y&&I.push(E),O===N&&X)F.offset===0&&F.data.length===$?Y?A.texImage2D(A.TEXTURE_2D,E,D,P[0],P[1],0,D,N,F.data):A.texSubImage2D(A.TEXTURE_2D,E,h,R,P[0],P[1],D,N,F.data):Y?A.texImage2D(A.TEXTURE_2D,E,D,P[0],P[1],0,D,N,F.data.subarray(F.offset,F.offset+$)):A.texSubImage2D(A.TEXTURE_2D,E,h,R,P[0],P[1],D,N,F.data.subarray(F.offset,F.offset+$));else{var q;N===A.FLOAT?q=s.mallocFloat32($):q=s.mallocUint8($);var Z=l(q,P,[P[2],P[2]*P[0],1]);O===A.FLOAT&&N===A.UNSIGNED_BYTE?w(Z,F):u.assign(Z,F),Y?A.texImage2D(A.TEXTURE_2D,E,D,P[0],P[1],0,D,N,q.subarray(0,$)):A.texSubImage2D(A.TEXTURE_2D,E,h,R,P[0],P[1],D,N,q.subarray(0,$)),N===A.FLOAT?s.freeFloat32(q):s.freeUint8(q)}}function T(A){var h=A.createTexture();return A.bindTexture(A.TEXTURE_2D,h),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),h}function d(A,h,R,E,D){var N=A.getParameter(A.MAX_TEXTURE_SIZE);if(h<0||h>N||R<0||R>N)throw new Error("gl-texture2d: Invalid texture shape");if(D===A.FLOAT&&!A.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var I=T(A);return A.texImage2D(A.TEXTURE_2D,0,E,h,R,0,E,D,null),new m(A,I,h,R,E,D)}function _(A,h,R,E,D,N){var I=T(A);return A.texImage2D(A.TEXTURE_2D,0,D,D,N,h),new m(A,I,R,E,D,N)}function g(A,h){var R=h.dtype,E=h.shape.slice(),D=A.getParameter(A.MAX_TEXTURE_SIZE);if(E[0]<0||E[0]>D||E[1]<0||E[1]>D)throw new Error("gl-texture2d: Invalid texture size");var N=S(E,h.stride.slice()),I=0;R==="float32"?I=A.FLOAT:R==="float64"?(I=A.FLOAT,N=!1,R="float32"):R==="uint8"?I=A.UNSIGNED_BYTE:(I=A.UNSIGNED_BYTE,N=!1,R="uint8");var F=0;if(E.length===2)F=A.LUMINANCE,E=[E[0],E[1],1],h=l(h.data,E,[h.stride[0],h.stride[1],1],h.offset);else if(E.length===3)if(E[2]===1)F=A.ALPHA;else if(E[2]===2)F=A.LUMINANCE_ALPHA;else if(E[2]===3)F=A.RGB;else if(E[2]===4)F=A.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");I===A.FLOAT&&!A.getExtension("OES_texture_float")&&(I=A.UNSIGNED_BYTE,N=!1);var L,P,O=h.size;if(N)h.offset===0&&h.data.length===O?L=h.data:L=h.data.subarray(h.offset,h.offset+O);else{var U=[E[2],E[2]*E[0],1];P=s.malloc(O,R);var X=l(P,E,U,0);(R==="float32"||R==="float64")&&I===A.UNSIGNED_BYTE?w(X,h):u.assign(X,h),L=P.subarray(0,O)}var j=T(A);return A.texImage2D(A.TEXTURE_2D,0,F,E[0],E[1],0,F,I,L),N||s.free(P),new m(A,j,E[0],E[1],F,I)}function c(A){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(f||b(A),typeof arguments[1]=="number")return d(A,arguments[1],arguments[2],arguments[3]||A.RGBA,arguments[4]||A.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return d(A,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||A.RGBA,arguments[3]||A.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var h=arguments[1],R=y(h)?h:h.raw;if(R)return _(A,R,h.width|0,h.height|0,arguments[2]||A.RGBA,arguments[3]||A.UNSIGNED_BYTE);if(h.shape&&h.data&&h.stride)return g(A,h)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},1433:function(a){"use strict";function o(i,l,u){l?l.bind():i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,null);var s=i.getParameter(i.MAX_VERTEX_ATTRIBS)|0;if(u){if(u.length>s)throw new Error("gl-vao: Too many vertex attributes");for(var f=0;f<u.length;++f){var v=u[f];if(v.buffer){var p=v.buffer,b=v.size||4,y=v.type||i.FLOAT,w=!!v.normalized,M=v.stride||0,m=v.offset||0;p.bind(),i.enableVertexAttribArray(f),i.vertexAttribPointer(f,b,y,w,M,m)}else{if(typeof v=="number")i.vertexAttrib1f(f,v);else if(v.length===1)i.vertexAttrib1f(f,v[0]);else if(v.length===2)i.vertexAttrib2f(f,v[0],v[1]);else if(v.length===3)i.vertexAttrib3f(f,v[0],v[1],v[2]);else if(v.length===4)i.vertexAttrib4f(f,v[0],v[1],v[2],v[3]);else throw new Error("gl-vao: Invalid vertex attribute");i.disableVertexAttribArray(f)}}for(;f<s;++f)i.disableVertexAttribArray(f)}else{i.bindBuffer(i.ARRAY_BUFFER,null);for(var f=0;f<s;++f)i.disableVertexAttribArray(f)}}a.exports=o},870:function(a,o,i){"use strict";var l=i(1433);function u(f){this.gl=f,this._elements=null,this._attributes=null,this._elementsType=f.UNSIGNED_SHORT}u.prototype.bind=function(){l(this.gl,this._elements,this._attributes)},u.prototype.update=function(f,v,p){this._elements=v,this._attributes=f,this._elementsType=p||this.gl.UNSIGNED_SHORT},u.prototype.dispose=function(){},u.prototype.unbind=function(){},u.prototype.draw=function(f,v,p){p=p||0;var b=this.gl;this._elements?b.drawElements(f,v,this._elementsType,p):b.drawArrays(f,p,v)};function s(f){return new u(f)}a.exports=s},7518:function(a,o,i){"use strict";var l=i(1433);function u(v,p,b,y,w,M){this.location=v,this.dimension=p,this.a=b,this.b=y,this.c=w,this.d=M}u.prototype.bind=function(v){switch(this.dimension){case 1:v.vertexAttrib1f(this.location,this.a);break;case 2:v.vertexAttrib2f(this.location,this.a,this.b);break;case 3:v.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:v.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function s(v,p,b){this.gl=v,this._ext=p,this.handle=b,this._attribs=[],this._useElements=!1,this._elementsType=v.UNSIGNED_SHORT}s.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var v=0;v<this._attribs.length;++v)this._attribs[v].bind(this.gl)},s.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},s.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},s.prototype.update=function(v,p,b){if(this.bind(),l(this.gl,p,v),this.unbind(),this._attribs.length=0,v)for(var y=0;y<v.length;++y){var w=v[y];typeof w=="number"?this._attribs.push(new u(y,1,w)):Array.isArray(w)&&this._attribs.push(new u(y,w.length,w[0],w[1],w[2],w[3]))}this._useElements=!!p,this._elementsType=b||this.gl.UNSIGNED_SHORT},s.prototype.draw=function(v,p,b){b=b||0;var y=this.gl;this._useElements?y.drawElements(v,p,this._elementsType,b):y.drawArrays(v,b,p)};function f(v,p){return new s(v,p,p.createVertexArrayOES())}a.exports=f},8116:function(a,o,i){"use strict";var l=i(7518),u=i(870);function s(v){this.bindVertexArrayOES=v.bindVertexArray.bind(v),this.createVertexArrayOES=v.createVertexArray.bind(v),this.deleteVertexArrayOES=v.deleteVertexArray.bind(v)}function f(v,p,b,y){var w=v.createVertexArray?new s(v):v.getExtension("OES_vertex_array_object"),M;return w?M=l(v,w):M=u(v),M.update(p,b,y),M}a.exports=f},5632:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]+u[0],i[1]=l[1]+u[1],i[2]=l[2]+u[2],i}},8192:function(a,o,i){a.exports=f;var l=i(2825),u=i(3536),s=i(244);function f(v,p){var b=l(v[0],v[1],v[2]),y=l(p[0],p[1],p[2]);u(b,b),u(y,y);var w=s(b,y);return w>1?0:Math.acos(w)}},9226:function(a){a.exports=o;function o(i,l){return i[0]=Math.ceil(l[0]),i[1]=Math.ceil(l[1]),i[2]=Math.ceil(l[2]),i}},3126:function(a){a.exports=o;function o(i){var l=new Float32Array(3);return l[0]=i[0],l[1]=i[1],l[2]=i[2],l}},3990:function(a){a.exports=o;function o(i,l){return i[0]=l[0],i[1]=l[1],i[2]=l[2],i}},1091:function(a){a.exports=o;function o(){var i=new Float32Array(3);return i[0]=0,i[1]=0,i[2]=0,i}},5911:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],v=l[2],p=u[0],b=u[1],y=u[2];return i[0]=f*y-v*b,i[1]=v*p-s*y,i[2]=s*b-f*p,i}},5455:function(a,o,i){a.exports=i(7056)},7056:function(a){a.exports=o;function o(i,l){var u=l[0]-i[0],s=l[1]-i[1],f=l[2]-i[2];return Math.sqrt(u*u+s*s+f*f)}},4008:function(a,o,i){a.exports=i(6690)},6690:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]/u[0],i[1]=l[1]/u[1],i[2]=l[2]/u[2],i}},244:function(a){a.exports=o;function o(i,l){return i[0]*l[0]+i[1]*l[1]+i[2]*l[2]}},2613:function(a){a.exports=1e-6},9922:function(a,o,i){a.exports=u;var l=i(2613);function u(s,f){var v=s[0],p=s[1],b=s[2],y=f[0],w=f[1],M=f[2];return Math.abs(v-y)<=l*Math.max(1,Math.abs(v),Math.abs(y))&&Math.abs(p-w)<=l*Math.max(1,Math.abs(p),Math.abs(w))&&Math.abs(b-M)<=l*Math.max(1,Math.abs(b),Math.abs(M))}},9265:function(a){a.exports=o;function o(i,l){return i[0]===l[0]&&i[1]===l[1]&&i[2]===l[2]}},2681:function(a){a.exports=o;function o(i,l){return i[0]=Math.floor(l[0]),i[1]=Math.floor(l[1]),i[2]=Math.floor(l[2]),i}},5137:function(a,o,i){a.exports=u;var l=i(1091)();function u(s,f,v,p,b,y){var w,M;for(f||(f=3),v||(v=0),p?M=Math.min(p*f+v,s.length):M=s.length,w=v;w<M;w+=f)l[0]=s[w],l[1]=s[w+1],l[2]=s[w+2],b(l,l,y),s[w]=l[0],s[w+1]=l[1],s[w+2]=l[2];return s}},2825:function(a){a.exports=o;function o(i,l,u){var s=new Float32Array(3);return s[0]=i,s[1]=l,s[2]=u,s}},2931:function(a,o,i){a.exports={EPSILON:i(2613),create:i(1091),clone:i(3126),angle:i(8192),fromValues:i(2825),copy:i(3990),set:i(1463),equals:i(9922),exactEquals:i(9265),add:i(5632),subtract:i(6843),sub:i(2229),multiply:i(5847),mul:i(4505),divide:i(6690),div:i(4008),min:i(8107),max:i(7417),floor:i(2681),ceil:i(9226),round:i(2447),scale:i(6621),scaleAndAdd:i(8489),distance:i(7056),dist:i(5455),squaredDistance:i(2953),sqrDist:i(6141),length:i(1387),len:i(868),squaredLength:i(3066),sqrLen:i(5486),negate:i(5093),inverse:i(811),normalize:i(3536),dot:i(244),cross:i(5911),lerp:i(6658),random:i(7636),transformMat4:i(5673),transformMat3:i(492),transformQuat:i(264),rotateX:i(6894),rotateY:i(109),rotateZ:i(8692),forEach:i(5137)}},811:function(a){a.exports=o;function o(i,l){return i[0]=1/l[0],i[1]=1/l[1],i[2]=1/l[2],i}},868:function(a,o,i){a.exports=i(1387)},1387:function(a){a.exports=o;function o(i){var l=i[0],u=i[1],s=i[2];return Math.sqrt(l*l+u*u+s*s)}},6658:function(a){a.exports=o;function o(i,l,u,s){var f=l[0],v=l[1],p=l[2];return i[0]=f+s*(u[0]-f),i[1]=v+s*(u[1]-v),i[2]=p+s*(u[2]-p),i}},7417:function(a){a.exports=o;function o(i,l,u){return i[0]=Math.max(l[0],u[0]),i[1]=Math.max(l[1],u[1]),i[2]=Math.max(l[2],u[2]),i}},8107:function(a){a.exports=o;function o(i,l,u){return i[0]=Math.min(l[0],u[0]),i[1]=Math.min(l[1],u[1]),i[2]=Math.min(l[2],u[2]),i}},4505:function(a,o,i){a.exports=i(5847)},5847:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]*u[0],i[1]=l[1]*u[1],i[2]=l[2]*u[2],i}},5093:function(a){a.exports=o;function o(i,l){return i[0]=-l[0],i[1]=-l[1],i[2]=-l[2],i}},3536:function(a){a.exports=o;function o(i,l){var u=l[0],s=l[1],f=l[2],v=u*u+s*s+f*f;return v>0&&(v=1/Math.sqrt(v),i[0]=l[0]*v,i[1]=l[1]*v,i[2]=l[2]*v),i}},7636:function(a){a.exports=o;function o(i,l){l=l||1;var u=Math.random()*2*Math.PI,s=Math.random()*2-1,f=Math.sqrt(1-s*s)*l;return i[0]=Math.cos(u)*f,i[1]=Math.sin(u)*f,i[2]=s*l,i}},6894:function(a){a.exports=o;function o(i,l,u,s){var f=u[1],v=u[2],p=l[1]-f,b=l[2]-v,y=Math.sin(s),w=Math.cos(s);return i[0]=l[0],i[1]=f+p*w-b*y,i[2]=v+p*y+b*w,i}},109:function(a){a.exports=o;function o(i,l,u,s){var f=u[0],v=u[2],p=l[0]-f,b=l[2]-v,y=Math.sin(s),w=Math.cos(s);return i[0]=f+b*y+p*w,i[1]=l[1],i[2]=v+b*w-p*y,i}},8692:function(a){a.exports=o;function o(i,l,u,s){var f=u[0],v=u[1],p=l[0]-f,b=l[1]-v,y=Math.sin(s),w=Math.cos(s);return i[0]=f+p*w-b*y,i[1]=v+p*y+b*w,i[2]=l[2],i}},2447:function(a){a.exports=o;function o(i,l){return i[0]=Math.round(l[0]),i[1]=Math.round(l[1]),i[2]=Math.round(l[2]),i}},6621:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]*u,i[1]=l[1]*u,i[2]=l[2]*u,i}},8489:function(a){a.exports=o;function o(i,l,u,s){return i[0]=l[0]+u[0]*s,i[1]=l[1]+u[1]*s,i[2]=l[2]+u[2]*s,i}},1463:function(a){a.exports=o;function o(i,l,u,s){return i[0]=l,i[1]=u,i[2]=s,i}},6141:function(a,o,i){a.exports=i(2953)},5486:function(a,o,i){a.exports=i(3066)},2953:function(a){a.exports=o;function o(i,l){var u=l[0]-i[0],s=l[1]-i[1],f=l[2]-i[2];return u*u+s*s+f*f}},3066:function(a){a.exports=o;function o(i){var l=i[0],u=i[1],s=i[2];return l*l+u*u+s*s}},2229:function(a,o,i){a.exports=i(6843)},6843:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]-u[0],i[1]=l[1]-u[1],i[2]=l[2]-u[2],i}},492:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],v=l[2];return i[0]=s*u[0]+f*u[3]+v*u[6],i[1]=s*u[1]+f*u[4]+v*u[7],i[2]=s*u[2]+f*u[5]+v*u[8],i}},5673:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],v=l[2],p=u[3]*s+u[7]*f+u[11]*v+u[15];return p=p||1,i[0]=(u[0]*s+u[4]*f+u[8]*v+u[12])/p,i[1]=(u[1]*s+u[5]*f+u[9]*v+u[13])/p,i[2]=(u[2]*s+u[6]*f+u[10]*v+u[14])/p,i}},264:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],v=l[2],p=u[0],b=u[1],y=u[2],w=u[3],M=w*s+b*v-y*f,m=w*f+y*s-p*v,k=w*v+p*f-b*s,S=-p*s-b*f-y*v;return i[0]=M*w+S*-p+m*-y-k*-b,i[1]=m*w+S*-b+k*-p-M*-y,i[2]=k*w+S*-y+M*-b-m*-p,i}},4361:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]+u[0],i[1]=l[1]+u[1],i[2]=l[2]+u[2],i[3]=l[3]+u[3],i}},2335:function(a){a.exports=o;function o(i){var l=new Float32Array(4);return l[0]=i[0],l[1]=i[1],l[2]=i[2],l[3]=i[3],l}},2933:function(a){a.exports=o;function o(i,l){return i[0]=l[0],i[1]=l[1],i[2]=l[2],i[3]=l[3],i}},7536:function(a){a.exports=o;function o(){var i=new Float32Array(4);return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i}},4691:function(a){a.exports=o;function o(i,l){var u=l[0]-i[0],s=l[1]-i[1],f=l[2]-i[2],v=l[3]-i[3];return Math.sqrt(u*u+s*s+f*f+v*v)}},1373:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]/u[0],i[1]=l[1]/u[1],i[2]=l[2]/u[2],i[3]=l[3]/u[3],i}},3750:function(a){a.exports=o;function o(i,l){return i[0]*l[0]+i[1]*l[1]+i[2]*l[2]+i[3]*l[3]}},3390:function(a){a.exports=o;function o(i,l,u,s){var f=new Float32Array(4);return f[0]=i,f[1]=l,f[2]=u,f[3]=s,f}},9970:function(a,o,i){a.exports={create:i(7536),clone:i(2335),fromValues:i(3390),copy:i(2933),set:i(4578),add:i(4361),subtract:i(6860),multiply:i(3576),divide:i(1373),min:i(2334),max:i(160),scale:i(9288),scaleAndAdd:i(4844),distance:i(4691),squaredDistance:i(7960),length:i(6808),squaredLength:i(483),negate:i(1498),inverse:i(4494),normalize:i(5177),dot:i(3750),lerp:i(2573),random:i(9131),transformMat4:i(5352),transformQuat:i(4041)}},4494:function(a){a.exports=o;function o(i,l){return i[0]=1/l[0],i[1]=1/l[1],i[2]=1/l[2],i[3]=1/l[3],i}},6808:function(a){a.exports=o;function o(i){var l=i[0],u=i[1],s=i[2],f=i[3];return Math.sqrt(l*l+u*u+s*s+f*f)}},2573:function(a){a.exports=o;function o(i,l,u,s){var f=l[0],v=l[1],p=l[2],b=l[3];return i[0]=f+s*(u[0]-f),i[1]=v+s*(u[1]-v),i[2]=p+s*(u[2]-p),i[3]=b+s*(u[3]-b),i}},160:function(a){a.exports=o;function o(i,l,u){return i[0]=Math.max(l[0],u[0]),i[1]=Math.max(l[1],u[1]),i[2]=Math.max(l[2],u[2]),i[3]=Math.max(l[3],u[3]),i}},2334:function(a){a.exports=o;function o(i,l,u){return i[0]=Math.min(l[0],u[0]),i[1]=Math.min(l[1],u[1]),i[2]=Math.min(l[2],u[2]),i[3]=Math.min(l[3],u[3]),i}},3576:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]*u[0],i[1]=l[1]*u[1],i[2]=l[2]*u[2],i[3]=l[3]*u[3],i}},1498:function(a){a.exports=o;function o(i,l){return i[0]=-l[0],i[1]=-l[1],i[2]=-l[2],i[3]=-l[3],i}},5177:function(a){a.exports=o;function o(i,l){var u=l[0],s=l[1],f=l[2],v=l[3],p=u*u+s*s+f*f+v*v;return p>0&&(p=1/Math.sqrt(p),i[0]=u*p,i[1]=s*p,i[2]=f*p,i[3]=v*p),i}},9131:function(a,o,i){var l=i(5177),u=i(9288);a.exports=s;function s(f,v){return v=v||1,f[0]=Math.random(),f[1]=Math.random(),f[2]=Math.random(),f[3]=Math.random(),l(f,f),u(f,f,v),f}},9288:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]*u,i[1]=l[1]*u,i[2]=l[2]*u,i[3]=l[3]*u,i}},4844:function(a){a.exports=o;function o(i,l,u,s){return i[0]=l[0]+u[0]*s,i[1]=l[1]+u[1]*s,i[2]=l[2]+u[2]*s,i[3]=l[3]+u[3]*s,i}},4578:function(a){a.exports=o;function o(i,l,u,s,f){return i[0]=l,i[1]=u,i[2]=s,i[3]=f,i}},7960:function(a){a.exports=o;function o(i,l){var u=l[0]-i[0],s=l[1]-i[1],f=l[2]-i[2],v=l[3]-i[3];return u*u+s*s+f*f+v*v}},483:function(a){a.exports=o;function o(i){var l=i[0],u=i[1],s=i[2],f=i[3];return l*l+u*u+s*s+f*f}},6860:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]-u[0],i[1]=l[1]-u[1],i[2]=l[2]-u[2],i[3]=l[3]-u[3],i}},5352:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],v=l[2],p=l[3];return i[0]=u[0]*s+u[4]*f+u[8]*v+u[12]*p,i[1]=u[1]*s+u[5]*f+u[9]*v+u[13]*p,i[2]=u[2]*s+u[6]*f+u[10]*v+u[14]*p,i[3]=u[3]*s+u[7]*f+u[11]*v+u[15]*p,i}},4041:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],v=l[2],p=u[0],b=u[1],y=u[2],w=u[3],M=w*s+b*v-y*f,m=w*f+y*s-p*v,k=w*v+p*f-b*s,S=-p*s-b*f-y*v;return i[0]=M*w+S*-p+m*-y-k*-b,i[1]=m*w+S*-b+k*-p-M*-y,i[2]=k*w+S*-y+M*-b-m*-p,i[3]=l[3],i}},1848:function(a,o,i){var l=i(4905),u=i(6468);a.exports=s;function s(f){for(var v=Array.isArray(f)?f:l(f),p=0;p<v.length;p++){var b=v[p];if(b.type==="preprocessor"){var y=b.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(y&&y[2]){var w=y[1],M=y[2];return(w?u(M):M).trim()}}}}},5874:function(a,o,i){a.exports=h;var l=i(620),u=i(7827),s=i(6852),f=i(7932),v=i(3508),p=999,b=9999,y=0,w=1,M=2,m=3,k=4,S=5,x=6,T=7,d=8,_=9,g=10,c=11,A=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function h(R){var E=0,D=0,N=p,I,F,L=[],P=[],O=0,U=0,X=1,j=0,$=0,Y=!1,q=!1,Z="",ne;R=R||{};var Q=s,oe=l;R.version==="300 es"&&(Q=v,oe=f);for(var ee={},G={},E=0;E<Q.length;E++)ee[Q[E]]=!0;for(var E=0;E<oe.length;E++)G[oe[E]]=!0;return function(ge){return P=[],ge!==null?H(ge):te()};function re(ge){ge.length&&P.push({type:A[N],data:ge,position:$,line:X,column:j})}function H(ge){E=0,ge.toString&&(ge=ge.toString()),Z+=ge.replace(/\r\n/g,`
`),ne=Z.length;for(var Te;I=Z[E],E<ne;){switch(Te=E,N){case y:E=ve();break;case w:E=Me();break;case M:E=Ee();break;case m:E=Ae();break;case k:E=Ce();break;case c:E=De();break;case S:E=Oe();break;case b:E=Ue();break;case _:E=de();break;case p:E=ue();break}if(Te!==E)switch(Z[Te]){case`
`:j=0,++X;break;default:++j;break}}return D+=E,Z=Z.slice(E),P}function te(ge){return L.length&&re(L.join("")),N=g,re("(eof)"),P}function ue(){return L=L.length?[]:L,F==="/"&&I==="*"?($=D+E-1,N=y,F=I,E+1):F==="/"&&I==="/"?($=D+E-1,N=w,F=I,E+1):I==="#"?(N=M,$=D+E,E):/\s/.test(I)?(N=_,$=D+E,E):(Y=/\d/.test(I),q=/[^\w_]/.test(I),$=D+E,N=Y?k:q?m:b,E)}function de(){return/[^\s]/g.test(I)?(re(L.join("")),N=p,E):(L.push(I),F=I,E+1)}function Ee(){return(I==="\r"||I===`
`)&&F!=="\\"?(re(L.join("")),N=p,E):(L.push(I),F=I,E+1)}function Me(){return Ee()}function ve(){return I==="/"&&F==="*"?(L.push(I),re(L.join("")),N=p,E+1):(L.push(I),F=I,E+1)}function Ae(){if(F==="."&&/\d/.test(I))return N=S,E;if(F==="/"&&I==="*")return N=y,E;if(F==="/"&&I==="/")return N=w,E;if(I==="."&&L.length){for(;ke(L););return N=S,E}if(I===";"||I===")"||I==="("){if(L.length)for(;ke(L););return re(I),N=p,E+1}var ge=L.length===2&&I!=="=";if(/[\w_\d\s]/.test(I)||ge){for(;ke(L););return N=p,E}return L.push(I),F=I,E+1}function ke(ge){var Te=0,ce,ye;do{if(ce=u.indexOf(ge.slice(0,ge.length+Te).join("")),ye=u[ce],ce===-1){if(Te--+ge.length>0)continue;ye=ge.slice(0,1).join("")}return re(ye),$+=ye.length,L=L.slice(ye.length),L.length}while(!0)}function De(){return/[^a-fA-F0-9]/.test(I)?(re(L.join("")),N=p,E):(L.push(I),F=I,E+1)}function Ce(){return I==="."||/[eE]/.test(I)?(L.push(I),N=S,F=I,E+1):I==="x"&&L.length===1&&L[0]==="0"?(N=c,L.push(I),F=I,E+1):/[^\d]/.test(I)?(re(L.join("")),N=p,E):(L.push(I),F=I,E+1)}function Oe(){return I==="f"&&(L.push(I),F=I,E+=1),/[eE]/.test(I)||(I==="-"||I==="+")&&/[eE]/.test(F)?(L.push(I),F=I,E+1):/[^\d]/.test(I)?(re(L.join("")),N=p,E):(L.push(I),F=I,E+1)}function Ue(){if(/[^\d\w_]/.test(I)){var ge=L.join("");return G[ge]?N=d:ee[ge]?N=T:N=x,re(L.join("")),N=p,E}return L.push(I),F=I,E+1}}},3508:function(a,o,i){var l=i(6852);l=l.slice().filter(function(u){return!/^(gl\_|texture)/.test(u)}),a.exports=l.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},6852:function(a){a.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7932:function(a,o,i){var l=i(620);a.exports=l.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},620:function(a){a.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7827:function(a){a.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},4905:function(a,o,i){var l=i(5874);a.exports=u;function u(s,f){var v=l(f),p=[];return p=p.concat(v(s)),p=p.concat(v(null)),p}},3236:function(a){a.exports=function(o){typeof o=="string"&&(o=[o]);for(var i=[].slice.call(arguments,1),l=[],u=0;u<o.length-1;u++)l.push(o[u],i[u]||"");return l.push(o[u]),l.join("")}},7520:function(a,o,i){"use strict";var l=i(9507);function u(){var s=!1;try{var f=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("test",null,f),window.removeEventListener("test",null,f)}catch(v){s=!1}return s}a.exports=l&&u()},3778:function(a,o){o.read=function(i,l,u,s,f){var v,p,b=f*8-s-1,y=(1<<b)-1,w=y>>1,M=-7,m=u?f-1:0,k=u?-1:1,S=i[l+m];for(m+=k,v=S&(1<<-M)-1,S>>=-M,M+=b;M>0;v=v*256+i[l+m],m+=k,M-=8);for(p=v&(1<<-M)-1,v>>=-M,M+=s;M>0;p=p*256+i[l+m],m+=k,M-=8);if(v===0)v=1-w;else{if(v===y)return p?NaN:(S?-1:1)*(1/0);p=p+Math.pow(2,s),v=v-w}return(S?-1:1)*p*Math.pow(2,v-s)},o.write=function(i,l,u,s,f,v){var p,b,y,w=v*8-f-1,M=(1<<w)-1,m=M>>1,k=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=s?0:v-1,x=s?1:-1,T=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(b=isNaN(l)?1:0,p=M):(p=Math.floor(Math.log(l)/Math.LN2),l*(y=Math.pow(2,-p))<1&&(p--,y*=2),p+m>=1?l+=k/y:l+=k*Math.pow(2,1-m),l*y>=2&&(p++,y/=2),p+m>=M?(b=0,p=M):p+m>=1?(b=(l*y-1)*Math.pow(2,f),p=p+m):(b=l*Math.pow(2,m-1)*Math.pow(2,f),p=0));f>=8;i[u+S]=b&255,S+=x,b/=256,f-=8);for(p=p<<f|b,w+=f;w>0;i[u+S]=p&255,S+=x,p/=256,w-=8);i[u+S-x]|=T*128}},8954:function(a,o,i){"use strict";a.exports=m;var l=i(3250),u=i(6803).Fw;function s(k,S,x){this.vertices=k,this.adjacent=S,this.boundary=x,this.lastVisited=-1}s.prototype.flip=function(){var k=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=k;var S=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=S};function f(k,S,x){this.vertices=k,this.cell=S,this.index=x}function v(k,S){return u(k.vertices,S.vertices)}function p(k){return function(){var S=this.tuple;return k.apply(this,S)}}function b(k){var S=l[k+1];return S||(S=l),p(S)}var y=[];function w(k,S,x){this.dimension=k,this.vertices=S,this.simplices=x,this.interior=x.filter(function(_){return!_.boundary}),this.tuple=new Array(k+1);for(var T=0;T<=k;++T)this.tuple[T]=this.vertices[T];var d=y[k];d||(d=y[k]=b(k)),this.orient=d}var M=w.prototype;M.handleBoundaryDegeneracy=function(k,S){var x=this.dimension,T=this.vertices.length-1,d=this.tuple,_=this.vertices,g=[k];for(k.lastVisited=-T;g.length>0;){k=g.pop();for(var c=k.adjacent,A=0;A<=x;++A){var h=c[A];if(!(!h.boundary||h.lastVisited<=-T)){for(var R=h.vertices,E=0;E<=x;++E){var D=R[E];D<0?d[E]=S:d[E]=_[D]}var N=this.orient();if(N>0)return h;h.lastVisited=-T,N===0&&g.push(h)}}}return null},M.walk=function(k,S){var x=this.vertices.length-1,T=this.dimension,d=this.vertices,_=this.tuple,g=S?this.interior.length*Math.random()|0:this.interior.length-1,c=this.interior[g];e:for(;!c.boundary;){for(var A=c.vertices,h=c.adjacent,R=0;R<=T;++R)_[R]=d[A[R]];c.lastVisited=x;for(var R=0;R<=T;++R){var E=h[R];if(!(E.lastVisited>=x)){var D=_[R];_[R]=k;var N=this.orient();if(_[R]=D,N<0){c=E;continue e}else E.boundary?E.lastVisited=-x:E.lastVisited=x}}return}return c},M.addPeaks=function(k,S){var x=this.vertices.length-1,T=this.dimension,d=this.vertices,_=this.tuple,g=this.interior,c=this.simplices,A=[S];S.lastVisited=x,S.vertices[S.vertices.indexOf(-1)]=x,S.boundary=!1,g.push(S);for(var h=[];A.length>0;){var S=A.pop(),R=S.vertices,E=S.adjacent,D=R.indexOf(x);if(!(D<0)){for(var N=0;N<=T;++N)if(N!==D){var I=E[N];if(!(!I.boundary||I.lastVisited>=x)){var F=I.vertices;if(I.lastVisited!==-x){for(var L=0,P=0;P<=T;++P)F[P]<0?(L=P,_[P]=k):_[P]=d[F[P]];var O=this.orient();if(O>0){F[L]=x,I.boundary=!1,g.push(I),A.push(I),I.lastVisited=x;continue}else I.lastVisited=-x}var U=I.adjacent,X=R.slice(),j=E.slice(),$=new s(X,j,!0);c.push($);var Y=U.indexOf(S);if(!(Y<0)){U[Y]=$,j[D]=I,X[N]=-1,j[N]=S,E[N]=$,$.flip();for(var P=0;P<=T;++P){var q=X[P];if(!(q<0||q===x)){for(var Z=new Array(T-1),ne=0,Q=0;Q<=T;++Q){var oe=X[Q];oe<0||Q===P||(Z[ne++]=oe)}h.push(new f(Z,$,P))}}}}}}}h.sort(v);for(var N=0;N+1<h.length;N+=2){var ee=h[N],G=h[N+1],re=ee.index,H=G.index;re<0||H<0||(ee.cell.adjacent[ee.index]=G.cell,G.cell.adjacent[G.index]=ee.cell)}},M.insert=function(k,S){var x=this.vertices;x.push(k);var T=this.walk(k,S);if(T){for(var d=this.dimension,_=this.tuple,g=0;g<=d;++g){var c=T.vertices[g];c<0?_[g]=k:_[g]=x[c]}var A=this.orient(_);A<0||A===0&&(T=this.handleBoundaryDegeneracy(T,k),!T)||this.addPeaks(k,T)}},M.boundary=function(){for(var k=this.dimension,S=[],x=this.simplices,T=x.length,d=0;d<T;++d){var _=x[d];if(_.boundary){for(var g=new Array(k),c=_.vertices,A=0,h=0,R=0;R<=k;++R)c[R]>=0?g[A++]=c[R]:h=R&1;if(h===(k&1)){var E=g[0];g[0]=g[1],g[1]=E}S.push(g)}}return S};function m(k,S){var x=k.length;if(x===0)throw new Error("Must have at least d+1 points");var T=k[0].length;if(x<=T)throw new Error("Must input at least d+1 points");var d=k.slice(0,T+1),_=l.apply(void 0,d);if(_===0)throw new Error("Input not in general position");for(var g=new Array(T+1),c=0;c<=T;++c)g[c]=c;_<0&&(g[0]=1,g[1]=0);for(var A=new s(g,new Array(T+1),!1),h=A.adjacent,R=new Array(T+2),c=0;c<=T;++c){for(var E=g.slice(),D=0;D<=T;++D)D===c&&(E[D]=-1);var N=E[0];E[0]=E[1],E[1]=N;var I=new s(E,new Array(T+1),!0);h[c]=I,R[c]=I}R[T+1]=A;for(var c=0;c<=T;++c)for(var E=h[c].vertices,F=h[c].adjacent,D=0;D<=T;++D){var L=E[D];if(L<0){F[D]=A;continue}for(var P=0;P<=T;++P)h[P].vertices.indexOf(L)<0&&(F[D]=h[P])}for(var O=new w(T,d,R),U=!!S,c=T+1;c<x;++c)O.insert(k[c],U);return O.boundary()}},3352:function(a,o,i){"use strict";var l=i(2478),u=0,s=1,f=2;a.exports=A;function v(h,R,E,D,N){this.mid=h,this.left=R,this.right=E,this.leftPoints=D,this.rightPoints=N,this.count=(R?R.count:0)+(E?E.count:0)+D.length}var p=v.prototype;function b(h,R){h.mid=R.mid,h.left=R.left,h.right=R.right,h.leftPoints=R.leftPoints,h.rightPoints=R.rightPoints,h.count=R.count}function y(h,R){var E=_(R);h.mid=E.mid,h.left=E.left,h.right=E.right,h.leftPoints=E.leftPoints,h.rightPoints=E.rightPoints,h.count=E.count}function w(h,R){var E=h.intervals([]);E.push(R),y(h,E)}function M(h,R){var E=h.intervals([]),D=E.indexOf(R);return D<0?u:(E.splice(D,1),y(h,E),s)}p.intervals=function(h){return h.push.apply(h,this.leftPoints),this.left&&this.left.intervals(h),this.right&&this.right.intervals(h),h},p.insert=function(h){var R=this.count-this.leftPoints.length;if(this.count+=1,h[1]<this.mid)this.left?4*(this.left.count+1)>3*(R+1)?w(this,h):this.left.insert(h):this.left=_([h]);else if(h[0]>this.mid)this.right?4*(this.right.count+1)>3*(R+1)?w(this,h):this.right.insert(h):this.right=_([h]);else{var E=l.ge(this.leftPoints,h,T),D=l.ge(this.rightPoints,h,d);this.leftPoints.splice(E,0,h),this.rightPoints.splice(D,0,h)}},p.remove=function(h){var R=this.count-this.leftPoints;if(h[1]<this.mid){if(!this.left)return u;var E=this.right?this.right.count:0;if(4*E>3*(R-1))return M(this,h);var D=this.left.remove(h);return D===f?(this.left=null,this.count-=1,s):(D===s&&(this.count-=1),D)}else if(h[0]>this.mid){if(!this.right)return u;var N=this.left?this.left.count:0;if(4*N>3*(R-1))return M(this,h);var D=this.right.remove(h);return D===f?(this.right=null,this.count-=1,s):(D===s&&(this.count-=1),D)}else{if(this.count===1)return this.leftPoints[0]===h?f:u;if(this.leftPoints.length===1&&this.leftPoints[0]===h){if(this.left&&this.right){for(var I=this,F=this.left;F.right;)I=F,F=F.right;if(I===this)F.right=this.right;else{var L=this.left,D=this.right;I.count-=F.count,I.right=F.left,F.left=L,F.right=D}b(this,F),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?b(this,this.left):b(this,this.right);return s}for(var L=l.ge(this.leftPoints,h,T);L<this.leftPoints.length&&this.leftPoints[L][0]===h[0];++L)if(this.leftPoints[L]===h){this.count-=1,this.leftPoints.splice(L,1);for(var D=l.ge(this.rightPoints,h,d);D<this.rightPoints.length&&this.rightPoints[D][1]===h[1];++D)if(this.rightPoints[D]===h)return this.rightPoints.splice(D,1),s}return u}};function m(h,R,E){for(var D=0;D<h.length&&h[D][0]<=R;++D){var N=E(h[D]);if(N)return N}}function k(h,R,E){for(var D=h.length-1;D>=0&&h[D][1]>=R;--D){var N=E(h[D]);if(N)return N}}function S(h,R){for(var E=0;E<h.length;++E){var D=R(h[E]);if(D)return D}}p.queryPoint=function(h,R){if(h<this.mid){if(this.left){var E=this.left.queryPoint(h,R);if(E)return E}return m(this.leftPoints,h,R)}else if(h>this.mid){if(this.right){var E=this.right.queryPoint(h,R);if(E)return E}return k(this.rightPoints,h,R)}else return S(this.leftPoints,R)},p.queryInterval=function(h,R,E){if(h<this.mid&&this.left){var D=this.left.queryInterval(h,R,E);if(D)return D}if(R>this.mid&&this.right){var D=this.right.queryInterval(h,R,E);if(D)return D}return R<this.mid?m(this.leftPoints,R,E):h>this.mid?k(this.rightPoints,h,E):S(this.leftPoints,E)};function x(h,R){return h-R}function T(h,R){var E=h[0]-R[0];return E||h[1]-R[1]}function d(h,R){var E=h[1]-R[1];return E||h[0]-R[0]}function _(h){if(h.length===0)return null;for(var R=[],E=0;E<h.length;++E)R.push(h[E][0],h[E][1]);R.sort(x);for(var D=R[R.length>>1],N=[],I=[],F=[],E=0;E<h.length;++E){var L=h[E];L[1]<D?N.push(L):D<L[0]?I.push(L):F.push(L)}var P=F,O=F.slice();return P.sort(T),O.sort(d),new v(D,_(N),_(I),P,O)}function g(h){this.root=h}var c=g.prototype;c.insert=function(h){this.root?this.root.insert(h):this.root=new v(h[0],null,null,[h],[h])},c.remove=function(h){if(this.root){var R=this.root.remove(h);return R===f&&(this.root=null),R!==u}return!1},c.queryPoint=function(h,R){if(this.root)return this.root.queryPoint(h,R)},c.queryInterval=function(h,R,E){if(h<=R&&this.root)return this.root.queryInterval(h,R,E)},Object.defineProperty(c,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(c,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function A(h){return!h||h.length===0?new g(null):new g(_(h))}},9507:function(a){a.exports=!0},7163:function(a){a.exports=function(l){return l!=null&&(o(l)||i(l)||!!l._isBuffer)};function o(l){return!!l.constructor&&typeof l.constructor.isBuffer=="function"&&l.constructor.isBuffer(l)}function i(l){return typeof l.readFloatLE=="function"&&typeof l.slice=="function"&&o(l.slice(0,0))}},5219:function(a){"use strict";a.exports=function(o){for(var i=o.length,l,u=0;u<i;u++)if(l=o.charCodeAt(u),(l<9||l>13)&&l!==32&&l!==133&&l!==160&&l!==5760&&l!==6158&&(l<8192||l>8205)&&l!==8232&&l!==8233&&l!==8239&&l!==8287&&l!==8288&&l!==12288&&l!==65279)return!1;return!0}},395:function(a){function o(i,l,u){return i*(1-u)+l*u}a.exports=o},2652:function(a,o,i){var l=i(4335),u=i(6864),s=i(1903),f=i(9921),v=i(7608),p=i(5665),b={length:i(1387),normalize:i(3536),dot:i(244),cross:i(5911)},y=u(),w=u(),M=[0,0,0,0],m=[[0,0,0],[0,0,0],[0,0,0]],k=[0,0,0];a.exports=function(_,g,c,A,h,R){if(g||(g=[0,0,0]),c||(c=[0,0,0]),A||(A=[0,0,0]),h||(h=[0,0,0,1]),R||(R=[0,0,0,1]),!l(y,_)||(s(w,y),w[3]=0,w[7]=0,w[11]=0,w[15]=1,Math.abs(f(w)<1e-8)))return!1;var E=y[3],D=y[7],N=y[11],I=y[12],F=y[13],L=y[14],P=y[15];if(E!==0||D!==0||N!==0){M[0]=E,M[1]=D,M[2]=N,M[3]=P;var O=v(w,w);if(!O)return!1;p(w,w),S(h,M,w)}else h[0]=h[1]=h[2]=0,h[3]=1;if(g[0]=I,g[1]=F,g[2]=L,x(m,y),c[0]=b.length(m[0]),b.normalize(m[0],m[0]),A[0]=b.dot(m[0],m[1]),T(m[1],m[1],m[0],1,-A[0]),c[1]=b.length(m[1]),b.normalize(m[1],m[1]),A[0]/=c[1],A[1]=b.dot(m[0],m[2]),T(m[2],m[2],m[0],1,-A[1]),A[2]=b.dot(m[1],m[2]),T(m[2],m[2],m[1],1,-A[2]),c[2]=b.length(m[2]),b.normalize(m[2],m[2]),A[1]/=c[2],A[2]/=c[2],b.cross(k,m[1],m[2]),b.dot(m[0],k)<0)for(var U=0;U<3;U++)c[U]*=-1,m[U][0]*=-1,m[U][1]*=-1,m[U][2]*=-1;return R[0]=.5*Math.sqrt(Math.max(1+m[0][0]-m[1][1]-m[2][2],0)),R[1]=.5*Math.sqrt(Math.max(1-m[0][0]+m[1][1]-m[2][2],0)),R[2]=.5*Math.sqrt(Math.max(1-m[0][0]-m[1][1]+m[2][2],0)),R[3]=.5*Math.sqrt(Math.max(1+m[0][0]+m[1][1]+m[2][2],0)),m[2][1]>m[1][2]&&(R[0]=-R[0]),m[0][2]>m[2][0]&&(R[1]=-R[1]),m[1][0]>m[0][1]&&(R[2]=-R[2]),!0};function S(d,_,g){var c=_[0],A=_[1],h=_[2],R=_[3];return d[0]=g[0]*c+g[4]*A+g[8]*h+g[12]*R,d[1]=g[1]*c+g[5]*A+g[9]*h+g[13]*R,d[2]=g[2]*c+g[6]*A+g[10]*h+g[14]*R,d[3]=g[3]*c+g[7]*A+g[11]*h+g[15]*R,d}function x(d,_){d[0][0]=_[0],d[0][1]=_[1],d[0][2]=_[2],d[1][0]=_[4],d[1][1]=_[5],d[1][2]=_[6],d[2][0]=_[8],d[2][1]=_[9],d[2][2]=_[10]}function T(d,_,g,c,A){d[0]=_[0]*c+g[0]*A,d[1]=_[1]*c+g[1]*A,d[2]=_[2]*c+g[2]*A}},4335:function(a){a.exports=function(i,l){var u=l[15];if(u===0)return!1;for(var s=1/u,f=0;f<16;f++)i[f]=l[f]*s;return!0}},7442:function(a,o,i){var l=i(6658),u=i(7182),s=i(2652),f=i(9921),v=i(8648),p=M(),b=M(),y=M();a.exports=w;function w(S,x,T,d){if(f(x)===0||f(T)===0)return!1;var _=s(x,p.translate,p.scale,p.skew,p.perspective,p.quaternion),g=s(T,b.translate,b.scale,b.skew,b.perspective,b.quaternion);return!_||!g?!1:(l(y.translate,p.translate,b.translate,d),l(y.skew,p.skew,b.skew,d),l(y.scale,p.scale,b.scale,d),l(y.perspective,p.perspective,b.perspective,d),v(y.quaternion,p.quaternion,b.quaternion,d),u(S,y.translate,y.scale,y.skew,y.perspective,y.quaternion),!0)}function M(){return{translate:m(),scale:m(1),skew:m(),perspective:k(),quaternion:k()}}function m(S){return[S||0,S||0,S||0]}function k(){return[0,0,0,1]}},7182:function(a,o,i){var l={identity:i(7894),translate:i(7656),multiply:i(6760),create:i(6864),scale:i(2504),fromRotationTranslation:i(6743)},u=l.create(),s=l.create();a.exports=function(v,p,b,y,w,M){return l.identity(v),l.fromRotationTranslation(v,M,p),v[3]=w[0],v[7]=w[1],v[11]=w[2],v[15]=w[3],l.identity(s),y[2]!==0&&(s[9]=y[2],l.multiply(v,v,s)),y[1]!==0&&(s[9]=0,s[8]=y[1],l.multiply(v,v,s)),y[0]!==0&&(s[8]=0,s[4]=y[0],l.multiply(v,v,s)),l.scale(v,v,b),v}},1811:function(a,o,i){"use strict";var l=i(2478),u=i(7442),s=i(7608),f=i(5567),v=i(2408),p=i(7089),b=i(6582),y=i(7656),w=i(2504),M=i(3536),m=[0,0,0];a.exports=T;function k(d){this._components=d.slice(),this._time=[0],this.prevMatrix=d.slice(),this.nextMatrix=d.slice(),this.computedMatrix=d.slice(),this.computedInverse=d.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var S=k.prototype;S.recalcMatrix=function(d){var _=this._time,g=l.le(_,d),c=this.computedMatrix;if(!(g<0)){var A=this._components;if(g===_.length-1)for(var h=16*g,R=0;R<16;++R)c[R]=A[h++];else{for(var E=_[g+1]-_[g],h=16*g,D=this.prevMatrix,N=!0,R=0;R<16;++R)D[R]=A[h++];for(var I=this.nextMatrix,R=0;R<16;++R)I[R]=A[h++],N=N&&D[R]===I[R];if(E<1e-6||N)for(var R=0;R<16;++R)c[R]=D[R];else u(c,D,I,(d-_[g])/E)}var F=this.computedUp;F[0]=c[1],F[1]=c[5],F[2]=c[9],M(F,F);var L=this.computedInverse;s(L,c);var P=this.computedEye,O=L[15];P[0]=L[12]/O,P[1]=L[13]/O,P[2]=L[14]/O;for(var U=this.computedCenter,X=Math.exp(this.computedRadius[0]),R=0;R<3;++R)U[R]=P[R]-c[2+4*R]*X}},S.idle=function(d){if(!(d<this.lastT())){for(var _=this._components,g=_.length-16,c=0;c<16;++c)_.push(_[g++]);this._time.push(d)}},S.flush=function(d){var _=l.gt(this._time,d)-2;_<0||(this._time.splice(0,_),this._components.splice(0,16*_))},S.lastT=function(){return this._time[this._time.length-1]},S.lookAt=function(d,_,g,c){this.recalcMatrix(d),_=_||this.computedEye,g=g||m,c=c||this.computedUp,this.setMatrix(d,b(this.computedMatrix,_,g,c));for(var A=0,h=0;h<3;++h)A+=Math.pow(g[h]-_[h],2);A=Math.log(Math.sqrt(A)),this.computedRadius[0]=A},S.rotate=function(d,_,g,c){this.recalcMatrix(d);var A=this.computedInverse;_&&v(A,A,_),g&&f(A,A,g),c&&p(A,A,c),this.setMatrix(d,s(this.computedMatrix,A))};var x=[0,0,0];S.pan=function(d,_,g,c){x[0]=-(_||0),x[1]=-(g||0),x[2]=-(c||0),this.recalcMatrix(d);var A=this.computedInverse;y(A,A,x),this.setMatrix(d,s(A,A))},S.translate=function(d,_,g,c){x[0]=_||0,x[1]=g||0,x[2]=c||0,this.recalcMatrix(d);var A=this.computedMatrix;y(A,A,x),this.setMatrix(d,A)},S.setMatrix=function(d,_){if(!(d<this.lastT())){this._time.push(d);for(var g=0;g<16;++g)this._components.push(_[g])}},S.setDistance=function(d,_){this.computedRadius[0]=_},S.setDistanceLimits=function(d,_){var g=this._limits;g[0]=d,g[1]=_},S.getDistanceLimits=function(d){var _=this._limits;return d?(d[0]=_[0],d[1]=_[1],d):_};function T(d){d=d||{};var _=d.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new k(_)}},3090:function(a,o,i){"use strict";a.exports=u;var l=i(3250)[3];function u(s){var f=s.length;if(f<3){for(var k=new Array(f),v=0;v<f;++v)k[v]=v;return f===2&&s[0][0]===s[1][0]&&s[0][1]===s[1][1]?[0]:k}for(var p=new Array(f),v=0;v<f;++v)p[v]=v;p.sort(function(d,_){var g=s[d][0]-s[_][0];return g||s[d][1]-s[_][1]});for(var b=[p[0],p[1]],y=[p[0],p[1]],v=2;v<f;++v){for(var w=p[v],M=s[w],m=b.length;m>1&&l(s[b[m-2]],s[b[m-1]],M)<=0;)m-=1,b.pop();for(b.push(w),m=y.length;m>1&&l(s[y[m-2]],s[y[m-1]],M)>=0;)m-=1,y.pop();y.push(w)}for(var k=new Array(y.length+b.length-2),S=0,v=0,x=b.length;v<x;++v)k[S++]=b[v];for(var T=y.length-2;T>0;--T)k[S++]=y[T];return k}},351:function(a,o,i){"use strict";a.exports=u;var l=i(4687);function u(s,f){f||(f=s,s=window);var v=0,p=0,b=0,y={shift:!1,alt:!1,control:!1,meta:!1},w=!1;function M(h){var R=!1;return"altKey"in h&&(R=R||h.altKey!==y.alt,y.alt=!!h.altKey),"shiftKey"in h&&(R=R||h.shiftKey!==y.shift,y.shift=!!h.shiftKey),"ctrlKey"in h&&(R=R||h.ctrlKey!==y.control,y.control=!!h.ctrlKey),"metaKey"in h&&(R=R||h.metaKey!==y.meta,y.meta=!!h.metaKey),R}function m(h,R){var E=l.x(R),D=l.y(R);"buttons"in R&&(h=R.buttons|0),(h!==v||E!==p||D!==b||M(R))&&(v=h|0,p=E||0,b=D||0,f&&f(v,p,b,y))}function k(h){m(0,h)}function S(){(v||p||b||y.shift||y.alt||y.meta||y.control)&&(p=b=0,v=0,y.shift=y.alt=y.control=y.meta=!1,f&&f(0,0,0,y))}function x(h){M(h)&&f&&f(v,p,b,y)}function T(h){l.buttons(h)===0?m(0,h):m(v,h)}function d(h){m(v|l.buttons(h),h)}function _(h){m(v&~l.buttons(h),h)}function g(){w||(w=!0,s.addEventListener("mousemove",T),s.addEventListener("mousedown",d),s.addEventListener("mouseup",_),s.addEventListener("mouseleave",k),s.addEventListener("mouseenter",k),s.addEventListener("mouseout",k),s.addEventListener("mouseover",k),s.addEventListener("blur",S),s.addEventListener("keyup",x),s.addEventListener("keydown",x),s.addEventListener("keypress",x),s!==window&&(window.addEventListener("blur",S),window.addEventListener("keyup",x),window.addEventListener("keydown",x),window.addEventListener("keypress",x)))}function c(){w&&(w=!1,s.removeEventListener("mousemove",T),s.removeEventListener("mousedown",d),s.removeEventListener("mouseup",_),s.removeEventListener("mouseleave",k),s.removeEventListener("mouseenter",k),s.removeEventListener("mouseout",k),s.removeEventListener("mouseover",k),s.removeEventListener("blur",S),s.removeEventListener("keyup",x),s.removeEventListener("keydown",x),s.removeEventListener("keypress",x),s!==window&&(window.removeEventListener("blur",S),window.removeEventListener("keyup",x),window.removeEventListener("keydown",x),window.removeEventListener("keypress",x)))}g();var A={element:s};return Object.defineProperties(A,{enabled:{get:function(){return w},set:function(h){h?g():c()},enumerable:!0},buttons:{get:function(){return v},enumerable:!0},x:{get:function(){return p},enumerable:!0},y:{get:function(){return b},enumerable:!0},mods:{get:function(){return y},enumerable:!0}}),A}},24:function(a){var o={left:0,top:0};a.exports=i;function i(u,s,f){s=s||u.currentTarget||u.srcElement,Array.isArray(f)||(f=[0,0]);var v=u.clientX||0,p=u.clientY||0,b=l(s);return f[0]=v-b.left,f[1]=p-b.top,f}function l(u){return u===window||u===document||u===document.body?o:u.getBoundingClientRect()}},4687:function(a,o){"use strict";function i(f){if(typeof f=="object"){if("buttons"in f)return f.buttons;if("which"in f){var v=f.which;if(v===2)return 4;if(v===3)return 2;if(v>0)return 1<<v-1}else if("button"in f){var v=f.button;if(v===1)return 4;if(v===2)return 2;if(v>=0)return 1<<v}}return 0}o.buttons=i;function l(f){return f.target||f.srcElement||window}o.element=l;function u(f){if(typeof f=="object"){if("offsetX"in f)return f.offsetX;var v=l(f),p=v.getBoundingClientRect();return f.clientX-p.left}return 0}o.x=u;function s(f){if(typeof f=="object"){if("offsetY"in f)return f.offsetY;var v=l(f),p=v.getBoundingClientRect();return f.clientY-p.top}return 0}o.y=s},8512:function(a,o,i){"use strict";var l=i(665);a.exports=u;function u(s,f,v){typeof s=="function"&&(v=!!f,f=s,s=window);var p=l("ex",s),b=function(y){v&&y.preventDefault();var w=y.deltaX||0,M=y.deltaY||0,m=y.deltaZ||0,k=y.deltaMode,S=1;switch(k){case 1:S=p;break;case 2:S=window.innerHeight;break}if(w*=S,M*=S,m*=S,w||M||m)return f(w,M,m,y)};return s.addEventListener("wheel",b),b}},2640:function(a,o,i){"use strict";var l=i(1888);a.exports=f;var u={"false,0,1":function(p,b,y,w,M){return function(k,S,x,T){var d=k.shape[0]|0,_=k.shape[1]|0,g=k.data,c=k.offset|0,A=k.stride[0]|0,h=k.stride[1]|0,R=c,E,D=-A|0,N=0,I=-h|0,F=0,L=-A-h|0,P=0,O=A|0,U=h-A*d|0,X=0,j=0,$=0,Y=2*d|0,q=w(Y),Z=w(Y),ne=0,Q=0,oe=-1,ee=-1,G=0,re=-d|0,H=d|0,te=0,ue=-d-1|0,de=d-1|0,Ee=0,Me=0,ve=0;for(X=0;X<d;++X)q[ne++]=y(g[R],S,x,T),R+=O;if(R+=U,_>0){if(j=1,q[ne++]=y(g[R],S,x,T),R+=O,d>0)for(X=1,E=g[R],Q=q[ne]=y(E,S,x,T),G=q[ne+oe],te=q[ne+re],Ee=q[ne+ue],(Q!==G||Q!==te||Q!==Ee)&&(N=g[R+D],F=g[R+I],P=g[R+L],p(X,j,E,N,F,P,Q,G,te,Ee,S,x,T),Me=Z[ne]=$++),ne+=1,R+=O,X=2;X<d;++X)E=g[R],Q=q[ne]=y(E,S,x,T),G=q[ne+oe],te=q[ne+re],Ee=q[ne+ue],(Q!==G||Q!==te||Q!==Ee)&&(N=g[R+D],F=g[R+I],P=g[R+L],p(X,j,E,N,F,P,Q,G,te,Ee,S,x,T),Me=Z[ne]=$++,Ee!==G&&b(Z[ne+oe],Me,P,N,Ee,G,S,x,T)),ne+=1,R+=O;for(R+=U,ne=0,ve=oe,oe=ee,ee=ve,ve=re,re=H,H=ve,ve=ue,ue=de,de=ve,j=2;j<_;++j){if(q[ne++]=y(g[R],S,x,T),R+=O,d>0)for(X=1,E=g[R],Q=q[ne]=y(E,S,x,T),G=q[ne+oe],te=q[ne+re],Ee=q[ne+ue],(Q!==G||Q!==te||Q!==Ee)&&(N=g[R+D],F=g[R+I],P=g[R+L],p(X,j,E,N,F,P,Q,G,te,Ee,S,x,T),Me=Z[ne]=$++,Ee!==te&&b(Z[ne+re],Me,F,P,te,Ee,S,x,T)),ne+=1,R+=O,X=2;X<d;++X)E=g[R],Q=q[ne]=y(E,S,x,T),G=q[ne+oe],te=q[ne+re],Ee=q[ne+ue],(Q!==G||Q!==te||Q!==Ee)&&(N=g[R+D],F=g[R+I],P=g[R+L],p(X,j,E,N,F,P,Q,G,te,Ee,S,x,T),Me=Z[ne]=$++,Ee!==te&&b(Z[ne+re],Me,F,P,te,Ee,S,x,T),Ee!==G&&b(Z[ne+oe],Me,P,N,Ee,G,S,x,T)),ne+=1,R+=O;j&1&&(ne=0),ve=oe,oe=ee,ee=ve,ve=re,re=H,H=ve,ve=ue,ue=de,de=ve,R+=U}}M(Z),M(q)}},"false,1,0":function(p,b,y,w,M){return function(k,S,x,T){var d=k.shape[0]|0,_=k.shape[1]|0,g=k.data,c=k.offset|0,A=k.stride[0]|0,h=k.stride[1]|0,R=c,E,D=-A|0,N=0,I=-h|0,F=0,L=-A-h|0,P=0,O=h|0,U=A-h*_|0,X=0,j=0,$=0,Y=2*_|0,q=w(Y),Z=w(Y),ne=0,Q=0,oe=-1,ee=-1,G=0,re=-_|0,H=_|0,te=0,ue=-_-1|0,de=_-1|0,Ee=0,Me=0,ve=0;for(j=0;j<_;++j)q[ne++]=y(g[R],S,x,T),R+=O;if(R+=U,d>0){if(X=1,q[ne++]=y(g[R],S,x,T),R+=O,_>0)for(j=1,E=g[R],Q=q[ne]=y(E,S,x,T),te=q[ne+re],G=q[ne+oe],Ee=q[ne+ue],(Q!==te||Q!==G||Q!==Ee)&&(N=g[R+D],F=g[R+I],P=g[R+L],p(X,j,E,N,F,P,Q,te,G,Ee,S,x,T),Me=Z[ne]=$++),ne+=1,R+=O,j=2;j<_;++j)E=g[R],Q=q[ne]=y(E,S,x,T),te=q[ne+re],G=q[ne+oe],Ee=q[ne+ue],(Q!==te||Q!==G||Q!==Ee)&&(N=g[R+D],F=g[R+I],P=g[R+L],p(X,j,E,N,F,P,Q,te,G,Ee,S,x,T),Me=Z[ne]=$++,Ee!==G&&b(Z[ne+oe],Me,F,P,G,Ee,S,x,T)),ne+=1,R+=O;for(R+=U,ne=0,ve=re,re=H,H=ve,ve=oe,oe=ee,ee=ve,ve=ue,ue=de,de=ve,X=2;X<d;++X){if(q[ne++]=y(g[R],S,x,T),R+=O,_>0)for(j=1,E=g[R],Q=q[ne]=y(E,S,x,T),te=q[ne+re],G=q[ne+oe],Ee=q[ne+ue],(Q!==te||Q!==G||Q!==Ee)&&(N=g[R+D],F=g[R+I],P=g[R+L],p(X,j,E,N,F,P,Q,te,G,Ee,S,x,T),Me=Z[ne]=$++,Ee!==te&&b(Z[ne+re],Me,P,N,Ee,te,S,x,T)),ne+=1,R+=O,j=2;j<_;++j)E=g[R],Q=q[ne]=y(E,S,x,T),te=q[ne+re],G=q[ne+oe],Ee=q[ne+ue],(Q!==te||Q!==G||Q!==Ee)&&(N=g[R+D],F=g[R+I],P=g[R+L],p(X,j,E,N,F,P,Q,te,G,Ee,S,x,T),Me=Z[ne]=$++,Ee!==G&&b(Z[ne+oe],Me,F,P,G,Ee,S,x,T),Ee!==te&&b(Z[ne+re],Me,P,N,Ee,te,S,x,T)),ne+=1,R+=O;X&1&&(ne=0),ve=re,re=H,H=ve,ve=oe,oe=ee,ee=ve,ve=ue,ue=de,de=ve,R+=U}}M(Z),M(q)}}};function s(v,p,b,y,w,M){var m=[M,w].join(","),k=u[m];return k(v,p,b,l.mallocUint32,l.freeUint32)}function f(v){function p(S){throw new Error("ndarray-extract-contour: "+S)}typeof v!="object"&&p("Must specify arguments");var b=v.order;Array.isArray(b)||p("Must specify order");var y=v.arrayArguments||1;y<1&&p("Must have at least one array argument");var w=v.scalarArguments||0;w<0&&p("Scalar arg count must be > 0"),typeof v.vertex!="function"&&p("Must specify vertex creation function"),typeof v.cell!="function"&&p("Must specify cell creation function"),typeof v.phase!="function"&&p("Must specify phase function");for(var M=v.getters||[],m=new Array(y),k=0;k<y;++k)M.indexOf(k)>=0?m[k]=!0:m[k]=!1;return s(v.vertex,v.cell,v.phase,w,b,m)}},6199:function(a,o,i){"use strict";var l=i(1338),u={zero:function(T,d,_,g){var c=T[0],A=_[0];g|=0;var h=0,R=A;for(h=0;h<c;++h)d[g]=0,g+=R},fdTemplate1:function(T,d,_,g,c,A,h){var R=T[0],E=_[0],D=A[0],N=-1*E,I=E;g|=0,h|=0;var F=0,L=E,P=D;for(F=0;F<R;++F)c[h]=.5*(d[g+N]-d[g+I]),g+=L,h+=P},fdTemplate2:function(T,d,_,g,c,A,h,R,E,D){var N=T[0],I=T[1],F=_[0],L=_[1],P=A[0],O=A[1],U=E[0],X=E[1],j=-1*F,$=F,Y=-1*L,q=L;g|=0,h|=0,D|=0;var Z=0,ne=0,Q=L,oe=F-I*L,ee=O,G=P-I*O,re=X,H=U-I*X;for(ne=0;ne<N;++ne){for(Z=0;Z<I;++Z)c[h]=.5*(d[g+j]-d[g+$]),R[D]=.5*(d[g+Y]-d[g+q]),g+=Q,h+=ee,D+=re;g+=oe,h+=G,D+=H}}},s={cdiff:function(T){var d={};return function(g,c,A){var h=g.dtype,R=g.order,E=c.dtype,D=c.order,N=A.dtype,I=A.order,F=[h,R.join(),E,D.join(),N,I.join()].join(),L=d[F];return L||(d[F]=L=T([h,R,E,D,N,I])),L(g.shape.slice(0),g.data,g.stride,g.offset|0,c.data,c.stride,c.offset|0,A.data,A.stride,A.offset|0)}},zero:function(T){var d={};return function(g){var c=g.dtype,A=g.order,h=[c,A.join()].join(),R=d[h];return R||(d[h]=R=T([c,A])),R(g.shape.slice(0),g.data,g.stride,g.offset|0)}},fdTemplate1:function(T){var d={};return function(g,c){var A=g.dtype,h=g.order,R=c.dtype,E=c.order,D=[A,h.join(),R,E.join()].join(),N=d[D];return N||(d[D]=N=T([A,h,R,E])),N(g.shape.slice(0),g.data,g.stride,g.offset|0,c.data,c.stride,c.offset|0)}},fdTemplate2:function(T){var d={};return function(g,c,A){var h=g.dtype,R=g.order,E=c.dtype,D=c.order,N=A.dtype,I=A.order,F=[h,R.join(),E,D.join(),N,I.join()].join(),L=d[F];return L||(d[F]=L=T([h,R,E,D,N,I])),L(g.shape.slice(0),g.data,g.stride,g.offset|0,c.data,c.stride,c.offset|0,A.data,A.stride,A.offset|0)}}};function f(T){var d=s[T.funcName];return d(v.bind(void 0,T))}function v(T){return u[T.funcName]}function p(T){return f({funcName:T.funcName})}var b={},y={},w={body:"",args:[],thisVars:[],localVars:[]},M=p({funcName:"cdiff"}),m=p({funcName:"zero"});function k(T){return T in b?b[T]:b[T]=p({funcName:"fdTemplate"+T})}function S(T,d,_,g){return function(c,A){var h=A.shape.slice();return h[0]>2&&h[1]>2&&g(A.pick(-1,-1).lo(1,1).hi(h[0]-2,h[1]-2),c.pick(-1,-1,0).lo(1,1).hi(h[0]-2,h[1]-2),c.pick(-1,-1,1).lo(1,1).hi(h[0]-2,h[1]-2)),h[1]>2&&(_(A.pick(0,-1).lo(1).hi(h[1]-2),c.pick(0,-1,1).lo(1).hi(h[1]-2)),d(c.pick(0,-1,0).lo(1).hi(h[1]-2))),h[1]>2&&(_(A.pick(h[0]-1,-1).lo(1).hi(h[1]-2),c.pick(h[0]-1,-1,1).lo(1).hi(h[1]-2)),d(c.pick(h[0]-1,-1,0).lo(1).hi(h[1]-2))),h[0]>2&&(_(A.pick(-1,0).lo(1).hi(h[0]-2),c.pick(-1,0,0).lo(1).hi(h[0]-2)),d(c.pick(-1,0,1).lo(1).hi(h[0]-2))),h[0]>2&&(_(A.pick(-1,h[1]-1).lo(1).hi(h[0]-2),c.pick(-1,h[1]-1,0).lo(1).hi(h[0]-2)),d(c.pick(-1,h[1]-1,1).lo(1).hi(h[0]-2))),c.set(0,0,0,0),c.set(0,0,1,0),c.set(h[0]-1,0,0,0),c.set(h[0]-1,0,1,0),c.set(0,h[1]-1,0,0),c.set(0,h[1]-1,1,0),c.set(h[0]-1,h[1]-1,0,0),c.set(h[0]-1,h[1]-1,1,0),c}}function x(T){var d=T.join(),h=y[d];if(h)return h;for(var _=T.length,g=[M,m],c=1;c<=_;++c)g.push(k(c));var A=S,h=A.apply(void 0,g);return y[d]=h,h}a.exports=function(d,_,g){if(Array.isArray(g)||(typeof g=="string"?g=l(_.dimension,g):g=l(_.dimension,"clamp")),_.size===0)return d;if(_.dimension===0)return d.set(0),d;var c=x(g);return c(d,_)}},4317:function(a){"use strict";function o(f,v){var p=Math.floor(v),b=v-p,y=0<=p&&p<f.shape[0],w=0<=p+1&&p+1<f.shape[0],M=y?+f.get(p):0,m=w?+f.get(p+1):0;return(1-b)*M+b*m}function i(f,v,p){var b=Math.floor(v),y=v-b,w=0<=b&&b<f.shape[0],M=0<=b+1&&b+1<f.shape[0],m=Math.floor(p),k=p-m,S=0<=m&&m<f.shape[1],x=0<=m+1&&m+1<f.shape[1],T=w&&S?f.get(b,m):0,d=w&&x?f.get(b,m+1):0,_=M&&S?f.get(b+1,m):0,g=M&&x?f.get(b+1,m+1):0;return(1-k)*((1-y)*T+y*_)+k*((1-y)*d+y*g)}function l(f,v,p,b){var y=Math.floor(v),w=v-y,M=0<=y&&y<f.shape[0],m=0<=y+1&&y+1<f.shape[0],k=Math.floor(p),S=p-k,x=0<=k&&k<f.shape[1],T=0<=k+1&&k+1<f.shape[1],d=Math.floor(b),_=b-d,g=0<=d&&d<f.shape[2],c=0<=d+1&&d+1<f.shape[2],A=M&&x&&g?f.get(y,k,d):0,h=M&&T&&g?f.get(y,k+1,d):0,R=m&&x&&g?f.get(y+1,k,d):0,E=m&&T&&g?f.get(y+1,k+1,d):0,D=M&&x&&c?f.get(y,k,d+1):0,N=M&&T&&c?f.get(y,k+1,d+1):0,I=m&&x&&c?f.get(y+1,k,d+1):0,F=m&&T&&c?f.get(y+1,k+1,d+1):0;return(1-_)*((1-S)*((1-w)*A+w*R)+S*((1-w)*h+w*E))+_*((1-S)*((1-w)*D+w*I)+S*((1-w)*N+w*F))}function u(f){var v=f.shape.length|0,p=new Array(v),b=new Array(v),y=new Array(v),w=new Array(v),M,m;for(M=0;M<v;++M)m=+arguments[M+1],p[M]=Math.floor(m),b[M]=m-p[M],y[M]=0<=p[M]&&p[M]<f.shape[M],w[M]=0<=p[M]+1&&p[M]+1<f.shape[M];var k=0,S,x,T;e:for(M=0;M<1<<v;++M){for(x=1,T=f.offset,S=0;S<v;++S)if(M&1<<S){if(!w[S])continue e;x*=b[S],T+=f.stride[S]*(p[S]+1)}else{if(!y[S])continue e;x*=1-b[S],T+=f.stride[S]*p[S]}k+=x*f.data[T]}return k}function s(f,v,p,b){switch(f.shape.length){case 0:return 0;case 1:return o(f,v);case 2:return i(f,v,p);case 3:return l(f,v,p,b);default:return u.apply(void 0,arguments)}}a.exports=s,a.exports.d1=o,a.exports.d2=i,a.exports.d3=l},5298:function(a,o){"use strict";var i={"float64,2,1,0":function(){return function(y,w,M,m,k){var S=y[0],x=y[1],T=y[2],d=M[0],_=M[1],g=M[2];m|=0;var c=0,A=0,h=0,R=g,E=_-T*g,D=d-x*_;for(h=0;h<S;++h){for(A=0;A<x;++A){for(c=0;c<T;++c)w[m]/=k,m+=R;m+=E}m+=D}}},"uint8,2,0,1,float64,2,1,0":function(){return function(y,w,M,m,k,S,x,T){var d=y[0],_=y[1],g=y[2],c=M[0],A=M[1],h=M[2],R=S[0],E=S[1],D=S[2];m|=0,x|=0;for(var N=m,I=x,F=y[0]|0;F>0;){F<64?(d=F,F=0):(d=64,F-=64);for(var L=y[1]|0;L>0;){L<64?(_=L,L=0):(_=64,L-=64),m=N+F*c+L*A,x=I+F*R+L*E;var P=0,O=0,U=0,X=h,j=c-g*h,$=A-d*c,Y=D,q=R-g*D,Z=E-d*R;for(U=0;U<_;++U){for(O=0;O<d;++O){for(P=0;P<g;++P)w[m]=k[x]*T,m+=X,x+=Y;m+=j,x+=q}m+=$,x+=Z}}}}},"float32,1,0,float32,1,0":function(){return function(y,w,M,m,k,S,x){var T=y[0],d=y[1],_=M[0],g=M[1],c=S[0],A=S[1];m|=0,x|=0;var h=0,R=0,E=g,D=_-d*g,N=A,I=c-d*A;for(R=0;R<T;++R){for(h=0;h<d;++h)w[m]=k[x],m+=E,x+=N;m+=D,x+=I}}},"float32,1,0,float32,0,1":function(){return function(y,w,M,m,k,S,x){var T=y[0],d=y[1],_=M[0],g=M[1],c=S[0],A=S[1];m|=0,x|=0;for(var h=m,R=x,E=y[1]|0;E>0;){E<64?(d=E,E=0):(d=64,E-=64);for(var D=y[0]|0;D>0;){D<64?(T=D,D=0):(T=64,D-=64),m=h+E*g+D*_,x=R+E*A+D*c;var N=0,I=0,F=g,L=_-d*g,P=A,O=c-d*A;for(I=0;I<T;++I){for(N=0;N<d;++N)w[m]=k[x],m+=F,x+=P;m+=L,x+=O}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(y,w,M,m,k,S,x){var T=y[0],d=y[1],_=y[2],g=M[0],c=M[1],A=M[2],h=S[0],R=S[1],E=S[2];m|=0,x|=0;for(var D=m,N=x,I=y[2]|0;I>0;){I<64?(_=I,I=0):(_=64,I-=64);for(var F=y[0]|0;F>0;){F<64?(T=F,F=0):(T=64,F-=64);for(var L=y[1]|0;L>0;){L<64?(d=L,L=0):(d=64,L-=64),m=D+I*A+F*g+L*c,x=N+I*E+F*h+L*R;var P=0,O=0,U=0,X=A,j=g-_*A,$=c-T*g,Y=E,q=h-_*E,Z=R-T*h;for(U=0;U<d;++U){for(O=0;O<T;++O){for(P=0;P<_;++P)w[m]=k[x],m+=X,x+=Y;m+=j,x+=q}m+=$,x+=Z}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(y,w,M,m,k,S,x){var T=y[0],d=y[1],_=y[2],g=M[0],c=M[1],A=M[2],h=S[0],R=S[1],E=S[2];m|=0,x|=0;var D=0,N=0,I=0,F=A,L=g-_*A,P=c-T*g,O=E,U=h-_*E,X=R-T*h;for(I=0;I<d;++I){for(N=0;N<T;++N){for(D=0;D<_;++D)w[m]=k[x],m+=F,x+=O;m+=L,x+=U}m+=P,x+=X}}}};function l(b,y){var w=y.join(","),M=i[w];return M()}var u=l,s={mul:function(b){var y={};return function(M,m,k){var S=M.dtype,x=M.order,T=m.dtype,d=m.order,_=k.dtype,g=k.order,c=[S,x.join(),T,d.join(),_,g.join()].join(),A=y[c];return A||(y[c]=A=b([S,x,T,d,_,g])),A(M.shape.slice(0),M.data,M.stride,M.offset|0,m.data,m.stride,m.offset|0,k.data,k.stride,k.offset|0)}},muls:function(b){var y={};return function(M,m,k){var S=M.dtype,x=M.order,T=m.dtype,d=m.order,_=[S,x.join(),T,d.join()].join(),g=y[_];return g||(y[_]=g=b([S,x,T,d])),g(M.shape.slice(0),M.data,M.stride,M.offset|0,m.data,m.stride,m.offset|0,k)}},mulseq:function(b){var y={};return function(M,m){var k=M.dtype,S=M.order,x=[k,S.join()].join(),T=y[x];return T||(y[x]=T=b([k,S])),T(M.shape.slice(0),M.data,M.stride,M.offset|0,m)}},div:function(b){var y={};return function(M,m,k){var S=M.dtype,x=M.order,T=m.dtype,d=m.order,_=k.dtype,g=k.order,c=[S,x.join(),T,d.join(),_,g.join()].join(),A=y[c];return A||(y[c]=A=b([S,x,T,d,_,g])),A(M.shape.slice(0),M.data,M.stride,M.offset|0,m.data,m.stride,m.offset|0,k.data,k.stride,k.offset|0)}},divs:function(b){var y={};return function(M,m,k){var S=M.dtype,x=M.order,T=m.dtype,d=m.order,_=[S,x.join(),T,d.join()].join(),g=y[_];return g||(y[_]=g=b([S,x,T,d])),g(M.shape.slice(0),M.data,M.stride,M.offset|0,m.data,m.stride,m.offset|0,k)}},divseq:function(b){var y={};return function(M,m){var k=M.dtype,S=M.order,x=[k,S.join()].join(),T=y[x];return T||(y[x]=T=b([k,S])),T(M.shape.slice(0),M.data,M.stride,M.offset|0,m)}},assign:function(b){var y={};return function(M,m){var k=M.dtype,S=M.order,x=m.dtype,T=m.order,d=[k,S.join(),x,T.join()].join(),_=y[d];return _||(y[d]=_=b([k,S,x,T])),_(M.shape.slice(0),M.data,M.stride,M.offset|0,m.data,m.stride,m.offset|0)}}};function f(b){var y=s[b.funcName];return y(u.bind(void 0,b))}function v(b){return f({funcName:b.funcName})}var p={mul:"*",div:"/"};(function(){for(var b in p)o[b]=v({funcName:b}),o[b+"s"]=v({funcName:b+"s"}),o[b+"seq"]=v({funcName:b+"seq"})})(),o.assign=v({funcName:"assign"})},9994:function(a,o,i){"use strict";var l=i(9618),u=i(8277);a.exports=function(f,v){for(var p=[],b=f,y=1;Array.isArray(b);)p.push(b.length),y*=b.length,b=b[0];return p.length===0?l():(v||(v=l(new Float64Array(y),p)),u(v,f),v)}},8277:function(a){"use strict";function o(){return function(v,p,b,y,w){var M=v[0],m=v[1],k=v[2],S=b[0],x=b[1],T=b[2],d=[0,0,0];y|=0;var _=0,g=0,c=0,A=T,h=x-k*T,R=S-m*x;for(c=0;c<M;++c){for(g=0;g<m;++g){for(_=0;_<k;++_){{var E=w,D;for(D=0;D<d.length-1;++D)E=E[d[D]];p[y]=E[d[d.length-1]]}y+=A,++d[2]}y+=h,d[2]-=k,++d[1]}y+=R,d[1]-=m,++d[0]}}}function i(){return o()}var l=i;function u(v){var p={};return function(y,w){var M=y.dtype,m=y.order,k=[M,m.join()].join(),S=p[k];return S||(p[k]=S=v([M,m])),S(y.shape.slice(0),y.data,y.stride,y.offset|0,w)}}function s(v){return u(l.bind(void 0,v))}function f(v){return s({funcName:v.funcName})}a.exports=f({funcName:"convert"})},7640:function(a,o,i){"use strict";var l=i(1888);function u(w){switch(w){case"uint32":return[l.mallocUint32,l.freeUint32];default:return null}}var s={"uint32,1,0":function(w,M){return function(k,S,x,T,d,_,g,c,A,h,R){var E,D,N,I=k*d+T,F,L=w(c),P,O,U,X;for(E=k+1;E<=S;++E){for(D=E,I+=d,N=I,P=0,O=I,F=0;F<c;++F)L[P++]=x[O],O+=A;e:for(;D-- >k;){P=0,O=N-d;r:for(F=0;F<c;++F){if(U=x[O],X=L[P],U<X)break e;if(U>X)break r;O+=h,P+=R}for(P=N,O=N-d,F=0;F<c;++F)x[P]=x[O],P+=A,O+=A;N-=d}for(P=N,O=0,F=0;F<c;++F)x[P]=L[O++],P+=A}M(L)}}};function f(w,M){var m=u(M),k=[M,w].join(","),S=s[k];return m?S(m[0],m[1]):S()}var v={"uint32,1,0":function(w,M,m){return function k(S,x,T,d,_,g,c,A,h,R,E){var D=(x-S+1)/6|0,N=S+D,I=x-D,F=S+x>>1,L=F-D,P=F+D,O=N,U=L,X=F,j=P,$=I,Y=S+1,q=x-1,Z=!0,ne,Q,oe,ee,G,re,H,te,ue,de=0,Ee=0,Me=0,ve,Ae,ke,De,Ce,Oe,Ue,ge,Te,ce,ye,Le,me,he,be,Se,ze=A,Fe=M(ze),Ze=M(ze);Ae=_*O,ke=_*U,Se=d;e:for(ve=0;ve<A;++ve){if(H=Ae+Se,te=ke+Se,Me=T[H]-T[te],Me>0){Q=O,O=U,U=Q;break e}if(Me<0)break e;Se+=R}Ae=_*j,ke=_*$,Se=d;e:for(ve=0;ve<A;++ve){if(H=Ae+Se,te=ke+Se,Me=T[H]-T[te],Me>0){Q=j,j=$,$=Q;break e}if(Me<0)break e;Se+=R}Ae=_*O,ke=_*X,Se=d;e:for(ve=0;ve<A;++ve){if(H=Ae+Se,te=ke+Se,Me=T[H]-T[te],Me>0){Q=O,O=X,X=Q;break e}if(Me<0)break e;Se+=R}Ae=_*U,ke=_*X,Se=d;e:for(ve=0;ve<A;++ve){if(H=Ae+Se,te=ke+Se,Me=T[H]-T[te],Me>0){Q=U,U=X,X=Q;break e}if(Me<0)break e;Se+=R}Ae=_*O,ke=_*j,Se=d;e:for(ve=0;ve<A;++ve){if(H=Ae+Se,te=ke+Se,Me=T[H]-T[te],Me>0){Q=O,O=j,j=Q;break e}if(Me<0)break e;Se+=R}Ae=_*X,ke=_*j,Se=d;e:for(ve=0;ve<A;++ve){if(H=Ae+Se,te=ke+Se,Me=T[H]-T[te],Me>0){Q=X,X=j,j=Q;break e}if(Me<0)break e;Se+=R}Ae=_*U,ke=_*$,Se=d;e:for(ve=0;ve<A;++ve){if(H=Ae+Se,te=ke+Se,Me=T[H]-T[te],Me>0){Q=U,U=$,$=Q;break e}if(Me<0)break e;Se+=R}Ae=_*U,ke=_*X,Se=d;e:for(ve=0;ve<A;++ve){if(H=Ae+Se,te=ke+Se,Me=T[H]-T[te],Me>0){Q=U,U=X,X=Q;break e}if(Me<0)break e;Se+=R}Ae=_*j,ke=_*$,Se=d;e:for(ve=0;ve<A;++ve){if(H=Ae+Se,te=ke+Se,Me=T[H]-T[te],Me>0){Q=j,j=$,$=Q;break e}if(Me<0)break e;Se+=R}for(Ae=_*O,ke=_*U,De=_*X,Ce=_*j,Oe=_*$,Ue=_*N,ge=_*F,Te=_*I,be=0,Se=d,ve=0;ve<A;++ve)H=Ae+Se,te=ke+Se,ue=De+Se,ce=Ce+Se,ye=Oe+Se,Le=Ue+Se,me=ge+Se,he=Te+Se,Fe[be]=T[te],Ze[be]=T[ce],Z=Z&&Fe[be]===Ze[be],oe=T[H],ee=T[ue],G=T[ye],T[Le]=oe,T[me]=ee,T[he]=G,++be,Se+=h;for(Ae=_*L,ke=_*S,Se=d,ve=0;ve<A;++ve)H=Ae+Se,te=ke+Se,T[H]=T[te],Se+=h;for(Ae=_*P,ke=_*x,Se=d,ve=0;ve<A;++ve)H=Ae+Se,te=ke+Se,T[H]=T[te],Se+=h;if(Z)for(re=Y;re<=q;++re){H=d+re*_,be=0;e:for(ve=0;ve<A;++ve){if(Me=T[H]-Fe[be],Me!==0)break e;be+=E,H+=R}if(Me!==0)if(Me<0){if(re!==Y)for(Ae=_*re,ke=_*Y,Se=d,ve=0;ve<A;++ve)H=Ae+Se,te=ke+Se,ne=T[H],T[H]=T[te],T[te]=ne,Se+=h;++Y}else for(;;){H=d+q*_,be=0;e:for(ve=0;ve<A;++ve){if(Me=T[H]-Fe[be],Me!==0)break e;be+=E,H+=R}if(Me>0)q--;else if(Me<0){for(Ae=_*re,ke=_*Y,De=_*q,Se=d,ve=0;ve<A;++ve)H=Ae+Se,te=ke+Se,ue=De+Se,ne=T[H],T[H]=T[te],T[te]=T[ue],T[ue]=ne,Se+=h;++Y,--q;break}else{for(Ae=_*re,ke=_*q,Se=d,ve=0;ve<A;++ve)H=Ae+Se,te=ke+Se,ne=T[H],T[H]=T[te],T[te]=ne,Se+=h;--q;break}}}else for(re=Y;re<=q;++re){H=d+re*_,be=0;e:for(ve=0;ve<A;++ve){if(de=T[H]-Fe[be],de!==0)break e;be+=E,H+=R}if(de<0){if(re!==Y)for(Ae=_*re,ke=_*Y,Se=d,ve=0;ve<A;++ve)H=Ae+Se,te=ke+Se,ne=T[H],T[H]=T[te],T[te]=ne,Se+=h;++Y}else{H=d+re*_,be=0;e:for(ve=0;ve<A;++ve){if(Ee=T[H]-Ze[be],Ee!==0)break e;be+=E,H+=R}if(Ee>0)for(;;){H=d+q*_,be=0;e:for(ve=0;ve<A;++ve){if(Me=T[H]-Ze[be],Me!==0)break e;be+=E,H+=R}if(Me>0){if(--q<re)break;continue}else{H=d+q*_,be=0;e:for(ve=0;ve<A;++ve){if(Me=T[H]-Fe[be],Me!==0)break e;be+=E,H+=R}if(Me<0){for(Ae=_*re,ke=_*Y,De=_*q,Se=d,ve=0;ve<A;++ve)H=Ae+Se,te=ke+Se,ue=De+Se,ne=T[H],T[H]=T[te],T[te]=T[ue],T[ue]=ne,Se+=h;++Y,--q}else{for(Ae=_*re,ke=_*q,Se=d,ve=0;ve<A;++ve)H=Ae+Se,te=ke+Se,ne=T[H],T[H]=T[te],T[te]=ne,Se+=h;--q}break}}}}for(Ae=_*S,ke=_*(Y-1),be=0,Se=d,ve=0;ve<A;++ve)H=Ae+Se,te=ke+Se,T[H]=T[te],T[te]=Fe[be],++be,Se+=h;for(Ae=_*x,ke=_*(q+1),be=0,Se=d,ve=0;ve<A;++ve)H=Ae+Se,te=ke+Se,T[H]=T[te],T[te]=Ze[be],++be,Se+=h;if(Y-2-S<=32?w(S,Y-2,T,d,_,g,c,A,h,R,E):k(S,Y-2,T,d,_,g,c,A,h,R,E),x-(q+2)<=32?w(q+2,x,T,d,_,g,c,A,h,R,E):k(q+2,x,T,d,_,g,c,A,h,R,E),Z){m(Fe),m(Ze);return}if(Y<N&&q>I){e:for(;;){for(H=d+Y*_,be=0,Se=d,ve=0;ve<A;++ve){if(T[H]!==Fe[be])break e;++be,H+=h}++Y}e:for(;;){for(H=d+q*_,be=0,Se=d,ve=0;ve<A;++ve){if(T[H]!==Ze[be])break e;++be,H+=h}--q}for(re=Y;re<=q;++re){H=d+re*_,be=0;e:for(ve=0;ve<A;++ve){if(de=T[H]-Fe[be],de!==0)break e;be+=E,H+=R}if(de===0){if(re!==Y)for(Ae=_*re,ke=_*Y,Se=d,ve=0;ve<A;++ve)H=Ae+Se,te=ke+Se,ne=T[H],T[H]=T[te],T[te]=ne,Se+=h;++Y}else{H=d+re*_,be=0;e:for(ve=0;ve<A;++ve){if(Ee=T[H]-Ze[be],Ee!==0)break e;be+=E,H+=R}if(Ee===0)for(;;){H=d+q*_,be=0;e:for(ve=0;ve<A;++ve){if(Me=T[H]-Ze[be],Me!==0)break e;be+=E,H+=R}if(Me===0){if(--q<re)break;continue}else{H=d+q*_,be=0;e:for(ve=0;ve<A;++ve){if(Me=T[H]-Fe[be],Me!==0)break e;be+=E,H+=R}if(Me<0){for(Ae=_*re,ke=_*Y,De=_*q,Se=d,ve=0;ve<A;++ve)H=Ae+Se,te=ke+Se,ue=De+Se,ne=T[H],T[H]=T[te],T[te]=T[ue],T[ue]=ne,Se+=h;++Y,--q}else{for(Ae=_*re,ke=_*q,Se=d,ve=0;ve<A;++ve)H=Ae+Se,te=ke+Se,ne=T[H],T[H]=T[te],T[te]=ne,Se+=h;--q}break}}}}}m(Fe),m(Ze),q-Y<=32?w(Y,q,T,d,_,g,c,A,h,R,E):k(Y,q,T,d,_,g,c,A,h,R,E)}}};function p(w,M,m){var k=u(M),S=[M,w].join(","),x=v[S];return w.length>1&&k?x(m,k[0],k[1]):x(m)}var b={"uint32,1,0":function(w,M){return function(m){var k=m.data,S=m.offset|0,x=m.shape,T=m.stride,d=T[0]|0,_=x[0]|0,g=T[1]|0,c=x[1]|0,A=g,h=g,R=1;_<=32?w(0,_-1,k,S,d,g,_,c,A,h,R):M(0,_-1,k,S,d,g,_,c,A,h,R)}}};function y(w,M){var m=[M,w].join(","),k=b[m],S=f(w,M),x=p(w,M,S);return k(S,x)}a.exports=y},446:function(a,o,i){"use strict";var l=i(7640),u={};function s(f){var v=f.order,p=f.dtype,b=[v,p],y=b.join(":"),w=u[y];return w||(u[y]=w=l(v,p)),w(f),f}a.exports=s},9618:function(a,o,i){var l=i(7163),u=typeof Float64Array!="undefined";function s(M,m){return M[0]-m[0]}function f(){var M=this.stride,m=new Array(M.length),k;for(k=0;k<m.length;++k)m[k]=[Math.abs(M[k]),k];m.sort(s);var S=new Array(m.length);for(k=0;k<S.length;++k)S[k]=m[k][1];return S}var v={T:function(M){function m(S){this.data=S}var k=m.prototype;return k.dtype=M,k.index=function(){return-1},k.size=0,k.dimension=-1,k.shape=k.stride=k.order=[],k.lo=k.hi=k.transpose=k.step=function(){return new m(this.data)},k.get=k.set=function(){},k.pick=function(){return null},function(x){return new m(x)}},0:function(M,m){function k(x,T){this.data=x,this.offset=T}var S=k.prototype;return S.dtype=M,S.index=function(){return this.offset},S.dimension=0,S.size=1,S.shape=S.stride=S.order=[],S.lo=S.hi=S.transpose=S.step=function(){return new k(this.data,this.offset)},S.pick=function(){return m(this.data)},S.valueOf=S.get=function(){return M==="generic"?this.data.get(this.offset):this.data[this.offset]},S.set=function(T){return M==="generic"?this.data.set(this.offset,T):this.data[this.offset]=T},function(T,d,_,g){return new k(T,g)}},1:function(M,m,k){function S(T,d,_,g){this.data=T,this.shape=[d],this.stride=[_],this.offset=g|0}var x=S.prototype;return x.dtype=M,x.dimension=1,Object.defineProperty(x,"size",{get:function(){return this.shape[0]}}),x.order=[0],x.set=function(d,_){return M==="generic"?this.data.set(this.offset+this.stride[0]*d,_):this.data[this.offset+this.stride[0]*d]=_},x.get=function(d){return M==="generic"?this.data.get(this.offset+this.stride[0]*d):this.data[this.offset+this.stride[0]*d]},x.index=function(d){return this.offset+this.stride[0]*d},x.hi=function(d){return new S(this.data,typeof d!="number"||d<0?this.shape[0]:d|0,this.stride[0],this.offset)},x.lo=function(d){var _=this.offset,g=0,c=this.shape[0],A=this.stride[0];return typeof d=="number"&&d>=0&&(g=d|0,_+=A*g,c-=g),new S(this.data,c,A,_)},x.step=function(d){var _=this.shape[0],g=this.stride[0],c=this.offset,A=0,h=Math.ceil;return typeof d=="number"&&(A=d|0,A<0?(c+=g*(_-1),_=h(-_/A)):_=h(_/A),g*=A),new S(this.data,_,g,c)},x.transpose=function(d){d=d===void 0?0:d|0;var _=this.shape,g=this.stride;return new S(this.data,_[d],g[d],this.offset)},x.pick=function(d){var _=[],g=[],c=this.offset;typeof d=="number"&&d>=0?c=c+this.stride[0]*d|0:(_.push(this.shape[0]),g.push(this.stride[0]));var A=m[_.length+1];return A(this.data,_,g,c)},function(d,_,g,c){return new S(d,_[0],g[0],c)}},2:function(M,m,k){function S(T,d,_,g,c,A){this.data=T,this.shape=[d,_],this.stride=[g,c],this.offset=A|0}var x=S.prototype;return x.dtype=M,x.dimension=2,Object.defineProperty(x,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(x,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),x.set=function(d,_,g){return M==="generic"?this.data.set(this.offset+this.stride[0]*d+this.stride[1]*_,g):this.data[this.offset+this.stride[0]*d+this.stride[1]*_]=g},x.get=function(d,_){return M==="generic"?this.data.get(this.offset+this.stride[0]*d+this.stride[1]*_):this.data[this.offset+this.stride[0]*d+this.stride[1]*_]},x.index=function(d,_){return this.offset+this.stride[0]*d+this.stride[1]*_},x.hi=function(d,_){return new S(this.data,typeof d!="number"||d<0?this.shape[0]:d|0,typeof _!="number"||_<0?this.shape[1]:_|0,this.stride[0],this.stride[1],this.offset)},x.lo=function(d,_){var g=this.offset,c=0,A=this.shape[0],h=this.shape[1],R=this.stride[0],E=this.stride[1];return typeof d=="number"&&d>=0&&(c=d|0,g+=R*c,A-=c),typeof _=="number"&&_>=0&&(c=_|0,g+=E*c,h-=c),new S(this.data,A,h,R,E,g)},x.step=function(d,_){var g=this.shape[0],c=this.shape[1],A=this.stride[0],h=this.stride[1],R=this.offset,E=0,D=Math.ceil;return typeof d=="number"&&(E=d|0,E<0?(R+=A*(g-1),g=D(-g/E)):g=D(g/E),A*=E),typeof _=="number"&&(E=_|0,E<0?(R+=h*(c-1),c=D(-c/E)):c=D(c/E),h*=E),new S(this.data,g,c,A,h,R)},x.transpose=function(d,_){d=d===void 0?0:d|0,_=_===void 0?1:_|0;var g=this.shape,c=this.stride;return new S(this.data,g[d],g[_],c[d],c[_],this.offset)},x.pick=function(d,_){var g=[],c=[],A=this.offset;typeof d=="number"&&d>=0?A=A+this.stride[0]*d|0:(g.push(this.shape[0]),c.push(this.stride[0])),typeof _=="number"&&_>=0?A=A+this.stride[1]*_|0:(g.push(this.shape[1]),c.push(this.stride[1]));var h=m[g.length+1];return h(this.data,g,c,A)},function(d,_,g,c){return new S(d,_[0],_[1],g[0],g[1],c)}},3:function(M,m,k){function S(T,d,_,g,c,A,h,R){this.data=T,this.shape=[d,_,g],this.stride=[c,A,h],this.offset=R|0}var x=S.prototype;return x.dtype=M,x.dimension=3,Object.defineProperty(x,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(x,"order",{get:function(){var d=Math.abs(this.stride[0]),_=Math.abs(this.stride[1]),g=Math.abs(this.stride[2]);return d>_?_>g?[2,1,0]:d>g?[1,2,0]:[1,0,2]:d>g?[2,0,1]:g>_?[0,1,2]:[0,2,1]}}),x.set=function(d,_,g,c){return M==="generic"?this.data.set(this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*g,c):this.data[this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*g]=c},x.get=function(d,_,g){return M==="generic"?this.data.get(this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*g):this.data[this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*g]},x.index=function(d,_,g){return this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*g},x.hi=function(d,_,g){return new S(this.data,typeof d!="number"||d<0?this.shape[0]:d|0,typeof _!="number"||_<0?this.shape[1]:_|0,typeof g!="number"||g<0?this.shape[2]:g|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},x.lo=function(d,_,g){var c=this.offset,A=0,h=this.shape[0],R=this.shape[1],E=this.shape[2],D=this.stride[0],N=this.stride[1],I=this.stride[2];return typeof d=="number"&&d>=0&&(A=d|0,c+=D*A,h-=A),typeof _=="number"&&_>=0&&(A=_|0,c+=N*A,R-=A),typeof g=="number"&&g>=0&&(A=g|0,c+=I*A,E-=A),new S(this.data,h,R,E,D,N,I,c)},x.step=function(d,_,g){var c=this.shape[0],A=this.shape[1],h=this.shape[2],R=this.stride[0],E=this.stride[1],D=this.stride[2],N=this.offset,I=0,F=Math.ceil;return typeof d=="number"&&(I=d|0,I<0?(N+=R*(c-1),c=F(-c/I)):c=F(c/I),R*=I),typeof _=="number"&&(I=_|0,I<0?(N+=E*(A-1),A=F(-A/I)):A=F(A/I),E*=I),typeof g=="number"&&(I=g|0,I<0?(N+=D*(h-1),h=F(-h/I)):h=F(h/I),D*=I),new S(this.data,c,A,h,R,E,D,N)},x.transpose=function(d,_,g){d=d===void 0?0:d|0,_=_===void 0?1:_|0,g=g===void 0?2:g|0;var c=this.shape,A=this.stride;return new S(this.data,c[d],c[_],c[g],A[d],A[_],A[g],this.offset)},x.pick=function(d,_,g){var c=[],A=[],h=this.offset;typeof d=="number"&&d>=0?h=h+this.stride[0]*d|0:(c.push(this.shape[0]),A.push(this.stride[0])),typeof _=="number"&&_>=0?h=h+this.stride[1]*_|0:(c.push(this.shape[1]),A.push(this.stride[1])),typeof g=="number"&&g>=0?h=h+this.stride[2]*g|0:(c.push(this.shape[2]),A.push(this.stride[2]));var R=m[c.length+1];return R(this.data,c,A,h)},function(d,_,g,c){return new S(d,_[0],_[1],_[2],g[0],g[1],g[2],c)}},4:function(M,m,k){function S(T,d,_,g,c,A,h,R,E,D){this.data=T,this.shape=[d,_,g,c],this.stride=[A,h,R,E],this.offset=D|0}var x=S.prototype;return x.dtype=M,x.dimension=4,Object.defineProperty(x,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(x,"order",{get:k}),x.set=function(d,_,g,c,A){return M==="generic"?this.data.set(this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*g+this.stride[3]*c,A):this.data[this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*g+this.stride[3]*c]=A},x.get=function(d,_,g,c){return M==="generic"?this.data.get(this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*g+this.stride[3]*c):this.data[this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*g+this.stride[3]*c]},x.index=function(d,_,g,c){return this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*g+this.stride[3]*c},x.hi=function(d,_,g,c){return new S(this.data,typeof d!="number"||d<0?this.shape[0]:d|0,typeof _!="number"||_<0?this.shape[1]:_|0,typeof g!="number"||g<0?this.shape[2]:g|0,typeof c!="number"||c<0?this.shape[3]:c|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},x.lo=function(d,_,g,c){var A=this.offset,h=0,R=this.shape[0],E=this.shape[1],D=this.shape[2],N=this.shape[3],I=this.stride[0],F=this.stride[1],L=this.stride[2],P=this.stride[3];return typeof d=="number"&&d>=0&&(h=d|0,A+=I*h,R-=h),typeof _=="number"&&_>=0&&(h=_|0,A+=F*h,E-=h),typeof g=="number"&&g>=0&&(h=g|0,A+=L*h,D-=h),typeof c=="number"&&c>=0&&(h=c|0,A+=P*h,N-=h),new S(this.data,R,E,D,N,I,F,L,P,A)},x.step=function(d,_,g,c){var A=this.shape[0],h=this.shape[1],R=this.shape[2],E=this.shape[3],D=this.stride[0],N=this.stride[1],I=this.stride[2],F=this.stride[3],L=this.offset,P=0,O=Math.ceil;return typeof d=="number"&&(P=d|0,P<0?(L+=D*(A-1),A=O(-A/P)):A=O(A/P),D*=P),typeof _=="number"&&(P=_|0,P<0?(L+=N*(h-1),h=O(-h/P)):h=O(h/P),N*=P),typeof g=="number"&&(P=g|0,P<0?(L+=I*(R-1),R=O(-R/P)):R=O(R/P),I*=P),typeof c=="number"&&(P=c|0,P<0?(L+=F*(E-1),E=O(-E/P)):E=O(E/P),F*=P),new S(this.data,A,h,R,E,D,N,I,F,L)},x.transpose=function(d,_,g,c){d=d===void 0?0:d|0,_=_===void 0?1:_|0,g=g===void 0?2:g|0,c=c===void 0?3:c|0;var A=this.shape,h=this.stride;return new S(this.data,A[d],A[_],A[g],A[c],h[d],h[_],h[g],h[c],this.offset)},x.pick=function(d,_,g,c){var A=[],h=[],R=this.offset;typeof d=="number"&&d>=0?R=R+this.stride[0]*d|0:(A.push(this.shape[0]),h.push(this.stride[0])),typeof _=="number"&&_>=0?R=R+this.stride[1]*_|0:(A.push(this.shape[1]),h.push(this.stride[1])),typeof g=="number"&&g>=0?R=R+this.stride[2]*g|0:(A.push(this.shape[2]),h.push(this.stride[2])),typeof c=="number"&&c>=0?R=R+this.stride[3]*c|0:(A.push(this.shape[3]),h.push(this.stride[3]));var E=m[A.length+1];return E(this.data,A,h,R)},function(d,_,g,c){return new S(d,_[0],_[1],_[2],_[3],g[0],g[1],g[2],g[3],c)}},5:function(m,k,S){function x(d,_,g,c,A,h,R,E,D,N,I,F){this.data=d,this.shape=[_,g,c,A,h],this.stride=[R,E,D,N,I],this.offset=F|0}var T=x.prototype;return T.dtype=m,T.dimension=5,Object.defineProperty(T,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(T,"order",{get:S}),T.set=function(_,g,c,A,h,R){return m==="generic"?this.data.set(this.offset+this.stride[0]*_+this.stride[1]*g+this.stride[2]*c+this.stride[3]*A+this.stride[4]*h,R):this.data[this.offset+this.stride[0]*_+this.stride[1]*g+this.stride[2]*c+this.stride[3]*A+this.stride[4]*h]=R},T.get=function(_,g,c,A,h){return m==="generic"?this.data.get(this.offset+this.stride[0]*_+this.stride[1]*g+this.stride[2]*c+this.stride[3]*A+this.stride[4]*h):this.data[this.offset+this.stride[0]*_+this.stride[1]*g+this.stride[2]*c+this.stride[3]*A+this.stride[4]*h]},T.index=function(_,g,c,A,h){return this.offset+this.stride[0]*_+this.stride[1]*g+this.stride[2]*c+this.stride[3]*A+this.stride[4]*h},T.hi=function(_,g,c,A,h){return new x(this.data,typeof _!="number"||_<0?this.shape[0]:_|0,typeof g!="number"||g<0?this.shape[1]:g|0,typeof c!="number"||c<0?this.shape[2]:c|0,typeof A!="number"||A<0?this.shape[3]:A|0,typeof h!="number"||h<0?this.shape[4]:h|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},T.lo=function(_,g,c,A,h){var R=this.offset,E=0,D=this.shape[0],N=this.shape[1],I=this.shape[2],F=this.shape[3],L=this.shape[4],P=this.stride[0],O=this.stride[1],U=this.stride[2],X=this.stride[3],j=this.stride[4];return typeof _=="number"&&_>=0&&(E=_|0,R+=P*E,D-=E),typeof g=="number"&&g>=0&&(E=g|0,R+=O*E,N-=E),typeof c=="number"&&c>=0&&(E=c|0,R+=U*E,I-=E),typeof A=="number"&&A>=0&&(E=A|0,R+=X*E,F-=E),typeof h=="number"&&h>=0&&(E=h|0,R+=j*E,L-=E),new x(this.data,D,N,I,F,L,P,O,U,X,j,R)},T.step=function(_,g,c,A,h){var R=this.shape[0],E=this.shape[1],D=this.shape[2],N=this.shape[3],I=this.shape[4],F=this.stride[0],L=this.stride[1],P=this.stride[2],O=this.stride[3],U=this.stride[4],X=this.offset,j=0,$=Math.ceil;return typeof _=="number"&&(j=_|0,j<0?(X+=F*(R-1),R=$(-R/j)):R=$(R/j),F*=j),typeof g=="number"&&(j=g|0,j<0?(X+=L*(E-1),E=$(-E/j)):E=$(E/j),L*=j),typeof c=="number"&&(j=c|0,j<0?(X+=P*(D-1),D=$(-D/j)):D=$(D/j),P*=j),typeof A=="number"&&(j=A|0,j<0?(X+=O*(N-1),N=$(-N/j)):N=$(N/j),O*=j),typeof h=="number"&&(j=h|0,j<0?(X+=U*(I-1),I=$(-I/j)):I=$(I/j),U*=j),new x(this.data,R,E,D,N,I,F,L,P,O,U,X)},T.transpose=function(_,g,c,A,h){_=_===void 0?0:_|0,g=g===void 0?1:g|0,c=c===void 0?2:c|0,A=A===void 0?3:A|0,h=h===void 0?4:h|0;var R=this.shape,E=this.stride;return new x(this.data,R[_],R[g],R[c],R[A],R[h],E[_],E[g],E[c],E[A],E[h],this.offset)},T.pick=function(_,g,c,A,h){var R=[],E=[],D=this.offset;typeof _=="number"&&_>=0?D=D+this.stride[0]*_|0:(R.push(this.shape[0]),E.push(this.stride[0])),typeof g=="number"&&g>=0?D=D+this.stride[1]*g|0:(R.push(this.shape[1]),E.push(this.stride[1])),typeof c=="number"&&c>=0?D=D+this.stride[2]*c|0:(R.push(this.shape[2]),E.push(this.stride[2])),typeof A=="number"&&A>=0?D=D+this.stride[3]*A|0:(R.push(this.shape[3]),E.push(this.stride[3])),typeof h=="number"&&h>=0?D=D+this.stride[4]*h|0:(R.push(this.shape[4]),E.push(this.stride[4]));var N=k[R.length+1];return N(this.data,R,E,D)},function(_,g,c,A){return new x(_,g[0],g[1],g[2],g[3],g[4],c[0],c[1],c[2],c[3],c[4],A)}}};function p(M,m){var k=m===-1?"T":String(m),S=v[k];return m===-1?S(M):m===0?S(M,y[M][0]):S(M,y[M],f)}function b(M){if(l(M))return"buffer";if(u)switch(Object.prototype.toString.call(M)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(M)?"array":"generic"}var y={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function w(M,m,k,S){if(M===void 0){var c=y.array[0];return c([])}else typeof M=="number"&&(M=[M]);m===void 0&&(m=[M.length]);var x=m.length;if(k===void 0){k=new Array(x);for(var T=x-1,d=1;T>=0;--T)k[T]=d,d*=m[T]}if(S===void 0){S=0;for(var T=0;T<x;++T)k[T]<0&&(S-=(m[T]-1)*k[T])}for(var _=b(M),g=y[_];g.length<=x+1;)g.push(p(_,g.length-1));var c=g[x+1];return c(M,m,k,S)}a.exports=w},1278:function(a,o,i){"use strict";var l=i(2361),u=Math.pow(2,-1074),s=-1>>>0;a.exports=f;function f(v,p){if(isNaN(v)||isNaN(p))return NaN;if(v===p)return v;if(v===0)return p<0?-u:u;var b=l.hi(v),y=l.lo(v);return p>v==v>0?y===s?(b+=1,y=0):y+=1:y===0?(y=s,b-=1):y-=1,l.pack(y,b)}},8406:function(a,o){var i=1e-6,l=1e-6;o.vertexNormals=function(u,s,f){for(var v=s.length,p=new Array(v),b=f===void 0?i:f,y=0;y<v;++y)p[y]=[0,0,0];for(var y=0;y<u.length;++y)for(var w=u[y],M=0,m=w[w.length-1],k=w[0],S=0;S<w.length;++S){M=m,m=k,k=w[(S+1)%w.length];for(var x=s[M],T=s[m],d=s[k],_=new Array(3),g=0,c=new Array(3),A=0,h=0;h<3;++h)_[h]=x[h]-T[h],g+=_[h]*_[h],c[h]=d[h]-T[h],A+=c[h]*c[h];if(g*A>b)for(var R=p[m],E=1/Math.sqrt(g*A),h=0;h<3;++h){var D=(h+1)%3,N=(h+2)%3;R[h]+=E*(c[D]*_[N]-c[N]*_[D])}}for(var y=0;y<v;++y){for(var R=p[y],I=0,h=0;h<3;++h)I+=R[h]*R[h];if(I>b)for(var E=1/Math.sqrt(I),h=0;h<3;++h)R[h]*=E;else for(var h=0;h<3;++h)R[h]=0}return p},o.faceNormals=function(u,s,f){for(var v=u.length,p=new Array(v),b=f===void 0?l:f,y=0;y<v;++y){for(var w=u[y],M=new Array(3),m=0;m<3;++m)M[m]=s[w[m]];for(var k=new Array(3),S=new Array(3),m=0;m<3;++m)k[m]=M[1][m]-M[0][m],S[m]=M[2][m]-M[0][m];for(var x=new Array(3),T=0,m=0;m<3;++m){var d=(m+1)%3,_=(m+2)%3;x[m]=k[d]*S[_]-k[_]*S[d],T+=x[m]*x[m]}T>b?T=1/Math.sqrt(T):T=0;for(var m=0;m<3;++m)x[m]*=T;p[y]=x}return p}},4081:function(a){"use strict";a.exports=o;function o(i,l,u,s,f,v,p,b,y,w){var M=l+v+w;if(m>0){var m=Math.sqrt(M+1);i[0]=.5*(p-y)/m,i[1]=.5*(b-s)/m,i[2]=.5*(u-v)/m,i[3]=.5*m}else{var k=Math.max(l,v,w),m=Math.sqrt(2*k-M+1);l>=k?(i[0]=.5*m,i[1]=.5*(f+u)/m,i[2]=.5*(b+s)/m,i[3]=.5*(p-y)/m):v>=k?(i[0]=.5*(u+f)/m,i[1]=.5*m,i[2]=.5*(y+p)/m,i[3]=.5*(b-s)/m):(i[0]=.5*(s+b)/m,i[1]=.5*(p+y)/m,i[2]=.5*m,i[3]=.5*(u-f)/m)}return i}},9977:function(a,o,i){"use strict";a.exports=m;var l=i(9215),u=i(6582),s=i(7399),f=i(7608),v=i(4081);function p(k,S,x){return Math.sqrt(Math.pow(k,2)+Math.pow(S,2)+Math.pow(x,2))}function b(k,S,x,T){return Math.sqrt(Math.pow(k,2)+Math.pow(S,2)+Math.pow(x,2)+Math.pow(T,2))}function y(k,S){var x=S[0],T=S[1],d=S[2],_=S[3],g=b(x,T,d,_);g>1e-6?(k[0]=x/g,k[1]=T/g,k[2]=d/g,k[3]=_/g):(k[0]=k[1]=k[2]=0,k[3]=1)}function w(k,S,x){this.radius=l([x]),this.center=l(S),this.rotation=l(k),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var M=w.prototype;M.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},M.recalcMatrix=function(k){this.radius.curve(k),this.center.curve(k),this.rotation.curve(k);var S=this.computedRotation;y(S,S);var x=this.computedMatrix;s(x,S);var T=this.computedCenter,d=this.computedEye,_=this.computedUp,g=Math.exp(this.computedRadius[0]);d[0]=T[0]+g*x[2],d[1]=T[1]+g*x[6],d[2]=T[2]+g*x[10],_[0]=x[1],_[1]=x[5],_[2]=x[9];for(var c=0;c<3;++c){for(var A=0,h=0;h<3;++h)A+=x[c+4*h]*d[h];x[12+c]=-A}},M.getMatrix=function(k,S){this.recalcMatrix(k);var x=this.computedMatrix;if(S){for(var T=0;T<16;++T)S[T]=x[T];return S}return x},M.idle=function(k){this.center.idle(k),this.radius.idle(k),this.rotation.idle(k)},M.flush=function(k){this.center.flush(k),this.radius.flush(k),this.rotation.flush(k)},M.pan=function(k,S,x,T){S=S||0,x=x||0,T=T||0,this.recalcMatrix(k);var d=this.computedMatrix,_=d[1],g=d[5],c=d[9],A=p(_,g,c);_/=A,g/=A,c/=A;var h=d[0],R=d[4],E=d[8],D=h*_+R*g+E*c;h-=_*D,R-=g*D,E-=c*D;var N=p(h,R,E);h/=N,R/=N,E/=N;var I=d[2],F=d[6],L=d[10],P=I*_+F*g+L*c,O=I*h+F*R+L*E;I-=P*_+O*h,F-=P*g+O*R,L-=P*c+O*E;var U=p(I,F,L);I/=U,F/=U,L/=U;var X=h*S+_*x,j=R*S+g*x,$=E*S+c*x;this.center.move(k,X,j,$);var Y=Math.exp(this.computedRadius[0]);Y=Math.max(1e-4,Y+T),this.radius.set(k,Math.log(Y))},M.rotate=function(k,S,x,T){this.recalcMatrix(k),S=S||0,x=x||0;var d=this.computedMatrix,_=d[0],g=d[4],c=d[8],A=d[1],h=d[5],R=d[9],E=d[2],D=d[6],N=d[10],I=S*_+x*A,F=S*g+x*h,L=S*c+x*R,P=-(D*L-N*F),O=-(N*I-E*L),U=-(E*F-D*I),X=Math.sqrt(Math.max(0,1-Math.pow(P,2)-Math.pow(O,2)-Math.pow(U,2))),j=b(P,O,U,X);j>1e-6?(P/=j,O/=j,U/=j,X/=j):(P=O=U=0,X=1);var $=this.computedRotation,Y=$[0],q=$[1],Z=$[2],ne=$[3],Q=Y*X+ne*P+q*U-Z*O,oe=q*X+ne*O+Z*P-Y*U,ee=Z*X+ne*U+Y*O-q*P,G=ne*X-Y*P-q*O-Z*U;if(T){P=E,O=D,U=N;var re=Math.sin(T)/p(P,O,U);P*=re,O*=re,U*=re,X=Math.cos(S),Q=Q*X+G*P+oe*U-ee*O,oe=oe*X+G*O+ee*P-Q*U,ee=ee*X+G*U+Q*O-oe*P,G=G*X-Q*P-oe*O-ee*U}var H=b(Q,oe,ee,G);H>1e-6?(Q/=H,oe/=H,ee/=H,G/=H):(Q=oe=ee=0,G=1),this.rotation.set(k,Q,oe,ee,G)},M.lookAt=function(k,S,x,T){this.recalcMatrix(k),x=x||this.computedCenter,S=S||this.computedEye,T=T||this.computedUp;var d=this.computedMatrix;u(d,S,x,T);var _=this.computedRotation;v(_,d[0],d[1],d[2],d[4],d[5],d[6],d[8],d[9],d[10]),y(_,_),this.rotation.set(k,_[0],_[1],_[2],_[3]);for(var g=0,c=0;c<3;++c)g+=Math.pow(x[c]-S[c],2);this.radius.set(k,.5*Math.log(Math.max(g,1e-6))),this.center.set(k,x[0],x[1],x[2])},M.translate=function(k,S,x,T){this.center.move(k,S||0,x||0,T||0)},M.setMatrix=function(k,S){var x=this.computedRotation;v(x,S[0],S[1],S[2],S[4],S[5],S[6],S[8],S[9],S[10]),y(x,x),this.rotation.set(k,x[0],x[1],x[2],x[3]);var T=this.computedMatrix;f(T,S);var d=T[15];if(Math.abs(d)>1e-6){var _=T[12]/d,g=T[13]/d,c=T[14]/d;this.recalcMatrix(k);var A=Math.exp(this.computedRadius[0]);this.center.set(k,_-T[2]*A,g-T[6]*A,c-T[10]*A),this.radius.idle(k)}else this.center.idle(k),this.radius.idle(k)},M.setDistance=function(k,S){S>0&&this.radius.set(k,Math.log(S))},M.setDistanceLimits=function(k,S){k>0?k=Math.log(k):k=-1/0,S>0?S=Math.log(S):S=1/0,S=Math.max(S,k),this.radius.bounds[0][0]=k,this.radius.bounds[1][0]=S},M.getDistanceLimits=function(k){var S=this.radius.bounds;return k?(k[0]=Math.exp(S[0][0]),k[1]=Math.exp(S[1][0]),k):[Math.exp(S[0][0]),Math.exp(S[1][0])]},M.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},M.fromJSON=function(k){var S=this.lastT(),x=k.center;x&&this.center.set(S,x[0],x[1],x[2]);var T=k.rotation;T&&this.rotation.set(S,T[0],T[1],T[2],T[3]);var d=k.distance;d&&d>0&&this.radius.set(S,Math.log(d)),this.setDistanceLimits(k.zoomMin,k.zoomMax)};function m(k){k=k||{};var S=k.center||[0,0,0],x=k.rotation||[0,0,0,1],T=k.radius||1;S=[].slice.call(S,0,3),x=[].slice.call(x,0,4),y(x,x);var d=new w(x,S,Math.log(T));return d.setDistanceLimits(k.zoomMin,k.zoomMax),("eye"in k||"up"in k)&&d.lookAt(0,k.eye,k.center,k.up),d}},1371:function(a,o,i){"use strict";var l=i(3233);a.exports=function(s,f,v){return v=typeof v!="undefined"?v+"":" ",l(v,f)+s}},3202:function(a){a.exports=function(i,l){l||(l=[0,""]),i=String(i);var u=parseFloat(i,10);return l[0]=u,l[1]=i.match(/[\d.\-\+]*\s*(.*)/)[1]||"",l}},3088:function(a,o,i){"use strict";a.exports=u;var l=i(3140);function u(s,f){for(var v=f.length|0,p=s.length,b=[new Array(v),new Array(v)],y=0;y<v;++y)b[0][y]=[],b[1][y]=[];for(var y=0;y<p;++y){var w=s[y];b[0][w[0]].push(w),b[1][w[1]].push(w)}for(var M=[],y=0;y<v;++y)b[0][y].length+b[1][y].length===0&&M.push([y]);function m(c,A){var h=b[A][c[A]];h.splice(h.indexOf(c),1)}function k(c,A,h){for(var R,E,D,N=0;N<2;++N)if(b[N][A].length>0){R=b[N][A][0],D=N;break}E=R[D^1];for(var I=0;I<2;++I)for(var F=b[I][A],L=0;L<F.length;++L){var P=F[L],O=P[I^1],U=l(f[c],f[A],f[E],f[O]);U>0&&(R=P,E=O,D=I)}return h||R&&m(R,D),E}function S(c,A){var h=b[A][c][0],R=[c];m(h,A);for(var E=h[A^1],D=A;;){for(;E!==c;)R.push(E),E=k(R[R.length-2],E,!1);if(b[0][c].length+b[1][c].length===0)break;var N=R[R.length-1],I=c,F=R[1],L=k(N,I,!0);if(l(f[N],f[I],f[F],f[L])<0)break;R.push(c),E=k(N,I)}return R}function x(c,A){return A[1]===A[A.length-1]}for(var y=0;y<v;++y)for(var T=0;T<2;++T){for(var d=[];b[T][y].length>0;){var _=b[0][y].length,g=S(y,T);x(d,g)?d.push.apply(d,g):(d.length>0&&M.push(d),d=g)}d.length>0&&M.push(d)}return M}},5609:function(a,o,i){"use strict";a.exports=u;var l=i(3134);function u(s,f){for(var v=l(s,f.length),p=new Array(f.length),b=new Array(f.length),y=[],w=0;w<f.length;++w){var M=v[w].length;b[w]=M,p[w]=!0,M<=1&&y.push(w)}for(;y.length>0;){var m=y.pop();p[m]=!1;for(var k=v[m],w=0;w<k.length;++w){var S=k[w];--b[S]===0&&y.push(S)}}for(var x=new Array(f.length),T=[],w=0;w<f.length;++w)if(p[w]){var m=T.length;x[w]=m,T.push(f[w])}else x[w]=-1;for(var d=[],w=0;w<s.length;++w){var _=s[w];p[_[0]]&&p[_[1]]&&d.push([x[_[0]],x[_[1]]])}return[d,T]}},2095:function(a,o,i){"use strict";a.exports=M;var l=i(3134),u=i(3088),s=i(5085),f=i(5250),v=i(8210),p=i(1682),b=i(5609);function y(m,k){for(var S=new Array(m),x=0;x<m;++x)S[x]=k;return S}function w(m){for(var k=new Array(m),S=0;S<m;++S)k[S]=[];return k}function M(m,k){var re=b(m,k);m=re[0],k=re[1];for(var S=k.length,x=m.length,T=l(m,k.length),d=0;d<S;++d)if(T[d].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var _=u(m,k);function g(ve){for(var Ae=ve.length,ke=[0],De=0;De<Ae;++De){var Ce=k[ve[De]],Oe=k[ve[(De+1)%Ae]],Ue=f(-Ce[0],Ce[1]),ge=f(-Ce[0],Oe[1]),Te=f(Oe[0],Ce[1]),ce=f(Oe[0],Oe[1]);ke=v(ke,v(v(Ue,ge),v(Te,ce)))}return ke[ke.length-1]>0}_=_.filter(g);for(var c=_.length,A=new Array(c),h=new Array(c),d=0;d<c;++d){A[d]=d;var R=new Array(c),E=_[d].map(function(Ae){return k[Ae]}),D=s([E]),N=0;e:for(var I=0;I<c;++I)if(R[I]=0,d!==I){for(var F=_[I],L=F.length,P=0;P<L;++P){var O=D(k[F[P]]);if(O!==0){O<0&&(R[I]=1,N+=1);continue e}}R[I]=1,N+=1}h[d]=[N,d,R]}h.sort(function(ve,Ae){return Ae[0]-ve[0]});for(var d=0;d<c;++d)for(var R=h[d],U=R[1],X=R[2],I=0;I<c;++I)X[I]&&(A[I]=U);for(var j=w(c),d=0;d<c;++d)j[d].push(A[d]),j[A[d]].push(d);for(var $={},Y=y(S,!1),d=0;d<c;++d)for(var F=_[d],L=F.length,I=0;I<L;++I){var q=F[I],Z=F[(I+1)%L],ne=Math.min(q,Z)+":"+Math.max(q,Z);if(ne in $){var Q=$[ne];j[Q].push(d),j[d].push(Q),Y[q]=Y[Z]=!0}else $[ne]=d}function oe(ve){for(var Ae=ve.length,ke=0;ke<Ae;++ke)if(!Y[ve[ke]])return!1;return!0}for(var ee=[],G=y(c,-1),d=0;d<c;++d)A[d]===d&&!oe(_[d])?(ee.push(d),G[d]=0):G[d]=-1;for(var re=[];ee.length>0;){var H=ee.pop(),te=j[H];p(te,function(ve,Ae){return ve-Ae});var ue=te.length,de=G[H],Ee;if(de===0){var F=_[H];Ee=[F]}for(var d=0;d<ue;++d){var Me=te[d];if(!(G[Me]>=0)&&(G[Me]=de^1,ee.push(Me),de===0)){var F=_[Me];oe(F)||(F.reverse(),Ee.push(F))}}de===0&&re.push(Ee)}return re}},5085:function(a,o,i){a.exports=k;var l=i(3250)[3],u=i(4209),s=i(3352),f=i(2478);function v(){return!0}function p(S){return function(x,T){var d=S[x];return d?!!d.queryPoint(T,v):!1}}function b(S){for(var x={},T=0;T<S.length;++T){var d=S[T],_=d[0][0],g=d[0][1],c=d[1][1],A=[Math.min(g,c),Math.max(g,c)];_ in x?x[_].push(A):x[_]=[A]}for(var h={},R=Object.keys(x),T=0;T<R.length;++T){var E=x[R[T]];h[R[T]]=s(E)}return p(h)}function y(S,x){return function(T){var d=f.le(x,T[0]);if(d<0)return 1;var _=S[d];if(!_)if(d>0&&x[d]===T[0])_=S[d-1];else return 1;for(var g=1;_;){var c=_.key,A=l(T,c[0],c[1]);if(c[0][0]<c[1][0])if(A<0)_=_.left;else if(A>0)g=-1,_=_.right;else return 0;else if(A>0)_=_.left;else if(A<0)g=1,_=_.right;else return 0}return g}}function w(S){return 1}function M(S){return function(T){return S(T[0],T[1])?0:1}}function m(S,x){return function(d){return S(d[0],d[1])?0:x(d)}}function k(S){for(var x=S.length,T=[],d=[],_=0,g=0;g<x;++g)for(var c=S[g],A=c.length,h=A-1,R=0;R<A;h=R++){var E=c[h],D=c[R];E[0]===D[0]?d.push([E,D]):T.push([E,D])}if(T.length===0)return d.length===0?w:M(b(d));var N=u(T),I=y(N.slabs,N.coordinates);return d.length===0?I:m(b(d),I)}},9346:function(a){"use strict";var o=new Float64Array(4),i=new Float64Array(4),l=new Float64Array(4);function u(s,f,v,p,b){o.length<p.length&&(o=new Float64Array(p.length),i=new Float64Array(p.length),l=new Float64Array(p.length));for(var y=0;y<p.length;++y)o[y]=s[y]-p[y],i[y]=f[y]-s[y],l[y]=v[y]-s[y];for(var w=0,M=0,m=0,k=0,S=0,x=0,y=0;y<p.length;++y){var T=i[y],d=l[y],_=o[y];w+=T*T,M+=T*d,m+=d*d,k+=_*T,S+=_*d,x+=_*_}var g=Math.abs(w*m-M*M),c=M*S-m*k,A=M*k-w*S,h;if(c+A<=g)if(c<0)A<0&&k<0?(A=0,-k>=w?(c=1,h=w+2*k+x):(c=-k/w,h=k*c+x)):(c=0,S>=0?(A=0,h=x):-S>=m?(A=1,h=m+2*S+x):(A=-S/m,h=S*A+x));else if(A<0)A=0,k>=0?(c=0,h=x):-k>=w?(c=1,h=w+2*k+x):(c=-k/w,h=k*c+x);else{var R=1/g;c*=R,A*=R,h=c*(w*c+M*A+2*k)+A*(M*c+m*A+2*S)+x}else{var E,D,N,I;c<0?(E=M+k,D=m+S,D>E?(N=D-E,I=w-2*M+m,N>=I?(c=1,A=0,h=w+2*k+x):(c=N/I,A=1-c,h=c*(w*c+M*A+2*k)+A*(M*c+m*A+2*S)+x)):(c=0,D<=0?(A=1,h=m+2*S+x):S>=0?(A=0,h=x):(A=-S/m,h=S*A+x))):A<0?(E=M+S,D=w+k,D>E?(N=D-E,I=w-2*M+m,N>=I?(A=1,c=0,h=m+2*S+x):(A=N/I,c=1-A,h=c*(w*c+M*A+2*k)+A*(M*c+m*A+2*S)+x)):(A=0,D<=0?(c=1,h=w+2*k+x):k>=0?(c=0,h=x):(c=-k/w,h=k*c+x))):(N=m+S-M-k,N<=0?(c=0,A=1,h=m+2*S+x):(I=w-2*M+m,N>=I?(c=1,A=0,h=w+2*k+x):(c=N/I,A=1-c,h=c*(w*c+M*A+2*k)+A*(M*c+m*A+2*S)+x)))}for(var F=1-c-A,y=0;y<p.length;++y)b[y]=F*s[y]+c*f[y]+A*v[y];return h<0?0:h}a.exports=u},8648:function(a,o,i){a.exports=i(783)},2653:function(a,o,i){"use strict";var l=i(3865);a.exports=u;function u(s,f){for(var v=s.length,p=new Array(v),b=0;b<v;++b)p[b]=l(s[b],f[b]);return p}},5838:function(a,o,i){"use strict";a.exports=u;var l=i(7842);function u(s){for(var f=new Array(s.length),v=0;v<s.length;++v)f[v]=l(s[v]);return f}},8987:function(a,o,i){"use strict";var l=i(7842),u=i(6504);a.exports=s;function s(f,v){for(var p=l(v),b=f.length,y=new Array(b),w=0;w<b;++w)y[w]=u(f[w],p);return y}},544:function(a,o,i){"use strict";var l=i(5572);a.exports=u;function u(s,f){for(var v=s.length,p=new Array(v),b=0;b<v;++b)p[b]=l(s[b],f[b]);return p}},5771:function(a,o,i){"use strict";var l=i(8507),u=i(3788),s=i(2419);a.exports=f;function f(v){v.sort(u);for(var p=v.length,b=0,y=0;y<p;++y){var w=v[y],M=s(w);if(M!==0){if(b>0){var m=v[b-1];if(l(w,m)===0&&s(m)!==M){b-=1;continue}}v[b++]=w}}return v.length=b,v}},3233:function(a){"use strict";var o="",i;a.exports=l;function l(u,s){if(typeof u!="string")throw new TypeError("expected a string");if(s===1)return u;if(s===2)return u+u;var f=u.length*s;if(i!==u||typeof i=="undefined")i=u,o="";else if(o.length>=f)return o.substr(0,f);for(;f>o.length&&s>1;)s&1&&(o+=u),s>>=1,u+=u;return o+=u,o=o.substr(0,f),o}},3025:function(a,o,i){a.exports=i.g.performance&&i.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},7004:function(a){"use strict";a.exports=o;function o(i){for(var l=i.length,u=i[i.length-1],s=l,f=l-2;f>=0;--f){var v=u,p=i[f];u=v+p;var b=u-v,y=p-b;y&&(i[--s]=u,u=y)}for(var w=0,f=s;f<l;++f){var v=i[f],p=u;u=v+p;var b=u-v,y=p-b;y&&(i[w++]=y)}return i[w++]=u,i.length=w,i}},2962:function(a,o,i){"use strict";var l=i(5250),u=i(8210),s=i(3012),f=i(7004),v=6;function p(x,T,d,_){return function(c){return _(x(d(c[0][0],c[1][1]),d(-c[0][1],c[1][0])))}}function b(x,T,d,_){return function(c){return _(x(T(x(d(c[1][1],c[2][2]),d(-c[1][2],c[2][1])),c[0][0]),x(T(x(d(c[1][0],c[2][2]),d(-c[1][2],c[2][0])),-c[0][1]),T(x(d(c[1][0],c[2][1]),d(-c[1][1],c[2][0])),c[0][2]))))}}function y(x,T,d,_){return function(c){return _(x(x(T(x(T(x(d(c[2][2],c[3][3]),d(-c[2][3],c[3][2])),c[1][1]),x(T(x(d(c[2][1],c[3][3]),d(-c[2][3],c[3][1])),-c[1][2]),T(x(d(c[2][1],c[3][2]),d(-c[2][2],c[3][1])),c[1][3]))),c[0][0]),T(x(T(x(d(c[2][2],c[3][3]),d(-c[2][3],c[3][2])),c[1][0]),x(T(x(d(c[2][0],c[3][3]),d(-c[2][3],c[3][0])),-c[1][2]),T(x(d(c[2][0],c[3][2]),d(-c[2][2],c[3][0])),c[1][3]))),-c[0][1])),x(T(x(T(x(d(c[2][1],c[3][3]),d(-c[2][3],c[3][1])),c[1][0]),x(T(x(d(c[2][0],c[3][3]),d(-c[2][3],c[3][0])),-c[1][1]),T(x(d(c[2][0],c[3][1]),d(-c[2][1],c[3][0])),c[1][3]))),c[0][2]),T(x(T(x(d(c[2][1],c[3][2]),d(-c[2][2],c[3][1])),c[1][0]),x(T(x(d(c[2][0],c[3][2]),d(-c[2][2],c[3][0])),-c[1][1]),T(x(d(c[2][0],c[3][1]),d(-c[2][1],c[3][0])),c[1][2]))),-c[0][3]))))}}function w(x,T,d,_){return function(c){return _(x(x(T(x(x(T(x(T(x(d(c[3][3],c[4][4]),d(-c[3][4],c[4][3])),c[2][2]),x(T(x(d(c[3][2],c[4][4]),d(-c[3][4],c[4][2])),-c[2][3]),T(x(d(c[3][2],c[4][3]),d(-c[3][3],c[4][2])),c[2][4]))),c[1][1]),T(x(T(x(d(c[3][3],c[4][4]),d(-c[3][4],c[4][3])),c[2][1]),x(T(x(d(c[3][1],c[4][4]),d(-c[3][4],c[4][1])),-c[2][3]),T(x(d(c[3][1],c[4][3]),d(-c[3][3],c[4][1])),c[2][4]))),-c[1][2])),x(T(x(T(x(d(c[3][2],c[4][4]),d(-c[3][4],c[4][2])),c[2][1]),x(T(x(d(c[3][1],c[4][4]),d(-c[3][4],c[4][1])),-c[2][2]),T(x(d(c[3][1],c[4][2]),d(-c[3][2],c[4][1])),c[2][4]))),c[1][3]),T(x(T(x(d(c[3][2],c[4][3]),d(-c[3][3],c[4][2])),c[2][1]),x(T(x(d(c[3][1],c[4][3]),d(-c[3][3],c[4][1])),-c[2][2]),T(x(d(c[3][1],c[4][2]),d(-c[3][2],c[4][1])),c[2][3]))),-c[1][4]))),c[0][0]),T(x(x(T(x(T(x(d(c[3][3],c[4][4]),d(-c[3][4],c[4][3])),c[2][2]),x(T(x(d(c[3][2],c[4][4]),d(-c[3][4],c[4][2])),-c[2][3]),T(x(d(c[3][2],c[4][3]),d(-c[3][3],c[4][2])),c[2][4]))),c[1][0]),T(x(T(x(d(c[3][3],c[4][4]),d(-c[3][4],c[4][3])),c[2][0]),x(T(x(d(c[3][0],c[4][4]),d(-c[3][4],c[4][0])),-c[2][3]),T(x(d(c[3][0],c[4][3]),d(-c[3][3],c[4][0])),c[2][4]))),-c[1][2])),x(T(x(T(x(d(c[3][2],c[4][4]),d(-c[3][4],c[4][2])),c[2][0]),x(T(x(d(c[3][0],c[4][4]),d(-c[3][4],c[4][0])),-c[2][2]),T(x(d(c[3][0],c[4][2]),d(-c[3][2],c[4][0])),c[2][4]))),c[1][3]),T(x(T(x(d(c[3][2],c[4][3]),d(-c[3][3],c[4][2])),c[2][0]),x(T(x(d(c[3][0],c[4][3]),d(-c[3][3],c[4][0])),-c[2][2]),T(x(d(c[3][0],c[4][2]),d(-c[3][2],c[4][0])),c[2][3]))),-c[1][4]))),-c[0][1])),x(T(x(x(T(x(T(x(d(c[3][3],c[4][4]),d(-c[3][4],c[4][3])),c[2][1]),x(T(x(d(c[3][1],c[4][4]),d(-c[3][4],c[4][1])),-c[2][3]),T(x(d(c[3][1],c[4][3]),d(-c[3][3],c[4][1])),c[2][4]))),c[1][0]),T(x(T(x(d(c[3][3],c[4][4]),d(-c[3][4],c[4][3])),c[2][0]),x(T(x(d(c[3][0],c[4][4]),d(-c[3][4],c[4][0])),-c[2][3]),T(x(d(c[3][0],c[4][3]),d(-c[3][3],c[4][0])),c[2][4]))),-c[1][1])),x(T(x(T(x(d(c[3][1],c[4][4]),d(-c[3][4],c[4][1])),c[2][0]),x(T(x(d(c[3][0],c[4][4]),d(-c[3][4],c[4][0])),-c[2][1]),T(x(d(c[3][0],c[4][1]),d(-c[3][1],c[4][0])),c[2][4]))),c[1][3]),T(x(T(x(d(c[3][1],c[4][3]),d(-c[3][3],c[4][1])),c[2][0]),x(T(x(d(c[3][0],c[4][3]),d(-c[3][3],c[4][0])),-c[2][1]),T(x(d(c[3][0],c[4][1]),d(-c[3][1],c[4][0])),c[2][3]))),-c[1][4]))),c[0][2]),x(T(x(x(T(x(T(x(d(c[3][2],c[4][4]),d(-c[3][4],c[4][2])),c[2][1]),x(T(x(d(c[3][1],c[4][4]),d(-c[3][4],c[4][1])),-c[2][2]),T(x(d(c[3][1],c[4][2]),d(-c[3][2],c[4][1])),c[2][4]))),c[1][0]),T(x(T(x(d(c[3][2],c[4][4]),d(-c[3][4],c[4][2])),c[2][0]),x(T(x(d(c[3][0],c[4][4]),d(-c[3][4],c[4][0])),-c[2][2]),T(x(d(c[3][0],c[4][2]),d(-c[3][2],c[4][0])),c[2][4]))),-c[1][1])),x(T(x(T(x(d(c[3][1],c[4][4]),d(-c[3][4],c[4][1])),c[2][0]),x(T(x(d(c[3][0],c[4][4]),d(-c[3][4],c[4][0])),-c[2][1]),T(x(d(c[3][0],c[4][1]),d(-c[3][1],c[4][0])),c[2][4]))),c[1][2]),T(x(T(x(d(c[3][1],c[4][2]),d(-c[3][2],c[4][1])),c[2][0]),x(T(x(d(c[3][0],c[4][2]),d(-c[3][2],c[4][0])),-c[2][1]),T(x(d(c[3][0],c[4][1]),d(-c[3][1],c[4][0])),c[2][2]))),-c[1][4]))),-c[0][3]),T(x(x(T(x(T(x(d(c[3][2],c[4][3]),d(-c[3][3],c[4][2])),c[2][1]),x(T(x(d(c[3][1],c[4][3]),d(-c[3][3],c[4][1])),-c[2][2]),T(x(d(c[3][1],c[4][2]),d(-c[3][2],c[4][1])),c[2][3]))),c[1][0]),T(x(T(x(d(c[3][2],c[4][3]),d(-c[3][3],c[4][2])),c[2][0]),x(T(x(d(c[3][0],c[4][3]),d(-c[3][3],c[4][0])),-c[2][2]),T(x(d(c[3][0],c[4][2]),d(-c[3][2],c[4][0])),c[2][3]))),-c[1][1])),x(T(x(T(x(d(c[3][1],c[4][3]),d(-c[3][3],c[4][1])),c[2][0]),x(T(x(d(c[3][0],c[4][3]),d(-c[3][3],c[4][0])),-c[2][1]),T(x(d(c[3][0],c[4][1]),d(-c[3][1],c[4][0])),c[2][3]))),c[1][2]),T(x(T(x(d(c[3][1],c[4][2]),d(-c[3][2],c[4][1])),c[2][0]),x(T(x(d(c[3][0],c[4][2]),d(-c[3][2],c[4][0])),-c[2][1]),T(x(d(c[3][0],c[4][1]),d(-c[3][1],c[4][0])),c[2][2]))),-c[1][3]))),c[0][4])))))}}function M(x){var T=x===2?p:x===3?b:x===4?y:x===5?w:void 0;return T(u,s,l,f)}var m=[function(){return[0]},function(T){return[T[0][0]]}];function k(x,T,d,_,g,c,A,h){return function(E){switch(E.length){case 0:return x(E);case 1:return T(E);case 2:return d(E);case 3:return _(E);case 4:return g(E);case 5:return c(E)}var D=A[E.length];return D||(D=A[E.length]=h(E.length)),D(E)}}function S(){for(;m.length<v;)m.push(M(m.length));a.exports=k.apply(void 0,m.concat([m,M]));for(var x=0;x<m.length;++x)a.exports[x]=m[x]}S()},1944:function(a,o,i){"use strict";var l=i(5250),u=i(8210);a.exports=s;function s(f,v){for(var p=l(f[0],v[0]),b=1;b<f.length;++b)p=u(p,l(f[b],v[b]));return p}},2646:function(a,o,i){"use strict";var l=i(5250),u=i(8210),s=i(8545),f=i(3012),v=6;function p(g){var c=g===3?M:g===4?m:g===5?k:S;return c(u,s,l,f)}function b(){return 0}function y(){return 0}function w(){return 0}function M(g,c,A,h){function R(E,D,N){var I=A(E[0],E[0]),F=h(I,D[0]),L=h(I,N[0]),P=A(D[0],D[0]),O=h(P,E[0]),U=h(P,N[0]),X=A(N[0],N[0]),j=h(X,E[0]),$=h(X,D[0]),Y=g(c($,U),c(O,F)),q=c(j,L),Z=c(Y,q);return Z[Z.length-1]}return R}function m(g,c,A,h){function R(E,D,N,I){var F=g(A(E[0],E[0]),A(E[1],E[1])),L=h(F,D[0]),P=h(F,N[0]),O=h(F,I[0]),U=g(A(D[0],D[0]),A(D[1],D[1])),X=h(U,E[0]),j=h(U,N[0]),$=h(U,I[0]),Y=g(A(N[0],N[0]),A(N[1],N[1])),q=h(Y,E[0]),Z=h(Y,D[0]),ne=h(Y,I[0]),Q=g(A(I[0],I[0]),A(I[1],I[1])),oe=h(Q,E[0]),ee=h(Q,D[0]),G=h(Q,N[0]),re=g(g(h(c(G,ne),D[1]),g(h(c(ee,$),-N[1]),h(c(Z,j),I[1]))),g(h(c(ee,$),E[1]),g(h(c(oe,O),-D[1]),h(c(X,L),I[1])))),H=g(g(h(c(G,ne),E[1]),g(h(c(oe,O),-N[1]),h(c(q,P),I[1]))),g(h(c(Z,j),E[1]),g(h(c(q,P),-D[1]),h(c(X,L),N[1])))),te=c(re,H);return te[te.length-1]}return R}function k(g,c,A,h){function R(E,D,N,I,F){var L=g(A(E[0],E[0]),g(A(E[1],E[1]),A(E[2],E[2]))),P=h(L,D[0]),O=h(L,N[0]),U=h(L,I[0]),X=h(L,F[0]),j=g(A(D[0],D[0]),g(A(D[1],D[1]),A(D[2],D[2]))),$=h(j,E[0]),Y=h(j,N[0]),q=h(j,I[0]),Z=h(j,F[0]),ne=g(A(N[0],N[0]),g(A(N[1],N[1]),A(N[2],N[2]))),Q=h(ne,E[0]),oe=h(ne,D[0]),ee=h(ne,I[0]),G=h(ne,F[0]),re=g(A(I[0],I[0]),g(A(I[1],I[1]),A(I[2],I[2]))),H=h(re,E[0]),te=h(re,D[0]),ue=h(re,N[0]),de=h(re,F[0]),Ee=g(A(F[0],F[0]),g(A(F[1],F[1]),A(F[2],F[2]))),Me=h(Ee,E[0]),ve=h(Ee,D[0]),Ae=h(Ee,N[0]),ke=h(Ee,I[0]),De=g(g(g(h(g(h(c(ke,de),N[1]),g(h(c(Ae,G),-I[1]),h(c(ue,ee),F[1]))),D[2]),g(h(g(h(c(ke,de),D[1]),g(h(c(ve,Z),-I[1]),h(c(te,q),F[1]))),-N[2]),h(g(h(c(Ae,G),D[1]),g(h(c(ve,Z),-N[1]),h(c(oe,Y),F[1]))),I[2]))),g(h(g(h(c(ue,ee),D[1]),g(h(c(te,q),-N[1]),h(c(oe,Y),I[1]))),-F[2]),g(h(g(h(c(ke,de),D[1]),g(h(c(ve,Z),-I[1]),h(c(te,q),F[1]))),E[2]),h(g(h(c(ke,de),E[1]),g(h(c(Me,X),-I[1]),h(c(H,U),F[1]))),-D[2])))),g(g(h(g(h(c(ve,Z),E[1]),g(h(c(Me,X),-D[1]),h(c($,P),F[1]))),I[2]),g(h(g(h(c(te,q),E[1]),g(h(c(H,U),-D[1]),h(c($,P),I[1]))),-F[2]),h(g(h(c(ue,ee),D[1]),g(h(c(te,q),-N[1]),h(c(oe,Y),I[1]))),E[2]))),g(h(g(h(c(ue,ee),E[1]),g(h(c(H,U),-N[1]),h(c(Q,O),I[1]))),-D[2]),g(h(g(h(c(te,q),E[1]),g(h(c(H,U),-D[1]),h(c($,P),I[1]))),N[2]),h(g(h(c(oe,Y),E[1]),g(h(c(Q,O),-D[1]),h(c($,P),N[1]))),-I[2]))))),Ce=g(g(g(h(g(h(c(ke,de),N[1]),g(h(c(Ae,G),-I[1]),h(c(ue,ee),F[1]))),E[2]),h(g(h(c(ke,de),E[1]),g(h(c(Me,X),-I[1]),h(c(H,U),F[1]))),-N[2])),g(h(g(h(c(Ae,G),E[1]),g(h(c(Me,X),-N[1]),h(c(Q,O),F[1]))),I[2]),h(g(h(c(ue,ee),E[1]),g(h(c(H,U),-N[1]),h(c(Q,O),I[1]))),-F[2]))),g(g(h(g(h(c(Ae,G),D[1]),g(h(c(ve,Z),-N[1]),h(c(oe,Y),F[1]))),E[2]),h(g(h(c(Ae,G),E[1]),g(h(c(Me,X),-N[1]),h(c(Q,O),F[1]))),-D[2])),g(h(g(h(c(ve,Z),E[1]),g(h(c(Me,X),-D[1]),h(c($,P),F[1]))),N[2]),h(g(h(c(oe,Y),E[1]),g(h(c(Q,O),-D[1]),h(c($,P),N[1]))),-F[2])))),Oe=c(De,Ce);return Oe[Oe.length-1]}return R}function S(g,c,A,h){function R(E,D,N,I,F,L){var P=g(g(A(E[0],E[0]),A(E[1],E[1])),g(A(E[2],E[2]),A(E[3],E[3]))),O=h(P,D[0]),U=h(P,N[0]),X=h(P,I[0]),j=h(P,F[0]),$=h(P,L[0]),Y=g(g(A(D[0],D[0]),A(D[1],D[1])),g(A(D[2],D[2]),A(D[3],D[3]))),q=h(Y,E[0]),Z=h(Y,N[0]),ne=h(Y,I[0]),Q=h(Y,F[0]),oe=h(Y,L[0]),ee=g(g(A(N[0],N[0]),A(N[1],N[1])),g(A(N[2],N[2]),A(N[3],N[3]))),G=h(ee,E[0]),re=h(ee,D[0]),H=h(ee,I[0]),te=h(ee,F[0]),ue=h(ee,L[0]),de=g(g(A(I[0],I[0]),A(I[1],I[1])),g(A(I[2],I[2]),A(I[3],I[3]))),Ee=h(de,E[0]),Me=h(de,D[0]),ve=h(de,N[0]),Ae=h(de,F[0]),ke=h(de,L[0]),De=g(g(A(F[0],F[0]),A(F[1],F[1])),g(A(F[2],F[2]),A(F[3],F[3]))),Ce=h(De,E[0]),Oe=h(De,D[0]),Ue=h(De,N[0]),ge=h(De,I[0]),Te=h(De,L[0]),ce=g(g(A(L[0],L[0]),A(L[1],L[1])),g(A(L[2],L[2]),A(L[3],L[3]))),ye=h(ce,E[0]),Le=h(ce,D[0]),me=h(ce,N[0]),he=h(ce,I[0]),be=h(ce,F[0]),Se=g(g(g(h(g(g(h(g(h(c(be,Te),I[1]),g(h(c(he,ke),-F[1]),h(c(ge,Ae),L[1]))),N[2]),h(g(h(c(be,Te),N[1]),g(h(c(me,ue),-F[1]),h(c(Ue,te),L[1]))),-I[2])),g(h(g(h(c(he,ke),N[1]),g(h(c(me,ue),-I[1]),h(c(ve,H),L[1]))),F[2]),h(g(h(c(ge,Ae),N[1]),g(h(c(Ue,te),-I[1]),h(c(ve,H),F[1]))),-L[2]))),D[3]),g(h(g(g(h(g(h(c(be,Te),I[1]),g(h(c(he,ke),-F[1]),h(c(ge,Ae),L[1]))),D[2]),h(g(h(c(be,Te),D[1]),g(h(c(Le,oe),-F[1]),h(c(Oe,Q),L[1]))),-I[2])),g(h(g(h(c(he,ke),D[1]),g(h(c(Le,oe),-I[1]),h(c(Me,ne),L[1]))),F[2]),h(g(h(c(ge,Ae),D[1]),g(h(c(Oe,Q),-I[1]),h(c(Me,ne),F[1]))),-L[2]))),-N[3]),h(g(g(h(g(h(c(be,Te),N[1]),g(h(c(me,ue),-F[1]),h(c(Ue,te),L[1]))),D[2]),h(g(h(c(be,Te),D[1]),g(h(c(Le,oe),-F[1]),h(c(Oe,Q),L[1]))),-N[2])),g(h(g(h(c(me,ue),D[1]),g(h(c(Le,oe),-N[1]),h(c(re,Z),L[1]))),F[2]),h(g(h(c(Ue,te),D[1]),g(h(c(Oe,Q),-N[1]),h(c(re,Z),F[1]))),-L[2]))),I[3]))),g(g(h(g(g(h(g(h(c(he,ke),N[1]),g(h(c(me,ue),-I[1]),h(c(ve,H),L[1]))),D[2]),h(g(h(c(he,ke),D[1]),g(h(c(Le,oe),-I[1]),h(c(Me,ne),L[1]))),-N[2])),g(h(g(h(c(me,ue),D[1]),g(h(c(Le,oe),-N[1]),h(c(re,Z),L[1]))),I[2]),h(g(h(c(ve,H),D[1]),g(h(c(Me,ne),-N[1]),h(c(re,Z),I[1]))),-L[2]))),-F[3]),h(g(g(h(g(h(c(ge,Ae),N[1]),g(h(c(Ue,te),-I[1]),h(c(ve,H),F[1]))),D[2]),h(g(h(c(ge,Ae),D[1]),g(h(c(Oe,Q),-I[1]),h(c(Me,ne),F[1]))),-N[2])),g(h(g(h(c(Ue,te),D[1]),g(h(c(Oe,Q),-N[1]),h(c(re,Z),F[1]))),I[2]),h(g(h(c(ve,H),D[1]),g(h(c(Me,ne),-N[1]),h(c(re,Z),I[1]))),-F[2]))),L[3])),g(h(g(g(h(g(h(c(be,Te),I[1]),g(h(c(he,ke),-F[1]),h(c(ge,Ae),L[1]))),D[2]),h(g(h(c(be,Te),D[1]),g(h(c(Le,oe),-F[1]),h(c(Oe,Q),L[1]))),-I[2])),g(h(g(h(c(he,ke),D[1]),g(h(c(Le,oe),-I[1]),h(c(Me,ne),L[1]))),F[2]),h(g(h(c(ge,Ae),D[1]),g(h(c(Oe,Q),-I[1]),h(c(Me,ne),F[1]))),-L[2]))),E[3]),h(g(g(h(g(h(c(be,Te),I[1]),g(h(c(he,ke),-F[1]),h(c(ge,Ae),L[1]))),E[2]),h(g(h(c(be,Te),E[1]),g(h(c(ye,$),-F[1]),h(c(Ce,j),L[1]))),-I[2])),g(h(g(h(c(he,ke),E[1]),g(h(c(ye,$),-I[1]),h(c(Ee,X),L[1]))),F[2]),h(g(h(c(ge,Ae),E[1]),g(h(c(Ce,j),-I[1]),h(c(Ee,X),F[1]))),-L[2]))),-D[3])))),g(g(g(h(g(g(h(g(h(c(be,Te),D[1]),g(h(c(Le,oe),-F[1]),h(c(Oe,Q),L[1]))),E[2]),h(g(h(c(be,Te),E[1]),g(h(c(ye,$),-F[1]),h(c(Ce,j),L[1]))),-D[2])),g(h(g(h(c(Le,oe),E[1]),g(h(c(ye,$),-D[1]),h(c(q,O),L[1]))),F[2]),h(g(h(c(Oe,Q),E[1]),g(h(c(Ce,j),-D[1]),h(c(q,O),F[1]))),-L[2]))),I[3]),h(g(g(h(g(h(c(he,ke),D[1]),g(h(c(Le,oe),-I[1]),h(c(Me,ne),L[1]))),E[2]),h(g(h(c(he,ke),E[1]),g(h(c(ye,$),-I[1]),h(c(Ee,X),L[1]))),-D[2])),g(h(g(h(c(Le,oe),E[1]),g(h(c(ye,$),-D[1]),h(c(q,O),L[1]))),I[2]),h(g(h(c(Me,ne),E[1]),g(h(c(Ee,X),-D[1]),h(c(q,O),I[1]))),-L[2]))),-F[3])),g(h(g(g(h(g(h(c(ge,Ae),D[1]),g(h(c(Oe,Q),-I[1]),h(c(Me,ne),F[1]))),E[2]),h(g(h(c(ge,Ae),E[1]),g(h(c(Ce,j),-I[1]),h(c(Ee,X),F[1]))),-D[2])),g(h(g(h(c(Oe,Q),E[1]),g(h(c(Ce,j),-D[1]),h(c(q,O),F[1]))),I[2]),h(g(h(c(Me,ne),E[1]),g(h(c(Ee,X),-D[1]),h(c(q,O),I[1]))),-F[2]))),L[3]),h(g(g(h(g(h(c(he,ke),N[1]),g(h(c(me,ue),-I[1]),h(c(ve,H),L[1]))),D[2]),h(g(h(c(he,ke),D[1]),g(h(c(Le,oe),-I[1]),h(c(Me,ne),L[1]))),-N[2])),g(h(g(h(c(me,ue),D[1]),g(h(c(Le,oe),-N[1]),h(c(re,Z),L[1]))),I[2]),h(g(h(c(ve,H),D[1]),g(h(c(Me,ne),-N[1]),h(c(re,Z),I[1]))),-L[2]))),E[3]))),g(g(h(g(g(h(g(h(c(he,ke),N[1]),g(h(c(me,ue),-I[1]),h(c(ve,H),L[1]))),E[2]),h(g(h(c(he,ke),E[1]),g(h(c(ye,$),-I[1]),h(c(Ee,X),L[1]))),-N[2])),g(h(g(h(c(me,ue),E[1]),g(h(c(ye,$),-N[1]),h(c(G,U),L[1]))),I[2]),h(g(h(c(ve,H),E[1]),g(h(c(Ee,X),-N[1]),h(c(G,U),I[1]))),-L[2]))),-D[3]),h(g(g(h(g(h(c(he,ke),D[1]),g(h(c(Le,oe),-I[1]),h(c(Me,ne),L[1]))),E[2]),h(g(h(c(he,ke),E[1]),g(h(c(ye,$),-I[1]),h(c(Ee,X),L[1]))),-D[2])),g(h(g(h(c(Le,oe),E[1]),g(h(c(ye,$),-D[1]),h(c(q,O),L[1]))),I[2]),h(g(h(c(Me,ne),E[1]),g(h(c(Ee,X),-D[1]),h(c(q,O),I[1]))),-L[2]))),N[3])),g(h(g(g(h(g(h(c(me,ue),D[1]),g(h(c(Le,oe),-N[1]),h(c(re,Z),L[1]))),E[2]),h(g(h(c(me,ue),E[1]),g(h(c(ye,$),-N[1]),h(c(G,U),L[1]))),-D[2])),g(h(g(h(c(Le,oe),E[1]),g(h(c(ye,$),-D[1]),h(c(q,O),L[1]))),N[2]),h(g(h(c(re,Z),E[1]),g(h(c(G,U),-D[1]),h(c(q,O),N[1]))),-L[2]))),-I[3]),h(g(g(h(g(h(c(ve,H),D[1]),g(h(c(Me,ne),-N[1]),h(c(re,Z),I[1]))),E[2]),h(g(h(c(ve,H),E[1]),g(h(c(Ee,X),-N[1]),h(c(G,U),I[1]))),-D[2])),g(h(g(h(c(Me,ne),E[1]),g(h(c(Ee,X),-D[1]),h(c(q,O),I[1]))),N[2]),h(g(h(c(re,Z),E[1]),g(h(c(G,U),-D[1]),h(c(q,O),N[1]))),-I[2]))),L[3]))))),ze=g(g(g(h(g(g(h(g(h(c(be,Te),I[1]),g(h(c(he,ke),-F[1]),h(c(ge,Ae),L[1]))),N[2]),h(g(h(c(be,Te),N[1]),g(h(c(me,ue),-F[1]),h(c(Ue,te),L[1]))),-I[2])),g(h(g(h(c(he,ke),N[1]),g(h(c(me,ue),-I[1]),h(c(ve,H),L[1]))),F[2]),h(g(h(c(ge,Ae),N[1]),g(h(c(Ue,te),-I[1]),h(c(ve,H),F[1]))),-L[2]))),E[3]),g(h(g(g(h(g(h(c(be,Te),I[1]),g(h(c(he,ke),-F[1]),h(c(ge,Ae),L[1]))),E[2]),h(g(h(c(be,Te),E[1]),g(h(c(ye,$),-F[1]),h(c(Ce,j),L[1]))),-I[2])),g(h(g(h(c(he,ke),E[1]),g(h(c(ye,$),-I[1]),h(c(Ee,X),L[1]))),F[2]),h(g(h(c(ge,Ae),E[1]),g(h(c(Ce,j),-I[1]),h(c(Ee,X),F[1]))),-L[2]))),-N[3]),h(g(g(h(g(h(c(be,Te),N[1]),g(h(c(me,ue),-F[1]),h(c(Ue,te),L[1]))),E[2]),h(g(h(c(be,Te),E[1]),g(h(c(ye,$),-F[1]),h(c(Ce,j),L[1]))),-N[2])),g(h(g(h(c(me,ue),E[1]),g(h(c(ye,$),-N[1]),h(c(G,U),L[1]))),F[2]),h(g(h(c(Ue,te),E[1]),g(h(c(Ce,j),-N[1]),h(c(G,U),F[1]))),-L[2]))),I[3]))),g(g(h(g(g(h(g(h(c(he,ke),N[1]),g(h(c(me,ue),-I[1]),h(c(ve,H),L[1]))),E[2]),h(g(h(c(he,ke),E[1]),g(h(c(ye,$),-I[1]),h(c(Ee,X),L[1]))),-N[2])),g(h(g(h(c(me,ue),E[1]),g(h(c(ye,$),-N[1]),h(c(G,U),L[1]))),I[2]),h(g(h(c(ve,H),E[1]),g(h(c(Ee,X),-N[1]),h(c(G,U),I[1]))),-L[2]))),-F[3]),h(g(g(h(g(h(c(ge,Ae),N[1]),g(h(c(Ue,te),-I[1]),h(c(ve,H),F[1]))),E[2]),h(g(h(c(ge,Ae),E[1]),g(h(c(Ce,j),-I[1]),h(c(Ee,X),F[1]))),-N[2])),g(h(g(h(c(Ue,te),E[1]),g(h(c(Ce,j),-N[1]),h(c(G,U),F[1]))),I[2]),h(g(h(c(ve,H),E[1]),g(h(c(Ee,X),-N[1]),h(c(G,U),I[1]))),-F[2]))),L[3])),g(h(g(g(h(g(h(c(be,Te),N[1]),g(h(c(me,ue),-F[1]),h(c(Ue,te),L[1]))),D[2]),h(g(h(c(be,Te),D[1]),g(h(c(Le,oe),-F[1]),h(c(Oe,Q),L[1]))),-N[2])),g(h(g(h(c(me,ue),D[1]),g(h(c(Le,oe),-N[1]),h(c(re,Z),L[1]))),F[2]),h(g(h(c(Ue,te),D[1]),g(h(c(Oe,Q),-N[1]),h(c(re,Z),F[1]))),-L[2]))),E[3]),h(g(g(h(g(h(c(be,Te),N[1]),g(h(c(me,ue),-F[1]),h(c(Ue,te),L[1]))),E[2]),h(g(h(c(be,Te),E[1]),g(h(c(ye,$),-F[1]),h(c(Ce,j),L[1]))),-N[2])),g(h(g(h(c(me,ue),E[1]),g(h(c(ye,$),-N[1]),h(c(G,U),L[1]))),F[2]),h(g(h(c(Ue,te),E[1]),g(h(c(Ce,j),-N[1]),h(c(G,U),F[1]))),-L[2]))),-D[3])))),g(g(g(h(g(g(h(g(h(c(be,Te),D[1]),g(h(c(Le,oe),-F[1]),h(c(Oe,Q),L[1]))),E[2]),h(g(h(c(be,Te),E[1]),g(h(c(ye,$),-F[1]),h(c(Ce,j),L[1]))),-D[2])),g(h(g(h(c(Le,oe),E[1]),g(h(c(ye,$),-D[1]),h(c(q,O),L[1]))),F[2]),h(g(h(c(Oe,Q),E[1]),g(h(c(Ce,j),-D[1]),h(c(q,O),F[1]))),-L[2]))),N[3]),h(g(g(h(g(h(c(me,ue),D[1]),g(h(c(Le,oe),-N[1]),h(c(re,Z),L[1]))),E[2]),h(g(h(c(me,ue),E[1]),g(h(c(ye,$),-N[1]),h(c(G,U),L[1]))),-D[2])),g(h(g(h(c(Le,oe),E[1]),g(h(c(ye,$),-D[1]),h(c(q,O),L[1]))),N[2]),h(g(h(c(re,Z),E[1]),g(h(c(G,U),-D[1]),h(c(q,O),N[1]))),-L[2]))),-F[3])),g(h(g(g(h(g(h(c(Ue,te),D[1]),g(h(c(Oe,Q),-N[1]),h(c(re,Z),F[1]))),E[2]),h(g(h(c(Ue,te),E[1]),g(h(c(Ce,j),-N[1]),h(c(G,U),F[1]))),-D[2])),g(h(g(h(c(Oe,Q),E[1]),g(h(c(Ce,j),-D[1]),h(c(q,O),F[1]))),N[2]),h(g(h(c(re,Z),E[1]),g(h(c(G,U),-D[1]),h(c(q,O),N[1]))),-F[2]))),L[3]),h(g(g(h(g(h(c(ge,Ae),N[1]),g(h(c(Ue,te),-I[1]),h(c(ve,H),F[1]))),D[2]),h(g(h(c(ge,Ae),D[1]),g(h(c(Oe,Q),-I[1]),h(c(Me,ne),F[1]))),-N[2])),g(h(g(h(c(Ue,te),D[1]),g(h(c(Oe,Q),-N[1]),h(c(re,Z),F[1]))),I[2]),h(g(h(c(ve,H),D[1]),g(h(c(Me,ne),-N[1]),h(c(re,Z),I[1]))),-F[2]))),E[3]))),g(g(h(g(g(h(g(h(c(ge,Ae),N[1]),g(h(c(Ue,te),-I[1]),h(c(ve,H),F[1]))),E[2]),h(g(h(c(ge,Ae),E[1]),g(h(c(Ce,j),-I[1]),h(c(Ee,X),F[1]))),-N[2])),g(h(g(h(c(Ue,te),E[1]),g(h(c(Ce,j),-N[1]),h(c(G,U),F[1]))),I[2]),h(g(h(c(ve,H),E[1]),g(h(c(Ee,X),-N[1]),h(c(G,U),I[1]))),-F[2]))),-D[3]),h(g(g(h(g(h(c(ge,Ae),D[1]),g(h(c(Oe,Q),-I[1]),h(c(Me,ne),F[1]))),E[2]),h(g(h(c(ge,Ae),E[1]),g(h(c(Ce,j),-I[1]),h(c(Ee,X),F[1]))),-D[2])),g(h(g(h(c(Oe,Q),E[1]),g(h(c(Ce,j),-D[1]),h(c(q,O),F[1]))),I[2]),h(g(h(c(Me,ne),E[1]),g(h(c(Ee,X),-D[1]),h(c(q,O),I[1]))),-F[2]))),N[3])),g(h(g(g(h(g(h(c(Ue,te),D[1]),g(h(c(Oe,Q),-N[1]),h(c(re,Z),F[1]))),E[2]),h(g(h(c(Ue,te),E[1]),g(h(c(Ce,j),-N[1]),h(c(G,U),F[1]))),-D[2])),g(h(g(h(c(Oe,Q),E[1]),g(h(c(Ce,j),-D[1]),h(c(q,O),F[1]))),N[2]),h(g(h(c(re,Z),E[1]),g(h(c(G,U),-D[1]),h(c(q,O),N[1]))),-F[2]))),-I[3]),h(g(g(h(g(h(c(ve,H),D[1]),g(h(c(Me,ne),-N[1]),h(c(re,Z),I[1]))),E[2]),h(g(h(c(ve,H),E[1]),g(h(c(Ee,X),-N[1]),h(c(G,U),I[1]))),-D[2])),g(h(g(h(c(Me,ne),E[1]),g(h(c(Ee,X),-D[1]),h(c(q,O),I[1]))),N[2]),h(g(h(c(re,Z),E[1]),g(h(c(G,U),-D[1]),h(c(q,O),N[1]))),-I[2]))),F[3]))))),Fe=c(Se,ze);return Fe[Fe.length-1]}return R}var x=[b,y,w];function T(g){var c=x[g.length];return c||(c=x[g.length]=p(g.length)),c.apply(void 0,g)}function d(g,c,A,h,R,E,D,N){function I(F,L,P,O,U,X){switch(arguments.length){case 0:case 1:return 0;case 2:return h(F,L);case 3:return R(F,L,P);case 4:return E(F,L,P,O);case 5:return D(F,L,P,O,U);case 6:return N(F,L,P,O,U,X)}for(var j=new Array(arguments.length),$=0;$<arguments.length;++$)j[$]=arguments[$];return g(j)}return I}function _(){for(;x.length<=v;)x.push(p(x.length));a.exports=d.apply(void 0,[T].concat(x));for(var g=0;g<=v;++g)a.exports[g]=x[g]}_()},727:function(a,o,i){"use strict";var l=i(2962),u=6;function s(x){var T=x===2?p:x===3?b:x===4?y:x===5?w:M;return x<6?T(l[x]):T(l)}function f(){return[[0]]}function v(x,T){return[[T[0]],[x[0][0]]]}function p(x){return function(d,_){return[x([[+_[0],+d[0][1]],[+_[1],+d[1][1]]]),x([[+d[0][0],+_[0]],[+d[1][0],+_[1]]]),x(d)]}}function b(x){return function(d,_){return[x([[+_[0],+d[0][1],+d[0][2]],[+_[1],+d[1][1],+d[1][2]],[+_[2],+d[2][1],+d[2][2]]]),x([[+d[0][0],+_[0],+d[0][2]],[+d[1][0],+_[1],+d[1][2]],[+d[2][0],+_[2],+d[2][2]]]),x([[+d[0][0],+d[0][1],+_[0]],[+d[1][0],+d[1][1],+_[1]],[+d[2][0],+d[2][1],+_[2]]]),x(d)]}}function y(x){return function(d,_){return[x([[+_[0],+d[0][1],+d[0][2],+d[0][3]],[+_[1],+d[1][1],+d[1][2],+d[1][3]],[+_[2],+d[2][1],+d[2][2],+d[2][3]],[+_[3],+d[3][1],+d[3][2],+d[3][3]]]),x([[+d[0][0],+_[0],+d[0][2],+d[0][3]],[+d[1][0],+_[1],+d[1][2],+d[1][3]],[+d[2][0],+_[2],+d[2][2],+d[2][3]],[+d[3][0],+_[3],+d[3][2],+d[3][3]]]),x([[+d[0][0],+d[0][1],+_[0],+d[0][3]],[+d[1][0],+d[1][1],+_[1],+d[1][3]],[+d[2][0],+d[2][1],+_[2],+d[2][3]],[+d[3][0],+d[3][1],+_[3],+d[3][3]]]),x([[+d[0][0],+d[0][1],+d[0][2],+_[0]],[+d[1][0],+d[1][1],+d[1][2],+_[1]],[+d[2][0],+d[2][1],+d[2][2],+_[2]],[+d[3][0],+d[3][1],+d[3][2],+_[3]]]),x(d)]}}function w(x){return function(d,_){return[x([[+_[0],+d[0][1],+d[0][2],+d[0][3],+d[0][4]],[+_[1],+d[1][1],+d[1][2],+d[1][3],+d[1][4]],[+_[2],+d[2][1],+d[2][2],+d[2][3],+d[2][4]],[+_[3],+d[3][1],+d[3][2],+d[3][3],+d[3][4]],[+_[4],+d[4][1],+d[4][2],+d[4][3],+d[4][4]]]),x([[+d[0][0],+_[0],+d[0][2],+d[0][3],+d[0][4]],[+d[1][0],+_[1],+d[1][2],+d[1][3],+d[1][4]],[+d[2][0],+_[2],+d[2][2],+d[2][3],+d[2][4]],[+d[3][0],+_[3],+d[3][2],+d[3][3],+d[3][4]],[+d[4][0],+_[4],+d[4][2],+d[4][3],+d[4][4]]]),x([[+d[0][0],+d[0][1],+_[0],+d[0][3],+d[0][4]],[+d[1][0],+d[1][1],+_[1],+d[1][3],+d[1][4]],[+d[2][0],+d[2][1],+_[2],+d[2][3],+d[2][4]],[+d[3][0],+d[3][1],+_[3],+d[3][3],+d[3][4]],[+d[4][0],+d[4][1],+_[4],+d[4][3],+d[4][4]]]),x([[+d[0][0],+d[0][1],+d[0][2],+_[0],+d[0][4]],[+d[1][0],+d[1][1],+d[1][2],+_[1],+d[1][4]],[+d[2][0],+d[2][1],+d[2][2],+_[2],+d[2][4]],[+d[3][0],+d[3][1],+d[3][2],+_[3],+d[3][4]],[+d[4][0],+d[4][1],+d[4][2],+_[4],+d[4][4]]]),x([[+d[0][0],+d[0][1],+d[0][2],+d[0][3],+_[0]],[+d[1][0],+d[1][1],+d[1][2],+d[1][3],+_[1]],[+d[2][0],+d[2][1],+d[2][2],+d[2][3],+_[2]],[+d[3][0],+d[3][1],+d[3][2],+d[3][3],+_[3]],[+d[4][0],+d[4][1],+d[4][2],+d[4][3],+_[4]]]),x(d)]}}function M(x){return function(d,_){return[x([[+_[0],+d[0][1],+d[0][2],+d[0][3],+d[0][4],+d[0][5]],[+_[1],+d[1][1],+d[1][2],+d[1][3],+d[1][4],+d[1][5]],[+_[2],+d[2][1],+d[2][2],+d[2][3],+d[2][4],+d[2][5]],[+_[3],+d[3][1],+d[3][2],+d[3][3],+d[3][4],+d[3][5]],[+_[4],+d[4][1],+d[4][2],+d[4][3],+d[4][4],+d[4][5]],[+_[5],+d[5][1],+d[5][2],+d[5][3],+d[5][4],+d[5][5]]]),x([[+d[0][0],+_[0],+d[0][2],+d[0][3],+d[0][4],+d[0][5]],[+d[1][0],+_[1],+d[1][2],+d[1][3],+d[1][4],+d[1][5]],[+d[2][0],+_[2],+d[2][2],+d[2][3],+d[2][4],+d[2][5]],[+d[3][0],+_[3],+d[3][2],+d[3][3],+d[3][4],+d[3][5]],[+d[4][0],+_[4],+d[4][2],+d[4][3],+d[4][4],+d[4][5]],[+d[5][0],+_[5],+d[5][2],+d[5][3],+d[5][4],+d[5][5]]]),x([[+d[0][0],+d[0][1],+_[0],+d[0][3],+d[0][4],+d[0][5]],[+d[1][0],+d[1][1],+_[1],+d[1][3],+d[1][4],+d[1][5]],[+d[2][0],+d[2][1],+_[2],+d[2][3],+d[2][4],+d[2][5]],[+d[3][0],+d[3][1],+_[3],+d[3][3],+d[3][4],+d[3][5]],[+d[4][0],+d[4][1],+_[4],+d[4][3],+d[4][4],+d[4][5]],[+d[5][0],+d[5][1],+_[5],+d[5][3],+d[5][4],+d[5][5]]]),x([[+d[0][0],+d[0][1],+d[0][2],+_[0],+d[0][4],+d[0][5]],[+d[1][0],+d[1][1],+d[1][2],+_[1],+d[1][4],+d[1][5]],[+d[2][0],+d[2][1],+d[2][2],+_[2],+d[2][4],+d[2][5]],[+d[3][0],+d[3][1],+d[3][2],+_[3],+d[3][4],+d[3][5]],[+d[4][0],+d[4][1],+d[4][2],+_[4],+d[4][4],+d[4][5]],[+d[5][0],+d[5][1],+d[5][2],+_[5],+d[5][4],+d[5][5]]]),x([[+d[0][0],+d[0][1],+d[0][2],+d[0][3],+_[0],+d[0][5]],[+d[1][0],+d[1][1],+d[1][2],+d[1][3],+_[1],+d[1][5]],[+d[2][0],+d[2][1],+d[2][2],+d[2][3],+_[2],+d[2][5]],[+d[3][0],+d[3][1],+d[3][2],+d[3][3],+_[3],+d[3][5]],[+d[4][0],+d[4][1],+d[4][2],+d[4][3],+_[4],+d[4][5]],[+d[5][0],+d[5][1],+d[5][2],+d[5][3],+_[5],+d[5][5]]]),x([[+d[0][0],+d[0][1],+d[0][2],+d[0][3],+d[0][4],+_[0]],[+d[1][0],+d[1][1],+d[1][2],+d[1][3],+d[1][4],+_[1]],[+d[2][0],+d[2][1],+d[2][2],+d[2][3],+d[2][4],+_[2]],[+d[3][0],+d[3][1],+d[3][2],+d[3][3],+d[3][4],+_[3]],[+d[4][0],+d[4][1],+d[4][2],+d[4][3],+d[4][4],+_[4]],[+d[5][0],+d[5][1],+d[5][2],+d[5][3],+d[5][4],+_[5]]]),x(d)]}}var m=[f,v];function k(x,T,d,_,g,c,A,h){return function(E,D){switch(E.length){case 0:return x(E,D);case 1:return T(E,D);case 2:return d(E,D);case 3:return _(E,D);case 4:return g(E,D);case 5:return c(E,D)}var N=A[E.length];return N||(N=A[E.length]=h(E.length)),N(E,D)}}function S(){for(;m.length<u;)m.push(s(m.length));a.exports=k.apply(void 0,m.concat([m,s]));for(var x=0;x<u;++x)a.exports[x]=m[x]}S()},3250:function(a,o,i){"use strict";var l=i(5250),u=i(8210),s=i(3012),f=i(8545),v=5,p=11102230246251565e-32,b=(3+16*p)*p,y=(7+56*p)*p;function w(c,A,h,R){return function(D,N,I){var F=c(c(A(N[1],I[0]),A(-I[1],N[0])),c(A(D[1],N[0]),A(-N[1],D[0]))),L=c(A(D[1],I[0]),A(-I[1],D[0])),P=R(F,L);return P[P.length-1]}}function M(c,A,h,R){return function(D,N,I,F){var L=c(c(h(c(A(I[1],F[0]),A(-F[1],I[0])),N[2]),c(h(c(A(N[1],F[0]),A(-F[1],N[0])),-I[2]),h(c(A(N[1],I[0]),A(-I[1],N[0])),F[2]))),c(h(c(A(N[1],F[0]),A(-F[1],N[0])),D[2]),c(h(c(A(D[1],F[0]),A(-F[1],D[0])),-N[2]),h(c(A(D[1],N[0]),A(-N[1],D[0])),F[2])))),P=c(c(h(c(A(I[1],F[0]),A(-F[1],I[0])),D[2]),c(h(c(A(D[1],F[0]),A(-F[1],D[0])),-I[2]),h(c(A(D[1],I[0]),A(-I[1],D[0])),F[2]))),c(h(c(A(N[1],I[0]),A(-I[1],N[0])),D[2]),c(h(c(A(D[1],I[0]),A(-I[1],D[0])),-N[2]),h(c(A(D[1],N[0]),A(-N[1],D[0])),I[2])))),O=R(L,P);return O[O.length-1]}}function m(c,A,h,R){return function(D,N,I,F,L){var P=c(c(c(h(c(h(c(A(F[1],L[0]),A(-L[1],F[0])),I[2]),c(h(c(A(I[1],L[0]),A(-L[1],I[0])),-F[2]),h(c(A(I[1],F[0]),A(-F[1],I[0])),L[2]))),N[3]),c(h(c(h(c(A(F[1],L[0]),A(-L[1],F[0])),N[2]),c(h(c(A(N[1],L[0]),A(-L[1],N[0])),-F[2]),h(c(A(N[1],F[0]),A(-F[1],N[0])),L[2]))),-I[3]),h(c(h(c(A(I[1],L[0]),A(-L[1],I[0])),N[2]),c(h(c(A(N[1],L[0]),A(-L[1],N[0])),-I[2]),h(c(A(N[1],I[0]),A(-I[1],N[0])),L[2]))),F[3]))),c(h(c(h(c(A(I[1],F[0]),A(-F[1],I[0])),N[2]),c(h(c(A(N[1],F[0]),A(-F[1],N[0])),-I[2]),h(c(A(N[1],I[0]),A(-I[1],N[0])),F[2]))),-L[3]),c(h(c(h(c(A(F[1],L[0]),A(-L[1],F[0])),N[2]),c(h(c(A(N[1],L[0]),A(-L[1],N[0])),-F[2]),h(c(A(N[1],F[0]),A(-F[1],N[0])),L[2]))),D[3]),h(c(h(c(A(F[1],L[0]),A(-L[1],F[0])),D[2]),c(h(c(A(D[1],L[0]),A(-L[1],D[0])),-F[2]),h(c(A(D[1],F[0]),A(-F[1],D[0])),L[2]))),-N[3])))),c(c(h(c(h(c(A(N[1],L[0]),A(-L[1],N[0])),D[2]),c(h(c(A(D[1],L[0]),A(-L[1],D[0])),-N[2]),h(c(A(D[1],N[0]),A(-N[1],D[0])),L[2]))),F[3]),c(h(c(h(c(A(N[1],F[0]),A(-F[1],N[0])),D[2]),c(h(c(A(D[1],F[0]),A(-F[1],D[0])),-N[2]),h(c(A(D[1],N[0]),A(-N[1],D[0])),F[2]))),-L[3]),h(c(h(c(A(I[1],F[0]),A(-F[1],I[0])),N[2]),c(h(c(A(N[1],F[0]),A(-F[1],N[0])),-I[2]),h(c(A(N[1],I[0]),A(-I[1],N[0])),F[2]))),D[3]))),c(h(c(h(c(A(I[1],F[0]),A(-F[1],I[0])),D[2]),c(h(c(A(D[1],F[0]),A(-F[1],D[0])),-I[2]),h(c(A(D[1],I[0]),A(-I[1],D[0])),F[2]))),-N[3]),c(h(c(h(c(A(N[1],F[0]),A(-F[1],N[0])),D[2]),c(h(c(A(D[1],F[0]),A(-F[1],D[0])),-N[2]),h(c(A(D[1],N[0]),A(-N[1],D[0])),F[2]))),I[3]),h(c(h(c(A(N[1],I[0]),A(-I[1],N[0])),D[2]),c(h(c(A(D[1],I[0]),A(-I[1],D[0])),-N[2]),h(c(A(D[1],N[0]),A(-N[1],D[0])),I[2]))),-F[3]))))),O=c(c(c(h(c(h(c(A(F[1],L[0]),A(-L[1],F[0])),I[2]),c(h(c(A(I[1],L[0]),A(-L[1],I[0])),-F[2]),h(c(A(I[1],F[0]),A(-F[1],I[0])),L[2]))),D[3]),h(c(h(c(A(F[1],L[0]),A(-L[1],F[0])),D[2]),c(h(c(A(D[1],L[0]),A(-L[1],D[0])),-F[2]),h(c(A(D[1],F[0]),A(-F[1],D[0])),L[2]))),-I[3])),c(h(c(h(c(A(I[1],L[0]),A(-L[1],I[0])),D[2]),c(h(c(A(D[1],L[0]),A(-L[1],D[0])),-I[2]),h(c(A(D[1],I[0]),A(-I[1],D[0])),L[2]))),F[3]),h(c(h(c(A(I[1],F[0]),A(-F[1],I[0])),D[2]),c(h(c(A(D[1],F[0]),A(-F[1],D[0])),-I[2]),h(c(A(D[1],I[0]),A(-I[1],D[0])),F[2]))),-L[3]))),c(c(h(c(h(c(A(I[1],L[0]),A(-L[1],I[0])),N[2]),c(h(c(A(N[1],L[0]),A(-L[1],N[0])),-I[2]),h(c(A(N[1],I[0]),A(-I[1],N[0])),L[2]))),D[3]),h(c(h(c(A(I[1],L[0]),A(-L[1],I[0])),D[2]),c(h(c(A(D[1],L[0]),A(-L[1],D[0])),-I[2]),h(c(A(D[1],I[0]),A(-I[1],D[0])),L[2]))),-N[3])),c(h(c(h(c(A(N[1],L[0]),A(-L[1],N[0])),D[2]),c(h(c(A(D[1],L[0]),A(-L[1],D[0])),-N[2]),h(c(A(D[1],N[0]),A(-N[1],D[0])),L[2]))),I[3]),h(c(h(c(A(N[1],I[0]),A(-I[1],N[0])),D[2]),c(h(c(A(D[1],I[0]),A(-I[1],D[0])),-N[2]),h(c(A(D[1],N[0]),A(-N[1],D[0])),I[2]))),-L[3])))),U=R(P,O);return U[U.length-1]}}function k(c){var A=c===3?w:c===4?M:m;return A(u,l,s,f)}var S=k(3),x=k(4),T=[function(){return 0},function(){return 0},function(A,h){return h[0]-A[0]},function(A,h,R){var E=(A[1]-R[1])*(h[0]-R[0]),D=(A[0]-R[0])*(h[1]-R[1]),N=E-D,I;if(E>0){if(D<=0)return N;I=E+D}else if(E<0){if(D>=0)return N;I=-(E+D)}else return N;var F=b*I;return N>=F||N<=-F?N:S(A,h,R)},function(A,h,R,E){var D=A[0]-E[0],N=h[0]-E[0],I=R[0]-E[0],F=A[1]-E[1],L=h[1]-E[1],P=R[1]-E[1],O=A[2]-E[2],U=h[2]-E[2],X=R[2]-E[2],j=N*P,$=I*L,Y=I*F,q=D*P,Z=D*L,ne=N*F,Q=O*(j-$)+U*(Y-q)+X*(Z-ne),oe=(Math.abs(j)+Math.abs($))*Math.abs(O)+(Math.abs(Y)+Math.abs(q))*Math.abs(U)+(Math.abs(Z)+Math.abs(ne))*Math.abs(X),ee=y*oe;return Q>ee||-Q>ee?Q:x(A,h,R,E)}];function d(c){var A=T[c.length];return A||(A=T[c.length]=k(c.length)),A.apply(void 0,c)}function _(c,A,h,R,E,D,N){return function(F,L,P,O,U){switch(arguments.length){case 0:case 1:return 0;case 2:return R(F,L);case 3:return E(F,L,P);case 4:return D(F,L,P,O);case 5:return N(F,L,P,O,U)}for(var X=new Array(arguments.length),j=0;j<arguments.length;++j)X[j]=arguments[j];return c(X)}}function g(){for(;T.length<=v;)T.push(k(T.length));a.exports=_.apply(void 0,[d].concat(T));for(var c=0;c<=v;++c)a.exports[c]=T[c]}g()},5382:function(a,o,i){"use strict";var l=i(8210),u=i(3012);a.exports=s;function s(f,v){if(f.length===1)return u(v,f[0]);if(v.length===1)return u(f,v[0]);if(f.length===0||v.length===0)return[0];var p=[0];if(f.length<v.length)for(var b=0;b<f.length;++b)p=l(p,u(v,f[b]));else for(var b=0;b<v.length;++b)p=l(p,u(f,v[b]));return p}},3012:function(a,o,i){"use strict";var l=i(5250),u=i(9362);a.exports=s;function s(f,v){var p=f.length;if(p===1){var b=l(f[0],v);return b[0]?b:[b[1]]}var y=new Array(2*p),w=[.1,.1],M=[.1,.1],m=0;l(f[0],v,w),w[0]&&(y[m++]=w[0]);for(var k=1;k<p;++k){l(f[k],v,M);var S=w[1];u(S,M[0],w),w[0]&&(y[m++]=w[0]);var x=M[1],T=w[1],d=x+T,_=d-x,g=T-_;w[1]=d,g&&(y[m++]=g)}return w[1]&&(y[m++]=w[1]),m===0&&(y[m++]=0),y.length=m,y}},1125:function(a,o,i){"use strict";a.exports=s;var l=i(3250)[3];function u(f,v,p,b){for(var y=0;y<2;++y){var w=f[y],M=v[y],m=Math.min(w,M),k=Math.max(w,M),S=p[y],x=b[y],T=Math.min(S,x),d=Math.max(S,x);if(d<m||k<T)return!1}return!0}function s(f,v,p,b){var y=l(f,p,b),w=l(v,p,b);if(y>0&&w>0||y<0&&w<0)return!1;var M=l(p,f,v),m=l(b,f,v);return M>0&&m>0||M<0&&m<0?!1:y===0&&w===0&&M===0&&m===0?u(f,v,p,b):!0}},8545:function(a){"use strict";a.exports=i;function o(l,u){var s=l+u,f=s-l,v=s-f,p=u-f,b=l-v,y=b+p;return y?[y,s]:[s]}function i(l,u){var s=l.length|0,f=u.length|0;if(s===1&&f===1)return o(l[0],-u[0]);var v=s+f,p=new Array(v),b=0,y=0,w=0,M=Math.abs,m=l[y],k=M(m),S=-u[w],x=M(S),T,d;k<x?(d=m,y+=1,y<s&&(m=l[y],k=M(m))):(d=S,w+=1,w<f&&(S=-u[w],x=M(S))),y<s&&k<x||w>=f?(T=m,y+=1,y<s&&(m=l[y],k=M(m))):(T=S,w+=1,w<f&&(S=-u[w],x=M(S)));for(var _=T+d,g=_-T,c=d-g,A=c,h=_,R,E,D,N,I;y<s&&w<f;)k<x?(T=m,y+=1,y<s&&(m=l[y],k=M(m))):(T=S,w+=1,w<f&&(S=-u[w],x=M(S))),d=A,_=T+d,g=_-T,c=d-g,c&&(p[b++]=c),R=h+_,E=R-h,D=R-E,N=_-E,I=h-D,A=I+N,h=R;for(;y<s;)T=m,d=A,_=T+d,g=_-T,c=d-g,c&&(p[b++]=c),R=h+_,E=R-h,D=R-E,N=_-E,I=h-D,A=I+N,h=R,y+=1,y<s&&(m=l[y]);for(;w<f;)T=S,d=A,_=T+d,g=_-T,c=d-g,c&&(p[b++]=c),R=h+_,E=R-h,D=R-E,N=_-E,I=h-D,A=I+N,h=R,w+=1,w<f&&(S=-u[w]);return A&&(p[b++]=A),h&&(p[b++]=h),b||(p[b++]=0),p.length=b,p}},8210:function(a){"use strict";a.exports=i;function o(l,u){var s=l+u,f=s-l,v=s-f,p=u-f,b=l-v,y=b+p;return y?[y,s]:[s]}function i(l,u){var s=l.length|0,f=u.length|0;if(s===1&&f===1)return o(l[0],u[0]);var v=s+f,p=new Array(v),b=0,y=0,w=0,M=Math.abs,m=l[y],k=M(m),S=u[w],x=M(S),T,d;k<x?(d=m,y+=1,y<s&&(m=l[y],k=M(m))):(d=S,w+=1,w<f&&(S=u[w],x=M(S))),y<s&&k<x||w>=f?(T=m,y+=1,y<s&&(m=l[y],k=M(m))):(T=S,w+=1,w<f&&(S=u[w],x=M(S)));for(var _=T+d,g=_-T,c=d-g,A=c,h=_,R,E,D,N,I;y<s&&w<f;)k<x?(T=m,y+=1,y<s&&(m=l[y],k=M(m))):(T=S,w+=1,w<f&&(S=u[w],x=M(S))),d=A,_=T+d,g=_-T,c=d-g,c&&(p[b++]=c),R=h+_,E=R-h,D=R-E,N=_-E,I=h-D,A=I+N,h=R;for(;y<s;)T=m,d=A,_=T+d,g=_-T,c=d-g,c&&(p[b++]=c),R=h+_,E=R-h,D=R-E,N=_-E,I=h-D,A=I+N,h=R,y+=1,y<s&&(m=l[y]);for(;w<f;)T=S,d=A,_=T+d,g=_-T,c=d-g,c&&(p[b++]=c),R=h+_,E=R-h,D=R-E,N=_-E,I=h-D,A=I+N,h=R,w+=1,w<f&&(S=u[w]);return A&&(p[b++]=A),h&&(p[b++]=h),b||(p[b++]=0),p.length=b,p}},9127:function(a,o,i){"use strict";a.exports=s;var l=i(6204),u=i(5771);function s(f){return u(l(f))}},7765:function(a,o,i){"use strict";a.exports=m;var l=i(9618),u=i(1888),s=i(446),f=i(1570);function v(k){for(var S=k.length,x=0,T=0;T<S;++T)x=Math.max(x,k[T].length)|0;return x-1}function p(k,S){for(var x=k.length,T=u.mallocUint8(x),d=0;d<x;++d)T[d]=k[d]<S|0;return T}function b(k,S){for(var x=k.length,T=S*(S+1)/2*x|0,d=u.mallocUint32(T*2),_=0,g=0;g<x;++g)for(var c=k[g],S=c.length,A=0;A<S;++A)for(var h=0;h<A;++h){var R=c[h],E=c[A];d[_++]=Math.min(R,E)|0,d[_++]=Math.max(R,E)|0}var D=_/2|0;s(l(d,[D,2]));for(var N=2,g=2;g<_;g+=2)d[g-2]===d[g]&&d[g-1]===d[g+1]||(d[N++]=d[g],d[N++]=d[g+1]);return l(d,[N/2|0,2])}function y(k,S,x,T){for(var d=k.data,_=k.shape[0],g=u.mallocDouble(_),c=0,A=0;A<_;++A){var h=d[2*A],R=d[2*A+1];if(x[h]!==x[R]){var E=S[h],D=S[R];d[2*c]=h,d[2*c+1]=R,g[c++]=(D-T)/(D-E)}}return k.shape[0]=c,l(g,[c])}function w(k,S){var x=u.mallocInt32(S*2),T=k.shape[0],d=k.data;x[0]=0;for(var _=0,g=0;g<T;++g){var c=d[2*g];if(c!==_){for(x[2*_+1]=g;++_<c;)x[2*_]=g,x[2*_+1]=g;x[2*_]=g}}for(x[2*_+1]=T;++_<S;)x[2*_]=x[2*_+1]=T;return x}function M(k){for(var S=k.shape[0]|0,x=k.data,T=new Array(S),d=0;d<S;++d)T[d]=[x[2*d],x[2*d+1]];return T}function m(k,S,x,T){x=x||0,typeof T=="undefined"&&(T=v(k));var d=k.length;if(d===0||T<1)return{cells:[],vertexIds:[],vertexWeights:[]};var _=p(S,+x),g=b(k,T),c=y(g,S,_,+x),A=w(g,S.length|0),h=f(T)(k,g.data,A,_),R=M(g),E=[].slice.call(c.data,0,c.shape[0]);return u.free(_),u.free(g.data),u.free(c.data),u.free(A),{cells:h,vertexIds:R,vertexWeights:E}}},1570:function(a){"use strict";a.exports=i;var o=[function(){function u(f,v,p,b){for(var y=Math.min(p,b)|0,w=Math.max(p,b)|0,M=f[2*y],m=f[2*y+1];M<m;){var k=M+m>>1,S=v[2*k+1];if(S===w)return k;w<S?m=k:M=k+1}return M}function s(f,v,p,b){for(var y=f.length,w=[],M=0;M<y;++M)var m=f[M],k=m.length;return w}return s},function(){function u(f,v,p,b){for(var y=Math.min(p,b)|0,w=Math.max(p,b)|0,M=f[2*y],m=f[2*y+1];M<m;){var k=M+m>>1,S=v[2*k+1];if(S===w)return k;w<S?m=k:M=k+1}return M}function s(f,v,p,b){for(var y=f.length,w=[],M=0;M<y;++M){var m=f[M],k=m.length;if(k===2){var S=(b[m[0]]<<0)+(b[m[1]]<<1);if(S===0||S===3)continue;switch(S){case 0:break;case 1:w.push([u(p,v,m[0],m[1])]);break;case 2:w.push([u(p,v,m[1],m[0])]);break;case 3:break}}}return w}return s},function(){function u(f,v,p,b){for(var y=Math.min(p,b)|0,w=Math.max(p,b)|0,M=f[2*y],m=f[2*y+1];M<m;){var k=M+m>>1,S=v[2*k+1];if(S===w)return k;w<S?m=k:M=k+1}return M}function s(f,v,p,b){for(var y=f.length,w=[],M=0;M<y;++M){var m=f[M],k=m.length;if(k===3){var S=(b[m[0]]<<0)+(b[m[1]]<<1)+(b[m[2]]<<2);if(S===0||S===7)continue;switch(S){case 0:break;case 1:w.push([u(p,v,m[0],m[2]),u(p,v,m[0],m[1])]);break;case 2:w.push([u(p,v,m[1],m[0]),u(p,v,m[1],m[2])]);break;case 3:w.push([u(p,v,m[0],m[2]),u(p,v,m[1],m[2])]);break;case 4:w.push([u(p,v,m[2],m[1]),u(p,v,m[2],m[0])]);break;case 5:w.push([u(p,v,m[2],m[1]),u(p,v,m[0],m[1])]);break;case 6:w.push([u(p,v,m[1],m[0]),u(p,v,m[2],m[0])]);break;case 7:break}}else if(k===2){var S=(b[m[0]]<<0)+(b[m[1]]<<1);if(S===0||S===3)continue;switch(S){case 0:break;case 1:w.push([u(p,v,m[0],m[1])]);break;case 2:w.push([u(p,v,m[1],m[0])]);break;case 3:break}}}return w}return s},function(){function u(f,v,p,b){for(var y=Math.min(p,b)|0,w=Math.max(p,b)|0,M=f[2*y],m=f[2*y+1];M<m;){var k=M+m>>1,S=v[2*k+1];if(S===w)return k;w<S?m=k:M=k+1}return M}function s(f,v,p,b){for(var y=f.length,w=[],M=0;M<y;++M){var m=f[M],k=m.length;if(k===4){var S=(b[m[0]]<<0)+(b[m[1]]<<1)+(b[m[2]]<<2)+(b[m[3]]<<3);if(S===0||S===15)continue;switch(S){case 0:break;case 1:w.push([u(p,v,m[0],m[1]),u(p,v,m[0],m[2]),u(p,v,m[0],m[3])]);break;case 2:w.push([u(p,v,m[1],m[2]),u(p,v,m[1],m[0]),u(p,v,m[1],m[3])]);break;case 3:w.push([u(p,v,m[1],m[2]),u(p,v,m[0],m[2]),u(p,v,m[0],m[3])],[u(p,v,m[1],m[3]),u(p,v,m[1],m[2]),u(p,v,m[0],m[3])]);break;case 4:w.push([u(p,v,m[2],m[0]),u(p,v,m[2],m[1]),u(p,v,m[2],m[3])]);break;case 5:w.push([u(p,v,m[0],m[1]),u(p,v,m[2],m[1]),u(p,v,m[0],m[3])],[u(p,v,m[2],m[1]),u(p,v,m[2],m[3]),u(p,v,m[0],m[3])]);break;case 6:w.push([u(p,v,m[2],m[0]),u(p,v,m[1],m[0]),u(p,v,m[1],m[3])],[u(p,v,m[2],m[3]),u(p,v,m[2],m[0]),u(p,v,m[1],m[3])]);break;case 7:w.push([u(p,v,m[0],m[3]),u(p,v,m[1],m[3]),u(p,v,m[2],m[3])]);break;case 8:w.push([u(p,v,m[3],m[1]),u(p,v,m[3],m[0]),u(p,v,m[3],m[2])]);break;case 9:w.push([u(p,v,m[3],m[1]),u(p,v,m[0],m[1]),u(p,v,m[0],m[2])],[u(p,v,m[3],m[2]),u(p,v,m[3],m[1]),u(p,v,m[0],m[2])]);break;case 10:w.push([u(p,v,m[1],m[0]),u(p,v,m[3],m[0]),u(p,v,m[1],m[2])],[u(p,v,m[3],m[0]),u(p,v,m[3],m[2]),u(p,v,m[1],m[2])]);break;case 11:w.push([u(p,v,m[1],m[2]),u(p,v,m[0],m[2]),u(p,v,m[3],m[2])]);break;case 12:w.push([u(p,v,m[3],m[0]),u(p,v,m[2],m[0]),u(p,v,m[2],m[1])],[u(p,v,m[3],m[1]),u(p,v,m[3],m[0]),u(p,v,m[2],m[1])]);break;case 13:w.push([u(p,v,m[0],m[1]),u(p,v,m[2],m[1]),u(p,v,m[3],m[1])]);break;case 14:w.push([u(p,v,m[2],m[0]),u(p,v,m[1],m[0]),u(p,v,m[3],m[0])]);break;case 15:break}}else if(k===3){var S=(b[m[0]]<<0)+(b[m[1]]<<1)+(b[m[2]]<<2);if(S===0||S===7)continue;switch(S){case 0:break;case 1:w.push([u(p,v,m[0],m[2]),u(p,v,m[0],m[1])]);break;case 2:w.push([u(p,v,m[1],m[0]),u(p,v,m[1],m[2])]);break;case 3:w.push([u(p,v,m[0],m[2]),u(p,v,m[1],m[2])]);break;case 4:w.push([u(p,v,m[2],m[1]),u(p,v,m[2],m[0])]);break;case 5:w.push([u(p,v,m[2],m[1]),u(p,v,m[0],m[1])]);break;case 6:w.push([u(p,v,m[1],m[0]),u(p,v,m[2],m[0])]);break;case 7:break}}else if(k===2){var S=(b[m[0]]<<0)+(b[m[1]]<<1);if(S===0||S===3)continue;switch(S){case 0:break;case 1:w.push([u(p,v,m[0],m[1])]);break;case 2:w.push([u(p,v,m[1],m[0])]);break;case 3:break}}}return w}return s}];function i(l){return o[l]()}},6803:function(a,o,i){"use strict";var l,u=i(8828),s=i(1755);function f(A){for(var h=0,R=Math.max,E=0,D=A.length;E<D;++E)h=R(h,A[E].length);return h-1}l=f;function v(A){for(var h=-1,R=Math.max,E=0,D=A.length;E<D;++E)for(var N=A[E],I=0,F=N.length;I<F;++I)h=R(h,N[I]);return h+1}l=v;function p(A){for(var h=new Array(A.length),R=0,E=A.length;R<E;++R)h[R]=A[R].slice(0);return h}l=p;function b(A,h){var R=A.length,E=A.length-h.length,D=Math.min;if(E)return E;switch(R){case 0:return 0;case 1:return A[0]-h[0];case 2:var P=A[0]+A[1]-h[0]-h[1];return P||D(A[0],A[1])-D(h[0],h[1]);case 3:var N=A[0]+A[1],I=h[0]+h[1];if(P=N+A[2]-(I+h[2]),P)return P;var F=D(A[0],A[1]),L=D(h[0],h[1]),P=D(F,A[2])-D(L,h[2]);return P||D(F+A[2],N)-D(L+h[2],I);default:var O=A.slice(0);O.sort();var U=h.slice(0);U.sort();for(var X=0;X<R;++X)if(E=O[X]-U[X],E)return E;return 0}}o.Fw=b;function y(A,h){return b(A[0],h[0])}function w(A,h){if(h){for(var R=A.length,E=new Array(R),D=0;D<R;++D)E[D]=[A[D],h[D]];E.sort(y);for(var D=0;D<R;++D)A[D]=E[D][0],h[D]=E[D][1];return A}else return A.sort(b),A}l=w;function M(A){if(A.length===0)return[];for(var h=1,R=A.length,E=1;E<R;++E){var D=A[E];if(b(D,A[E-1])){if(E===h){h++;continue}A[h++]=D}}return A.length=h,A}l=M;function m(A,h){for(var R=0,E=A.length-1,D=-1;R<=E;){var N=R+E>>1,I=b(A[N],h);I<=0?(I===0&&(D=N),R=N+1):I>0&&(E=N-1)}return D}l=m;function k(A,h){for(var R=new Array(A.length),E=0,D=R.length;E<D;++E)R[E]=[];for(var N=[],E=0,I=h.length;E<I;++E)for(var F=h[E],L=F.length,P=1,O=1<<L;P<O;++P){N.length=u.popCount(P);for(var U=0,X=0;X<L;++X)P&1<<X&&(N[U++]=F[X]);var j=m(A,N);if(!(j<0))for(;R[j++].push(E),!(j>=A.length||b(A[j],N)!==0););}return R}l=k;function S(A,h){if(!h)return k(M(T(A,0)),A,0);for(var R=new Array(h),E=0;E<h;++E)R[E]=[];for(var E=0,D=A.length;E<D;++E)for(var N=A[E],I=0,F=N.length;I<F;++I)R[N[I]].push(E);return R}l=S;function x(A){for(var h=[],R=0,E=A.length;R<E;++R)for(var D=A[R],N=D.length|0,I=1,F=1<<N;I<F;++I){for(var L=[],P=0;P<N;++P)I>>>P&1&&L.push(D[P]);h.push(L)}return w(h)}l=x;function T(A,h){if(h<0)return[];for(var R=[],E=(1<<h+1)-1,D=0;D<A.length;++D)for(var N=A[D],I=E;I<1<<N.length;I=u.nextCombination(I)){for(var F=new Array(h+1),L=0,P=0;P<N.length;++P)I&1<<P&&(F[L++]=N[P]);R.push(F)}return w(R)}l=T;function d(A){for(var h=[],R=0,E=A.length;R<E;++R)for(var D=A[R],N=0,I=D.length;N<I;++N){for(var F=new Array(D.length-1),L=0,P=0;L<I;++L)L!==N&&(F[P++]=D[L]);h.push(F)}return w(h)}l=d;function _(A,h){for(var R=new s(h),E=0;E<A.length;++E)for(var D=A[E],N=0;N<D.length;++N)for(var I=N+1;I<D.length;++I)R.link(D[N],D[I]);for(var F=[],L=R.ranks,E=0;E<L.length;++E)L[E]=-1;for(var E=0;E<A.length;++E){var P=R.find(A[E][0]);L[P]<0?(L[P]=F.length,F.push([A[E].slice(0)])):F[L[P]].push(A[E].slice(0))}return F}function g(A){for(var h=M(w(T(A,0))),R=new s(h.length),E=0;E<A.length;++E)for(var D=A[E],N=0;N<D.length;++N)for(var I=m(h,[D[N]]),F=N+1;F<D.length;++F)R.link(I,m(h,[D[F]]));for(var L=[],P=R.ranks,E=0;E<P.length;++E)P[E]=-1;for(var E=0;E<A.length;++E){var O=R.find(m(h,[A[E][0]]));P[O]<0?(P[O]=L.length,L.push([A[E].slice(0)])):L[P[O]].push(A[E].slice(0))}return L}function c(A,h){return h?_(A,h):g(A)}l=c},3105:function(a,o){"use strict";"use restrict";var i=32;o.INT_BITS=i,o.INT_MAX=2147483647,o.INT_MIN=-1<<i-1,o.sign=function(s){return(s>0)-(s<0)},o.abs=function(s){var f=s>>i-1;return(s^f)-f},o.min=function(s,f){return f^(s^f)&-(s<f)},o.max=function(s,f){return s^(s^f)&-(s<f)},o.isPow2=function(s){return!(s&s-1)&&!!s},o.log2=function(s){var f,v;return f=(s>65535)<<4,s>>>=f,v=(s>255)<<3,s>>>=v,f|=v,v=(s>15)<<2,s>>>=v,f|=v,v=(s>3)<<1,s>>>=v,f|=v,f|s>>1},o.log10=function(s){return s>=1e9?9:s>=1e8?8:s>=1e7?7:s>=1e6?6:s>=1e5?5:s>=1e4?4:s>=1e3?3:s>=100?2:s>=10?1:0},o.popCount=function(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),(s+(s>>>4)&252645135)*16843009>>>24};function l(s){var f=32;return s&=-s,s&&f--,s&65535&&(f-=16),s&16711935&&(f-=8),s&252645135&&(f-=4),s&858993459&&(f-=2),s&1431655765&&(f-=1),f}o.countTrailingZeros=l,o.nextPow2=function(s){return s+=s===0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1},o.prevPow2=function(s){return s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s-(s>>>1)},o.parity=function(s){return s^=s>>>16,s^=s>>>8,s^=s>>>4,s&=15,27030>>>s&1};var u=new Array(256);(function(s){for(var f=0;f<256;++f){var v=f,p=f,b=7;for(v>>>=1;v;v>>>=1)p<<=1,p|=v&1,--b;s[f]=p<<b&255}})(u),o.reverse=function(s){return u[s&255]<<24|u[s>>>8&255]<<16|u[s>>>16&255]<<8|u[s>>>24&255]},o.interleave2=function(s,f){return s&=65535,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,s|f<<1},o.deinterleave2=function(s,f){return s=s>>>f&1431655765,s=(s|s>>>1)&858993459,s=(s|s>>>2)&252645135,s=(s|s>>>4)&16711935,s=(s|s>>>16)&65535,s<<16>>16},o.interleave3=function(s,f,v){return s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,s|=f<<1,v&=1023,v=(v|v<<16)&4278190335,v=(v|v<<8)&251719695,v=(v|v<<4)&3272356035,v=(v|v<<2)&1227133513,s|v<<2},o.deinterleave3=function(s,f){return s=s>>>f&1227133513,s=(s|s>>>2)&3272356035,s=(s|s>>>4)&251719695,s=(s|s>>>8)&4278190335,s=(s|s>>>16)&1023,s<<22>>22},o.nextCombination=function(s){var f=s|s-1;return f+1|(~f&-~f)-1>>>l(s)+1}},2014:function(a,o,i){"use strict";"use restrict";var l=i(3105),u=i(4623);function s(c){for(var A=0,h=Math.max,R=0,E=c.length;R<E;++R)A=h(A,c[R].length);return A-1}o.dimension=s;function f(c){for(var A=-1,h=Math.max,R=0,E=c.length;R<E;++R)for(var D=c[R],N=0,I=D.length;N<I;++N)A=h(A,D[N]);return A+1}o.countVertices=f;function v(c){for(var A=new Array(c.length),h=0,R=c.length;h<R;++h)A[h]=c[h].slice(0);return A}o.cloneCells=v;function p(c,A){var h=c.length,R=c.length-A.length,E=Math.min;if(R)return R;switch(h){case 0:return 0;case 1:return c[0]-A[0];case 2:var L=c[0]+c[1]-A[0]-A[1];return L||E(c[0],c[1])-E(A[0],A[1]);case 3:var D=c[0]+c[1],N=A[0]+A[1];if(L=D+c[2]-(N+A[2]),L)return L;var I=E(c[0],c[1]),F=E(A[0],A[1]),L=E(I,c[2])-E(F,A[2]);return L||E(I+c[2],D)-E(F+A[2],N);default:var P=c.slice(0);P.sort();var O=A.slice(0);O.sort();for(var U=0;U<h;++U)if(R=P[U]-O[U],R)return R;return 0}}o.compareCells=p;function b(c,A){return p(c[0],A[0])}function y(c,A){if(A){for(var h=c.length,R=new Array(h),E=0;E<h;++E)R[E]=[c[E],A[E]];R.sort(b);for(var E=0;E<h;++E)c[E]=R[E][0],A[E]=R[E][1];return c}else return c.sort(p),c}o.normalize=y;function w(c){if(c.length===0)return[];for(var A=1,h=c.length,R=1;R<h;++R){var E=c[R];if(p(E,c[R-1])){if(R===A){A++;continue}c[A++]=E}}return c.length=A,c}o.unique=w;function M(c,A){for(var h=0,R=c.length-1,E=-1;h<=R;){var D=h+R>>1,N=p(c[D],A);N<=0?(N===0&&(E=D),h=D+1):N>0&&(R=D-1)}return E}o.findCell=M;function m(c,A){for(var h=new Array(c.length),R=0,E=h.length;R<E;++R)h[R]=[];for(var D=[],R=0,N=A.length;R<N;++R)for(var I=A[R],F=I.length,L=1,P=1<<F;L<P;++L){D.length=l.popCount(L);for(var O=0,U=0;U<F;++U)L&1<<U&&(D[O++]=I[U]);var X=M(c,D);if(!(X<0))for(;h[X++].push(R),!(X>=c.length||p(c[X],D)!==0););}return h}o.incidence=m;function k(c,A){if(!A)return m(w(x(c,0)),c,0);for(var h=new Array(A),R=0;R<A;++R)h[R]=[];for(var R=0,E=c.length;R<E;++R)for(var D=c[R],N=0,I=D.length;N<I;++N)h[D[N]].push(R);return h}o.dual=k;function S(c){for(var A=[],h=0,R=c.length;h<R;++h)for(var E=c[h],D=E.length|0,N=1,I=1<<D;N<I;++N){for(var F=[],L=0;L<D;++L)N>>>L&1&&F.push(E[L]);A.push(F)}return y(A)}o.explode=S;function x(c,A){if(A<0)return[];for(var h=[],R=(1<<A+1)-1,E=0;E<c.length;++E)for(var D=c[E],N=R;N<1<<D.length;N=l.nextCombination(N)){for(var I=new Array(A+1),F=0,L=0;L<D.length;++L)N&1<<L&&(I[F++]=D[L]);h.push(I)}return y(h)}o.skeleton=x;function T(c){for(var A=[],h=0,R=c.length;h<R;++h)for(var E=c[h],D=0,N=E.length;D<N;++D){for(var I=new Array(E.length-1),F=0,L=0;F<N;++F)F!==D&&(I[L++]=E[F]);A.push(I)}return y(A)}o.boundary=T;function d(c,A){for(var h=new u(A),R=0;R<c.length;++R)for(var E=c[R],D=0;D<E.length;++D)for(var N=D+1;N<E.length;++N)h.link(E[D],E[N]);for(var I=[],F=h.ranks,R=0;R<F.length;++R)F[R]=-1;for(var R=0;R<c.length;++R){var L=h.find(c[R][0]);F[L]<0?(F[L]=I.length,I.push([c[R].slice(0)])):I[F[L]].push(c[R].slice(0))}return I}function _(c){for(var A=w(y(x(c,0))),h=new u(A.length),R=0;R<c.length;++R)for(var E=c[R],D=0;D<E.length;++D)for(var N=M(A,[E[D]]),I=D+1;I<E.length;++I)h.link(N,M(A,[E[I]]));for(var F=[],L=h.ranks,R=0;R<L.length;++R)L[R]=-1;for(var R=0;R<c.length;++R){var P=h.find(M(A,[c[R][0]]));L[P]<0?(L[P]=F.length,F.push([c[R].slice(0)])):F[L[P]].push(c[R].slice(0))}return F}function g(c,A){return A?d(c,A):_(c)}o.connectedComponents=g},4623:function(a){"use strict";"use restrict";a.exports=o;function o(i){this.roots=new Array(i),this.ranks=new Array(i);for(var l=0;l<i;++l)this.roots[l]=l,this.ranks[l]=0}o.prototype.length=function(){return this.roots.length},o.prototype.makeSet=function(){var i=this.roots.length;return this.roots.push(i),this.ranks.push(0),i},o.prototype.find=function(i){for(var l=this.roots;l[i]!==i;){var u=l[i];l[i]=l[u],i=u}return i},o.prototype.link=function(i,l){var u=this.find(i),s=this.find(l);if(u!==s){var f=this.ranks,v=this.roots,p=f[u],b=f[s];p<b?v[u]=s:b<p?v[s]=u:(v[s]=u,++f[u])}}},5878:function(a,o,i){"use strict";a.exports=f;var l=i(3250),u=i(2014);function s(v,p,b){var y=Math.abs(l(v,p,b)),w=Math.sqrt(Math.pow(p[0]-b[0],2)+Math.pow(p[1]-b[1],2));return y/w}function f(v,p,b){for(var y=p.length,w=v.length,M=new Array(y),m=new Array(y),k=new Array(y),S=new Array(y),x=0;x<y;++x)M[x]=m[x]=-1,k[x]=1/0,S[x]=!1;for(var x=0;x<w;++x){var T=v[x];if(T.length!==2)throw new Error("Input must be a graph");var d=T[1],_=T[0];m[_]!==-1?m[_]=-2:m[_]=d,M[d]!==-1?M[d]=-2:M[d]=_}function g(q){if(S[q])return 1/0;var Z=M[q],ne=m[q];return Z<0||ne<0?1/0:s(p[q],p[Z],p[ne])}function c(q,Z){var ne=F[q],Q=F[Z];F[q]=Q,F[Z]=ne,L[ne]=Z,L[Q]=q}function A(q){return k[F[q]]}function h(q){return q&1?q-1>>1:(q>>1)-1}function R(q){for(var Z=A(q);;){var ne=Z,Q=2*q+1,oe=2*(q+1),ee=q;if(Q<O){var G=A(Q);G<ne&&(ee=Q,ne=G)}if(oe<O){var re=A(oe);re<ne&&(ee=oe)}if(ee===q)return q;c(q,ee),q=ee}}function E(q){for(var Z=A(q);q>0;){var ne=h(q);if(ne>=0){var Q=A(ne);if(Z<Q){c(q,ne),q=ne;continue}}return q}}function D(){if(O>0){var q=F[0];return c(0,O-1),O-=1,R(0),q}return-1}function N(q,Z){var ne=F[q];return k[ne]===Z?q:(k[ne]=-1/0,E(q),D(),k[ne]=Z,O+=1,E(O-1))}function I(q){if(!S[q]){S[q]=!0;var Z=M[q],ne=m[q];M[ne]>=0&&(M[ne]=Z),m[Z]>=0&&(m[Z]=ne),L[Z]>=0&&N(L[Z],g(Z)),L[ne]>=0&&N(L[ne],g(ne))}}for(var F=[],L=new Array(y),x=0;x<y;++x){var P=k[x]=g(x);P<1/0?(L[x]=F.length,F.push(x)):L[x]=-1}for(var O=F.length,x=O>>1;x>=0;--x)R(x);for(;;){var U=D();if(U<0||k[U]>b)break;I(U)}for(var X=[],x=0;x<y;++x)S[x]||(L[x]=X.length,X.push(p[x].slice()));var j=X.length;function $(q,Z){if(q[Z]<0)return Z;var ne=Z,Q=Z;do{var oe=q[Q];if(!S[Q]||oe<0||oe===Q||(Q=oe,oe=q[Q],!S[Q]||oe<0||oe===Q))break;Q=oe,ne=q[ne]}while(ne!==Q);for(var ee=Z;ee!==Q;ee=q[ee])q[ee]=Q;return Q}var Y=[];return v.forEach(function(q){var Z=$(M,q[0]),ne=$(m,q[1]);if(Z>=0&&ne>=0&&Z!==ne){var Q=L[Z],oe=L[ne];Q!==oe&&Y.push([Q,oe])}}),u.unique(u.normalize(Y)),{positions:X,edges:Y}}},1303:function(a,o,i){"use strict";a.exports=s;var l=i(3250);function u(f,v){var p,b;if(v[0][0]<v[1][0])p=v[0],b=v[1];else if(v[0][0]>v[1][0])p=v[1],b=v[0];else{var y=Math.min(f[0][1],f[1][1]),w=Math.max(f[0][1],f[1][1]),M=Math.min(v[0][1],v[1][1]),m=Math.max(v[0][1],v[1][1]);return w<M?w-M:y>m?y-m:w-m}var k,S;f[0][1]<f[1][1]?(k=f[0],S=f[1]):(k=f[1],S=f[0]);var x=l(b,p,k);return x||(x=l(b,p,S),x)?x:S-b}function s(f,v){var p,b;if(v[0][0]<v[1][0])p=v[0],b=v[1];else if(v[0][0]>v[1][0])p=v[1],b=v[0];else return u(v,f);var y,w;if(f[0][0]<f[1][0])y=f[0],w=f[1];else if(f[0][0]>f[1][0])y=f[1],w=f[0];else return-u(f,v);var M=l(p,b,w),m=l(p,b,y);if(M<0){if(m<=0)return M}else if(M>0){if(m>=0)return M}else if(m)return m;if(M=l(w,y,b),m=l(w,y,p),M<0){if(m<=0)return M}else if(M>0){if(m>=0)return M}else if(m)return m;return b[0]-w[0]}},4209:function(a,o,i){"use strict";a.exports=m;var l=i(2478),u=i(3840),s=i(3250),f=i(1303);function v(k,S,x){this.slabs=k,this.coordinates=S,this.horizontal=x}var p=v.prototype;function b(k,S){return k.y-S}function y(k,S){for(var x=null;k;){var T=k.key,d,_;T[0][0]<T[1][0]?(d=T[0],_=T[1]):(d=T[1],_=T[0]);var g=s(d,_,S);if(g<0)k=k.left;else if(g>0)if(S[0]!==T[1][0])x=k,k=k.right;else{var c=y(k.right,S);if(c)return c;k=k.left}else{if(S[0]!==T[1][0])return k;var c=y(k.right,S);if(c)return c;k=k.left}}return x}p.castUp=function(k){var S=l.le(this.coordinates,k[0]);if(S<0)return-1;var x=this.slabs[S],T=y(this.slabs[S],k),d=-1;if(T&&(d=T.value),this.coordinates[S]===k[0]){var _=null;if(T&&(_=T.key),S>0){var g=y(this.slabs[S-1],k);g&&(_?f(g.key,_)>0&&(_=g.key,d=g.value):(d=g.value,_=g.key))}var c=this.horizontal[S];if(c.length>0){var A=l.ge(c,k[1],b);if(A<c.length){var h=c[A];if(k[1]===h.y){if(h.closed)return h.index;for(;A<c.length-1&&c[A+1].y===k[1];)if(A=A+1,h=c[A],h.closed)return h.index;if(h.y===k[1]&&!h.start){if(A=A+1,A>=c.length)return d;h=c[A]}}if(h.start)if(_){var R=s(_[0],_[1],[k[0],h.y]);_[0][0]>_[1][0]&&(R=-R),R>0&&(d=h.index)}else d=h.index;else h.y!==k[1]&&(d=h.index)}}}return d};function w(k,S,x,T){this.y=k,this.index=S,this.start=x,this.closed=T}function M(k,S,x,T){this.x=k,this.segment=S,this.create=x,this.index=T}function m(k){for(var S=k.length,x=2*S,T=new Array(x),d=0;d<S;++d){var _=k[d],g=_[0][0]<_[1][0];T[2*d]=new M(_[0][0],_,g,d),T[2*d+1]=new M(_[1][0],_,!g,d)}T.sort(function(F,L){var P=F.x-L.x;return P||(P=F.create-L.create,P)?P:Math.min(F.segment[0][1],F.segment[1][1])-Math.min(L.segment[0][1],L.segment[1][1])});for(var c=u(f),A=[],h=[],R=[],E=-1/0,d=0;d<x;){for(var D=T[d].x,N=[];d<x;){var I=T[d];if(I.x!==D)break;d+=1,I.segment[0][0]===I.x&&I.segment[1][0]===I.x?I.create&&(I.segment[0][1]<I.segment[1][1]?(N.push(new w(I.segment[0][1],I.index,!0,!0)),N.push(new w(I.segment[1][1],I.index,!1,!1))):(N.push(new w(I.segment[1][1],I.index,!0,!1)),N.push(new w(I.segment[0][1],I.index,!1,!0)))):I.create?c=c.insert(I.segment,I.index):c=c.remove(I.segment)}A.push(c.root),h.push(D),R.push(N)}return new v(A,h,R)}},5202:function(a,o,i){"use strict";var l=i(1944),u=i(8210);a.exports=v,a.exports.positive=p,a.exports.negative=b;function s(y,w){var M=u(l(y,w),[w[w.length-1]]);return M[M.length-1]}function f(y,w,M,m){var k=m-w,S=-w/k;S<0?S=0:S>1&&(S=1);for(var x=1-S,T=y.length,d=new Array(T),_=0;_<T;++_)d[_]=S*y[_]+x*M[_];return d}function v(y,w){for(var M=[],m=[],k=s(y[y.length-1],w),S=y[y.length-1],x=y[0],T=0;T<y.length;++T,S=x){x=y[T];var d=s(x,w);if(k<0&&d>0||k>0&&d<0){var _=f(S,d,x,k);M.push(_),m.push(_.slice())}d<0?m.push(x.slice()):d>0?M.push(x.slice()):(M.push(x.slice()),m.push(x.slice())),k=d}return{positive:M,negative:m}}function p(y,w){for(var M=[],m=s(y[y.length-1],w),k=y[y.length-1],S=y[0],x=0;x<y.length;++x,k=S){S=y[x];var T=s(S,w);(m<0&&T>0||m>0&&T<0)&&M.push(f(k,T,S,m)),T>=0&&M.push(S.slice()),m=T}return M}function b(y,w){for(var M=[],m=s(y[y.length-1],w),k=y[y.length-1],S=y[0],x=0;x<y.length;++x,k=S){S=y[x];var T=s(S,w);(m<0&&T>0||m>0&&T<0)&&M.push(f(k,T,S,m)),T<=0&&M.push(S.slice()),m=T}return M}},3387:function(a,o,i){var l;(function(){"use strict";var u={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function s(y){return v(b(y),arguments)}function f(y,w){return s.apply(null,[y].concat(w||[]))}function v(y,w){var M=1,m=y.length,k,S="",x,T,d,_,g,c,A,h;for(x=0;x<m;x++)if(typeof y[x]=="string")S+=y[x];else if(typeof y[x]=="object"){if(d=y[x],d.keys)for(k=w[M],T=0;T<d.keys.length;T++){if(k==null)throw new Error(s('[sprintf] Cannot access property "%s" of undefined value "%s"',d.keys[T],d.keys[T-1]));k=k[d.keys[T]]}else d.param_no?k=w[d.param_no]:k=w[M++];if(u.not_type.test(d.type)&&u.not_primitive.test(d.type)&&k instanceof Function&&(k=k()),u.numeric_arg.test(d.type)&&typeof k!="number"&&isNaN(k))throw new TypeError(s("[sprintf] expecting number but found %T",k));switch(u.number.test(d.type)&&(A=k>=0),d.type){case"b":k=parseInt(k,10).toString(2);break;case"c":k=String.fromCharCode(parseInt(k,10));break;case"d":case"i":k=parseInt(k,10);break;case"j":k=JSON.stringify(k,null,d.width?parseInt(d.width):0);break;case"e":k=d.precision?parseFloat(k).toExponential(d.precision):parseFloat(k).toExponential();break;case"f":k=d.precision?parseFloat(k).toFixed(d.precision):parseFloat(k);break;case"g":k=d.precision?String(Number(k.toPrecision(d.precision))):parseFloat(k);break;case"o":k=(parseInt(k,10)>>>0).toString(8);break;case"s":k=String(k),k=d.precision?k.substring(0,d.precision):k;break;case"t":k=String(!!k),k=d.precision?k.substring(0,d.precision):k;break;case"T":k=Object.prototype.toString.call(k).slice(8,-1).toLowerCase(),k=d.precision?k.substring(0,d.precision):k;break;case"u":k=parseInt(k,10)>>>0;break;case"v":k=k.valueOf(),k=d.precision?k.substring(0,d.precision):k;break;case"x":k=(parseInt(k,10)>>>0).toString(16);break;case"X":k=(parseInt(k,10)>>>0).toString(16).toUpperCase();break}u.json.test(d.type)?S+=k:(u.number.test(d.type)&&(!A||d.sign)?(h=A?"+":"-",k=k.toString().replace(u.sign,"")):h="",g=d.pad_char?d.pad_char==="0"?"0":d.pad_char.charAt(1):" ",c=d.width-(h+k).length,_=d.width&&c>0?g.repeat(c):"",S+=d.align?h+k+_:g==="0"?h+_+k:_+h+k)}return S}var p=Object.create(null);function b(y){if(p[y])return p[y];for(var w=y,M,m=[],k=0;w;){if((M=u.text.exec(w))!==null)m.push(M[0]);else if((M=u.modulo.exec(w))!==null)m.push("%");else if((M=u.placeholder.exec(w))!==null){if(M[2]){k|=1;var S=[],x=M[2],T=[];if((T=u.key.exec(x))!==null)for(S.push(T[1]);(x=x.substring(T[0].length))!=="";)if((T=u.key_access.exec(x))!==null)S.push(T[1]);else if((T=u.index_access.exec(x))!==null)S.push(T[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");M[2]=S}else k|=2;if(k===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");m.push({placeholder:M[0],param_no:M[1],keys:M[2],sign:M[3],pad_char:M[4],align:M[5],width:M[6],precision:M[7],type:M[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");w=w.substring(M[0].length)}return p[y]=m}o.sprintf=s,o.vsprintf=f,typeof window!="undefined"&&(window.sprintf=s,window.vsprintf=f,l=function(){return{sprintf:s,vsprintf:f}}.call(o,i,o,a),l!==void 0&&(a.exports=l))})()},3711:function(a,o,i){"use strict";a.exports=b;var l=i(2640),u=i(781),s={"2d":function(y,w,M){var m=y({order:w,scalarArguments:3,getters:M==="generic"?[0]:void 0,phase:function(S,x,T,d){return S>d|0},vertex:function(S,x,T,d,_,g,c,A,h,R,E,D,N){var I=(c<<0)+(A<<1)+(h<<2)+(R<<3)|0;if(!(I===0||I===15))switch(I){case 0:E.push([S-.5,x-.5]);break;case 1:E.push([S-.25-.25*(d+T-2*N)/(T-d),x-.25-.25*(_+T-2*N)/(T-_)]);break;case 2:E.push([S-.75-.25*(-d-T+2*N)/(d-T),x-.25-.25*(g+d-2*N)/(d-g)]);break;case 3:E.push([S-.5,x-.5-.5*(_+T+g+d-4*N)/(T-_+d-g)]);break;case 4:E.push([S-.25-.25*(g+_-2*N)/(_-g),x-.75-.25*(-_-T+2*N)/(_-T)]);break;case 5:E.push([S-.5-.5*(d+T+g+_-4*N)/(T-d+_-g),x-.5]);break;case 6:E.push([S-.5-.25*(-d-T+g+_)/(d-T+_-g),x-.5-.25*(-_-T+g+d)/(_-T+d-g)]);break;case 7:E.push([S-.75-.25*(g+_-2*N)/(_-g),x-.75-.25*(g+d-2*N)/(d-g)]);break;case 8:E.push([S-.75-.25*(-g-_+2*N)/(g-_),x-.75-.25*(-g-d+2*N)/(g-d)]);break;case 9:E.push([S-.5-.25*(d+T+-g-_)/(T-d+g-_),x-.5-.25*(_+T+-g-d)/(T-_+g-d)]);break;case 10:E.push([S-.5-.5*(-d-T+-g-_+4*N)/(d-T+g-_),x-.5]);break;case 11:E.push([S-.25-.25*(-g-_+2*N)/(g-_),x-.75-.25*(_+T-2*N)/(T-_)]);break;case 12:E.push([S-.5,x-.5-.5*(-_-T+-g-d+4*N)/(_-T+g-d)]);break;case 13:E.push([S-.75-.25*(d+T-2*N)/(T-d),x-.25-.25*(-g-d+2*N)/(g-d)]);break;case 14:E.push([S-.25-.25*(-d-T+2*N)/(d-T),x-.25-.25*(-_-T+2*N)/(_-T)]);break;case 15:E.push([S-.5,x-.5]);break}},cell:function(S,x,T,d,_,g,c,A,h){_?A.push([S,x]):A.push([x,S])}});return function(k,S){var x=[],T=[];return m(k,x,T,S),{positions:x,cells:T}}}};function f(y,w){var M=y.length+"d",m=s[M];if(m)return m(l,y,w)}function v(y,w){for(var M=u(y,w),m=M.length,k=new Array(m),S=new Array(m),x=0;x<m;++x)k[x]=[M[x]],S[x]=[x];return{positions:k,cells:S}}var p={};function b(y,k){if(y.dimension<=0)return{positions:[],cells:[]};if(y.dimension===1)return v(y,k);var M=y.order.join()+"-"+y.dtype,m=p[M],k=+k||0;return m||(m=p[M]=f(y.order,y.dtype)),m(y,k)}},665:function(a,o,i){"use strict";var l=i(3202);a.exports=v;var u=96;function s(p,b){var y=l(getComputedStyle(p).getPropertyValue(b));return y[0]*v(y[1],p)}function f(p,b){var y=document.createElement("div");y.style["font-size"]="128"+p,b.appendChild(y);var w=s(y,"font-size")/128;return b.removeChild(y),w}function v(p,b){switch(b=b||document.body,p=(p||"px").trim().toLowerCase(),(b===window||b===document)&&(b=document.body),p){case"%":return b.clientHeight/100;case"ch":case"ex":return f(p,b);case"em":return s(b,"font-size");case"rem":return s(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return u;case"cm":return u/2.54;case"mm":return u/25.4;case"pt":return u/72;case"pc":return u/6}return 1}},7261:function(a,o,i){"use strict";a.exports=S;var l=i(9215),u=i(7608),s=i(6079),f=i(5911),v=i(3536),p=i(244);function b(x,T,d){return Math.sqrt(Math.pow(x,2)+Math.pow(T,2)+Math.pow(d,2))}function y(x){return Math.min(1,Math.max(-1,x))}function w(x){var T=Math.abs(x[0]),d=Math.abs(x[1]),_=Math.abs(x[2]),g=[0,0,0];T>Math.max(d,_)?g[2]=1:d>Math.max(T,_)?g[0]=1:g[1]=1;for(var c=0,A=0,h=0;h<3;++h)c+=x[h]*x[h],A+=g[h]*x[h];for(var h=0;h<3;++h)g[h]-=A/c*x[h];return v(g,g),g}function M(x,T,d,_,g,c,A,h){this.center=l(d),this.up=l(_),this.right=l(g),this.radius=l([c]),this.angle=l([A,h]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(x,T),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var R=0;R<16;++R)this.computedMatrix[R]=.5;this.recalcMatrix(0)}var m=M.prototype;m.setDistanceLimits=function(x,T){x>0?x=Math.log(x):x=-1/0,T>0?T=Math.log(T):T=1/0,T=Math.max(T,x),this.radius.bounds[0][0]=x,this.radius.bounds[1][0]=T},m.getDistanceLimits=function(x){var T=this.radius.bounds[0];return x?(x[0]=Math.exp(T[0][0]),x[1]=Math.exp(T[1][0]),x):[Math.exp(T[0][0]),Math.exp(T[1][0])]},m.recalcMatrix=function(x){this.center.curve(x),this.up.curve(x),this.right.curve(x),this.radius.curve(x),this.angle.curve(x);for(var T=this.computedUp,d=this.computedRight,_=0,g=0,c=0;c<3;++c)g+=T[c]*d[c],_+=T[c]*T[c];for(var A=Math.sqrt(_),h=0,c=0;c<3;++c)d[c]-=T[c]*g/_,h+=d[c]*d[c],T[c]/=A;for(var R=Math.sqrt(h),c=0;c<3;++c)d[c]/=R;var E=this.computedToward;f(E,T,d),v(E,E);for(var D=Math.exp(this.computedRadius[0]),N=this.computedAngle[0],I=this.computedAngle[1],F=Math.cos(N),L=Math.sin(N),P=Math.cos(I),O=Math.sin(I),U=this.computedCenter,X=F*P,j=L*P,$=O,Y=-F*O,q=-L*O,Z=P,ne=this.computedEye,Q=this.computedMatrix,c=0;c<3;++c){var oe=X*d[c]+j*E[c]+$*T[c];Q[4*c+1]=Y*d[c]+q*E[c]+Z*T[c],Q[4*c+2]=oe,Q[4*c+3]=0}var ee=Q[1],G=Q[5],re=Q[9],H=Q[2],te=Q[6],ue=Q[10],de=G*ue-re*te,Ee=re*H-ee*ue,Me=ee*te-G*H,ve=b(de,Ee,Me);de/=ve,Ee/=ve,Me/=ve,Q[0]=de,Q[4]=Ee,Q[8]=Me;for(var c=0;c<3;++c)ne[c]=U[c]+Q[2+4*c]*D;for(var c=0;c<3;++c){for(var h=0,Ae=0;Ae<3;++Ae)h+=Q[c+4*Ae]*ne[Ae];Q[12+c]=-h}Q[15]=1},m.getMatrix=function(x,T){this.recalcMatrix(x);var d=this.computedMatrix;if(T){for(var _=0;_<16;++_)T[_]=d[_];return T}return d};var k=[0,0,0];m.rotate=function(x,T,d,_){if(this.angle.move(x,T,d),_){this.recalcMatrix(x);var g=this.computedMatrix;k[0]=g[2],k[1]=g[6],k[2]=g[10];for(var c=this.computedUp,A=this.computedRight,h=this.computedToward,R=0;R<3;++R)g[4*R]=c[R],g[4*R+1]=A[R],g[4*R+2]=h[R];s(g,g,_,k);for(var R=0;R<3;++R)c[R]=g[4*R],A[R]=g[4*R+1];this.up.set(x,c[0],c[1],c[2]),this.right.set(x,A[0],A[1],A[2])}},m.pan=function(x,T,d,_){T=T||0,d=d||0,_=_||0,this.recalcMatrix(x);var g=this.computedMatrix,c=Math.exp(this.computedRadius[0]),A=g[1],h=g[5],R=g[9],E=b(A,h,R);A/=E,h/=E,R/=E;var D=g[0],N=g[4],I=g[8],F=D*A+N*h+I*R;D-=A*F,N-=h*F,I-=R*F;var L=b(D,N,I);D/=L,N/=L,I/=L;var P=D*T+A*d,O=N*T+h*d,U=I*T+R*d;this.center.move(x,P,O,U);var X=Math.exp(this.computedRadius[0]);X=Math.max(1e-4,X+_),this.radius.set(x,Math.log(X))},m.translate=function(x,T,d,_){this.center.move(x,T||0,d||0,_||0)},m.setMatrix=function(x,T,d,_){var g=1;typeof d=="number"&&(g=d|0),(g<0||g>3)&&(g=1);var c=(g+2)%3,A=(g+1)%3;T||(this.recalcMatrix(x),T=this.computedMatrix);var h=T[g],R=T[g+4],E=T[g+8];if(_){var N=Math.abs(h),I=Math.abs(R),F=Math.abs(E),L=Math.max(N,I,F);N===L?(h=h<0?-1:1,R=E=0):F===L?(E=E<0?-1:1,h=R=0):(R=R<0?-1:1,h=E=0)}else{var D=b(h,R,E);h/=D,R/=D,E/=D}var P=T[c],O=T[c+4],U=T[c+8],X=P*h+O*R+U*E;P-=h*X,O-=R*X,U-=E*X;var j=b(P,O,U);P/=j,O/=j,U/=j;var $=R*U-E*O,Y=E*P-h*U,q=h*O-R*P,Z=b($,Y,q);$/=Z,Y/=Z,q/=Z,this.center.jump(x,Ue,ge,Te),this.radius.idle(x),this.up.jump(x,h,R,E),this.right.jump(x,P,O,U);var ne,Q;if(g===2){var oe=T[1],ee=T[5],G=T[9],re=oe*P+ee*O+G*U,H=oe*$+ee*Y+G*q;Ee<0?ne=-Math.PI/2:ne=Math.PI/2,Q=Math.atan2(H,re)}else{var te=T[2],ue=T[6],de=T[10],Ee=te*h+ue*R+de*E,Me=te*P+ue*O+de*U,ve=te*$+ue*Y+de*q;ne=Math.asin(y(Ee)),Q=Math.atan2(ve,Me)}this.angle.jump(x,Q,ne),this.recalcMatrix(x);var Ae=T[2],ke=T[6],De=T[10],Ce=this.computedMatrix;u(Ce,T);var Oe=Ce[15],Ue=Ce[12]/Oe,ge=Ce[13]/Oe,Te=Ce[14]/Oe,ce=Math.exp(this.computedRadius[0]);this.center.jump(x,Ue-Ae*ce,ge-ke*ce,Te-De*ce)},m.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},m.idle=function(x){this.center.idle(x),this.up.idle(x),this.right.idle(x),this.radius.idle(x),this.angle.idle(x)},m.flush=function(x){this.center.flush(x),this.up.flush(x),this.right.flush(x),this.radius.flush(x),this.angle.flush(x)},m.setDistance=function(x,T){T>0&&this.radius.set(x,Math.log(T))},m.lookAt=function(x,T,d,_){this.recalcMatrix(x),T=T||this.computedEye,d=d||this.computedCenter,_=_||this.computedUp;var g=_[0],c=_[1],A=_[2],h=b(g,c,A);if(!(h<1e-6)){g/=h,c/=h,A/=h;var R=T[0]-d[0],E=T[1]-d[1],D=T[2]-d[2],N=b(R,E,D);if(!(N<1e-6)){R/=N,E/=N,D/=N;var I=this.computedRight,F=I[0],L=I[1],P=I[2],O=g*F+c*L+A*P;F-=O*g,L-=O*c,P-=O*A;var U=b(F,L,P);if(!(U<.01&&(F=c*D-A*E,L=A*R-g*D,P=g*E-c*R,U=b(F,L,P),U<1e-6))){F/=U,L/=U,P/=U,this.up.set(x,g,c,A),this.right.set(x,F,L,P),this.center.set(x,d[0],d[1],d[2]),this.radius.set(x,Math.log(N));var X=c*P-A*L,j=A*F-g*P,$=g*L-c*F,Y=b(X,j,$);X/=Y,j/=Y,$/=Y;var q=g*R+c*E+A*D,Z=F*R+L*E+P*D,ne=X*R+j*E+$*D,Q=Math.asin(y(q)),oe=Math.atan2(ne,Z),ee=this.angle._state,G=ee[ee.length-1],re=ee[ee.length-2];G=G%(2*Math.PI);var H=Math.abs(G+2*Math.PI-oe),te=Math.abs(G-oe),ue=Math.abs(G-2*Math.PI-oe);H<te&&(G+=2*Math.PI),ue<te&&(G-=2*Math.PI),this.angle.jump(this.angle.lastT(),G,re),this.angle.set(x,oe,Q)}}}};function S(x){x=x||{};var T=x.center||[0,0,0],d=x.up||[0,1,0],_=x.right||w(d),g=x.radius||1,c=x.theta||0,A=x.phi||0;if(T=[].slice.call(T,0,3),d=[].slice.call(d,0,3),v(d,d),_=[].slice.call(_,0,3),v(_,_),"eye"in x){var h=x.eye,R=[h[0]-T[0],h[1]-T[1],h[2]-T[2]];f(_,R,d),b(_[0],_[1],_[2])<1e-6?_=w(d):v(_,_),g=b(R[0],R[1],R[2]);var E=p(d,R)/g,D=p(_,R)/g;A=Math.acos(E),c=Math.acos(D)}return g=Math.log(g),new M(x.zoomMin,x.zoomMax,T,d,_,g,c,A)}},5250:function(a){"use strict";a.exports=i;var o=+(Math.pow(2,27)+1);function i(l,u,s){var f=l*u,v=o*l,p=v-l,b=v-p,y=l-b,w=o*u,M=w-u,m=w-M,k=u-m,S=f-b*m,x=S-y*m,T=x-b*k,d=y*k-T;return s?(s[0]=d,s[1]=f,s):[d,f]}},9362:function(a){"use strict";a.exports=o;function o(i,l,u){var s=i+l,f=s-i,v=s-f,p=l-f,b=i-v;return u?(u[0]=b+p,u[1]=s,u):[b+p,s]}},1888:function(a,o,i){"use strict";var l=i(8828),u=i(1338),s=i(4793).hp;i.g.__TYPEDARRAY_POOL||(i.g.__TYPEDARRAY_POOL={UINT8:u([32,0]),UINT16:u([32,0]),UINT32:u([32,0]),BIGUINT64:u([32,0]),INT8:u([32,0]),INT16:u([32,0]),INT32:u([32,0]),BIGINT64:u([32,0]),FLOAT:u([32,0]),DOUBLE:u([32,0]),DATA:u([32,0]),UINT8C:u([32,0]),BUFFER:u([32,0])});var f=typeof Uint8ClampedArray!="undefined",v=typeof BigUint64Array!="undefined",p=typeof BigInt64Array!="undefined",b=i.g.__TYPEDARRAY_POOL;b.UINT8C||(b.UINT8C=u([32,0])),b.BIGUINT64||(b.BIGUINT64=u([32,0])),b.BIGINT64||(b.BIGINT64=u([32,0])),b.BUFFER||(b.BUFFER=u([32,0]));var y=b.DATA,w=b.BUFFER;o.free=function(F){if(s.isBuffer(F))w[l.log2(F.length)].push(F);else{if(Object.prototype.toString.call(F)!=="[object ArrayBuffer]"&&(F=F.buffer),!F)return;var L=F.length||F.byteLength,P=l.log2(L)|0;y[P].push(F)}};function M(I){if(I){var F=I.length||I.byteLength,L=l.log2(F);y[L].push(I)}}function m(I){M(I.buffer)}o.freeUint8=o.freeUint16=o.freeUint32=o.freeBigUint64=o.freeInt8=o.freeInt16=o.freeInt32=o.freeBigInt64=o.freeFloat32=o.freeFloat=o.freeFloat64=o.freeDouble=o.freeUint8Clamped=o.freeDataView=m,o.freeArrayBuffer=M,o.freeBuffer=function(F){w[l.log2(F.length)].push(F)},o.malloc=function(F,L){if(L===void 0||L==="arraybuffer")return k(F);switch(L){case"uint8":return S(F);case"uint16":return x(F);case"uint32":return T(F);case"int8":return d(F);case"int16":return _(F);case"int32":return g(F);case"float":case"float32":return c(F);case"double":case"float64":return A(F);case"uint8_clamped":return h(F);case"bigint64":return E(F);case"biguint64":return R(F);case"buffer":return N(F);case"data":case"dataview":return D(F);default:return null}return null};function k(F){var F=l.nextPow2(F),L=l.log2(F),P=y[L];return P.length>0?P.pop():new ArrayBuffer(F)}o.mallocArrayBuffer=k;function S(I){return new Uint8Array(k(I),0,I)}o.mallocUint8=S;function x(I){return new Uint16Array(k(2*I),0,I)}o.mallocUint16=x;function T(I){return new Uint32Array(k(4*I),0,I)}o.mallocUint32=T;function d(I){return new Int8Array(k(I),0,I)}o.mallocInt8=d;function _(I){return new Int16Array(k(2*I),0,I)}o.mallocInt16=_;function g(I){return new Int32Array(k(4*I),0,I)}o.mallocInt32=g;function c(I){return new Float32Array(k(4*I),0,I)}o.mallocFloat32=o.mallocFloat=c;function A(I){return new Float64Array(k(8*I),0,I)}o.mallocFloat64=o.mallocDouble=A;function h(I){return f?new Uint8ClampedArray(k(I),0,I):S(I)}o.mallocUint8Clamped=h;function R(I){return v?new BigUint64Array(k(8*I),0,I):null}o.mallocBigUint64=R;function E(I){return p?new BigInt64Array(k(8*I),0,I):null}o.mallocBigInt64=E;function D(I){return new DataView(k(I),0,I)}o.mallocDataView=D;function N(I){I=l.nextPow2(I);var F=l.log2(I),L=w[F];return L.length>0?L.pop():new s(I)}o.mallocBuffer=N,o.clearCache=function(){for(var F=0;F<32;++F)b.UINT8[F].length=0,b.UINT16[F].length=0,b.UINT32[F].length=0,b.INT8[F].length=0,b.INT16[F].length=0,b.INT32[F].length=0,b.FLOAT[F].length=0,b.DOUBLE[F].length=0,b.BIGUINT64[F].length=0,b.BIGINT64[F].length=0,b.UINT8C[F].length=0,y[F].length=0,w[F].length=0}},1755:function(a){"use strict";"use restrict";a.exports=o;function o(l){this.roots=new Array(l),this.ranks=new Array(l);for(var u=0;u<l;++u)this.roots[u]=u,this.ranks[u]=0}var i=o.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}}),i.makeSet=function(){var l=this.roots.length;return this.roots.push(l),this.ranks.push(0),l},i.find=function(l){for(var u=l,s=this.roots;s[l]!==l;)l=s[l];for(;s[u]!==l;){var f=s[u];s[u]=l,u=f}return l},i.link=function(l,u){var s=this.find(l),f=this.find(u);if(s!==f){var v=this.ranks,p=this.roots,b=v[s],y=v[f];b<y?p[s]=f:y<b?p[f]=s:(p[f]=s,++v[s])}}},1682:function(a){"use strict";function o(u,s){for(var f=1,v=u.length,p=u[0],b=u[0],y=1;y<v;++y)if(b=p,p=u[y],s(p,b)){if(y===f){f++;continue}u[f++]=p}return u.length=f,u}function i(u){for(var s=1,f=u.length,v=u[0],p=u[0],b=1;b<f;++b,p=v)if(p=v,v=u[b],v!==p){if(b===s){s++;continue}u[s++]=v}return u.length=s,u}function l(u,s,f){return u.length===0?u:s?(f||u.sort(s),o(u,s)):(f||u.sort(),i(u))}a.exports=l},4359:function(a,o,i){"use strict";a.exports=f;var l=i(7718),u=null,s=null;typeof document!="undefined"&&(u=document.createElement("canvas"),u.width=8192,u.height=1024,s=u.getContext("2d"));function f(v,p){return(typeof p!="object"||p===null)&&(p={}),l(v,p.canvas||u,p.context||s,p)}},7718:function(a,o,i){a.exports=E,a.exports.processPixels=R;var l=i(3711),u=i(9618),s=i(5878),f=i(332),v=i(2538),p=i(2095),b="b",y="b|",w="i",M="i|",m="sup",k="+",S="+1",x="sub",T="-",d="-1";function _(D,N,I,F){for(var L="<"+D+">",P="</"+D+">",O=L.length,U=P.length,X=N[0]===k||N[0]===T,j=0,$=-U;j>-1&&(j=I.indexOf(L,j),!(j===-1||($=I.indexOf(P,j+O),$===-1)||$<=j));){for(var Y=j;Y<$+U;++Y)if(Y<j+O||Y>=$)F[Y]=null,I=I.substr(0,Y)+" "+I.substr(Y+1);else if(F[Y]!==null){var q=F[Y].indexOf(N[0]);q===-1?F[Y]+=N:X&&(F[Y]=F[Y].substr(0,q+1)+(1+parseInt(F[Y][q+1]))+F[Y].substr(q+2))}var Z=j+O,ne=I.substr(Z,$-Z),Q=ne.indexOf(L);Q!==-1?j=Q:j=$+U}return F}function g(D,N,I){for(var F=N.textAlign||"start",L=N.textBaseline||"alphabetic",P=[1<<30,1<<30],O=[0,0],U=D.length,X=0;X<U;++X)for(var j=D[X],$=0;$<2;++$)P[$]=Math.min(P[$],j[$])|0,O[$]=Math.max(O[$],j[$])|0;var Y=0;switch(F){case"center":Y=-.5*(P[0]+O[0]);break;case"right":case"end":Y=-O[0];break;case"left":case"start":Y=-P[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+F+"'")}var q=0;switch(L){case"hanging":case"top":q=-P[1];break;case"middle":q=-.5*(P[1]+O[1]);break;case"alphabetic":case"ideographic":q=-3*I;break;case"bottom":q=-O[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+L+"'")}var Z=1/I;return"lineHeight"in N?Z*=+N.lineHeight:"width"in N?Z=N.width/(O[0]-P[0]):"height"in N&&(Z=N.height/(O[1]-P[1])),D.map(function(ne){return[Z*(ne[0]+Y),Z*(ne[1]+q)]})}function c(D,N,I,F,L,P){I=I.replace(/\n/g,""),P.breaklines===!0?I=I.replace(/\<br\>/g,`
`):I=I.replace(/\<br\>/g," ");var O="",U=[];for(G=0;G<I.length;++G)U[G]=O;P.bolds===!0&&(U=_(b,y,I,U)),P.italics===!0&&(U=_(w,M,I,U)),P.superscripts===!0&&(U=_(m,S,I,U)),P.subscripts===!0&&(U=_(x,d,I,U));var X=[],j="";for(G=0;G<I.length;++G)U[G]!==null&&(j+=I[G],X.push(U[G]));var $=j.split(`
`),Y=$.length,q=Math.round(L*F),Z=F,ne=F*2,Q=0,oe=Y*q+ne;D.height<oe&&(D.height=oe),N.fillStyle="#000",N.fillRect(0,0,D.width,D.height),N.fillStyle="#fff";var ee,G,re,H,te,ue=0,de="";function Ee(){if(de!==""){var ge=N.measureText(de).width;N.fillText(de,Z+re,ne+H),re+=ge}}function Me(){return""+Math.round(te)+"px "}function ve(ge,Te){var ce=""+N.font;if(P.subscripts===!0){var ye=ge.indexOf(T),Le=Te.indexOf(T),me=ye>-1?parseInt(ge[1+ye]):0,he=Le>-1?parseInt(Te[1+Le]):0;me!==he&&(ce=ce.replace(Me(),"?px "),te*=Math.pow(.75,he-me),ce=ce.replace("?px ",Me())),H+=.25*q*(he-me)}if(P.superscripts===!0){var be=ge.indexOf(k),Se=Te.indexOf(k),ze=be>-1?parseInt(ge[1+be]):0,Fe=Se>-1?parseInt(Te[1+Se]):0;ze!==Fe&&(ce=ce.replace(Me(),"?px "),te*=Math.pow(.75,Fe-ze),ce=ce.replace("?px ",Me())),H-=.25*q*(Fe-ze)}if(P.bolds===!0){var Ze=ge.indexOf(y)>-1,Ye=Te.indexOf(y)>-1;!Ze&&Ye&&(Ge?ce=ce.replace("italic ","italic bold "):ce="bold "+ce),Ze&&!Ye&&(ce=ce.replace("bold ",""))}if(P.italics===!0){var Ge=ge.indexOf(M)>-1,We=Te.indexOf(M)>-1;!Ge&&We&&(ce="italic "+ce),Ge&&!We&&(ce=ce.replace("italic ",""))}N.font=ce}for(ee=0;ee<Y;++ee){var Ae=$[ee]+`
`;for(re=0,H=ee*q,te=F,de="",G=0;G<Ae.length;++G){var ke=G+ue<X.length?X[G+ue]:X[X.length-1];O===ke?de+=Ae[G]:(Ee(),de=Ae[G],ke!==void 0&&(ve(O,ke),O=ke))}Ee(),ue+=Ae.length;var De=Math.round(re+2*Z)|0;Q<De&&(Q=De)}var Ce=Q,Oe=ne+q*Y,Ue=u(N.getImageData(0,0,Ce,Oe).data,[Oe,Ce,4]);return Ue.pick(-1,-1,0).transpose(1,0)}function A(D,N){var I=l(D,128);return N?s(I.cells,I.positions,.25):{edges:I.cells,positions:I.positions}}function h(D,N,I,F){var L=A(D,F),P=g(L.positions,N,I),O=L.edges,U=N.orientation==="ccw";if(f(P,O),N.polygons||N.polygon||N.polyline){for(var X=p(O,P),j=new Array(X.length),$=0;$<X.length;++$){for(var Y=X[$],q=new Array(Y.length),Z=0;Z<Y.length;++Z){for(var ne=Y[Z],Q=new Array(ne.length),oe=0;oe<ne.length;++oe)Q[oe]=P[ne[oe]].slice();U&&Q.reverse(),q[Z]=Q}j[$]=q}return j}else return N.triangles||N.triangulate||N.triangle?{cells:v(P,O,{delaunay:!1,exterior:!1,interior:!0}),positions:P}:{edges:O,positions:P}}function R(D,N,I){try{return h(D,N,I,!0)}catch(F){}try{return h(D,N,I,!1)}catch(F){}return N.polygons||N.polyline||N.polygon?[]:N.triangles||N.triangulate||N.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function E(D,N,I,F){var L=64,P=1.25,O={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};F&&(F.size&&F.size>0&&(L=F.size),F.lineSpacing&&F.lineSpacing>0&&(P=F.lineSpacing),F.styletags&&F.styletags.breaklines&&(O.breaklines=!!F.styletags.breaklines),F.styletags&&F.styletags.bolds&&(O.bolds=!!F.styletags.bolds),F.styletags&&F.styletags.italics&&(O.italics=!!F.styletags.italics),F.styletags&&F.styletags.subscripts&&(O.subscripts=!!F.styletags.subscripts),F.styletags&&F.styletags.superscripts&&(O.superscripts=!!F.styletags.superscripts)),I.font=[F.fontStyle,F.fontVariant,F.fontWeight,L+"px",F.font].filter(function(X){return X}).join(" "),I.textAlign="start",I.textBaseline="alphabetic",I.direction="ltr";var U=c(N,I,D,L,P,O);return R(U,F,L)}},1538:function(a){(function(){"use strict";if(typeof ses!="undefined"&&ses.ok&&!ses.ok())return;function i(h){h.permitHostObjects___&&h.permitHostObjects___(i)}typeof ses!="undefined"&&(ses.weakMapPermitHostObjects=i);var l=!1;if(typeof WeakMap=="function"){var u=WeakMap;if(!(typeof navigator!="undefined"&&/Firefox/.test(navigator.userAgent))){var s=new u,f=Object.freeze({});if(s.set(f,1),s.get(f)!==1)l=!0;else{a.exports=WeakMap;return}}}var v=Object.prototype.hasOwnProperty,p=Object.getOwnPropertyNames,b=Object.defineProperty,y=Object.isExtensible,w="weakmap:",M=w+"ident:"+Math.random()+"___";if(typeof crypto!="undefined"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var m=new ArrayBuffer(25),k=new Uint8Array(m);crypto.getRandomValues(k),M=w+"rand:"+Array.prototype.map.call(k,function(h){return(h%36).toString(36)}).join("")+"___"}function S(h){return!(h.substr(0,w.length)==w&&h.substr(h.length-3)==="___")}if(b(Object,"getOwnPropertyNames",{value:function(R){return p(R).filter(S)}}),"getPropertyNames"in Object){var x=Object.getPropertyNames;b(Object,"getPropertyNames",{value:function(R){return x(R).filter(S)}})}function T(h){if(h!==Object(h))throw new TypeError("Not an object: "+h);var R=h[M];if(R&&R.key===h)return R;if(y(h)){R={key:h};try{return b(h,M,{value:R,writable:!1,enumerable:!1,configurable:!1}),R}catch(E){return}}}(function(){var h=Object.freeze;b(Object,"freeze",{value:function(N){return T(N),h(N)}});var R=Object.seal;b(Object,"seal",{value:function(N){return T(N),R(N)}});var E=Object.preventExtensions;b(Object,"preventExtensions",{value:function(N){return T(N),E(N)}})})();function d(h){return h.prototype=null,Object.freeze(h)}var _=!1;function g(){!_&&typeof console!="undefined"&&(_=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var c=0,A=function(){this instanceof A||g();var h=[],R=[],E=c++;function D(L,P){var O,U=T(L);return U?E in U?U[E]:P:(O=h.indexOf(L),O>=0?R[O]:P)}function N(L){var P=T(L);return P?E in P:h.indexOf(L)>=0}function I(L,P){var O,U=T(L);return U?U[E]=P:(O=h.indexOf(L),O>=0?R[O]=P:(O=h.length,R[O]=P,h[O]=L)),this}function F(L){var P=T(L),O,U;return P?E in P&&delete P[E]:(O=h.indexOf(L),O<0?!1:(U=h.length-1,h[O]=void 0,R[O]=R[U],h[O]=h[U],h.length=U,R.length=U,!0))}return Object.create(A.prototype,{get___:{value:d(D)},has___:{value:d(N)},set___:{value:d(I)},delete___:{value:d(F)}})};A.prototype=Object.create(Object.prototype,{get:{value:function(R,E){return this.get___(R,E)},writable:!0,configurable:!0},has:{value:function(R){return this.has___(R)},writable:!0,configurable:!0},set:{value:function(R,E){return this.set___(R,E)},writable:!0,configurable:!0},delete:{value:function(R){return this.delete___(R)},writable:!0,configurable:!0}}),typeof u=="function"?function(){l&&typeof Proxy!="undefined"&&(Proxy=void 0);function h(){this instanceof A||g();var R=new u,E=void 0,D=!1;function N(P,O){return E?R.has(P)?R.get(P):E.get___(P,O):R.get(P,O)}function I(P){return R.has(P)||(E?E.has___(P):!1)}var F;l?F=function(P,O){return R.set(P,O),R.has(P)||(E||(E=new A),E.set(P,O)),this}:F=function(P,O){if(D)try{R.set(P,O)}catch(U){E||(E=new A),E.set___(P,O)}else R.set(P,O);return this};function L(P){var O=!!R.delete(P);return E&&E.delete___(P)||O}return Object.create(A.prototype,{get___:{value:d(N)},has___:{value:d(I)},set___:{value:d(F)},delete___:{value:d(L)},permitHostObjects___:{value:d(function(P){if(P===i)D=!0;else throw new Error("bogus call to permitHostObjects___")})}})}h.prototype=A.prototype,a.exports=h,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy!="undefined"&&(Proxy=void 0),a.exports=A)})()},236:function(a,o,i){var l=i(8284);a.exports=u;function u(){var s={};return function(f){if((typeof f!="object"||f===null)&&typeof f!="function")throw new Error("Weakmap-shim: Key must be object");var v=f.valueOf(s);return v&&v.identity===s?v:l(f,s)}}},8284:function(a){a.exports=o;function o(i,l){var u={identity:l},s=i.valueOf;return Object.defineProperty(i,"valueOf",{value:function(f){return f!==l?s.apply(this,arguments):u},writable:!0}),u}},606:function(a,o,i){var l=i(236);a.exports=u;function u(){var s=l();return{get:function(f,v){var p=s(f);return p.hasOwnProperty("value")?p.value:v},set:function(f,v){return s(f).value=v,this},has:function(f){return"value"in s(f)},delete:function(f){return delete s(f).value}}}},3349:function(a){"use strict";function o(){return function(v,p,b,y,w,M){var m=v[0],k=b[0],S=[0],x=k;y|=0;var T=0,d=k;for(T=0;T<m;++T){{var _=p[y]-M,g=p[y+x]-M;_>=0!=g>=0&&w.push(S[0]+.5+.5*(_+g)/(_-g))}y+=d,++S[0]}}}function i(){return o()}var l=i;function u(v){var p={};return function(y,w,M){var m=y.dtype,k=y.order,S=[m,k.join()].join(),x=p[S];return x||(p[S]=x=v([m,k])),x(y.shape.slice(0),y.data,y.stride,y.offset|0,w,M)}}function s(v){return u(l.bind(void 0,v))}function f(v){return s({funcName:v.funcName})}a.exports=f({funcName:"zeroCrossings"})},781:function(a,o,i){"use strict";a.exports=u;var l=i(3349);function u(s,f){var v=[];return f=+f||0,l(s.hi(s.shape[0]-1),v,f),v}},7790:function(){}},r={};function t(a){var o=r[a];if(o!==void 0)return o.exports;var i=r[a]={id:a,loaded:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}(function(){t.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(a){if(typeof window=="object")return window}}()})(),function(){t.nmd=function(a){return a.paths=[],a.children||(a.children=[]),a}}();var n=t(1964);MF.exports=n})()});var AF=pe((mde,TF)=>{"use strict";TF.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var EF=pe((xde,CF)=>{"use strict";var kF=AF();CF.exports=rie;var SF={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function rie(e){var r,t=[],n=1,a;if(typeof e=="string")if(e=e.toLowerCase(),kF[e])t=kF[e].slice(),a="rgb";else if(e==="transparent")n=0,a="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(e)){var o=e.slice(1),i=o.length,l=i<=4;n=1,l?(t=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],i===4&&(n=parseInt(o[3]+o[3],16)/255)):(t=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],i===8&&(n=parseInt(o[6]+o[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),a="rgb"}else if(r=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(e)){var u=r[1],s=u==="rgb",o=u.replace(/a$/,"");a=o;var i=o==="cmyk"?4:o==="gray"?1:3;t=r[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(p,b){if(/%$/.test(p))return b===i?parseFloat(p)/100:o==="rgb"?parseFloat(p)*255/100:parseFloat(p);if(o[b]==="h"){if(/deg$/.test(p))return parseFloat(p);if(SF[p]!==void 0)return SF[p]}return parseFloat(p)}),u===o&&t.push(1),n=s||t[i]===void 0?1:t[i],t=t.slice(0,i)}else e.length>10&&/[0-9](?:\s|\/)/.test(e)&&(t=e.match(/([0-9]+)/g).map(function(f){return parseFloat(f)}),a=e.match(/([a-z])/ig).join("").toLowerCase());else isNaN(e)?Array.isArray(e)||e.length?(t=[e[0],e[1],e[2]],a="rgb",n=e.length===4?e[3]:1):e instanceof Object&&(e.r!=null||e.red!=null||e.R!=null?(a="rgb",t=[e.r||e.red||e.R||0,e.g||e.green||e.G||0,e.b||e.blue||e.B||0]):(a="hsl",t=[e.h||e.hue||e.H||0,e.s||e.saturation||e.S||0,e.l||e.lightness||e.L||e.b||e.brightness]),n=e.a||e.alpha||e.opacity||1,e.opacity!=null&&(n/=100)):(a="rgb",t=[e>>>16,(e&65280)>>>8,e&255]);return{space:a,values:t,alpha:n}}});var RF=pe((bde,LF)=>{"use strict";var tie=EF();LF.exports=function(r){Array.isArray(r)&&r.raw&&(r=String.raw.apply(null,arguments));var t,n,a,o=tie(r);if(!o.space)return[];var i=[0,0,0],l=o.space[0]==="h"?[360,100,100]:[255,255,255];return t=Array(3),t[0]=Math.min(Math.max(o.values[0],i[0]),l[0]),t[1]=Math.min(Math.max(o.values[1],i[1]),l[1]),t[2]=Math.min(Math.max(o.values[2],i[2]),l[2]),o.space[0]==="h"&&(t=nie(t)),t.push(Math.min(Math.max(o.alpha,0),1)),t};function nie(e){var r=e[0]/360,t=e[1]/100,n=e[2]/100,a,o,i,l,u,s=0;if(t===0)return u=n*255,[u,u,u];for(o=n<.5?n*(1+t):n+t-n*t,a=2*n-o,l=[0,0,0];s<3;)i=r+1/3*-(s-1),i<0?i++:i>1&&i--,u=6*i<1?a+(o-a)*6*i:2*i<1?o:3*i<2?a+(o-a)*(2/3-i)*6:a,l[s++]=u*255;return l}});var PF=pe((_de,DF)=>{DF.exports=aie;function aie(e,r,t){return r<t?e<r?r:e>t?t:e:e<t?t:e>r?r:e}});var IF=pe((wde,FF)=>{FF.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}});var _3=pe((Mde,NF)=>{"use strict";var iie=RF(),ad=PF(),oie=IF();NF.exports=function(r,t){(t==="float"||!t)&&(t="array"),t==="uint"&&(t="uint8"),t==="uint_clamped"&&(t="uint8_clamped");var n=oie(t),a=new n(4),o=t!=="uint8"&&t!=="uint8_clamped";return(!r.length||typeof r=="string")&&(r=iie(r),r[0]/=255,r[1]/=255,r[2]/=255),lie(r)?(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3]!=null?r[3]:255,o&&(a[0]/=255,a[1]/=255,a[2]/=255,a[3]/=255),a):(o?(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3]!=null?r[3]:1):(a[0]=ad(Math.floor(r[0]*255),0,255),a[1]=ad(Math.floor(r[1]*255),0,255),a[2]=ad(Math.floor(r[2]*255),0,255),a[3]=r[3]==null?255:ad(Math.floor(r[3]*255),0,255)),a)};function lie(e){return!!(e instanceof Uint8Array||e instanceof Uint8ClampedArray||Array.isArray(e)&&(e[0]>1||e[0]===0)&&(e[1]>1||e[1]===0)&&(e[2]>1||e[2]===0)&&(!e[3]||e[3]>1))}});var po=pe((Tde,zF)=>{"use strict";var sie=_3();function uie(e){return e?sie(e):[0,0,0,1]}zF.exports=uie});var al=pe((Ade,GF)=>{"use strict";var HF=rt(),fie=ka(),id=_3(),od=Li(),cie=Ti().defaultLine,qF=ea().isArrayOrTypedArray,w3=id(cie),VF=1;function OF(e,r){var t=e;return t[3]*=r,t}function BF(e){if(HF(e))return w3;var r=id(e);return r.length?r:w3}function UF(e){return HF(e)?e:VF}function vie(e,r,t){var n=e.color;n&&n._inputArray&&(n=n._inputArray);var a=qF(n),o=qF(r),i=od.extractOpts(e),l=[],u,s,f,v,p;if(i.colorscale!==void 0?u=od.makeColorScaleFuncFromTrace(e):u=BF,a?s=function(y,w){return y[w]===void 0?w3:id(u(y[w]))}:s=BF,o?f=function(y,w){return y[w]===void 0?VF:UF(y[w])}:f=UF,a||o)for(var b=0;b<t;b++)v=s(n,b),p=f(r,b),l[b]=OF(v,p);else l=OF(id(n),r);return l}function hie(e){var r=od.extractOpts(e),t=r.colorscale;return r.reversescale&&(t=od.flipScale(r.colorscale)),t.map(function(n){var a=n[0],o=fie(n[1]),i=o.toRgb();return{index:a,rgb:[i.r,i.g,i.b,i.a]}})}GF.exports={formatColor:vie,parseColorScale:hie}});var M3=pe((kde,YF)=>{"use strict";YF.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}});var ld=pe((Sde,WF)=>{"use strict";WF.exports={circle:"\u25CF","circle-open":"\u25CB",square:"\u25A0","square-open":"\u25A1",diamond:"\u25C6","diamond-open":"\u25C7",cross:"+",x:"\u274C"}});var ZF=pe((Cde,XF)=>{"use strict";var die=Er();function T3(e,r,t,n){if(!r||!r.visible)return null;for(var a=die.getComponentMethod("errorbars","makeComputeError")(r),o=new Array(e.length),i=0;i<e.length;i++){var l=a(+e[i],i);if(n.type==="log"){var u=n.c2l(e[i]),s=e[i]-l[0],f=e[i]+l[1];if(o[i]=[(n.c2l(s,!0)-u)*t,(n.c2l(f,!0)-u)*t],s>0){var v=n.c2l(s);n._lowerLogErrorBound||(n._lowerLogErrorBound=v),n._lowerErrorBound=Math.min(n._lowerLogErrorBound,v)}}else o[i]=[-l[0]*t,l[1]*t]}return o}function pie(e){for(var r=0;r<e.length;r++)if(e[r])return e[r].length;return 0}function gie(e,r,t){var n=[T3(e.x,e.error_x,r[0],t.xaxis),T3(e.y,e.error_y,r[1],t.yaxis),T3(e.z,e.error_z,r[2],t.zaxis)],a=pie(n);if(a===0)return null;for(var o=new Array(a),i=0;i<a;i++){for(var l=[[0,0,0],[0,0,0]],u=0;u<3;u++)if(n[u])for(var s=0;s<2;s++)l[s][u]=n[u][i][s];o[i]=l}return o}XF.exports=gie});var nI=pe((Ede,tI)=>{"use strict";var yie=pn().gl_line3d,JF=pn().gl_scatter3d,mie=pn().gl_error3d,xie=pn().gl_mesh3d,bie=pn().delaunay_triangulate,go=ir(),eI=po(),sd=al().formatColor,_ie=Ag(),A3=M3(),wie=ld(),Mie=St(),Tie=to().appendArrayPointValue,Aie=ZF();function rI(e,r){this.scene=e,this.uid=r,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var S3=rI.prototype;S3.handlePick=function(e){if(e.object&&(e.object===this.linePlot||e.object===this.delaunayMesh||e.object===this.textMarkers||e.object===this.scatterPlot)){var r=e.index=e.data.index;return e.object.highlight&&e.object.highlight(null),this.scatterPlot&&(e.object=this.scatterPlot,this.scatterPlot.highlight(e.data)),e.textLabel="",this.textLabels&&(go.isArrayOrTypedArray(this.textLabels)?(this.textLabels[r]||this.textLabels[r]===0)&&(e.textLabel=this.textLabels[r]):e.textLabel=this.textLabels),e.traceCoordinate=[this.data.x[r],this.data.y[r],this.data.z[r]],!0}};function kie(e,r,t){var n=(t+1)%3,a=(t+2)%3,o=[],i=[],l;for(l=0;l<e.length;++l){var u=e[l];isNaN(u[n])||!isFinite(u[n])||isNaN(u[a])||!isFinite(u[a])||(o.push([u[n],u[a]]),i.push(l))}var s=bie(o);for(l=0;l<s.length;++l)for(var f=s[l],v=0;v<f.length;++v)f[v]=i[f[v]];return{positions:e,cells:s,meshColor:r}}function Sie(e){for(var r=[0,0,0],t=[[0,0,0],[0,0,0],[0,0,0]],n=[1,1,1],a=0;a<3;a++){var o=e[a];o&&o.copy_zstyle!==!1&&e[2].visible!==!1&&(o=e[2]),!(!o||!o.visible)&&(r[a]=o.width/2,t[a]=eI(o.color),n[a]=o.thickness)}return{capSize:r,color:t,lineWidth:n}}function KF(e){return e==null?0:e.indexOf("left")>-1?-1:e.indexOf("right")>-1?1:0}function QF(e){return e==null?0:e.indexOf("top")>-1?-1:e.indexOf("bottom")>-1?1:0}function Cie(e){var r=0,t=0,n=[r,t];if(Array.isArray(e))for(var a=0;a<e.length;a++)n[a]=[r,t],e[a]&&(n[a][0]=KF(e[a]),n[a][1]=QF(e[a]));else n[0]=KF(e),n[1]=QF(e);return n}function Eie(e,r){return r(e*4)}function Lie(e){return wie[e]}function k3(e,r,t,n,a){var o=null;if(go.isArrayOrTypedArray(e)){o=[];for(var i=0;i<r;i++)e[i]===void 0?o[i]=n:o[i]=t(e[i],a)}else o=t(e,go.identity);return o}function Rie(e,r){var t=[],n=e.fullSceneLayout,a=e.dataScale,o=n.xaxis,i=n.yaxis,l=n.zaxis,u=r.marker,s=r.line,f=r.x||[],v=r.y||[],p=r.z||[],b=f.length,y=r.xcalendar,w=r.ycalendar,M=r.zcalendar,m,k,S,x,T,d;for(T=0;T<b;T++)m=o.d2l(f[T],0,y)*a[0],k=i.d2l(v[T],0,w)*a[1],S=l.d2l(p[T],0,M)*a[2],t[T]=[m,k,S];if(Array.isArray(r.text))d=r.text;else if(go.isTypedArray(r.text))d=Array.from(r.text);else if(r.text!==void 0)for(d=new Array(b),T=0;T<b;T++)d[T]=r.text;function _(X,j){var $=n[X];return Mie.tickText($,$.d2l(j),!0).text}var g=r.texttemplate;if(g){var c=e.fullLayout,A=c._d3locale,h=Array.isArray(g),R=h?Math.min(g.length,b):b,E=h?function(X){return g[X]}:function(){return g};for(d=new Array(R),T=0;T<R;T++){var D={x:f[T],y:v[T],z:p[T]},N={xLabel:_("xaxis",f[T]),yLabel:_("yaxis",v[T]),zLabel:_("zaxis",p[T])},I={};Tie(I,r,T);var F=r._meta||{};d[T]=go.texttemplateString(E(T),N,A,I,D,F)}}if(x={position:t,mode:r.mode,text:d},"line"in r&&(x.lineColor=sd(s,1,b),x.lineWidth=s.width,x.lineDashes=s.dash),"marker"in r){var L=_ie(r);x.scatterColor=sd(u,1,b),x.scatterSize=k3(u.size,b,Eie,20,L),x.scatterMarker=k3(u.symbol,b,Lie,"\u25CF"),x.scatterLineWidth=u.line.width,x.scatterLineColor=sd(u.line,1,b),x.scatterAngle=0}"textposition"in r&&(x.textOffset=Cie(r.textposition),x.textColor=sd(r.textfont,1,b),x.textSize=k3(r.textfont.size,b,go.identity,12),x.textFontFamily=r.textfont.family,x.textFontWeight=r.textfont.weight,x.textFontStyle=r.textfont.style,x.textFontVariant=r.textfont.variant,x.textAngle=0);var P=["x","y","z"];for(x.project=[!1,!1,!1],x.projectScale=[1,1,1],x.projectOpacity=[1,1,1],T=0;T<3;++T){var O=r.projection[P[T]];(x.project[T]=O.show)&&(x.projectOpacity[T]=O.opacity,x.projectScale[T]=O.scale)}x.errorBounds=Aie(r,a,n);var U=Sie([r.error_x,r.error_y,r.error_z]);return x.errorColor=U.color,x.errorLineWidth=U.lineWidth,x.errorCapSize=U.capSize,x.delaunayAxis=r.surfaceaxis,x.delaunayColor=eI(r.surfacecolor),x}function $F(e){if(go.isArrayOrTypedArray(e)){var r=e[0];return go.isArrayOrTypedArray(r)&&(e=r),"rgb("+e.slice(0,3).map(function(t){return Math.round(t*255)})+")"}return null}function jF(e){return go.isArrayOrTypedArray(e)?e.length===4&&typeof e[0]=="number"?$F(e):e.map($F):null}S3.update=function(e){var r=this.scene.glplot.gl,t,n,a,o,i=A3.solid;this.data=e;var l=Rie(this.scene,e);"mode"in l&&(this.mode=l.mode),"lineDashes"in l&&l.lineDashes in A3&&(i=A3[l.lineDashes]),this.color=jF(l.scatterColor)||jF(l.lineColor),this.dataPoints=l.position,t={gl:this.scene.glplot.gl,position:l.position,color:l.lineColor,lineWidth:l.lineWidth||1,dashes:i[0],dashScale:i[1],opacity:e.opacity,connectGaps:e.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(t):(this.linePlot=yie(t),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var u=e.opacity;if(e.marker&&e.marker.opacity!==void 0&&(u*=e.marker.opacity),n={gl:this.scene.glplot.gl,position:l.position,color:l.scatterColor,size:l.scatterSize,glyph:l.scatterMarker,opacity:u,orthographic:!0,lineWidth:l.scatterLineWidth,lineColor:l.scatterLineColor,project:l.project,projectScale:l.projectScale,projectOpacity:l.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(n):(this.scatterPlot=JF(n),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),o={gl:this.scene.glplot.gl,position:l.position,glyph:l.text,color:l.textColor,size:l.textSize,angle:l.textAngle,alignment:l.textOffset,font:l.textFontFamily,fontWeight:l.textFontWeight,fontStyle:l.textFontStyle,fontVariant:l.textFontVariant,orthographic:!0,lineWidth:0,project:!1,opacity:e.opacity},this.textLabels=e.hovertext||e.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(o):(this.textMarkers=JF(o),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),a={gl:this.scene.glplot.gl,position:l.position,color:l.errorColor,error:l.errorBounds,lineWidth:l.errorLineWidth,capSize:l.errorCapSize,opacity:e.opacity},this.errorBars?l.errorBounds?this.errorBars.update(a):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):l.errorBounds&&(this.errorBars=mie(a),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),l.delaunayAxis>=0){var s=kie(l.position,l.delaunayColor,l.delaunayAxis);s.opacity=e.opacity,this.delaunayMesh?this.delaunayMesh.update(s):(s.gl=r,this.delaunayMesh=xie(s),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)};S3.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function Die(e,r){var t=new rI(e,r.uid);return t.update(r),t}tI.exports=Die});var D3=pe((Lde,oI)=>{"use strict";var yo=$l(),Pie=kn(),R3=ja(),C3=ro().axisHoverFormat,Fie=Sa().hovertemplateAttrs,Iie=Sa().texttemplateAttrs,aI=Sn(),Nie=M3(),zie=ld(),gi=Mt().extendFlat,qie=zn().overrideAll,iI=Wc(),Oie=yo.line,fs=yo.marker,Bie=fs.line,Uie=gi({width:Oie.width,dash:{valType:"enumerated",values:iI(Nie),dflt:"solid"}},R3("line"));function E3(e){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}}var L3=oI.exports=qie({x:yo.x,y:yo.y,z:{valType:"data_array"},text:gi({},yo.text,{}),texttemplate:Iie({},{}),hovertext:gi({},yo.hovertext,{}),hovertemplate:Fie(),xhoverformat:C3("x"),yhoverformat:C3("y"),zhoverformat:C3("z"),mode:gi({},yo.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:E3("x"),y:E3("y"),z:E3("z")},connectgaps:yo.connectgaps,line:Uie,marker:gi({symbol:{valType:"enumerated",values:iI(zie),dflt:"circle",arrayOk:!0},size:gi({},fs.size,{dflt:8}),sizeref:fs.sizeref,sizemin:fs.sizemin,sizemode:fs.sizemode,opacity:gi({},fs.opacity,{arrayOk:!1}),colorbar:fs.colorbar,line:gi({width:gi({},Bie.width,{arrayOk:!1})},R3("marker.line"))},R3("marker")),textposition:gi({},yo.textposition,{dflt:"top center"}),textfont:Pie({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),opacity:aI.opacity,hoverinfo:gi({},aI.hoverinfo)},"calc","nested");L3.x.editType=L3.y.editType=L3.z.editType="calc+clearAxisTypes"});var uI=pe((Rde,sI)=>{"use strict";var lI=Er(),Hie=ir(),P3=oa(),Vie=$y(),Gie=jy(),Yie=em(),Wie=D3();sI.exports=function(r,t,n,a){function o(b,y){return Hie.coerce(r,t,Wie,b,y)}var i=Xie(r,t,o,a);if(!i){t.visible=!1;return}o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),o("mode"),P3.hasMarkers(t)&&Vie(r,t,n,a,o,{noSelect:!0,noAngle:!0}),P3.hasLines(t)&&(o("connectgaps"),Gie(r,t,n,a,o)),P3.hasText(t)&&(o("texttemplate"),Yie(r,t,a,o,{noSelect:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var l=(t.line||{}).color,u=(t.marker||{}).color;o("surfaceaxis")>=0&&o("surfacecolor",l||u);for(var s=["x","y","z"],f=0;f<3;++f){var v="projection."+s[f];o(v+".show")&&(o(v+".opacity"),o(v+".scale"))}var p=lI.getComponentMethod("errorbars","supplyDefaults");p(r,t,l||u||n,{axis:"z"}),p(r,t,l||u||n,{axis:"y",inherit:"z"}),p(r,t,l||u||n,{axis:"x",inherit:"z"})};function Xie(e,r,t,n){var a=0,o=t("x"),i=t("y"),l=t("z"),u=lI.getComponentMethod("calendars","handleTraceDefaults");return u(e,r,["x","y","z"],n),o&&i&&l&&(a=Math.min(o.length,i.length,l.length),r._length=r._xlength=r._ylength=r._zlength=a),a}});var cI=pe((Dde,fI)=>{"use strict";var Zie=g1(),Jie=nm();fI.exports=function(r,t){var n=[{x:!1,y:!1,trace:t,t:{}}];return Zie(n,t),Jie(r,t),n}});var hI=pe((Pde,vI)=>{vI.exports=Kie;function Kie(e,r){if(typeof e!="string")throw new TypeError("must specify type string");if(r=r||{},typeof document=="undefined"&&!r.canvas)return null;var t=r.canvas||document.createElement("canvas");typeof r.width=="number"&&(t.width=r.width),typeof r.height=="number"&&(t.height=r.height);var n=r,a;try{var o=[e];e.indexOf("webgl")===0&&o.push("experimental-"+e);for(var i=0;i<o.length;i++)if(a=t.getContext(o[i],n),a)return a}catch(l){a=null}return a||null}});var pI=pe((Fde,dI)=>{var Qie=hI();dI.exports=function(r){return Qie("webgl",r)}});var mI=pe((Ide,yI)=>{"use strict";var gI=Zr(),$ie=function(){};yI.exports=function(r){for(var t in r)typeof r[t]=="function"&&(r[t]=$ie);r.destroy=function(){r.container.parentNode.removeChild(r.container)};var n=document.createElement("div");n.className="no-webgl",n.style.cursor="pointer",n.style.fontSize="24px",n.style.color=gI.defaults[0],n.style.position="absolute",n.style.left=n.style.top="0px",n.style.width=n.style.height="100%",n.style["background-color"]=gI.lightLine,n.style["z-index"]=30;var a=document.createElement("p");return a.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",a.style.position="relative",a.style.top="50%",a.style.left="50%",a.style.height="30%",a.style.width="50%",a.style.margin="-15% 0 0 -25%",n.appendChild(a),r.container.appendChild(n),r.container.style.background="#FFFFFF",r.container.onclick=function(){window.open("https://get.webgl.org")},!1}});var _I=pe((Nde,bI)=>{"use strict";var cs=po(),jie=ir(),eoe=["xaxis","yaxis","zaxis"];function xI(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickFontWeight=["normal","normal","normal","normal"],this.tickFontStyle=["normal","normal","normal","normal"],this.tickFontVariant=["normal","normal","normal","normal"],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelFontWeight=["normal","normal","normal","normal"],this.labelFontStyle=["normal","normal","normal","normal"],this.labelFontVariant=["normal","normal","normal","normal"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var roe=xI.prototype;roe.merge=function(e,r){for(var t=this,n=0;n<3;++n){var a=r[eoe[n]];if(!a.visible){t.tickEnable[n]=!1,t.labelEnable[n]=!1,t.lineEnable[n]=!1,t.lineTickEnable[n]=!1,t.gridEnable[n]=!1,t.zeroEnable[n]=!1,t.backgroundEnable[n]=!1;continue}t.labels[n]=e._meta?jie.templateString(a.title.text,e._meta):a.title.text,"font"in a.title&&(a.title.font.color&&(t.labelColor[n]=cs(a.title.font.color)),a.title.font.family&&(t.labelFont[n]=a.title.font.family),a.title.font.size&&(t.labelSize[n]=a.title.font.size),a.title.font.weight&&(t.labelFontWeight[n]=a.title.font.weight),a.title.font.style&&(t.labelFontStyle[n]=a.title.font.style),a.title.font.variant&&(t.labelFontVariant[n]=a.title.font.variant)),"showline"in a&&(t.lineEnable[n]=a.showline),"linecolor"in a&&(t.lineColor[n]=cs(a.linecolor)),"linewidth"in a&&(t.lineWidth[n]=a.linewidth),"showgrid"in a&&(t.gridEnable[n]=a.showgrid),"gridcolor"in a&&(t.gridColor[n]=cs(a.gridcolor)),"gridwidth"in a&&(t.gridWidth[n]=a.gridwidth),a.type==="log"?t.zeroEnable[n]=!1:"zeroline"in a&&(t.zeroEnable[n]=a.zeroline),"zerolinecolor"in a&&(t.zeroLineColor[n]=cs(a.zerolinecolor)),"zerolinewidth"in a&&(t.zeroLineWidth[n]=a.zerolinewidth),"ticks"in a&&a.ticks?t.lineTickEnable[n]=!0:t.lineTickEnable[n]=!1,"ticklen"in a&&(t.lineTickLength[n]=t._defaultLineTickLength[n]=a.ticklen),"tickcolor"in a&&(t.lineTickColor[n]=cs(a.tickcolor)),"tickwidth"in a&&(t.lineTickWidth[n]=a.tickwidth),"tickangle"in a&&(t.tickAngle[n]=a.tickangle==="auto"?-3600:Math.PI*-a.tickangle/180),"showticklabels"in a&&(t.tickEnable[n]=a.showticklabels),"tickfont"in a&&(a.tickfont.color&&(t.tickColor[n]=cs(a.tickfont.color)),a.tickfont.family&&(t.tickFont[n]=a.tickfont.family),a.tickfont.size&&(t.tickSize[n]=a.tickfont.size),a.tickfont.weight&&(t.tickFontWeight[n]=a.tickfont.weight),a.tickfont.style&&(t.tickFontStyle[n]=a.tickfont.style),a.tickfont.variant&&(t.tickFontVariant[n]=a.tickfont.variant)),"mirror"in a?["ticks","all","allticks"].indexOf(a.mirror)!==-1?(t.lineTickMirror[n]=!0,t.lineMirror[n]=!0):a.mirror===!0?(t.lineTickMirror[n]=!1,t.lineMirror[n]=!0):(t.lineTickMirror[n]=!1,t.lineMirror[n]=!1):t.lineMirror[n]=!1,"showbackground"in a&&a.showbackground!==!1?(t.backgroundEnable[n]=!0,t.backgroundColor[n]=cs(a.backgroundcolor)):t.backgroundEnable[n]=!1}};function toe(e,r){var t=new xI;return t.merge(e,r),t}bI.exports=toe});var TI=pe((zde,MI)=>{"use strict";var noe=po(),aoe=["xaxis","yaxis","zaxis"];function wI(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var ioe=wI.prototype;ioe.merge=function(e){for(var r=0;r<3;++r){var t=e[aoe[r]];if(!t.visible){this.enabled[r]=!1,this.drawSides[r]=!1;continue}this.enabled[r]=t.showspikes,this.colors[r]=noe(t.spikecolor),this.drawSides[r]=t.spikesides,this.lineWidth[r]=t.spikethickness}};function ooe(e){var r=new wI;return r.merge(e),r}MI.exports=ooe});var SI=pe((qde,kI)=>{"use strict";kI.exports=coe;var AI=St(),loe=ir(),soe=["xaxis","yaxis","zaxis"],uoe=[0,0,0];function foe(e){for(var r=new Array(3),t=0;t<3;++t){for(var n=e[t],a=new Array(n.length),o=0;o<n.length;++o)a[o]=n[o].x;r[t]=a}return r}function coe(e){for(var r=e.axesOptions,t=e.glplot.axesPixels,n=e.fullSceneLayout,a=[[],[],[]],o=0;o<3;++o){var i=n[soe[o]];if(i._length=(t[o].hi-t[o].lo)*t[o].pixelsPerDataUnit/e.dataScale[o],Math.abs(i._length)===1/0||isNaN(i._length))a[o]=[];else{i._input_range=i.range.slice(),i.range[0]=t[o].lo/e.dataScale[o],i.range[1]=t[o].hi/e.dataScale[o],i._m=1/(e.dataScale[o]*t[o].pixelsPerDataUnit),i.range[0]===i.range[1]&&(i.range[0]-=1,i.range[1]+=1);var l=i.tickmode;if(i.tickmode==="auto"){i.tickmode="linear";var u=i.nticks||loe.constrain(i._length/40,4,9);AI.autoTicks(i,Math.abs(i.range[1]-i.range[0])/u)}for(var s=AI.calcTicks(i,{msUTC:!0}),f=0;f<s.length;++f)s[f].x=s[f].x*e.dataScale[o],i.type==="date"&&(s[f].text=s[f].text.replace(/\<br\>/g," "));a[o]=s,i.tickmode=l}}r.ticks=a;for(var o=0;o<3;++o){uoe[o]=.5*(e.glplot.bounds[0][o]+e.glplot.bounds[1][o]);for(var f=0;f<2;++f)r.bounds[f][o]=e.glplot.bounds[f][o]}e.contourLevels=foe(a)}});var FI=pe((Ode,PI)=>{"use strict";var LI=pn().gl_plot3d,voe=LI.createCamera,CI=LI.createScene,hoe=pI(),doe=Zv(),cd=Er(),Jn=ir(),fd=Jn.preserveDrawingBuffer(),vd=St(),yi=io(),poe=po(),goe=mI(),yoe=Om(),moe=_I(),xoe=TI(),boe=SI(),_oe=$s().applyAutorangeOptions,N0,ud,RI=!1;function DI(e,r){var t=document.createElement("div"),n=e.container;this.graphDiv=e.graphDiv;var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.style.position="absolute",a.style.top=a.style.left="0px",a.style.width=a.style.height="100%",a.style["z-index"]=20,a.style["pointer-events"]="none",t.appendChild(a),this.svgContainer=a,t.id=e.id,t.style.position="absolute",t.style.top=t.style.left="0px",t.style.width=t.style.height="100%",n.appendChild(t),this.fullLayout=r,this.id=e.id||"scene",this.fullSceneLayout=r[this.id],this.plotArgs=[[],{},{}],this.axesOptions=moe(r,r[this.id]),this.spikeOptions=xoe(r[this.id]),this.container=t,this.staticMode=!!e.staticPlot,this.pixelRatio=this.pixelRatio||e.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=cd.getComponentMethod("annotations3d","convert"),this.drawAnnotations=cd.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var Rn=DI.prototype;Rn.prepareOptions=function(){var e=this,r={canvas:e.canvas,gl:e.gl,glOptions:{preserveDrawingBuffer:fd,premultipliedAlpha:!0,antialias:!0},container:e.container,axes:e.axesOptions,spikes:e.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:e.camera,pixelRatio:e.pixelRatio};if(e.staticMode){if(!ud&&(N0=document.createElement("canvas"),ud=hoe({canvas:N0,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!ud))throw new Error("error creating static canvas/context for image server");r.gl=ud,r.canvas=N0}return r};var EI=!0;Rn.tryCreatePlot=function(){var e=this,r=e.prepareOptions(),t=!0;try{e.glplot=CI(r)}catch(n){if(e.staticMode||!EI||fd)t=!1;else{Jn.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{fd=r.glOptions.preserveDrawingBuffer=!0,e.glplot=CI(r)}catch(a){fd=r.glOptions.preserveDrawingBuffer=!1,t=!1}}}return EI=!1,t};Rn.initializeGLCamera=function(){var e=this,r=e.fullSceneLayout.camera,t=r.projection.type==="orthographic";e.camera=voe(e.container,{center:[r.center.x,r.center.y,r.center.z],eye:[r.eye.x,r.eye.y,r.eye.z],up:[r.up.x,r.up.y,r.up.z],_ortho:t,zoomMin:.01,zoomMax:100,mode:"orbit"})};Rn.initializeGLPlot=function(){var e=this;e.initializeGLCamera();var r=e.tryCreatePlot();if(!r)return goe(e);e.traces={},e.make4thDimension();var t=e.graphDiv,n=t.layout,a=function(){var i={};return e.isCameraChanged(n)&&(i[e.id+".camera"]=e.getCamera()),e.isAspectChanged(n)&&(i[e.id+".aspectratio"]=e.glplot.getAspectratio(),n[e.id].aspectmode!=="manual"&&(e.fullSceneLayout.aspectmode=n[e.id].aspectmode=i[e.id+".aspectmode"]="manual")),i},o=function(i){if(i.fullSceneLayout.dragmode!==!1){var l=a();i.saveLayout(n),i.graphDiv.emit("plotly_relayout",l)}};return e.glplot.canvas&&(e.glplot.canvas.addEventListener("mouseup",function(){o(e)}),e.glplot.canvas.addEventListener("touchstart",function(){RI=!0}),e.glplot.canvas.addEventListener("wheel",function(i){if(t._context._scrollZoom.gl3d){if(e.camera._ortho){var l=i.deltaX>i.deltaY?1.1:.9090909090909091,u=e.glplot.getAspectratio();e.glplot.setAspectratio({x:l*u.x,y:l*u.y,z:l*u.z})}o(e)}},doe?{passive:!1}:!1),e.glplot.canvas.addEventListener("mousemove",function(){if(e.fullSceneLayout.dragmode!==!1&&e.camera.mouseListener.buttons!==0){var i=a();e.graphDiv.emit("plotly_relayouting",i)}}),e.staticMode||e.glplot.canvas.addEventListener("webglcontextlost",function(i){t&&t.emit&&t.emit("plotly_webglcontextlost",{event:i,layer:e.id})},!1)),e.glplot.oncontextloss=function(){e.recoverContext()},e.glplot.onrender=function(){e.render()},!0};Rn.render=function(){var e=this,r=e.graphDiv,t,n=e.svgContainer,a=e.container.getBoundingClientRect();r._fullLayout._calcInverseTransform(r);var o=r._fullLayout._invScaleX,i=r._fullLayout._invScaleY,l=a.width*o,u=a.height*i;n.setAttributeNS(null,"viewBox","0 0 "+l+" "+u),n.setAttributeNS(null,"width",l),n.setAttributeNS(null,"height",u),boe(e),e.glplot.axes.update(e.axesOptions);for(var s=Object.keys(e.traces),f=null,v=e.glplot.selection,p=0;p<s.length;++p)t=e.traces[s[p]],t.data.hoverinfo!=="skip"&&t.handlePick(v)&&(f=t),t.setContourLevels&&t.setContourLevels();function b(A,h,R){var E=e.fullSceneLayout[A+"axis"];return E.type!=="log"&&(h=E.d2l(h)),vd.hoverLabelText(E,h,R)}if(f!==null){var y=yoe(e.glplot.cameraParams,v.dataCoordinate);t=f.data;var w=r._fullData[t.index],M=v.index,m={xLabel:b("x",v.traceCoordinate[0],t.xhoverformat),yLabel:b("y",v.traceCoordinate[1],t.yhoverformat),zLabel:b("z",v.traceCoordinate[2],t.zhoverformat)},k=yi.castHoverinfo(w,e.fullLayout,M),S=(k||"").split("+"),x=k&&k==="all";!w.hovertemplate&&!x&&(S.indexOf("x")===-1&&(m.xLabel=void 0),S.indexOf("y")===-1&&(m.yLabel=void 0),S.indexOf("z")===-1&&(m.zLabel=void 0),S.indexOf("text")===-1&&(v.textLabel=void 0),S.indexOf("name")===-1&&(f.name=void 0));var T,d=[];t.type==="cone"||t.type==="streamtube"?(m.uLabel=b("x",v.traceCoordinate[3],t.uhoverformat),(x||S.indexOf("u")!==-1)&&d.push("u: "+m.uLabel),m.vLabel=b("y",v.traceCoordinate[4],t.vhoverformat),(x||S.indexOf("v")!==-1)&&d.push("v: "+m.vLabel),m.wLabel=b("z",v.traceCoordinate[5],t.whoverformat),(x||S.indexOf("w")!==-1)&&d.push("w: "+m.wLabel),m.normLabel=v.traceCoordinate[6].toPrecision(3),(x||S.indexOf("norm")!==-1)&&d.push("norm: "+m.normLabel),t.type==="streamtube"&&(m.divergenceLabel=v.traceCoordinate[7].toPrecision(3),(x||S.indexOf("divergence")!==-1)&&d.push("divergence: "+m.divergenceLabel)),v.textLabel&&d.push(v.textLabel),T=d.join("<br>")):t.type==="isosurface"||t.type==="volume"?(m.valueLabel=vd.hoverLabelText(e._mockAxis,e._mockAxis.d2l(v.traceCoordinate[3]),t.valuehoverformat),d.push("value: "+m.valueLabel),v.textLabel&&d.push(v.textLabel),T=d.join("<br>")):T=v.textLabel;var _={x:v.traceCoordinate[0],y:v.traceCoordinate[1],z:v.traceCoordinate[2],data:w._input,fullData:w,curveNumber:w.index,pointNumber:M};yi.appendArrayPointValue(_,w,M),t._module.eventData&&(_=w._module.eventData(_,v,w,{},M));var g={points:[_]};if(e.fullSceneLayout.hovermode){var c=[];yi.loneHover({trace:w,x:(.5+.5*y[0]/y[3])*l,y:(.5-.5*y[1]/y[3])*u,xLabel:m.xLabel,yLabel:m.yLabel,zLabel:m.zLabel,text:T,name:f.name,color:yi.castHoverOption(w,M,"bgcolor")||f.color,borderColor:yi.castHoverOption(w,M,"bordercolor"),fontFamily:yi.castHoverOption(w,M,"font.family"),fontSize:yi.castHoverOption(w,M,"font.size"),fontColor:yi.castHoverOption(w,M,"font.color"),nameLength:yi.castHoverOption(w,M,"namelength"),textAlign:yi.castHoverOption(w,M,"align"),hovertemplate:Jn.castOption(w,M,"hovertemplate"),hovertemplateLabels:Jn.extendFlat({},_,m),eventData:[_]},{container:n,gd:r,inOut_bbox:c}),_.bbox=c[0]}v.distance<5&&(v.buttons||RI)?r.emit("plotly_click",g):r.emit("plotly_hover",g),this.oldEventData=g}else yi.loneUnhover(n),this.oldEventData&&r.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;e.drawAnnotations(e)};Rn.recoverContext=function(){var e=this;e.glplot.dispose();var r=function(){if(e.glplot.gl.isContextLost()){requestAnimationFrame(r);return}if(!e.initializeGLPlot()){Jn.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}e.plot.apply(e,e.plotArgs)};requestAnimationFrame(r)};var z0=["xaxis","yaxis","zaxis"];function woe(e,r,t){for(var n=e.fullSceneLayout,a=0;a<3;a++){var o=z0[a],i=o.charAt(0),l=n[o],u=r[i],s=r[i+"calendar"],f=r["_"+i+"length"];if(!Jn.isArrayOrTypedArray(u))t[0][a]=Math.min(t[0][a],0),t[1][a]=Math.max(t[1][a],f-1);else for(var v,p=0;p<(f||u.length);p++)if(Jn.isArrayOrTypedArray(u[p]))for(var b=0;b<u[p].length;++b)v=l.d2l(u[p][b],0,s),!isNaN(v)&&isFinite(v)&&(t[0][a]=Math.min(t[0][a],v),t[1][a]=Math.max(t[1][a],v));else v=l.d2l(u[p],0,s),!isNaN(v)&&isFinite(v)&&(t[0][a]=Math.min(t[0][a],v),t[1][a]=Math.max(t[1][a],v))}}function Moe(e,r){for(var t=e.fullSceneLayout,n=t.annotations||[],a=0;a<3;a++)for(var o=z0[a],i=o.charAt(0),l=t[o],u=0;u<n.length;u++){var s=n[u];if(s.visible){var f=l.r2l(s[i]);!isNaN(f)&&isFinite(f)&&(r[0][a]=Math.min(r[0][a],f),r[1][a]=Math.max(r[1][a],f))}}}Rn.plot=function(e,r,t){var n=this;if(n.plotArgs=[e,r,t],!n.glplot.contextLost){var a,o,i,l,u,s,f=r[n.id],v=t[n.id];n.fullLayout=r,n.fullSceneLayout=f,n.axesOptions.merge(r,f),n.spikeOptions.merge(f),n.setViewport(f),n.updateFx(f.dragmode,f.hovermode),n.camera.enableWheel=n.graphDiv._context._scrollZoom.gl3d,n.glplot.setClearColor(poe(f.bgcolor)),n.setConvert(u),e?Array.isArray(e)||(e=[e]):e=[];var p=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(i=0;i<e.length;++i)a=e[i],!(a.visible!==!0||a._length===0)&&woe(this,a,p);Moe(this,p);var b=[1,1,1];for(l=0;l<3;++l)p[1][l]===p[0][l]?b[l]=1:b[l]=1/(p[1][l]-p[0][l]);for(n.dataScale=b,n.convertAnnotations(this),i=0;i<e.length;++i)a=e[i],!(a.visible!==!0||a._length===0)&&(o=n.traces[a.uid],o?o.data.type===a.type?o.update(a):(o.dispose(),o=a._module.plot(this,a),n.traces[a.uid]=o):(o=a._module.plot(this,a),n.traces[a.uid]=o),o.name=a.name);var y=Object.keys(n.traces);e:for(i=0;i<y.length;++i){for(l=0;l<e.length;++l)if(e[l].uid===y[i]&&e[l].visible===!0&&e[l]._length!==0)continue e;o=n.traces[y[i]],o.dispose(),delete n.traces[y[i]]}n.glplot.objects.sort(function(U,X){return U._trace.data.index-X._trace.data.index});var w=[[0,0,0],[0,0,0]],M=[],m={};for(i=0;i<3;++i){u=f[z0[i]],s=u.type,s in m?(m[s].acc*=b[i],m[s].count+=1):m[s]={acc:b[i],count:1};var k;if(u.autorange){w[0][i]=1/0,w[1][i]=-1/0;var S=n.glplot.objects,x=n.fullSceneLayout.annotations||[],T=u._name.charAt(0);for(l=0;l<S.length;l++){var d=S[l],_=d.bounds,g=d._trace.data._pad||0;d.constructor.name==="ErrorBars"&&u._lowerLogErrorBound?w[0][i]=Math.min(w[0][i],u._lowerLogErrorBound):w[0][i]=Math.min(w[0][i],_[0][i]/b[i]-g),w[1][i]=Math.max(w[1][i],_[1][i]/b[i]+g)}for(l=0;l<x.length;l++){var c=x[l];if(c.visible){var A=u.r2l(c[T]);w[0][i]=Math.min(w[0][i],A),w[1][i]=Math.max(w[1][i],A)}}if("rangemode"in u&&u.rangemode==="tozero"&&(w[0][i]=Math.min(w[0][i],0),w[1][i]=Math.max(w[1][i],0)),w[0][i]>w[1][i])w[0][i]=-1,w[1][i]=1;else{var h=w[1][i]-w[0][i];w[0][i]-=h/32,w[1][i]+=h/32}if(k=[w[0][i],w[1][i]],k=_oe(k,u),w[0][i]=k[0],w[1][i]=k[1],u.isReversed()){var R=w[0][i];w[0][i]=w[1][i],w[1][i]=R}}else k=u.range,w[0][i]=u.r2l(k[0]),w[1][i]=u.r2l(k[1]);w[0][i]===w[1][i]&&(w[0][i]-=1,w[1][i]+=1),M[i]=w[1][i]-w[0][i],u.range=[w[0][i],w[1][i]],u.limitRange(),n.glplot.setBounds(i,{min:u.range[0]*b[i],max:u.range[1]*b[i]})}var E,D=f.aspectmode;if(D==="cube")E=[1,1,1];else if(D==="manual"){var N=f.aspectratio;E=[N.x,N.y,N.z]}else if(D==="auto"||D==="data"){var I=[1,1,1];for(i=0;i<3;++i){u=f[z0[i]],s=u.type;var F=m[s];I[i]=Math.pow(F.acc,1/F.count)/b[i]}D==="data"||Math.max.apply(null,I)/Math.min.apply(null,I)<=4?E=I:E=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");f.aspectratio.x=v.aspectratio.x=E[0],f.aspectratio.y=v.aspectratio.y=E[1],f.aspectratio.z=v.aspectratio.z=E[2],n.glplot.setAspectratio(f.aspectratio),n.viewInitial.aspectratio||(n.viewInitial.aspectratio={x:f.aspectratio.x,y:f.aspectratio.y,z:f.aspectratio.z}),n.viewInitial.aspectmode||(n.viewInitial.aspectmode=f.aspectmode);var L=f.domain||null,P=r._size||null;if(L&&P){var O=n.container.style;O.position="absolute",O.left=P.l+L.x[0]*P.w+"px",O.top=P.t+(1-L.y[1])*P.h+"px",O.width=P.w*(L.x[1]-L.x[0])+"px",O.height=P.h*(L.y[1]-L.y[0])+"px"}n.glplot.redraw()}};Rn.destroy=function(){var e=this;e.glplot&&(e.camera.mouseListener.enabled=!1,e.container.removeEventListener("wheel",e.camera.wheelListener),e.camera=null,e.glplot.dispose(),e.container.parentNode.removeChild(e.container),e.glplot=null)};function Toe(e){return[[e.eye.x,e.eye.y,e.eye.z],[e.center.x,e.center.y,e.center.z],[e.up.x,e.up.y,e.up.z]]}function Aoe(e){return{up:{x:e.up[0],y:e.up[1],z:e.up[2]},center:{x:e.center[0],y:e.center[1],z:e.center[2]},eye:{x:e.eye[0],y:e.eye[1],z:e.eye[2]},projection:{type:e._ortho===!0?"orthographic":"perspective"}}}Rn.getCamera=function(){var e=this;return e.camera.view.recalcMatrix(e.camera.view.lastT()),Aoe(e.camera)};Rn.setViewport=function(e){var r=this,t=e.camera;r.camera.lookAt.apply(this,Toe(t)),r.glplot.setAspectratio(e.aspectratio);var n=t.projection.type==="orthographic",a=r.camera._ortho;n!==a&&(r.glplot.redraw(),r.glplot.clearRGBA(),r.glplot.dispose(),r.initializeGLPlot())};Rn.isCameraChanged=function(e){var r=this,t=r.getCamera(),n=Jn.nestedProperty(e,r.id+".camera"),a=n.get();function o(s,f,v,p){var b=["up","center","eye"],y=["x","y","z"];return f[b[v]]&&s[b[v]][y[p]]===f[b[v]][y[p]]}var i=!1;if(a===void 0)i=!0;else{for(var l=0;l<3;l++)for(var u=0;u<3;u++)if(!o(t,a,l,u)){i=!0;break}(!a.projection||t.projection&&t.projection.type!==a.projection.type)&&(i=!0)}return i};Rn.isAspectChanged=function(e){var r=this,t=r.glplot.getAspectratio(),n=Jn.nestedProperty(e,r.id+".aspectratio"),a=n.get();return a===void 0||a.x!==t.x||a.y!==t.y||a.z!==t.z};Rn.saveLayout=function(e){var r=this,t=r.fullLayout,n,a,o,i,l,u,s=r.isCameraChanged(e),f=r.isAspectChanged(e),v=s||f;if(v){var p={};if(s&&(n=r.getCamera(),a=Jn.nestedProperty(e,r.id+".camera"),o=a.get(),p[r.id+".camera"]=o),f&&(i=r.glplot.getAspectratio(),l=Jn.nestedProperty(e,r.id+".aspectratio"),u=l.get(),p[r.id+".aspectratio"]=u),cd.call("_storeDirectGUIEdit",e,t._preGUI,p),s){a.set(n);var b=Jn.nestedProperty(t,r.id+".camera");b.set(n)}if(f){l.set(i);var y=Jn.nestedProperty(t,r.id+".aspectratio");y.set(i),r.glplot.redraw()}}return v};Rn.updateFx=function(e,r){var t=this,n=t.camera;if(n)if(e==="orbit")n.mode="orbit",n.keyBindingMode="rotate";else if(e==="turntable"){n.up=[0,0,1],n.mode="turntable",n.keyBindingMode="rotate";var a=t.graphDiv,o=a._fullLayout,i=t.fullSceneLayout.camera,l=i.up.x,u=i.up.y,s=i.up.z;if(s/Math.sqrt(l*l+u*u+s*s)<.999){var f=t.id+".camera.up",v={x:0,y:0,z:1},p={};p[f]=v;var b=a.layout;cd.call("_storeDirectGUIEdit",b,o._preGUI,p),i.up=v,Jn.nestedProperty(b,f).set(v)}}else n.keyBindingMode=e;t.fullSceneLayout.hovermode=r};function koe(e,r,t){for(var n=0,a=t-1;n<a;++n,--a)for(var o=0;o<r;++o)for(var i=0;i<4;++i){var l=4*(r*n+o)+i,u=4*(r*a+o)+i,s=e[l];e[l]=e[u],e[u]=s}}function Soe(e,r,t){for(var n=0;n<t;++n)for(var a=0;a<r;++a){var o=4*(r*n+a),i=e[o+3];if(i>0)for(var l=255/i,u=0;u<3;++u)e[o+u]=Math.min(l*e[o+u],255)}}Rn.toImage=function(e){var r=this;e||(e="png"),r.staticMode&&r.container.appendChild(N0),r.glplot.redraw();var t=r.glplot.gl,n=t.drawingBufferWidth,a=t.drawingBufferHeight;t.bindFramebuffer(t.FRAMEBUFFER,null);var o=new Uint8Array(n*a*4);t.readPixels(0,0,n,a,t.RGBA,t.UNSIGNED_BYTE,o),koe(o,n,a),Soe(o,n,a);var i=document.createElement("canvas");i.width=n,i.height=a;var l=i.getContext("2d",{willReadFrequently:!0}),u=l.createImageData(n,a);u.data.set(o),l.putImageData(u,0,0);var s;switch(e){case"jpeg":s=i.toDataURL("image/jpeg");break;case"webp":s=i.toDataURL("image/webp");break;default:s=i.toDataURL("image/png")}return r.staticMode&&r.container.removeChild(N0),s};Rn.setConvert=function(){for(var e=this,r=0;r<3;r++){var t=e.fullSceneLayout[z0[r]];vd.setConvert(t,e.fullLayout),t.setScale=Jn.noop}};Rn.make4thDimension=function(){var e=this,r=e.graphDiv,t=r._fullLayout;e._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},vd.setConvert(e._mockAxis,t)};PI.exports=DI});var NI=pe((Bde,II)=>{"use strict";II.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}});var I3=pe((Ude,zI)=>{"use strict";var Coe=Zr(),Br=Ra(),F3=Mt().extendFlat,Eoe=zn().overrideAll;zI.exports=Eoe({visible:Br.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:Coe.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:Br.color,categoryorder:Br.categoryorder,categoryarray:Br.categoryarray,title:{text:Br.title.text,font:Br.title.font},type:F3({},Br.type,{values:["-","linear","log","date","category"]}),autotypenumbers:Br.autotypenumbers,autorange:Br.autorange,autorangeoptions:{minallowed:Br.autorangeoptions.minallowed,maxallowed:Br.autorangeoptions.maxallowed,clipmin:Br.autorangeoptions.clipmin,clipmax:Br.autorangeoptions.clipmax,include:Br.autorangeoptions.include,editType:"plot"},rangemode:Br.rangemode,minallowed:Br.minallowed,maxallowed:Br.maxallowed,range:F3({},Br.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:Br.minor.tickmode,nticks:Br.nticks,tick0:Br.tick0,dtick:Br.dtick,tickvals:Br.tickvals,ticktext:Br.ticktext,ticks:Br.ticks,mirror:Br.mirror,ticklen:Br.ticklen,tickwidth:Br.tickwidth,tickcolor:Br.tickcolor,showticklabels:Br.showticklabels,labelalias:Br.labelalias,tickfont:Br.tickfont,tickangle:Br.tickangle,tickprefix:Br.tickprefix,showtickprefix:Br.showtickprefix,ticksuffix:Br.ticksuffix,showticksuffix:Br.showticksuffix,showexponent:Br.showexponent,exponentformat:Br.exponentformat,minexponent:Br.minexponent,separatethousands:Br.separatethousands,tickformat:Br.tickformat,tickformatstops:Br.tickformatstops,hoverformat:Br.hoverformat,showline:Br.showline,linecolor:Br.linecolor,linewidth:Br.linewidth,showgrid:Br.showgrid,gridcolor:F3({},Br.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:Br.gridwidth,zeroline:Br.zeroline,zerolinecolor:Br.zerolinecolor,zerolinewidth:Br.zerolinewidth},"plot","from-root")});var O3=pe((Hde,qI)=>{"use strict";var N3=I3(),Loe=$1().attributes,z3=Mt().extendFlat,Roe=ir().counterRegex;function q3(e,r,t){return{x:{valType:"number",dflt:e,editType:"camera"},y:{valType:"number",dflt:r,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}qI.exports={_arrayAttrRegexps:[Roe("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:z3(q3(0,0,1),{}),center:z3(q3(0,0,0),{}),eye:z3(q3(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:Loe({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:N3,yaxis:N3,zaxis:N3,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot"}});var BI=pe((Vde,OI)=>{"use strict";var Doe=ir(),Poe=gt(),Foe=$1().defaults;OI.exports=function(r,t,n,a){var o=a.type,i=a.attributes,l=a.handleDefaults,u=a.partition||"x",s=t._subplots[o],f=s.length,v=f&&s[0].replace(/\d+$/,""),p,b;function y(k,S){return Doe.coerce(p,b,i,k,S)}for(var w=0;w<f;w++){var M=s[w];r[M]?p=r[M]:p=r[M]={},b=Poe.newContainer(t,M,v),a.noUirevision||y("uirevision",t.uirevision);var m={};m[u]=[w/f,(w+1)/f],Foe(b,t,y,m),a.id=M,l(p,b,y,a)}}});var GI=pe((Gde,VI)=>{"use strict";var Ioe=ka().mix,UI=ir(),Noe=gt(),zoe=I3(),qoe=_m(),Ooe=T1(),HI=["xaxis","yaxis","zaxis"],Boe=100*136/187;VI.exports=function(r,t,n){var a,o;function i(s,f){return UI.coerce(a,o,zoe,s,f)}for(var l=0;l<HI.length;l++){var u=HI[l];a=r[u]||{},o=Noe.newContainer(t,u),o._id=u[0]+n.scene,o._name=u,qoe(a,o,i,n),Ooe(a,o,i,{font:n.font,letter:u[0],data:n.data,showGrid:!0,noAutotickangles:!0,noTicklabelindex:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:n.bgColor,calendar:n.calendar},n.fullLayout),i("gridcolor",Ioe(o.color,n.bgColor,Boe).toRgbString()),i("title.text",u[0]),o.setScale=UI.noop,i("showspikes")&&(i("spikesides"),i("spikethickness"),i("spikecolor",o.color)),i("showaxeslabels"),i("showbackground")&&i("backgroundcolor")}}});var ZI=pe((Yde,XI)=>{"use strict";var Uoe=ir(),Hoe=Zr(),Voe=Er(),Goe=BI(),Yoe=GI(),YI=O3(),Woe=_f().getSubplotData,WI="gl3d";XI.exports=function(r,t,n){var a=t._basePlotModules.length>1;function o(i){if(!a){var l=Uoe.validate(r[i],YI[i]);if(l)return r[i]}}Goe(r,t,n,{type:WI,attributes:YI,handleDefaults:Xoe,fullLayout:t,font:t.font,fullData:n,getDfltFromLayout:o,autotypenumbersDflt:t.autotypenumbers,paper_bgcolor:t.paper_bgcolor,calendar:t.calendar})};function Xoe(e,r,t,n){for(var a=t("bgcolor"),o=Hoe.combine(a,n.paper_bgcolor),i=["up","center","eye"],l=0;l<i.length;l++)t("camera."+i[l]+".x"),t("camera."+i[l]+".y"),t("camera."+i[l]+".z");t("camera.projection.type");var u=!!t("aspectratio.x")&&!!t("aspectratio.y")&&!!t("aspectratio.z"),s=u?"manual":"auto",f=t("aspectmode",s);u||(e.aspectratio=r.aspectratio={x:1,y:1,z:1},f==="manual"&&(r.aspectmode="auto"),e.aspectmode=r.aspectmode);var v=Woe(n.fullData,WI,n.id);Yoe(e,r,{font:n.font,scene:n.id,data:v,bgColor:o,calendar:n.calendar,autotypenumbersDflt:n.autotypenumbersDflt,fullLayout:n.fullLayout}),Voe.getComponentMethod("annotations3d","handleDefaults")(e,r,n);var p=n.getDfltFromLayout("dragmode");if(p!==!1&&!p)if(p="orbit",e.camera&&e.camera.up){var b=e.camera.up.x,y=e.camera.up.y,w=e.camera.up.z;w!==0&&(!b||!y||!w||w/Math.sqrt(b*b+y*y+w*w)>.999)&&(p="turntable")}else p="turntable";t("dragmode",p),t("hovermode",n.getDfltFromLayout("hovermode"))}});var il=pe(Kn=>{"use strict";var Zoe=zn().overrideAll,Joe=_l(),Koe=FI(),Qoe=_f().getSubplotData,$oe=ir(),joe=Io(),qu="gl3d",B3="scene";Kn.name=qu;Kn.attr=B3;Kn.idRoot=B3;Kn.idRegex=Kn.attrRegex=$oe.counterRegex("scene");Kn.attributes=NI();Kn.layoutAttributes=O3();Kn.baseLayoutAttrOverrides=Zoe({hoverlabel:Joe.hoverlabel},"plot","nested");Kn.supplyLayoutDefaults=ZI();Kn.plot=function(r){for(var t=r._fullLayout,n=r._fullData,a=t._subplots[qu],o=0;o<a.length;o++){var i=a[o],l=Qoe(n,qu,i),u=t[i],s=u.camera,f=u._scene;f||(f=new Koe({id:i,graphDiv:r,container:r.querySelector(".gl-container"),staticPlot:r._context.staticPlot,plotGlPixelRatio:r._context.plotGlPixelRatio,camera:s},t),u._scene=f),f.viewInitial||(f.viewInitial={up:{x:s.up.x,y:s.up.y,z:s.up.z},eye:{x:s.eye.x,y:s.eye.y,z:s.eye.z},center:{x:s.center.x,y:s.center.y,z:s.center.z}}),f.plot(l,t,r.layout)}};Kn.clean=function(e,r,t,n){for(var a=n._subplots[qu]||[],o=0;o<a.length;o++){var i=a[o];!r[i]&&n[i]._scene&&(n[i]._scene.destroy(),n._infolayer&&n._infolayer.selectAll(".annotation-"+i).remove())}};Kn.toSVG=function(e){for(var r=e._fullLayout,t=r._subplots[qu],n=r._size,a=0;a<t.length;a++){var o=r[t[a]],i=o.domain,l=o._scene,u=l.toImage("png"),s=r._glimages.append("svg:image");s.attr({xmlns:joe.svg,"xlink:href":u,x:n.l+n.w*i.x[0],y:n.t+n.h*(1-i.y[1]),width:n.w*(i.x[1]-i.x[0]),height:n.h*(i.y[1]-i.y[0]),preserveAspectRatio:"none"}),l.destroy()}};Kn.cleanId=function(r){if(r.match(/^scene[0-9]*$/)){var t=r.substr(5);return t==="1"&&(t=""),B3+t}};Kn.updateFx=function(e){for(var r=e._fullLayout,t=r._subplots[qu],n=0;n<t.length;n++){var a=r[t[n]]._scene;a.updateFx(r.dragmode,r.hovermode)}}});var KI=pe((Xde,JI)=>{"use strict";JI.exports={plot:nI(),attributes:D3(),markerSymbols:ld(),supplyDefaults:uI(),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:cI(),moduleType:"trace",name:"scatter3d",basePlotModule:il(),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}});var $I=pe((Zde,QI)=>{"use strict";QI.exports=KI()});var q0=pe((Jde,rN)=>{"use strict";var jI=Zr(),ele=ja(),U3=ro().axisHoverFormat,rle=Sa().hovertemplateAttrs,eN=Sn(),H3=Mt().extendFlat,tle=zn().overrideAll;function V3(e){return{valType:"boolean",dflt:!1}}function G3(e){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:V3("x"),y:V3("y"),z:V3("z")},color:{valType:"color",dflt:jI.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:jI.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var Y3=rN.exports=tle(H3({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:rle(),xhoverformat:U3("x"),yhoverformat:U3("y"),zhoverformat:U3("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},ele("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:G3("x"),y:G3("y"),z:G3("z")},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},hoverinfo:H3({},eN.hoverinfo),showlegend:H3({},eN.showlegend,{dflt:!1})}),"calc","nested");Y3.x.editType=Y3.y.editType=Y3.z.editType="calc+clearAxisTypes"});var X3=pe((Kde,aN)=>{"use strict";var nle=Er(),tN=ir(),ale=Ei(),ile=q0(),W3=.1;function ole(e,r){for(var t=[],n=32,a=0;a<n;a++){var o=a/(n-1),i=r+(1-r)*(1-Math.pow(Math.sin(e*o*Math.PI),2));t.push([o,Math.max(0,Math.min(1,i))])}return t}function lle(e){var r=0;if(!Array.isArray(e)||e.length<2||!e[0]||!e[e.length-1]||+e[0][0]!=0||+e[e.length-1][0]!=1)return!1;for(var t=0;t<e.length;t++){var n=e[t];if(n.length!==2||+n[0]<r)return!1;r=+n[0]}return!0}function sle(e,r,t,n){var a,o;function i(M,m){return tN.coerce(e,r,ile,M,m)}var l=i("x"),u=i("y"),s=i("z");if(!s||!s.length||l&&l.length<1||u&&u.length<1){r.visible=!1;return}r._xlength=Array.isArray(l)&&tN.isArrayOrTypedArray(l[0])?s.length:s[0].length,r._ylength=s.length;var f=nle.getComponentMethod("calendars","handleTraceDefaults");f(e,r,["x","y","z"],n),i("text"),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(M){i(M)});var v=i("surfacecolor"),p=["x","y","z"];for(a=0;a<3;++a){var b="contours."+p[a],y=i(b+".show"),w=i(b+".highlight");if(y||w)for(o=0;o<3;++o)i(b+".project."+p[o]);y&&(i(b+".color"),i(b+".width"),i(b+".usecolormap")),w&&(i(b+".highlightcolor"),i(b+".highlightwidth")),i(b+".start"),i(b+".end"),i(b+".size")}ale(e,r,n,i,{prefix:"",cLetter:"c"}),nN(e,r,n,i),r._length=null}function nN(e,r,t,n){var a=n("opacityscale");a==="max"?r.opacityscale=[[0,W3],[1,1]]:a==="min"?r.opacityscale=[[0,1],[1,W3]]:a==="extremes"?r.opacityscale=ole(1,W3):lle(a)||(r.opacityscale=void 0)}aN.exports={supplyDefaults:sle,opacityscaleDefaults:nN}});var lN=pe((Qde,oN)=>{"use strict";var iN=zo();oN.exports=function(r,t){t.surfacecolor?iN(r,t,{vals:t.surfacecolor,containerStr:"",cLetter:"c"}):iN(r,t,{vals:t.z,containerStr:"",cLetter:"c"})}});var cN=pe(($de,fN)=>{"use strict";var ule=ir(),sN=.01,fle=[[-1,0],[1,0],[0,-1],[0,1]];function cle(e){return .5-.25*Math.min(1,e*.5)}fN.exports=function(r,t){var n=1,a;for(uN(r,t),a=0;a<t.length&&!(t[a][2]<4);a++);for(t=t.slice(a),a=0;a<100&&n>sN;a++)n=uN(r,t,cle(n));return n>sN&&ule.log("interp2d didn't converge quickly",n),r};function uN(e,r,t){var n=0,a,o,i,l,u,s,f,v,p,b,y,w,M;for(l=0;l<r.length;l++){for(a=r[l],o=a[0],i=a[1],y=e[o][i],b=0,p=0,u=0;u<4;u++)s=fle[u],f=e[o+s[0]],f&&(v=f[i+s[1]],v!==void 0&&(b===0?w=M=v:(w=Math.min(w,v),M=Math.max(M,v)),p++,b+=v));if(p===0)throw"iterateInterp2d order is wrong: no defined neighbors";e[o][i]=b/p,y===void 0?p<4&&(n=1):(e[o][i]=(1+t)*e[o][i]-t*y,M>w&&(n=Math.max(n,Math.abs(e[o][i]-y)/(M-w))))}return n}});var hN=pe((jde,vN)=>{"use strict";var vle=ir().maxRowLength;vN.exports=function(r){var t=[],n={},a=[],o=r[0],i=[],l=[0,0,0],u=vle(r),s,f,v,p,b,y,w,M;for(f=0;f<r.length;f++)for(s=i,i=o,o=r[f+1]||[],v=0;v<u;v++)i[v]===void 0&&(y=(i[v-1]!==void 0?1:0)+(i[v+1]!==void 0?1:0)+(s[v]!==void 0?1:0)+(o[v]!==void 0?1:0),y?(f===0&&y++,v===0&&y++,f===r.length-1&&y++,v===i.length-1&&y++,y<4&&(n[[f,v]]=[f,v,y]),t.push([f,v,y])):a.push([f,v]));for(;a.length;){for(w={},M=!1,b=a.length-1;b>=0;b--)p=a[b],f=p[0],v=p[1],y=((n[[f-1,v]]||l)[2]+(n[[f+1,v]]||l)[2]+(n[[f,v-1]]||l)[2]+(n[[f,v+1]]||l)[2])/20,y&&(w[p]=[f,v,y],a.splice(b,1),M=!0);if(!M)throw"findEmpties iterated with no new neighbors";for(p in w)n[p]=w[p],t.push(w[p])}return t.sort(function(m,k){return k[2]-m[2]})}});var xN=pe((epe,mN)=>{"use strict";var hle=pn().gl_surface3d,Ou=pn().ndarray,dle=pn().ndarray_linear_interpolate.d2,ple=cN(),gle=hN(),O0=ir().isArrayOrTypedArray,yle=al().parseColorScale,dN=po(),mle=Li().extractOpts;function gN(e,r,t){this.scene=e,this.uid=t,this.surface=r,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var mi=gN.prototype;mi.getXat=function(e,r,t,n){var a=O0(this.data.x)?O0(this.data.x[0])?this.data.x[r][e]:this.data.x[e]:e;return t===void 0?a:n.d2l(a,0,t)};mi.getYat=function(e,r,t,n){var a=O0(this.data.y)?O0(this.data.y[0])?this.data.y[r][e]:this.data.y[r]:r;return t===void 0?a:n.d2l(a,0,t)};mi.getZat=function(e,r,t,n){var a=this.data.z[r][e];return a===null&&this.data.connectgaps&&this.data._interpolatedZ&&(a=this.data._interpolatedZ[r][e]),t===void 0?a:n.d2l(a,0,t)};mi.handlePick=function(e){if(e.object===this.surface){var r=(e.data.index[0]-1)/this.dataScaleX-1,t=(e.data.index[1]-1)/this.dataScaleY-1,n=Math.max(Math.min(Math.round(r),this.data.z[0].length-1),0),a=Math.max(Math.min(Math.round(t),this.data._ylength-1),0);e.index=[n,a],e.traceCoordinate=[this.getXat(n,a),this.getYat(n,a),this.getZat(n,a)],e.dataCoordinate=[this.getXat(n,a,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(n,a,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(n,a,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var o=0;o<3;o++){var i=e.dataCoordinate[o];i!=null&&(e.dataCoordinate[o]*=this.scene.dataScale[o])}var l=this.data.hovertext||this.data.text;return O0(l)&&l[a]&&l[a][n]!==void 0?e.textLabel=l[a][n]:l?e.textLabel=l:e.textLabel="",e.data.dataCoordinate=e.dataCoordinate.slice(),this.surface.highlight(e.data),this.scene.glplot.spikes.position=e.dataCoordinate,!0}};function xle(e){var r=e[0].rgb,t=e[e.length-1].rgb;return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]&&r[3]===t[3]}var Bu=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function ble(e,r){if(e<r)return 0;for(var t=0;Math.floor(e%r)===0;)e/=r,t++;return t}function Z3(e){for(var r=[],t=0;t<Bu.length;t++){var n=Bu[t];r.push(ble(e,n))}return r}function _le(e){for(var r=Z3(e),t=e,n=0;n<Bu.length;n++)if(r[n]>0){t=Bu[n];break}return t}function wle(e,r){if(!(e<1||r<1)){for(var t=Z3(e),n=Z3(r),a=1,o=0;o<Bu.length;o++)a*=Math.pow(Bu[o],Math.max(t[o],n[o]));return a}}function Mle(e){if(e.length!==0){for(var r=1,t=0;t<e.length;t++)r=wle(r,e[t]);return r}}mi.calcXnums=function(e){var r,t=[];for(r=1;r<e;r++){var n=this.getXat(r-1,0),a=this.getXat(r,0);a!==n&&n!==void 0&&n!==null&&a!==void 0&&a!==null?t[r-1]=Math.abs(a-n):t[r-1]=0}var o=0;for(r=1;r<e;r++)o+=t[r-1];for(r=1;r<e;r++)t[r-1]===0?t[r-1]=1:t[r-1]=Math.round(o/t[r-1]);return t};mi.calcYnums=function(e){var r,t=[];for(r=1;r<e;r++){var n=this.getYat(0,r-1),a=this.getYat(0,r);a!==n&&n!==void 0&&n!==null&&a!==void 0&&a!==null?t[r-1]=Math.abs(a-n):t[r-1]=0}var o=0;for(r=1;r<e;r++)o+=t[r-1];for(r=1;r<e;r++)t[r-1]===0?t[r-1]=1:t[r-1]=Math.round(o/t[r-1]);return t};var yN=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],pN=yN[9],hd=yN[13];mi.estimateScale=function(e,r){for(var t=r===0?this.calcXnums(e):this.calcYnums(e),n=1+Mle(t);n<pN;)n*=2;for(;n>hd;)n--,n/=_le(n),n++,n<pN&&(n=hd);var a=Math.round(n/e);return a>1?a:1};function Tle(e,r,t){var n=t[8]+t[2]*r[0]+t[5]*r[1];return e[0]=(t[6]+t[0]*r[0]+t[3]*r[1])/n,e[1]=(t[7]+t[1]*r[0]+t[4]*r[1])/n,e}function Ale(e,r,t){return kle(e,r,Tle,t),e}function kle(e,r,t,n){for(var a=[0,0],o=e.shape[0],i=e.shape[1],l=0;l<o;l++)for(var u=0;u<i;u++)t(a,[l,u],n),e.set(l,u,dle(r,a[0],a[1]));return e}mi.refineCoords=function(e){for(var r=this.dataScaleX,t=this.dataScaleY,n=e[0].shape[0],a=e[0].shape[1],o=Math.floor(e[0].shape[0]*r+1)|0,i=Math.floor(e[0].shape[1]*t+1)|0,l=1+n+1,u=1+a+1,s=Ou(new Float32Array(l*u),[l,u]),f=[1/r,0,0,0,1/t,0,0,0,1],v=0;v<e.length;++v){this.surface.padField(s,e[v]);var p=Ou(new Float32Array(o*i),[o,i]);Ale(p,s,f),e[v]=p}};function Sle(e,r){for(var t=!1,n=0;n<e.length;n++)if(r===e[n]){t=!0;break}t===!1&&e.push(r)}mi.setContourLevels=function(){var e=[[],[],[]],r=[!1,!1,!1],t=!1,n,a,o;for(n=0;n<3;++n)if(this.showContour[n]&&(t=!0,this.contourSize[n]>0&&this.contourStart[n]!==null&&this.contourEnd[n]!==null&&this.contourEnd[n]>this.contourStart[n]))for(r[n]=!0,a=this.contourStart[n];a<this.contourEnd[n];a+=this.contourSize[n])o=a*this.scene.dataScale[n],Sle(e[n],o);if(t){var i=[[],[],[]];for(n=0;n<3;++n)this.showContour[n]&&(i[n]=r[n]?e[n]:this.scene.contourLevels[n]);this.surface.update({levels:i})}};mi.update=function(e){var r=this.scene,t=r.fullSceneLayout,n=this.surface,a=yle(e),o=r.dataScale,i=e.z[0].length,l=e._ylength,u=r.contourLevels;this.data=e;var s,f,v,p,b=[];for(s=0;s<3;s++)for(b[s]=[],f=0;f<i;f++)b[s][f]=[];for(f=0;f<i;f++)for(v=0;v<l;v++)b[0][f][v]=this.getXat(f,v,e.xcalendar,t.xaxis),b[1][f][v]=this.getYat(f,v,e.ycalendar,t.yaxis),b[2][f][v]=this.getZat(f,v,e.zcalendar,t.zaxis);if(e.connectgaps)for(e._emptypoints=gle(b[2]),ple(b[2],e._emptypoints),e._interpolatedZ=[],f=0;f<i;f++)for(e._interpolatedZ[f]=[],v=0;v<l;v++)e._interpolatedZ[f][v]=b[2][f][v];for(s=0;s<3;s++)for(f=0;f<i;f++)for(v=0;v<l;v++)p=b[s][f][v],p==null?b[s][f][v]=NaN:p=b[s][f][v]*=o[s];for(s=0;s<3;s++)for(f=0;f<i;f++)for(v=0;v<l;v++)p=b[s][f][v],p!=null&&(this.minValues[s]>p&&(this.minValues[s]=p),this.maxValues[s]<p&&(this.maxValues[s]=p));for(s=0;s<3;s++)this.objectOffset[s]=.5*(this.minValues[s]+this.maxValues[s]);for(s=0;s<3;s++)for(f=0;f<i;f++)for(v=0;v<l;v++)p=b[s][f][v],p!=null&&(b[s][f][v]-=this.objectOffset[s]);var y=[Ou(new Float32Array(i*l),[i,l]),Ou(new Float32Array(i*l),[i,l]),Ou(new Float32Array(i*l),[i,l])];for(s=0;s<3;s++)for(f=0;f<i;f++)for(v=0;v<l;v++)y[s].set(f,v,b[s][f][v]);b=[];var w={colormap:a,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!e.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:e.opacityscale,opacity:e.opacity},M=mle(e);if(w.intensityBounds=[M.min,M.max],e.surfacecolor){var m=Ou(new Float32Array(i*l),[i,l]);for(f=0;f<i;f++)for(v=0;v<l;v++)m.set(f,v,e.surfacecolor[v][f]);y.push(m)}else w.intensityBounds[0]*=o[2],w.intensityBounds[1]*=o[2];(hd<y[0].shape[0]||hd<y[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(y[0].shape[0],0),this.dataScaleY=this.estimateScale(y[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(y)),e.surfacecolor&&(w.intensity=y.pop());var k=[!0,!0,!0],S=["x","y","z"];for(s=0;s<3;++s){var x=e.contours[S[s]];k[s]=x.highlight,w.showContour[s]=x.show||x.highlight,w.showContour[s]&&(w.contourProject[s]=[x.project.x,x.project.y,x.project.z],x.show?(this.showContour[s]=!0,w.levels[s]=u[s],n.highlightColor[s]=w.contourColor[s]=dN(x.color),x.usecolormap?n.highlightTint[s]=w.contourTint[s]=0:n.highlightTint[s]=w.contourTint[s]=1,w.contourWidth[s]=x.width,this.contourStart[s]=x.start,this.contourEnd[s]=x.end,this.contourSize[s]=x.size):(this.showContour[s]=!1,this.contourStart[s]=null,this.contourEnd[s]=null,this.contourSize[s]=0),x.highlight&&(w.dynamicColor[s]=dN(x.highlightcolor),w.dynamicWidth[s]=x.highlightwidth))}xle(a)&&(w.vertexColor=!0),w.objectOffset=this.objectOffset,w.coords=y,n.update(w),n.visible=e.visible,n.enableDynamic=k,n.enableHighlight=k,n.snapToData=!0,"lighting"in e&&(n.ambientLight=e.lighting.ambient,n.diffuseLight=e.lighting.diffuse,n.specularLight=e.lighting.specular,n.roughness=e.lighting.roughness,n.fresnel=e.lighting.fresnel),"lightposition"in e&&(n.lightPosition=[e.lightposition.x,e.lightposition.y,e.lightposition.z])};mi.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function Cle(e,r){var t=e.glplot.gl,n=hle({gl:t}),a=new gN(e,n,r.uid);return n._trace=a,a.update(r),e.glplot.add(n),a}mN.exports=Cle});var _N=pe((rpe,bN)=>{"use strict";bN.exports={attributes:q0(),supplyDefaults:X3().supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:lN(),plot:xN(),moduleType:"trace",name:"surface",basePlotModule:il(),categories:["gl3d","2dMap","showLegend"],meta:{}}});var MN=pe((tpe,wN)=>{"use strict";wN.exports=_N()});var Uu=pe((npe,AN)=>{"use strict";var Ele=ja(),J3=ro().axisHoverFormat,Lle=Sa().hovertemplateAttrs,ol=q0(),TN=Sn(),ll=Mt().extendFlat;AN.exports=ll({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:Lle({editType:"calc"}),xhoverformat:J3("x"),yhoverformat:J3("y"),zhoverformat:J3("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"}},Ele("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:ol.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:ll({},ol.contours.x.show,{}),color:ol.contours.x.color,width:ol.contours.x.width,editType:"calc"},lightposition:{x:ll({},ol.lightposition.x,{dflt:1e5}),y:ll({},ol.lightposition.y,{dflt:1e5}),z:ll({},ol.lightposition.z,{dflt:0}),editType:"calc"},lighting:ll({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},ol.lighting),hoverinfo:ll({},TN.hoverinfo,{editType:"calc"}),showlegend:ll({},TN.showlegend,{dflt:!1})})});var pd=pe((ape,SN)=>{"use strict";var Rle=ja(),dd=ro().axisHoverFormat,Dle=Sa().hovertemplateAttrs,B0=Uu(),kN=Sn(),K3=Mt().extendFlat,Ple=zn().overrideAll;function Q3(e){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function $3(e){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var Hu=SN.exports=Ple(K3({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:Q3("x"),y:Q3("y"),z:Q3("z")},caps:{x:$3("x"),y:$3("y"),z:$3("z")},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:Dle(),xhoverformat:dd("x"),yhoverformat:dd("y"),zhoverformat:dd("z"),valuehoverformat:dd("value",1),showlegend:K3({},kN.showlegend,{dflt:!1})},Rle("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:B0.opacity,lightposition:B0.lightposition,lighting:B0.lighting,flatshading:B0.flatshading,contour:B0.contour,hoverinfo:K3({},kN.hoverinfo)}),"calc","nested");Hu.flatshading.dflt=!0;Hu.lighting.facenormalsepsilon.dflt=0;Hu.x.editType=Hu.y.editType=Hu.z.editType=Hu.value.editType="calc+clearAxisTypes"});var j3=pe((ipe,EN)=>{"use strict";var Fle=ir(),Ile=Er(),Nle=pd(),zle=Ei();function qle(e,r,t,n){function a(o,i){return Fle.coerce(e,r,Nle,o,i)}CN(e,r,t,n,a)}function CN(e,r,t,n,a){var o=a("isomin"),i=a("isomax");i!=null&&o!==void 0&&o!==null&&o>i&&(r.isomin=null,r.isomax=null);var l=a("x"),u=a("y"),s=a("z"),f=a("value");if(!l||!l.length||!u||!u.length||!s||!s.length||!f||!f.length){r.visible=!1;return}var v=Ile.getComponentMethod("calendars","handleTraceDefaults");v(e,r,["x","y","z"],n),a("valuehoverformat"),["x","y","z"].forEach(function(w){a(w+"hoverformat");var M="caps."+w,m=a(M+".show");m&&a(M+".fill");var k="slices."+w,S=a(k+".show");S&&(a(k+".fill"),a(k+".locations"))});var p=a("spaceframe.show");p&&a("spaceframe.fill");var b=a("surface.show");b&&(a("surface.count"),a("surface.fill"),a("surface.pattern"));var y=a("contour.show");y&&(a("contour.color"),a("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(w){a(w)}),zle(e,r,n,a,{prefix:"",cLetter:"c"}),r._length=null}EN.exports={supplyDefaults:qle,supplyIsoDefaults:CN}});var gd=pe((ope,RN)=>{"use strict";var r5=ir(),Ole=zo();function Ble(e,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=Hi(r.u,r._len),r._v=Hi(r.v,r._len),r._w=Hi(r.w,r._len),r._x=Hi(r.x,r._len),r._y=Hi(r.y,r._len),r._z=Hi(r.z,r._len);var t=LN(r);r._gridFill=t.fill,r._Xs=t.Xs,r._Ys=t.Ys,r._Zs=t.Zs,r._len=t.len;var n=0,a,o,i;r.starts&&(a=Hi(r.starts.x||[]),o=Hi(r.starts.y||[]),i=Hi(r.starts.z||[]),n=Math.min(a.length,o.length,i.length)),r._startsX=a||[],r._startsY=o||[],r._startsZ=i||[];var l=0,u=1/0,s;for(s=0;s<r._len;s++){var f=r._u[s],v=r._v[s],p=r._w[s],b=Math.sqrt(f*f+v*v+p*p);l=Math.max(l,b),u=Math.min(u,b)}for(Ole(e,r,{vals:[u,l],containerStr:"",cLetter:"c"}),s=0;s<n;s++){var y=a[s];t.xMax=Math.max(t.xMax,y),t.xMin=Math.min(t.xMin,y);var w=o[s];t.yMax=Math.max(t.yMax,w),t.yMin=Math.min(t.yMin,w);var M=i[s];t.zMax=Math.max(t.zMax,M),t.zMin=Math.min(t.zMin,M)}r._slen=n,r._normMax=l,r._xbnds=[t.xMin,t.xMax],r._ybnds=[t.yMin,t.yMax],r._zbnds=[t.zMin,t.zMax]}function LN(e){var r=e._x,t=e._y,n=e._z,a=e._len,o,i,l,u=-1/0,s=1/0,f=-1/0,v=1/0,p=-1/0,b=1/0,y="",w,M,m,k,S,x,T,d,_;for(a&&(k=r[0],x=t[0],d=n[0]),a>1&&(S=r[a-1],T=t[a-1],_=n[a-1]),o=0;o<a;o++)u=Math.max(u,r[o]),s=Math.min(s,r[o]),f=Math.max(f,t[o]),v=Math.min(v,t[o]),p=Math.max(p,n[o]),b=Math.min(b,n[o]),!w&&r[o]!==k&&(w=!0,y+="x"),!M&&t[o]!==x&&(M=!0,y+="y"),!m&&n[o]!==d&&(m=!0,y+="z");w||(y+="x"),M||(y+="y"),m||(y+="z");var g=e5(e._x),c=e5(e._y),A=e5(e._z);y=y.replace("x",(k>S?"-":"+")+"x"),y=y.replace("y",(x>T?"-":"+")+"y"),y=y.replace("z",(d>_?"-":"+")+"z");var h=function(){a=0,g=[],c=[],A=[]};(!a||a<g.length*c.length*A.length)&&h();var R=function(oe){return oe==="x"?r:oe==="y"?t:n},E=function(oe){return oe==="x"?g:oe==="y"?c:A},D=function(oe){return oe[a-1]<oe[0]?-1:1},N=R(y[1]),I=R(y[3]),F=R(y[5]),L=E(y[1]).length,P=E(y[3]).length,O=E(y[5]).length,U=!1,X=function(oe,ee,G){return L*(P*oe+ee)+G},j=D(R(y[1])),$=D(R(y[3])),Y=D(R(y[5]));for(o=0;o<O-1;o++){for(i=0;i<P-1;i++){for(l=0;l<L-1;l++){var q=X(o,i,l),Z=X(o,i,l+1),ne=X(o,i+1,l),Q=X(o+1,i,l);if((!(N[q]*j<N[Z]*j)||!(I[q]*$<I[ne]*$)||!(F[q]*Y<F[Q]*Y))&&(U=!0),U)break}if(U)break}if(U)break}return U&&(r5.warn("Encountered arbitrary coordinates! Unable to input data grid."),h()),{xMin:s,yMin:v,zMin:b,xMax:u,yMax:f,zMax:p,Xs:g,Ys:c,Zs:A,len:a,fill:y}}function e5(e){return r5.distinctVals(e).vals}function Hi(e,r){if(r===void 0&&(r=e.length),r5.isTypedArray(e))return e.subarray(0,r);for(var t=[],n=0;n<r;n++)t[n]=+e[n];return t}RN.exports={calc:Ble,filter:Hi,processGrid:LN}});var t5=pe((lpe,DN)=>{"use strict";var Ule=zo(),Hle=gd().processGrid,yd=gd().filter;DN.exports=function(r,t){t._len=Math.min(t.x.length,t.y.length,t.z.length,t.value.length),t._x=yd(t.x,t._len),t._y=yd(t.y,t._len),t._z=yd(t.z,t._len),t._value=yd(t.value,t._len);var n=Hle(t);t._gridFill=n.fill,t._Xs=n.Xs,t._Ys=n.Ys,t._Zs=n.Zs,t._len=n.len;for(var a=1/0,o=-1/0,i=0;i<t._len;i++){var l=t._value[i];a=Math.min(a,l),o=Math.max(o,l)}t._minValues=a,t._maxValues=o,t._vMin=t.isomin===void 0||t.isomin===null?a:t.isomin,t._vMax=t.isomax===void 0||t.isomax===null?o:t.isomax,Ule(r,t,{vals:[t._vMin,t._vMax],containerStr:"",cLetter:"c"})}});var Vu=pe((spe,PN)=>{"use strict";PN.exports=function(r,t,n,a){a=a||r.length;for(var o=new Array(a),i=0;i<a;i++)o[i]=[r[i],t[i],n[i]];return o}});var md=pe((upe,zN)=>{"use strict";var Vle=pn().gl_mesh3d,Gle=al().parseColorScale,Yle=ir().isArrayOrTypedArray,Wle=po(),Xle=Li().extractOpts,FN=Vu(),U0=function(e,r){for(var t=r.length-1;t>0;t--){var n=Math.min(r[t],r[t-1]),a=Math.max(r[t],r[t-1]);if(a>n&&n<e&&e<=a)return{id:t,distRatio:(a-e)/(a-n)}}return{id:0,distRatio:0}};function IN(e,r,t){this.scene=e,this.uid=t,this.mesh=r,this.name="",this.data=null,this.showContour=!1}var n5=IN.prototype;n5.handlePick=function(e){if(e.object===this.mesh){var r=e.data.index,t=this.data._meshX[r],n=this.data._meshY[r],a=this.data._meshZ[r],o=this.data._Ys.length,i=this.data._Zs.length,l=U0(t,this.data._Xs).id,u=U0(n,this.data._Ys).id,s=U0(a,this.data._Zs).id,f=e.index=s+i*u+i*o*l;e.traceCoordinate=[this.data._meshX[f],this.data._meshY[f],this.data._meshZ[f],this.data._value[f]];var v=this.data.hovertext||this.data.text;return Yle(v)&&v[f]!==void 0?e.textLabel=v[f]:v&&(e.textLabel=v),!0}};n5.update=function(e){var r=this.scene,t=r.fullSceneLayout;this.data=NN(e);function n(u,s,f,v){return s.map(function(p){return u.d2l(p,0,v)*f})}var a=FN(n(t.xaxis,e._meshX,r.dataScale[0],e.xcalendar),n(t.yaxis,e._meshY,r.dataScale[1],e.ycalendar),n(t.zaxis,e._meshZ,r.dataScale[2],e.zcalendar)),o=FN(e._meshI,e._meshJ,e._meshK),i={positions:a,cells:o,lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,contourEnable:e.contour.show,contourColor:Wle(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading},l=Xle(e);i.vertexIntensity=e._meshIntensity,i.vertexIntensityBounds=[l.min,l.max],i.colormap=Gle(e),this.mesh.update(i)};n5.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var Zle=["xyz","xzy","yxz","yzx","zxy","zyx"];function NN(e){e._meshI=[],e._meshJ=[],e._meshK=[];var r=e.surface.show,t=e.spaceframe.show,n=e.surface.fill,a=e.spaceframe.fill,o=!1,i=!1,l=0,u,s,f=e._Xs,v=e._Ys,p=e._Zs,b=f.length,y=v.length,w=p.length,M=Zle.indexOf(e._gridFill.replace(/-/g,"").replace(/\+/g,"")),m=function(ce,ye,Le){switch(M){case 5:return Le+w*ye+w*y*ce;case 4:return Le+w*ce+w*b*ye;case 3:return ye+y*Le+y*w*ce;case 2:return ye+y*ce+y*b*Le;case 1:return ce+b*Le+b*w*ye;default:return ce+b*ye+b*y*Le}},k=e._minValues,S=e._maxValues,x=e._vMin,T=e._vMax,d,_,g,c;function A(ce,ye,Le){for(var me=c.length,he=s;he<me;he++)if(ce===d[he]&&ye===_[he]&&Le===g[he])return he;return-1}function h(){s=u}function R(){d=[],_=[],g=[],c=[],u=0,h()}function E(ce,ye,Le,me){return d.push(ce),_.push(ye),g.push(Le),c.push(me),u++,u-1}function D(ce,ye,Le){return e._meshI.push(ce),e._meshJ.push(ye),e._meshK.push(Le),l++,l-1}function N(ce,ye,Le){for(var me=[],he=0;he<ce.length;he++)me[he]=(ce[he]+ye[he]+Le[he])/3;return me}function I(ce,ye,Le){for(var me=[],he=0;he<ce.length;he++)me[he]=ce[he]*(1-Le)+Le*ye[he];return me}var F;function L(ce){F=ce}function P(ce,ye){var Le=ce[0],me=ce[1],he=ce[2],be=N(Le,me,he),Se=Math.sqrt(1-F),ze=I(be,Le,Se),Fe=I(be,me,Se),Ze=I(be,he,Se),Ye=ye[0],Ge=ye[1],We=ye[2];return{xyzv:[[Le,me,Fe],[Fe,ze,Le],[me,he,Ze],[Ze,Fe,me],[he,Le,ze],[ze,Ze,he]],abc:[[Ye,Ge,-1],[-1,-1,Ye],[Ge,We,-1],[-1,-1,Ge],[We,Ye,-1],[-1,-1,We]]}}function O(ce,ye){return ce==="all"||ce===null?!0:ce.indexOf(ye)>-1}function U(ce,ye){return ce===null?ye:ce}function X(ce,ye,Le){h();var me=[ye],he=[Le];if(F>=1)me=[ye],he=[Le];else if(F>0){var be=P(ye,Le);me=be.xyzv,he=be.abc}for(var Se=0;Se<me.length;Se++){ye=me[Se],Le=he[Se];for(var ze=[],Fe=0;Fe<3;Fe++){var Ze=ye[Fe][0],Ye=ye[Fe][1],Ge=ye[Fe][2],We=ye[Fe][3],we=Le[Fe]>-1?Le[Fe]:A(Ze,Ye,Ge);we>-1?ze[Fe]=we:ze[Fe]=E(Ze,Ye,Ge,U(ce,We))}D(ze[0],ze[1],ze[2])}}function j(ce,ye,Le){var me=function(he,be,Se){X(ce,[ye[he],ye[be],ye[Se]],[Le[he],Le[be],Le[Se]])};me(0,1,2),me(2,3,0)}function $(ce,ye,Le){var me=function(he,be,Se){X(ce,[ye[he],ye[be],ye[Se]],[Le[he],Le[be],Le[Se]])};me(0,1,2),me(3,0,1),me(2,3,0),me(1,2,3)}function Y(ce,ye,Le,me){var he=ce[3];he<Le&&(he=Le),he>me&&(he=me);for(var be=(ce[3]-he)/(ce[3]-ye[3]+1e-9),Se=[],ze=0;ze<4;ze++)Se[ze]=(1-be)*ce[ze]+be*ye[ze];return Se}function q(ce,ye,Le){return ce>=ye&&ce<=Le}function Z(ce){var ye=.001*(T-x);return ce>=x-ye&&ce<=T+ye}function ne(ce){for(var ye=[],Le=0;Le<4;Le++){var me=ce[Le];ye.push([e._x[me],e._y[me],e._z[me],e._value[me]])}return ye}var Q=3;function oe(ce,ye,Le,me,he,be){be||(be=1),Le=[-1,-1,-1];var Se=!1,ze=[q(ye[0][3],me,he),q(ye[1][3],me,he),q(ye[2][3],me,he)];if(!ze[0]&&!ze[1]&&!ze[2])return!1;var Fe=function(Ye,Ge,We){return Z(Ge[0][3])&&Z(Ge[1][3])&&Z(Ge[2][3])?(X(Ye,Ge,We),!0):be<Q?oe(Ye,Ge,We,x,T,++be):!1};if(ze[0]&&ze[1]&&ze[2])return Fe(ce,ye,Le)||Se;var Ze=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(Ye){if(ze[Ye[0]]&&ze[Ye[1]]&&!ze[Ye[2]]){var Ge=ye[Ye[0]],We=ye[Ye[1]],we=ye[Ye[2]],Pe=Y(we,Ge,me,he),Qe=Y(we,We,me,he);Se=Fe(ce,[Qe,Pe,Ge],[-1,-1,Le[Ye[0]]])||Se,Se=Fe(ce,[Ge,We,Qe],[Le[Ye[0]],Le[Ye[1]],-1])||Se,Ze=!0}}),Ze||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(Ye){if(ze[Ye[0]]&&!ze[Ye[1]]&&!ze[Ye[2]]){var Ge=ye[Ye[0]],We=ye[Ye[1]],we=ye[Ye[2]],Pe=Y(We,Ge,me,he),Qe=Y(we,Ge,me,he);Se=Fe(ce,[Qe,Pe,Ge],[-1,-1,Le[Ye[0]]])||Se,Ze=!0}}),Se}function ee(ce,ye,Le,me){var he=!1,be=ne(ye),Se=[q(be[0][3],Le,me),q(be[1][3],Le,me),q(be[2][3],Le,me),q(be[3][3],Le,me)];if(!Se[0]&&!Se[1]&&!Se[2]&&!Se[3])return he;if(Se[0]&&Se[1]&&Se[2]&&Se[3])return i&&(he=$(ce,be,ye)||he),he;var ze=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Fe){if(Se[Fe[0]]&&Se[Fe[1]]&&Se[Fe[2]]&&!Se[Fe[3]]){var Ze=be[Fe[0]],Ye=be[Fe[1]],Ge=be[Fe[2]],We=be[Fe[3]];if(i)he=X(ce,[Ze,Ye,Ge],[ye[Fe[0]],ye[Fe[1]],ye[Fe[2]]])||he;else{var we=Y(We,Ze,Le,me),Pe=Y(We,Ye,Le,me),Qe=Y(We,Ge,Le,me);he=X(null,[we,Pe,Qe],[-1,-1,-1])||he}ze=!0}}),ze||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Fe){if(Se[Fe[0]]&&Se[Fe[1]]&&!Se[Fe[2]]&&!Se[Fe[3]]){var Ze=be[Fe[0]],Ye=be[Fe[1]],Ge=be[Fe[2]],We=be[Fe[3]],we=Y(Ge,Ze,Le,me),Pe=Y(Ge,Ye,Le,me),Qe=Y(We,Ye,Le,me),Ve=Y(We,Ze,Le,me);i?(he=X(ce,[Ze,Ve,we],[ye[Fe[0]],-1,-1])||he,he=X(ce,[Ye,Pe,Qe],[ye[Fe[1]],-1,-1])||he):he=j(null,[we,Pe,Qe,Ve],[-1,-1,-1,-1])||he,ze=!0}}),ze)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Fe){if(Se[Fe[0]]&&!Se[Fe[1]]&&!Se[Fe[2]]&&!Se[Fe[3]]){var Ze=be[Fe[0]],Ye=be[Fe[1]],Ge=be[Fe[2]],We=be[Fe[3]],we=Y(Ye,Ze,Le,me),Pe=Y(Ge,Ze,Le,me),Qe=Y(We,Ze,Le,me);i?(he=X(ce,[Ze,we,Pe],[ye[Fe[0]],-1,-1])||he,he=X(ce,[Ze,Pe,Qe],[ye[Fe[0]],-1,-1])||he,he=X(ce,[Ze,Qe,we],[ye[Fe[0]],-1,-1])||he):he=X(null,[we,Pe,Qe],[-1,-1,-1])||he,ze=!0}}),he}function G(ce,ye,Le,me,he,be,Se,ze,Fe,Ze,Ye){var Ge=!1;return o&&(O(ce,"A")&&(Ge=ee(null,[ye,Le,me,be],Ze,Ye)||Ge),O(ce,"B")&&(Ge=ee(null,[Le,me,he,Fe],Ze,Ye)||Ge),O(ce,"C")&&(Ge=ee(null,[Le,be,Se,Fe],Ze,Ye)||Ge),O(ce,"D")&&(Ge=ee(null,[me,be,ze,Fe],Ze,Ye)||Ge),O(ce,"E")&&(Ge=ee(null,[Le,me,be,Fe],Ze,Ye)||Ge)),i&&(Ge=ee(ce,[Le,me,be,Fe],Ze,Ye)||Ge),Ge}function re(ce,ye,Le,me,he,be,Se,ze){return[ze[0]===!0?!0:oe(ce,ne([ye,Le,me]),[ye,Le,me],be,Se),ze[1]===!0?!0:oe(ce,ne([me,he,ye]),[me,he,ye],be,Se)]}function H(ce,ye,Le,me,he,be,Se,ze,Fe){return ze?re(ce,ye,Le,he,me,be,Se,Fe):re(ce,Le,he,me,ye,be,Se,Fe)}function te(ce,ye,Le,me,he,be,Se){var ze=!1,Fe,Ze,Ye,Ge,We=function(){ze=oe(ce,[Fe,Ze,Ye],[-1,-1,-1],he,be)||ze,ze=oe(ce,[Ye,Ge,Fe],[-1,-1,-1],he,be)||ze},we=Se[0],Pe=Se[1],Qe=Se[2];return we&&(Fe=I(ne([m(ye,Le-0,me-0)])[0],ne([m(ye-1,Le-0,me-0)])[0],we),Ze=I(ne([m(ye,Le-0,me-1)])[0],ne([m(ye-1,Le-0,me-1)])[0],we),Ye=I(ne([m(ye,Le-1,me-1)])[0],ne([m(ye-1,Le-1,me-1)])[0],we),Ge=I(ne([m(ye,Le-1,me-0)])[0],ne([m(ye-1,Le-1,me-0)])[0],we),We()),Pe&&(Fe=I(ne([m(ye-0,Le,me-0)])[0],ne([m(ye-0,Le-1,me-0)])[0],Pe),Ze=I(ne([m(ye-0,Le,me-1)])[0],ne([m(ye-0,Le-1,me-1)])[0],Pe),Ye=I(ne([m(ye-1,Le,me-1)])[0],ne([m(ye-1,Le-1,me-1)])[0],Pe),Ge=I(ne([m(ye-1,Le,me-0)])[0],ne([m(ye-1,Le-1,me-0)])[0],Pe),We()),Qe&&(Fe=I(ne([m(ye-0,Le-0,me)])[0],ne([m(ye-0,Le-0,me-1)])[0],Qe),Ze=I(ne([m(ye-0,Le-1,me)])[0],ne([m(ye-0,Le-1,me-1)])[0],Qe),Ye=I(ne([m(ye-1,Le-1,me)])[0],ne([m(ye-1,Le-1,me-1)])[0],Qe),Ge=I(ne([m(ye-1,Le-0,me)])[0],ne([m(ye-1,Le-0,me-1)])[0],Qe),We()),ze}function ue(ce,ye,Le,me,he,be,Se,ze,Fe,Ze,Ye,Ge){var We=ce;return Ge?(o&&ce==="even"&&(We=null),G(We,ye,Le,me,he,be,Se,ze,Fe,Ze,Ye)):(o&&ce==="odd"&&(We=null),G(We,Fe,ze,Se,be,he,me,Le,ye,Ze,Ye))}function de(ce,ye,Le,me,he){for(var be=[],Se=0,ze=0;ze<ye.length;ze++)for(var Fe=ye[ze],Ze=1;Ze<w;Ze++)for(var Ye=1;Ye<y;Ye++)be.push(H(ce,m(Fe,Ye-1,Ze-1),m(Fe,Ye-1,Ze),m(Fe,Ye,Ze-1),m(Fe,Ye,Ze),Le,me,(Fe+Ye+Ze)%2,he&&he[Se]?he[Se]:[])),Se++;return be}function Ee(ce,ye,Le,me,he){for(var be=[],Se=0,ze=0;ze<ye.length;ze++)for(var Fe=ye[ze],Ze=1;Ze<b;Ze++)for(var Ye=1;Ye<w;Ye++)be.push(H(ce,m(Ze-1,Fe,Ye-1),m(Ze,Fe,Ye-1),m(Ze-1,Fe,Ye),m(Ze,Fe,Ye),Le,me,(Ze+Fe+Ye)%2,he&&he[Se]?he[Se]:[])),Se++;return be}function Me(ce,ye,Le,me,he){for(var be=[],Se=0,ze=0;ze<ye.length;ze++)for(var Fe=ye[ze],Ze=1;Ze<y;Ze++)for(var Ye=1;Ye<b;Ye++)be.push(H(ce,m(Ye-1,Ze-1,Fe),m(Ye-1,Ze,Fe),m(Ye,Ze-1,Fe),m(Ye,Ze,Fe),Le,me,(Ye+Ze+Fe)%2,he&&he[Se]?he[Se]:[])),Se++;return be}function ve(ce,ye,Le){for(var me=1;me<w;me++)for(var he=1;he<y;he++)for(var be=1;be<b;be++)ue(ce,m(be-1,he-1,me-1),m(be-1,he-1,me),m(be-1,he,me-1),m(be-1,he,me),m(be,he-1,me-1),m(be,he-1,me),m(be,he,me-1),m(be,he,me),ye,Le,(be+he+me)%2)}function Ae(ce,ye,Le){i=!0,ve(ce,ye,Le),i=!1}function ke(ce,ye,Le){o=!0,ve(ce,ye,Le),o=!1}function De(ce,ye,Le,me,he,be){for(var Se=[],ze=0,Fe=0;Fe<ye.length;Fe++)for(var Ze=ye[Fe],Ye=1;Ye<w;Ye++)for(var Ge=1;Ge<y;Ge++)Se.push(te(ce,Ze,Ge,Ye,Le,me,he[Fe],be&&be[ze]?be[ze]:[])),ze++;return Se}function Ce(ce,ye,Le,me,he,be){for(var Se=[],ze=0,Fe=0;Fe<ye.length;Fe++)for(var Ze=ye[Fe],Ye=1;Ye<b;Ye++)for(var Ge=1;Ge<w;Ge++)Se.push(te(ce,Ye,Ze,Ge,Le,me,he[Fe],be&&be[ze]?be[ze]:[])),ze++;return Se}function Oe(ce,ye,Le,me,he,be){for(var Se=[],ze=0,Fe=0;Fe<ye.length;Fe++)for(var Ze=ye[Fe],Ye=1;Ye<y;Ye++)for(var Ge=1;Ge<b;Ge++)Se.push(te(ce,Ge,Ye,Ze,Le,me,he[Fe],be&&be[ze]?be[ze]:[])),ze++;return Se}function Ue(ce,ye){for(var Le=[],me=ce;me<ye;me++)Le.push(me);return Le}function ge(){for(var ce=0;ce<b;ce++)for(var ye=0;ye<y;ye++)for(var Le=0;Le<w;Le++){var me=m(ce,ye,Le);E(e._x[me],e._y[me],e._z[me],e._value[me])}}function Te(){R(),ge();var ce=null;if(t&&a&&(L(a),Ae(ce,x,T)),r&&n){L(n);for(var ye=e.surface.pattern,Le=e.surface.count,me=0;me<Le;me++){var he=Le===1?.5:me/(Le-1),be=(1-he)*x+he*T,Se=Math.abs(be-k),ze=Math.abs(be-S),Fe=Se>ze?[k,be]:[be,S];ke(ye,Fe[0],Fe[1])}}var Ze=[[Math.min(x,S),Math.max(x,S)],[Math.min(k,T),Math.max(k,T)]];["x","y","z"].forEach(function(Ye){for(var Ge=[],We=0;We<Ze.length;We++){var we=0,Pe=Ze[We][0],Qe=Ze[We][1],Ve=e.slices[Ye];if(Ve.show&&Ve.fill){L(Ve.fill);var ar=[],se=[],K=[];if(Ve.locations.length)for(var ae=0;ae<Ve.locations.length;ae++){var Re=U0(Ve.locations[ae],Ye==="x"?f:Ye==="y"?v:p);Re.distRatio===0?ar.push(Re.id):Re.id>0&&(se.push(Re.id),Ye==="x"?K.push([Re.distRatio,0,0]):Ye==="y"?K.push([0,Re.distRatio,0]):K.push([0,0,Re.distRatio]))}else Ye==="x"?ar=Ue(1,b-1):Ye==="y"?ar=Ue(1,y-1):ar=Ue(1,w-1);se.length>0&&(Ye==="x"?Ge[we]=De(ce,se,Pe,Qe,K,Ge[we]):Ye==="y"?Ge[we]=Ce(ce,se,Pe,Qe,K,Ge[we]):Ge[we]=Oe(ce,se,Pe,Qe,K,Ge[we]),we++),ar.length>0&&(Ye==="x"?Ge[we]=de(ce,ar,Pe,Qe,Ge[we]):Ye==="y"?Ge[we]=Ee(ce,ar,Pe,Qe,Ge[we]):Ge[we]=Me(ce,ar,Pe,Qe,Ge[we]),we++)}var Be=e.caps[Ye];Be.show&&Be.fill&&(L(Be.fill),Ye==="x"?Ge[we]=de(ce,[0,b-1],Pe,Qe,Ge[we]):Ye==="y"?Ge[we]=Ee(ce,[0,y-1],Pe,Qe,Ge[we]):Ge[we]=Me(ce,[0,w-1],Pe,Qe,Ge[we]),we++)}}),l===0&&R(),e._meshX=d,e._meshY=_,e._meshZ=g,e._meshIntensity=c,e._Xs=f,e._Ys=v,e._Zs=p}return Te(),e}function Jle(e,r){var t=e.glplot.gl,n=Vle({gl:t}),a=new IN(e,n,r.uid);return n._trace=a,a.update(r),e.glplot.add(n),a}zN.exports={findNearestOnAxis:U0,generateIsoMeshes:NN,createIsosurfaceTrace:Jle}});var ON=pe((fpe,qN)=>{"use strict";qN.exports={attributes:pd(),supplyDefaults:j3().supplyDefaults,calc:t5(),colorbar:{min:"cmin",max:"cmax"},plot:md().createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:il(),categories:["gl3d","showLegend"],meta:{}}});var UN=pe((cpe,BN)=>{"use strict";BN.exports=ON()});var i5=pe((vpe,VN)=>{"use strict";var Kle=ja(),Kt=pd(),Qle=q0(),HN=Sn(),a5=Mt().extendFlat,$le=zn().overrideAll,xd=VN.exports=$le(a5({x:Kt.x,y:Kt.y,z:Kt.z,value:Kt.value,isomin:Kt.isomin,isomax:Kt.isomax,surface:Kt.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:Kt.slices,caps:Kt.caps,text:Kt.text,hovertext:Kt.hovertext,xhoverformat:Kt.xhoverformat,yhoverformat:Kt.yhoverformat,zhoverformat:Kt.zhoverformat,valuehoverformat:Kt.valuehoverformat,hovertemplate:Kt.hovertemplate},Kle("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:Kt.colorbar,opacity:Kt.opacity,opacityscale:Qle.opacityscale,lightposition:Kt.lightposition,lighting:Kt.lighting,flatshading:Kt.flatshading,contour:Kt.contour,hoverinfo:a5({},HN.hoverinfo),showlegend:a5({},HN.showlegend,{dflt:!1})}),"calc","nested");xd.x.editType=xd.y.editType=xd.z.editType=xd.value.editType="calc+clearAxisTypes"});var YN=pe((hpe,GN)=>{"use strict";var jle=ir(),ese=i5(),rse=j3().supplyIsoDefaults,tse=X3().opacityscaleDefaults;GN.exports=function(r,t,n,a){function o(i,l){return jle.coerce(r,t,ese,i,l)}rse(r,t,n,a,o),tse(r,t,a,o)}});var JN=pe((dpe,ZN)=>{"use strict";var nse=pn().gl_mesh3d,ase=al().parseColorScale,ise=ir().isArrayOrTypedArray,ose=po(),lse=Li().extractOpts,WN=Vu(),o5=md().findNearestOnAxis,sse=md().generateIsoMeshes;function XN(e,r,t){this.scene=e,this.uid=t,this.mesh=r,this.name="",this.data=null,this.showContour=!1}var l5=XN.prototype;l5.handlePick=function(e){if(e.object===this.mesh){var r=e.data.index,t=this.data._meshX[r],n=this.data._meshY[r],a=this.data._meshZ[r],o=this.data._Ys.length,i=this.data._Zs.length,l=o5(t,this.data._Xs).id,u=o5(n,this.data._Ys).id,s=o5(a,this.data._Zs).id,f=e.index=s+i*u+i*o*l;e.traceCoordinate=[this.data._meshX[f],this.data._meshY[f],this.data._meshZ[f],this.data._value[f]];var v=this.data.hovertext||this.data.text;return ise(v)&&v[f]!==void 0?e.textLabel=v[f]:v&&(e.textLabel=v),!0}};l5.update=function(e){var r=this.scene,t=r.fullSceneLayout;this.data=sse(e);function n(u,s,f,v){return s.map(function(p){return u.d2l(p,0,v)*f})}var a=WN(n(t.xaxis,e._meshX,r.dataScale[0],e.xcalendar),n(t.yaxis,e._meshY,r.dataScale[1],e.ycalendar),n(t.zaxis,e._meshZ,r.dataScale[2],e.zcalendar)),o=WN(e._meshI,e._meshJ,e._meshK),i={positions:a,cells:o,lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,opacityscale:e.opacityscale,contourEnable:e.contour.show,contourColor:ose(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading},l=lse(e);i.vertexIntensity=e._meshIntensity,i.vertexIntensityBounds=[l.min,l.max],i.colormap=ase(e),this.mesh.update(i)};l5.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function use(e,r){var t=e.glplot.gl,n=nse({gl:t}),a=new XN(e,n,r.uid);return n._trace=a,a.update(r),e.glplot.add(n),a}ZN.exports=use});var QN=pe((ppe,KN)=>{"use strict";KN.exports={attributes:i5(),supplyDefaults:YN(),calc:t5(),colorbar:{min:"cmin",max:"cmax"},plot:JN(),moduleType:"trace",name:"volume",basePlotModule:il(),categories:["gl3d","showLegend"],meta:{}}});var jN=pe((gpe,$N)=>{"use strict";$N.exports=QN()});var tz=pe((ype,rz)=>{"use strict";var fse=Er(),ez=ir(),cse=Ei(),vse=Uu();rz.exports=function(r,t,n,a){function o(f,v){return ez.coerce(r,t,vse,f,v)}function i(f){var v=f.map(function(p){var b=o(p);return b&&ez.isArrayOrTypedArray(b)?b:null});return v.every(function(p){return p&&p.length===v[0].length})&&v}var l=i(["x","y","z"]);if(!l){t.visible=!1;return}if(i(["i","j","k"]),t.i&&(!t.j||!t.k)||t.j&&(!t.k||!t.i)||t.k&&(!t.i||!t.j)){t.visible=!1;return}var u=fse.getComponentMethod("calendars","handleTraceDefaults");u(r,t,["x","y","z"],a),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(f){o(f)});var s=o("contour.show");s&&(o("contour.color"),o("contour.width")),"intensity"in r?(o("intensity"),o("intensitymode"),cse(r,t,a,o,{prefix:"",cLetter:"c"})):(t.showscale=!1,"facecolor"in r?o("facecolor"):"vertexcolor"in r?o("vertexcolor"):o("color",n)),o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),t._length=null}});var az=pe((mpe,nz)=>{"use strict";var hse=zo();nz.exports=function(r,t){t.intensity&&hse(r,t,{vals:t.intensity,containerStr:"",cLetter:"c"})}});var uz=pe((xpe,sz)=>{"use strict";var dse=pn().gl_mesh3d,pse=pn().delaunay_triangulate,gse=pn().alpha_shape,yse=pn().convex_hull,mse=al().parseColorScale,xse=ir().isArrayOrTypedArray,c5=po(),bse=Li().extractOpts,iz=Vu();function lz(e,r,t){this.scene=e,this.uid=t,this.mesh=r,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var v5=lz.prototype;v5.handlePick=function(e){if(e.object===this.mesh){var r=e.index=e.data.index;e.data._cellCenter?e.traceCoordinate=e.data.dataCoordinate:e.traceCoordinate=[this.data.x[r],this.data.y[r],this.data.z[r]];var t=this.data.hovertext||this.data.text;return xse(t)&&t[r]!==void 0?e.textLabel=t[r]:t&&(e.textLabel=t),!0}};function oz(e){for(var r=[],t=e.length,n=0;n<t;n++)r[n]=c5(e[n]);return r}function s5(e,r,t,n){for(var a=[],o=r.length,i=0;i<o;i++)a[i]=e.d2l(r[i],0,n)*t;return a}function u5(e){for(var r=[],t=e.length,n=0;n<t;n++)r[n]=Math.round(e[n]);return r}function _se(e,r){for(var t=["x","y","z"].indexOf(e),n=[],a=r.length,o=0;o<a;o++)n[o]=[r[o][(t+1)%3],r[o][(t+2)%3]];return pse(n)}function f5(e,r){for(var t=e.length,n=0;n<t;n++)if(e[n]<=-.5||e[n]>=r-.5)return!1;return!0}v5.update=function(e){var r=this.scene,t=r.fullSceneLayout;this.data=e;var n=e.x.length,a=iz(s5(t.xaxis,e.x,r.dataScale[0],e.xcalendar),s5(t.yaxis,e.y,r.dataScale[1],e.ycalendar),s5(t.zaxis,e.z,r.dataScale[2],e.zcalendar)),o;if(e.i&&e.j&&e.k){if(e.i.length!==e.j.length||e.j.length!==e.k.length||!f5(e.i,n)||!f5(e.j,n)||!f5(e.k,n))return;o=iz(u5(e.i),u5(e.j),u5(e.k))}else e.alphahull===0?o=yse(a):e.alphahull>0?o=gse(e.alphahull,a):o=_se(e.delaunayaxis,a);var i={positions:a,cells:o,lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,contourEnable:e.contour.show,contourColor:c5(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading};if(e.intensity){var l=bse(e);this.color="#fff";var u=e.intensitymode;i[u+"Intensity"]=e.intensity,i[u+"IntensityBounds"]=[l.min,l.max],i.colormap=mse(e)}else e.vertexcolor?(this.color=e.vertexcolor[0],i.vertexColors=oz(e.vertexcolor)):e.facecolor?(this.color=e.facecolor[0],i.cellColors=oz(e.facecolor)):(this.color=e.color,i.meshColor=c5(e.color));this.mesh.update(i)};v5.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function wse(e,r){var t=e.glplot.gl,n=dse({gl:t}),a=new lz(e,n,r.uid);return n._trace=a,a.update(r),e.glplot.add(n),a}sz.exports=wse});var cz=pe((bpe,fz)=>{"use strict";fz.exports={attributes:Uu(),supplyDefaults:tz(),calc:az(),colorbar:{min:"cmin",max:"cmax"},plot:uz(),moduleType:"trace",name:"mesh3d",basePlotModule:il(),categories:["gl3d","showLegend"],meta:{}}});var hz=pe((_pe,vz)=>{"use strict";vz.exports=cz()});var d5=pe((wpe,pz)=>{"use strict";var Mse=ja(),Gu=ro().axisHoverFormat,Tse=Sa().hovertemplateAttrs,Ase=Uu(),dz=Sn(),h5=Mt().extendFlat,bd={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute","raw"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:Tse({editType:"calc"},{keys:["norm"]}),uhoverformat:Gu("u",1),vhoverformat:Gu("v",1),whoverformat:Gu("w",1),xhoverformat:Gu("x"),yhoverformat:Gu("y"),zhoverformat:Gu("z"),showlegend:h5({},dz.showlegend,{dflt:!1})};h5(bd,Mse("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var kse=["opacity","lightposition","lighting"];kse.forEach(function(e){bd[e]=Ase[e]});bd.hoverinfo=h5({},dz.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"});pz.exports=bd});var yz=pe((Mpe,gz)=>{"use strict";var Sse=ir(),Cse=Ei(),Ese=d5();gz.exports=function(r,t,n,a){function o(b,y){return Sse.coerce(r,t,Ese,b,y)}var i=o("u"),l=o("v"),u=o("w"),s=o("x"),f=o("y"),v=o("z");if(!i||!i.length||!l||!l.length||!u||!u.length||!s||!s.length||!f||!f.length||!v||!v.length){t.visible=!1;return}var p=o("sizemode");o("sizeref",p==="raw"?1:.5),o("anchor"),o("lighting.ambient"),o("lighting.diffuse"),o("lighting.specular"),o("lighting.roughness"),o("lighting.fresnel"),o("lightposition.x"),o("lightposition.y"),o("lightposition.z"),Cse(r,t,a,o,{prefix:"",cLetter:"c"}),o("text"),o("hovertext"),o("hovertemplate"),o("uhoverformat"),o("vhoverformat"),o("whoverformat"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),t._length=null}});var xz=pe((Tpe,mz)=>{"use strict";var Lse=zo();mz.exports=function(r,t){for(var n=t.u,a=t.v,o=t.w,i=Math.min(t.x.length,t.y.length,t.z.length,n.length,a.length,o.length),l=-1/0,u=1/0,s=0;s<i;s++){var f=n[s],v=a[s],p=o[s],b=Math.sqrt(f*f+v*v+p*p);l=Math.max(l,b),u=Math.min(u,b)}t._len=i,t._normMax=l,Lse(r,t,{vals:[u,l],containerStr:"",cLetter:"c"})}});var Tz=pe((Ape,Mz)=>{"use strict";var Rse=pn().gl_cone3d,Dse=pn().gl_cone3d.createConeMesh,Pse=ir().simpleMap,Fse=al().parseColorScale,Ise=Li().extractOpts,Nse=ir().isArrayOrTypedArray,bz=Vu();function _z(e,r){this.scene=e,this.uid=r,this.mesh=null,this.data=null}var p5=_z.prototype;p5.handlePick=function(e){if(e.object===this.mesh){var r=e.index=e.data.index,t=this.data.x[r],n=this.data.y[r],a=this.data.z[r],o=this.data.u[r],i=this.data.v[r],l=this.data.w[r];e.traceCoordinate=[t,n,a,o,i,l,Math.sqrt(o*o+i*i+l*l)];var u=this.data.hovertext||this.data.text;return Nse(u)&&u[r]!==void 0?e.textLabel=u[r]:u&&(e.textLabel=u),!0}};var zse={xaxis:0,yaxis:1,zaxis:2},qse={tip:1,tail:0,cm:.25,center:.5},Ose={tip:1,tail:1,cm:.75,center:.5};function wz(e,r){var t=e.fullSceneLayout,n=e.dataScale,a={};function o(f,v){var p=t[v],b=n[zse[v]];return Pse(f,function(y){return p.d2l(y)*b})}a.vectors=bz(o(r.u,"xaxis"),o(r.v,"yaxis"),o(r.w,"zaxis"),r._len),a.positions=bz(o(r.x,"xaxis"),o(r.y,"yaxis"),o(r.z,"zaxis"),r._len);var i=Ise(r);a.colormap=Fse(r),a.vertexIntensityBounds=[i.min/r._normMax,i.max/r._normMax],a.coneOffset=qse[r.anchor];var l=r.sizemode;l==="scaled"?a.coneSize=r.sizeref||.5:l==="absolute"?a.coneSize=r.sizeref&&r._normMax?r.sizeref/r._normMax:.5:l==="raw"&&(a.coneSize=r.sizeref),a.coneSizemode=l;var u=Rse(a),s=r.lightposition;return u.lightPosition=[s.x,s.y,s.z],u.ambient=r.lighting.ambient,u.diffuse=r.lighting.diffuse,u.specular=r.lighting.specular,u.roughness=r.lighting.roughness,u.fresnel=r.lighting.fresnel,u.opacity=r.opacity,r._pad=Ose[r.anchor]*u.vectorScale*u.coneScale*r._normMax,u}p5.update=function(e){this.data=e;var r=wz(this.scene,e);this.mesh.update(r)};p5.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function Bse(e,r){var t=e.glplot.gl,n=wz(e,r),a=Dse(t,n),o=new _z(e,r.uid);return o.mesh=a,o.data=r,a._trace=o,e.glplot.add(a),o}Mz.exports=Bse});var kz=pe((kpe,Az)=>{"use strict";Az.exports={moduleType:"trace",name:"cone",basePlotModule:il(),categories:["gl3d","showLegend"],attributes:d5(),supplyDefaults:yz(),colorbar:{min:"cmin",max:"cmax"},calc:xz(),plot:Tz(),eventData:function(e,r){return e.norm=r.traceCoordinate[6],e},meta:{}}});var Cz=pe((Spe,Sz)=>{"use strict";Sz.exports=kz()});var y5=pe((Cpe,Lz)=>{"use strict";var Use=ja(),Yu=ro().axisHoverFormat,Hse=Sa().hovertemplateAttrs,Vse=Uu(),Ez=Sn(),g5=Mt().extendFlat,_d={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:Hse({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:Yu("u",1),vhoverformat:Yu("v",1),whoverformat:Yu("w",1),xhoverformat:Yu("x"),yhoverformat:Yu("y"),zhoverformat:Yu("z"),showlegend:g5({},Ez.showlegend,{dflt:!1})};g5(_d,Use("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var Gse=["opacity","lightposition","lighting"];Gse.forEach(function(e){_d[e]=Vse[e]});_d.hoverinfo=g5({},Ez.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"});Lz.exports=_d});var Dz=pe((Epe,Rz)=>{"use strict";var Yse=ir(),Wse=Ei(),Xse=y5();Rz.exports=function(r,t,n,a){function o(p,b){return Yse.coerce(r,t,Xse,p,b)}var i=o("u"),l=o("v"),u=o("w"),s=o("x"),f=o("y"),v=o("z");if(!i||!i.length||!l||!l.length||!u||!u.length||!s||!s.length||!f||!f.length||!v||!v.length){t.visible=!1;return}o("starts.x"),o("starts.y"),o("starts.z"),o("maxdisplayed"),o("sizeref"),o("lighting.ambient"),o("lighting.diffuse"),o("lighting.specular"),o("lighting.roughness"),o("lighting.fresnel"),o("lightposition.x"),o("lightposition.y"),o("lightposition.z"),Wse(r,t,a,o,{prefix:"",cLetter:"c"}),o("text"),o("hovertext"),o("hovertemplate"),o("uhoverformat"),o("vhoverformat"),o("whoverformat"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),t._length=null}});var Bz=pe((Lpe,Oz)=>{"use strict";var Iz=pn().gl_streamtube3d,Zse=Iz.createTubeMesh,Jse=ir(),Kse=al().parseColorScale,Qse=Li().extractOpts,Pz=Vu(),Nz={xaxis:0,yaxis:1,zaxis:2};function zz(e,r){this.scene=e,this.uid=r,this.mesh=null,this.data=null}var x5=zz.prototype;x5.handlePick=function(e){var r=this.scene.fullSceneLayout,t=this.scene.dataScale;function n(i,l){var u=r[l],s=t[Nz[l]];return u.l2c(i)/s}if(e.object===this.mesh){var a=e.data.position,o=e.data.velocity;return e.traceCoordinate=[n(a[0],"xaxis"),n(a[1],"yaxis"),n(a[2],"zaxis"),n(o[0],"xaxis"),n(o[1],"yaxis"),n(o[2],"zaxis"),e.data.intensity*this.data._normMax,e.data.divergence],e.textLabel=this.data.hovertext||this.data.text,!0}};function Fz(e){var r=e.length,t;return r>2?t=e.slice(1,r-1):r===2?t=[(e[0]+e[1])/2]:t=e,t}function m5(e){var r=e.length;return r===1?[.5,.5]:[e[1]-e[0],e[r-1]-e[r-2]]}function qz(e,r){var t=e.fullSceneLayout,n=e.dataScale,a=r._len,o={};function i(R,E){var D=t[E],N=n[Nz[E]];return Jse.simpleMap(R,function(I){return D.d2l(I)*N})}if(o.vectors=Pz(i(r._u,"xaxis"),i(r._v,"yaxis"),i(r._w,"zaxis"),a),!a)return{positions:[],cells:[]};var l=i(r._Xs,"xaxis"),u=i(r._Ys,"yaxis"),s=i(r._Zs,"zaxis");o.meshgrid=[l,u,s],o.gridFill=r._gridFill;var f=r._slen;if(f)o.startingPositions=Pz(i(r._startsX,"xaxis"),i(r._startsY,"yaxis"),i(r._startsZ,"zaxis"));else{for(var v=u[0],p=Fz(l),b=Fz(s),y=new Array(p.length*b.length),w=0,M=0;M<p.length;M++)for(var m=0;m<b.length;m++)y[w++]=[p[M],v,b[m]];o.startingPositions=y}o.colormap=Kse(r),o.tubeSize=r.sizeref,o.maxLength=r.maxdisplayed;var k=i(r._xbnds,"xaxis"),S=i(r._ybnds,"yaxis"),x=i(r._zbnds,"zaxis"),T=m5(l),d=m5(u),_=m5(s),g=[[k[0]-T[0],S[0]-d[0],x[0]-_[0]],[k[1]+T[1],S[1]+d[1],x[1]+_[1]]],c=Iz(o,g),A=Qse(r);c.vertexIntensityBounds=[A.min/r._normMax,A.max/r._normMax];var h=r.lightposition;return c.lightPosition=[h.x,h.y,h.z],c.ambient=r.lighting.ambient,c.diffuse=r.lighting.diffuse,c.specular=r.lighting.specular,c.roughness=r.lighting.roughness,c.fresnel=r.lighting.fresnel,c.opacity=r.opacity,r._pad=c.tubeScale*r.sizeref*2,c}x5.update=function(e){this.data=e;var r=qz(this.scene,e);this.mesh.update(r)};x5.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function $se(e,r){var t=e.glplot.gl,n=qz(e,r),a=Zse(t,n),o=new zz(e,r.uid);return o.mesh=a,o.data=r,a._trace=o,e.glplot.add(a),o}Oz.exports=$se});var Hz=pe((Rpe,Uz)=>{"use strict";Uz.exports={moduleType:"trace",name:"streamtube",basePlotModule:il(),categories:["gl3d","showLegend"],attributes:y5(),supplyDefaults:Dz(),colorbar:{min:"cmin",max:"cmax"},calc:gd().calc,plot:Bz(),eventData:function(e,r){return e.tubex=e.x,e.tubey=e.y,e.tubez=e.z,e.tubeu=r.traceCoordinate[3],e.tubev=r.traceCoordinate[4],e.tubew=r.traceCoordinate[5],e.norm=r.traceCoordinate[6],e.divergence=r.traceCoordinate[7],delete e.x,delete e.y,delete e.z,e},meta:{}}});var Gz=pe((Dpe,Vz)=>{"use strict";Vz.exports=Hz()});var Dn=pe((Ppe,Wz)=>{"use strict";var Yz=Object.getOwnPropertySymbols,jse=Object.prototype.hasOwnProperty,eue=Object.prototype.propertyIsEnumerable;function rue(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function tue(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var r={},t=0;t<10;t++)r["_"+String.fromCharCode(t)]=t;var n=Object.getOwnPropertyNames(r).map(function(o){return r[o]});if(n.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(o){a[o]=o}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch(o){return!1}}Wz.exports=tue()?Object.assign:function(e,r){for(var t,n=rue(e),a,o=1;o<arguments.length;o++){t=Object(arguments[o]);for(var i in t)jse.call(t,i)&&(n[i]=t[i]);if(Yz){a=Yz(t);for(var l=0;l<a.length;l++)eue.call(t,a[l])&&(n[a[l]]=t[a[l]])}}return n}});var Pn=pe((Fpe,Zz)=>{var Md=Dn();function Xz(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}Md(Xz.prototype,{instance:function(e,r){e=(e||"gregorian").toLowerCase(),r=r||"";var t=this._localCals[e+"-"+r];if(!t&&this.calendars[e]&&(t=new this.calendars[e](r),this._localCals[e+"-"+r]=t),!t)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,e);return t},newDate:function(e,r,t,n,a){return n=(e!=null&&e.year?e.calendar():typeof n=="string"?this.instance(n,a):n)||this.instance(),n.newDate(e,r,t)},substituteDigits:function(e){return function(r){return(r+"").replace(/[0-9]/g,function(t){return e[t]})}},substituteChineseDigits:function(e,r){return function(t){for(var n="",a=0;t>0;){var o=t%10;n=(o===0?"":e[o]+r[a])+n,a++,t=Math.floor(t/10)}return n.indexOf(e[1]+r[1])===0&&(n=n.substr(1)),n||e[0]}}});function b5(e,r,t,n){if(this._calendar=e,this._year=r,this._month=t,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(Wr.local.invalidDate||Wr.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function wd(e,r){return e=""+e,"000000".substring(0,r-e.length)+e}Md(b5.prototype,{newDate:function(e,r,t){return this._calendar.newDate(e==null?this:e,r,t)},year:function(e){return arguments.length===0?this._year:this.set(e,"y")},month:function(e){return arguments.length===0?this._month:this.set(e,"m")},day:function(e){return arguments.length===0?this._day:this.set(e,"d")},date:function(e,r,t){if(!this._calendar.isValid(e,r,t))throw(Wr.local.invalidDate||Wr.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=e,this._month=r,this._day=t,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(e,r){return this._calendar.add(this,e,r)},set:function(e,r){return this._calendar.set(this,e,r)},compareTo:function(e){if(this._calendar.name!==e._calendar.name)throw(Wr.local.differentCalendars||Wr.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,e._calendar.local.name);var r=this._year!==e._year?this._year-e._year:this._month!==e._month?this.monthOfYear()-e.monthOfYear():this._day-e._day;return r===0?0:r<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(e){return this._calendar.fromJD(e)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(e){return this._calendar.fromJSDate(e)},toString:function(){return(this.year()<0?"-":"")+wd(Math.abs(this.year()),4)+"-"+wd(this.month(),2)+"-"+wd(this.day(),2)}});function _5(){this.shortYearCutoff="+10"}Md(_5.prototype,{_validateLevel:0,newDate:function(e,r,t){return e==null?this.today():(e.year&&(this._validate(e,r,t,Wr.local.invalidDate||Wr.regionalOptions[""].invalidDate),t=e.day(),r=e.month(),e=e.year()),new b5(this,e,r,t))},today:function(){return this.fromJSDate(new Date)},epoch:function(e){var r=this._validate(e,this.minMonth,this.minDay,Wr.local.invalidYear||Wr.regionalOptions[""].invalidYear);return r.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Wr.local.invalidYear||Wr.regionalOptions[""].invalidYear);return(r.year()<0?"-":"")+wd(Math.abs(r.year()),4)},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Wr.local.invalidYear||Wr.regionalOptions[""].invalidYear),12},monthOfYear:function(e,r){var t=this._validate(e,r,this.minDay,Wr.local.invalidMonth||Wr.regionalOptions[""].invalidMonth);return(t.month()+this.monthsInYear(t)-this.firstMonth)%this.monthsInYear(t)+this.minMonth},fromMonthOfYear:function(e,r){var t=(r+this.firstMonth-2*this.minMonth)%this.monthsInYear(e)+this.minMonth;return this._validate(e,t,this.minDay,Wr.local.invalidMonth||Wr.regionalOptions[""].invalidMonth),t},daysInYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Wr.local.invalidYear||Wr.regionalOptions[""].invalidYear);return this.leapYear(r)?366:365},dayOfYear:function(e,r,t){var n=this._validate(e,r,t,Wr.local.invalidDate||Wr.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(e,r,t){var n=this._validate(e,r,t,Wr.local.invalidDate||Wr.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(e,r,t){return this._validate(e,r,t,Wr.local.invalidDate||Wr.regionalOptions[""].invalidDate),{}},add:function(e,r,t){return this._validate(e,this.minMonth,this.minDay,Wr.local.invalidDate||Wr.regionalOptions[""].invalidDate),this._correctAdd(e,this._add(e,r,t),r,t)},_add:function(e,r,t){if(this._validateLevel++,t==="d"||t==="w"){var n=e.toJD()+r*(t==="w"?this.daysInWeek():1),a=e.calendar().fromJD(n);return this._validateLevel--,[a.year(),a.month(),a.day()]}try{var o=e.year()+(t==="y"?r:0),i=e.monthOfYear()+(t==="m"?r:0),a=e.day(),l=function(f){for(;i<f.minMonth;)o--,i+=f.monthsInYear(o);for(var v=f.monthsInYear(o);i>v-1+f.minMonth;)o++,i-=v,v=f.monthsInYear(o)};t==="y"?(e.month()!==this.fromMonthOfYear(o,i)&&(i=this.newDate(o,e.month(),this.minDay).monthOfYear()),i=Math.min(i,this.monthsInYear(o)),a=Math.min(a,this.daysInMonth(o,this.fromMonthOfYear(o,i)))):t==="m"&&(l(this),a=Math.min(a,this.daysInMonth(o,this.fromMonthOfYear(o,i))));var u=[o,this.fromMonthOfYear(o,i),a];return this._validateLevel--,u}catch(s){throw this._validateLevel--,s}},_correctAdd:function(e,r,t,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(r[0]===0||e.year()>0!=r[0]>0)){var a={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],o=t<0?-1:1;r=this._add(e,t*a[0]+o*a[1],a[2])}return e.date(r[0],r[1],r[2])},set:function(e,r,t){this._validate(e,this.minMonth,this.minDay,Wr.local.invalidDate||Wr.regionalOptions[""].invalidDate);var n=t==="y"?r:e.year(),a=t==="m"?r:e.month(),o=t==="d"?r:e.day();return(t==="y"||t==="m")&&(o=Math.min(o,this.daysInMonth(n,a))),e.date(n,a,o)},isValid:function(e,r,t){this._validateLevel++;var n=this.hasYearZero||e!==0;if(n){var a=this.newDate(e,r,this.minDay);n=r>=this.minMonth&&r-this.minMonth<this.monthsInYear(a)&&t>=this.minDay&&t-this.minDay<this.daysInMonth(a)}return this._validateLevel--,n},toJSDate:function(e,r,t){var n=this._validate(e,r,t,Wr.local.invalidDate||Wr.regionalOptions[""].invalidDate);return Wr.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(e){return this.fromJD(Wr.instance().fromJSDate(e).toJD())},_validate:function(e,r,t,n){if(e.year){if(this._validateLevel===0&&this.name!==e.calendar().name)throw(Wr.local.differentCalendars||Wr.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,e.calendar().local.name);return e}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(e,r,t))throw n.replace(/\{0\}/,this.local.name);var a=this.newDate(e,r,t);return this._validateLevel--,a}catch(o){throw this._validateLevel--,o}}});function w5(e){this.local=this.regionalOptions[e]||this.regionalOptions[""]}w5.prototype=new _5;Md(w5.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,Wr.local.invalidYear||Wr.regionalOptions[""].invalidYear),t=r.year()+(r.year()<0?1:0);return t%4===0&&(t%100!==0||t%400===0)},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,Wr.local.invalidMonth||Wr.regionalOptions[""].invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,r,t,Wr.local.invalidDate||Wr.regionalOptions[""].invalidDate);e=n.year(),r=n.month(),t=n.day(),e<0&&e++,r<3&&(r+=12,e--);var a=Math.floor(e/100),o=2-a+Math.floor(a/4);return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(r+1))+t+o-1524.5},fromJD:function(e){var r=Math.floor(e+.5),t=Math.floor((r-186721625e-2)/36524.25);t=r+1+t-Math.floor(t/4);var n=t+1524,a=Math.floor((n-122.1)/365.25),o=Math.floor(365.25*a),i=Math.floor((n-o)/30.6001),l=n-o-Math.floor(i*30.6001),u=i-(i>13.5?13:1),s=a-(u>2.5?4716:4715);return s<=0&&s--,this.newDate(s,u,l)},toJSDate:function(e,r,t){var n=this._validate(e,r,t,Wr.local.invalidDate||Wr.regionalOptions[""].invalidDate),a=new Date(n.year(),n.month()-1,n.day());return a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.setHours(a.getHours()>12?a.getHours()+2:0),a},fromJSDate:function(e){return this.newDate(e.getFullYear(),e.getMonth()+1,e.getDate())}});var Wr=Zz.exports=new Xz;Wr.cdate=b5;Wr.baseCalendar=_5;Wr.calendars.gregorian=w5});var Jz=pe(()=>{var M5=Dn(),gn=Pn();M5(gn.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"});gn.local=gn.regionalOptions[""];M5(gn.cdate.prototype,{formatDate:function(e,r){return typeof e!="string"&&(r=e,e=""),this._calendar.formatDate(e||"",this,r)}});M5(gn.baseCalendar.prototype,{UNIX_EPOCH:gn.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:24*60*60,TICKS_EPOCH:gn.instance().jdEpoch,TICKS_PER_DAY:24*60*60*1e7,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(e,r,t){if(typeof e!="string"&&(t=r,r=e,e=""),!r)return"";if(r.calendar()!==this)throw gn.local.invalidFormat||gn.regionalOptions[""].invalidFormat;e=e||this.local.dateFormat,t=t||{};for(var n=t.dayNamesShort||this.local.dayNamesShort,a=t.dayNames||this.local.dayNames,o=t.monthNumbers||this.local.monthNumbers,i=t.monthNamesShort||this.local.monthNamesShort,l=t.monthNames||this.local.monthNames,u=t.calculateWeek||this.local.calculateWeek,s=function(x,T){for(var d=1;S+d<e.length&&e.charAt(S+d)===x;)d++;return S+=d-1,Math.floor(d/(T||1))>1},f=function(x,T,d,_){var g=""+T;if(s(x,_))for(;g.length<d;)g="0"+g;return g},v=function(x,T,d,_){return s(x)?_[T]:d[T]},p=this,b=function(x){return typeof o=="function"?o.call(p,x,s("m")):M(f("m",x.month(),2))},y=function(x,T){return T?typeof l=="function"?l.call(p,x):l[x.month()-p.minMonth]:typeof i=="function"?i.call(p,x):i[x.month()-p.minMonth]},w=this.local.digits,M=function(x){return t.localNumbers&&w?w(x):x},m="",k=!1,S=0;S<e.length;S++)if(k)e.charAt(S)==="'"&&!s("'")?k=!1:m+=e.charAt(S);else switch(e.charAt(S)){case"d":m+=M(f("d",r.day(),2));break;case"D":m+=v("D",r.dayOfWeek(),n,a);break;case"o":m+=f("o",r.dayOfYear(),3);break;case"w":m+=f("w",r.weekOfYear(),2);break;case"m":m+=b(r);break;case"M":m+=y(r,s("M"));break;case"y":m+=s("y",2)?r.year():(r.year()%100<10?"0":"")+r.year()%100;break;case"Y":s("Y",2),m+=r.formatYear();break;case"J":m+=r.toJD();break;case"@":m+=(r.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":m+=(r.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":s("'")?m+="'":k=!0;break;default:m+=e.charAt(S)}return m},parseDate:function(e,r,t){if(r==null)throw gn.local.invalidArguments||gn.regionalOptions[""].invalidArguments;if(r=typeof r=="object"?r.toString():r+"",r==="")return null;e=e||this.local.dateFormat,t=t||{};var n=t.shortYearCutoff||this.shortYearCutoff;n=typeof n!="string"?n:this.today().year()%100+parseInt(n,10);for(var a=t.dayNamesShort||this.local.dayNamesShort,o=t.dayNames||this.local.dayNames,i=t.parseMonth||this.local.parseMonth,l=t.monthNumbers||this.local.monthNumbers,u=t.monthNamesShort||this.local.monthNamesShort,s=t.monthNames||this.local.monthNames,f=-1,v=-1,p=-1,b=-1,y=-1,w=!1,M=!1,m=function(R,E){for(var D=1;c+D<e.length&&e.charAt(c+D)===R;)D++;return c+=D-1,Math.floor(D/(E||1))>1},k=function(R,E){var D=m(R,E),N=[2,3,D?4:2,D?4:2,10,11,20]["oyYJ@!".indexOf(R)+1],I=new RegExp("^-?\\d{1,"+N+"}"),F=r.substring(g).match(I);if(!F)throw(gn.local.missingNumberAt||gn.regionalOptions[""].missingNumberAt).replace(/\{0\}/,g);return g+=F[0].length,parseInt(F[0],10)},S=this,x=function(){if(typeof l=="function"){m("m");var R=l.call(S,r.substring(g));return g+=R.length,R}return k("m")},T=function(R,E,D,N){for(var I=m(R,N)?D:E,F=0;F<I.length;F++)if(r.substr(g,I[F].length).toLowerCase()===I[F].toLowerCase())return g+=I[F].length,F+S.minMonth;throw(gn.local.unknownNameAt||gn.regionalOptions[""].unknownNameAt).replace(/\{0\}/,g)},d=function(){if(typeof s=="function"){var R=m("M")?s.call(S,r.substring(g)):u.call(S,r.substring(g));return g+=R.length,R}return T("M",u,s)},_=function(){if(r.charAt(g)!==e.charAt(c))throw(gn.local.unexpectedLiteralAt||gn.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,g);g++},g=0,c=0;c<e.length;c++)if(M)e.charAt(c)==="'"&&!m("'")?M=!1:_();else switch(e.charAt(c)){case"d":b=k("d");break;case"D":T("D",a,o);break;case"o":y=k("o");break;case"w":k("w");break;case"m":p=x();break;case"M":p=d();break;case"y":var A=c;w=!m("y",2),c=A,v=k("y",2);break;case"Y":v=k("Y",2);break;case"J":f=k("J")+.5,r.charAt(g)==="."&&(g++,k("J"));break;case"@":f=k("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":f=k("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":g=r.length;break;case"'":m("'")?_():M=!0;break;default:_()}if(g<r.length)throw gn.local.unexpectedText||gn.regionalOptions[""].unexpectedText;if(v===-1?v=this.today().year():v<100&&w&&(v+=n===-1?1900:this.today().year()-this.today().year()%100-(v<=n?0:100)),typeof p=="string"&&(p=i.call(this,v,p)),y>-1){p=1,b=y;for(var h=this.daysInMonth(v,p);b>h;h=this.daysInMonth(v,p))p++,b-=h}return f>-1?this.fromJD(f):this.newDate(v,p,b)},determineDate:function(e,r,t,n,a){t&&typeof t!="object"&&(a=n,n=t,t=null),typeof n!="string"&&(a=n,n="");var o=this,i=function(l){try{return o.parseDate(n,l,a)}catch(v){}l=l.toLowerCase();for(var u=(l.match(/^c/)&&t?t.newDate():null)||o.today(),s=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,f=s.exec(l);f;)u.add(parseInt(f[1],10),f[2]||"d"),f=s.exec(l);return u};return r=r?r.newDate():null,e=e==null?r:typeof e=="string"?i(e):typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?r:o.today().add(e,"d"):o.newDate(e),e}})});var Kz=pe(()=>{var sl=Pn(),nue=Dn(),T5=sl.instance();function Td(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}Td.prototype=new sl.baseCalendar;nue(Td.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(e,r){if(typeof e=="string"){var t=e.match(iue);return t?t[0]:""}var n=this._validateYear(e),a=e.month(),o=""+this.toChineseMonth(n,a);return r&&o.length<2&&(o="0"+o),this.isIntercalaryMonth(n,a)&&(o+="i"),o},monthNames:function(e){if(typeof e=="string"){var r=e.match(oue);return r?r[0]:""}var t=this._validateYear(e),n=e.month(),a=this.toChineseMonth(t,n),o=["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"][a-1];return this.isIntercalaryMonth(t,n)&&(o="\u95F0"+o),o},monthNamesShort:function(e){if(typeof e=="string"){var r=e.match(lue);return r?r[0]:""}var t=this._validateYear(e),n=e.month(),a=this.toChineseMonth(t,n),o=["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"][a-1];return this.isIntercalaryMonth(t,n)&&(o="\u95F0"+o),o},parseMonth:function(e,r){e=this._validateYear(e);var t=parseInt(r),n;if(isNaN(t))r[0]==="\u95F0"&&(n=!0,r=r.substring(1)),r[r.length-1]==="\u6708"&&(r=r.substring(0,r.length-1)),t=1+["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"].indexOf(r);else{var a=r[r.length-1];n=a==="i"||a==="I"}var o=this.toMonthIndex(e,t,n);return o},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(e,r){if(e.year&&(e=e.year()),typeof e!="number"||e<1888||e>2111)throw r.replace(/\{0\}/,this.local.name);return e},toMonthIndex:function(e,r,t){var n=this.intercalaryMonth(e),a=t&&r!==n;if(a||r<1||r>12)throw sl.local.invalidMonth.replace(/\{0\}/,this.local.name);var o;return n?!t&&r<=n?o=r-1:o=r:o=r-1,o},toChineseMonth:function(e,r){e.year&&(e=e.year(),r=e.month());var t=this.intercalaryMonth(e),n=t?12:11;if(r<0||r>n)throw sl.local.invalidMonth.replace(/\{0\}/,this.local.name);var a;return t?r<t?a=r+1:a=r:a=r+1,a},intercalaryMonth:function(e){e=this._validateYear(e);var r=ul[e-ul[0]],t=r>>13;return t},isIntercalaryMonth:function(e,r){e.year&&(e=e.year(),r=e.month());var t=this.intercalaryMonth(e);return!!t&&t===r},leapYear:function(e){return this.intercalaryMonth(e)!==0},weekOfYear:function(e,r,t){var n=this._validateYear(e,sl.local.invalidyear),a=fl[n-fl[0]],o=a>>9&4095,i=a>>5&15,l=a&31,u;u=T5.newDate(o,i,l),u.add(4-(u.dayOfWeek()||7),"d");var s=this.toJD(e,r,t)-u.toJD();return 1+Math.floor(s/7)},monthsInYear:function(e){return this.leapYear(e)?13:12},daysInMonth:function(e,r){e.year&&(r=e.month(),e=e.year()),e=this._validateYear(e);var t=ul[e-ul[0]],n=t>>13,a=n?12:11;if(r>a)throw sl.local.invalidMonth.replace(/\{0\}/,this.local.name);var o=t&1<<12-r?30:29;return o},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,o,t,sl.local.invalidDate);e=this._validateYear(n.year()),r=n.month(),t=n.day();var a=this.isIntercalaryMonth(e,r),o=this.toChineseMonth(e,r),i=uue(e,o,t,a);return T5.toJD(i.year,i.month,i.day)},fromJD:function(e){var r=T5.fromJD(e),t=sue(r.year(),r.month(),r.day()),n=this.toMonthIndex(t.year,t.month,t.isIntercalary);return this.newDate(t.year,n,t.day)},fromString:function(e){var r=e.match(aue),t=this._validateYear(+r[1]),n=+r[2],a=!!r[3],o=this.toMonthIndex(t,n,a),i=+r[4];return this.newDate(t,o,i)},add:function(e,r,t){var n=e.year(),a=e.month(),o=this.isIntercalaryMonth(n,a),i=this.toChineseMonth(n,a),l=Object.getPrototypeOf(Td.prototype).add.call(this,e,r,t);if(t==="y"){var u=l.year(),s=l.month(),f=this.isIntercalaryMonth(u,i),v=o&&f?this.toMonthIndex(u,i,!0):this.toMonthIndex(u,i,!1);v!==s&&l.month(v)}return l}});var aue=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,iue=/^\d?\d[iI]?/m,oue=/^闰?十?[一二三四五六七八九]?月/m,lue=/^闰?十?[一二三四五六七八九]?/m;sl.calendars.chinese=Td;var ul=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],fl=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function sue(e,r,t,n){var a,o;if(typeof e=="object")a=e,o=r||{};else{var i=typeof e=="number"&&e>=1888&&e<=2111;if(!i)throw new Error("Solar year outside range 1888-2111");var l=typeof r=="number"&&r>=1&&r<=12;if(!l)throw new Error("Solar month outside range 1 - 12");var u=typeof t=="number"&&t>=1&&t<=31;if(!u)throw new Error("Solar day outside range 1 - 31");a={year:e,month:r,day:t},o=n||{}}var s=fl[a.year-fl[0]],f=a.year<<9|a.month<<5|a.day;o.year=f>=s?a.year:a.year-1,s=fl[o.year-fl[0]];var v=s>>9&4095,p=s>>5&15,b=s&31,y,w=new Date(v,p-1,b),M=new Date(a.year,a.month-1,a.day);y=Math.round((M-w)/(24*3600*1e3));var m=ul[o.year-ul[0]],k;for(k=0;k<13;k++){var S=m&1<<12-k?30:29;if(y<S)break;y-=S}var x=m>>13;return!x||k<x?(o.isIntercalary=!1,o.month=1+k):k===x?(o.isIntercalary=!0,o.month=k):(o.isIntercalary=!1,o.month=k),o.day=1+y,o}function uue(e,r,t,n,a){var o,i;if(typeof e=="object")i=e,o=r||{};else{var l=typeof e=="number"&&e>=1888&&e<=2111;if(!l)throw new Error("Lunar year outside range 1888-2111");var u=typeof r=="number"&&r>=1&&r<=12;if(!u)throw new Error("Lunar month outside range 1 - 12");var s=typeof t=="number"&&t>=1&&t<=30;if(!s)throw new Error("Lunar day outside range 1 - 30");var f;typeof n=="object"?(f=!1,o=n):(f=!!n,o=a||{}),i={year:e,month:r,day:t,isIntercalary:f}}var v;v=i.day-1;var p=ul[i.year-ul[0]],b=p>>13,y;b&&(i.month>b||i.isIntercalary)?y=i.month:y=i.month-1;for(var w=0;w<y;w++){var M=p&1<<12-w?30:29;v+=M}var m=fl[i.year-fl[0]],k=m>>9&4095,S=m>>5&15,x=m&31,T=new Date(k,S-1,x+v);return o.year=T.getFullYear(),o.month=1+T.getMonth(),o.day=T.getDate(),o}});var Qz=pe(()=>{var vs=Pn(),fue=Dn();function A5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}A5.prototype=new vs.baseCalendar;fue(A5.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,vs.local.invalidYear),t=r.year()+(r.year()<0?1:0);return t%4===3||t%4===-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,vs.local.invalidYear||vs.regionalOptions[""].invalidYear),13},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,vs.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===13&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,r,t,vs.local.invalidDate);return e=n.year(),e<0&&e++,n.day()+(n.month()-1)*30+(e-1)*365+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var r=Math.floor(e)+.5-this.jdEpoch,t=Math.floor((r-Math.floor((r+366)/1461))/365)+1;t<=0&&t--,r=Math.floor(e)+.5-this.newDate(t,1,1).toJD();var n=Math.floor(r/30)+1,a=r-(n-1)*30+1;return this.newDate(t,n,a)}});vs.calendars.coptic=A5});var $z=pe(()=>{var mo=Pn(),cue=Dn();function k5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}k5.prototype=new mo.baseCalendar;cue(k5.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,mo.local.invalidYear),!1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,mo.local.invalidYear),13},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,mo.local.invalidYear),400},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/8)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,mo.local.invalidMonth);return this.daysPerMonth[t.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(e,r,t){var n=this._validate(e,r,t,mo.local.invalidDate);return(n.day()+1)%8},weekDay:function(e,r,t){var n=this.dayOfWeek(e,r,t);return n>=2&&n<=6},extraInfo:function(e,r,t){var n=this._validate(e,r,t,mo.local.invalidDate);return{century:vue[Math.floor((n.year()-1)/100)+1]||""}},toJD:function(e,r,t){var n=this._validate(e,r,t,mo.local.invalidDate);return e=n.year()+(n.year()<0?1:0),r=n.month(),t=n.day(),t+(r>1?16:0)+(r>2?(r-2)*32:0)+(e-1)*400+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e+.5)-Math.floor(this.jdEpoch)-1;var r=Math.floor(e/400)+1;e-=(r-1)*400,e+=e>15?16:0;var t=Math.floor(e/32)+1,n=e-(t-1)*32+1;return this.newDate(r<=0?r-1:r,t,n)}});var vue={20:"Fruitbat",21:"Anchovy"};mo.calendars.discworld=k5});var jz=pe(()=>{var hs=Pn(),hue=Dn();function S5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}S5.prototype=new hs.baseCalendar;hue(S5.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,hs.local.invalidYear),t=r.year()+(r.year()<0?1:0);return t%4===3||t%4===-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,hs.local.invalidYear||hs.regionalOptions[""].invalidYear),13},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,hs.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===13&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,r,t,hs.local.invalidDate);return e=n.year(),e<0&&e++,n.day()+(n.month()-1)*30+(e-1)*365+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var r=Math.floor(e)+.5-this.jdEpoch,t=Math.floor((r-Math.floor((r+366)/1461))/365)+1;t<=0&&t--,r=Math.floor(e)+.5-this.newDate(t,1,1).toJD();var n=Math.floor(r/30)+1,a=r-(n-1)*30+1;return this.newDate(t,n,a)}});hs.calendars.ethiopian=S5});var eq=pe(()=>{var cl=Pn(),due=Dn();function C5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}C5.prototype=new cl.baseCalendar;due(C5.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,cl.local.invalidYear);return this._leapYear(r.year())},_leapYear:function(e){return e=e<0?e+1:e,Ad(e*7+1,19)<7},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,cl.local.invalidYear),this._leapYear(e.year?e.year():e)?13:12},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,cl.local.invalidYear);return e=r.year(),this.toJD(e===-1?1:e+1,7,1)-this.toJD(e,7,1)},daysInMonth:function(e,r){return e.year&&(r=e.month(),e=e.year()),this._validate(e,r,this.minDay,cl.local.invalidMonth),r===12&&this.leapYear(e)||r===8&&Ad(this.daysInYear(e),10)===5?30:r===9&&Ad(this.daysInYear(e),10)===3?29:this.daysPerMonth[r-1]},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==6},extraInfo:function(e,r,t){var n=this._validate(e,r,t,cl.local.invalidDate);return{yearType:(this.leapYear(n)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(n)%10-3]}},toJD:function(e,r,t){var n=this._validate(e,r,t,cl.local.invalidDate);e=n.year(),r=n.month(),t=n.day();var a=e<=0?e+1:e,o=this.jdEpoch+this._delay1(a)+this._delay2(a)+t+1;if(r<7){for(var i=7;i<=this.monthsInYear(e);i++)o+=this.daysInMonth(e,i);for(var i=1;i<r;i++)o+=this.daysInMonth(e,i)}else for(var i=7;i<r;i++)o+=this.daysInMonth(e,i);return o},_delay1:function(e){var r=Math.floor((235*e-234)/19),t=12084+13753*r,n=r*29+Math.floor(t/25920);return Ad(3*(n+1),7)<3&&n++,n},_delay2:function(e){var r=this._delay1(e-1),t=this._delay1(e),n=this._delay1(e+1);return n-t===356?2:t-r===382?1:0},fromJD:function(e){e=Math.floor(e)+.5;for(var r=Math.floor((e-this.jdEpoch)*98496/35975351)-1;e>=this.toJD(r===-1?1:r+1,7,1);)r++;for(var t=e<this.toJD(r,1,1)?7:1;e>this.toJD(r,t,this.daysInMonth(r,t));)t++;var n=e-this.toJD(r,t,1)+1;return this.newDate(r,t,n)}});function Ad(e,r){return e-r*Math.floor(e/r)}cl.calendars.hebrew=C5});var rq=pe(()=>{var H0=Pn(),pue=Dn();function E5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}E5.prototype=new H0.baseCalendar;pue(E5.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012Bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,H0.local.invalidYear);return(r.year()*11+14)%30<11},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){return this.leapYear(e)?355:354},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,H0.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===12&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==5},toJD:function(e,r,t){var n=this._validate(e,r,t,H0.local.invalidDate);return e=n.year(),r=n.month(),t=n.day(),e=e<=0?e+1:e,t+Math.ceil(29.5*(r-1))+(e-1)*354+Math.floor((3+11*e)/30)+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var r=Math.floor((30*(e-this.jdEpoch)+10646)/10631);r=r<=0?r-1:r;var t=Math.min(12,Math.ceil((e-29-this.toJD(r,1,1))/29.5)+1),n=e-this.toJD(r,t,1)+1;return this.newDate(r,t,n)}});H0.calendars.islamic=E5});var tq=pe(()=>{var V0=Pn(),gue=Dn();function L5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}L5.prototype=new V0.baseCalendar;gue(L5.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,V0.local.invalidYear),t=r.year()<0?r.year()+1:r.year();return t%4===0},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,V0.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,r,t,V0.local.invalidDate);return e=n.year(),r=n.month(),t=n.day(),e<0&&e++,r<=2&&(e--,r+=12),Math.floor(365.25*(e+4716))+Math.floor(30.6001*(r+1))+t-1524.5},fromJD:function(e){var r=Math.floor(e+.5),t=r+1524,n=Math.floor((t-122.1)/365.25),a=Math.floor(365.25*n),o=Math.floor((t-a)/30.6001),i=o-Math.floor(o<14?1:13),l=n-Math.floor(i>2?4716:4715),u=t-a-Math.floor(30.6001*o);return l<=0&&l--,this.newDate(l,i,u)}});V0.calendars.julian=L5});var aq=pe(()=>{var Ya=Pn(),yue=Dn();function D5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}D5.prototype=new Ya.baseCalendar;yue(D5.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,Ya.local.invalidYear),!1},formatYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Ya.local.invalidYear);e=r.year();var t=Math.floor(e/400);e=e%400,e+=e<0?400:0;var n=Math.floor(e/20);return t+"."+n+"."+e%20},forYear:function(e){if(e=e.split("."),e.length<3)throw"Invalid Mayan year";for(var r=0,t=0;t<e.length;t++){var n=parseInt(e[t],10);if(Math.abs(n)>19||t>0&&n<0)throw"Invalid Mayan year";r=r*20+n}return r},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Ya.local.invalidYear),18},weekOfYear:function(e,r,t){return this._validate(e,r,t,Ya.local.invalidDate),0},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Ya.local.invalidYear),360},daysInMonth:function(e,r){return this._validate(e,r,this.minDay,Ya.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(e,r,t){var n=this._validate(e,r,t,Ya.local.invalidDate);return n.day()},weekDay:function(e,r,t){return this._validate(e,r,t,Ya.local.invalidDate),!0},extraInfo:function(e,r,t){var n=this._validate(e,r,t,Ya.local.invalidDate),a=n.toJD(),o=this._toHaab(a),i=this._toTzolkin(a);return{haabMonthName:this.local.haabMonths[o[0]-1],haabMonth:o[0],haabDay:o[1],tzolkinDayName:this.local.tzolkinMonths[i[0]-1],tzolkinDay:i[0],tzolkinTrecena:i[1]}},_toHaab:function(e){e-=this.jdEpoch;var r=R5(e+8+17*20,365);return[Math.floor(r/20)+1,R5(r,20)]},_toTzolkin:function(e){return e-=this.jdEpoch,[nq(e+20,20),nq(e+4,13)]},toJD:function(e,r,t){var n=this._validate(e,r,t,Ya.local.invalidDate);return n.day()+n.month()*20+n.year()*360+this.jdEpoch},fromJD:function(e){e=Math.floor(e)+.5-this.jdEpoch;var r=Math.floor(e/360);e=e%360,e+=e<0?360:0;var t=Math.floor(e/20),n=e%20;return this.newDate(r,t,n)}});function R5(e,r){return e-r*Math.floor(e/r)}function nq(e,r){return R5(e-1,r)+1}Ya.calendars.mayan=D5});var oq=pe(()=>{var ds=Pn(),mue=Dn();function P5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}P5.prototype=new ds.baseCalendar;var iq=ds.instance("gregorian");mue(P5.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,ds.local.invalidYear||ds.regionalOptions[""].invalidYear);return iq.leapYear(r.year()+(r.year()<1?1:0)+1469)},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(1-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,ds.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===12&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(a,r,t){var n=this._validate(a,r,t,ds.local.invalidMonth),a=n.year();a<0&&a++;for(var o=n.day(),i=1;i<n.month();i++)o+=this.daysPerMonth[i-1];return o+iq.toJD(a+1468,3,13)},fromJD:function(e){e=Math.floor(e+.5);for(var r=Math.floor((e-(this.jdEpoch-1))/366);e>=this.toJD(r+1,1,1);)r++;for(var t=e-Math.floor(this.toJD(r,1,1)+.5)+1,n=1;t>this.daysInMonth(r,n);)t-=this.daysInMonth(r,n),n++;return this.newDate(r,n,t)}});ds.calendars.nanakshahi=P5});var lq=pe(()=>{var ps=Pn(),xue=Dn();function F5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}F5.prototype=new ps.baseCalendar;xue(F5.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(e){return this.daysInYear(e)!==this.daysPerYear},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,ps.local.invalidYear);if(e=r.year(),typeof this.NEPALI_CALENDAR_DATA[e]=="undefined")return this.daysPerYear;for(var t=0,n=this.minMonth;n<=12;n++)t+=this.NEPALI_CALENDAR_DATA[e][n];return t},daysInMonth:function(e,r){return e.year&&(r=e.month(),e=e.year()),this._validate(e,r,this.minDay,ps.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[e]=="undefined"?this.daysPerMonth[r-1]:this.NEPALI_CALENDAR_DATA[e][r]},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==6},toJD:function(e,r,t){var n=this._validate(e,r,t,ps.local.invalidDate);e=n.year(),r=n.month(),t=n.day();var a=ps.instance(),o=0,i=r,l=e;this._createMissingCalendarData(e);var u=e-(i>9||i===9&&t>=this.NEPALI_CALENDAR_DATA[l][0]?56:57);for(r!==9&&(o=t,i--);i!==9;)i<=0&&(i=12,l--),o+=this.NEPALI_CALENDAR_DATA[l][i],i--;return r===9?(o+=t-this.NEPALI_CALENDAR_DATA[l][0],o<0&&(o+=a.daysInYear(u))):o+=this.NEPALI_CALENDAR_DATA[l][9]-this.NEPALI_CALENDAR_DATA[l][0],a.newDate(u,1,1).add(o,"d").toJD()},fromJD:function(e){var r=ps.instance(),t=r.fromJD(e),n=t.year(),a=t.dayOfYear(),o=n+56;this._createMissingCalendarData(o);for(var i=9,l=this.NEPALI_CALENDAR_DATA[o][0],u=this.NEPALI_CALENDAR_DATA[o][i]-l+1;a>u;)i++,i>12&&(i=1,o++),u+=this.NEPALI_CALENDAR_DATA[o][i];var s=this.NEPALI_CALENDAR_DATA[o][i]-(u-a);return this.newDate(o,i,s)},_createMissingCalendarData:function(e){var r=this.daysPerMonth.slice(0);r.unshift(17);for(var t=e-1;t<e+2;t++)typeof this.NEPALI_CALENDAR_DATA[t]=="undefined"&&(this.NEPALI_CALENDAR_DATA[t]=r)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}});ps.calendars.nepali=F5});var sq=pe(()=>{var Wu=Pn(),bue=Dn();function kd(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}kd.prototype=new Wu.baseCalendar;bue(kd.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xE6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xE6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Wu.local.invalidYear);return((r.year()-(r.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-((n.dayOfWeek()+1)%7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,Wu.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===12&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==5},toJD:function(e,r,t){var n=this._validate(e,r,t,Wu.local.invalidDate);e=n.year(),r=n.month(),t=n.day();var a=e-(e>=0?474:473),o=474+I5(a,2820);return t+(r<=7?(r-1)*31:(r-1)*30+6)+Math.floor((o*682-110)/2816)+(o-1)*365+Math.floor(a/2820)*1029983+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var r=e-this.toJD(475,1,1),t=Math.floor(r/1029983),n=I5(r,1029983),a=2820;if(n!==1029982){var o=Math.floor(n/366),i=I5(n,366);a=Math.floor((2134*o+2816*i+2815)/1028522)+o+1}var l=a+2820*t+474;l=l<=0?l-1:l;var u=e-this.toJD(l,1,1)+1,s=u<=186?Math.ceil(u/31):Math.ceil((u-6)/30),f=e-this.toJD(l,s,1)+1;return this.newDate(l,s,f)}});function I5(e,r){return e-r*Math.floor(e/r)}Wu.calendars.persian=kd;Wu.calendars.jalali=kd});var uq=pe(()=>{var gs=Pn(),_ue=Dn(),Sd=gs.instance();function N5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}N5.prototype=new gs.baseCalendar;_ue(N5.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,gs.local.invalidYear),t=this._t2gYear(r.year());return Sd.leapYear(t)},weekOfYear:function(a,r,t){var n=this._validate(a,this.minMonth,this.minDay,gs.local.invalidYear),a=this._t2gYear(n.year());return Sd.weekOfYear(a,n.month(),n.day())},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,gs.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(a,r,t){var n=this._validate(a,r,t,gs.local.invalidDate),a=this._t2gYear(n.year());return Sd.toJD(a,n.month(),n.day())},fromJD:function(e){var r=Sd.fromJD(e),t=this._g2tYear(r.year());return this.newDate(t,r.month(),r.day())},_t2gYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)},_g2tYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)}});gs.calendars.taiwan=N5});var fq=pe(()=>{var ys=Pn(),wue=Dn(),Cd=ys.instance();function z5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}z5.prototype=new ys.baseCalendar;wue(z5.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,ys.local.invalidYear),t=this._t2gYear(r.year());return Cd.leapYear(t)},weekOfYear:function(a,r,t){var n=this._validate(a,this.minMonth,this.minDay,ys.local.invalidYear),a=this._t2gYear(n.year());return Cd.weekOfYear(a,n.month(),n.day())},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,ys.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(a,r,t){var n=this._validate(a,r,t,ys.local.invalidDate),a=this._t2gYear(n.year());return Cd.toJD(a,n.month(),n.day())},fromJD:function(e){var r=Cd.fromJD(e),t=this._g2tYear(r.year());return this.newDate(t,r.month(),r.day())},_t2gYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)},_g2tYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)}});ys.calendars.thai=z5});var cq=pe(()=>{var ms=Pn(),Mue=Dn();function q5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}q5.prototype=new ms.baseCalendar;Mue(q5.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012Bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,ms.local.invalidYear);return this.daysInYear(r.year())===355},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){for(var r=0,t=1;t<=12;t++)r+=this.daysInMonth(e,t);return r},daysInMonth:function(e,r){for(var t=this._validate(e,r,this.minDay,ms.local.invalidMonth),n=t.toJD()-24e5+.5,a=0,o=0;o<vl.length;o++){if(vl[o]>n)return vl[a]-vl[a-1];a++}return 30},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==5},toJD:function(e,r,t){var n=this._validate(e,r,t,ms.local.invalidDate),a=12*(n.year()-1)+n.month()-15292,o=n.day()+vl[a-1]-1;return o+24e5-.5},fromJD:function(e){for(var r=e-24e5+.5,t=0,n=0;n<vl.length&&!(vl[n]>r);n++)t++;var a=t+15292,o=Math.floor((a-1)/12),i=o+1,l=a-12*o,u=r-vl[t-1]+1;return this.newDate(i,l,u)},isValid:function(e,r,t){var n=ms.baseCalendar.prototype.isValid.apply(this,arguments);return n&&(e=e.year!=null?e.year:e,n=e>=1276&&e<=1500),n},_validate:function(e,r,t,n){var a=ms.baseCalendar.prototype._validate.apply(this,arguments);if(a.year<1276||a.year>1500)throw n.replace(/\{0\}/,this.local.name);return a}});ms.calendars.ummalqura=q5;var vl=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]});var hq=pe((cge,vq)=>{"use strict";vq.exports=Pn();Jz();Kz();Qz();$z();jz();eq();rq();tq();aq();oq();lq();sq();uq();fq();cq()});var bq=pe((vge,xq)=>{"use strict";var pq=hq(),G0=ir(),gq=nn(),Tue=gq.EPOCHJD,Aue=gq.ONEDAY,U5={valType:"enumerated",values:G0.sortObjectKeys(pq.calendars),editType:"calc",dflt:"gregorian"},yq=function(e,r,t,n){var a={};return a[t]=U5,G0.coerce(e,r,a,t,n)},kue=function(e,r,t,n){for(var a=0;a<t.length;a++)yq(e,r,t[a]+"calendar",n.calendar)},Sue={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},Cue={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},Eue={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},Ed="##",Lue={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:Ed,w:Ed,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function Rue(e,r,t){for(var n=Math.floor((r+.05)/Aue)+Tue,a=mq(t).fromJD(n),o=0,i,l,u,s,f;(o=e.indexOf("%",o))!==-1;)i=e.charAt(o+1),i==="0"||i==="-"||i==="_"?(u=3,l=e.charAt(o+2),i==="_"&&(i="-")):(l=i,i="0",u=2),s=Lue[l],s?(s===Ed?f=Ed:f=a.formatDate(s[i]),e=e.substr(0,o)+f+e.substr(o+u),o+=f.length):o+=u;return e}var dq={};function mq(e){var r=dq[e];return r||(r=dq[e]=pq.instance(e),r)}function Y0(e){return G0.extendFlat({},U5,{description:e})}function H5(e){return"Sets the calendar system to use with `"+e+"` date data."}var B5={xcalendar:Y0(H5("x"))},Vi=G0.extendFlat({},B5,{ycalendar:Y0(H5("y"))}),O5=G0.extendFlat({},Vi,{zcalendar:Y0(H5("z"))}),Xu=Y0(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));xq.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:Vi,bar:Vi,box:Vi,heatmap:Vi,contour:Vi,histogram:Vi,histogram2d:Vi,histogram2dcontour:Vi,scatter3d:O5,surface:O5,mesh3d:O5,scattergl:Vi,ohlc:B5,candlestick:B5},layout:{calendar:Y0(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:Xu},yaxis:{calendar:Xu},scene:{xaxis:{calendar:Xu},yaxis:{calendar:Xu},zaxis:{calendar:Xu}},polar:{radialaxis:{calendar:Xu}}}},layoutAttributes:U5,handleDefaults:yq,handleTraceDefaults:kue,CANONICAL_SUNDAY:Cue,CANONICAL_TICK:Sue,DFLTRANGE:Eue,getCal:mq,worldCalFmt:Rue}});var wq=pe((hge,_q)=>{"use strict";_q.exports=bq()});var Due=pe((dge,Tq)=>{var Mq=wF();Mq.register([$I(),MN(),UN(),jN(),hz(),Cz(),Gz(),wq()]);Tq.exports=Mq});return Due();})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * pad-left <https://github.com/jonschlinkert/pad-left>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT license.
 */
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*! Bundled license information:

native-promise-only/lib/npo.src.js:
  (*! Native Promise Only
      v0.8.1 (c) Kyle Simpson
      MIT License: http://getify.mit-license.org
  *)

polybooljs/index.js:
  (*
   * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
   * @license MIT
   * @preserve Project Home: https://github.com/voidqk/polybooljs
   *)

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)
*/

window.Plotly = Plotly;
return Plotly;
}));